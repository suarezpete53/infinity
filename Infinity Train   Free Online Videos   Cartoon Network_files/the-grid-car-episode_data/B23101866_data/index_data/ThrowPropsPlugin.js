"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){_gsScope._gsDefine("plugins.ThrowPropsPlugin",["plugins.TweenPlugin","TweenLite","easing.Ease","utils.VelocityTracker"],function(o,T,N,S){var m,P,k,b,V=function(e,t){o.call(this,"throwProps"),this._overwriteProps.length=0},l=999999999999999,n=_gsScope._gsDefine.globals,O=!1,w={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1,xPercent:1,yPercent:1},u=function(e,t,o,n,r){var i,s,a,c,u=t.length,p=0,f=l;if("object"==(void 0===e?"undefined":_typeof(e))){for(;-1<--u;){for(a in i=t[u],s=0,e)s+=(c=i[a]-e[a])*c;s<f&&(p=u,f=s)}if((r||l)<l&&r<Math.sqrt(f))return e}else for(;-1<--u;)(s=(i=t[u])-e)<0&&(s=-s),s<f&&n<=i&&i<=o&&(p=u,f=s);return t[p]},R=function(e,t,o,n,r,i){if("auto"===e.end)return e;var s,a,c=e.end;if(o=isNaN(o)?l:o,n=isNaN(n)?-l:n,"object"==(void 0===t?"undefined":_typeof(t))){if(s=t.calculated?t:("function"==typeof c?c(t):u(t,c,o,n,i))||t,!t.calculated){for(a in s)t[a]=s[a];t.calculated=!0}s=s[r]}else s="function"==typeof c?c(t):c instanceof Array?u(t,c,o,n,i):Number(c);return o<s?s=o:s<n&&(s=n),{max:s,min:s,unitFactor:e.unitFactor}},B=function(e,t,o){for(var n in t)void 0===e[n]&&n!==o&&(e[n]=t[n]);return e},j=V.calculateChange=function(e,t,o,n){return null==n&&(n=.05),o*n*e/(t instanceof N?t:t?new N(t):T.defaultEase).getRatio(n)},F=V.calculateDuration=function(e,t,o,n,r){r=r||.05;var i=n instanceof N?n:n?new N(n):T.defaultEase;return Math.abs((t-e)*i.getRatio(r)/o/r)},s=V.calculateTweenDuration=function(e,t,o,n,r,i){if("string"==typeof e&&(e=T.selector(e)),!e)return 0;null==o&&(o=10),null==n&&(n=.2),null==r&&(r=1),e.length&&(e=e[0]||e);var s,a,c,u,p,f,l,d,g,v,y,h,_,m=0,P=9999999999,k=t.throwProps||t,b=t.ease instanceof N?t.ease:t.ease?new N(t.ease):T.defaultEase,w=isNaN(k.checkpoint)?.05:Number(k.checkpoint),x=isNaN(k.resistance)?V.defaultResistance:Number(k.resistance);if(k.linkedProps)for(h=k.linkedProps.split(","),y={},_=0;_<h.length;_++)(a=k[s=h[_]])&&(c=0<(u=void 0!==a.velocity&&"number"==typeof a.velocity?Number(a.velocity)||0:(g=g||S.getByTarget(e))&&g.isTrackingProp(s)?g.getVelocity(s):0)*(p=isNaN(a.resistance)?x:Number(a.resistance))?u/p:u/-p,f="function"==typeof e[s]?e[s.indexOf("set")||"function"!=typeof e["get"+s.substr(3)]?s:"get"+s.substr(3)]():e[s]||0,y[s]=f+j(u,b,c,w));for(s in k)"resistance"!==s&&"checkpoint"!==s&&"preventOvershoot"!==s&&"linkedProps"!==s&&"radius"!==s&&("object"!=(void 0===(a=k[s])?"undefined":_typeof(a))&&((g=g||S.getByTarget(e))&&g.isTrackingProp(s)?a="number"==typeof a?{velocity:a}:{velocity:g.getVelocity(s)}:c=0<(u=Number(a)||0)*x?u/x:u/-x),"object"==(void 0===a?"undefined":_typeof(a))&&(c=0<(u=void 0!==a.velocity&&"number"==typeof a.velocity?Number(a.velocity)||0:(g=g||S.getByTarget(e))&&g.isTrackingProp(s)?g.getVelocity(s):0)*(p=isNaN(a.resistance)?x:Number(a.resistance))?u/p:u/-p,l=(f="function"==typeof e[s]?e[s.indexOf("set")||"function"!=typeof e["get"+s.substr(3)]?s:"get"+s.substr(3)]():e[s]||0)+j(u,b,c,w),void 0!==a.end&&(a=R(a,y&&s in y?y:l,a.max,a.min,s,k.radius),(i||O)&&(k[s]=B(a,k[s],"end"))),void 0!==a.max&&l>Number(a.max)+1e-10?(v=a.unitFactor||V.defaultUnitFactors[s]||1,(d=f>a.max&&a.min!==a.max||-15<u*v&&u*v<45?n+.1*(o-n):F(f,a.max,u,b,w))+r<P&&(P=d+r)):void 0!==a.min&&l<Number(a.min)-1e-10&&(v=a.unitFactor||V.defaultUnitFactors[s]||1,(d=f<a.min&&a.min!==a.max||-45<u*v&&u*v<15?n+.1*(o-n):F(f,a.min,u,b,w))+r<P&&(P=d+r)),m<d&&(m=d)),m<c&&(m=c));return P<m&&(m=P),o<m?o:m<n?n:m},e=V.prototype=new o("throwProps");return(e.constructor=V).version="0.11.0",V.API=2,V._autoCSS=!0,V.defaultResistance=100,V.defaultUnitFactors={time:1e3,totalTime:1e3},V.track=function(e,t,o){return S.track(e,t,o)},V.untrack=function(e,t){S.untrack(e,t)},V.isTracking=function(e,t){return S.isTracking(e,t)},V.getVelocity=function(e,t){var o=S.getByTarget(e);return o?o.getVelocity(t):NaN},V._cssRegister=function(){var e=n.com.greensock.plugins.CSSPlugin;if(e){var t=e._internals,y=t._parseToProxy,h=t._setPluginRatio,_=t.CSSPropTween;t._registerComplexSpecialProp("throwProps",{parser:function(e,t,o,n,r,i){i=new V;var s,a,c,u,p={},f={},l={},d={},g={},v={};for(a in P={},t)"resistance"!==a&&"preventOvershoot"!==a&&"linkedProps"!==a&&"radius"!==a&&("object"==(void 0===(s=t[a])?"undefined":_typeof(s))?(void 0!==s.velocity&&"number"==typeof s.velocity?p[a]=Number(s.velocity)||0:(u=u||S.getByTarget(e),p[a]=u&&u.isTrackingProp(a)?u.getVelocity(a):0),void 0!==s.end&&(d[a]=s.end),void 0!==s.min&&(f[a]=s.min),void 0!==s.max&&(l[a]=s.max),s.preventOvershoot&&(v[a]=!0),void 0!==s.resistance&&(!0,g[a]=s.resistance)):"number"==typeof s?p[a]=s:(u=u||S.getByTarget(e))&&u.isTrackingProp(a)?p[a]=u.getVelocity(a):p[a]=s||0,w[a]&&n._enableTransforms(2===w[a]));for(a in c=y(e,p,n,r,i),m=c.proxy,p=c.end,m)P[a]={velocity:p[a],min:f[a],max:l[a],end:d[a],resistance:g[a],preventOvershoot:v[a]};return null!=t.resistance&&(P.resistance=t.resistance),null!=t.linkedProps&&(P.linkedProps=t.linkedProps),null!=t.radius&&(P.radius=t.radius),t.preventOvershoot&&(P.preventOvershoot=!0),r=new _(e,"throwProps",0,0,c.pt,2),n._overwriteProps.pop(),r.plugin=i,r.setRatio=h,r.data=c,i._onInitTween(m,P,n._tween),r}})}},V.to=function(e,t,o,n,r){t.throwProps||(t={throwProps:t}),0===r&&(t.throwProps.preventOvershoot=!0),O=!0;var i=new T(e,n||1,t);return i.render(0,!0,!0),O=(i.vars.css?(i.duration(s(m,{throwProps:P,ease:t.ease},o,n,r)),i._delay&&!i.vars.immediateRender?i.invalidate():k._onInitTween(m,b,i)):(i.kill(),i=new T(e,s(e,t,o,n,r),t)),!1),i},e._onInitTween=function(e,t,o,n){this.target=e,this._props=[],k=this,b=t;var r,i,s,a,c,u,p,f,l,d,g,v,y=o._ease,h=isNaN(t.checkpoint)?.05:Number(t.checkpoint),_=o._duration,m=t.preventOvershoot,P=0;if(t.linkedProps)for(g=t.linkedProps.split(","),d={},v=0;v<g.length;v++)(i=t[r=g[v]])&&(c=void 0!==i.velocity&&"number"==typeof i.velocity?Number(i.velocity)||0:(l=l||S.getByTarget(e))&&l.isTrackingProp(r)?l.getVelocity(r):0,s="function"==typeof e[r]?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]():e[r]||0,d[r]=s+j(c,y,_,h));for(r in t)if("resistance"!==r&&"checkpoint"!==r&&"preventOvershoot"!==r&&"linkedProps"!==r&&"radius"!==r){if("function"==typeof(i=t[r])&&(i=i(n,e)),"number"==typeof i)c=Number(i)||0;else if("object"!=(void 0===i?"undefined":_typeof(i))||isNaN(i.velocity)){if(!(l=l||S.getByTarget(e))||!l.isTrackingProp(r))throw"ERROR: No velocity was defined in the throwProps tween of "+e+" property: "+r;c=l.getVelocity(r)}else c=Number(i.velocity);u=j(c,y,_,h),f=0,s=(a="function"==typeof e[r])?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]():e[r],"object"==(void 0===i?"undefined":_typeof(i))&&(p=s+u,void 0!==i.end&&(i=R(i,d&&r in d?d:p,i.max,i.min,r,t.radius),O&&(t[r]=B(i,t[r],"end"))),void 0!==i.max&&Number(i.max)<p?m||i.preventOvershoot?u=i.max-s:f=i.max-s-u:void 0!==i.min&&Number(i.min)>p&&(m||i.preventOvershoot?u=i.min-s:f=i.min-s-u)),this._overwriteProps[P]=r,this._props[P++]={p:r,s:s,c1:u,c2:f,f:a,r:!1}}return!0},e._kill=function(e){for(var t=this._props.length;-1<--t;)null!=e[this._props[t].p]&&this._props.splice(t,1);return o.prototype._kill.call(this,e)},e._mod=function(e){for(var t,o=this._props,n=o.length;-1<--n;)"function"==typeof(t=e[o[n].p]||e.throwProps)&&(o[n].m=t)},e.setRatio=function(e){for(var t,o,n=this._props.length;-1<--n;)o=(t=this._props[n]).s+t.c1*e+t.c2*e*e,t.m?o=t.m(o,this.target):1===e&&(o=(1e4*o+(o<0?-.5:.5)|0)/1e4),t.f?this.target[t.p](o):this.target[t.p]=o},o.activate([V]),V},!0),_gsScope._gsDefine("utils.VelocityTracker",["TweenLite"],function(s){var i,t,r,a=/([A-Z])/g,c={},e=_gsScope.document,u={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1,xPercent:1,yPercent:1},p=e.defaultView?e.defaultView.getComputedStyle:function(){},f=function(e,t,o){var n=(e._gsTransform||c)[t];return n||0===n?n:(e.style[t]?n=e.style[t]:(o=o||p(e,null))?n=o[t]||o.getPropertyValue(t)||o.getPropertyValue(t.replace(a,"-$1").toLowerCase()):e.currentStyle&&(n=e.currentStyle[t]),parseFloat(n)||0)},l=s.ticker,d=function(e,t,o){this.p=e,this.f=t,this.v1=this.v2=0,this.t1=this.t2=l.time,this.css=!1,this.type="",this._prev=null,o&&((this._next=o)._prev=this)},o=function(){var e,t,o=i,n=l.time;if(.03<=n-r)for(r,r=n;o;){for(t=o._firstVP;t;)((e=t.css?f(o.target,t.p):t.f?o.target[t.p]():o.target[t.p])!==t.v1||.15<n-t.t1)&&(t.v2=t.v1,t.v1=e,t.t2=t.t1,t.t1=n),t=t._next;o=o._next}},g=function(e){this._lookup={},this.target=e,this.elem=!(!e.style||!e.nodeType),t||(l.addEventListener("tick",o,null,!1,-100),r=l.time,t=!0),i&&((this._next=i)._prev=this),i=this},v=g.getByTarget=function(e){for(var t=i;t;){if(t.target===e)return t;t=t._next}},n=g.prototype;return n.addProp=function(e,t){if(!this._lookup[e]){var o=this.target,n="function"==typeof o[e],r=n?this._altProp(e):e,i=this._firstVP;this._firstVP=this._lookup[e]=this._lookup[r]=i=new d(r!==e&&0===e.indexOf("set")?r:e,n,i),i.css=this.elem&&(void 0!==this.target.style[i.p]||u[i.p]),i.css&&u[i.p]&&!o._gsTransform&&s.set(o,{x:"+=0",overwrite:!1}),i.type=t||i.css&&0===e.indexOf("rotation")?"deg":"",i.v1=i.v2=i.css?f(o,i.p):n?o[i.p]():o[i.p]}},n.removeProp=function(e){var t=this._lookup[e];t&&(t._prev?t._prev._next=t._next:t===this._firstVP&&(this._firstVP=t._next),t._next&&(t._next._prev=t._prev),this._lookup[e]=0,t.f&&(this._lookup[this._altProp(e)]=0))},n.isTrackingProp=function(e){return this._lookup[e]instanceof d},n.getVelocity=function(e){var t,o,n=this._lookup[e],r=this.target;if(!n)throw"The velocity of "+e+" is not being tracked.";return t=(n.css?f(r,n.p):n.f?r[n.p]():r[n.p])-n.v2,("rad"===n.type||"deg"===n.type)&&((t%=o="rad"===n.type?2*Math.PI:360)!==t%(o/2)&&(t=t<0?t+o:t-o)),t/(l.time-n.t2)},n._altProp=function(e){var t=e.substr(0,3),o=("get"===t?"set":"set"===t?"get":t)+e.substr(3);return"function"==typeof this.target[o]?o:e},g.getByTarget=function(e){var t=i;for("string"==typeof e&&(e=s.selector(e)),e.length&&e!==window&&e[0]&&e[0].style&&!e.nodeType&&(e=e[0]);t;){if(t.target===e)return t;t=t._next}},g.track=function(e,t,o){var n=v(e),r=t.split(","),i=r.length;for(o=(o||"").split(","),n||(n=new g(e));-1<--i;)n.addProp(r[i],o[i]||o[0]);return n},g.untrack=function(e,t){var o=v(e),n=(t||"").split(","),r=n.length;if(o){for(;-1<--r;)o.removeProp(n[r]);o._firstVP&&t||(o._prev?o._prev._next=o._next:o===i&&(i=o._next),o._next&&(o._next._prev=o._prev))}},g.isTracking=function(e,t){var o=v(e);return!!o&&(!(t||!o._firstVP)||o.isTrackingProp(t))},g},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(e){var t=function(){return(_gsScope.GreenSockGlobals||_gsScope).ThrowPropsPlugin};"function"==typeof define&&define.amd?define(["TweenLite"],t):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=t())}();