"use strict";var Banner=function(){this.loader(),this.imageCache={}};Banner.prototype.onInit=function(){console.log("Banner initialised")},Banner.prototype.onPolite=function(){console.log("Polite loading scripts")},Banner.prototype.onVisible=function(){var e=this;this.politeLoad(["https://s0.2mdn.net/ads/studio/cached_libs/tweenmax_2.0.1_min.js"],function(){e.start()})},Banner.prototype.smartObject=function(e){var i=this,t=e||{};t.type=t.type||"div",t.position=t.position||"absolute",t.left=t.left||"0",t.top=t.top||"0";var n=document.createElement(t.type);for(var o in n._settings=t.constructor(),t)n._settings[o]=t[o];switch(t.type){case"canvas":n.width=t.width,n.height=t.height;break;case"video":t.autoplay&&(n.autoplay=t.autoplay),t.loop&&(n.loop=t.loop),t.controls&&(n.controls=t.controls),t.muted&&(n.muted=t.muted,n.setAttribute("muted","")),t.poster&&(n.poster=t.poster),t.preload&&(n.preload=t.preload),t.playsinline&&n.setAttribute("playsinline",""),t.src&&(n.src=t.src);break;case"img":n.src=t.src,n.alt=t.alt}if(t.sources){for(var r=t.sources,s=document.createDocumentFragment(),a=0;a<r.length;a++){var c=document.createElement("source");c.src=r[a].url,c.type=r[a].type,s.appendChild(c)}n.appendChild(s)}function l(){t.id&&(n.id=t.id),t.parent&&t.parent.appendChild(n),t.innerHTML&&(n.innerHTML=t.innerHTML),delete t.innerHTML,delete t.retina,delete t.parent,delete t.id,delete t.type,delete t.autoplay,delete t.loop,delete t.controls,delete t.muted,delete t.poster,delete t.preload,delete t.playsinline,delete t.sources,delete t.src,delete t.alt,TweenLite.set(n,t)}function d(){var e=".svg"===this.src.slice(-4);e&&document.body.appendChild(this),t.width=Math.round(t.width||(t.retina?this.width/2:this.width)),t.height=Math.round(t.height||(t.retina?this.height/2:this.height)),t.backgroundImage="url("+this.src+")",l(),e&&document.body.removeChild(this)}function h(e,t){var n=i.imageCache[e];n?t&&d.apply(n):((n=document.createElement("img")).src=e,t&&(n.onload=d),i.imageCache[e]=n)}if(t.backgroundImage)if(n.style.backgroundSize=t.backgroundSize||"100% 100%",n.style.backgroundPosition=t.backgroundPosition||"center",n.style.backgroundRepeat=t.backgroundRepeat||"no-repeat","[object Array]"===Object.prototype.toString.call(t.backgroundImage)){n.images=t.backgroundImage;for(var p=0;p<n.images.length;++p)h(n.images[p],0===p)}else h(t.backgroundImage,!0);else l();return n.appendChildren=function(e){for(var t=document.createDocumentFragment(),n=0;n<e.length;n++)t.appendChild(e[n]);this.appendChild(t)},n.set=function(e){TweenLite.set(this,e)},n.to=function(e,t){TweenLite.to(this,e,t)},n.from=function(e,t){TweenLite.from(this,e,t)},n.fromTo=function(e,t,n){TweenLite.fromTo(this,e,t,n)},n.get=function(e){return this._gsTransform&&this._gsTransform[e]||this._gsTransform&&0===this._gsTransform[e]?this._gsTransform[e]:"px"===this.style[e].slice(-2)?parseFloat(this.style[e]):this.style[e]},n.center=function(){TweenLite.set(this,{top:"50%",marginTop:-this.offsetHeight/2,left:"50%",marginLeft:-this.offsetWidth/2})},n.centerHorizontal=function(){TweenLite.set(this,{left:"50%",marginLeft:-this.offsetWidth/2})},n.centerVertical=function(){TweenLite.set(this,{top:"50%",marginTop:-this.offsetHeight/2})},n.getOriginal=function(e){return n._settings[e]||0},n},Banner.prototype.preloadImages=function(e,t,n){for(var i=this,o=e.length,r=0,s=null,a=0;a<o;++a)(s=document.createElement("img")).src=s.microSrc=e[a],s.onload=function(){i.imageCache[this.microSrc]=this,++r===o&&(n?t.call(n):t())}};