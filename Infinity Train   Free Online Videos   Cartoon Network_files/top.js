function AkaHTML5MediaAnalytics(t4){var X6="3.12.12";function w8(E3q){try{if(d4(E3q)){return;}var y3q=E3q.akamai;y3q.streamLength=parseInt(z6(E3q));}catch(r3q){}}function P2(k3X,i3X,y3X,I3X){try{X4("sendBeaconCLine : endReasonCode = "+i3X);var j3X=k3X.akamai;j3X.endReasonCode=i3X;y4(k3X,"complete",y3X,I3X);var Q3X=parseInt(g4("HTML_isPlayingCount"));Q3X=Q3X-1;T4("HTML_isPlayingCount",Q3X);j3X.isVisitStart=null;j3X.isCLineSent=true;j3X.firstTimePlay=true;G2(k3X);var E3X=I3X;T4("HTML_LastCLineTime",E3X);}catch(r3X){X4("Exception, send beacon C Line:"+r3X);}}var H2=document.currentScript;var p6=null;var G6=null;function F8(w5q){try{w5q.removeEventListener("play",K4.play,false);w5q.removeEventListener("pause",K4.pause,false);w5q.removeEventListener("error",K4.error,false);w5q.removeEventListener("ended",K4.ended,false);w5q.removeEventListener("playing",K4.playing,false);w5q.removeEventListener("waiting",K4.waiting,false);w5q.removeEventListener("timeupdate",K4.timeupdate,false);w5q.removeEventListener("load",K4.load,false);w5q.removeEventListener("progress",K4.progress,false);w5q.removeEventListener("durationchange",K4.durationchange,false);w5q.removeEventListener("canplay",K4.canplay,false);w5q.removeEventListener("loadstart",K4.loadstart,false);}catch(Y5q){X4("Exception, unSubscribeFrom Events:"+Y5q);}}function m7(p8q){var Z8q,W8q;Z8q=p8q.akamai;Z8q.pollingTimer=V4(m7,Q6,[p8q]);var B8q=Date.now();if(Z8q.chasingSleep>0&&B8q>Z8q.chasingSleep+5000){V9(p8q);Z8q.wasPutToSleep=true;}Z8q.chasingSleep=B8q;if(p8q){if(p8q.isBrightcoveVideo){akamaiBCVideoModule.getVideoPosition(false,K7);}else{K7(0,p8q);}}}var x6=true;function n7(O3X,p3X,H3X,v3X){try{X4("start of the session function");var L3X=O3X.akamai;if(!L3X||!L3X.firstTimePlay){return;}if(L3X.adLoadTime&&L3X.adLoadTime>L3X.iLineSentTime){L3X.startupTime=L3X.adLoadTime-L3X.iLineSentTime;if(L3X.adEndTime){L3X.startupTime+=H3X-L3X.adEndTime;}}else{L3X.startupTime=H3X-L3X.iLineSentTime;}if(L3X.startupTime>h4.startupTimeOutlierLimit){L3X.outlierStartupTime=L3X.startupTime;L3X.startupTime=0;}L3X.bufferingTime=L3X.startupTime;var V3X={type:"startup",startTime:0,endTime:L3X.startupTime};z2(O3X);var x3X=M6(O3X);i6(x3X,L3X);L3X.streamUrl=x3X;if(x3X!=null&&x3X.indexOf("?")!=-1){x3X=x3X.substring(0,x3X.indexOf("?"));}if(x3X!=null&&x3X!=""){if(/.m3u8$/.exec(x3X)){L3X.format="L";L3X.playerFormat=L3X.playerType+":"+L3X.format;}else{L3X.format="P";L3X.playerFormat=L3X.playerType+":"+L3X.format;L3X.deliveryType="O";}console.log("Creating hls stream");L3X.stream=new hlsStream();}var d3X=StreamTypeDetector(x3X,Y2,s6,function(Z3X){if(Z3X){console.log("detected stream type = "+Z3X.getStreamType());console.log("Received steam type = "+Z3X.getStreamType()+"\n Stream URL = "+Z3X.getStreamURL()+"\n Stream Name = "+Z3X.getStreamName()+"\n Stream Length = "+Z3X.getStreamLength()+"\n Stream Format = "+Z3X.getStreamFormat()+"\n Stream Delivery Type = "+Z3X.getDeliveryType());L3X.streamUrl=Z3X.getStreamURL();L3X.format=Z3X.getStreamFormat();L3X.deliveryType=Z3X.getDeliveryType();if(Z3X.getStreamLength()){L3X.streamLength=Z3X.getStreamLength();}L3X.streamName=Z3X.getStreamName();}});if(d3X!==streamError.NoError){console.log("failed to detect stream. May be we do not have sufficient information");}L3X.streamLength=parseInt(z6(O3X));L3X.played=[];var T3X=parseInt(g4("HTML_isPlayingCount"));T3X=T3X+1;T4("HTML_isPlayingCount",T3X);Z2();if(U4.viewerDiagnosticsEnabled){n6(L3X,true);}L3X.lastSLineSentTime=H3X;y4(O3X,"playStart",false,H3X);L3X.rebufferSessionArrayHLine=[];L3X.isSLineSent=true;if(r4){P7(O3X);}M4[1]=1;L3X.isFirstTitle=null;L3X.isVisitStart=null;L3X.firstTimePlay=false;L3X.initPlayed(v3X);}catch(B3X){X4("Exception, send S line:"+B3X);}}var Q4=null;function Z9(c4q,Y4q){if(Y4q==null||Y4q==""){Y4q="TRACE";}if(c4q==null||c4q==""){return;}if(typeof AkamaiAnalytics_debugWindow_available=="function"&&AkamaiAnalytics_debugWindow_available()=="1"){AkamaiAnalytics_debugWindow_appendLog(c4q,Y4q);}else{var F4q={message:c4q,msgType:Y4q};w6.push(F4q);}}var E4=null;function A9(l3q,G3q){try{X4("handle Ad Started");var t3q=P4(G3q);R4.isAdStarted=true;if(!R4.isAdLoaded){X4("handleAdLoaded API is missing.|We have identified that handleAdStarted API is called without handleAdLoaded.|Kindly ensure that handleAdLoaded API is called for every Ad and relevant adObject is passed as an argument.","WARN");O7(l3q,t3q);}R4.playBucket="0";R4.adStartTime=t3q;R4.adStartupTime=t3q-R4.adLoadTime;R4.startPos=H4(D4);B2(l3q);}catch(m3q){X4("Exception,handle ad started:"+m3q);}}function G2(f3X){var h3X=f3X.akamai;if(h3X){if(h3X.hLineTimer){q4(h3X.hLineTimer);}if(h3X.pollingTimer){q4(h3X.pollingTimer);}if(h3X.fastTCPServerIpTimer){q4(h3X.fastTCPServerIpTimer);}if(h3X.firstPLineTimer){q4(h3X.firstPLineTimer);}if(C4&&C4.retryTimer){q4(C4.retryTimer);}}}var s6=false;function h7(O1q){try{var x1q;for(x1q in j4){if(x1q!="viewerId"&&x1q!="clientId"&&x1q!="viewerDiagnosticsId"&&x1q!="pluginVersion"){O1q[x1q]=j4[x1q];}}if("pluginVersion"in j4){O1q.pluginVersion=X6+":"+j4.pluginVersion;}}catch(H1q){}}var Y2=null;function Y8(){X4("sendStoredBeacons: number of beacons to be sent = "+t6.length);try{var u9X=D4.akamai;while(t6.length>0){var r7X=t6.shift();X4("readConfig: sending beacon event code = "+r7X.code);r7X.element.populateMetricsFromConfiguration();r7X.element.xViewerId=W4.xViewerId;r7X.element.xViewerIdVersion=W4.xViewerIdVersion;r7X.element.cdn=E6(r7X.element);S6(r7X.element,r7X.code,r7X.synch);}}catch(X9X){X4("Exception,  sendStoredBeacons"+X9X);}}function i9(){R4.playBucket="3";}function z7(){if(navigator&&navigator.userAgent){var b4q=navigator.userAgent;var P4q=/(MSIE|Chrome|Version|Firefox)[ \/]([0-9]+)/;try{var g4q=P4q.exec(b4q);C6=g4q[1];if(g4q[1]=="Version"){P4q=/(Opera|Safari)/;var x4q=P4q.exec(b4q);C6=x4q[1];}}catch(H4q){X4("Exception,  browserName"+H4q);}try{X4("browser version = "+g4q[2]);var M4q=b4q.indexOf("Edge");if(M4q!=-1){uagentLength=b4q.length;var O4q=b4q.substr(M4q,uagentLength-M4q);var L4q=O4q.split("/");C6=L4q[0];g6=L4q[1];}else{g6=g4q[2];}if(C6&&g6){C6=C6+(6200<=979.23?0x1ef7:" ")+g6;}}catch(T4q){X4("Exception,  browserVersion"+T4q);}}}function B2(M3q){try{var P3q=R4.setDataArr;X4("populate ad metric");for(var g3q=0;g3q<P3q.length;g3q++){if(P3q[g3q]in M3q){R4[P3q[g3q]]=M3q[P3q[g3q]];}}}catch(L3q){}}function P4(T0X,d0X){var H0X;if(T0X!=null){H0X=T0X;}else{H0X=new Date().getTime();}return H0X;}function q7(C9q){try{if(typeof C9q=="object"){for(var w9q in C9q){r6(w9q,C9q[w9q]);}}}catch(Y9q){X4("Exception set custom data object"+Y9q);}}if(t4){if(t4.loaderName){Q4=t4.loaderName;}if(t4.loaderVersion){E4=t4.loaderVersion;}}function W2(w2q,R2q){if(d4(w2q)){X4("handlePauseEvent : video tag is of type AD, return");return;}try{X4("entered function handle Pause Event");var f2q=P4(R2q);var h2q=parseInt(H4(w2q));var X2q=w2q.akamai;var D2q=X2q.currentState;var Y2q=z6(w2q);if(X2q.firstTimePlay||D2q.state==Y4.pause){return;}if(Y2q&&Y2q!=0&&h2q&&h2q!=0){if(Math.abs(Y2q-h2q)<1000){return;}}var c2q=f2q-D2q.lastEventClockTime;var C2q=f2q-X2q.startTimer;var F2q=D2q.state;switch(F2q){case Y4.playing:X2q.updatePlayClockTime(c2q,D2q.lastEventClockTime,f2q);++X2q.pauseCount;l6(X2q,f2q,h2q,"P");if(X2q.pauseSeekSession!="-"){X2q.pauseSeekSession+=",P("+h2q+":"+C2q+")";}else{X2q.pauseSeekSession="P("+h2q+":"+C2q+")";}X2q.updatePlayed(h2q);break;case Y4.rebuffering:if(!X2q.chasingSleep){++X2q.pauseCount;l6(X2q,f2q,h2q,"P");if(X2q.pauseSeekSession!="-"){X2q.pauseSeekSession+=",P("+h2q+":"+C2q+")";}else{X2q.pauseSeekSession="P("+h2q+":"+C2q+")";}X2q.rebufferTime+=c2q;X2q.curRebufferTime+=c2q;if(X2q.rebufferSessionArrayHLine){X4("handlePauseEvent : pushing, rebufferSessionArrayHLine");X2q.rebufferSessionArrayHLine.push(f2q);}try{e6(X2q,f2q);X2q.curRebufferTime=0;}catch(U2q){X4("Error...Pause"+U2q.message);}}break;}D2q.state=Y4.pause;D2q.pauseStartStreamTime=h2q;D2q.pauseStartClockTime=f2q;D2q.lastEventClockTime=f2q;}catch(q2q){X4("Exception,  handlePauseEvent : "+q2q);}}if(H2){p6=H2.src;}else{X4("Should be Internet Explorer");}function h8(n3q){try{if(d4(n3q)){return;}var s3q=n3q.akamai;if(Z4.autoplay){s4(n3q);s3q.loadStartILine=true;}}catch(J3q){}}function d9(m7X){var O7X=m7X.readyState;var d7X=m7X.status;X4("readConfig: readyState = "+O7X+":::status = "+d7X);try{if(O7X==4&&d7X==200){z9();var Y7X=m7X.responseXML;if(Y7X){var u7X;if(Y7X.documentElement){u7X=Y7X.documentElement;}else{u7X=Y7X;}var T7X=u7X.getElementsByTagName("dataMetrics");for(var c7X=0;c7X<T7X.length;++c7X){var b7X=T7X[c7X];var g7X=b7X.parentNode;var f7X=g7X.nodeName;p7[c7X]=f7X;var p7X=G4[f7X]=[];var w7X=g7X.getAttribute("eventCode");if(w7X){J6[f7X]=w7X;}var H7X=b7X.getElementsByTagName("data");for(var X7X=0;X7X<H7X.length;++X7X){var D7X=H7X[X7X];f7X=D7X.getAttribute("name");var v7X=D7X.getAttribute("key");w7X=D7X.getAttribute("value");var G7X=D7X.getAttribute("sendOnce");var l7X=D7X.getAttribute("fallback");var K7X=D7X.getAttribute("size");var N7X=D7X.getAttribute("regExpJS");var a7X=D7X.getAttribute("expiry");var h7X={};h7X.name=f7X;h7X.key=v7X;if(f7X in m6){m6[f7X]=true;}else{if(v7X.indexOf("_cd_")!=-1){m6[f7X]=true;}}if(w7X){h7X.value=w7X;}if(G7X){h7X.isSent=false;h7X.sendOnce=G7X;}if(l7X){h7X.fallback=l7X;}if(K7X){h7X.size=K7X;}if(N7X){h7X.regExpJS=N7X;}if(a7X){h7X.expiryDuration=parseInt(parseInt(a7X)/1440);}p7X.push(h7X);}}m4.configDebug=parseInt(u7X.getAttribute("debug"));if(m4.configDebug!=1){m4.configDebug=0;}if(m4.configDebug==1){V7();}if(u7X.getElementsByTagName("isActive")[0]&&u7X.getElementsByTagName("isActive")[0].childNodes[0]){R2=u7X.getElementsByTagName("isActive")[0].childNodes[0].nodeValue;}B6.beaconId=u7X.getElementsByTagName("beaconId")[0].childNodes[0].nodeValue;B6.beaconVersion=u7X.getElementsByTagName("beaconVersion")[0].childNodes[0].nodeValue;var r2X=u7X.getElementsByTagName("logTo")[0];h4.logType=r2X.getAttribute("logType");if(!h4.logType){h4.logType="relative";}h4.logInterval=r2X.getAttribute("logInterval")*1000;if(!h4.logInterval){h4.loginterval=300*1000;}h4.heartBeatInterval=r2X.getAttribute("heartBeatInterval")*1000;if(!h4.heartBeatInterval){h4.heartBeatInterval=60*1000;}h4.secondaryLogTime=r2X.getAttribute("secondaryLogTime")*1000;if(!h4.secondaryLogTime){h4.secondaryLogTime=15*1000;}h4.rebufferDurationOutlier=r2X.getAttribute("rebufferDurationOutlier")*1000;if(!h4.rebufferDurationOutlier){h4.rebufferDurationOutlier=600*1000;}h4.isSessionWithRebufferLimit=r2X.getAttribute("isSessionWithRebufferLimit");if(!h4.isSessionWithRebufferLimit){h4.isSessionWithRebufferLimit=500;}h4.fastTCPEnabled=r2X.getAttribute("fastTCPEnabled");if(!h4.fastTCPEnabled){h4.fastTCPEnabled=0;}if(h4.fastTCPEnabled==1){e4.fastTCPEnabled=true;}h4.aisRequestLimit=r2X.getAttribute("aisRequestLimit");if(!h4.aisRequestLimit){h4.aisRequestLimit=3;}if(C4){C4.aisRequestLimit=h4.aisRequestLimit;}h4.aisRequestInterval=r2X.getAttribute("aisRequestInterval")*1000;if(!h4.aisRequestInterval){h4.aisRequestInterval=30*1000;}if(C4){C4.aisRequestInterval=h4.aisRequestInterval;}h4.startupTimeOutlierLimit=r2X.getAttribute("startupTimeOutlierLimit")*1000;if(!h4.startupTimeOutlierLimit){h4.startupTimeOutlierLimit=600*1000;}h4.visitTimeout=r2X.getAttribute("visitTimeout")*60*1000;if(!h4.visitTimeout){h4.visitTimeout=60*60*1000;}h4.urlParamSeparator=r2X.getAttribute("urlParamSeparator");if(!h4.urlParamSeparator){h4.urlParamSeparator="~";}h4.encodedParamSeparator=r2X.getAttribute("encodedParamSeparator");if(!h4.encodedParamSeparator){h4.encodedParamSeparator="*@*";}h4.initBrowserCloseTime=r2X.getAttribute("initBrowserCloseTime");if(!h4.initBrowserCloseTime){h4.initBrowserCloseTime=15*60*1000;}h4.seekThreshold=r2X.getAttribute("seekThreshold")*1000;if(!h4.seekThreshold){h4.seekThreshold=2000;}var P7X=r2X.getAttribute("delayTimer");if(P7X){N4.time=P7X;}var V7X=r2X.getAttribute("disableDelay");if(V7X==1){N4.enabled=false;}var o7X=r2X.getElementsByTagName("host")[0].childNodes;if(o7X.length>1){h4.beaconUrl="";for(var X7X=0;X7X<o7X.length;X7X++){h4.beaconUrl+=o7X[X7X].nodeValue;}}else{h4.beaconUrl=r2X.getElementsByTagName("host")[0].childNodes[0].nodeValue;}if(h4.beaconUrl.indexOf("http://")==-1&&h4.beaconUrl.indexOf("https://")==-1){h4.beaconUrl="http://"+h4.beaconUrl;}h4.beaconUrl+=r2X.getElementsByTagName("path")[0].childNodes[0].nodeValue;h4.maxLogLineLength=r2X.getAttribute("maxLogLineLength");if(!h4.maxLogLineLength){h4.maxLogLineLength=2048;}h4.maxLogLineLength-=h4.beaconUrl.length;h4.logVersion="2.0";h4.formatVersion="1.1";if(r2X.getElementsByTagName("formatVersion")&&r2X.getElementsByTagName("formatVersion")[0]&&r2X.getElementsByTagName("formatVersion")[0].childNodes[0]){h4.formatVersion=r2X.getElementsByTagName("formatVersion")[0].childNodes[0].nodeValue;}h4.useKey=parseInt(u7X.getElementsByTagName("statistics")[0].getAttribute("useKey"));var F7X=u7X.getElementsByTagName("feedback")[0];if(F7X!=null&&F7X!==""){F4.shouldSendFLine=true;F4.limit=F7X.getAttribute("limit");if(!F4.limit){F4.limit=3;}F4.socialShareLimit=F7X.getAttribute("socialShareLimit");if(!F4.socialShareLimit){F4.socialShareLimit=1;}}var U7X=u7X.getElementsByTagName("security")[0];if(U7X!=null&&U7X!==""){var q7X=U7X.getElementsByTagName("ViewerDiagnostics")[0];if(q7X!=null&&q7X!==""){U4.viewerDiagnostics={};var C7X=q7X.getElementsByTagName("salt")[0];if(C7X!=null&&C7X!==""){U4.viewerDiagnostics.salt={};var t7X=C7X.getAttribute("value");var R7X=C7X.getAttribute("version");if(t7X!=null&&t7X!==""){U4.viewerDiagnostics.salt.value=t7X;U4.viewerDiagnosticsEnabled=true;if(R7X!=null&&R7X!==""){U4.viewerDiagnostics.salt.version=R7X;}U4.viewerDiagnostics.salt.bytes=C7X.getAttribute("bytes")*2;if(!U4.viewerDiagnostics.salt.bytes){U4.viewerDiagnostics.salt.bytes=16*2;}U4.viewerDiagnostics.salt.iterations=C7X.getAttribute("iterations");if(!U4.viewerDiagnostics.salt.iterations){U4.viewerDiagnostics.salt.iterations=50;}}else{U4.viewerDiagnosticsEnabled=false;}}}}var M7X=u7X.getElementsByTagName("bucketInfo")[0];H6.bucketLength=M7X.getElementsByTagName("bucketLength")[0].childNodes[0].nodeValue;H6.bucketCount=M7X.getElementsByTagName("bucketCount")[0].childNodes[0].nodeValue;r4=true;for(var x7X in w4){try{if(x7X.substring(0,4)=="_cd_"){x7(x7X);}}catch(Z7X){}}J9();u7();U8();var L7X=u7X.getElementsByTagName("match");for(var X7X=0;X7X<L7X.length;X7X++){match=L7X[X7X];try{parentKey=match.parentNode.parentNode.getAttribute("name");if(!B4[parentKey]){B4[parentKey]={};}B4[parentKey][match.getAttribute("key")]={type:match.getAttribute("type"),name:match.getAttribute("name"),value:match.getAttribute("value")};}catch(B7X){X4(B7X);}}y9();r9();Y8();}}}catch(W7X){X4("Exception,  readConfig :"+W7X);}}function U6(H7q,V7q){try{var L7q=H7q.akamai;if(L7q.postRollTimer){q4(L7q.postRollTimer);delete L7q.postRollTimer;}if(L7q.isELineSent||L7q.isCLineSent){X4("handle Ended Event : already sent C line, return");return;}var O7q=P4(V7q);var B7q=parseInt(H4(H7q));var x7q=L7q.currentState;var d7q=O7q-x7q.lastEventClockTime;var p7q=O7q-L7q.startTimer;var Z7q=x7q.state;X4("entered function handle Ended Event, current state"+D6(x7q.state));if(!L7q.playEndMetricsUpdated){j2(H7q,d7q,O7q,true);L7q.playEndMetricsUpdated=true;}x7q.state=Y4.ended;var T7q=L7(H7q);if(L7q.streamTitleSwitchReason!=null&&L7q.streamTitleSwitchReason!=""){T7q=L7q.streamTitleSwitchReason;}P2(H7q,T7q,false,O7q);var v7q=parseInt(g4("HTML_LastCLineTime"));I2(H7q);x7q.lastEventClockTime=O7q;}catch(W7q){X4("Exception,  handle Ended Event :"+W7q);}}var q6=q6||function(V8,e8){var T8={},d8=T8.lib={},v8=d8.Base=function(){function n8(){}return{extend:function(J8){n8.prototype=this;var s8=new n8();J8&&s8.mixIn(J8);s8.$super=this;return s8;},create:function(){var A8=this.extend();A8.init.apply(A8,arguments);return A8;},init:function(){},mixIn:function(j8){for(var Q8 in j8){j8.hasOwnProperty(Q8)&&(this[Q8]=j8[Q8]);}j8.hasOwnProperty("toString")&&(this.toString=j8.toString);},clone:function(){return this.$super.extend(this);}};}(),H8=d8.WordArray=v8.extend({init:function(k8,i8){k8=this.words=k8||[];this.sigBytes=i8!=e8?i8:4*k8.length;},toString:function(I8){return(I8||W8).stringify(this);},concat:function(y8){var r8=this.words,u3=y8.words,X3=this.sigBytes,y8=y8.sigBytes;this.clamp();if(X3%4){for(var E8=0;E8<y8;E8++){r8[X3+E8>>>2]|=(u3[E8>>>2]>>>24-8*(E8%4)&255)<<24-8*((X3+E8)%4);}}else{if(65535<u3.length){for(E8=0;E8<y8;E8+=4){r8[X3+E8>>>2]=u3[E8>>>2];}}else{r8.push.apply(r8,u3);}}this.sigBytes+=y8;return this;},clamp:function(){var D3=this.words,h3=this.sigBytes;D3[h3>>>2]&=4294967295<<32-8*(h3%4);D3.length=V8.ceil(h3/4);},clone:function(){var C3=v8.clone.call(this);C3.words=this.words.slice(0);return C3;},random:function(F3){for(var w3=[],Y3=0;Y3<F3;Y3+=4){w3.push(4294967296*V8.random()|0);}return H8.create(w3,F3);}}),Z8=T8.enc={},W8=Z8.Hex={stringify:function(R3){for(var G3=R3.words,R3=R3.sigBytes,q3=[],U3=0;U3<R3;U3++){var l3=G3[U3>>>2]>>>24-8*(U3%4)&255;q3.push((l3>>>4).toString(16));q3.push((l3&15).toString(16));}return q3.join("");},parse:function(g3){for(var K3=g3.length,N3=[],m3=0;m3<K3;m3+=2){N3[m3>>>3]|=parseInt(g3.substr(m3,2),16)<<24-4*(m3%8);}return H8.create(N3,K3/2);}},B8=Z8.Latin1={stringify:function(P3){for(var x3=P3.words,P3=P3.sigBytes,L3=[],M3=0;M3<P3;M3++){L3.push(String.fromCharCode(x3[M3>>>2]>>>24-8*(M3%4)&255));}return L3.join("");},parse:function(d3){for(var H3=d3.length,T3=[],O3=0;O3<H3;O3++){T3[O3>>>2]|=(d3.charCodeAt(O3)&255)<<24-8*(O3%4);}return H8.create(T3,H3);}},S8=Z8.Utf8={stringify:function(V3){try{return decodeURIComponent(escape(B8.stringify(V3)));}catch(Z3){throw Error("Malformed UTF-8 data");}},parse:function(B3){return B8.parse(unescape(encodeURIComponent(B3)));}},p8=d8.BufferedBlockAlgorithm=v8.extend({reset:function(){this._data=H8.create();this._nDataBytes=0;},_append:function(W3){"string"==typeof W3&&(W3=S8.parse(W3));this._data.concat(W3);this._nDataBytes+=W3.sigBytes;},_process:function(z3){var J3=this._data,j3=J3.words,S3=J3.sigBytes,A3=this.blockSize,e3=S3/(4*A3),e3=z3?V8.ceil(e3):V8.max((e3|0)-this._minBufferSize,0),z3=e3*A3,S3=V8.min(4*z3,S3);if(z3){for(var n3=0;n3<z3;n3+=A3){this._doProcessBlock(j3,n3);}n3=j3.splice(0,z3);J3.sigBytes-=S3;}return H8.create(n3,S3);},clone:function(){var Q3=v8.clone.call(this);Q3._data=this._data.clone();return Q3;},_minBufferSize:0});d8.Hasher=p8.extend({init:function(){this.reset();},reset:function(){p8.reset.call(this);this._doReset();},update:function(I3){this._append(I3);this._process();return this;},finalize:function(E3){E3&&this._append(E3);this._doFinalize();return this._hash;},clone:function(){var y3=p8.clone.call(this);y3._hash=this._hash.clone();return y3;},blockSize:16,_createHelper:function(r3){return function(u5,X5){return r3.create(X5).finalize(u5);};},_createHmacHelper:function(h5){return function(D5,C5){return z8.HMAC.create(h5,C5).finalize(D5);};}});var z8=T8.algo={};return T8;}(Math);function l6(o9X,l9X,G9X,m9X){var t9X=o9X.currentState;var q9X=o9X.seekObject;if(m9X=="S"&&q9X.seekStartStreamTime==-1){q9X.seekStartEpochTime=t9X.timeUpdateClockTime;q9X.seekEndEpochTime=l9X;q9X.seekStartStreamTime=t9X.timeUpdateStreamTime;q9X.seekEndStreamTime=G9X;}else{if(m9X=="S"&&q9X.seekEndStreamTime==t9X.timeUpdateStreamTime){q9X.seekEndEpochTime=l9X;q9X.seekEndStreamTime=G9X;}else{if(q9X.seekStartStreamTime!=-1){o9X.seekTime+=q9X.seekEndEpochTime-q9X.seekStartEpochTime;if(o9X.seekIntervalsAsString!="-"){o9X.seekIntervalsAsString+=","+q9X.seekStartStreamTime+":"+q9X.seekEndStreamTime;}else{o9X.seekIntervalsAsString=q9X.seekStartStreamTime+":"+q9X.seekEndStreamTime;}if(o9X.pauseSeekSession!="-"){o9X.pauseSeekSession+=",S("+q9X.seekStartStreamTime+":"+(q9X.seekStartEpochTime-o9X.startTimer)+"-"+q9X.seekEndStreamTime+":"+(q9X.seekEndEpochTime-o9X.startTimer)+")";}else{o9X.pauseSeekSession="S("+q9X.seekStartStreamTime+":"+(q9X.seekStartEpochTime-o9X.startTimer)+"-"+q9X.seekEndStreamTime+":"+(q9X.seekEndEpochTime-o9X.startTimer)+")";}++o9X.seekCount;o9X.seekObject={seekStartEpochTime:-1,seekEndEpochTime:-1,seekStartStreamTime:-1,seekEndStreamTime:-1};}}}}(function(){var F5=q6,w5=F5.lib,U5=w5.WordArray,w5=w5.Hasher,Y5=[],R5=F5.algo.SHA1=w5.extend({_doReset:function(){this._hash=U5.create([1732584193,4023233417,2562383102,271733878,3285377520]);},_doProcessBlock:function(P5,M5){for(var q5=this._hash.words,N5=q5[0],l5=q5[1],m5=q5[2],K5=q5[3],g5=q5[4],t5=0;80>t5;t5++){if(16>t5){Y5[t5]=P5[M5+t5]|0;}else{var G5=Y5[t5-3]^Y5[t5-8]^Y5[t5-14]^Y5[t5-16];Y5[t5]=G5<<1|G5>>>31;}G5=(N5<<5|N5>>>27)+g5+Y5[t5];G5=20>t5?G5+((l5&m5|~l5&K5)+1518500249):40>t5?G5+((l5^m5^K5)+1859775393):60>t5?G5+((l5&m5|l5&K5|m5&K5)-1894007588):G5+((l5^m5^K5)-899497514);g5=K5;K5=m5;m5=l5<<30|l5>>>2;l5=N5;N5=G5;}q5[0]=q5[0]+N5|0;q5[1]=q5[1]+l5|0;q5[2]=q5[2]+m5|0;q5[3]=q5[3]+K5|0;q5[4]=q5[4]+g5|0;},_doFinalize:function(){var L5=this._data,x5=L5.words,H5=8*this._nDataBytes,O5=8*L5.sigBytes;x5[O5>>>5]|=128<<24-O5%32;x5[(O5+64>>>9<<4)+15]=H5;L5.sigBytes=4*x5.length;this._process();}});F5.SHA1=w5._createHelper(R5);F5.HmacSHA1=w5._createHmacHelper(R5);}());function A2(y2q,X7q){if(d4(y2q)){X4("handleWaitingEvent : video tag is of type AD, return");return;}try{var k2q=y2q.akamai;if(k2q.currentState.state==Y4.rebuffering){X4("already inside handleWaiting Event");return;}var I2q=P4(X7q);var E2q=parseInt(H4(y2q));var i2q=k2q.currentState;var r2q=I2q-i2q.lastEventClockTime;var h7q=I2q-k2q.startTimer;var u7q=i2q.state;X4("entered function handle Waiting Event, current state = "+D6(i2q.state));switch(u7q){case Y4.playing:k2q.updatePlayClockTime(r2q,i2q.lastEventClockTime,I2q);++k2q.rebufferCount;if(k2q.rebufferCount==1&&k2q.playerState!="B"){k2q.firstRebufferStartEpoch=Math.round(I2q);}if(k2q.rebufferSessionArrayHLine){X4("handleWaitingEvent : pushing, rebufferSessionArrayHLine"+I2q);k2q.rebufferSessionArrayHLine.push(I2q);}k2q.updatePlayed(E2q);i2q.state=Y4.rebuffering;break;case Y4.pause:++k2q.resumeBufferCount;i2q.state=Y4.resumeBuffering;break;case Y4.init:break;}i2q.lastEventClockTime=I2q;X4("handle waiting event, if seek starts, stream pos = "+E2q);i2q.seekStartStreamPos=E2q;}catch(f7q){X4("Exception,  handleWaitingEvent:"+f7q);}}(function(){var T5=q6,d5=T5.enc.Utf8;T5.algo.HMAC=T5.lib.Base.extend({init:function(Z5,V5){Z5=this._hasher=Z5.create();"string"==typeof V5&&(V5=d5.parse(V5));var B5=Z5.blockSize,W5=4*B5;V5.sigBytes>W5&&(V5=Z5.finalize(V5));for(var z5=this._oKey=V5.clone(),S5=this._iKey=V5.clone(),e5=z5.words,n5=S5.words,p5=0;p5<B5;p5++){e5[p5]^=1549556828,n5[p5]^=909522486;}z5.sigBytes=S5.sigBytes=W5;this.reset();},reset:function(){var s5=this._hasher;s5.reset();s5.update(this._iKey);},update:function(J5){this._hasher.update(J5);return this;},finalize:function(A5){var j5=this._hasher,A5=j5.finalize(A5);j5.reset();return j5.finalize(this._oKey.clone().concat(A5));}});}());function T7(g2X){if(g2X.indexOf("79423.analytics.edgesuite.net")!=-1||g2X.indexOf("79423.analytics.edgekey.net")!=-1){if(g2X.indexOf("/html5/akamaihtml5-min.js")!=-1||g2X.indexOf("/js/csma.js")!=-1||g2X.indexOf("/js/brightcove-csma.js")!=-1){return true;}}return false;}(function(){var i5=q6,Q5=i5.lib,I5=Q5.Base,E5=Q5.WordArray,Q5=i5.algo,y5=Q5.HMAC,r5=Q5.PBKDF2=I5.extend({cfg:I5.extend({keySize:4,hasher:Q5.SHA1,iterations:1}),init:function(u0X){this.cfg=this.cfg.extend(u0X);},compute:function(l0X,G0X){for(var X0X=this.cfg,f0X=y5.create(X0X.hasher,l0X),D0X=E5.create(),Y0X=E5.create([1]),U0X=D0X.words,q0X=Y0X.words,F0X=X0X.keySize,X0X=X0X.iterations;U0X.length<F0X;){var C0X=f0X.update(G0X).finalize(Y0X);f0X.reset();for(var R0X=C0X.words,o0X=R0X.length,w0X=C0X,c0X=1;c0X<X0X;c0X++){w0X=f0X.finalize(w0X);f0X.reset();for(var t0X=w0X.words,h0X=0;h0X<o0X;h0X++){R0X[h0X]^=t0X[h0X];}}D0X.concat(C0X);q0X[0]++;}D0X.sigBytes=4*F0X;return D0X;}});i5.PBKDF2=function(m0X,K0X,N0X){return r5.create(N0X).compute(m0X,K0X);};}());function I2(h6q){X4("endOfTheSession");var X6q=h6q.akamai;var f6q=X6q.isPlaylist;var D6q=X6q.visitId;var C6q=X6q.viewerId;var w6q=X6q.streamName;var Y6q=X6q.cdn;var c6q=X6q.sendVLine;var F6q=X6q.iLineCount;h6q.akamai=null;l7();X6q=h6q.akamai=new S2(h6q);X6q.visitId=X6q.browserSessionId=D6q;X6q.viewerId=X6q.clientId=C6q;X6q.cdn=Y6q;o6=-1;X6q.streamName=w6q;X6q.iLineCount=F6q;h6q.akamai.clearVisitTimeoutId=V4(V6,h4.visitTimeout,[h6q,1]);X6q.sendVLine=c6q;X6q.isPlaylist=f6q;if(h6q.played){h6q.played.length=0;}L4.clearBitRate();}var K6=false;function m2(o5q){var q5q=o5q.target;if(q5q.nodeType==q5q.COMMENT_NODE||q5q.tagName==null||q5q.tagName.toLowerCase()!="video"&&q5q.tagName.toLowerCase()!="audio"){return;}switch(o5q.type){case"DOMNodeRemoved":if(q5q.dataset&&q5q.dataset.isad&&q5q.dataset.isad=="true"){}else{V6(D4,0);}break;case"DOMNodeInserted":q2(q5q);break;}}function j2(m1q,t1q,o1q,b1q){X4("updating metrics for playing and end events");var q1q=m1q.akamai;var K1q=0;var a1q=q1q.playerState;var N1q=true;q1q.currentStreamTime=parseInt(H4(m1q));switch(q1q.currentState.state){case Y4.playing:q1q.playerState="PL";if(t1q-q1q.seekTime>0){q1q.updatePlayClockTime(t1q-q1q.seekTime,q1q.currentState.lastEventClockTime,o1q);}if(q1q.playClockTime<0){q1q.playClockTime=0;}q1q.updatePlayed(q1q.currentStreamTime);break;case Y4.pause:q1q.pauseDuration+=t1q;q1q.playerState="PS";break;case Y4.rebuffering:if(!q1q.wasPutToSleep){q1q.rebufferTime+=t1q;q1q.curRebufferTime+=t1q;e6(q1q,o1q);q1q.playerState="B";K1q=o1q-q1q.curRebufferTime;break;}case Y4.resumeBuffering:q1q.playerState="RB";q1q.resumeBufferTime+=t1q;break;case Y4.ended:q1q.updatePlayed(q1q.currentStreamTime);break;case Y4.seek:if(o1q-q1q.currentState.timeUpdateClockTime>0){l6(q1q,o1q,q1q.currentStreamTime,"S");}q1q.currentState.timeUpdateClockTime=o1q;q1q.playerState="SK";break;default:N1q=false;break;}if(q1q.playerState==="B"){q1q.continuousRebufferDuration+=q1q.curRebufferTime;}else{q1q.continuousRebufferDuration=0;}L4.getTransitionSession(q1q);l6(q1q);if(q1q.rebufferSession){j7(q1q,a1q);q1q.firstRebufferStartEpoch=K1q;}if(q1q.playClockTime>5000){q1q.isView=1;}if(N1q){q1q.currentState.lastEventClockTime=o1q;}q1q.bytesLoaded=n9(m1q);if(q1q.played){var G1q=q1q.played;q1q.playStreamTime=0;for(var l1q=0;l1q<G1q.length;l1q++){q1q.playStreamTime+=parseInt(G1q[l1q][1]-G1q[l1q][0]);}if(q1q.logType=="R"){q1q.playStreamTime-=q1q.lastPlayStreamTime;q1q.lastPlayStreamTime+=q1q.playStreamTime;}}if(b1q&&q1q.endReasonCode!="Browser.Close"&&!q1q.streamTitleSwitchReason){q1q.playerState="E";}}if(window){try{K6=window.XDomainRequest?true:false;}catch(v0X){K6=false;}}function L7(t8X){var l8X="Play.End.Detected";if(t8X.objectBased){if(t8X.endReason){l8X=t8X.endReason;}}return l8X;}var w4={};var j4={};function P9(R9q,U9q){D4.akamai.streamTitleSwitchReason="Title.Switched";var o9q=D4.akamai.isFirstTitle;U6(D4,U9q);try{if(R9q!=null&&R9q!=""){for(var q9q in R9q){r6(q9q,R9q[q9q]);}}}catch(t9q){X4("Exception, handle title switch:"+t9q);}D4.akamai.isFirstTitle=o9q;s4(D4,U9q);J4(D4,U9q);try{D4.akamai.currentState.timeUpdateStreamTime=parseInt(H4(D4));}catch(l9q){X4("Exception,  handleTitleSwitch"+l9q);}}var O6=null;var O2={eventCode:"",beaconId:"",sequenceId:"",logType:"",endOfStream:"",logVersion:"",formatVersion:"",visitId:"",errorCode:"",partNumber:"",totalParts:"",hostName:"",streamName:"",port:"",protocol:"",userAgent:"",playerType:"",os:"",format:"",connectTime:"",bufferingTime:"",startupTime:"",streamLength:"",bytesTotal:"",browser:"",browserSize:"",videoSize:"",streamUrl:"",deliveryType:"",pluginVersion:"",beaconVersion:"",serverIp:"",playerFormat:"",outlierStartupTime:"",isFirstTitle:"",rebufferSessionH:"",sequenceIdH:"",isSessionWithRebufferH:"",playerState:"",currentStreamTime:"",currentClockTime:"",playClockTime:"",playStreamTime:"",rebufferCount:"",rebufferTime:"",pauseCount:"",pauseDuration:"",pauseIntervalsAsString:"",seekCount:"",seekTime:"",seekIntervalsAsString:"",pauseSeekSession:"",resumeBufferCount:"",resumeBufferTime:"",isView:"",isSessionWithRebuffer:"",logInterval:"",rebufferSession:"",socialSharing:"",endReasonCode:"",totalPlayClockTime:"",totalPlayStreamTime:"",totalRebufferCount:"",totalRebufferTime:"",totalAdPlayClockTime:"",totalAdStartCount:"",totalAdAbandonCount:"",lastHTime:"",isVisitStart:"",isVisitEnd:"",visitAttempts:"",visitPlays:"",visitViews:"",visitErrors:"",visitInterval:"",visitPlayClockTime:"",visitPlayStreamTime:"",visitRebufferCount:"",visitRebufferTime:"",visitStartupErrors:"",visitAdPlayClockTime:"",visitAdStartCount:"",visitAdAbandonCount:"",visitUniqueTitles:"",adAbandonCount:"",adPauseTime:"",adStartupTime:"",adPlayClockTime:"",adCount:"",adSession:"",sessionId:"",attemptId:"",playerReferrer:"",ais_idpId:"",ais_idpName:"",ais_idpDisplayName:"",ais_idpUrl:"",ais_queryToken:"",ais_aisuid:"",qualityOfExperience:"",transitionStreamTimeSession:"",transitionUpSwitchCount:"",transitionDownSwitchCount:"",averagedBitRate:"",fullOs:"",longitude:"",latitude:"",connectivity:""};function r6(r7q,u9q){try{if(D4&&D4.akamai&&D4.akamai.isSLineSent){X4("setData() API called after 'Start Of Play' for dimension -> "+r7q+"|All custom dimensions should be set before the play is initiated.","WARN");}else{X4("Set Data("+r7q+":"+u9q+")");}if(r7q=="customDataObject"){q7(u9q);}else{if(r7q=="customDataFunction"){O6=u9q;}else{try{if(u9q!=null){u9q=u9q.trim();}}catch(X9q){}if(r7q=="viewerId"||r7q=="viewerDiagnosticsId"){if(u9q==null||u9q==""){u9q="-";}}try{if(r4){if(r7q.substring(0,4)=="_cd_"){x7(r7q);}}}catch(h9q){}try{if(r7q.indexOf("std:")!=-1){j4[r7q.substring(4)]=u9q;}else{w4[r7q]=u9q;}}catch(f9q){w4[r7q]=u9q;}if(r7q.indexOf("socialShare:")!=-1||r7q.indexOf("feedback:")!=-1){o7();}}}}catch(D9q){X4("Exception, Set Data :"+D9q);}}function V2(F0q,w0q,R0q,U0q){try{var c0q;for(var C0q=0;C0q<w0q.length;C0q++){if(w0q[C0q].expiryDuration){X9(F0q,w0q[C0q]);}c0q=w0q[C0q].name;var Y0q=null;if(c0q in F0q){Y0q=F0q[c0q];}if(w0q[C0q].value){Y0q=w0q[C0q].value;}if(Y0q||Y0q==0){if(w0q[C0q].sendOnce){if(w0q[C0q].isSent===false){if(Y0q!=0){w0q[C0q].isSent=true;}w7(Y0q,w0q,c0q,C0q,U0q,R0q);}}else{w7(Y0q,w0q,c0q,C0q,U0q,R0q);}}}}catch(q0q){X4("Exception, assemble logs:"+q0q);}}var m6={title:false,category:false,subCategory:false,show:false,contentLength:false,contentType:false,device:false,deliveryType:false,playerId:false,eventName:false};function D6(V4q){try{switch(V4q){case Y4.ended:return"ended";break;case Y4.init:return"init";break;case Y4.playing:return"playing";break;case Y4.pause:return"pause";break;case Y4.seek:return"seek";break;case Y4.rebuffering:return"rebuffering";break;case Y4.resumeBuffering:return"resumeBuffering";break;default:return"undefined";break;}}catch(p4q){}}var D4={};var Z4={};D4.isBrightcoveVideo=false;function u6(){try{if(R4.isAdLoaded){k6("2");}}catch(x5q){}V6(D4,0);}D4.objectBased=false;function x9(m8X){var G8X=u2();return G8X;}function j9(K3q){try{X4("handleAdEnded");if(R4.playBucket==((1360,8500)<8139?8.36e+3:"0")){X4("Ad Progress related APIs not called.|We have identified that handleAdFirstQuartile,handleAdMidPoint & handleAdThirdQuartile APIs have not been called.|It will be good if these APIs are called in order to capture more accurate Ad information","WARN");}R4.playBucket="4";k6("0",K3q);}catch(N3q){X4("Exception,handle ad completed:"+N3q);}}D4.videoPassed=false;function m9(y7q){var E7q="";switch(y7q.code){case y7q.PERMISSION_DENIED:E7q="User denied the request for Geolocation.";break;case y7q.POSITION_UNAVAILABLE:E7q="Location information is unavailable.";break;case y7q.TIMEOUT:E7q="The request to get user location timed out.";break;case y7q.UNKNOWN_ERROR:E7q="An unknown error occurred.";break;}X4("Location Error : ",E7q);}var W6=false;function W7(K4q){var N4q=null;if(K4q){if(K4q=="6.3"||K4q=="6.2"){N4q="8";}else{if(K4q=="6.1"){N4q="7";}else{if(K4q=="6.0"){N4q="Vista";}else{if(K4q=="5.2"||K4q=="5.1"){N4q="XP";}else{var a4q=K4q.split(".");if(parseInt(a4q[0])>=8){N4q=a4q[0];}else{N4q="Other";}}}}}}return N4q;}var M7=false;var H7=false;var O4={};function U9(){try{if(l4=="iPad"||l4=="iPhone"){return true;}}catch(a0s){return false;}}var K4={};var r4=false;var t6=[];function j6(){var L6X=false;try{if(window!==window.parent){var P6X={};var M6X={};var O6X=document.URL;var x6X=null;if(document&&document.referrer){x6X=document.referrer;}if(O6X!=null){i6(O6X,P6X);}if(x6X!=null){i6(x6X,M6X);}if(P6X.port===M6X.port&&P6X.protocol===M6X.protocol&&P6X.hostName===M6X.hostName){L6X=true;}}else{L6X=true;}}catch(H6X){}return L6X;}function g4(V5q){var d5q=V5q+"=";var v5q="";try{if(document.cookie.length>0){offset=document.cookie.indexOf(d5q);if(offset!=-1){offset+=d5q.length;end=document.cookie.indexOf(";",offset);if(end==-1){end=document.cookie.length;}v5q=document.cookie.substring(offset,end);}}}catch(p5q){}return v5q;}function E6(w9X){if(w4.cdn){return w4.cdn;}else{try{for(key in B4.cdn){var h9X=B4.cdn[key];if(h9X&&h9X.name&&h9X.value){var D9X=w9X[h9X.name];var C9X=h9X.value.split((4190,413)!=9400?",":true);for(var f9X=0;f9X<C9X.length;f9X++){if(D9X&&D9X.indexOf(C9X[f9X].trim())!=-1){return key;break;}}}}}catch(Y9X){X4("Exception Get CDN"+Y9X.message);}}}function K2(o2q,m2q){try{if(D4&&D4.akamai){X4("handle bit rate switch");try{o2q=parseInt(o2q);}catch(K2q){X4("Exception,bit rate to int :"+K2q);return;}if(isNaN(o2q)){X4("handle bitrate swtich, bite rate isNaN");}var t2q=D4.akamai;var l2q=t2q.currentState;var G2q=H4(D4);if(L4.currentBitRate!="-"){if(o2q>L4.currentBitRate){t2q.transitionUpSwitchCount++;}else{if(o2q<L4.currentBitRate){t2q.transitionDownSwitchCount++;}}}if(l2q&&l2q.state==Y4.playing){J4(D4,m2q);}L4.currentBitRate=o2q;L4.currentStartPos=G2q;}}catch(N2q){X4("Exception, handle bit rate switch:"+N2q);}}function G7(v8q){try{var d8q=document.getElementById(v8q);d8q.parentNode.removeChild(d8q);}catch(V8q){X4("Exception,  removing script with id "+v8q);}}function C7(k0q){F4.fLineCount=0;var Q0q=y6(k0q);F4.akamai=Q0q;F4.akamai.customDataPopulated=false;}function t9(){var v6X=false;try{var V6X=document.URL;var p6X=/(\w+):\/\/([^\/:]+):?([^\/]+)?(\/[^#?]*)#?([^?]+)?\??(.+)?/;var Z6X=p6X.exec(V6X);var B6X=Z6X[1];if(B6X=="https"){v6X=true;}}catch(W6X){}return v6X;}function w9(h0q,f0q){try{h0q=h0q.substring(0,f0q);return h0q;}catch(D0q){X4("Exception,  getTruncatedMetric"+D0q);return h0q;}}function j7(P9X,d9X){var O9X;var H9X;if(d9X==((1130,699.46)>=5530?0x2601:"B")){var L9X="";if(P9X.rebufferSession){var x9X=P9X.rebufferSession.split(";");for(var M9X=0;M9X<x9X.length;M9X++){var T9X=x9X[M9X].split(":");if(M9X==0){L9X+="0:"+T9X[1];}else{L9X+=x9X[M9X];}if(M9X!=x9X.length-1){L9X+=";";}}X4("newRebufferSession = "+L9X);P9X.rebufferSession=L9X;}H9X=1;O9X=0;}else{H9X=0;if(P9X.lastRebufferEndEpoch>0){O9X=P9X.firstRebufferStartEpoch-P9X.lastRebufferEndEpoch;}else{O9X=-1;}}P9X.rebufferSession=H9X+":"+O9X+";"+P9X.rebufferSession;P9X.lastRebufferEndEpoch=P9X.currRebufferEndEpoch;}var N4={timer:null,queue:[],browserClose:false,enabled:true,time:250};function F9(w8X){var D8X=w8X.akamai;if(e4.fastTCPFailed){X4("getting fast tcp: request failed");return;}if(D8X.hostName){try{var C8X=D8X.protocol+"://"+D8X.hostName+"/protocol-info";X4("getting fast tcp : fastTCPPath = "+C8X);I4(Y9,C8X,false,true);}catch(Y8X){e4.fastTCPFailed=true;X4("getting ServerIp: error, xmphttprequest");}}}var G4={};var p7=[];var B6={};var N6={};function t7(h5X,f5X,w5X,D5X){try{var u5X=h5X.akamai;if(f5X){u5X.errorCode=f5X;}else{u5X.errorCode="UNKNOWN";}X4("sendBeaconELine : errorCode = "+u5X.errorCode);M4[3]=1;if(u5X.sequenceId==1){M4[11]=1;Z2();if(U4.viewerDiagnosticsEnabled){n6(u5X,true);}}u5X.playerState="E";y4(h5X,"error",w5X,D5X);if(u5X.isSLineSent){var X5X=parseInt(g4("HTML_isPlayingCount"));X5X=X5X-1;T4("HTML_isPlayingCount",X5X);}u5X.isELineSent=true;u5X.isVisitStart=null;u5X.firstTimePlay=true;G2(h5X);var C5X=D5X;C7(u5X);T4("HTML_LastCLineTime",C5X);}catch(Y5X){X4("Exception, send beacon E line:"+Y5X);}}var h4={};function J4(z2q,J2q){if(d4(z2q)){X4("handle Playing Event : video tag is of type AD, return");return;}try{var B2q=P4(J2q);var n2q=M6(D4);if(!z2q.objectBased&&!n2q){X4("handle playing event, video is null");return;}J2(z2q,"playing",n2q,B2q);var e2q=parseInt(H4(z2q));var Z2q=z2q.akamai;var W2q=Z2q.currentState;var S2q=B2q-W2q.lastEventClockTime;var A2q=B2q-Z2q.startTimer;var s2q=W2q.state;X4("entered function handle Playing Event, current State = "+D6(W2q.state));switch(s2q){case Y4.rebuffering:if(!Z2q.wasPutToSleep){Z2q.rebufferTime+=S2q;Z2q.curRebufferTime+=S2q;Z2q.continuousRebufferDuration=0;if(Z2q.rebufferSessionArrayHLine){Z2q.rebufferSessionArrayHLine.push(B2q);}try{e6(Z2q,B2q);Z2q.curRebufferTime=0;}catch(j2q){X4("Error...Play"+j2q.message);}}break;case Y4.pause:case Y4.resumeBuffering:Z2q.resumeBufferTime+=S2q;if(S2q==0&&Z2q.resumeBufferCount>0){--Z2q.resumeBufferCount;}break;case Y4.init:n7(z2q,S2q,B2q,e2q);L4.currentStartPos=e2q;break;case Y4.ended:X4("handle Playing Event : dispatch play and playing event");s4(z2q,B2q);J4(z2q,B2q);break;case Y4.playing:Z2q.updatePlayClockTime(S2q,W2q.lastEventClockTime,B2q);break;case Y4.seek:if(B2q-W2q.timeUpdateClockTime>0){l6(Z2q,B2q,e2q,"S");Z2q.updatePlayed(W2q.seekStartStreamPos,e2q);}break;}W2q.state=Y4.playing;W2q.lastEventClockTime=B2q;}catch(Q2q){X4("Exception,  handle Playing Event:"+Q2q);}}h4.seekThreshold=2000;function Y7(K7q,g7q){if(d4(K7q)){X4("handle Ended Event WithDelay : video tag is of type AD, return");return;}try{var m7q=K7q.akamai;var a7q=m7q.currentState;X4("entered function handle Ended Event WithDelay, current state"+D6(a7q.state));var N7q=P4(g7q);var P7q=L7(K7q);var b7q=N7q-a7q.lastEventClockTime;if(m7q.pollingTimer){q4(m7q.pollingTimer);}if(C4&&C4.retryTimer){q4(C4.retryTimer);}if(m7q.hLineTimer){q4(m7q.hLineTimer);}if(m7q.fastTCPServerIpTimer){q4(m7q.fastTCPServerIpTimer);}if(m7q.firstPLineTimer){q4(m7q.firstPLineTimer);}if(C4&&C4.retryTimer){q4(C4.retryTimer);}if(m7q.postRollTimer){X4("handle Ended Event WithDelay: postRollTimer already started return");return;}X7(m7q,"complete");h7(m7q);D7(m7q);m7q.postRollTimer=V4(U6,1000,[K7q]);C7(m7q);m7q.customDataPopulated=true;N2(m7q,N7q);j2(K7q,b7q,N7q,true);m7q.playEndMetricsUpdated=true;}catch(M7q){X4("Exception,  handle Ended Event WithDelay"+M7q);U6(K7q,N7q);}}function K8(D7q){if(d4(D7q)){X4("handleAbortEvent : video tag is of type AD, return");return;}D2(D7q);}h4.visitTimeout=60*60*1000;var U4={};function E2(v6q,T6q,V6q,d6q){try{var O6q=false;if(A4.length>0){var x6q=A4[A4.length-1];X4("check error events array, previous event is : "+x6q.eventType);if(x6q.eventType=="error"&&V6q==x6q.streamUrl){if(T6q=="error"){var H6q=L2(v6q);if(x6q.errorCode==H6q){O6q=true;}else{O6q=false;}x6q.eventTime=d6q;x6q.errorCode=H6q;}else{if(T6q=="play"&&x6q.eventTime&&d6q-x6q.eventTime<=2000){O6q=true;}}}}}catch(p6q){X4("Exception,  checkErrorEventsArray"+p6q);O6q=false;}return O6q;}function d4(N6q){if(Z4&&Z4.dataset&&Z4.dataset.isad&&Z4.dataset.isad=="true"){return true;}else{return false;}}var H6={};var J6={};function T4(J5q,A5q,n5q){try{var s5q=J5q+"="+A5q+";Path=/;";if(n5q){if(parseInt(n5q)>0){var e5q=new Date();e5q.setDate(e5q.getDate()+parseInt(n5q));if(e5q!=null){s5q+="expires="+e5q.toUTCString()+";";}}}if(document){document.cookie=s5q;}}catch(j5q){}}function D8(j3q){try{if(d4(j3q)){return;}var A3q=j3q.akamai;if(Z4.autoplay){A3q.canPlayEventAutoPlay=true;}else{A3q.canPlayEventAutoPlay=false;}}catch(Q3q){}}var B4={};var Q6=100;var L6={};function M9(g1q){try{var M1q="-";if(document&&document.referrer){var P1q=document.referrer;P1q=P1q.split("/",3);if(P1q&&P1q[2]){M1q=P1q[2];}}if(window==window.top){g1q.pageUrl=w4.pageUrl?w4.pageUrl:document.URL;g1q.pageHost=w4.pageUrl&&Y6(w4.pageUrl)?Y6(w4.pageUrl):document.location.hostname;g1q.pageReferrer=w4.pageReferrer?w4.pageReferrer:document.referrer?document.referrer:"-";g1q.pageReferrerHost=w4.pageReferrer&&Y6(w4.pageReferrer)?Y6(w4.pageReferrer):document.referrer?M1q:"-";}else{g1q.pageUrl=w4.pageUrl?w4.pageUrl:document.referrer?document.referrer:"-";g1q.pageHost=w4.pageUrl&&Y6(w4.pageUrl)?Y6(w4.pageUrl):document.referrer?M1q:"-";g1q.pageReferrer=w4.pageReferrer?w4.pageReferrer:"NA";g1q.pageReferrerHost=w4.pageReferrer&&Y6(w4.pageReferrer)?Y6(w4.pageReferrer):"NA";}}catch(L1q){}}var R6=false;function e9(H5q){X4("handlePageshow:");try{if(D4&&D4.tagName){X4("handlePageShow: media tag is :"+D4.tagName);if(D4.akamai&&W6){X4("handlePageshow: send play and playing on timeupdate");M7=true;}}}catch(T5q){X4("Exception,  handlePagehsow : "+T5q);}W6=false;}var U2=false;var e4={fastTCPFailed:false,fastTCPEnabled:false};function V7(){if(m4.windowOpened){return;}if(m4.pageURLCsmaDebug==1||m4.configURLCsmaDebug==1||m4.configDebug==1){if(typeof AkamaiAnalytics_debugWindow_available=="function"&&AkamaiAnalytics_debugWindow_available()=="1"){return;}var z6X="JS-"+X6;if(Q4!=null&&E4!=null){z6X=z6X+":"+Q4+"-"+E4;}if("pluginVersion"in j4){z6X=z6X+":"+j4.pluginVersion;}AkamaiAnalytics_debugWindow_data={version:z6X};if(t9()){Z6("https://79423.analytics.edgekey.net/csma/debug/DebugWindow.js","AkamaiAnalytics_debug");I4(d7,"https://79423.analytics.edgekey.net/plugins/release-details/latest/html5.xml",false,true);}else{Z6("http://79423.analytics.edgesuite.net/csma/debug/DebugWindow.js","AkamaiAnalytics_debug");I4(d7,"http://79423.analytics.edgesuite.net/plugins/release-details/latest/html5.xml",false,true);}m4.windowOpened=true;R8();}}function g7(R3X){var D3X=R3X.akamai;F4.akamai={};F4.dataSent={};D3X.areTimerStarted=false;D3X.isCLineSent=false;D3X.isELineSent=false;D3X.lastRebufferEndEpoch=0;D3X.connectTime=0;N4.browserClose=false;D3X.totalPlayClockTime=D3X.totalStreamTime=D3X.totalRebufferCount=D3X.totalRebufferTime=0;D3X.isVisitEnd=0;D3X.sequenceId=(3640,3960)!==(1937,165)?"0":0x2267;D3X.wasPutToSleep=false;D3X.chasingSleep=null;D3X.continuousRebufferDuration=0;z2(R3X);D3X.attemptId=D3X.sessionId=x9(D3X);Z2();D3X.clientId=D3X.viewerId=T9(D3X);if(U4.viewerDiagnosticsEnabled){n6(D3X);}D3X.lastPLineSentTime=D3X.hLineSentCount=D3X.lastSLineSentTime=D3X.lastHLineSentTime=0;D3X.lastHTime=0;F6("HTML_LastCLineTime");M4=[0,0,0,0,0,0,0,0,0,0,0,0];var C3X=parseInt(g4("HTML_VisitCountCookie"));if(!C3X||C3X==""){D3X.isVisitStart=1;C3X=0;T4("HTML_VisitCountCookie",C3X);}var w3X=parseInt(g4("HTML_isPlayingCount"));if(!w3X||w3X==""){w3X=0;T4("HTML_isPlayingCount",w3X);}var Y3X=g4("HTML_VisitValueCookie");if(!Y3X||Y3X==""){T4("HTML_VisitValueCookie","0|0|0|0|0|0|0|0|0|0|0|0|0");}var c3X=g4("HTML_BitRateBucketCsv");if(!c3X||c3X==""){T4("HTML_BitRateBucketCsv","0,0,0,0,0,0,0,0");}var F3X=g4(d6);if(!F3X||F3X==""){D3X.browserSessionId=D3X.visitId=u2();T4(d6,D3X.visitId);}else{D3X.browserSessionId=D3X.visitId=g4(d6);}}function G8(){return M6(D4);}function h9(E6q,Q6q,k6q){if(d4(E6q)){X4("handle Seeked Event : video tag is of type AD, return");return;}try{if(!Q6q){Q6q=P4();}if(!k6q){k6q=parseInt(H4(E6q));}var A6q=E6q.akamai;var j6q=A6q.currentState;var I6q=Q6q-j6q.lastEventClockTime;var y6q=Q6q-A6q.startTimer;var i6q=j6q.state;X4("entered function handle Seeked Event, currentstate = "+D6(j6q.state));if(i6q==Y4.pause||i6q==Y4.playing||i6q==Y4.rebuffering||j6q.state==Y4.seek){if(Q6q-j6q.timeUpdateClockTime>0){l6(A6q,Q6q,k6q,"S");}switch(i6q){case Y4.playing:A6q.updatePlayed(j6q.timeUpdateStreamTime,k6q);j6q.lastEventClockTime=Q6q;A6q.updatePlayClockTime(I6q,j6q.lastEventClockTime,Q6q);j6q.state=Y4.seek;j6q.seekStartStreamPos=k6q;break;case Y4.rebuffering:if(!A6q.wasPutToSleep){X4("handle seeked event, previous state is rebuffering");A6q.rebufferTime+=I6q;A6q.curRebufferTime+=I6q;if(A6q.rebufferSessionArrayHLine){A6q.rebufferSessionArrayHLine.push(Q6q);}try{e6(A6q,Q6q);A6q.curRebufferTime=0;}catch(r6q){X4("Error...Play"+r6q.message);}j6q.lastEventClockTime=Q6q;j6q.state=Y4.seek;}else{X4("Rejecting this event, because rebuffer was caused by system sleep");}break;}}}catch(u2q){X4("Exception,  handle Seeked Event :"+u2q);}}function k6(d3q,v3q){try{var O3q=P4(v3q);var x3q=D4.akamai;R4.endStatus=d3q;if(d3q!="0"){R4.adAbandonCount=1;}if(R4.isAdLoaded&&R4.isAdStarted){R4.adPlayClockTime=O3q-R4.adStartTime;}R4.adSession=u8();var T3q=["adStartupTime","adCount","adPlayClockTime","adAbandonCount"];for(var H3q=0;H3q<T3q.length;H3q++){x3q[T3q[H3q]]+=R4[T3q[H3q]];}if(x3q.adSession){x3q.adSession+=","+R4.adSession;}else{x3q.adSession=R4.adSession;}R4.isAdStarted=false;R4.isAdLoaded=false;if(d3q!="2"){R4.adAbandoned=false;if(x3q){if(x3q.postRollAd){x3q.postRollAd=null;U6(D4,O3q);}else{if(x3q.isSLineSent){s4(D4,O3q);J4(D4,O3q);}else{if(!x3q.isSLineSent){x3q.adEndTime=O3q;}}}}}}catch(V3q){X4("Exception,populate ad end:"+V3q);}}function R8(){try{var e6X=O4.url.toLowerCase();var S6X="";if(e6X.indexOf(".edgesuite.net/")==-1&&e6X.indexOf(".edgekey.net/")==-1){S6X="Incorrect Beacon XML Path";S6X+="<ul style='list-style-type:circle;margin:0'>";S6X+="<li>We have identified that the Beacon XML in not loaded from an Akamai Domain.</li>";S6X+="<li>Kindly use the same Beacon XML path that is provided in SOLA Anlaytics UI while provisioning.</li></ul>";X4(S6X,"ERROR");}}catch(n6X){}}function C8(i3q){try{if(d4(i3q)){return;}var k3q=i3q.akamai;if(k3q.firstTimeProgress){k3q.firstTimeProgress=false;}if(k3q.logType=="R"){}}catch(I3q){}}var A4=[];var F4={};F4.dataSent={};function r9(){X4("fillVideoWithConfig function");if(D4&&D4.akamai){var y7X=D4.akamai;y7X.populateMetricsFromConfiguration();if(y7X.isSLineSent){P7(D4);}if(U4.viewerDiagnosticsEnabled){n6(y7X);}y7X.cdn=E6(y7X);}}var R2=1;function Y9(X8X){var i9X="";var h8X=X8X.readyState;var u8X=X8X.status;if(parseInt(u8X/100)===4||u8X===0){X4("read fast tcp: fast tcp Failed request falied as status is 400 series");e4.fastTCPFailed=true;}try{if(h8X==4&&u8X==200){var y9X=X8X.responseXML;if(y9X){X4("populating fast tcp");var r9X;if(y9X.documentElement){r9X=y9X.documentElement;}else{r9X=y9X;}if(r9X&&r9X.firstElementChild){var k9X=r9X.firstElementChild;var I9X="";var E9X="";if(k9X){if(k9X.hasAttribute("key")){E9X=k9X.getAttribute("key");I9X=k9X.childNodes[0].nodeValue;i9X=E9X+":"+I9X;}while(k9X.nextElementSibling){k9X=k9X.nextElementSibling;if(k9X.hasAttribute("key")){E9X=k9X.getAttribute("key");I9X=k9X.childNodes[0].nodeValue;if(i9X){i9X+=","+E9X+((1940,1630)>3969?(0x11e7,0x1ed9):":")+I9X;}else{i9X=E9X+":"+I9X;}}}}}}}if(i9X){e4.ftcp=i9X;}}catch(f8X){X4("Exception,  read fast tcp"+f8X);}}function m8(){return H4(D4)/1000;}function g2(c8X,R8X){try{var F8X=c8X.akamai;if(h4&&h4.logInterval&&!R8X){F8X.fastTCPServerIpTimer=V4(g2,h4.logInterval,[c8X]);}if(!R6){C9(c8X);}if(!e4.fastTCPFailed&&e4.fastTCPEnabled){F9(c8X);}if(R6&&e4.fastTCPFailed){q4(F8X.fastTCPServerIpTimer);}}catch(U8X){X4("Exception get fast tcp server ip");}}function z4(W8X,z8X,B8X){if(B8X==null){B8X="";}try{if(z8X==""||z8X==null){return;}W8X=W8X.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e8X=new RegExp("[\\?&]"+W8X+"=([^&#]*)");var S8X=e8X.exec(z8X);if(S8X==null){return B8X;}else{return S8X[1];}}catch(n8X){X4("Exception,  getValueFromQueryString :"+n8X);return B8X;}}function i7(){try{var g5X=g4("HTML_BitRateBucketCsv");var P5X=w2.split(",");var M5X=g5X.split(",");var a5X=0;for(var b5X in L4.bitRatePlayTime){b5X=parseInt(b5X);a5X=parseInt((b5X-1)/500000);if(a5X>7){a5X=7;}M5X[a5X]=parseInt(M5X[a5X])+L4.bitRatePlayTime[b5X];P5X[a5X]=parseInt(P5X[a5X])+L4.bitRatePlayTime[b5X];}g5X=M5X.join(",");T4("HTML_BitRateBucketCsv",g5X);w2=P5X.join(",");}catch(L5X){X4("Exception set bit rate bucketcsv"+L5X);}}function V4(j8X,Q8X,k8X){try{var A8X=null;A8X=setTimeout(function(){j8X.apply(undefined,k8X);},Q8X);return A8X;}catch(i8X){X4("Exception, set window timeout:"+i8X);try{A8X=window.setTimeout(function(){j8X.apply(undefined,k8X);},Q8X);}catch(I8X){return null;}return A8X;}}function e6(K9X,a9X){X4("set RebufferSession : curTime = "+a9X);try{var b9X=Math.round(a9X-K9X.lastLogTime-K9X.curRebufferTime);var N9X=Math.round(K9X.curRebufferTime);K9X.currRebufferEndEpoch=Math.round(a9X);K9X.currRebufferStartEpoch=Math.round(a9X-N9X);if(N9X>h4.isSessionWithRebufferLimit){K9X.isSessionWithRebuffer=1;}if(K9X.rebufferSession){K9X.rebufferSession=K9X.rebufferSession+";"+b9X+":"+N9X;}else{K9X.rebufferSession=b9X+":"+N9X;}}catch(g9X){X4("Error, set RebufferSession"+g9X.message);}}var o6=-1;function h6(){return((1+Math.random())*65536|0).toString(16).substring(1);}var B9=null;function q2(h5q){X4("subscribeToEvents : video = "+h5q);var f5q=["abort","error","play","pause","playing","waiting","seeking","seeked","ended","timeupdate"];var D5q=["progress","load","durationchange"];Z4=h5q;try{h5q.addEventListener("play",K4.play=function(){s4(D4);},false);h5q.addEventListener("pause",K4.pause=function(){W2(D4);},false);h5q.addEventListener("error",K4.error=function(){D2(D4);},false);h5q.addEventListener("ended",K4.ended=function(){Y7(D4);},false);h5q.addEventListener("playing",K4.playing=function(){J4(D4);},false);h5q.addEventListener("waiting",K4.waiting=function(){A2(D4);},false);h5q.addEventListener("timeupdate",K4.timeupdate=function(){M2(D4);},false);h5q.addEventListener("load",K4.load=function(){X8(D4);},false);h5q.addEventListener("progress",K4.progress=function(){C8(D4);},false);h5q.addEventListener("durationchange",K4.durationchange=function(){w8(D4);},false);h5q.addEventListener("canplay",K4.canplay=function(){D8(D4);},false);h5q.addEventListener("loadstart",K4.loadstart=function(){h8(D4);},false);X4("subscribed to events completed");}catch(C5q){X4("Exception,  subscribeToEvents,unable to add listeners to video tag :"+C5q);}}function o7(){try{var m9q="feedback:";var N9q=m9q.length;var K9q=false;var a9q=P4();for(var G9q in w4){if(G9q.indexOf(m9q)!=-1){var b9q=G9q.substring(N9q);w4[b9q]=w4[G9q];delete w4[G9q];K9q=true;}}q9();X4("handleFeedbackEvent");if(F4&&F4.shouldSendFLine&&F4.akamai&&(F4.akamai.isCLineSent||F4.akamai.postRollTimer)){if(K9q){F4.akamai.customDataChanged=true;}if(F4.fLineCount<F4.limit){y4(F4,"feedback",false,a9q);}++F4.fLineCount;F4.akamai.customDataChanged=false;F4.akamai.socialSharing=null;}}catch(g9q){X4("Exception, handle feed back event :"+g9q);}}var W4={};function q4(E8X){try{clearTimeout(E8X);}catch(y8X){X4("Exception clear window timeout:"+y8X);try{window.clearTimeout(E8X);}catch(r8X){}}}var w6=[];var m4={pageURLCsmaDebug:0,configURLCsmaDebug:0,configDebug:0,windowOpened:false,logStoredMsg:true,printException:false};var C4=new Z7();function O8(v2X,V2X,p2X){var d2X;if(K6){d2X=new XDomainRequest();d2X.onload=function(){X4("XML Request : xmlClient.onload");v2X((6660,88.18)<=6109?"4":(0x2574,true),"200",d2X.responseText);};d2X.onerror=function(Z2X){X4("Error, ais request");};d2X.open("GET",V2X,p2X);d2X.send(null);}else{d2X=new XMLHttpRequest();d2X.responseType="json";d2X.open("GET",V2X,p2X);if(d2X.overrideMimeType){d2X.overrideMimeType("application/json");}d2X.onreadystatechange=function(){v2X(d2X.readyState,d2X.status,d2X.responseText);};d2X.send(null);}}function z9(){try{X4("deleteExpiredDataFromLocalStorage");var U0s=P4();var R0s=null;var q0s=window.localStorage.length;for(var c0s=q0s-1;c0s>=0;c0s--){var F0s=window.localStorage.getItem(window.localStorage.key(c0s));if(typeof F0s!=="undefined"&&F0s!==null&&F0s.indexOf("expiryDate")!==-1){var Y0s=JSON.parse(F0s);if(typeof Y0s!=="undefined"&&Y0s!==null&&typeof Y0s.expiryDate!=="undefined"&&Y0s.expiryDate!==null){R0s=Date.parse(Y0s.expiryDate);if(R0s<=U0s){window.localStorage.removeItem(window.localStorage.key(c0s));}}}}}catch(o0s){}}var R4={setDataArr:["adId","adDuration","adTitle","adCategory","adPartnerId","adServer","adDaypart","adIndustryCategory","adEvent"],clearAdAnalytics:function(){this.isAdLoaded=false;this.isAdStarted=false;this.id="";this.type="0";this.startPos="0";this.playBucket="-1";this.endStatus="2";this.adLoadTime=null;this.adStartTime=null;this.adStartupTime=153!=(5860,416)?"0":(1.99e+3,750);for(var V0X=0;V0X<this.setDataArr.length;V0X++){this[this.setDataArr[V0X]]="";}}};var L4={bitRateArr:[],currentBitRate:"-",currentStartPos:0,bitRateCount:{},bitRatePlayTime:{},bitRateBucketMap:{},clearBitRate:function(){this.bitRateArr=[];this.currentBitRate="-";this.bitRateCount={};this.bitRatePlayTime={};},updateBitRateArr:function(p0X){if(this.bitRateArr.length>0){var B0X=this.bitRateArr.length;var Z0X=L4.bitRateArr[B0X-1];if(this.currentBitRate==Z0X.bitRate){Z0X.playTime+=p0X;}else{this.pushInBitRateArr(p0X,this.currentBitRate,this.currentStartPos);}}else{this.pushInBitRateArr(p0X,this.currentBitRate,this.currentStartPos);}},pushInBitRateArr:function(W0X,z0X,S0X){this.bitRateArr.push({bitRate:z0X,playTime:W0X,startPos:S0X});},populateBitRateBucketMap:function(e0X,j0X){var n0X,s0X=false;var J0X=B4.bitRateBucketTimes;if(e0X!="-"&&e0X!==""){e0X=parseInt(e0X/1000);}for(var A0X in J0X){s0X=false;n0X=J0X[A0X];if(e0X=="-"||e0X===""||e0X<0){if(!n0X.max&&!n0X.min){s0X=true;break;}}else{if(n0X.max&&n0X.min){if(e0X>=n0X.min&&e0X<n0X.max){s0X=true;break;}}else{if(n0X.max){if(e0X<n0X.max){s0X=true;break;}}else{if(n0X.min){if(e0X>=n0X.min){s0X=true;break;}}}}}}if(s0X){this.bitRateBucketMap[A0X]+=j0X;}},findMaxPersistentBitRate:function(){try{if(this.bitRatePlayTime){var Q0X=0,i0X=-1;for(var k0X in this.bitRatePlayTime){if(this.bitRatePlayTime[k0X]>i0X){i0X=this.bitRatePlayTime[k0X];Q0X=k0X;}}if(Q0X!==0){return Q0X;}}}catch(I0X){X4("Exception, find max persistent bit rate");}},getTransitionSession:function(h1X){try{var X1X=null;var E0X,y0X,u1X="";var r0X=0,w1X,C1X=0,D1X=0;var f1X=true;if(this.bitRateArr.length>0){E0X=this.bitRateArr[0];if(E0X.bitRate=="-"){f1X=false;if(this.bitRateArr[1]&&this.bitRateArr[1].bitRate!="-"){f1X=true;this.bitRateArr[1].startPos=this.bitRateArr[0].startPos;this.bitRateArr[1].playTime+=this.bitRateArr[0].playTime;this.bitRateArr.shift();}}}for(y0X in this.bitRateBucketMap){this.bitRateBucketMap[y0X]=0;}for(r0X=0;r0X<this.bitRateArr.length;r0X++){E0X=this.bitRateArr[r0X];if(E0X.bitRate in this.bitRateCount){if(r0X!=0){this.bitRateCount[E0X.bitRate]++;}}else{this.bitRateCount[E0X.bitRate]=1;}if(E0X.bitRate!=""&&E0X.bitRate!="-"){if(E0X.bitRate in this.bitRatePlayTime){this.bitRatePlayTime[E0X.bitRate]+=E0X.playTime;}else{this.bitRatePlayTime[E0X.bitRate]=E0X.playTime;}}w1X=this.bitRateCount[E0X.bitRate];if(X1X){X1X+=","+E0X.bitRate+":"+E0X.startPos+":"+E0X.playTime+"::"+w1X;}else{X1X=E0X.bitRate+":"+E0X.startPos+":"+E0X.playTime+"::"+w1X;}this.populateBitRateBucketMap(E0X.bitRate,E0X.playTime);try{if(f1X){C1X+=E0X.bitRate*E0X.playTime;D1X+=E0X.playTime;}}catch(Y1X){}}h1X.maxPersistentBitRate=this.findMaxPersistentBitRate();h1X.transitionStreamTimeSession=X1X;for(y0X in this.bitRateBucketMap){if(u1X){u1X+=((7691,4674)!==4820?",":(920.23,"H"))+y0X+":"+this.bitRateBucketMap[y0X];}else{u1X=y0X+":"+this.bitRateBucketMap[y0X];}}h1X.bitRateBucketTimes=u1X;try{if(f1X&&D1X&&D1X!=0){h1X.averagedBitRate=C1X+":"+D1X;}else{h1X.averagedBitRate=null;}}catch(c1X){}}catch(F1X){X4("Exception, get transition Session :"+F1X);}}};amaURLUtility=function(){};amaURLUtility.isURL=function(U1X){var R1X=new RegExp("((http|https)(://))?([a-zA-Z0-9]+[.]{1}){2}[a-zA-z0-9]+(/{1}[a-zA-Z0-9]+)*/?","i");if(!R1X.test(U1X)){return false;}return true;};function K7(J8q,n8q){var s8q,S8q;var A8q=P4(null,true);if(D4!=null&&D4.isBrightcoveVideo){D4.currentTime=parseInt(J8q);S8q=parseInt(J8q*1000);n8q=D4;}else{S8q=parseInt(H4(n8q));}if(S8q=="undefined"||isNaN(S8q)||S8q==""){return;}s8q=n8q.akamai;var e8q=s8q.currentState;if(e8q.state==Y4.ended){return;}if(n8q.objectBased&&s8q.wasPutToSleep===true&&S8q===e8q.pollingTimerStreamTime){if(s8q.pollingTimer){q4(s8q.pollingTimer);}s4(D4);J4(D4);}else{if(n8q.objectBased){M2(n8q);}else{if(e8q.state==Y4.pause||e8q.state==Y4.seek){return;}if(S8q!=0&&S8q===e8q.pollingTimerStreamTime&&e8q.state!=Y4.rebuffering){X4("check stream head position, call handle waiting event");A2(n8q);}else{e8q.pollingTimerStreamTime=S8q;}}}}function s9(s8X){var J8X=s8X.akamai;q4(J8X.fastTCPServerIpTimer);if(x6){g2(s8X);}}function T9(N8X){var K8X=W4.viewerId;if(K8X=="-"){return;}if(!K8X){try{if(window&&window.localStorage&&window.localStorage.getItem("akamai_clientId")){K8X=window.localStorage.getItem("akamai_clientId");}else{try{K8X=u2();if(window&&window.localStorage){window.localStorage.setItem("akamai_clientId",K8X);}}catch(a8X){X4("window.localStorage Exception :"+a8X);}}}catch(b8X){X4("Exception,  getting viewerId"+b8X);K8X=u2();}}return K8X;}function S2(Z4q){if(Z4q&&Z4q.customMetrics){for(var B4q in Z4q.customMetrics){if(!(B4q in O2)){this[B4q]=Z4q.customMetrics[B4q];}}}this.userAgent=T2;this.playerType="HTML5";if(Q4!=null&&E4!=null){this.pluginVersion="JS-"+X6+":"+Q4+"-"+E4;}else{if(D4.objectBased){this.pluginVersion="JS-"+X6;}else{this.pluginVersion="HTML5-"+X6;}}this.os=l4;this.fullOs=I6;this.osVersion=P6;this.browser=C6;this.browserVersion=g6;this.browserSize=window.innerWidth+"x"+window.innerHeight;this.rebufferCount=0;this.bytesLoadedCallback=0;this.lastBytesLoaded=0;this.currRebufferEndEpoch=0;this.totalPlayClockTime=0;this.totalPlayStreamTime=0;this.totalRebufferCount=0;this.totalRebufferTime=0;this.totalPauseCount=0;this.totalPauseDuration=0;this.totalSeekCount=0;this.totalSeekTime=0;this.totalResumeBufferCount=0;this.totalResumeBufferTime=0;this.totalAdPlayClockTime=0;this.totalAdStartCount=0;this.totalAdAbandonCount=0;this.updateTerminateMetrics=function(){try{if(this.playClockTime){this.totalPlayClockTime+=parseInt(this.playClockTime);}if(this.playStreamTime){this.totalPlayStreamTime+=parseInt(this.playStreamTime);}if(this.rebufferCount){this.totalRebufferCount+=parseInt(this.rebufferCount);}if(this.rebufferTime){this.totalRebufferTime+=parseInt(this.rebufferTime);}if(this.pauseCount){this.totalPauseCount+=parseInt(this.pauseCount);}if(this.pauseDuration){this.totalPauseDuration+=parseInt(this.pauseDuration);}if(this.seekCount){this.totalSeekCount+=parseInt(this.seekCount);}if(this.seekTime){this.totalSeekTime+=parseInt(this.seekTime);}if(this.resumeBufferCount){this.totalResumeBufferCount+=parseInt(this.resumeBufferCount);}if(this.resumeBufferTime){this.totalResumeBufferTime+=parseInt(this.resumeBufferTime);}if(this.adPlayClockTime){this.totalAdPlayClockTime+=parseInt(this.adPlayClockTime);}if(this.adCount){this.totalAdStartCount+=parseInt(this.adCount);}if(this.adAbandonCount){this.totalAdAbandonCount+=parseInt(this.adAbandonCount);}var W4q=P4();this.startupAbondonWaitTime=W4q;this.playInterval=W4q;}catch(z4q){X4("Unable to update cumulative metrics");}};this.clearRelativeMetrics=function(){var e4q=["rebufferCount","rebufferTime","playClockTime","playStreamTime","seekCount","seekTime","pauseCount","pauseDuration","resumeBufferCount","resumeBufferTime","averagedBitRate","transitionUpSwitchCount","transitionDownSwitchCount","rebufferSession","curRebufferTime","adCount","adPlayClockTime","adStartupTime","adAbandonCount","adPauseTime"];this.updateTerminateMetrics();for(var S4q=0;S4q<e4q.length;++S4q){this[e4q[S4q]]=0;}this.pauseIntervalsAsString="-";this.seekIntervalsAsString="-";this.pauseSeekSession="-";this.transitionStreamTimeSession="-";this.socialSharing=null;this.adSession=null;F4.socialSharing=null;F4.socialSharingObj={};L4.bitRateArr=[];delete this.rebufferSession;};this.populateMetricsFromConfiguration=function(){this.beaconId=B6.beaconId;this.beaconVersion=B6.beaconVersion;this.logType=h4.logType=="relative"?"R":"C";this.logVersion=h4.logVersion;this.startupTimeOutlierLimit=h4.startupTimeOutlierLimit;this.formatVersion=h4.formatVersion;this.bucketCount=H6.bucketCount;this.bucketLength=H6.bucketLength;for(var n4q in G4){if(G4[n4q]){for(var s4q=0;s4q<G4[n4q].length;s4q++){if(G4[n4q][s4q].value){this[G4[n4q][s4q].name]=G4[n4q][s4q].value;}}}}};this.initPlayed=function(J4q){this.played.push([J4q,J4q]);this.playingIndex=0;};this.updatePlayClockTime=function(A4q,j4q,Q4q){this.playClockTime+=A4q;L4.updateBitRateArr(A4q);};this.updatePlayed=function(E4q,I4q){var i4q=this.played;if(!i4q){return;}for(var k4q=0;k4q<i4q.length;k4q++){}for(var k4q=this.playingIndex;k4q<i4q.length&&E4q>i4q[k4q][0];k4q++){}if(k4q!=this.playingIndex){i4q[this.playingIndex][1]=Math.max(E4q,i4q[k4q-1][1]);i4q.splice(this.playingIndex+1,k4q-this.playingIndex-1);}else{i4q[this.playingIndex][1]=Math.max(E4q,i4q[this.playingIndex][1]);}if(I4q==null){return;}for(k4q=0;k4q<i4q.length;k4q++){if(i4q[k4q][0]<=I4q&&i4q[k4q][1]>=I4q){this.playingIndex=k4q;return;}else{if(k4q+1<i4q.length&&i4q[k4q][1]<I4q&&i4q[k4q+1][0]>I4q){k4q++;this.playingIndex=k4q;i4q.splice(k4q,0,[I4q,I4q]);return;}}}if(k4q==i4q.length){i4q.push([I4q,I4q]);this.playingIndex=k4q;}};this.isVisitEnd=0;this.sequenceId="0";this.isSLineSent=false;this.sendVLine=false;this.played=[];this.iLineCount=0;this.isPlaylist=false;this.isFirstTitle=1;this.currentState={state:Y4.ended,lastEventClockTime:0,pauseStartStreamTime:0,pauseStartClockTime:0,timeUpdateStreamTime:0,timeUpdateClockTime:0,pollingTimerStreamTime:0,seekStartStreamPos:0};this.seekObject={seekStartEpochTime:-1,seekEndEpochTime:-1,seekStartStreamTime:-1,seekEndStreamTime:-1};this.clearRelativeMetrics();X4("value of configurationPopulated"+r4);if(r4){this.populateMetricsFromConfiguration();}this.loadStartILine=false;this.canPlayUpdated=false;this.canPlayEventAutoPlay=true;this.format="P";this.playerFormat=this.playerType+":"+this.format;this.deliveryType="O";this.firstTimeProgress=true;this.firstTimePlay=true;this.isILineSent=false;this.seekFrom=0;this.lastPlayStreamTime=0;this.lastPlayLogTime=0;this.lastLogTime=0;this.curRebufferTime=0;this.sendIsSessionWithRebufferH=1;}function H9(){var b8q={};var g8q;var P8q;try{if(C4&&C4.aisCustomDataObj){if(!C4.akamai){C4.akamai={};}for(var M8q in C4.aisCustomDataObj){g8q=C4.aisCustomDataObj[M8q].split("/");if(g8q[0]=="INIT"&&C4.initObj){b8q=C4.initObj;}else{if(g8q[0]=="IDENTITY"&&C4.identityObj){b8q=C4.identityObj;}}if(b8q){for(P8q=1;P8q<g8q.length;P8q++){if(g8q[P8q]&&b8q[g8q[P8q]]){b8q=b8q[g8q[P8q]];}}if(typeof b8q!="object"){C4.akamai[M8q]=b8q;}}}}}catch(L8q){X4("Exception,  populateAISCustomData"+L8q);}}function d2(u0q,r5X,y5X){if(R2==0){X4("put beacon On Wire, dont send beacon isACtive is zero");return;}var E5X=h4.beaconUrl+"?"+u0q;try{if(N4.enabled){var I5X={};if(N4.browserClose){if(N4.timer){q4(N4.timer);}if(N4.queue&&N4.queue.length>0){while(N4.queue.length>0){I5X=N4.queue.shift();X4("put beacon on wire, send beacon from queue::"+I5X.url,"BEACON");if(!y5X.wasPutToSleep){I4(null,I5X.url,I5X.isSync);}}}X4("put beacon on wire browser close::"+E5X,"BEACON");if(!y5X.wasPutToSleep){I4(null,E5X,r5X);}}else{X4("put beacon on wire pushing beacon in queue::"+E5X);I5X.url=E5X;I5X.isSync=r5X;N4.queue.push(I5X);if(N4.timer){X4("put beacon on wire: timer is running");}else{X4("put beacon on wire: call send delayed beacon");if(!y5X.wasPutToSleep){F7();}}}}else{X4("put beacon on wire"+E5X,"BEACON");if(!y5X.wasPutToSleep){I4(null,E5X,r5X);}}}catch(X0q){X4("failed to send beacon");X4(X0q);}}amaURLUtility.parseURLComponents=function(K1X){var q1X={};var m1X=/(\w+):\/\/([^\/:]+):?([^\/]+)?(\/[^#?]*)#?([^?]+)?\??(.+)?/;try{var o1X=m1X.exec(K1X);q1X.protocol=o1X[1];q1X.hostName=o1X[2];q1X.port=o1X[3]?o1X[3]:"80";q1X.path=o1X[4];var t1X=this.path.split("/");var l1X=t1X.length;q1X.name=t1X[l1X-1];var G1X=q1X.name.toLowerCase();if(G1X.indexOf(".m3u")!=-1||G1X.indexOf("manifest")!=-1||G1X.indexOf(".f4m")!=-1||G1X.indexOf(".mpd")!=-1){if(l1X>=3){q1X.name=t1X[l1X-2]+"/"+t1X[l1X-1];}}q1X.hash=o1X[5]?o1X[5]:"";q1X.search=o1X[6]?o1X[6]:"";q1X.host=q1X.hostName+":"+q1X.port;}catch(N1X){console.log("Exception,  parseStreamUrl :"+N1X);}return q1X;};function J7(){try{var j6X="";for(var Q6X in m6){if(m6[Q6X]){if(!(Q6X in w4)){if(j6X){j6X+=", "+Q6X;}else{j6X=Q6X;}}}}if(j6X){j6X="Following dimensons have not being set : "+j6X;j6X+="<ul style='list-style-type:circle;margin:0'>";j6X+="<li>Please refer 'Set Custom Data' section in Integration guide for more details.</li></ul>";X4(j6X,"INTEGRATION");}}catch(k6X){}}streamError={InvalidURL:"URL is not valid",ParsingFailed:"Failed to parse stream URL",Invalid_Manifest:"Invalid manifest received",Invalid_Stream:"Stream is not valid",NoError:"success"};streamInfoBase=function(a1X,b1X){this.url=a1X;this.name=null;this.length=0;this.format=null;this.deliveryType="O";this.isValid=false;this.streamType=null;this.callback=b1X;};function X8(z3q){try{if(d4(z3q)){return;}var S3q=z3q.akamai;if(S3q.firstTimeProgress){}}catch(e3q){}}streamInfoBase.prototype.getStreamURL=function(){return this.url;};streamInfoBase.prototype.getStreamName=function(){return this.name;};function D9(n9X){var s9X=n9X.readyState;var S9X=n9X.status;if(parseInt(S9X/100)===4||S9X===0){X4("readServerIp: serverIpFailed request falied as status is ,in 400 series");R6=true;}if(s9X==4&&S9X==200){var z9X=n9X.responseXML;if(z9X){var e9X;if(z9X.documentElement){e9X=z9X.documentElement;}else{e9X=z9X;}if(U2){L6.serverip=e9X.getElementsByTagName("ip")[0].childNodes[0].nodeValue;}else{L6.serverip=e9X.getElementsByTagName("serverip")[0].childNodes[0].nodeValue;}X4("readServerIp : diagnostics.serverip =  "+L6.serverip);}}}streamInfoBase.prototype.getStreamLength=function(){return this.length;};streamInfoBase.prototype.getStreamFormat=function(){return this.format;};function Z2(){W4.viewerId=w4.viewerId?w4.viewerId:null;W4.viewerDiagnosticsId=w4.viewerDiagnosticsId?w4.viewerDiagnosticsId:w4.viewerId?w4.viewerId:null;}streamInfoBase.prototype.getDeliveryType=function(){return this.deliveryType;};streamInfoBase.prototype.getStreamType=function(){return this.streamType;};function X9(i5q,k5q){try{if(typeof i5q!=="undefined"&&i5q!==null&&typeof k5q!=="undefined"&&k5q!==null){var r5q=i5q[I7(k5q.name)];var I5q=q6.SHA1(r5q).toString();var E5q=S9(I5q);var Q5q=0;var y5q=P4();if(E5q){Q5q=y5q-parseFloat(E5q);Q5q=Q5q/1000/60;Q5q=Q5q>0?Q5q.toFixed(2):0;}W9(I5q,y5q,k5q.expiryDuration);i5q[k5q.name]=Q5q.toString();}}catch(u0s){X4("Exception,  calculateUniqueDimension :"+u0s);}}function X7(T1q,v1q){X4("populate custom data, eventCode = "+v1q);try{M9(T1q);T1q.deliveryType=u9(T1q);T1q.device=w4.device?w4.device:S4;if(v1q=="playing"||v1q=="complete"||v1q=="feedback"||v1q=="error"){o9(T1q);if((T1q.socialSharing==null||T1q.socialSharing=="")&&v1q=="feedback"&&!T1q.customDataChanged){--F4.fLineCount;return;}}var d1q;for(d1q in w4){if(d1q!="viewerId"&&d1q!="clientId"&&d1q!="viewerDiagnosticsId"){if(!(d1q in O2)){T1q[d1q]=w4[d1q];}}}if(C4&&C4.akamai){for(var V1q in C4.akamai){T1q[V1q]=C4.akamai[V1q];}}K9(T1q);T1q.cdn=E6(T1q);}catch(p1q){X4("Exception,  populate Custom Data , "+p1q);}}streamInfoBase.prototype.getCallback=function(){return this.callback;};function g9(F9q){var c9q=D4.akamai;c9q.streamTitleSwitchReason="Stream.Switched";U6(D4,F9q);}streamInfoBase.prototype.parseURL=function(){var x1X=/(\w+):\/\/([^\/:]+):?([^\/]+)?(\/[^#?]*)#?([^?]+)?\??(.+)?/;try{var g1X=x1X.exec(this.url);this.protocol=g1X[1];this.hostName=g1X[2];this.port=g1X[3]?g1X[3]:"80";this.path=g1X[4];var P1X=this.path.split("/");var M1X=P1X.length;this.name=P1X[M1X-1];var L1X=this.name.toLowerCase();if(L1X.indexOf(".m3u")!=-1||L1X.indexOf("manifest")!=-1||L1X.indexOf(".f4m")!=-1||L1X.indexOf(".mpd")!=-1){if(M1X>=3){this.name=P1X[M1X-2]+"/"+P1X[M1X-1];}}this.hash=g1X[5]?g1X[5]:"";this.search=g1X[6]?g1X[6]:"";this.host=this.hostName+":"+this.port;}catch(O1X){console.log("Exception,  parseStreamUrl :"+O1X);}};function T6(R5q){try{if(typeof akamaiBCVideoObject!="undefined"){Z4=akamaiBCVideoObject;D4.isBrightcoveVideo=true;initBrightcove();}else{if(D4.objectBased||D4.videoPassed){}else{if(document){var c5q=document.getElementsByTagName("video");X4("add MediaEvent Listeners : videos.length "+c5q.length);if(c5q&&c5q.length==0){c5q=document.getElementsByTagName("audio");}for(var F5q=0;F5q<c5q.length;++F5q){q2(c5q[F5q]);}document.addEventListener("DOMNodeInserted",m2,false);document.addEventListener("DOMNodeRemoved",m2,false);document.addEventListener("DOMAttrModified",m2,false);}}}if(R5q){if(R5q.type=="DOMContentLoaded"){document.removeEventListener("load",T6,true);}else{if(R5q.type=="load"&&c5q&&c5q.length>0){document.removeEventListener("load",T6,true);}}}}catch(U5q){X4("Exception,  add MediaEvent Listeners :"+U5q);}}function y6(I1q,i1q){var i1q=i1q||{};try{for(var k1q in I1q){if(typeof I1q[k1q]==="object"&&I1q[k1q]){i1q[k1q]=I1q[k1q].constructor===Array?[]:{};y6(I1q[k1q],i1q[k1q]);}else{i1q[k1q]=I1q[k1q];}}return i1q;}catch(E1q){}}function l7(){try{var y4q,r4q;for(y4q in G4){if(G4[y4q]){for(r4q=0;r4q<G4[y4q].length;r4q++){if(G4[y4q][r4q].isSent&&G4[y4q][r4q].isSent===true){G4[y4q][r4q].isSent=false;}}}}}catch(u6q){}}function y7(p5X){try{var V5X=g4("HTML_VisitValueCookie");var H5X=V5X.split((51.27,666)!==4886?"|":0xfb7);var d5X=true;if(H5X==""||H5X==null){d5X=false;}var Z5X;var T5X=[];if(d5X){T5X=H5X;}else{T5X=C2;}var v5X=["visitAttempts","visitPlays","visitViews","visitErrors","visitPlayClockTime","visitPlayStreamTime","visitRebufferCount","visitRebufferTime","visitAdPlayClockTime","visitAdStartCount","visitAdAbandonCount","visitStartupErrors"];for(var O5X=0;O5X<v5X.length;O5X++){p5X[v5X[O5X]]=T5X[O5X];}}catch(B5X){X4("Exception get visit value  cookie : "+B5X);}}function G9(I7q){if(I7q&&I7q.coords){D4.akamai.latitude=I7q.coords.latitude;D4.akamai.longitude=I7q.coords.longitude;}}function M6(r8q){var y8q="";try{if(r8q){if(r8q.objectBased){if(t4&&t4.streamURL){y8q=t4.streamURL();r8q.currentSrc=y8q;}}else{if(w4.streamURL){y8q=w4.streamURL;}else{y8q=Z4.currentSrc;r8q.currentSrc=y8q;}}}}catch(u3q){}return y8q;}var X2=function(H1X,T1X,d1X,v1X){try{H1X.prototype=Object.create(T1X.prototype,{url:{value:d1X,enumerable:false},callback:{value:v1X,enumerable:false}});}catch(V1X){console.log("Exception thrown from InheritObject"+V1X);}};function S6(g0q,H0q,n0q){try{X4("getBeaconStrings : eventCode =  "+H0q);var J0q=G4.common;var e0q=[];var z0q=G4[H0q];if(z0q==null||z0q=="undefined"){X4("getbeaconstrings, return as eventmetrics undefined");return;}var O0q=[];var B0q={};if(!g0q.eventCode){g0q.eventCode=J6[H0q];}V2(g0q,J0q,e0q,B0q);if(H0q=="error"){g0q.updateTerminateMetrics();U7(g0q,M4);}if(H0q=="complete"){g0q.updateTerminateMetrics();var s0q=G4.playing;U7(g0q,M4);V2(g0q,s0q,O0q,B0q);}V2(g0q,z0q,O0q,B0q);var L0q=e0q.join(h4.urlParamSeparator);L0q=Q2(L0q);var d0q=0;try{for(var S0q in N6){if(h4.useKey){d0q+=N6[S0q].length+3+h4.urlParamSeparator.length;}else{d0q+=S0q.length+3+h4.urlParamSeparator.length;}}}catch(A0q){d0q=12;}d0q--;var v0q=h4.maxLogLineLength-d0q-L0q.length-3-h4.beaconUrl.length;if(v0q<=0){v0q=4780-d0q-L0q.length-3-h4.beaconUrl.length;}var T0q=[];var P0q="";if(v0q>0){if(O0q.length>0){var Z0q;var M0q="";var x0q="";for(Z0q=0;Z0q<O0q.length;Z0q++){x0q=Q2(O0q[Z0q]);if(x0q.length>=v0q){T0q.push(x0q);}else{if(M0q.length+x0q.length<=v0q){if(M0q){M0q+=h4.urlParamSeparator+x0q;}else{M0q=x0q;}}else{T0q.push(M0q);M0q="";}}}if(M0q!=""){T0q.push(M0q);}}var p0q=T0q.length;if(p0q>1){for(var V0q=1;V0q<=p0q;++V0q){P0q=L0q+h4.urlParamSeparator;P0q+=(h4.useKey?N6.partNumber:"partNumber")+"="+V0q+h4.urlParamSeparator;P0q+=(h4.useKey?N6.totalParts:"totalParts")+"="+p0q+h4.urlParamSeparator;P0q+=T0q[V0q-1];P0q+=h4.urlParamSeparator;if(G4[H0q]){d2(P0q,n0q,g0q);}}}else{P0q=L0q+h4.urlParamSeparator+T0q[0]+h4.urlParamSeparator;d2(P0q,n0q,g0q);}}else{var W0q=O0q.join(h4.urlParamSeparator);W0q=Q2(W0q);P0q=L0q+h4.urlParamSeparator+W0q+h4.urlParamSeparator;if(G4[H0q]){d2(P0q,n0q,g0q);}}}catch(j0q){X4("Exception, get beacon Strings:"+j0q);}}hlsStreamInfo=function(Z1X){this.recursiveDownload=false;this.isParsed=false;this.parse=function(n1X){try{if(!n1X){return streamError.InvalidURL;}if(n1X.search("#EXTM3U")===-1){return streamError.ParsingFailed;}this.streamType="hls";this.format="L";this.parseURL();var S1X=n1X.split("\n");var A1X="";var J1X=/PROGRAM-ID=(\d+)/;var B1X,e1X;if(S1X){for(e1X=0;e1X<S1X.length;e1X++){if(B1X=J1X.exec(S1X[e1X])){if(B1X[1]==A1X){break;}else{A1X=B1X[1];}}}if(e1X!=S1X.length){this.format="L";}}var k1X=this.getStreamURL();var Q1X,j1X,E1X,I1X;if(k1X){var i1X=/(\w+):\/\/([^\/:]+):?([^\/]+)?(\/[^#?]*)#?([^?]+)?\??(.+)?/;var z1X=i1X.exec(k1X);Q1X=z1X[1];j1X=z1X[2];E1X=z1X[3]?z1X[3]:"80";I1X=z1X[4];}J1X=/^#EXT((INF)|(-X-STREAM-INF))[^\n]*\n([^\n]*)\n/m;console.log("Checking");if(B1X=J1X.exec(n1X)){console.log("Checking done "+B1X[4]);if(/.m3u8$/.exec(B1X[4])&&Q1X&&j1X){try{this.recursiveDownload=true;var W1X=new XMLHttpRequest();var s1X;if(!amaURLUtility.isURL(B1X[4])){s1X=Q1X+"://"+j1X+B1X[4];}else{s1X=B1X[4];}console.log("Requesting URL = "+s1X);W1X.open("GET",s1X,true);W1X.onreadystatechange=function(y1X){return function(){console.log("current content type from stream url is = "+this.getResponseHeader("content-type"));if(this.readyState===4){if(this.status===200&&this.responseText){if(/^#EXT-X-ENDLIST/m.exec(this.responseText)){y1X.deliveryType="O";}else{y1X.deliveryType=8790<=1320?(3.91e+3,4.14e+3):"L";y1X.length="-1";}}y1X.getCallback()(y1X);}};}(this);if(W1X.overrideMimeType){W1X.overrideMimeType("text/plain");}W1X.send(null);}catch(r1X){console.log("parsePlaylist, Exception,  parsing play list, "+r1X);}}else{if(/^#EXT-X-ENDLIST/m.exec(n1X)){this.deliveryType="O";}}}}catch(u4X){console.log("Exception,  parsePlaylist : "+u4X);}this.isParsed=true;return streamError.NoError;};var p1X=this.parse(Z1X);if(p1X===streamError.NoError){if(this.recursiveDownload===false){this.getCallback()(this);}this.streamType="hls";this.deliveryType="O";return this;}else{}};function q8(K3X,m3X){try{var G3X=D4.akamai;if(G3X.clearVisitTimeoutId){q4(G3X.clearVisitTimeoutId);}g7(D4);G3X.logInterval="0";if(!r4){var N3X=y6(G3X);var a3X={element:N3X,code:"init",synch:K3X};t6.push(a3X);}else{S6(G3X,"init",K3X);}G3X.lastLogTime=m3X;++G3X.sequenceId;N7(D4,m3X);G3X.currentState.state=Y4.init;X4(": sendBeaconILineAd : Setting state to init");G3X.currentState.timeUpdateClockTime=m3X;G3X.startTimer=m3X;}catch(b3X){X4("Exception, send I line AD:"+b3X);}}function F6(z5q){try{var W5q=location.pathname.split("/");var Z5q=" path=";document.cookie=z5q+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT;";for(var B5q=0;B5q<W5q.length;B5q++){Z5q+=(Z5q.substr(-1)!="/"?"/":"")+W5q[B5q];document.cookie=z5q+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT;"+Z5q+";";}}catch(S5q){}}function u8(){var p3q="";var B3q=["adId","type","startPos","adStartupTime","adPlayClockTime","playBucket","endStatus","adDuration","adTitle","adCategory","adPartnerId","adServer","adDaypart","adIndustryCategory","adEvent"];try{for(var Z3q=0;Z3q<B3q.length;Z3q++){if(R4[B3q[Z3q]]==0||R4[B3q[Z3q]]!=null&&R4[B3q[Z3q]]!=""){p3q+=R4[B3q[Z3q]]+":";}else{p3q+=670.84<700.56?":":(false,337.60);}}p3q=p3q.substring(0,p3q.length-1);}catch(W3q){}return p3q;}function P7(X3X){X4("startBeaconTImer");var u3X=X3X.akamai;if(u3X.areTimerStarted){return;}X4("startBeaconTimer: starting beacon timer");u3X.firstPLineTimer=V4(e7,h4.secondaryLogTime,[X3X]);u3X.hLineTimer=V4(B7,h4.heartBeatInterval,[X3X]);u3X.fastTCPServerIpTimer=V4(s9,h4.logInterval-5000,[X3X]);if(X3X.objectBased){Q6=500;}u3X.pollingTimer=V4(m7,Q6,[X3X]);u3X.areTimerStarted=true;}function k9(){R4.playBucket="2";}dashStreamInfo=function(h4X){this.isParsed=false;try{this.parse=function(o4X){if(!o4X){return streamError.InvalidURL;}this.parseURL();this.format="Dash";this.streamType="dash";var l4X=new DOMParser();var R4X=l4X.parseFromString(o4X,"text/xml");if(!R4X){return streamError.ParsingFailed;}var D4X=R4X.getElementsByTagName("MPD");if(!D4X||!D4X[0]){return streamError.ParsingFailed;}var t4X=D4X[0].getAttribute("type");if(t4X==="dynamic"){this.deliveryType="L";this.length=0;}else{this.deliveryType="O";var f4X=D4X[0].getAttribute("mediaPresentationDuration").replace("PT","");var w4X=f4X.search("H");var C4X=0;this.length=0;if(w4X!==-1){var q4X=Number(f4X.substring(0,w4X));if(!isNaN(q4X)){this.length+=q4X*60*60*1000;C4X=w4X+1;}}var Y4X=f4X.search("M");if(Y4X!==-1){var c4X=Number(f4X.substring(C4X,Y4X));if(!isNaN(c4X)){this.length+=c4X*60*1000;C4X=Y4X+1;}}var F4X=f4X.search("S");if(F4X!==-1){var U4X=Number(f4X.substring(C4X,F4X));if(!isNaN(U4X)){this.length+=U4X*1000;}}console.log("Current stream length = "+this.length);}this.getCallback()(this);this.isParsed=true;return streamError.NoError;};}catch(G4X){console.log("Exception thrown from dashStreamInfo "+G4X);}var X4X=this.parse(h4X);if(X4X===streamError.NoError){return this;}else{}};function M2(L9q){if(d4(L9q)){return;}try{if(W6){X4("handle time update event, return as inside background state for idevice");return;}var O9q=P4(null,true);var T9q=parseInt(H4(L9q));var x9q=L9q.akamai;if(!x9q){return;}if(x9q.postRollTimer){return;}var M9q=x9q.currentState;var d9q=O9q-M9q.lastEventClockTime;var v9q=O9q-x9q.startTimer;var V9q=M9q.state;var H9q=T9q-M9q.timeUpdateStreamTime;if(M9q.timeUpdateStreamTime!=0){if(Math.abs(H9q)>=h4.seekThreshold&&x9q.isSLineSent){X4("stream diff in time update is "+H9q);h9(L9q,O9q,T9q);}else{if(H9q>0&&H9q<=750){if(L9q.objectBased){if(M9q.state==Y4.seek){J4(L9q);}}else{if(!x9q.isSLineSent||M9q.state==Y4.seek||M9q.state==Y4.rebuffering){X4("handle time update event,  dispatching playing event,  current Video state is : "+D6(M9q.state));J4(L9q);}}}}}M9q.timeUpdateClockTime=O9q;M9q.timeUpdateStreamTime=T9q;}catch(p9q){X4("Exception,  handleTimeupddate :"+p9q);}}function I4(B2X,W2X,z2X,S2X){if(H7){}else{N9(B2X,W2X,z2X,S2X);}}function R9(O2X,H2X){try{var x2X=0;if(O2X!=null&&H2X!=null){var P2X=O2X.split((5286,236.61)!==(944.66,375.8)?".":(0x1548,278.86));var L2X=H2X.split(".");while(P2X.length>L2X.length){L2X.push(0);}while(L2X.length>P2X.length){P2X.push(0);}for(var M2X=0;M2X<P2X.length;M2X++){if(parseInt(P2X[M2X])>parseInt(L2X[M2X])){x2X=1;break;}if(parseInt(P2X[M2X])<parseInt(L2X[M2X])){x2X=-1;break;}}}}catch(T2X){}return x2X;}nonAdaptiveStream=function(m4X){try{this.format="P";this.deliveryType="O";this.streamType="nonAdaptiveStream";this.length=0;this.parseURL();this.getCallback()(this);return this;}catch(K4X){console.log("Exception thrown from nonAdaptiveStream"+K4X);}};var n4={};function E7(){try{if(D4.objectBased||D4.videoPassed){T6();}else{X4("adding MediaEventListeners: DOMContentLoaded");document.addEventListener("DOMContentLoaded",T6,false);X4("adding MediaEventListeners: Load");document.addEventListener("load",T6,true);}}catch(b0s){X4("Exception,  Addding DOMContentLoaded and Load event listeners :"+b0s);}if(window){if(U9()){window.addEventListener("pagehide",t8,false);window.addEventListener("pageshow",e9,false);}else{if(typeof akamaiBCVideoObject!="undefined"&&window.addEventListener){window.addEventListener("beforeunload",u6,false);}else{if(window.addEventListener){try{if(j6()){window.parent.addEventListener("beforeunload",u6,false);}else{window.addEventListener("beforeunload",u6,false);}}catch(g0s){X4("Exception, add window document listeners : "+g0s);window.addEventListener("beforeunload",u6,false);}}else{if(window.attachEvent){try{if(j6()){window.parent.attachEvent("onbeforeunload",u6);}else{window.attachEvent("onbeforeunload",u6);}}catch(P0s){window.attachEvent("onbeforeunload",u6);}}}}}}}function W9(m0s,K0s,l0s){try{var G0s={value:K0s};if(typeof l0s!=="undefined"&&l0s!==null){var t0s=new Date();if(parseInt(l0s)>0){t0s.setDate(t0s.getDate()+parseInt(l0s));}else{t0s.setDate(t0s.getDate()+parseInt(90));}G0s.expiryDate=t0s.toDateString();}window.localStorage.setItem(m0s,JSON.stringify(G0s));}catch(N0s){}}n4.FactoryWithURL=function(b4X,a4X,g4X){var P4X;try{var N4X=new XMLHttpRequest();N4X.open("GET",a4X,true);N4X.onreadystatechange=function(){if(this.readyState===4&&this.status===200&&this.responseText){P4X=n4.FactoryWithContent(b4X,a4X,this.responseText,g4X);}else{}};N4X.send(null);}catch(M4X){console.log("Exception thrown from streamFactory.FactoryWithURL"+M4X);}};function R7(){var Q7q=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(Q7q&&Q7q.type){D4.akamai.connectivity=Q7q.type;}}function Z6(O8q,H8q){try{var x8q=document.createElement("script");x8q.setAttribute("src",O8q);x8q.id=H8q;document.getElementsByTagName("head")[0].appendChild(x8q);}catch(T8q){X4("Exception,  loading JavaScript File "+O8q);}}n4.FactoryWithContent=function(T4X,x4X,O4X,H4X){function v4X(){X2(dashStreamInfo,streamInfoBase,x4X,H4X);return new dashStreamInfo(O4X);}function V4X(){X2(nonAdaptiveStream,streamInfoBase,x4X,H4X);return new nonAdaptiveStream(O4X);}var L4X;try{if("hls"===T4X){L4X=d4X();}else{if("dash"===T4X){L4X=v4X();}else{L4X=V4X();}}}catch(p4X){console.log("Exception thrown from streamFactory.FactoryWithContent "+p4X);}function d4X(){X2(hlsStreamInfo,streamInfoBase,x4X,H4X);return new hlsStreamInfo(O4X);}return L4X;};StreamTypeDetector=function(Z4X,n4X,s4X,W4X){try{if(!Z4X||Z4X===""){return streamError.Invalid_Stream;}if(s4X){var S4X=RegExp(".m3u8");var e4X=RegExp(".mpd");if(S4X.exec(Z4X)){console.log("Found m3u8 as an extension");n4.FactoryWithURL("hls",Z4X,W4X);return;}else{if(e4X.exec(Z4X)){console.log("Found mpd as an extension");n4.FactoryWithURL("dash",Z4X,W4X);return;}else{console.log("Couldn't find either m3u8 or Dash will try mime type");var B4X=new XMLHttpRequest();console.log("To get mime type trying HEAD request");B4X.open("HEAD",B4X,true);if(B4X.overrideMimeType){B4X.overrideMimeType("text/xml");}B4X.onreadystatechange=function(){if(this.readyState===this.DONE){var k4X=this.getResponseHeader("content-type");var i4X=null;if("application/x-mpegURL"===k4X||"vnd.apple.mpegURL"===k4X){console.log("Rceived mime type is m3u8");i4X=n4.FactoryWithContent("hls",Z4X,this.responseText,W4X);}else{if("application/dash+xml"===k4X){console.log("Rceived mime type is dash");i4X=n4.FactoryWithContent("dash",Z4X,this.responseText,W4X);}else{z4X(Z4X,this.responseText,W4X);}}}};B4X.send(null);}}}else{z4X(Z4X,n4X,W4X);}return streamError.NoError;}catch(I4X){console.log("Exception thrown from StreamTypeDetector "+I4X);}function z4X(A4X,j4X,Q4X){console.log("Mime type method didn't work. Lets apply parsers one after another - Brute force");var J4X=n4.FactoryWithContent("hls",A4X,j4X,Q4X);if(!J4X.isParsed){console.log("not a HLS stream");J4X=n4.FactoryWithContent("dash",A4X,j4X,Q4X);if(!J4X.isParsed){console.log("not Dash either... Assuming Progressive download");J4X=n4.FactoryWithContent("nonAdaptive",A4X,j4X,Q4X);}}}};function I7(X0s){dimension="";if(X0s==="viewerInterval"){dimension="viewerId";}else{if(X0s==="viewerTitleInterval"){dimension="title";}}return dimension;}fragmentState={Invalid:"Invalid",InPorgress:"InProgress",Completed:"Completed"};function s4(g2q,v2q){if(d4(g2q)){X4("handle Play Event : video tag is of type AD, return");return;}try{var b2q=P4(v2q);var P2q=M6(g2q);if(g2q.akamai&&g2q.akamai.postRollTimer){X4("handle play event: send the C line without changing set data");q4(g2q.akamai.postRollTimer);delete g2q.akamai.postRollTimer;U6(g2q,b2q);}if(!g2q.objectBased&&!P2q){X4("handle play event, video is null");return;}if(E2(g2q,"play",P2q,b2q)){X4("handle play Event: play is thrown after error, return, curTime = "+b2q);return;}J2(g2q,"play",P2q,b2q);var a2q=g2q.akamai;var x2q=parseInt(H4(g2q));var M2q=a2q.currentState;var H2q=b2q-M2q.lastEventClockTime;var L2q=b2q-a2q.startTimer;var d2q=M2q.state;X4("entered function handle Play Event, current state = "+D6(M2q.state));switch(d2q){case Y4.ended:i6(P2q,a2q);a2q.streamUrl=P2q;a2q.startTimer=b2q;a2q.streamLength=parseInt(z6(g2q));if(P2q!=null&&P2q.indexOf("?")!=-1){P2q=P2q.substring(0,P2q.indexOf("?"));}if(P2q!=null&&P2q!=""&&/.m3u8$/.exec(P2q)){a2q.format="L";a2q.playerFormat=a2q.playerType+":"+a2q.format;a2q.deliveryType="L";}o6=-1;s7(g2q,false,b2q);a2q.currentState.state=Y4.init;X4(b2q+": handlePlayBackEvent : Setting state to init");a2q.currentState.timeUpdateClockTime=b2q;a2q.currentState.timeUpdateStreamTime=0;a2q.currentState.lastEventClockTime=b2q;a2q.isPlaylist=true;var T2q=M6(g2q);var O2q=StreamTypeDetector(T2q,Y2,s6,function(V2q){if(V2q){console.log("detected stream type = "+V2q.getStreamType());console.log("Received steam type = "+V2q.getStreamType()+"\n Stream URL = "+V2q.getStreamURL()+"\n Stream Name = "+V2q.getStreamName()+"\n Stream Length = "+V2q.getStreamLength()+"\n Stream Format = "+V2q.getStreamFormat()+"\n Stream Delivery Type = "+V2q.getDeliveryType());a2q.streamUrl=V2q.getStreamURL();a2q.format=V2q.getStreamFormat();a2q.deliveryType=V2q.getDeliveryType();if(V2q.getStreamLength()){a2q.streamLength=V2q.getStreamLength();}a2q.streamName=V2q.getStreamName();}});if(O2q!==streamError.NoError){console.log("failed to detect stream. May be we do not have sufficient information");}break;case Y4.pause:a2q.pauseDuration+=H2q;if(a2q.pauseIntervalsAsString!="-"){a2q.pauseIntervalsAsString+=","+M2q.pauseStartStreamTime+":"+(b2q-M2q.pauseStartClockTime);}else{a2q.pauseIntervalsAsString=M2q.pauseStartStreamTime+":"+(b2q-M2q.pauseStartClockTime);}if(a2q.pauseSeekSession!="-"){a2q.pauseSeekSession+=",R("+M2q.pauseStartStreamTime+":"+L2q+")";}else{a2q.pauseSeekSession="R("+M2q.pauseStartStreamTime+":"+L2q+((1876,987.47)===7382?(0x22b4,0x2514):")");}a2q.updatePlayed(M2q.pauseStartStreamTime,x2q);a2q.currentState.lastEventClockTime=b2q;++a2q.resumeBufferCount;M2q.state=Y4.resumeBuffering;break;case Y4.init:if(!a2q.iLineSentTime){a2q.iLineSentTime=b2q;}if(a2q.loadStartILine&&!a2q.canPlayEventAutoPlay&&!a2q.canPlayUpdated){a2q.iLineSentTime=b2q;a2q.canPlayUpdated=true;}break;}}catch(p2q){X4("Exception,  handle Play Event:"+p2q);}}fragment=function(E4X,y4X){this.id=E4X;this.bitrate=y4X;this.timeStamp=new Date().getTime();this.state=fragmentState.InPorgress;this.downloadTime=0;this.bytesDownloaded=0;};streamFragments=function(){this.fragments={};this.fragmentId=0;this.downloadStarted=function(u6X){var r4X=new fragment(this.fragmentId,u6X);this.fragments[this.fragmentId.toString()]=r4X;};this.cleanup=function(){for(var X6X in this.fragments){delete this.fragments[X6X];}};this.downloadCompleted=function(C6X,f6X){if(this.fragments[this.fragmentId.toString()]&&this.fragments[this.fragmentId.toString()].state!==fragmentState.Completed){var h6X=this.fragments[this.fragmentId.toString()];var D6X=new Date().getTime();h6X.downloadTime=D6X-h6X.timeStamp;h6X.state=fragmentState.Completed;if(f6X){h6X.bytesDownloaded=f6X;console.log("bytesDownloaded reported = "+f6X);}else{h6X.bytesDownloaded=C6X*h6X.downloadTime;console.log("bytesDownloaded not reported and calculated one is = "+h6X.bytesDownloaded);}this.fragmentId++;}};};hlsStream=function(){var Y6X=0;var w6X=new streamFragments();this.streamFragmentDownloadStarted=function(c6X){w6X.downloadStarted(c6X);if(Y6X!==c6X){K2(c6X);}};this.streamFragmentDownloadCompleted=function(F6X){w6X.downloadCompleted(F6X,0);};this.cleanupFragments=function(){w6X.cleanup();};this.getBandwidthFromFragments=function(){var q6X=0;var U6X=0;for(index in w6X.fragments){var R6X=w6X.fragments[index];if(R6X.state===fragmentState.Completed&&R6X.bytesDownloaded){q6X+=R6X.bytesDownloaded;U6X+=R6X.downloadTime;}}if(U6X===0){return 0;}return q6X/U6X;};};var A6="";function l8(){try{if(this.readyState==4&&this.status==200&&this.responseText){var R6q=this.akamai;var o6q=this.responseText.split("\n");var G6q="";var l6q=/PROGRAM-ID=(\d+)/;var U6q,t6q;if(o6q){for(t6q=0;t6q<o6q.length;t6q++){if(U6q=l6q.exec(o6q[t6q])){if(U6q[1]==G6q){break;}else{G6q=U6q[1];}}}if(t6q!=o6q.length){R6q.format="L";R6q.playerFormat=R6q.playerType+":"+R6q.format;}}l6q=/^#EXT((INF)|(-X-STREAM-INF))[^\n]*\n([^\n]*)\n/m;X4("Checking");if(U6q=l6q.exec(this.responseText)){X4("Checking done "+U6q[4]);if(/.m3u8$/.exec(U6q[4])){try{var q6q=new XMLHttpRequest();q6q.open("GET",U6q[4],true);q6q.onreadystatechange=function(){console.log("current content type from stream url is = "+this.getResponseHeader("content-type"));if(this.readyState==4&&this.status==200){if(this.responseText){if(/^#EXT-X-ENDLIST/m.exec(this.responseText)){R6q.deliveryType="O";}}}};if(q6q.overrideMimeType){q6q.overrideMimeType("text/plain");}q6q.send(null);}catch(m6q){X4("parsePlaylist, Exception,  parsing play list, "+m6q);}}else{if(/^#EXT-X-ENDLIST/m.exec(this.responseText)){R6q.deliveryType="O";}}}}}catch(K6q){X4("Exception,  parsePlaylist : "+K6q);}}function q9(){try{var y0q="socialShare:";var E0q=y0q.length;var I0q=F4.socialSharingObj;for(var i0q in w4){if(i0q.indexOf(y0q)!=-1){if(i0q in F4.dataSent){if(F4.dataSent[i0q].count<F4.socialShareLimit){++F4.dataSent[i0q].count;if(I0q==null){I0q[i0q.substring(E0q)]=w4[i0q];}else{if(i0q.substring(E0q)in I0q){I0q[i0q.substring(E0q)]=parseInt(I0q[i0q.substring(E0q)])+parseInt(w4[i0q]);}else{I0q[i0q.substring(E0q)]=w4[i0q];}}}}else{F4.dataSent[i0q]={};F4.dataSent[i0q].value=w4[i0q];F4.dataSent[i0q].count=1;I0q[i0q.substring(E0q)]=w4[i0q];}delete w4[i0q];}}F4.socialSharingObj=I0q;}catch(r0q){X4("Exception,  getFeedbackObj"+r0q);F4.socialSharing=null;}}var A7=function(){if(typeof akamaiBCVideoObject!="undefined"){try{var t6X=document.getElementsByTagName("script");var o6X=0;var G6X="";if(t6X.length){for(o6X=0;o6X<t6X.length;o6X++){if(t6X[o6X].src!=null&&(t6X[o6X].src.indexOf("79423.analytics.edgesuite.net")!=-1||t6X[o6X].src.indexOf("79423.analytics.edgekey.net")!=-1)){A6=t6X[o6X].src;G6X=z4("configPath",t6X[o6X].src);if(G6X!=""){O4.url=G6X;}}}}}catch(b6X){}}else{if(t4&&t4.configPath){O4.url=t4.configPath;D4.objectBased=true;}else{O4.url=AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH;}}try{if(window){var l6X=null;if(j6()){l6X=z4("AkamaiAnalytics_configPath",window.parent.location);if(l6X){O4.url=l6X;}}else{l6X=z4("AkamaiAnalytics_configPath",window.location);if(l6X){O4.url=l6X;}}}}catch(g6X){}if(O4.url){var m6X=parseInt(z4("enableGenericAPI",O4.url));if(m6X==1){D4.objectBased=true;}O4.beaconSent=parseInt(z4("beaconSentNotify",O4.url));var K6X=parseInt(z4("setVideoObject",O4.url));if(K6X==1){D4.videoPassed=true;}var N6X=parseInt(z4("subscribeVideo",O4.url));if(N6X==1){D4.videoPassed=true;}var a6X=parseInt(z4("exception",O4.url));if(a6X==1){m4.printException=true;}m4.configURLCsmaDebug=parseInt(z4("debug",O4.url));}}();try{if(window){if(j6()){m4.pageURLCsmaDebug=parseInt(z4("AkamaiAnalytics_debug",window.parent.location));}else{m4.pageURLCsmaDebug=parseInt(z4("AkamaiAnalytics_debug",window.location));}}}catch(T6X){}function J2(M6q,g6q,P6q,L6q){if(g6q=="playing"){A4=[];}var a6q={};a6q.eventType=g6q;a6q.eventTime=L6q;if(P6q){a6q.streamUrl=P6q;}if(g6q=="error"){a6q.errorCode=L2(M6q);}if(A4&&A4.length>0){var b6q=A4[A4.length-1];if(b6q.eventType==a6q.eventType&&b6q.streamUrl==a6q.streamUrl){if(g6q=="error"){b6q.errorCode=a6q.errorCode;}b6q.eventTime=a6q.eventTime;}else{A4.push(a6q);}}else{A4.push(a6q);}}try{if(typeof akamaiBCVideoObject!="undefined"&&typeof brightcovePerforceVersion!="undefined"){r6("std:pluginVersion","Brightcove-"+brightcovePerforceVersion);}}catch(d6X){X4("Exception,  pluginVersion: "+d6X);}V7();I4(d9,O4.url,false,true);this.getValueFromQueryString=function(){return z4(key,searchURL);};this.logMessage=function(y1q,r1q){X4(y1q,r1q);};var L8,M8,P8;function t8(O5q){X4("handlePagehide");W6=true;u6();}var d6="AkamaiAnalytics_BrowserSessionId";var C6=null;function u9(W9X){if(w4.deliveryType){return w4.deliveryType;}else{return W9X.deliveryType;}}function w7(l0q,o0q,m0q,t0q,K0q,a0q){try{if(o0q[t0q].regExpJS){var N0q=new RegExp(o0q[t0q].regExpJS);var G0q=N0q.exec(l0q);if(G0q){l0q=G0q[G0q.length-1];}}}catch(b0q){X4("Exception,  evaluating regExpJS attribute for metric : "+m0q);}l0q=String(l0q).replace(/~/g,h4.encodedParamSeparator);if(o0q[t0q].size){l0q=w9(l0q,o0q[t0q].size);}if(o0q[t0q].key in K0q){}else{K0q[o0q[t0q].key]=o0q[t0q].key;a0q.push((h4.useKey?o0q[t0q].key:m0q)+"="+l0q);}}var l4=null;function C9(j9X){var J9X=j9X.akamai;if(R6){X4("getting ServerIp : serverIp request failed");return;}if(J9X.hostName){try{var A9X=null;if(J9X.protocol){if(J9X.protocol.indexOf("rtmp")!=-1){A9X="http://"+J9X.hostName+"/fcs/ident";U2=true;}else{A9X=J9X.protocol+"://"+J9X.hostName+"/serverip";}X4("getting ServerIp : serverIpPath = "+A9X);I4(D9,A9X,false,true);}}catch(Q9X){R6=true;X4("getting ServerIp: error, xmphttprequest");}}}var I6=null;var g6=null;var P6=null;var S4=null;function O7(q3q,R3q){try{X4("handle Ad loaded");if(R4.isAdLoaded){X4("handleAdLoaded API is called multiple times.|We have identified that 2 successive handleAdLoaded APIs are called.|Kindly ensure that sequence of Ad calls -- handleAdLoaded->handleAdStarted->handleAdComplete is maintained.","WARN");}var c3q=D4.akamai;if(!c3q.isILineSent){var U3q=new Date().getTime();if(R3q!=null&&U3q-R3q>0){}}var F3q=P4(R3q);R4.clearAdAnalytics();R4.isAdLoaded=true;R4.adLoadTime=F3q;R4.adCount=1;R4.adAbandoned=true;if(c3q.postRollTimer){G2(D4);q4(c3q.postRollTimer);c3q.postRollAd=true;c3q.customDataPopulated=false;R4.type=2;}else{if(c3q.isILineSent){if(c3q.isSLineSent){W2(D4,F3q);R4.type=1;}else{if(!c3q.isSLineSent){if(!c3q.adLoadTime){c3q.adLoadTime=F3q;}}}}}B2(q3q);if(!c3q.isILineSent){q8(false,F3q);}}catch(o3q){X4("Exception,handle ad loaded:"+o3q);}}function S7(){if(navigator&&navigator.userAgent){try{var d4q=navigator.userAgent;d4q=d4q.toLowerCase();if(d4q.indexOf("ipad")!=-1){S4="iPad";}else{if(d4q.indexOf("ipod")!=-1){S4="iPod";}else{if(d4q.indexOf("iphone")!=-1){S4="iPhone";}else{if(d4q.indexOf("android")!=-1){S4="Android Device";}else{if(d4q.indexOf("xbox")!=-1){S4="Xbox";}else{if(d4q.indexOf("macintosh")!=-1||d4q.indexOf("windows")!=-1||d4q.indexOf("compatible")!=-1){S4="Desktop";}else{if(d4q.indexOf("playstation 4")!=-1){S4="PlayStation 4";}else{if(d4q.indexOf("playstation 3")!=-1){S4="PlayStation 3";}else{S4="Others";}}}}}}}}}catch(v4q){X4("Exception,  getitng device name : "+v4q);S4="Others";}}}var T2=null;function Y6(c9X){var R9X="";var F9X;if(c9X.indexOf("://")!=-1){F9X=c9X.indexOf("://");c9X=c9X.substring(F9X+3);}if(c9X.indexOf("/")!=-1){F9X=c9X.indexOf("/");if(c9X.indexOf("?")!=-1){var U9X=c9X.indexOf("?");F9X=F9X<U9X?F9X:U9X;}R9X=c9X.substring(0,F9X);}else{if(c9X.indexOf("?")!=-1){var F9X=c9X.indexOf("?");R9X=c9X.substring(0,F9X);}else{R9X=c9X;}}return R9X;}function o8(){if(navigator&&navigator.userAgent){try{var q4q=navigator.userAgent;var t4q=/\((\w+)/;var o4q=t4q.exec(q4q);l4=o4q[1].toLowerCase();if(q4q.indexOf("Xbox")!=-1){l4="Xbox";}else{if(l4.indexOf("compatible")!=-1||l4.indexOf("windows")!=-1||l4.indexOf("mobile")!=-1){l4="Windows";}else{if(l4.indexOf("x11")!=-1){l4="Linux";}else{if(l4.indexOf("macintosh")!=-1||l4.indexOf("mac os")!=-1||l4.indexOf("macos")!=-1){l4="Mac OS";}else{if(l4.indexOf("ipad")!=-1){l4="iPad";}else{if(l4.indexOf("iphone")!=-1){l4="iPhone";}else{if(l4.indexOf("ipod")!=-1){l4="iOS";}else{if(q4q.indexOf("Android")!=-1){l4="Android";}else{if(q4q.indexOf("PlayStation 4")!=-1){l4="PlayStation 4";}else{if(q4q.indexOf("PLAYSTATION 3")!=-1){l4="PlayStation 3";}else{l4="Others";}}}}}}}}}}}catch(G4q){X4("Exception,  finding Osname");l4="Others";}I6=l4;try{t4q=/(NT|Phone|OS X|Linux|CPU.*?OS) ([0-9\._]+)/;o4q=t4q.exec(q4q);if(o4q&&o4q.length>2){P6=o4q[2]?o4q[2]:"";if(P6){I6+=" "+P6;}var l4q=null;if(l4=="Windows"){l4q=W7(P6);l4=l4+" "+l4q;}}}catch(m4q){X4("Exception,  OSVersion"+m4q);}}}if(navigator&&navigator.userAgent){T2=navigator.userAgent;}o8();z7();function V6(G5q,P5q){X4("handle Video Unload");var m5q=P4();var t5q=G5q.akamai;var l5q=parseInt(g4("HTML_VisitCountCookie"));N4.browserClose=true;try{if(t5q&&t5q.currentState.state>=Y4.init&&P5q==0){if(t5q.isELineSent||t5q.isCLineSent){return;}if(R4&&R4.adAbandoned){var K5q="Ad.Abandon";if(t5q.postRollTimer){q4(t5q.postRollTimer);delete t5q.postRollTimer;}P2(G5q,K5q,true,m5q);}else{if(!t5q.firstTimePlay){var K5q="Browser.Close";if(t5q.postRollTimer){q4(t5q.postRollTimer);delete t5q.postRollTimer;}P2(G5q,K5q,true,m5q);}else{var b5q="Browser.Refresh.NoStart";if(m5q-t5q.startTimer>h4.initBrowserCloseTime){b5q="Browser.Refresh.NoStart.Late";}t7(G5q,b5q,true,m5q);}}}}catch(M5q){}try{var g5q=parseInt(g4("HTML_LastCLineTime"));var N5q=g5q+h4.visitTimeout-m5q;var a5q=parseInt(g4("HTML_isPlayingCount"));X4("handle Video Unload: playing cookie =  "+a5q+", visit cookie :"+l5q);if(l5q>=1&&P5q==1){if(N5q>0){q4(t5q.clearVisitTimeoutId);G5q.akamai.clearVisitTimeoutId=V4(V6,N5q,[G5q,1]);return;}else{if(N5q<=0&&l5q>1&&a5q>0){q4(t5q.clearVisitTimeoutId);G5q.akamai.clearVisitTimeoutId=V4(V6,h4.visitTimeout,[G5q,1]);return;}}}X4("handle Video Unload: decrementing HTML_VisitCountCookie");l5q=l5q-1;T4("HTML_VisitCountCookie",l5q);var l5q=parseInt(g4("HTML_VisitCountCookie"));if(l5q===0||isNaN(l5q)){if(t5q.sendVLine){Q7(G5q,m5q);}}}catch(L5q){}}S7();function Q7(F5X,U5X){try{X4("sendBeaconVLine");var c5X=F5X.akamai;c5X.isVisitEnd=1;y7(c5X);var R5X=parseInt(g4("HTML_VisitIntervalStartTime"));c5X.visitMaxPersistentBitRateBucket=r7();c5X.visitInterval=U5X-R5X;if(R5X==""||R5X==null||isNaN(R5X)){c5X.visitInterval=U5X-r2;}c5X.sessionId=null;c5X.attemptId=null;c5X.sequenceId=null;F6("HTML_BitRateBucketCsv");F6("HTML_VisitValueCookie");F6("HTML_VisitIntervalStartTime");F6("HTML_LastCLineTime");F6("HTML_VisitCountCookie");F6("HTML_isPlayingCount");F6(d6);y4(F5X,"visit",true,U5X);F4.akamai={};F4.dataSent={};X4("sendBeaconVLine: beacon sent");c5X.sendVLine=false;c5X.iLineCount=0;q4(F5X.akamai.clearVisitTimeoutId);var q5X=c5X.isPlaylist;F5X.akamai=new S2(D4);if(typeof akamaiBCVideoObject!="undefined"){F5X.akamai.isPlaylist=q5X;}}catch(o5X){X4("Exception, send beacon V line:"+o5X);}}function n6(P8X,H8X){var g8X=null;if(W4&&W4.viewerDiagnosticsId){g8X=W4.viewerDiagnosticsId;}var M8X="";var L8X=50;var x8X=16*2;if(!g8X||g8X=="-"){return;}if(H8X&&P8X.xViewerId){return;}v9(P8X);X4("get Viewer DiagnosticsID");g8X=encodeURIComponent(g8X);if(U4&&U4.viewerDiagnostics&&U4.viewerDiagnostics.salt&&U4.viewerDiagnostics.salt.value){M8X=U4.viewerDiagnostics.salt.value;}if(U4&&U4.viewerDiagnostics&&U4.viewerDiagnostics.salt&&U4.viewerDiagnostics.salt.iterations){L8X=U4.viewerDiagnostics.salt.iterations;}if(U4&&U4.viewerDiagnostics&&U4.viewerDiagnostics.salt&&U4.viewerDiagnostics.salt.bytes){x8X=U4.viewerDiagnostics.salt.bytes;}var O8X=q6.PBKDF2(g8X,M8X,{keySize:x8X/8,iterations:L8X});P8X.xViewerId=O8X;W4.xViewerId=O8X;}var Y4={ended:0,init:1,playing:2,pause:3,seek:4,rebuffering:5,resumeBuffering:6};function y9(){var A7X={};try{if(!B4.bitRateBucketTimes){B4.bitRateBucketTimes={};A7X=B4.bitRateBucketTimes;A7X.U={key:"U",type:"range"};A7X.S={key:"S",max:1500,value:"max:1500",type:"range"};A7X.Q={key:"Q",min:1500,max:2500,value:"min:1500;max:2500",type:"range"};A7X.D={key:"D",min:2500,value:"min:2500",type:"range"};}else{var i7X,Q7X,k7X;for(k7X in B4.bitRateBucketTimes){A7X=B4.bitRateBucketTimes[k7X];if(A7X){A7X.key=k7X;if(!A7X.value){A7X.category="first";}else{i7X=A7X.value;Q7X=i7X.split(";");for(var j7X=0;j7X<Q7X.length;j7X++){if(Q7X[j7X].indexOf("min:")!=-1){A7X.min=parseInt(Q7X[j7X].split(":")[1]);}else{if(Q7X[j7X].indexOf("max:")!=-1){A7X.max=parseInt(Q7X[j7X].split(":")[1]);}}}}}}}L4.bitRateBucketMap={};for(var I7X in B4.bitRateBucketTimes){L4.bitRateBucketMap[I7X]=0;}}catch(E7X){X4("Exception, find bit rate match rules :"+E7X);}}function N8(z6q){if(d4(z6q)){X4("handle Seeking Event : video tag is of type AD, return");return;}try{var W6q=P4();var e6q=parseInt(H4(z6q));var B6q=z6q.akamai;var Z6q=B6q.currentState;var S6q=W6q-Z6q.lastEventClockTime;var n6q=W6q-B6q.startTimer;var s6q=Z6q.state;if(Z6q.state==Y4.playing){B6q.updatePlayClockTime(S6q,Z6q.lastEventClockTime,W6q);}if(B6q.isPlaylist&&Z6q.state==Y4.ended&&B6q.browser=="Safari"){}Z6q.lastEventClockTime=W6q;}catch(J6q){X4("Exception,  handle Seeking Event : "+J6q);}}var M4=[0,0,0,0,0,0,0,0,0,0,0,0];var C2=[0,0,0,0,0,0,0,0,0,0,0,0];var r2;function N7(l3X,o3X){var U3X=l3X.akamai;U3X.isILineSent=true;++U3X.iLineCount;U3X.lastSLineSentTime=o3X;if(U3X.iLineCount==1){var t3X=parseInt(g4("HTML_VisitCountCookie"));++t3X;T4("HTML_VisitCountCookie",t3X);r2=o3X;}var q3X=parseInt(g4("HTML_VisitIntervalStartTime"));if(!q3X||q3X==" "){q3X=o3X;T4("HTML_VisitIntervalStartTime",q3X);}M4[0]=1;U3X.sendVLine=true;}function N2(v9X,B9X){var V9X=1;v9X.rebufferSessionH=null;if(!v9X.rebufferSessionArrayHLine||v9X.rebufferSessionArrayHLine&&v9X.rebufferSessionArrayHLine.length===0){return;}while(v9X.rebufferSessionArrayHLine[V9X]&&B9X-v9X.rebufferSessionArrayHLine[V9X]>2*h4.heartBeatInterval){v9X.rebufferSessionArrayHLine.shift();v9X.rebufferSessionArrayHLine.shift();if(v9X.isSessionWithRebufferH==1){v9X.sendIsSessionWithRebufferH=0;v9X.isSessionWithRebufferH=null;}}while(v9X.rebufferSessionArrayHLine[V9X]){var p9X=B9X-v9X.rebufferSessionArrayHLine[V9X-1];var Z9X=v9X.rebufferSessionArrayHLine[V9X]-v9X.rebufferSessionArrayHLine[V9X-1];if(v9X.sendIsSessionWithRebufferH==1){if(Z9X>h4.isSessionWithRebufferLimit){v9X.isSessionWithRebufferH=1;}}if(v9X.rebufferSessionH){v9X.rebufferSessionH=v9X.rebufferSessionH+";"+p9X+":"+Z9X;}else{v9X.rebufferSessionH=p9X+":"+Z9X;}V9X=V9X+2;}V9X=V9X-1;if(v9X.rebufferSessionArrayHLine[V9X]){var p9X=B9X-v9X.rebufferSessionArrayHLine[V9X];if(v9X.sendIsSessionWithRebufferH==1){if(p9X>h4.isSessionWithRebufferLimit){v9X.isSessionWithRebufferH=1;}}if(v9X.rebufferSessionH){v9X.rebufferSessionH=v9X.rebufferSessionH+";"+p9X+":"+p9X;}else{v9X.rebufferSessionH=p9X+":"+p9X;}}}function L9(){try{if(!D4.objectBased){X4("application exit, unsubscribe video events");F8(D4);}}catch(P9q){}u6();}var w2="0,0,0,0,0,0,0,0";function s7(W3X,e3X,S3X){try{X4("send beacon I line");var z3X=W3X.akamai;z3X.cdn=E6(z3X);if(x6){g2(W3X,true);}if(!z3X.iLineSentTime){z3X.iLineSentTime=S3X;}if(W3X.videoWidth&&W3X.videoHeight){z3X.videoSize=W3X.videoWidth+"x"+W3X.videoHeight;}if(!z3X.isILineSent){g7(W3X);y4(W3X,"init",e3X,S3X);N7(W3X,S3X);if(z3X.clearVisitTimeoutId){q4(z3X.clearVisitTimeoutId);}}}catch(n3X){X4("Exception send I line:"+n3X);}}function B7(A3X){var s3X=A3X.akamai;s3X.hLineTimer=V4(B7,h4.heartBeatInterval,[A3X]);var J3X=P4();y4(A3X,"heartBeat",false,J3X);s3X.lastHLineSentTime=J3X;s3X.hLineSentCount++;if(s3X.hLineSentCount%(h4.logInterval/h4.heartBeatInterval)==0){y4(A3X,"playing",false,J3X);s3X.lastPLineSentTime=J3X;if(s3X.continuousRebufferDuration>=h4.rebufferDurationOutlier){if(D4.objectBased){D4.errorReason="Error.Continous.Rebuffer";D2(D4);}else{akamaiHandleError("Error.Continous.Rebuffer");}}}}D4.akamai=new S2(D4);function n9(X3q){var h3q=0,f3q=0;try{if(X3q){if(X3q.objectBased){if(t4&&t4.bytesLoaded){h3q=parseInt(t4.bytesLoaded());f3q=h3q-X3q.akamai.lastBytesLoaded;}}}}catch(D3q){}X3q.akamai.lastBytesLoaded=h3q;if(f3q>0){return f3q;}}var F2=["UNKNOWN","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];this.getViewerId=function(){try{var z7q=D4.akamai;if(z7q&&z7q.viewerId){return z7q.viewerId;}else{return null;}}catch(S7q){return null;}};function l9(i7q){if(i7q){if(navigator.geolocation&&G6==null){G6=navigator.geolocation.watchPosition(G9,m9);var k7q=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(k7q&&k7q.type){D4.akamai.connectivity=k7q.type;k7q.addEventListener("typechange",R7);}}}else{if(navigator.geolocation&&G6!=null){navigator.geolocation.clearWatch(G6);G6=null;k7q.removeEventListener("typechange",R7);}}}this.setData=function(e7q,n7q){r6(e7q,n7q);};this.handleStreamSwitch=function(){g9();};function p9(p8X,V8X,v8X){var Z8X;if(V8X=="viewerId"||V8X=="clientId"||V8X=="viewerDiagnosticsId"){return;}if(v8X){if(w4[v8X]){Z8X=w4[v8X];}else{if(p8X[v8X]){Z8X=p8X[v8X];}}}p8X[V8X]=Z8X;}function D7(w1q){try{for(var D1q in G4){if(G4[D1q]){for(var C1q=0;C1q<G4[D1q].length;C1q++){if(G4[D1q][C1q].fallback&&!w4[G4[D1q][C1q].name]){p9(w1q,G4[D1q][C1q].name,G4[D1q][C1q].fallback);}}}}}catch(Y1q){}}function Z7(){this.aisRetries=0;this.aisRequestLimit=3;this.aisRequestInterval=30000;this.requestFailed=false;}function Q2(j5X){try{var A5X=encodeURI(j5X);A5X=A5X.replace(/#/g,"%23");return A5X;}catch(Q5X){X4("Exception,  encoding beacon");return j5X;}}function U7(x5X){X4("entered setVisitValueParameters");M4[4]=x5X.totalPlayClockTime;M4[5]=x5X.totalPlayStreamTime;M4[6]=x5X.totalRebufferCount;M4[7]=x5X.totalRebufferTime;M4[8]=x5X.totalAdPlayClockTime;M4[9]=x5X.totalAdStartCount;M4[10]=x5X.totalAdAbandonCount;if(x5X.totalPlayClockTime>5000){M4[2]=1;}i7();k7();}function x7(e7X){var S7X=G4.common;if(S7X!=null){var z7X={};z7X.name=e7X;z7X.key=e7X;S7X.push(z7X);}}this.handleTitleSwitch=function(s7q){P9(s7q);};this.handleFeedbackEvent=function(){o7();};this.handleApplicationExit=function(){L9();};function Q9(){if(!R4.isAdStarted){X4("handleAdStarted API is missing.|We have identified that handleAdFirstQuartile API is called without handleAdStarted.|Kindly ensure that handleAdStarted API is called for every Ad that starts successfully.","ERROR");}R4.playBucket="1";}function y4(e1q,B1q,n1q,W1q){try{X4("sendBeacon: eventCode = "+B1q+", clocktime = "+W1q);var Z1q=e1q.akamai;var J1q=W1q-Z1q.currentState.lastEventClockTime;if(B1q!="init"){Z1q.logInterval=Z1q.lastLogTime<=0?"0":(W1q-Z1q.lastLogTime)/1000;}else{Z1q.logInterval="0";}if(!Z1q.customDataPopulated){X7(Z1q,B1q);}Z1q.serverIp=L6.serverip?L6.serverip:"-";Z1q.fastTCP=e4.ftcp?e4.ftcp:"-";Z1q.eventCode=J6[B1q];if(Z1q.hLineSentCount>0){Z1q.lastHTime=(W1q-Z1q.lastHLineSentTime)/1000;}else{Z1q.lastHTime=(W1q-Z1q.lastSLineSentTime)/1000;}if(B1q=="heartBeat"){var s1q=Z1q.logInterval;Z1q.logInterval=(W1q-Z1q.lastPLineSentTime)/1000;N2(Z1q,W1q);}if(Z1q.logInterval<0){Z1q.logInterval="0";}var z1q=false;if(B1q=="complete"){B1q="playing";z1q=true;}Z1q.endOfStream=z1q?"1":"0";Z1q.currentClockTime=W1q-Z1q.startTimer;Z1q.currentStreamTime=parseInt(H4(e1q));if(B1q=="playing"&&!Z1q.playEndMetricsUpdated){if(z1q){N2(Z1q,W1q);}X4("send Beacon, updating play and end metrics");j2(e1q,J1q,W1q,z1q);z2(e1q);}if(!Z1q.customDataPopulated){D7(Z1q);}h7(Z1q);if(!r4){var A1q=y6(Z1q);var j1q={element:A1q,code:z1q?"complete":B1q,synch:n1q};t6.push(j1q);if(B1q=="playing"||B1q=="playStart"){Z1q.clearRelativeMetrics();}if(B1q!="heartBeat"){X4("send beacon :configurationPopulated false sequenceId = "+Z1q.sequenceId);++Z1q.sequenceId;Z1q.lastLogTime=W1q;}else{Z1q.logInterval=s1q;}return;}if(B1q=="playStart"){J7();}Z1q.populateMetricsFromConfiguration();Z1q.xViewerId=W4.xViewerId;Z1q.xViewerIdVersion=W4.xViewerIdVersion;if(typeof akaMediaAnalytics!="undefined"&&akaMediaAnalytics!=null){var S1q=akaMediaAnalytics.getStream();if(S1q){Z1q.bandwidth=S1q.getBandwidthFromFragments();X4("reporting bandwidth = "+Z1q.bandwidth);S1q.cleanupFragments();}}if(z1q){S6(Z1q,"complete",n1q);}else{S6(Z1q,B1q,n1q);}Z1q.qualityOfExperience=null;z1q=false;if(B1q=="playing"||B1q=="playStart"){Z1q.clearRelativeMetrics();}if(B1q!="heartBeat"){++Z1q.sequenceId;Z1q.lastLogTime=W1q;}else{Z1q.logInterval=s1q;}}catch(Q1q){X4("Exception, send beacon:"+Q1q);}}this.enableServerIpLookUp=function(){x6=true;};this.disableServerIpLookUp=function(){x6=false;};this.enableLocation=function(J7q){l9(J7q);};this.enableManifestRequest=function(A7q){s6=A7q;};this.setURLManifest=function(j7q){Y2=j7q;};function H4(Q8q){var j8q=0;try{if(Q8q.objectBased){if(t4&&t4.streamHeadPosition){j8q=t4.streamHeadPosition();Q8q.currentTime=j8q;}}else{if(Z4.currentTime){j8q=Z4.currentTime;Q8q.currentTime=j8q;}}}catch(k8q){}if(j8q==0&&o6!=-1){j8q=o6;}if(j8q!=0){o6=j8q;}return j8q*1000;}this.handleSessionInit=function(Z9q,B9q){try{if(Z9q){if(typeof t4!="object"){t4={};}if(Z9q.streamHeadPosition){t4.streamHeadPosition=Z9q.streamHeadPosition;}if(Z9q.streamLength){t4.streamLength=Z9q.streamLength;}if(Z9q.streamURL){t4.streamURL=Z9q.streamURL;}if(Z9q.bytesLoaded){t4.bytesLoaded=Z9q.bytesLoaded;}if(Z9q.customDataFunction){t4.customDataFunction=Z9q.customDataFunction;}if(t4.customDataFunction){O6=t4.customDataFunction;}if(Z9q.firstBitRate){t4.firstBitRate=Z9q.firstBitRate;}if(t4.firstBitRate){K2(t4.firstBitRate,B9q);}}s4(D4,B9q);}catch(W9q){}};this.handleBitRateSwitch=function(z9q,S9q){K2(z9q,S9q);};function J9(){try{var s7X=G4.split;for(var n7X=0;n7X<s7X.length;n7X++){N6[s7X[n7X].name]=s7X[n7X].key;}}catch(J7X){}}this.handlePlaying=function(e9q){s4(D4,e9q);J4(D4,e9q);};this.handlePlayEnd=function(n9q,s9q){if(D4.objectBased){D4.endReason=n9q;}Y7(D4,s9q);};this.handleMediaChangedEvent=function(){U6(D4);};function L2(q8X){var o8X=null;if(q8X.objectBased){if(q8X.errorReason){o8X=q8X.errorReason;}else{o8X=F2[0];}}else{if(q8X.externalError){o8X=q8X.externalError;}else{if(q8X.error&&q8X.error.code){o8X=F2[q8X.error.code];}else{o8X=F2[0];}}}return o8X;}function D2(C7q){if(d4(C7q)){X4("handle Error Event : video tag is of type AD, return");return;}try{var w7q=P4();var F7q=M6(C7q);var R7q=L2(C7q);if(!C7q.objectBased&&!F7q){X4("handle error event, video is null");return;}if(E2(C7q,"error",F7q,w7q)){X4("handle Error Event: consecutive error events thrown, return, curTime = "+w7q);return;}if(C7q&&C7q.akamai&&!C7q.akamai.isILineSent){X4("handle Error Event: calling handle Play Event");s4(C7q,w7q);}J2(C7q,"error",F7q,w7q);var q7q=parseInt(H4(C7q));var c7q=C7q.akamai;var Y7q=c7q.currentState;var U7q=w7q-Y7q.lastEventClockTime;var t7q=w7q-c7q.startTimer;var l7q=Y7q.state;X4("entered function handle Error Event, current state = "+D6(Y7q.state));if(Y7q.state==Y4.playing){c7q.updatePlayClockTime(U7q,Y7q.lastEventClockTime,w7q);}if(c7q.isELineSent||c7q.isCLineSent){return;}t7(C7q,R7q,w7q);Y7q.state=Y4.ended;var o7q=parseInt(g4("HTML_LastCLineTime"));I2(C7q);Y7q.lastEventClockTime=w7q;}catch(G7q){X4("Exception,  handleErrorEvent:"+G7q);}}this.handlePause=function(J9q){W2(D4,J9q);};this.handleResume=function(A9q){s4(D4,A9q);J4(D4,A9q);};this.handleBufferStart=function(j9q){A2(D4,j9q);};this.handleBufferEnd=function(Q9q){s4(D4,Q9q);J4(D4,Q9q);};function X4(u4q,X4q){try{if(m4.configURLCsmaDebug==1||m4.pageURLCsmaDebug==1||m4.configDebug==1){try{if(m4.printException){if(u4q.indexOf("Exception")!=-1){X4q="ERROR";}}}catch(f4q){}try{Z9(u4q,X4q);}catch(D4q){}try{console.log(u4q);}catch(C4q){}}else{if(!r4){var h4q={message:u4q,msgType:X4q};w6.push(h4q);}}}catch(w4q){}}this.handleError=function(k9q){try{if(D4.objectBased){D4.errorReason=k9q;}else{D4.externalError=k9q;}D2(D4);}catch(i9q){}};this.handleTimeupdateEvent=function(){M2(D4);};function i6(L0X,a0X){if(L0X==null||L0X==""){return;}var x0X=/(\w+):\/\/([^\/:]+):?([^\/]+)?(\/[^#?]*)#?([^?]+)?\??(.+)?/;try{var b0X=x0X.exec(L0X);a0X.protocol=b0X[1];a0X.hostName=b0X[2];a0X.port=b0X[3]?b0X[3]:"80";a0X.path=b0X[4];var g0X=a0X.path.split("/");var P0X=g0X.length;a0X.streamName=g0X[P0X-1];var M0X=a0X.streamName.toLowerCase();if(M0X.indexOf(".m3u")!=-1||M0X.indexOf("manifest")!=-1||M0X.indexOf(".f4m")!=-1||M0X.indexOf(".mpd")!=-1){if(P0X>=3){a0X.streamName=g0X[P0X-2]+"/"+g0X[P0X-1];}}a0X.hash=b0X[5]?b0X[5]:"";a0X.search=b0X[6]?b0X[6]:"";a0X.host=a0X.hostName+":"+a0X.port;}catch(O0X){X4("Exception,  parseStreamUrl :"+O0X);}}function u7(){try{if(m4.configURLCsmaDebug==1||m4.pageURLCsmaDebug==1||m4.configDebug==1){if(m4.logStoredMsg){if(typeof AkamaiAnalytics_debugWindow_available=="function"&&AkamaiAnalytics_debugWindow_available()=="1"){if(m4.logTimer){q4(m4.logTimer);}m4.logStoredMsg=false;if(w6.length){for(var R4q=0;R4q<w6.length;R4q++){X4(w6[R4q].message,w6[R4q].msgType);}w6=[];}}else{m4.logTimer=V4(u7,1000,[]);}}}}catch(U4q){}}this.updateAdObject=function(I9q){B2(I9q);};this.handleAdLoaded=function(E9q,y9q){try{O7(E9q,y9q);}catch(r9q){}};this.handleAdStarted=function(u8q,X8q){A9(u8q,X8q);};function E9(b3q){k6("3",b3q);}function O9(F8q,R8q,U8q){try{var q8q=C4.aisRequestLimit;var o8q=C4.aisRequestInterval;C4=new Z7();C4.aisRequestInterval=o8q;C4.aisRequestLimit=q8q;if(!F8q){X4("return from ais, platform is null");return;}C4.platform=F8q;C4.version=R8q?R8q:"1.0";if(U8q){C4.aisCustomDataObj=U8q;}C4.requestUrl="http://idp.securetve.com/rest/";C4.initUrl=C4.requestUrl+C4.version+"/"+C4.platform+"/init/?format=jsonp&responsefield=akaMediaAnalytics.receiveAISInitRequest";C4.identityUrl=C4.requestUrl+C4.version+"/"+C4.platform+"/identity/?format=jsonp&responsefield=akaMediaAnalytics.receiveAISIdentityRequest";C4.initUrlId="AkamaiAISInitUrl";C4.identityUrlId="AkamaiAISIdentityUrl";Z6(C4.initUrl,C4.initUrlId);}catch(t8q){C4.requestFailed=true;}}function S9(C0s){try{var h0s=window.localStorage.getItem(C0s);if(typeof h0s!=="undefined"&&h0s!==null){var f0s=JSON.parse(h0s);var D0s=f0s.value;return D0s;}}catch(w0s){}}this.handleAdCompleted=function(h8q){j9(h8q);};this.handleAdFirstQuartile=function(){Q9();};this.handleAdMidPoint=function(){k9();};this.handleAdThirdQuartile=function(){i9();};this.handleAdStopped=function(f8q){I9(f8q);};this.handleAdError=function(D8q){E9(D8q);};function I9(a3q){k6("1",a3q);}function r7(){try{var s5X=g4("HTML_BitRateBucketCsv");var W5X=s5X.split(",");var S5X=false;if(W5X==null||W5X==""){W5X=w2.split(",");}W5X[0]=parseInt(W5X[0]);var e5X="00",n5X=W5X[0];for(var z5X=0;z5X<W5X.length;z5X++){W5X[z5X]=parseInt(W5X[z5X]);if(W5X[z5X]>0){S5X=true;}if(n5X<W5X[z5X]){n5X=W5X[z5X];e5X="0"+z5X;}}if(S5X){return e5X;}}catch(J5X){X4("Exception, get visit max bit rate bucket"+J5X);}}this.handleSetupAISEvent=function(C8q,w8q,Y8q){O9(C8q,w8q,Y8q);};function z2(w3q){try{var C3q={};if(O6!=null){C3q=O6();q7(C3q);}}catch(Y3q){}}function e7(P3X){var g3X=P4();var M3X=P3X.akamai;M3X.lastPLineSentTime=g3X;y4(P3X,"playing",false,g3X);}this.getStream=function(){var c8q=D4.akamai;return c8q.stream;};function N9(s2X,n2X,J2X,A2X){if(s2X){X4("XML Request: isXDomainRequest = "+K6+":::funcCallback =  :url: "+n2X);}var e2X;if(n2X==null||n2X=="undefined"||n2X==""){return;}try{if(K6){e2X=new XDomainRequest();if(s2X){e2X.onprogress=function(){};e2X.ontimeout=function(){};e2X.onload=function(){X4("XML Request : xmlClient.onload");if(window.DOMParser){var k2X=new DOMParser();var Q2X=k2X.parseFromString(e2X.responseText,"text/xml");var j2X={};j2X.status="200";j2X.readyState="4";j2X.responseXML=Q2X;j2X.responseText=e2X.responseText;s2X(j2X);}else{var Q2X=new ActiveXObject("Microsoft.XMLDOM");Q2X.async=false;Q2X.loadXML(e2X.responseText);var j2X={};j2X.status="200";j2X.readyState="4";j2X.responseXML=Q2X;s2X(j2X);}};e2X.onerror=function(i2X){X4("XML Request : Error, loading xml. url = :"+n2X);if(n2X.indexOf("serverIp")!=-1){R6=true;}if(n2X.indexOf("protocol-info")!=-1){e4.fastTCPFailed=true;}};}e2X.open("GET",n2X,!J2X);try{if(A2X){setTimeout(function(){e2X.send();},100);}else{e2X.send(null);}}catch(I2X){try{e2X.send(null);}catch(E2X){}}}else{e2X=new XMLHttpRequest();e2X.open("GET",n2X,!J2X);if(s2X){if(e2X.overrideMimeType){e2X.overrideMimeType("text/xml");}e2X.onreadystatechange=function(){X4("XML Request : xmlClient.onreadystatechange");s2X(e2X);};}e2X.send(null);}}catch(y2X){X4("Exception,  XML Request for url :"+n2X+",Exception:"+y2X);}}function v9(d8X){var T8X=null;if(U4&&U4.viewerDiagnostics&&U4.viewerDiagnostics.salt&&U4.viewerDiagnostics.salt.version){T8X=U4.viewerDiagnostics.salt.version;}d8X.xViewerIdVersion=T8X;W4.xViewerIdVersion=T8X;}this.receiveAISInitRequest=function(m8q){try{C4.initObj=m8q;G7(C4.initUrlId);if(C4.initObj==""||C4.initObj==null){C4.requestFailed=true;return;}if(C4.requestFailed){return;}if(C4.initObj.authenticated){C4.akamai={};C4.akamai.ais_queryToken=C4.initObj.querytoken;if(C4.initObj.idps){var l8q=C4.initObj.idps;for(var G8q in l8q){C4.akamai.ais_idpId=G8q;C4.akamai.ais_idpName=l8q[G8q].name;C4.akamai.ais_idpDisplayName=l8q[G8q].display_name;C4.akamai.ais_idpUrl=l8q[G8q].url;}}Z6(C4.identityUrl,C4.identityUrlId);}else{if(!C4.requestFailed){X4("receiveAISInitRequest, retrying the request");++C4.aisRetries;if(C4.aisRetries<C4.aisRequestLimit){C4.retryTimer=V4(Z6,C4.aisRequestInterval,[C4.initUrl,C4.initUrlId]);}}}}catch(K8q){C4.requestFailed=true;}};function z6(I8q){var i8q=0;try{if(I8q){if(I8q.objectBased){if(t4&&t4.streamLength){i8q=t4.streamLength();I8q.duration=i8q;}}else{i8q=Z4.duration;I8q.duration=i8q;}}}catch(E8q){}return i8q*1000;}function K9(c1q){try{var F1q=j4.streamName?j4.streamName:c1q.streamName;}catch(R1q){}try{if(w4.title){c1q.title=w4.title;}else{c1q.title=w4.eventName?w4.eventName:F1q;}if(w4.eventName){c1q.eventName=w4.eventName;}else{c1q.eventName=w4.title?w4.title:F1q;}}catch(U1q){X4("Exception,  getting title and eventName, "+U1q);}}function U8(){try{var J6X=h4.beaconUrl.toLowerCase();var s6X="";if(J6X.indexOf(".edgesuite.net/")==-1&&J6X.indexOf(".edgekey.net/")==-1){s6X="Beacons sent to incorrect domain : "+J6X;s6X+="<ul style='list-style-type:circle;margin:0'>";s6X+="<li>We have identified that the beacons are not sent to an Akamai Domain.</li>";s6X+="<li>Kindly use the proper Beacon XML path that is provided in SOLA Anlaytics UI while provisioning.</li></ul>";X4(s6X,"ERROR");}}catch(A6X){}}function o9(h1q){try{var u1q=null;if(F4.socialSharingObj!=null){for(var X1q in F4.socialSharingObj){if(u1q==null){u1q=X1q+":"+F4.socialSharingObj[X1q]+",";}else{u1q+=X1q+":"+F4.socialSharingObj[X1q]+",";}}}if(u1q!=null){h1q.socialSharing=u1q.substring(0,u1q.length-1);}}catch(f1q){X4("Exception,  getFeedbackData"+f1q);h1q.socialSharing=null;}F4.socialSharingObj={};}this.receiveAISIdentityRequest=function(N8q){try{C4.identityObj=N8q;G7(C4.identityUrlId);if(N8q==null||N8q==""){return;}if(!C4.akamai){C4.akamai={};}if(N8q.indentity&&N8q.identity.aisuid){C4.akamai.ais_aisuid=N8q.identity.aisuid;}H9();}catch(a8q){C4.requestFailed=true;}};this.subscribeVideoObject=function(u5q){try{if(u5q){q2(u5q);}}catch(X5q){}};function V9(z8q){l7();L4.clearBitRate();akamai=z8q.akamai;if(!z8q.objectBased&&akamai.pollingTimer){q4(akamai.pollingTimer);}if(C4&&C4.retryTimer){q4(C4.retryTimer);}if(akamai.hLineTimer){q4(akamai.hLineTimer);}if(akamai.fastTCPServerIpTimer){q4(akamai.fastTCPServerIpTimer);}if(akamai.firstPLineTimer){q4(akamai.firstPLineTimer);}if(C4&&C4.retryTimer){q4(C4.retryTimer);}if(akamai.postRollTimer){q4(akamai.postRollTimer);delete akamai.postRollTimer;}akamai.currentState.state=Y4.ended;akamai.isILineSent=false;akamai.isSLineSent=false;akamai.firstTimePlay=true;akamai.iLineSentTime=0;akamai.lastPlayStreamTime=0;}E7();function d7(c2X){try{var G2X=c2X.readyState;var l2X=c2X.status;if(G2X==4&&l2X==200){var h2X=c2X.responseXML;if(h2X){var r6X;if(h2X.documentElement){r6X=h2X.documentElement;}else{r6X=h2X;}if(r6X){var D2X=document.getElementsByTagName("script");var u2X=0;var X2X=false;var K2X="";var C2X="";if(typeof akamaiBCVideoObject!="undefined"){if(A6){X2X=true;C2X=A6;}}else{if(p6){X2X=T7(p6);C2X=p6;}else{if(D2X.length){for(u2X=0;u2X<D2X.length;u2X++){if(D2X[u2X].src!=null){var Y2X=D2X[u2X].src;X2X=T7(Y2X);if(X2X){C2X=Y2X;break;}}}}}}var I6X="";var E6X=null;if(typeof akamaiBCVideoObject!="undefined"){I6X=r6X.getElementsByTagName("brightcove")[0];}else{I6X=r6X.getElementsByTagName("plugin")[0];if(Q4!=null){E6X=r6X.getElementsByTagName(Q4)[0];}}if(I6X){var t2X=I6X.getAttribute("name");var F2X=I6X.getAttribute("version");var a2X=I6X.getAttribute("link");var N2X=I6X.getAttribute("size");var o2X=I6X.getAttribute("date");var i6X="";var w2X="";var y6X="";var U2X="";var R2X="";if(E6X){y6X=E6X.getAttribute("name");w2X=E6X.getAttribute("version");U2X=E6X.getAttribute("date");R2X=E6X.getAttribute("link");}var q2X=D4.objectBased==true?"JavaScript":t2X;X4("Integration Type : "+q2X,"INTEGRATION");if(X2X){X4("Plugin path is correct ["+C2X+"]","INTEGRATION");}else{i6X="Incorrect Plugin Path";i6X+="<ul style='list-style-type:circle;margin:0'>";i6X+="<li>Kindly refer the Integration Guide and use the correct plugin path for integration</li>";i6X+="<li>The plugin path should be one of the below :</li>";if(typeof akamaiBCVideoObject!="undefined"){i6X+="<ul><li>http://79423.analytics.edgesuite.net/html5/brightcoveAkamaihtml5-min.js</li>";i6X+="<li>https://79423.analytics.edgekey.net/html5/brightcoveAkamaihtml5-min.js</li></ul>";}else{i6X+="<ul><li>http://79423.analytics.edgekey.net/html5/akamaihtml5-min.js</li>";i6X+="<li>http://79423.analytics.edgekey.net/js/csma.js</li></ul>";}i6X+="</ul>";X4(i6X,"ERROR");}var m2X=R9(X6,F2X);if(m2X>=0){X4("Plugin is Latest (Version = "+X6+" )","INTEGRATION");}else{i6X="Old Plugin Version";i6X+="<ul style='list-style-type:circle;margin:0'>";i6X+="<li>Current Plugin Version is "+X6+"</li>";i6X+="<li>The latest plugin version in "+F2X+" which was released on date "+o2X+"</li>";i6X+="<li>Kindly check if proper path mentioned in integration guide is used for integration</li>";i6X+="<li>If proper path is used, try by clearing browser cache.</li>";X4(i6X,"ERROR");}if(w2X===E4){X4(y6X+" is Latest (Version = "+Q4+"-"+E4+" )","INTEGRATION");}else{if(Q4!=null){var f2X="Old "+y6X+" (Version = "+E4+") is used. ";f2X+="<p>The latest "+y6X+" version is "+w2X+" which was released on "+U2X+". </p>";f2X+="<p>Kindly download the latest "+y6X+" JS from the below location and use it instead. </p>";f2X+="<p>"+R2X+"</p>";X4(f2X,"ERROR");}}}}}}}catch(b2X){}}function u2(){return h6()+h6()+"-"+h6()+"-"+h6()+"-"+h6()+"-"+h6()+h6()+h6();}function k7(){var m5X=g4("HTML_VisitValueCookie");var l5X=m5X.split("|");var N5X;for(var G5X=0;G5X<M4.length;G5X++){C2[G5X]+=M4[G5X];}X4("setVisitValueCookie :: visit values saved"+C2);for(var t5X=0;t5X<l5X.length;t5X++){l5X[t5X]=parseInt(l5X[t5X])+M4[t5X];}var K5X=l5X.join("|");T4("HTML_VisitValueCookie",K5X);}function F7(){try{X4("send delayed beacon");if(N4.queue&&N4.queue.length>0){var k5X=N4.queue.shift();N4.timer=V4(F7,N4.time,[]);X4("sending delayed beacon ::"+k5X.url,"BEACON");I4(null,k5X.url,k5X.isSync);}else{X4("send delayed beacon : clear the timer");q4(N4.timer);N4.timer=null;}}catch(i5X){}}function g8(){return z6(D4)/1000;}}function akamaiSetViewerDiagnosticsId(z0s){if(z0s==null||z0s==""){z0s="-";}setAkamaiMediaAnalyticsData("viewerDiagnosticsId",z0s);}window.topCanAutoPlay=function(){function X0(U0,G0){var l0=U0.muted,R0=U0.timeout,F0=G0(U0.element),Y0=F0.element,o0=F0.source,w0=void 0,q0=void 0,C0=void 0;return Y0.muted=l0,Y0.src=o0,new Promise(function(m0){w0=Y0.play(),q0=setTimeout(function(){C0(!1,new Error("Timeout "+R0+" ms has been reached"));},R0),C0=function(N0){var K0=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;clearTimeout(q0),m0({result:N0,error:K0});},void 0!==w0?w0.then(function(){return C0(!0);}).catch(function(g0){return C0(!1,g0);}):C0(!0);});}function u0(h0){var f0={muted:!1,timeout:250};if(!h0)return f0;var D0=h0;return D0.muted=h0.muted||f0.muted,D0.timeout=h0.timeout||f0.timeout,D0;}return{audio:function(P0){return X0(u0(P0),function(M0){return{element:M0||document.createElement("audio"),source:"data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"};});},video:function(L0){return X0(u0(L0),function(x0){return{element:x0||document.createElement("video"),source:"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE="};});}};}();function akamaiSetupAIS(J0s,A0s,j0s){if(akaMediaAnalytics){akaMediaAnalytics.handleSetupAISEvent(J0s,A0s,j0s);}}function akamaiGetViewerId(){try{var T0s=null;if(akaMediaAnalytics){T0s=akaMediaAnalytics.getViewerId();}}catch(d0s){}return T0s;}function fragmentDownloadCompleted(h1s){akamaiFragmentDownloadCompleted(h1s);}function akamaiSetURLManifest(Z0s){try{if(akaMediaAnalytics){akaMediaAnalytics.setURLManifest(Z0s);}else{console.log("akaMediaAnalytics is null akamaiSetURLManifest api call will fail");}}catch(B0s){console.log("Exception thrown from akamaiSetURLManifest. Exception = "+B0s);}}function akamaiHandleApplicationExit(){if(akaMediaAnalytics){akaMediaAnalytics.handleApplicationExit();}}function fragmentDownloadStarted(X1s){akamaiFragmentDownloadStarted(X1s);}function akamaiHandleAdStopped(){if(akaMediaAnalytics){akaMediaAnalytics.handleAdStopped();}}function akamaiPlaybackCompleted(){try{if(akaMediaAnalytics){akaMediaAnalytics.handlePlayEnd();}}catch(H0s){console.log(H0s);}}function setAkamaiMediaAnalyticsData(M0s,L0s,x0s){try{if(akaMediaAnalytics){akaMediaAnalytics.setData(M0s,L0s);}}catch(O0s){}}function akamaiHandleStreamSwitch(){if(akaMediaAnalytics){akaMediaAnalytics.handleStreamSwitch();}}function akamaiSetStreamURL(v0s,V0s){try{if(v0s!=null&&v0s!=""){setAkamaiMediaAnalyticsData("streamURL",v0s);}if(akaMediaAnalytics){if(typeof V0s!=="undefined"){akaMediaAnalytics.enableManifestRequest(V0s);}else{console.log("shouldSDKFetchManifest is not set by the player");}}else{console.log("akaMediaAnalytics is null akamaiSetStreamURL api call will fail");}}catch(p0s){console.log("Exception thrown from akamaiSetStreamURL. Exception = "+p0s);}}function akamaiFragmentDownloadCompleted(w1s){var C1s=akaMediaAnalytics.getStream();if(!C1s||!w1s){return;}C1s.streamFragmentDownloadCompleted(w1s);}function akamaiHandleAdMidPoint(){if(akaMediaAnalytics){akaMediaAnalytics.handleAdMidPoint();}}!function O0(H0,T0,v0){for(var p0="function"==typeof require&&require,d0=0;d0<v0.length;d0++)V0(v0[d0]);function V0(Z0,S0){if(!T0[Z0]){if(!H0[Z0]){var W0="function"==typeof require&&require;if(!S0&&W0)return W0(Z0,!0);if(p0)return p0(Z0,!0);var z0=new Error("Cannot find module '"+Z0+"'");throw z0.code="MODULE_NOT_FOUND",z0;}var B0=T0[Z0]={exports:{}};H0[Z0][0].call(B0.exports,function(n0){var e0=H0[Z0][1][n0];return V0(e0?e0:n0);},B0,B0.exports,O0,H0,T0,v0);}return T0[Z0].exports;}return V0;}({1:[function(j0,Q0,A0){"use strict";var J0=function(){function k0(){}return k0.VERSION="1.2.2",k0.BUILD="1702200",k0;}();A0.BuildFlags=J0;},{}],2:[function(u1,X1,I0){"use strict";var E0=this&&this.__extends||function(w1,D1){for(var C1 in D1)D1.hasOwnProperty(C1)&&(w1[C1]=D1[C1]);w1.prototype=null===D1?Object.create(D1):(Y1.prototype=D1.prototype,new Y1());function Y1(){this.constructor=w1;}},i0=u1("../BuildFlags"),y0=function(F1){function R1(U1){F1.call(this,U1),this.message=U1,this.name="MediaAccelerationPlayerWrapperError",this.stack=new Error().stack;}return E0(R1,F1),R1;}(Error);I0.MediaAccelerationPlayerWrapperError=y0;var r0=function(){function q1(G1){this.ACCEPT_HEADER_VALUE="*/*,akamai/media-acceleration-sdk;b="+i0.BuildFlags.BUILD+";v="+i0.BuildFlags.VERSION+";p=javascript",this.config=G1;}return q1.prototype.getPlayer=function(){return this.player;},q1;}();I0.PlayerWrapperAPIImpl=r0;},{"../BuildFlags":1}],3:[function(P1,L1,M1){"use strict";var N1=this&&this.__extends||function(T1,O1){for(var H1 in O1)O1.hasOwnProperty(H1)&&(T1[H1]=O1[H1]);function V1(){this.constructor=T1;}T1.prototype=null===O1?Object.create(O1):(V1.prototype=O1.prototype,new V1());},K1=P1("../../PlayerWrapperAPI"),g1=function(Z1){function B1(W1,z1){var S1=this;if(Z1.call(this,W1),"function"!=typeof Hls)throw new K1.MediaAccelerationPlayerWrapperError("The Hls object must be present in environment. Unable to wrap player.");if(this.hlsJsConfig="object"==typeof z1?z1:{},"function"==typeof this.hlsJsConfig.loader)throw new K1.MediaAccelerationPlayerWrapperError("MAE 1.0 does not support custom loaders. Unable to enable MAE 1.0.");if("function"==typeof this.hlsJsConfig.fLoader)throw new K1.MediaAccelerationPlayerWrapperError("MAE 1.0 does not support custom fragment loaders. Unable to enable MAE 1.0.");if("function"==typeof this.hlsJsConfig.pLoader)throw new K1.MediaAccelerationPlayerWrapperError("MAE 1.0 does not support custom playlist loaders. Unable to enable MAE 1.0.");if(!W1.disableQuic){var J1="function"==typeof this.hlsJsConfig.xhrSetup?this.hlsJsConfig.xhrSetup:function(){};this.hlsJsConfig.xhrSetup=function(A1,j1){J1(A1,j1),A1.setRequestHeader("Accept",S1.ACCEPT_HEADER_VALUE);};}this.player=new Hls(this.hlsJsConfig);}return N1(B1,Z1),B1;}(K1.PlayerWrapperAPIImpl);M1.MediaAccelerationHlsJsWrapper=g1;},{"../../PlayerWrapperAPI":2}],4:[function(I1,E1,Q1){(function(u4){"use strict";var r1=I1("./HlsJsWrapper");u4.MediaAccelerationHlsJsWrapper=r1.MediaAccelerationHlsJsWrapper,Object.defineProperty(Q1,"__esModule",{value:!0}),Q1.default=r1.MediaAccelerationHlsJsWrapper;}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}));},{"./HlsJsWrapper":3}]},{},[4]);function akamaiHandleAdThirdQuartile(){if(akaMediaAnalytics){akaMediaAnalytics.handleAdThirdQuartile();}}if(typeof akamaiBCVideoObject!="undefined"){akaMediaAnalytics=new AkaHTML5MediaAnalytics(null);}else{if(typeof AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH!="undefined"){if(AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH.indexOf("enableGenericAPI=1")==-1&&AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH.indexOf("subscribeVideo")==-1){akaMediaAnalytics=new AkaHTML5MediaAnalytics(null);}}}function akamaiHandleAdStarted(e0s){if(akaMediaAnalytics){akaMediaAnalytics.handleAdStarted(e0s);}}function akamaiHandleTitleSwitch(s0s){if(akaMediaAnalytics){akaMediaAnalytics.handleTitleSwitch(s0s);}}function akamaiHandleError(r0s){try{if(akaMediaAnalytics){akaMediaAnalytics.handleError(r0s);}}catch(u1s){}}function akamaiSetVideoObject(k0s){if(akaMediaAnalytics){akaMediaAnalytics.subscribeVideoObject(k0s);}};!function Y1s(c1s,F1s,U1s){for(var o1s="function"==typeof require&&require,R1s=0;R1s<U1s.length;R1s++)q1s(U1s[R1s]);function q1s(t1s,K1s){if(!F1s[t1s]){if(!c1s[t1s]){var G1s="function"==typeof require&&require;if(!K1s&&G1s)return G1s(t1s,!0);if(o1s)return o1s(t1s,!0);var m1s=new Error("Cannot find module '"+t1s+"'");throw m1s.code="MODULE_NOT_FOUND",m1s;}var l1s=F1s[t1s]={exports:{}};c1s[t1s][0].call(l1s.exports,function(a1s){var N1s=c1s[t1s][1][a1s];return q1s(N1s?N1s:a1s);},l1s,l1s.exports,Y1s,c1s,F1s,U1s);}return F1s[t1s].exports;}return q1s;}({1:[function(b1s,g1s,P1s){(function(){var L1s,M1s;M1s=b1s("atob"),L1s=function(){function x1s(O1s){this.data=new DataView(O1s),this.position=0;}return x1s.FromBase64=function(H1s){return new x1s(x1s.Base64ToArrayBuffer(H1s));},x1s.FromArrayBuffer=function(T1s){return new x1s(T1s);},Object.defineProperty(x1s.prototype,"buffer",{get:function(){return this.data.buffer;}}),Object.defineProperty(x1s.prototype,"byteLength",{get:function(){return this.data.byteLength;}}),x1s.prototype.getInt8=function(){var d1s;return d1s=this.data.getInt8(this.position),this.position+=1,d1s;},x1s.prototype.getInt16=function(){var v1s;return v1s=this.data.getInt16(this.position),this.position+=2,v1s;},x1s.prototype.getInt32=function(){var V1s;return V1s=this.data.getInt32(this.position),this.position+=4,V1s;},x1s.prototype.getUint8=function(){var p1s;return p1s=this.data.getUint8(this.position),this.position+=1,p1s;},x1s.prototype.getUint16=function(){var Z1s;return Z1s=this.data.getUint16(this.position),this.position+=2,Z1s;},x1s.prototype.getUint32=function(){var B1s;return B1s=this.data.getUint32(this.position),this.position+=4,B1s;},x1s.prototype.peekInt8=function(){return this.data.getInt8(this.position);},x1s.prototype.peekInt16=function(){return this.data.getInt16(this.position);},x1s.prototype.peekInt32=function(){return this.data.getInt32(this.position);},x1s.prototype.peekUint8=function(){return this.data.getUint8(this.position);},x1s.prototype.peekUint16=function(){return this.data.getUint16(this.position);},x1s.prototype.peekUint32=function(){return this.data.getUint32(this.position);},x1s.Base64ToArrayBuffer=function(J1s){var e1s,n1s,S1s,W1s,s1s,z1s;if(M1s=M1s||window.atob,"string"!=typeof J1s)return null;for(e1s=M1s(J1s),s1s=e1s.length,n1s=new Uint8Array(s1s),S1s=W1s=0,z1s=s1s;z1s>=0?z1s>W1s:W1s>z1s;S1s=z1s>=0?++W1s:--W1s)n1s[S1s]=e1s.charCodeAt(S1s);return n1s.buffer;},x1s;}(),g1s.exports=L1s;}.call(this));},{atob:5}],2:[function(j1s,A1s,Q1s){(function(){var I1s,k1s,E1s,y1s,i1s=function(u4s,X4s){for(var h4s in X4s)r1s.call(X4s,h4s)&&(u4s[h4s]=X4s[h4s]);function f4s(){this.constructor=u4s;}return f4s.prototype=X4s.prototype,u4s.prototype=new f4s(),u4s.__super__=X4s.prototype,u4s;},r1s={}.hasOwnProperty;k1s=function(){function D4s(C4s){this.type=C4s,this.type_name=function(){switch(this.type){case 0:return"SpliceNull";case 4:return"SpliceSchedule";case 5:return"SpliceInsert";case 6:return"TimeSignal";case 7:return"BandwidthReservation";case 255:return"PrivateCommand";}}.call(this);}return D4s.Build=function(Y4s,w4s){switch(Y4s){case 0:return new I1s(w4s);case 4:return;case 5:return new E1s(w4s);case 6:return new y1s(w4s);case 7:return;case 255:return;}},D4s.splice_time=function(R4s){var F4s,c4s;return c4s={},F4s=R4s.getUint8(),c4s.time_specified_flag=F4s>>7&1,1===c4s.time_specified_flag&&(c4s.pts_time=4294967296*(1&F4s),c4s.pts_time+=R4s.getUint32()),c4s;},D4s.break_duration=function(o4s){var U4s,q4s;return U4s=o4s.getInt8(),q4s={auto_return:U4s>>7&1,duration:4294967296*(1&U4s)},q4s.duration+=o4s.getUint32(),q4s;},D4s;}(),I1s=function(l4s){function t4s(G4s){t4s.__super__.constructor.call(this,0);}return i1s(t4s,l4s),t4s;}(k1s),E1s=function(K4s){function m4s(N4s){var a4s,P4s,M4s,L4s,b4s,g4s;if(m4s.__super__.constructor.call(this,5),this.splice_event_id=N4s.getUint32(),a4s=N4s.getInt8(),this.splice_event_cancel_indicator=a4s>>7&1,0===this.splice_event_cancel_indicator){if(a4s=N4s.getInt8(),this.out_of_network_indicator=a4s>>7&1,this.program_splice_flag=a4s>>6&1,this.duration_flag=a4s>>5&1,this.splice_immediate_flag=a4s>>4&1,1===this.program_splice_flag&&0===this.splice_immediate_flag)this.splice_time=k1s.splice_time(N4s);else if(0===this.program_splice_flag)for(P4s=N4s.getUint8(),this.splice_times={},L4s=b4s=0,g4s=P4s;g4s>=0?g4s>b4s:b4s>g4s;L4s=g4s>=0?++b4s:--b4s)M4s=N4s.getUint8(),0===this.splice_immediate_flag&&(this.splice_times[M4s]=k1s.splice_time(N4s));1===this.duration_flag&&(this.break_duration=k1s.break_duration(N4s)),this.unique_program_id=N4s.getUint16(),this.avail_num=N4s.getUint8(),this.avails_expected=N4s.getUint8();}}return i1s(m4s,K4s),m4s;}(k1s),y1s=function(O4s){function x4s(H4s){x4s.__super__.constructor.call(this,6),this.splice_time=k1s.splice_time(H4s);}return i1s(x4s,O4s),x4s;}(k1s),A1s.exports=k1s;}.call(this));},{}],3:[function(d4s,T4s,v4s){(function(){var Z4s,B4s,V4s,p4s=function(z4s,S4s){for(var e4s in S4s)W4s.call(S4s,e4s)&&(z4s[e4s]=S4s[e4s]);function n4s(){this.constructor=z4s;}return n4s.prototype=S4s.prototype,z4s.prototype=new n4s(),z4s.__super__=S4s.prototype,z4s;},W4s={}.hasOwnProperty;V4s=function(){function s4s(J4s){this.type=J4s,this.type_name=function(){switch(this.type){case 0:return"AvailDescriptor";case 2:return"SegmentationDescriptor";}}.call(this);}return s4s.Build=function(A4s,y4s){var j4s,k4s,i4s,Q4s,I4s,E4s;I4s=A4s.position+y4s,Q4s=[];try{for(;A4s.position<I4s;)i4s=A4s.getUint8(),k4s=A4s.getUint8(),j4s=function(){var r4s,u6s;switch(i4s){case 0:return new Z4s(A4s);case 2:return new B4s(A4s);default:for(E4s=r4s=0,u6s=k4s;u6s>=0?u6s>r4s:r4s>u6s;E4s=u6s>=0?++r4s:--r4s)A4s.getUint8();return;}}(),null!=j4s&&Q4s.push(j4s);}catch(X6s){}return Q4s;},s4s;}(),Z4s=function(f6s){function h6s(D6s){h6s.__super__.constructor.call(this,0),this.identifier=D6s.getUint32(),this.provider_avail_id=D6s.getUint32();}return p4s(h6s,f6s),h6s;}(V4s),B4s=function(w6s){function C6s(Y6s){var c6s,G6s,l6s,o6s,q6s,U6s,t6s,R6s,F6s;if(C6s.__super__.constructor.call(this,2),this.identifier=Y6s.getUint32(),this.segmentation_event_id=Y6s.getUint32(),this.segmentation_event_cancel_indicator=Y6s.getUint8()>>7&1,0===this.segmentation_event_cancel_indicator){if(c6s=Y6s.getUint8(),this.program_segmentation_flag=c6s>>7&1,this.segmentation_duration_flag=c6s>>6&1,this.delivery_not_restricted_flag=c6s>>5&1,0===this.delivery_not_restricted_flag&&(this.web_delivery_allowed_flag=c6s>>4&1,this.no_regional_blackout_flag=c6s>>3&1,this.archive_allowed_flag=c6s>>2&1,this.device_restrictions=3&c6s),0===this.program_segmentation_flag)for(G6s=Y6s.getUint8(),this.components=[],o6s=q6s=0,R6s=G6s;R6s>=0?R6s>q6s:q6s>R6s;o6s=R6s>=0?++q6s:--q6s)l6s=Y6s.getUint8(),t6s=4294967296*(1&Y6s.getUint8()),t6s+=Y6s.getUint32(),components.push({component_tag:l6s,pts_offset:t6s});if(1===this.segmentation_duration_flag&&(this.segmentation_duration=4294967296*Y6s.getUint8(),this.segmentation_duration+=Y6s.getUint32()),this.segmentation_upid_type=Y6s.getUint8(),this.segmentation_upid_length=Y6s.getUint8(),8===this.segmentation_upid_type)this.segmentation_upid=4294967296*Y6s.getUint32(),this.segmentation_upid+=Y6s.getUint32();else for(o6s=U6s=0,F6s=this.segmentation_upid_length;F6s>=0?F6s>U6s:U6s>F6s;o6s=F6s>=0?++U6s:--U6s)Y6s.getInt8();this.segmentation_type_id=Y6s.getUint8(),this.segment_num=Y6s.getUint8(),this.segments_expected=Y6s.getUint8(),this.segmentation_type_id_name=C6s.nameForTypeId(this.segmentation_type_id);}}return p4s(C6s,w6s),C6s.nameForTypeId=function(m6s){switch(m6s){case 0:return"Not Indicated";case 1:return"Content Identification";case 16:return"Program Start";case 17:return"Program End";case 18:return"Program Early Termination";case 19:return"Program Breakaway";case 20:return"Program Resumption";case 21:return"Program Runover Planned";case 22:return"Program Runover Unplanned";case 23:return"Program Overlap Start";case 24:return"Program Blackout Override";case 25:return"Program Start In Progress";case 32:return"Chapter Start";case 33:return"Chapter End";case 48:return"Provider Advertisement Start";case 49:return"Provider Advertisement End";case 50:return"Distributor Advertisement Start";case 51:return"Distributor Advertisement End";case 52:return"Provider Placement Opportunity Start";case 53:return"Provider Placement Opportunity End";case 54:return"Distributor Placement Opportunity Start";case 55:return"Distributor Placement Opportunity End";case 64:return"Unscheduled Event Start";case 65:return"Unscheduled Event End";case 80:return"Network Start";case 81:return"Network End";default:return"Unknown";}},C6s;}(V4s),T4s.exports=V4s;}.call(this));},{}],4:[function(K6s,N6s,a6s){(function(){var b6s,g6s,P6s,M6s;b6s=K6s("../lib/SimpleBuffer"),g6s=K6s("../lib/SpliceCommand"),P6s=K6s("../lib/SpliceDescriptor"),M6s=function(){function L6s(H6s){var x6s,O6s;if(null!=H6s){O6s=this._parseSplice(H6s);for(x6s in O6s)this[x6s]=O6s[x6s];}}return L6s.FromBase64=function(T6s){return new L6s(b6s.FromBase64(T6s));},L6s.FromArrayBuffer=function(d6s){return new L6s(b6s.FromArrayBuffer(d6s));},L6s.prototype._parseSplice=function(p6s){var V6s,B6s,v6s,Z6s;return v6s={},V6s=p6s.getInt32(),v6s.table_id=V6s>>24&255,v6s.section_syntax_indicator=V6s>>23&1,v6s.private_indicator=V6s>>22&1,v6s.section_length=V6s>>8&4095,v6s.protocol_version=255&V6s,V6s=p6s.getInt8(),v6s.encrypted_packet=V6s>>7&1,v6s.encryption_algorithm=V6s>>1&63,v6s.pts_adjustment=4294967296*(1&V6s),v6s.pts_adjustment+=p6s.getUint32(),V6s=p6s.getInt32(),v6s.cw_index=V6s>>24&255,v6s.tier=V6s>>12&4095,v6s.splice_command_length=4095&V6s,v6s.splice_command_type=p6s.getUint8(),Z6s=p6s.position,v6s.splice_command=g6s.Build(v6s.splice_command_type,p6s),p6s.position=Z6s+v6s.splice_command_length,B6s=p6s.getUint16(),Z6s=p6s.position,v6s.splice_descriptors=P6s.Build(p6s,B6s),p6s.position=Z6s+B6s,v6s.crc_32=p6s.getUint32(),v6s;},L6s;}(),N6s.exports=M6s;}.call(this));},{"../lib/SimpleBuffer":1,"../lib/SpliceCommand":2,"../lib/SpliceDescriptor":3}],5:[function(z6s,W6s,S6s){(function(e6s){!function(n6s){"use strict";var s6s=n6s.atob;n6s.atob=J6s,"undefined"!=typeof W6s&&(W6s.exports=J6s);function J6s(A6s){if("function"==typeof s6s)return s6s(A6s);if("function"==typeof e6s)return new e6s(A6s,"base64").toString("binary");if("object"==typeof n6s.base64js){var j6s=n6s.base64js.b64ToByteArray(A6s);return Array.prototype.map.call(j6s,function(Q6s){return String.fromCharCode(Q6s);}).join("");}throw new Error("you're probably in an ios webworker. please include use beatgammit's base64-js");}}(window);}.call(this,z6s("buffer").Buffer));},{buffer:7}],6:[function(f2s,D2s,E6s){"use strict";E6s.toByteArray=r6s,E6s.fromByteArray=h2s;function X2s(N2s,g2s,P2s){for(var b2s,a2s=[],K2s=g2s;P2s>K2s;K2s+=3)b2s=(N2s[K2s]<<16)+(N2s[K2s+1]<<8)+N2s[K2s+2],a2s.push(u2s(b2s));return a2s.join("");}var i6s=[],k6s=[],I6s="undefined"!=typeof Uint8Array?Uint8Array:Array;function r6s(c2s){var F2s,l2s,G2s,R2s,t2s,U2s,q2s=c2s.length;if(q2s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");t2s="="===c2s[q2s-2]?2:"="===c2s[q2s-1]?1:0,U2s=new I6s(3*q2s/4-t2s),G2s=t2s>0?q2s-4:q2s;var o2s=0;for(F2s=0,l2s=0;G2s>F2s;F2s+=4,l2s+=3)R2s=k6s[c2s.charCodeAt(F2s)]<<18|k6s[c2s.charCodeAt(F2s+1)]<<12|k6s[c2s.charCodeAt(F2s+2)]<<6|k6s[c2s.charCodeAt(F2s+3)],U2s[o2s++]=(16711680&R2s)>>16,U2s[o2s++]=(65280&R2s)>>8,U2s[o2s++]=255&R2s;return 2===t2s?(R2s=k6s[c2s.charCodeAt(F2s)]<<2|k6s[c2s.charCodeAt(F2s+1)]>>4,U2s[o2s++]=255&R2s):1===t2s&&(R2s=k6s[c2s.charCodeAt(F2s)]<<10|k6s[c2s.charCodeAt(F2s+1)]<<4|k6s[c2s.charCodeAt(F2s+2)]>>2,U2s[o2s++]=R2s>>8&255,U2s[o2s++]=255&R2s),U2s;}y6s();function u2s(m2s){return i6s[m2s>>18&63]+i6s[m2s>>12&63]+i6s[m2s>>6&63]+i6s[63&m2s];}function h2s(H2s){for(var L2s,x2s=H2s.length,T2s=x2s%3,M2s="",d2s=[],v2s=16383,O2s=0,V2s=x2s-T2s;V2s>O2s;O2s+=v2s)d2s.push(X2s(H2s,O2s,O2s+v2s>V2s?V2s:O2s+v2s));return 1===T2s?(L2s=H2s[x2s-1],M2s+=i6s[L2s>>2],M2s+=i6s[L2s<<4&63],M2s+="=="):2===T2s&&(L2s=(H2s[x2s-2]<<8)+H2s[x2s-1],M2s+=i6s[L2s>>10],M2s+=i6s[L2s>>4&63],M2s+=i6s[L2s<<2&63],M2s+="="),d2s.push(M2s),d2s.join("");}function y6s(){var C2s,w2s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y2s=w2s.length;for(C2s=0;Y2s>C2s;C2s++)i6s[C2s]=w2s[C2s];for(C2s=0;Y2s>C2s;++C2s)k6s[w2s.charCodeAt(C2s)]=C2s;k6s["-".charCodeAt(0)]=62,k6s["_".charCodeAt(0)]=63;}},{}],7:[function(Z2s,B2s,p2s){(function(F7s){"use strict";function W2s(S7s){return this instanceof W2s?(W2s.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof S7s?Z7s(this,S7s):"string"==typeof S7s?p7s(this,S7s,arguments.length>1?arguments[1]:"utf8"):V7s(this,S7s)):arguments.length>1?new W2s(S7s,arguments[1]):new W2s(S7s);}var Q2s=Z2s("base64-js"),e2s=Z2s("ieee754"),A2s=Z2s("isarray");function u7s(D9s,w9s){var C9s=0|s2s(w9s.length);D9s=n2s(D9s,C9s);for(var f9s=0;C9s>f9s;f9s+=1)D9s[f9s]=255&w9s[f9s];return D9s;}function C7s(Q9s,k9s,i9s,I9s){return J2s(O7s(k9s),Q9s,i9s,I9s);}function Y7s(v3s,V3s,d3s,p3s,Z3s){return Z3s||f7s(v3s,V3s,d3s,8,1.7976931348623157e308,-1.7976931348623157e308),e2s.write(v3s,V3s,d3s,p3s,52,8),d3s+8;}function n2s(K9s,N9s){W2s.TYPED_ARRAY_SUPPORT?(K9s=new Uint8Array(N9s),K9s.__proto__=W2s.prototype):K9s.length=N9s;var a9s=0!==N9s&&N9s<=W2s.poolSize>>>1;return a9s&&(K9s.parent=c7s),K9s;}function G7s(C8s,Y8s,w8s,c8s){return J2s(H7s(Y8s,C8s.length-w8s),C8s,w8s,c8s);}function M7s(W3s){return W3s.trim?W3s.trim():W3s.replace(/^\s+|\s+$/g,"");}function f7s(a3s,g3s,N3s,b3s,P3s,M3s){if(N3s+b3s>a3s.length)throw new RangeError("index out of range");if(0>N3s)throw new RangeError("index out of range");}function p7s(A7s,j7s,J7s){"string"==typeof J7s&&""!==J7s||(J7s="utf8");var Q7s=0|X7s(j7s,J7s);return A7s=n2s(A7s,Q7s),A7s.write(j7s,J7s),A7s;}function J2s(C5s,w5s,Y5s,c5s){for(var D5s=0;c5s>D5s&&!(D5s+Y5s>=w5s.length||D5s>=C5s.length);D5s++)w5s[D5s+Y5s]=C5s[D5s];return D5s;}function h7s(x3s,O3s,L3s,H3s,T3s){return T3s||f7s(x3s,O3s,L3s,4,3.4028234663852886e38,-3.4028234663852886e38),e2s.write(x3s,O3s,L3s,H3s,23,4),L3s+4;}p2s.Buffer=W2s,p2s.SlowBuffer=I2s,p2s.INSPECT_MAX_BYTES=50,W2s.poolSize=8192;function d7s(u9s,h9s){var X9s=0|s2s(h9s.length);u9s=n2s(u9s,X9s);for(var r7s=0;X9s>r7s;r7s+=1)u9s[r7s]=255&h9s[r7s];return u9s;}function I2s(P9s,M9s){if(!(this instanceof I2s))return new I2s(P9s,M9s);var g9s=new W2s(P9s,M9s);return delete g9s.parent,g9s;}function b7s(v9s,d9s,T9s){var V9s=!1;if(d9s=0|d9s,T9s=void 0===T9s||T9s===1/0?this.length:0|T9s,v9s||(v9s="utf8"),0>d9s&&(d9s=0),T9s>this.length&&(T9s=this.length),d9s>=T9s)return"";for(;;)switch(v9s){case"hex":return t7s(this,d9s,T9s);case"utf8":case"utf-8":return y2s(this,d9s,T9s);case"ascii":return q7s(this,d9s,T9s);case"binary":return o7s(this,d9s,T9s);case"base64":return U7s(this,d9s,T9s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l7s(this,d9s,T9s);default:if(V9s)throw new TypeError("Unknown encoding: "+v9s);v9s=(v9s+"").toLowerCase(),V9s=!0;}}function D7s(f5s){return Q2s.toByteArray(R7s(f5s));}var c7s={};W2s.TYPED_ARRAY_SUPPORT=void 0!==F7s.TYPED_ARRAY_SUPPORT?F7s.TYPED_ARRAY_SUPPORT:B7s(),W2s._augment=function(F5s){return F5s.__proto__=W2s.prototype,F5s;},W2s.TYPED_ARRAY_SUPPORT?(W2s.prototype.__proto__=Uint8Array.prototype,W2s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&W2s[Symbol.species]===W2s&&Object.defineProperty(W2s,Symbol.species,{value:null,configurable:!0})):(W2s.prototype.length=void 0,W2s.prototype.parent=void 0),W2s.isBuffer=function(R5s){return!(null==R5s||!R5s._isBuffer);},W2s.compare=function(q5s,o5s){if(!W2s.isBuffer(q5s)||!W2s.isBuffer(o5s))throw new TypeError("Arguments must be Buffers");if(q5s===o5s)return 0;for(var t5s=q5s.length,l5s=o5s.length,U5s=0,G5s=Math.min(t5s,l5s);G5s>U5s&&q5s[U5s]===o5s[U5s];)++U5s;return U5s!==G5s&&(t5s=q5s[U5s],l5s=o5s[U5s]),l5s>t5s?-1:t5s>l5s?1:0;},W2s.isEncoding=function(m5s){switch(String(m5s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},W2s.concat=function(N5s,a5s){if(!A2s(N5s))throw new TypeError("list argument must be an Array of Buffers.");if(0===N5s.length)return new W2s(0);var K5s;if(void 0===a5s)for(a5s=0,K5s=0;K5s<N5s.length;K5s++)a5s+=N5s[K5s].length;var b5s=new W2s(a5s),g5s=0;for(K5s=0;K5s<N5s.length;K5s++){var P5s=N5s[K5s];P5s.copy(b5s,g5s),g5s+=P5s.length;}return b5s;},W2s.byteLength=X7s,W2s.prototype._isBuffer=!0,W2s.prototype.toString=function(){var M5s=0|this.length;return 0===M5s?"":0===arguments.length?y2s(this,0,M5s):b7s.apply(this,arguments);},W2s.prototype.equals=function(L5s){if(!W2s.isBuffer(L5s))throw new TypeError("Argument must be a Buffer");return this===L5s?!0:0===W2s.compare(this,L5s);},W2s.prototype.inspect=function(){var x5s="",O5s=p2s.INSPECT_MAX_BYTES;return this.length>0&&(x5s=this.toString("hex",0,O5s).match(/.{2}/g).join(" "),this.length>O5s&&(x5s+=" ... ")),"<Buffer "+x5s+">";},W2s.prototype.compare=function(H5s){if(!W2s.isBuffer(H5s))throw new TypeError("Argument must be a Buffer");return this===H5s?0:W2s.compare(this,H5s);},W2s.prototype.indexOf=function(d5s,T5s){if(T5s>2147483647?T5s=2147483647:-2147483648>T5s&&(T5s=-2147483648),T5s>>=0,0===this.length)return-1;if(T5s>=this.length)return-1;if(0>T5s&&(T5s=Math.max(this.length+T5s,0)),"string"==typeof d5s)return 0===d5s.length?-1:String.prototype.indexOf.call(this,d5s,T5s);if(W2s.isBuffer(d5s))return v5s(this,d5s,T5s);if("number"==typeof d5s)return W2s.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,d5s,T5s):v5s(this,[d5s],T5s);throw new TypeError("val must be string, number or Buffer");function v5s(B5s,W5s,Z5s){for(var V5s=-1,p5s=0;Z5s+p5s<B5s.length;p5s++)if(B5s[Z5s+p5s]===W5s[-1===V5s?0:p5s-V5s]){if(-1===V5s&&(V5s=p5s),p5s-V5s+1===W5s.length)return Z5s+V5s;}else V5s=-1;return-1;}},W2s.prototype.write=function(n5s,S5s,z5s,e5s){if(void 0===S5s)e5s="utf8",z5s=this.length,S5s=0;else if(void 0===z5s&&"string"==typeof S5s)e5s=S5s,z5s=this.length,S5s=0;else if(isFinite(S5s))S5s=0|S5s,isFinite(z5s)?(z5s=0|z5s,void 0===e5s&&(e5s="utf8")):(e5s=z5s,z5s=void 0);else{var A5s=e5s;e5s=S5s,S5s=0|z5s,z5s=A5s;}var s5s=this.length-S5s;if((void 0===z5s||z5s>s5s)&&(z5s=s5s),n5s.length>0&&(0>z5s||0>S5s)||S5s>this.length)throw new RangeError("attempt to write outside buffer bounds");e5s||(e5s="utf8");for(var J5s=!1;;)switch(e5s){case"hex":return a7s(this,n5s,S5s,z5s);case"utf8":case"utf-8":return N7s(this,n5s,S5s,z5s);case"ascii":return C7s(this,n5s,S5s,z5s);case"binary":return K7s(this,n5s,S5s,z5s);case"base64":return m7s(this,n5s,S5s,z5s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G7s(this,n5s,S5s,z5s);default:if(J5s)throw new TypeError("Unknown encoding: "+e5s);e5s=(""+e5s).toLowerCase(),J5s=!0;}},W2s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)};};function N7s(s9s,A9s,J9s,j9s){return J2s(j2s(A9s,s9s.length-J9s),s9s,J9s,j9s);}function P7s(L8s){var x8s=L8s.length;if(E2s>=x8s)return String.fromCharCode.apply(String,L8s);for(var O8s="",M8s=0;x8s>M8s;)O8s+=String.fromCharCode.apply(String,L8s.slice(M8s,M8s+=E2s));return O8s;}function H7s(r3s,h5s){for(var y3s,u5s,X5s,I3s=[],E3s=0;E3s<r3s.length&&!((h5s-=2)<0);E3s++)y3s=r3s.charCodeAt(E3s),u5s=y3s>>8,X5s=y3s%256,I3s.push(X5s),I3s.push(u5s);return I3s;}function t7s(A8s,e8s,S8s){var s8s=A8s.length;(!e8s||0>e8s)&&(e8s=0),(!S8s||0>S8s||S8s>s8s)&&(S8s=s8s);for(var J8s="",n8s=e8s;S8s>n8s;n8s++)J8s+=L7s(A8s[n8s]);return J8s;}function S2s(X3s,h3s,f3s,D3s,C3s,w3s){if(!W2s.isBuffer(X3s))throw new TypeError("buffer must be a Buffer instance");if(h3s>C3s||w3s>h3s)throw new RangeError("value is out of bounds");if(f3s+D3s>X3s.length)throw new RangeError("index out of range");}function j2s(j3s,e3s){e3s=e3s||1/0;for(var S3s,A3s=j3s.length,s3s=null,n3s=[],J3s=0;A3s>J3s;J3s++){if(S3s=j3s.charCodeAt(J3s),S3s>55295&&57344>S3s){if(!s3s){if(S3s>56319){(e3s-=3)>-1&&n3s.push(239,191,189);continue;}if(J3s+1===A3s){(e3s-=3)>-1&&n3s.push(239,191,189);continue;}s3s=S3s;continue;}if(56320>S3s){(e3s-=3)>-1&&n3s.push(239,191,189),s3s=S3s;continue;}S3s=(s3s-55296<<10|S3s-56320)+65536;}else s3s&&(e3s-=3)>-1&&n3s.push(239,191,189);if(s3s=null,128>S3s){if((e3s-=1)<0)break;n3s.push(S3s);}else if(2048>S3s){if((e3s-=2)<0)break;n3s.push(S3s>>6|192,63&S3s|128);}else if(65536>S3s){if((e3s-=3)<0)break;n3s.push(S3s>>12|224,S3s>>6&63|128,63&S3s|128);}else{if(!(1114112>S3s))throw new Error("Invalid code point");if((e3s-=4)<0)break;n3s.push(S3s>>18|240,S3s>>12&63|128,S3s>>6&63|128,63&S3s|128);}}return n3s;}function k2s(F3s,c3s,R3s,U3s){0>c3s&&(c3s=65535+c3s+1);for(var Y3s=0,q3s=Math.min(F3s.length-R3s,2);q3s>Y3s;Y3s++)F3s[R3s+Y3s]=(c3s&255<<8*(U3s?Y3s:1-Y3s))>>>8*(U3s?Y3s:1-Y3s);}function a7s(e9s,n9s,B9s,p9s){B9s=Number(B9s)||0;var W9s=e9s.length-B9s;p9s?(p9s=Number(p9s),p9s>W9s&&(p9s=W9s)):p9s=W9s;var z9s=n9s.length;if(z9s%2!==0)throw new Error("Invalid hex string");p9s>z9s/2&&(p9s=z9s/2);for(var Z9s=0;p9s>Z9s;Z9s++){var S9s=parseInt(n9s.substr(2*Z9s,2),16);if(isNaN(S9s))throw new Error("Invalid hex string");e9s[B9s+Z9s]=S9s;}return Z9s;}function R7s(B3s){if(B3s=M7s(B3s).replace(w7s,""),B3s.length<2)return"";for(;B3s.length%4!==0;)B3s+="=";return B3s;}function T7s(Y9s,c9s){return c9s.byteLength,W2s.TYPED_ARRAY_SUPPORT?(Y9s=new Uint8Array(c9s),Y9s.__proto__=W2s.prototype):Y9s=u7s(Y9s,new Uint8Array(c9s)),Y9s;}function o7s(W8s,z8s,Z8s){var B8s="";Z8s=Math.min(W8s.length,Z8s);for(var p8s=z8s;Z8s>p8s;p8s++)B8s+=String.fromCharCode(W8s[p8s]);return B8s;}function y2s(m8s,P8s,b8s){b8s=Math.min(m8s.length,b8s);for(var a8s=[],t8s=P8s;b8s>t8s;){var l8s=m8s[t8s],q8s=null,N8s=l8s>239?4:l8s>223?3:l8s>191?2:1;if(b8s>=t8s+N8s){var G8s,K8s,g8s,o8s;switch(N8s){case 1:128>l8s&&(q8s=l8s);break;case 2:G8s=m8s[t8s+1],128===(192&G8s)&&(o8s=(31&l8s)<<6|63&G8s,o8s>127&&(q8s=o8s));break;case 3:G8s=m8s[t8s+1],K8s=m8s[t8s+2],128===(192&G8s)&&128===(192&K8s)&&(o8s=(15&l8s)<<12|(63&G8s)<<6|63&K8s,o8s>2047&&(55296>o8s||o8s>57343)&&(q8s=o8s));break;case 4:G8s=m8s[t8s+1],K8s=m8s[t8s+2],g8s=m8s[t8s+3],128===(192&G8s)&&128===(192&K8s)&&128===(192&g8s)&&(o8s=(15&l8s)<<18|(63&G8s)<<12|(63&K8s)<<6|63&g8s,o8s>65535&&1114112>o8s&&(q8s=o8s));}}null===q8s?(q8s=65533,N8s=1):q8s>65535&&(q8s-=65536,a8s.push(q8s>>>10&1023|55296),q8s=56320|1023&q8s),a8s.push(q8s),t8s+=N8s;}return P7s(a8s);}var E2s=4096;function L7s(z3s){return 16>z3s?"0"+z3s.toString(16):z3s.toString(16);}function m7s(X8s,h8s,f8s,D8s){return J2s(D7s(h8s),X8s,f8s,D8s);}function s2s(b9s){if(b9s>=r2s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r2s().toString(16)+" bytes");return 0|b9s;}function r2s(){return W2s.TYPED_ARRAY_SUPPORT?2147483647:1073741823;}function i2s(l3s,t3s,G3s,K3s){0>t3s&&(t3s=4294967295+t3s+1);for(var o3s=0,m3s=Math.min(l3s.length-G3s,4);m3s>o3s;o3s++)l3s[G3s+o3s]=t3s>>>8*(K3s?o3s:3-o3s)&255;}function V7s(i7s,k7s){if(W2s.isBuffer(k7s))return v7s(i7s,k7s);if(A2s(k7s))return d7s(i7s,k7s);if(null==k7s)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(k7s.buffer instanceof ArrayBuffer)return u7s(i7s,k7s);if(k7s instanceof ArrayBuffer)return T7s(i7s,k7s);}return k7s.length?x7s(i7s,k7s):g7s(i7s,k7s);}W2s.prototype.slice=function(j5s,Q5s){var k5s=this.length;j5s=~~j5s,Q5s=void 0===Q5s?k5s:~~Q5s,0>j5s?(j5s+=k5s,0>j5s&&(j5s=0)):j5s>k5s&&(j5s=k5s),0>Q5s?(Q5s+=k5s,0>Q5s&&(Q5s=0)):Q5s>k5s&&(Q5s=k5s),j5s>Q5s&&(Q5s=j5s);var i5s;if(W2s.TYPED_ARRAY_SUPPORT)i5s=this.subarray(j5s,Q5s),i5s.__proto__=W2s.prototype;else{var E5s=Q5s-j5s;i5s=new W2s(E5s,void 0);for(var I5s=0;E5s>I5s;I5s++)i5s[I5s]=this[I5s+j5s];}return i5s.length&&(i5s.parent=this.parent||this),i5s;},W2s.prototype.readUIntLE=function(y5s,r5s,f0e){y5s=0|y5s,r5s=0|r5s,f0e||z2s(y5s,r5s,this.length);for(var u0e=this[y5s],X0e=1,h0e=0;++h0e<r5s&&(X0e*=256);)u0e+=this[y5s+h0e]*X0e;return u0e;},W2s.prototype.readUIntBE=function(C0e,D0e,c0e){C0e=0|C0e,D0e=0|D0e,c0e||z2s(C0e,D0e,this.length);for(var w0e=this[C0e+--D0e],Y0e=1;D0e>0&&(Y0e*=256);)w0e+=this[C0e+--D0e]*Y0e;return w0e;},W2s.prototype.readUInt8=function(F0e,R0e){return R0e||z2s(F0e,1,this.length),this[F0e];},W2s.prototype.readUInt16LE=function(U0e,q0e){return q0e||z2s(U0e,2,this.length),this[U0e]|this[U0e+1]<<8;},W2s.prototype.readUInt16BE=function(o0e,t0e){return t0e||z2s(o0e,2,this.length),this[o0e]<<8|this[o0e+1];},W2s.prototype.readUInt32LE=function(l0e,G0e){return G0e||z2s(l0e,4,this.length),(this[l0e]|this[l0e+1]<<8|this[l0e+2]<<16)+16777216*this[l0e+3];},W2s.prototype.readUInt32BE=function(m0e,K0e){return K0e||z2s(m0e,4,this.length),16777216*this[m0e]+(this[m0e+1]<<16|this[m0e+2]<<8|this[m0e+3]);},W2s.prototype.readIntLE=function(N0e,a0e,M0e){N0e=0|N0e,a0e=0|a0e,M0e||z2s(N0e,a0e,this.length);for(var b0e=this[N0e],g0e=1,P0e=0;++P0e<a0e&&(g0e*=256);)b0e+=this[N0e+P0e]*g0e;return g0e*=128,b0e>=g0e&&(b0e-=Math.pow(2,8*a0e)),b0e;},W2s.prototype.readIntBE=function(L0e,x0e,d0e){L0e=0|L0e,x0e=0|x0e,d0e||z2s(L0e,x0e,this.length);for(var T0e=x0e,O0e=1,H0e=this[L0e+--T0e];T0e>0&&(O0e*=256);)H0e+=this[L0e+--T0e]*O0e;return O0e*=128,H0e>=O0e&&(H0e-=Math.pow(2,8*x0e)),H0e;},W2s.prototype.readInt8=function(v0e,V0e){return V0e||z2s(v0e,1,this.length),128&this[v0e]?-1*(255-this[v0e]+1):this[v0e];},W2s.prototype.readInt16LE=function(Z0e,B0e){B0e||z2s(Z0e,2,this.length);var p0e=this[Z0e]|this[Z0e+1]<<8;return 32768&p0e?4294901760|p0e:p0e;},W2s.prototype.readInt16BE=function(z0e,S0e){S0e||z2s(z0e,2,this.length);var W0e=this[z0e+1]|this[z0e]<<8;return 32768&W0e?4294901760|W0e:W0e;},W2s.prototype.readInt32LE=function(e0e,n0e){return n0e||z2s(e0e,4,this.length),this[e0e]|this[e0e+1]<<8|this[e0e+2]<<16|this[e0e+3]<<24;},W2s.prototype.readInt32BE=function(s0e,J0e){return J0e||z2s(s0e,4,this.length),this[s0e]<<24|this[s0e+1]<<16|this[s0e+2]<<8|this[s0e+3];},W2s.prototype.readFloatLE=function(A0e,j0e){return j0e||z2s(A0e,4,this.length),e2s.read(this,A0e,!0,23,4);},W2s.prototype.readFloatBE=function(Q0e,k0e){return k0e||z2s(Q0e,4,this.length),e2s.read(this,Q0e,!1,23,4);},W2s.prototype.readDoubleLE=function(i0e,I0e){return I0e||z2s(i0e,8,this.length),e2s.read(this,i0e,!0,52,8);},W2s.prototype.readDoubleBE=function(E0e,y0e){return y0e||z2s(E0e,8,this.length),e2s.read(this,E0e,!1,52,8);},W2s.prototype.writeUIntLE=function(X1e,r0e,u1e,D1e){X1e=+X1e,r0e=0|r0e,u1e=0|u1e,D1e||S2s(this,X1e,r0e,u1e,Math.pow(2,8*u1e),0);var h1e=1,f1e=0;for(this[r0e]=255&X1e;++f1e<u1e&&(h1e*=256);)this[r0e+f1e]=X1e/h1e&255;return r0e+u1e;},W2s.prototype.writeUIntBE=function(Y1e,C1e,w1e,R1e){Y1e=+Y1e,C1e=0|C1e,w1e=0|w1e,R1e||S2s(this,Y1e,C1e,w1e,Math.pow(2,8*w1e),0);var c1e=w1e-1,F1e=1;for(this[C1e+c1e]=255&Y1e;--c1e>=0&&(F1e*=256);)this[C1e+c1e]=Y1e/F1e&255;return C1e+w1e;},W2s.prototype.writeUInt8=function(U1e,q1e,o1e){return U1e=+U1e,q1e=0|q1e,o1e||S2s(this,U1e,q1e,1,255,0),W2s.TYPED_ARRAY_SUPPORT||(U1e=Math.floor(U1e)),this[q1e]=255&U1e,q1e+1;},W2s.prototype.writeUInt16LE=function(l1e,t1e,G1e){return l1e=+l1e,t1e=0|t1e,G1e||S2s(this,l1e,t1e,2,65535,0),W2s.TYPED_ARRAY_SUPPORT?(this[t1e]=255&l1e,this[t1e+1]=l1e>>>8):k2s(this,l1e,t1e,!0),t1e+2;},W2s.prototype.writeUInt16BE=function(K1e,m1e,N1e){return K1e=+K1e,m1e=0|m1e,N1e||S2s(this,K1e,m1e,2,65535,0),W2s.TYPED_ARRAY_SUPPORT?(this[m1e]=K1e>>>8,this[m1e+1]=255&K1e):k2s(this,K1e,m1e,!1),m1e+2;},W2s.prototype.writeUInt32LE=function(b1e,a1e,g1e){return b1e=+b1e,a1e=0|a1e,g1e||S2s(this,b1e,a1e,4,4294967295,0),W2s.TYPED_ARRAY_SUPPORT?(this[a1e+3]=b1e>>>24,this[a1e+2]=b1e>>>16,this[a1e+1]=b1e>>>8,this[a1e]=255&b1e):i2s(this,b1e,a1e,!0),a1e+4;},W2s.prototype.writeUInt32BE=function(M1e,P1e,L1e){return M1e=+M1e,P1e=0|P1e,L1e||S2s(this,M1e,P1e,4,4294967295,0),W2s.TYPED_ARRAY_SUPPORT?(this[P1e]=M1e>>>24,this[P1e+1]=M1e>>>16,this[P1e+2]=M1e>>>8,this[P1e+3]=255&M1e):i2s(this,M1e,P1e,!1),P1e+4;},W2s.prototype.writeIntLE=function(x1e,O1e,H1e,p1e){if(x1e=+x1e,O1e=0|O1e,!p1e){var T1e=Math.pow(2,8*H1e-1);S2s(this,x1e,O1e,H1e,T1e-1,-T1e);}var d1e=0,v1e=1,V1e=0>x1e?1:0;for(this[O1e]=255&x1e;++d1e<H1e&&(v1e*=256);)this[O1e+d1e]=(x1e/v1e>>0)-V1e&255;return O1e+H1e;},W2s.prototype.writeIntBE=function(Z1e,B1e,W1e,s1e){if(Z1e=+Z1e,B1e=0|B1e,!s1e){var S1e=Math.pow(2,8*W1e-1);S2s(this,Z1e,B1e,W1e,S1e-1,-S1e);}var z1e=W1e-1,e1e=1,n1e=0>Z1e?1:0;for(this[B1e+z1e]=255&Z1e;--z1e>=0&&(e1e*=256);)this[B1e+z1e]=(Z1e/e1e>>0)-n1e&255;return B1e+W1e;},W2s.prototype.writeInt8=function(J1e,A1e,j1e){return J1e=+J1e,A1e=0|A1e,j1e||S2s(this,J1e,A1e,1,127,-128),W2s.TYPED_ARRAY_SUPPORT||(J1e=Math.floor(J1e)),0>J1e&&(J1e=255+J1e+1),this[A1e]=255&J1e,A1e+1;},W2s.prototype.writeInt16LE=function(k1e,Q1e,i1e){return k1e=+k1e,Q1e=0|Q1e,i1e||S2s(this,k1e,Q1e,2,32767,-32768),W2s.TYPED_ARRAY_SUPPORT?(this[Q1e]=255&k1e,this[Q1e+1]=k1e>>>8):k2s(this,k1e,Q1e,!0),Q1e+2;},W2s.prototype.writeInt16BE=function(E1e,I1e,y1e){return E1e=+E1e,I1e=0|I1e,y1e||S2s(this,E1e,I1e,2,32767,-32768),W2s.TYPED_ARRAY_SUPPORT?(this[I1e]=E1e>>>8,this[I1e+1]=255&E1e):k2s(this,E1e,I1e,!1),I1e+2;},W2s.prototype.writeInt32LE=function(u4e,r1e,X4e){return u4e=+u4e,r1e=0|r1e,X4e||S2s(this,u4e,r1e,4,2147483647,-2147483648),W2s.TYPED_ARRAY_SUPPORT?(this[r1e]=255&u4e,this[r1e+1]=u4e>>>8,this[r1e+2]=u4e>>>16,this[r1e+3]=u4e>>>24):i2s(this,u4e,r1e,!0),r1e+4;},W2s.prototype.writeInt32BE=function(h4e,f4e,D4e){return h4e=+h4e,f4e=0|f4e,D4e||S2s(this,h4e,f4e,4,2147483647,-2147483648),0>h4e&&(h4e=4294967295+h4e+1),W2s.TYPED_ARRAY_SUPPORT?(this[f4e]=h4e>>>24,this[f4e+1]=h4e>>>16,this[f4e+2]=h4e>>>8,this[f4e+3]=255&h4e):i2s(this,h4e,f4e,!1),f4e+4;},W2s.prototype.writeFloatLE=function(C4e,w4e,Y4e){return h7s(this,C4e,w4e,!0,Y4e);},W2s.prototype.writeFloatBE=function(c4e,F4e,R4e){return h7s(this,c4e,F4e,!1,R4e);},W2s.prototype.writeDoubleLE=function(U4e,q4e,o4e){return Y7s(this,U4e,q4e,!0,o4e);},W2s.prototype.writeDoubleBE=function(t4e,l4e,G4e){return Y7s(this,t4e,l4e,!1,G4e);},W2s.prototype.copy=function(b4e,N4e,m4e,K4e){if(m4e||(m4e=0),K4e||0===K4e||(K4e=this.length),N4e>=b4e.length&&(N4e=b4e.length),N4e||(N4e=0),K4e>0&&m4e>K4e&&(K4e=m4e),K4e===m4e)return 0;if(0===b4e.length||0===this.length)return 0;if(0>N4e)throw new RangeError("targetStart out of bounds");if(0>m4e||m4e>=this.length)throw new RangeError("sourceStart out of bounds");if(0>K4e)throw new RangeError("sourceEnd out of bounds");K4e>this.length&&(K4e=this.length),b4e.length-N4e<K4e-m4e&&(K4e=b4e.length-N4e+m4e);var a4e,g4e=K4e-m4e;if(this===b4e&&N4e>m4e&&K4e>N4e)for(a4e=g4e-1;a4e>=0;a4e--)b4e[a4e+N4e]=this[a4e+m4e];else if(1e3>g4e||!W2s.TYPED_ARRAY_SUPPORT)for(a4e=0;g4e>a4e;a4e++)b4e[a4e+N4e]=this[a4e+m4e];else Uint8Array.prototype.set.call(b4e,this.subarray(m4e,m4e+g4e),N4e);return g4e;},W2s.prototype.fill=function(x4e,M4e,L4e){if(x4e||(x4e=0),M4e||(M4e=0),L4e||(L4e=this.length),M4e>L4e)throw new RangeError("end < start");if(L4e!==M4e&&0!==this.length){if(0>M4e||M4e>=this.length)throw new RangeError("start out of bounds");if(0>L4e||L4e>this.length)throw new RangeError("end out of bounds");var P4e;if("number"==typeof x4e)for(P4e=M4e;L4e>P4e;P4e++)this[P4e]=x4e;else{var O4e=j2s(x4e.toString()),H4e=O4e.length;for(P4e=M4e;L4e>P4e;P4e++)this[P4e]=O4e[P4e%H4e];}return this;}};function U7s(F8s,R8s,U8s){return 0===R8s&&U8s===F8s.length?Q2s.fromByteArray(F8s):Q2s.fromByteArray(F8s.slice(R8s,U8s));}function B7s(){try{var W7s=new Uint8Array(1);return W7s.foo=function(){return 42;},42===W7s.foo()&&"function"==typeof W7s.subarray&&0===W7s.subarray(1,1).byteLength;}catch(z7s){return!1;}}function x7s(R9s,q9s){var U9s=0|s2s(q9s.length);R9s=n2s(R9s,U9s);for(var F9s=0;U9s>F9s;F9s+=1)R9s[F9s]=255&q9s[F9s];return R9s;}function O7s(i3s){for(var k3s=[],Q3s=0;Q3s<i3s.length;Q3s++)k3s.push(255&i3s.charCodeAt(Q3s));return k3s;}var w7s=/[^+\/0-9A-Za-z-_]/g;function q7s(v8s,V8s,T8s){var d8s="";T8s=Math.min(v8s.length,T8s);for(var H8s=V8s;T8s>H8s;H8s++)d8s+=String.fromCharCode(127&v8s[H8s]);return d8s;}function K7s(E9s,y9s,r9s,u8s){return C7s(E9s,y9s,r9s,u8s);}function z2s(y8s,r8s,u3s){if(y8s%1!==0||0>y8s)throw new RangeError("offset is not uint");if(y8s+r8s>u3s)throw new RangeError("Trying to access beyond buffer length");}function X7s(L9s,O9s){"string"!=typeof L9s&&(L9s=""+L9s);var x9s=L9s.length;if(0===x9s)return 0;for(var H9s=!1;;)switch(O9s){case"ascii":case"binary":case"raw":case"raws":return x9s;case"utf8":case"utf-8":return j2s(L9s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*x9s;case"hex":return x9s>>>1;case"base64":return D7s(L9s).length;default:if(H9s)return j2s(L9s).length;O9s=(""+O9s).toLowerCase(),H9s=!0;}}function Z7s(e7s,s7s){if(e7s=n2s(e7s,0>s7s?0:0|s2s(s7s)),!W2s.TYPED_ARRAY_SUPPORT)for(var n7s=0;s7s>n7s;n7s++)e7s[n7s]=0;return e7s;}function v7s(I7s,y7s){var E7s=0|s2s(y7s.length);return I7s=n2s(I7s,E7s),y7s.copy(I7s,0,0,E7s),I7s;}function g7s(t9s,G9s){var m9s,l9s=0;"Buffer"===G9s.type&&A2s(G9s.data)&&(m9s=G9s.data,l9s=0|s2s(m9s.length)),t9s=n2s(t9s,l9s);for(var o9s=0;l9s>o9s;o9s+=1)t9s[o9s]=255&m9s[o9s];return t9s;}function l7s(i8s,I8s,E8s){for(var Q8s=i8s.slice(I8s,E8s),k8s="",j8s=0;j8s<Q8s.length;j8s+=2)k8s+=String.fromCharCode(Q8s[j8s]+256*Q8s[j8s+1]);return k8s;}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}));},{"base64-js":6,ieee754:9,isarray:8}],8:[function(v4e,d4e,V4e){var T4e={}.toString;d4e.exports=Array.isArray||function(p4e){return"[object Array]"==T4e.call(p4e);};},{}],9:[function(B4e,W4e,Z4e){Z4e.read=function(j4e,I4e,y4e,J4e,E4e){var S4e,n4e,Q4e=8*E4e-J4e-1,k4e=(1<<Q4e)-1,i4e=k4e>>1,z4e=-7,e4e=y4e?E4e-1:0,A4e=y4e?-1:1,s4e=j4e[I4e+e4e];for(e4e+=A4e,S4e=s4e&(1<<-z4e)-1,s4e>>=-z4e,z4e+=Q4e;z4e>0;S4e=256*S4e+j4e[I4e+e4e],e4e+=A4e,z4e-=8);for(n4e=S4e&(1<<-z4e)-1,S4e>>=-z4e,z4e+=J4e;z4e>0;n4e=256*n4e+j4e[I4e+e4e],e4e+=A4e,z4e-=8);if(0===S4e)S4e=1-i4e;else{if(S4e===k4e)return n4e?NaN:(s4e?-1:1)*(1/0);n4e+=Math.pow(2,J4e),S4e-=i4e;}return(s4e?-1:1)*n4e*Math.pow(2,S4e-J4e);},Z4e.write=function(F6e,u6e,U6e,q6e,X6e,t6e){var r4e,h6e,D6e,w6e=8*t6e-X6e-1,Y6e=(1<<w6e)-1,f6e=Y6e>>1,R6e=23===X6e?Math.pow(2,-24)-Math.pow(2,-77):0,C6e=q6e?0:t6e-1,c6e=q6e?1:-1,o6e=0>u6e||0===u6e&&0>1/u6e?1:0;for(u6e=Math.abs(u6e),isNaN(u6e)||u6e===1/0?(h6e=isNaN(u6e)?1:0,r4e=Y6e):(r4e=Math.floor(Math.log(u6e)/Math.LN2),u6e*(D6e=Math.pow(2,-r4e))<1&&(r4e--,D6e*=2),u6e+=r4e+f6e>=1?R6e/D6e:R6e*Math.pow(2,1-f6e),u6e*D6e>=2&&(r4e++,D6e/=2),r4e+f6e>=Y6e?(h6e=0,r4e=Y6e):r4e+f6e>=1?(h6e=(u6e*D6e-1)*Math.pow(2,X6e),r4e+=f6e):(h6e=u6e*Math.pow(2,f6e-1)*Math.pow(2,X6e),r4e=0));X6e>=8;F6e[U6e+C6e]=255&h6e,C6e+=c6e,h6e/=256,X6e-=8);for(r4e=r4e<<X6e|h6e,w6e+=X6e;w6e>0;F6e[U6e+C6e]=255&r4e,C6e+=c6e,r4e/=256,w6e-=8);F6e[U6e+C6e-c6e]|=128*o6e;};},{}],10:[function(l6e,G6e,K6e){var K6e,m6e;m6e={SimpleBuffer:l6e("../lib/SimpleBuffer"),SpliceCommand:l6e("../lib/SpliceCommand"),SpliceDescriptor:l6e("../lib/SpliceDescriptor"),SpliceInfo:l6e("../lib/SpliceInfo")},"undefined"!=typeof window&&null!==window?window.SCTE35=m6e:"undefined"!=typeof G6e&&null!==G6e&&(K6e=G6e.exports=m6e);},{"../lib/SimpleBuffer":1,"../lib/SpliceCommand":2,"../lib/SpliceDescriptor":3,"../lib/SpliceInfo":4}]},{},[10]);function akamaiHandleAdLoaded(n0s){if(akaMediaAnalytics){akaMediaAnalytics.handleAdLoaded(n0s);}}(function(){var a6e="SDK_"+"6.22.1.0-d3c9f301-201805071520".replace(/[^\w]/g,"_"),N6e="undefined"!=typeof window?window:"undefined"!=typeof GLOBAL?GLOBAL:this;N6e.tv=N6e.tv||{};N6e.tv.freewheel=N6e.tv.freewheel||{};N6e.tv.freewheel[a6e]=function(g6e){var b6e={version:"js-6.22.1.0-d3c9f301-201805071520"};"undefined"!==typeof window&&(window._fw_admanager=window._fw_admanager||{},window._fw_admanager.version=b6e.version);b6e.LOG_LEVEL_QUIET=0;b6e.LOG_LEVEL_INFO=1;b6e.LOG_LEVEL_DEBUG=2;b6e.setLogLevel=function(P6e){b6e.warn=b6e.log=b6e.debug=function(){};if("undefined"!==typeof console){try{window.localStorage&&window.localStorage.getItem("fwLogLevel")&&-1<window.localStorage.getItem("fwLogLevel")&&(P6e=window.localStorage.getItem("fwLogLevel"));}catch(M6e){console.warn(">FW Common.setLogLevel"+M6e.description);}P6e>b6e.LOG_LEVEL_QUIET&&(b6e.log=function(){console.log(">FW "+new Date().toTimeString().substr(3,6)+Array.prototype.slice.call(arguments).join(" "));},b6e.warn=function(){console.warn(">FW "+new Date().toTimeString().substr(3,6)+Array.prototype.slice.call(arguments).join(" "));},P6e>b6e.LOG_LEVEL_INFO&&(b6e.debug=function(){console.log(">FW "+new Date().toTimeString().substr(3,6)+Array.prototype.slice.call(arguments).join(" "));}));}};b6e.setLogLevel(b6e.LOG_LEVEL_INFO);b6e.log("FreeWheel Integration Runtime",b6e.version);b6e.proxyUrl=null;b6e.proxyAuthenticationParameter=null;b6e.setProxy=function(L6e){"string"===typeof L6e?("/"!==L6e.charAt(L6e.length-1)&&(L6e+="/"),b6e.proxyUrl=L6e):b6e.proxyUrl=null;};b6e.setProxyAuthenticationParameter=function(x6e,O6e){b6e.proxyAuthenticationParameter=2<=arguments.length&&x6e?{key:x6e,value:O6e||""}:null;};b6e.checkUserAgent=function(H6e){b6e.PLATFORM_IS_WINDOWSPHONE=-1<H6e.search("windows phone");b6e.PLATFORM_IS_IPAD=-1<H6e.search("ipad");b6e.PLATFORM_IS_IPHONE_IPOD=-1<H6e.search("iphone")||-1<H6e.search("ipod");b6e.PLATFORM_IS_CHROMECAST=-1<H6e.search("crkey");var T6e=function(d6e){return(d6e=H6e.match(d6e))&&0<d6e.length?(d6e=d6e[0].match(/\d+/g),1*d6e[0]+.1*d6e[1]):0;};b6e.PLATFORM_IE_MOBILE_VERSION=T6e(/iemobile\/\d+\.\d+/);b6e.PLATFORM_IOS_VERSION=T6e(/os \d+_\d+/);T6e=-1<H6e.indexOf("transformer")?3.2:T6e(/android \d+\.\d+/);b6e.PLATFORM_ANDROID_VERSION=T6e;b6e.PLATFORM_IS_SAFARI=0<b6e.PLATFORM_IOS_VERSION&&-1<H6e.search("applewebkit")||0===b6e.PLATFORM_ANDROID_VERSION&&0>H6e.search("chrome")&&-1<H6e.search("safari");b6e.PLATFORM_IS_CHROME=0>H6e.search("edge")&&-1<H6e.search("chrome");b6e.PLATFORM_IS_FIREFOX=-1<H6e.search("firefox");b6e.PLATFORM_IS_MOBILE=0<b6e.PLATFORM_IOS_VERSION||0<b6e.PLATFORM_ANDROID_VERSION;b6e.PLATFORM_BROWSER_VERSION=function(v6e){var p6e="",V6e;-1!==(V6e=v6e.indexOf("opr/"))?p6e=v6e.substring(V6e+4):-1!==(V6e=v6e.indexOf("opera"))?(p6e=v6e.substring(V6e+6),-1!==(V6e=v6e.indexOf("version"))&&(p6e=v6e.substring(V6e+8))):-1!==(V6e=v6e.indexOf("rv:"))?p6e=v6e.substring(V6e+3):-1!==(V6e=v6e.indexOf("msie"))?p6e=v6e.substring(V6e+5):-1!==(V6e=v6e.indexOf("edge"))?p6e=v6e.substring(V6e+5):-1!==(V6e=v6e.indexOf("chrome"))?p6e=v6e.substring(V6e+7):-1!==(V6e=v6e.indexOf("safari"))?(p6e=v6e.substring(V6e+7),-1!==(V6e=v6e.indexOf("version"))&&(p6e=v6e.substring(V6e+8))):-1!==(V6e=v6e.indexOf("firefox"))?p6e=v6e.substring(V6e+8):v6e.lastIndexOf(" ")+1<(V6e=v6e.lastIndexOf("/"))&&(p6e=v6e.substring(V6e+1));var Z6e;-1!==(Z6e=p6e.indexOf(";"))&&(p6e=p6e.substring(0,Z6e));-1!==(Z6e=p6e.indexOf(" "))&&(p6e=p6e.substring(0,Z6e));return(v6e=parseInt(""+p6e,10))?v6e:0;}(H6e);b6e.PLATFORM_ID=b6e.PLATFORM_IS_MOBILE?0<b6e.PLATFORM_ANDROID_VERSION?"Android"+b6e.PLATFORM_ANDROID_VERSION:b6e.PLATFORM_IS_IPAD?"iPad"+b6e.PLATFORM_IOS_VERSION:b6e.PLATFORM_IS_IPHONE_IPOD?"iPhone"+b6e.PLATFORM_IOS_VERSION:"UnknownMobile":"Desktop";b6e.log("Device:",b6e.PLATFORM_ID,"PLATFORM_IS_SAFARI:",b6e.PLATFORM_IS_SAFARI,"PLATFORM_IS_CHROME:",b6e.PLATFORM_IS_CHROME);};b6e.checkUserAgent(navigator.userAgent.toLowerCase());b6e.PLATFORM_EVENT_CLICK=b6e.PLATFORM_IS_MOBILE?"touchend":"click";b6e.MOBILE_EVENT_DRAG="touchmove";b6e.PLATFORM_SEND_REQUEST_BY_FORM=!1;b6e.PLATFORM_HIDE_AND_SHOW_CONTENT_VIDEO_BY_MOVE_POSITION=3.1<=b6e.PLATFORM_ANDROID_VERSION;b6e.PLATFORM_HIDE_AND_SHOW_CONTENT_VIDEO_BY_SET_DISPLAY=!0;b6e.PLATFORM_SUPPORT_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT=b6e.PLATFORM_IS_IPAD||b6e.PLATFORM_IS_IPHONE_IPOD;b6e.PLATFORM_AUTO_SEEK_AFTER_MIDROLL=b6e.PLATFORM_IS_IPAD;b6e.PLATFORM_NOT_SUPPORT_OVERLAY_AD=b6e.PLATFORM_IS_IPHONE_IPOD||0<b6e.PLATFORM_ANDROID_VERSION&&3.1>b6e.PLATFORM_ANDROID_VERSION||b6e.PLATFORM_IS_WINDOWSPHONE;b6e.PLATFORM_FILL_VIDEO_POOL_FOR_MIDROLL=4.2<=b6e.PLATFORM_IOS_VERSION;b6e.PLATFORM_NOT_SUPPORT_MIDROLL_AD=2.2<=b6e.PLATFORM_ANDROID_VERSION&&3>=b6e.PLATFORM_ANDROID_VERSION||9<=b6e.PLATFORM_IE_MOBILE_VERSION;b6e.PLATFORM_NOT_SUPPORT_VIDEO_AD=0<b6e.PLATFORM_ANDROID_VERSION&&2.1>=b6e.PLATFORM_ANDROID_VERSION;b6e.PLATFORM_DETECT_FULL_SCREEN_FOR_MIDROLL=b6e.PLATFORM_IS_IPAD&&4.2<=b6e.PLATFORM_IOS_VERSION;b6e.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO=b6e.PLATFORM_IS_IPHONE_IPOD&&10>b6e.PLATFORM_IOS_VERSION||b6e.PLATFORM_IS_WINDOWSPHONE||b6e.PLATFORM_IS_CHROMECAST;b6e.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED=3.1<=b6e.PLATFORM_ANDROID_VERSION||10<=b6e.PLATFORM_IOS_VERSION;b6e.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT=0<b6e.PLATFORM_ANDROID_VERSION&&3>=b6e.PLATFORM_ANDROID_VERSION;b6e.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE=9<=b6e.PLATFORM_IE_MOBILE_VERSION;b6e.PLATFORM_PLAY_DUMMY_VIDEO_FOR_PREROLL=0<b6e.PLATFORM_IOS_VERSION&&4.2>b6e.PLATFORM_IOS_VERSION&&4<=b6e.PLATFORM_IOS_VERSION;b6e.PLATFORM_NOT_WAIT_FOR_ERROR_WHEN_PLAY_DUMMY_VIDEO_FOR_PREROLL=!1;b6e.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT=0===b6e.PLATFORM_IOS_VERSION||4<=b6e.PLATFORM_IOS_VERSION&&4.2>b6e.PLATFORM_IOS_VERSION;b6e.PLATFORM_NOT_SUPPORT_OVERLAY_CLICK_WHEN_CONTROLS_IS_TRUE=b6e.PLATFORM_IS_IPAD;b6e.PLATFORM_BLOCKS_AUTOPLAY=b6e.PLATFORM_IS_MOBILE||b6e.PLATFORM_IS_SAFARI||b6e.PLATFORM_IS_CHROME&&(0<b6e.PLATFORM_ANDROID_VERSION||64<=b6e.PLATFORM_BROWSER_VERSION);b6e.RENDERER_STATE_INIT=1;b6e.RENDERER_STATE_STARTING=2;b6e.RENDERER_STATE_STARTED=3;b6e.RENDERER_STATE_COMPLETING=4;b6e.RENDERER_STATE_COMPLETED=5;b6e.RENDERER_STATE_FAILED=6;b6e.TRANSLATOR_STATE_INIT=b6e.RENDERER_STATE_INIT;b6e.TRANSLATOR_STATE_STARTING=b6e.RENDERER_STATE_STARTING;b6e.TRANSLATOR_STATE_STARTED=b6e.RENDERER_STATE_STARTED;b6e.TRANSLATOR_STATE_COMPLETING=b6e.RENDERER_STATE_COMPLETING;b6e.TRANSLATOR_STATE_COMPLETED=b6e.RENDERER_STATE_COMPLETED;b6e.TRANSLATOR_STATE_FAILED=b6e.RENDERER_STATE_FAILED;b6e.EVENT_AD="adEvent";b6e.EVENT_AD_BUFFERING_START="adBufferingStart";b6e.EVENT_AD_BUFFERING_END="adBufferingEnd";b6e.EVENT_SLOT_IMPRESSION="slotImpression";b6e.EVENT_SLOT_END="slotEnd";b6e.EVENT_AD_INITIATED="adInitiated";b6e.EVENT_AD_IMPRESSION="defaultImpression";b6e.EVENT_AD_IMPRESSION_END="adEnd";b6e.EVENT_AD_QUARTILE="quartile";b6e.EVENT_AD_FIRST_QUARTILE="firstQuartile";b6e.EVENT_AD_MIDPOINT="midPoint";b6e.EVENT_AD_THIRD_QUARTILE="thirdQuartile";b6e.EVENT_AD_SKIPPED="adSkipped";b6e.EVENT_AD_COMPLETE="complete";b6e.EVENT_AD_CLICK="defaultClick";b6e.EVENT_AD_MUTE="_mute";b6e.EVENT_AD_UNMUTE="_un-mute";b6e.EVENT_AD_COLLAPSE="_collapse";b6e.EVENT_AD_EXPAND="_expand";b6e.EVENT_AD_PAUSE="_pause";b6e.EVENT_AD_RESUME="_resume";b6e.EVENT_AD_REWIND="_rewind";b6e.EVENT_AD_ACCEPT_INVITATION="_accept-invitation";b6e.EVENT_AD_CLOSE="_close";b6e.EVENT_AD_MINIMIZE="_minimize";b6e.EVENT_ERROR="_e_unknown";b6e.EVENT_RESELLER_NO_AD="resellerNoAd";b6e.EVENT_AD_MEASUREMENT="concreteEvent";b6e.EVENT_EXTENSION_LOADED="extensionLoaded";b6e.EVENT_AD_VOLUME_CHANGE="adVolumeChange";b6e.EVENT_AD_AUTO_PLAY_BLOCKED="videoAutoPlayBlocked";b6e.INFO_KEY_CUSTOM_ID="customId";b6e.INFO_KEY_MODULE_TYPE="moduleType";b6e.MODULE_TYPE_EXTENSION="extension";b6e.MODULE_TYPE_RENDERER="renderer";b6e.MODULE_TYPE_TRANSLATOR="translator";b6e.INFO_KEY_ERROR_CODE="errorCode";b6e.INFO_KEY_ERROR_INFO="errorInfo";b6e.INFO_KEY_ERROR_MODULE="errorModule";b6e.INFO_KEY_VAST_ERROR_CODE="vastErrorCode";b6e.ERROR_IO="_e_io";b6e.ERROR_TIMEOUT="_e_timeout";b6e.ERROR_NULL_ASSET="_e_null-asset";b6e.ERROR_ADINSTANCE_UNAVAILABLE="_e_adinst-unavail";b6e.ERROR_UNKNOWN="_e_unknown";b6e.ERROR_MISSING_PARAMETER="_e_missing-param";b6e.ERROR_NO_AD_AVAILABLE="_e_no-ad";b6e.ERROR_PARSE="_e_parse";b6e.ERROR_INVALID_VALUE="_e_invalid-value";b6e.ERROR_INVALID_SLOT="_e_invalid-slot";b6e.ERROR_NO_RENDERER="_e_no-renderer";b6e.ERROR_DEVICE_LIMIT="_e_device-limit";b6e.ERROR_3P_COMPONENT="_e_3p-comp";b6e.ERROR_UNSUPPORTED_3P_FEATURE="_e_unsupp-3p-feature";b6e.ERROR_SECURITY="_e_security";b6e.ERROR_UNMATCHED_SLOT_SIZE="_e_slot-size-unmatch";b6e.INFO_KEY_URL="url";b6e.INFO_KEY_SHOW_BROWSER="showBrowser";b6e.INFO_KEY_CUSTOM_EVENT_NAME="customEventName";b6e.INFO_KEY_NEED_EMPTY_CT="needEmptyCT";b6e.INFO_KEY_CONCRETE_EVENT_ID="concreteEventId";b6e.EVENT_TYPE_CLICK_TRACKING="CLICKTRACKING";b6e.EVENT_TYPE_IMPRESSION="IMPRESSION";b6e.EVENT_TYPE_CLICK="CLICK";b6e.EVENT_TYPE_STANDARD="STANDARD";b6e.EVENT_TYPE_GENERIC="GENERIC";b6e.EVENT_TYPE_ERROR="ERROR";b6e.EVENT_VIDEO_VIEW="videoView";b6e.SHORT_EVENT_TYPE_IMPRESSION="i";b6e.SHORT_EVENT_TYPE_CLICK="c";b6e.SHORT_EVENT_TYPE_STANDARD="s";b6e.SHORT_EVENT_TYPE_ERROR=(371.74,299)!=(8540,9620)?"e":948.36;b6e.INIT_VALUE_ZERO="0";b6e.INIT_VALUE_ONE="1";b6e.INIT_VALUE_TWO="2";b6e.INFO_KEY_PARAMETERS="parameters";b6e.URL_PARAMETER_KEY_ET="et";b6e.URL_PARAMETER_KEY_CN="cn";b6e.URL_PARAMETER_KEY_INIT="init";b6e.URL_PARAMETER_KEY_CT="ct";b6e.URL_PARAMETER_KEY_METR="metr";b6e.URL_PARAMETER_KEY_CR="cr";b6e.URL_PARAMETER_KEY_KEY_VALUE="kv";b6e.URL_PARAMETER_KEY_ERROR_INFO="additional";b6e.URL_PARAMETER_KEY_ERROR_MODULE="renderer";b6e.URL_PARAMETER_KEY_CREATIVE_RENDITION_ID="reid";b6e.URL_PARAMETER_KEY_CONCRETE_EVENT_ID="creid";b6e.CAPABILITY_SLOT_TEMPLATE="sltp";b6e.CAPABILITY_DISPLAY_REFRESH="rfnt";b6e.CAPABILITY_MULTIPLE_CREATIVE_RENDITIONS="emcr";b6e.CAPABILITY_RECORD_VIDEO_VIEW="exvt";b6e.CAPABILITY_CHECK_COMPANION="cmpn";b6e.CAPABILITY_CHECK_TARGETING="targ";b6e.CAPABILITY_RESET_EXCLUSIVITY="rste";b6e.CAPABILITY_FALLBACK_UNKNOWN_ASSET="unka";b6e.CAPABILITY_FALLBACK_UNKNOWN_SITE_SECTION="unks";b6e.CAPABILITY_FALLBACK_ADS="fbad";b6e.CAPABILITY_SLOT_CALLBACK="slcb";b6e.CAPABILITY_NULL_CREATIVE="nucr";b6e.CAPABILITY_AUTO_EVENT_TRACKING="aeti";b6e.CAPABILITY_RENDERER_MANIFEST="rema";b6e.CAPABILITY_REQUIRE_VIDEO_CALLBACK="vicb";b6e.CAPABILITY_SKIP_AD_SELECTION="skas";b6e.SLOT_TYPE_TEMPORAL="temporal";b6e.SLOT_TYPE_VIDEOPLAYER_NONTEMPORAL="videoPlayerNonTemporal";b6e.SLOT_TYPE_SITESECTION_NONTEMPORAL="siteSectionNonTemporal";b6e.TIME_POSITION_CLASS_PREROLL="PREROLL";b6e.TIME_POSITION_CLASS_MIDROLL="MIDROLL";b6e.TIME_POSITION_CLASS_POSTROLL="POSTROLL";b6e.TIME_POSITION_CLASS_OVERLAY="OVERLAY";b6e.TIME_POSITION_CLASS_DISPLAY="DISPLAY";b6e.TIME_POSITION_CLASS_PAUSE_MIDROLL="PAUSE_MIDROLL";b6e.EVENT_REQUEST_INITIATED="onRequestInitiated";b6e.EVENT_REQUEST_COMPLETE="onRequestComplete";b6e.EVENT_SLOT_STARTED="onSlotStarted";b6e.EVENT_SLOT_ENDED="onSlotEnded";b6e.EVENT_CONTENT_VIDEO_PAUSED="contentVideoPaused";b6e.EVENT_CONTENT_VIDEO_RESUMED="contentVideoResumed";b6e.EVENT_CONTENT_VIDEO_PAUSE_REQUEST="contentVideoPauseRequest";b6e.EVENT_CONTENT_VIDEO_RESUME_REQUEST="contentVideoResumeRequest";b6e.CAPABILITY_STATUS_OFF=0;b6e.CAPABILITY_STATUS_ON=1;b6e.PARAMETER_LEVEL_PROFILE=0;b6e.PARAMETER_LEVEL_GLOBAL=1;b6e.PARAMETER_LEVEL_OVERRIDE=5;b6e.PARAMETER_ENABLE_FORM_TRANSPORT="sdk.enableFormTransport";b6e.PARAMETER_DESIRED_BITRATE="desiredBitrate";b6e.PARAMETER_VIDEO_POOL_SIZE="sdk.videoPoolSize";b6e.PARAMETER_PAGE_SLOT_CONTENT_TYPE="sdk.pageSlotContentType";b6e.PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT="PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT";b6e.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT="extension.ad.control.clickElement";b6e.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED="extension.contentVideo.enabled";b6e.PARAMETER_EXTENSION_CONTENT_VIDEO_RESPOND_PAUSE_RESUME="extension.contentVideo.respondPauseResume";b6e.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SEEK_BACK="extension.contentVideo.autoSeekBack";b6e.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE="extension.contentVideo.autoSourceRestore";b6e.PARAMETER_EXTENSION_VIDEO_STATE_ENABLED="extension.videoState.enabled";b6e.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT="renderer.video.startDetectTimeout";b6e.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT="renderer.video.progressDetectTimeout";b6e.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY="renderer.video.android.delay";b6e.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE="renderer.video.displayControlsWhenPause";b6e.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION="renderer.video.clickDetection";b6e.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED="renderer.video.playAfterStalled";b6e.PARAMETER_EXTENSION_SURVEY_ENABLED="extension.survey.enabled";b6e.PARAMETER_RENDERER_DISPLAY_COAD_SCRIPT_NAME="renderer.html.coadScriptName";b6e.PARAMETER_RENDERER_HTML_SHOULD_BACKGROUND_TRANSPARENT="renderer.html.isBackgroundTransparent";b6e.PARAMETER_RENDERER_HTML_SHOULD_END_AFTER_DURATION="renderer.html.shouldEndAfterDuration";b6e.PARAMETER_RENDERER_HTML_AD_LOAD_TIMEOUT="renderer.html.adLoadTimeout";b6e.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE="renderer.html.placementType";b6e.PARAMETER_RENDERER_HTML_BOOTSTRAP="renderer.html.bootstrap";b6e.PARAMETER_RENDERER_HTML_PRIMARY_ANCHOR="renderer.html.primaryAnchor";b6e.PARAMETER_RENDERER_HTML_MARGIN_WIDTH="renderer.html.marginWidth";b6e.PARAMETER_RENDERER_HTML_MARGIN_HEIGHT="renderer.html.marginHeight";b6e.PARAMETER_VPAID_CREATIVE_TIMEOUT_DELAY="renderer.vpaid.creativeTimeoutDelay";b6e.PARAMETER_VAST_TIMEOUT_IN_MILLISECONDS="translator.vast.timeoutInMilliseconds";b6e.PARAMETER_VAST_MAX_WRAPPER_COUNT="translator.vast.maxWrapperCount";b6e.VAST_DEFAULT_MAX_WRAPPER_COUNT=5;b6e.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INLINE="inline";b6e.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INTERSTITIAL="interstitial";b6e.PARAMETER_RENDERER_HTML_BASEUNIT_INTERSTITIAL="app-interstitial";b6e.ID_TYPE_FW=1;b6e.ID_TYPE_CUSTOM=2;b6e.ID_TYPE_GROUP=3;b6e.VIDEO_STATE_PLAYING=1;b6e.VIDEO_STATE_PAUSED=2;b6e.VIDEO_STATE_STOPPED=3;b6e.VIDEO_STATE_COMPLETED=4;b6e.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED=1;b6e.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED=2;b6e.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE=3;b6e.VIDEO_ASSET_AUTO_PLAY_TYPE_NON_AUTO_PLAY=3;b6e.VIDEO_ASSET_DURATION_TYPE_EXACT="exact";b6e.VIDEO_ASSET_DURATION_TYPE_VARIABLE="variable";b6e.ADUNIT_PREROLL="preroll";b6e.ADUNIT_MIDROLL="midroll";b6e.ADUNIT_POSTROLL="postroll";b6e.ADUNIT_OVERLAY="overlay";b6e.ADUNIT_STREAM_PREROLL="stream_preroll";b6e.ADUNIT_STREAM_POSTROLL="stream_postroll";b6e.SLOT_LOCATION_PLAYER="player";b6e.SLOT_LOCATION_EXTERNAL="external";b6e.SLOT_OPTION_INITIAL_AD_STAND_ALONE=0;b6e.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL=1;b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY=2;b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE=3;b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE=4;b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE=5;b6e.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE=6;b6e.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE_IF_TEMPORAL=7;b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL=8;b6e.REQUEST_MODE_ON_DEMAND="on-demand";b6e.REQUEST_MODE_LIVE="live";b6e.MINIMUM_VAST_VERSION_SUPPORTED=2;b6e.MAXIMUM_VAST_VERSION_SUPPORTED=4;b6e.ERROR_VAST_XML_PARSING="100";b6e.ERROR_VAST_SCHEMA_VALIDATION="101";b6e.ERROR_VAST_VERSION_NOT_SUPPORTED="102";b6e.ERROR_VAST_TRACKING_ERROR="200";b6e.ERROR_VAST_LINEARITY_NOT_MATCH="201";b6e.ERROR_VAST_NO_AD="303";b6e.ERROR_VAST_WRAPPER_LIMIT_REACH="302";b6e.ERROR_VAST_URI_TIMEOUT="301";b6e.ERROR_VAST_GENERAL_LINEAR_ERROR="400";b6e.ERROR_VAST_NON_LINEAR_GENERAL_ERROR="500";b6e.ERROR_VAST_COMPANION_GENERAL_ERROR="600";b6e.ERROR_VAST_GENERAL_VPAID_ERROR="901";b6e.Util={canPlayVideoType:function(B6e){if(b6e.PLATFORM_IS_SAFARI&&("video/ogg"===B6e||"video/webm"===B6e))return!1;if(1<b6e.PLATFORM_ANDROID_VERSION&&"video/m4v"===B6e)return!0;"video/3gp"===B6e&&(B6e="video/3gpp");if(3<=b6e.PLATFORM_ANDROID_VERSION&&"video/3gpp"===B6e)return!0;var W6e=document.createElement("video");return W6e.canPlayType?!(!W6e.canPlayType(B6e)&&!W6e.canPlayType(B6e.replace("/","/x-"))):!1;},str2bool:function(z6e){if(!z6e)return!1;z6e=b6e.Util.trim(z6e).toLowerCase();return"true"===z6e||"yes"===z6e||"on"===z6e||"1"===z6e;},trim:function(S6e){return"string"!==typeof S6e?S6e.toString():S6e.replace(/^\s+|\s+$/g,"");},isBlank:function(e6e){return!e6e||""===b6e.Util.trim(e6e);},encodeToHex:function(A6e){for(var J6e="",s6e=0;s6e<A6e.length;s6e++){for(var n6e=A6e.charCodeAt(s6e).toString(16).toUpperCase();4>n6e.length;)n6e="0"+n6e;J6e+="\\u"+n6e.toUpperCase();}return J6e;},forEachOnArray:function(Q6e,k6e,j6e){var i6e;if(null==Q6e)throw new TypeError(" array is null or not defined");Q6e=Object(Q6e);var I6e=Q6e.length>>>0;if("[object Function]"!=={}.toString.call(k6e))throw new TypeError(k6e+" is not a function");j6e&&(i6e=j6e);for(j6e=0;j6e<I6e;){if(j6e in Q6e){var E6e=Q6e[j6e];k6e.call(i6e,E6e,j6e,Q6e);}j6e++;}},mixin:function(u2e,r6e){for(var y6e in r6e)"undefined"!==typeof r6e[y6e]&&(u2e[y6e]=r6e[y6e]);return u2e;},copy:function(X2e){return b6e.Util.mixin({},X2e);},bind:function(D2e,C2e){var f2e=C2e,h2e=Array.prototype.slice.call(arguments);h2e.shift();f2e=h2e.shift();return function(){return f2e.apply(D2e,h2e.concat(Array.prototype.slice.call(arguments)));};},getObject:function(Y2e,w2e,R2e){if(!Y2e)return null;Y2e=Y2e.split(".");w2e=w2e||window;for(var F2e=0,c2e;w2e&&(c2e=Y2e[F2e]);F2e++)w2e=c2e in w2e?w2e[c2e]:R2e?w2e[c2e]={}:void 0;return w2e;},buildNode:function(q2e,o2e,t2e,G2e,m2e){b6e.debug("Util.buildNode");t2e||(t2e=document);q2e.innerHTML=o2e||"";q2e=q2e.getElementsByTagName("script");var l2e=t2e.getElementsByTagName("head")[0];for(o2e=0;o2e<q2e.length;++o2e)if(b6e.PLATFORM_IS_FIREFOX||q2e[o2e].src){var U2e=t2e.createElement("script");q2e[o2e].charset&&(U2e.charset=q2e[o2e].charset);q2e[o2e].src&&(U2e.src=q2e[o2e].src);q2e[o2e].innerHTML&&(U2e.innerHTML=q2e[o2e].innerHTML);U2e.onload=U2e.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||l2e.removeChild(U2e);};try{l2e.appendChild(U2e);}catch(K2e){b6e.warn("load script err: "+K2e);}}else U2e=q2e[o2e].innerHTML,G2e&&(U2e=U2e.replace(/var fw_scope = document;/,"var fw_scope="+G2e+";")),m2e&&(U2e=U2e.replace(/var fw_scope_window = window;/,"var fw_scope_window="+m2e+";")),eval(U2e);},replacePageSlot:function(L2e,x2e,M2e){var N2e=L2e;b6e.debug("Util.replacePageSlot("+Array.prototype.slice.call(arguments).join(",")+")");var P2e;try{var a2e=document.getElementById(N2e)?document:parent.document.getElementById(N2e)?parent.document:null;var b2e=document.getElementById(N2e)?"window":parent.document.getElementById(N2e)?"parent":null;}catch(O2e){b2e=a2e=null;}if(!a2e)for(var g2e=0;g2e<window.frames.length;g2e++)try{window.frames[g2e].document.getElementById(N2e)&&(a2e=window.frames[g2e].document,b2e="window.frames["+g2e+"]");}catch(H2e){b6e.warn(H2e);}b2e&&(P2e=b2e+".document");b6e.log("replacing slot "+N2e+" in frame "+P2e);if(!a2e)throw"Slot element not found: "+N2e;N2e=M2e?a2e.getElementById(M2e):a2e.getElementById("_fw_container_"+N2e);b6e.Util.buildNode(N2e,x2e,a2e,P2e,b2e);},transformUrlToProxy:function(T2e){if(null==b6e.proxyUrl)return T2e;var d2e=b6e.proxyUrl.replace("$","$$");T2e=T2e.replace(/https?:\/\//,d2e);b6e.proxyAuthenticationParameter&&(T2e=b6e.Util.setParameterInURL(T2e,b6e.proxyAuthenticationParameter.key,b6e.proxyAuthenticationParameter.value));return T2e;},pingURLWithImage:function(v2e){new Image(1,1).src=b6e.Util.transformUrlToProxy(v2e);},pingURLWithForm:function(W2e,Z2e,B2e){B2e=B2e?"_fw_request":"_fw_cb";null==Z2e&&(Z2e=Math.random());var p2e=document.createElement("iframe");p2e.name=B2e+"_iframe_"+Z2e;p2e.id=B2e+"_iframe_"+Z2e;p2e.style.position="absolute";p2e.style.left="-10000px";p2e.style.width="1px";p2e.style.visibility="hidden";var V2e=document.createElement("form");V2e.action=b6e.Util.transformUrlToProxy(W2e);V2e.id=B2e+"_form_"+Z2e;V2e.target=p2e.id;V2e.method="post";V2e.style.position="absolute";V2e.style.left="-10000px";V2e.style.width="1px";V2e.style.visibility="hidden";document.body&&(document.body.appendChild(p2e),document.body.appendChild(V2e),V2e.submit(),document.body.removeChild(V2e));},pingURLWithScript:function(e2e){var S2e=document.getElementsByTagName("head")[0],z2e=document.createElement("script");z2e.src=b6e.Util.transformUrlToProxy(e2e);z2e.onload=z2e.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||S2e.removeChild(z2e);};S2e.appendChild(z2e);},pingURL:function(n2e){b6e.debug("send callback: "+n2e);n2e&&(b6e.PLATFORM_SEND_REQUEST_BY_FORM?b6e.Util.pingURLWithForm(n2e,null,!1):b6e.Util.pingURLWithImage(n2e));},pingURLs:function(J2e){for(var s2e=0;s2e<J2e.length;s2e++)b6e.Util.pingURL(J2e[s2e]);},setParameterInURL:function(j2e,I2e,Q2e){if(!j2e||!I2e||null==Q2e)return null;var E2e=!1;j2e=j2e.split("?");Q2e=encodeURIComponent(Q2e);if(j2e[1]){var k2e=j2e[1].split("&");for(var i2e=0;i2e<k2e.length;++i2e){var A2e=k2e[i2e].split("=");if(A2e[0]===I2e){k2e[i2e]=A2e[0]+"="+Q2e;E2e=!0;break;}}A2e=k2e.join("&");E2e||(A2e=I2e+"="+Q2e+"&"+A2e);}else A2e=I2e+"="+Q2e;return A2e=j2e[0]+"?"+A2e;},getParameterInURL:function(y2e,X7e){if(!y2e||!X7e)return null;y2e=y2e.split("?");if(y2e[1]){y2e=y2e[1].split("&");for(var r2e=0;r2e<y2e.length;++r2e){var u7e=y2e[r2e].split("=");if(u7e[0]===X7e&&!b6e.Util.isBlank(u7e[1]))return decodeURIComponent(u7e[1]);}}return null;},isParameterInURL:function(h7e,D7e){if(!h7e||!D7e)return!1;h7e=h7e.split("?");if(h7e[1]){h7e=h7e[1].split("&");for(var f7e=0;f7e<h7e.length;++f7e)if(h7e[f7e].split("=")[0]===D7e)return!0;}return!1;},flashVersion:function(){var w7e="0,0,0,0";if(null!=navigator.plugins&&0<navigator.plugins.length){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])try{var c7e=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" "),F7e=c7e[2].split("."),R7e=F7e[0],U7e=F7e[1],C7e=c7e[3];""===C7e&&(C7e=c7e[4]);"d"===C7e[0]?C7e=C7e.substring(1):"r"===C7e[0]&&(C7e=C7e.substring(1),0<C7e.indexOf("d")&&(C7e=C7e.substring(0,C7e.indexOf("d"))));w7e=R7e+","+U7e+","+C7e+",0";}catch(o7e){b6e.warn("Flash detection failed on navigator method");}}else try{var q7e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");var Y7e=q7e.GetVariable("$version").split(" ")[1].split(",");3===Y7e.length?w7e=Y7e.join(",")+",0":4===Y7e.length&&(w7e=Y7e.join(","));}catch(t7e){b6e.warn("Flash detection failed on ActiveX method");}return w7e;},xmlToJson:function(G7e){var l7e={};if(!G7e)return null;if(1===G7e.nodeType){if(0<G7e.attributes.length){l7e["@attributes"]={};for(var K7e=0;K7e<G7e.attributes.length;K7e++){var N7e=G7e.attributes.item(K7e);l7e["@attributes"][N7e.nodeName]=N7e.nodeValue;}}}else 3===G7e.nodeType?l7e=G7e.nodeValue:4===G7e.nodeType&&(l7e=G7e.nodeValue);if(G7e.hasChildNodes()){for(K7e=0;K7e<G7e.childNodes.length;K7e++){N7e=G7e.childNodes.item(K7e);var m7e=N7e.nodeName;if("undefined"===typeof l7e[m7e])l7e[m7e]=b6e.Util.xmlToJson(N7e);else{if("undefined"===typeof l7e[m7e].length||"string"===typeof l7e[m7e]){var a7e=l7e[m7e];l7e[m7e]=[];l7e[m7e].push(a7e);}l7e[m7e].push(b6e.Util.xmlToJson(N7e));}}"undefined"!==typeof l7e["#cdata-section"]?(l7e.value=l7e["#cdata-section"],l7e.value.constructor===Array&&(l7e.value=l7e.value.join(""))):l7e["#text"]&&(l7e.value=l7e["#text"]);}return l7e;},lazyJavaScriptLoad:function(M7e,P7e){var g7e=document.getElementsByTagName("head")[0]||document.documentElement,b7e=document.createElement("script");b7e.type="text/javascript";b7e.src=M7e;P7e&&(b7e.attachEvent&&!window.opera?b7e.onreadystatechange=function(){if("loaded"===b7e.readyState||"complete"===b7e.readyState)g7e.removeChild(b7e),b7e.onreadystatechange=null,P7e();}:b7e.addEventListener("load",function(){g7e.removeChild(b7e);P7e();},!1));g7e.insertBefore(b7e,g7e.firstChild);},getViewport:function(){var L7e=0,x7e=0;"undefined"!==typeof window.innerWidth?(L7e=window.innerWidth,x7e=window.innerHeight):"undefined"!==typeof document.documentElement&&"undefined"!==typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(L7e=document.documentElement.clientWidth,x7e=document.documentElement.clientHeight):document.getElementsByTagName("body")&&document.getElementsByTagName("body")[0]&&(L7e=document.getElementsByTagName("body")[0].clientWidth,x7e=document.getElementsByTagName("body")[0].clientHeight);return{width:L7e,height:x7e,offsetX:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,offsetY:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop};},getAbsoluteUrl:function(O7e,T7e){O7e=b6e.Util.trim(O7e);T7e=b6e.Util.trim(T7e);if(-1!==T7e.indexOf("://"))return T7e;var H7e=O7e.substring(0,O7e.indexOf("://"));if(0===T7e.indexOf("//"))return H7e+":"+T7e;H7e=O7e.indexOf("/",O7e.indexOf("://")+5);var d7e=O7e;-1!==H7e&&(d7e=O7e.substring(0,H7e));if(0===T7e.indexOf("/"))return d7e+T7e;H7e=O7e.lastIndexOf("#");d7e=O7e;-1!==H7e&&(d7e=O7e.substring(0,H7e));if(0===T7e.indexOf("#"))return d7e+T7e;d7e=O7e.indexOf("?");H7e=O7e;-1!==d7e&&(H7e=O7e.substring(0,d7e));if(0===T7e.indexOf("?"))return H7e+T7e;d7e=-1===d7e?O7e.lastIndexOf("/"):H7e.lastIndexOf("/");H7e=-1!==d7e?O7e.substring(0,d7e+1):H7e+"/";return H7e+T7e;},secondsToHms:function(v7e){v7e=isNaN(Number(v7e))?0:Number(v7e);var V7e=Math.floor(v7e%3600/60),p7e=Math.round(v7e%3600%60);return("0"+Math.floor(v7e/3600)).slice(-2)+":"+("0"+V7e).slice(-2)+((104,9730)===(7060,4338)?(true,"C"):":")+("0"+p7e).slice(-2);},getFixedDigitRandomNumber:function(Z7e){Z7e=isNaN(Number(Z7e))?0:Number(Z7e);return Math.floor(9*Math.random()*Math.pow(10,Z7e-1)+Math.pow(10,Z7e-1));},getDateStringInISOFormat:function(B7e){return B7e instanceof Date&&!isNaN(B7e.valueOf())?B7e.toISOString():null;}};b6e.MediaState=function(){};b6e.MediaState.prototype={};b6e.MediaState.prototype.constructor=b6e.MediaState;b6e.Util.mixin(b6e.MediaState.prototype,{play:function(W7e){b6e.debug(this._name+" play("+W7e+")");},pause:function(z7e){b6e.debug(this._name+" pause("+z7e+")");},complete:function(S7e){b6e.debug(this._name+" complete("+S7e+")");}});b6e.MediaInitState=function(){this._name="MediaInitState";};b6e.MediaInitState.prototype=new b6e.MediaState();b6e.MediaInitState.prototype.constructor=b6e.MediaInitState;b6e.Util.mixin(b6e.MediaInitState.prototype,{play:function(e7e){b6e.debug(this._name+" play("+e7e+")");e7e.setMediaState(b6e.MediaPlayingState.instance);if("function"===typeof e7e.onStartPlaying)e7e.onStartPlaying();}});b6e.MediaInitState.instance=new b6e.MediaInitState();b6e.MediaPlayingState=function(){this._name="MediaPlayingState";};b6e.MediaPlayingState.prototype=new b6e.MediaState();b6e.MediaPlayingState.prototype.constructor=b6e.MediaPlayingState;b6e.Util.mixin(b6e.MediaPlayingState.prototype,{pause:function(n7e){b6e.debug(this._name+" pause("+n7e+")");n7e.setMediaState(b6e.MediaPausedState.instance);if("function"===typeof n7e.onPausePlaying)n7e.onPausePlaying();},complete:function(s7e){b6e.debug(this._name+" complete("+s7e+")");s7e.setMediaState(b6e.MediaEndState.instance);if("function"===typeof s7e.onCompletePlaying)s7e.onCompletePlaying();}});b6e.MediaPlayingState.instance=new b6e.MediaPlayingState();b6e.MediaPausedState=function(){this._name="MediaPausedState";};b6e.MediaPausedState.prototype=new b6e.MediaState();b6e.MediaPausedState.prototype.constructor=b6e.MediaPausedState;b6e.Util.mixin(b6e.MediaPausedState.prototype,{play:function(J7e){b6e.debug(this._name+" play("+J7e+")");J7e.setMediaState(b6e.MediaPlayingState.instance);if("function"===typeof J7e.onResumePlaying)J7e.onResumePlaying();},complete:function(A7e){b6e.debug(this._name+" complete("+A7e+")");A7e.setMediaState(b6e.MediaEndState.instance);if("function"===typeof A7e.onCompletePlaying)A7e.onCompletePlaying();}});b6e.MediaPausedState.instance=new b6e.MediaPausedState();b6e.MediaReplayingState=function(){this._name="MediaReplayingState";};b6e.MediaReplayingState.prototype=new b6e.MediaState();b6e.MediaReplayingState.prototype.constructor=b6e.MediaReplayingState;b6e.Util.mixin(b6e.MediaReplayingState.prototype,{pause:function(j7e){b6e.debug(this._name+" pause("+j7e+")");j7e.setMediaState(b6e.MediaReplayPausedState.instance);if("function"===typeof j7e.onPausePlaying)j7e.onPausePlaying();},complete:function(Q7e){b6e.debug(this._name+" complete("+Q7e+")");Q7e.setMediaState(b6e.MediaEndState.instance);if("function"===typeof Q7e.onCompleteReplaying)Q7e.onCompleteReplaying();}});b6e.MediaReplayingState.instance=new b6e.MediaReplayingState();b6e.MediaReplayPausedState=function(){this._name="MediaReplayPausedState";};b6e.MediaReplayPausedState.prototype=new b6e.MediaState();b6e.MediaReplayPausedState.prototype.constructor=b6e.MediaReplayPausedState;b6e.Util.mixin(b6e.MediaReplayPausedState.prototype,{play:function(k7e){b6e.debug(this._name+" play("+k7e+")");k7e.setMediaState(b6e.MediaReplayingState.instance);if("function"===typeof k7e.onResumePlaying)k7e.onResumePlaying();},complete:function(i7e){b6e.debug(this._name+" complete("+i7e+")");i7e.setMediaState(b6e.MediaEndState.instance);if("function"===typeof i7e.onCompleteReplaying)i7e.onCompleteReplaying();}});b6e.MediaReplayPausedState.instance=new b6e.MediaReplayPausedState();b6e.MediaEndState=function(){this._name="MediaEndState";};b6e.MediaEndState.prototype=new b6e.MediaState();b6e.MediaEndState.prototype.constructor=b6e.MediaEndState;b6e.Util.mixin(b6e.MediaEndState.prototype,{play:function(I7e){b6e.debug(this._name+" play("+I7e+")");I7e.setMediaState(b6e.MediaReplayingState.instance);if("function"===typeof I7e.onStartReplaying)I7e.onStartReplaying();}});b6e.MediaEndState.instance=new b6e.MediaEndState();b6e.RendererState=function(){};b6e.RendererState.prototype={};b6e.RendererState.prototype.constructor=b6e.RendererState;b6e.Util.mixin(b6e.RendererState.prototype,{start:function(E7e){b6e.debug(this._name+" start() rendererController = "+E7e);},notifyStarted:function(y7e){b6e.debug(this._name+" notifyStarted() rendererController = "+y7e);},stop:function(r7e){b6e.debug(this._name+" stop() rendererController = "+r7e);},complete:function(u9e){b6e.debug(this._name+" complete() rendererController = "+u9e);},notifyCompleted:function(X9e){b6e.debug(this._name+" notifyCompleted() rendererController = "+X9e);},fail:function(h9e){b6e.debug(this._name+" fail() rendererController = "+h9e);h9e.setRendererState(b6e.RendererFailedState.instance);h9e.getAdInstance().complete();}});b6e.RendererInitState=function(){this._name="RendererInitState";};b6e.RendererInitState.prototype=new b6e.RendererState();b6e.RendererInitState.prototype.constructor=b6e.RendererInitState;b6e.RendererInitState.instance=new b6e.RendererInitState();b6e.Util.mixin(b6e.RendererInitState.prototype,{start:function(f9e){b6e.debug(this._name+" start()");f9e.setRendererState(b6e.RendererStartingState.instance);f9e.getRenderer().start(f9e);},stop:function(D9e){b6e.debug(this._name+" stop()");D9e.setRendererState(b6e.RendererCompletingState.instance);D9e.getRendererState().notifyCompleted(D9e);}});b6e.RendererStartingState=function(){this._name="RendererStartingState";};b6e.RendererStartingState.prototype=new b6e.RendererState();b6e.RendererStartingState.prototype.constructor=b6e.RendererStartingState;b6e.RendererStartingState.instance=new b6e.RendererStartingState();b6e.Util.mixin(b6e.RendererStartingState.prototype,{notifyStarted:function(C9e){b6e.debug(this._name+" notifyStarted()");C9e.setRendererState(b6e.RendererStartedState.instance);C9e.getAdInstance().play();},stop:function(w9e){b6e.debug(this._name+" stop()");"function"===typeof w9e.getRenderer().stop&&(w9e.setRendererState(b6e.RendererCompletingState.instance),w9e.getRenderer().stop());}});b6e.RendererStartedState=function(){this._name="RendererStartedState";};b6e.RendererStartedState.prototype=new b6e.RendererState();b6e.RendererStartedState.prototype.constructor=b6e.RendererStartedState;b6e.RendererStartedState.instance=new b6e.RendererStartedState();b6e.Util.mixin(b6e.RendererStartedState.prototype,{complete:function(Y9e){b6e.debug(this._name+" complete()");Y9e.setRendererState(b6e.RendererCompletingState.instance);},stop:function(c9e){b6e.debug(this._name+" stop()");"function"===typeof c9e.getRenderer().stop&&(c9e.setRendererState(b6e.RendererCompletingState.instance),!1===c9e.getRenderer().stop()&&c9e.getAdInstance().fakeComplete());}});b6e.RendererCompletingState=function(){this._name="RendererCompletingState";};b6e.RendererCompletingState.prototype=new b6e.RendererState();b6e.RendererCompletingState.prototype.constructor=b6e.RendererCompletingState;b6e.RendererCompletingState.instance=new b6e.RendererCompletingState();b6e.Util.mixin(b6e.RendererCompletingState.prototype,{notifyCompleted:function(F9e){b6e.debug(this._name+" notifyCompleted()");F9e.setRendererState(b6e.RendererCompletedState.instance);F9e.getAdInstance().complete();}});b6e.RendererCompletedState=function(){this._name="RendererCompletedState";};b6e.RendererCompletedState.prototype=new b6e.RendererState();b6e.RendererCompletedState.prototype.constructor=b6e.RendererCompletedState;b6e.RendererCompletedState.instance=new b6e.RendererCompletedState();b6e.RendererFailedState=function(){this._name="RendererFailedState";};b6e.RendererFailedState.prototype=new b6e.RendererState();b6e.RendererFailedState.prototype.constructor=b6e.RendererFailedState;b6e.RendererFailedState.instance=new b6e.RendererFailedState();b6e.HTMLRenderer=function(){};b6e.HTMLRenderer.prototype={start:function(R9e){this.rendererController=R9e;R9e.getAdInstance().getSlot().getBase()?this._setupParameters()&&(this._render(),R9e.handleStateTransition(b6e.RENDERER_STATE_STARTED)):this._onRendererFailed(b6e.ERROR_INVALID_SLOT,"slot base is empty");},pause:function(){this.log("pause");this.shouldEndAfterDuration&&this.timer&&this.timer.pause();},resume:function(){this.log("resume");this.shouldEndAfterDuration&&this.timer&&this.timer.start();},stop:function(){this.log("stop isMRAIDAd:"+this.isMRAIDAd+" tpc:"+this._tpc+" interstitial:"+this.shouldKeepInterstitial);return this._stop();},_stop:function(){this.log("_stop isMRAIDAd:"+this.isMRAIDAd+" tpc:"+this._tpc+" interstitial:"+this.shouldKeepInterstitial);if(this.isMRAIDAd||this._tpc!==b6e.TIME_POSITION_CLASS_DISPLAY||this.shouldKeepInterstitial)this._cleanup(),this.rendererController.handleStateTransition(b6e.RENDERER_STATE_COMPLETED);else return!1;},resize:function(){var U9e=this.rendererController.getAdInstance(),q9e=U9e.getSlot().getBase();U9e.getSlot().getTimePositionClass()===b6e.TIME_POSITION_CLASS_OVERLAY?!this.isMRAIDAd||this.isMRAIDAd&&this.mraid.state===this.mraid.STATEDEFAULT?(U9e="_fw_ad_container_html_"+U9e.getSlot().getCustomId()+"_",U9e=document.getElementById(U9e),U9e.style.width=q9e.style.width||"100%",U9e.style.height=q9e.style.height||"100%",this._layoutOverlayAd(this.defaultAdElement)):this.log("Cannot resize an MRAID ad that is not in the default state"):this.log("Cannot resize a non-overlay ad");},_cleanup:function(){this.log("_cleanup");this.timer&&(this.timer.stop(),this.timer=null);this.adLoadTimeoutTimer&&(this.adLoadTimeoutTimer.stop(),this.adLoadTimeoutTimer=null);window.removeEventListener?(document.removeEventListener("touchmove",this.touchMoveDisabler,!1),window.removeEventListener("message",this.messageHandlerFunc,!1),window.removeEventListener("resize",this.viewportChangeFunc,!1),window.removeEventListener("scroll",this.viewportChangeFunc,!1)):window.detachEvent&&(window.detachEvent("onmessage",this.messageHandlerFunc),window.detachEvent("onresize",this.viewportChangeFunc),window.detachEvent("onscroll",this.viewportChangeFunc));if(this.isMRAIDAd&&(this.mraid.inExpandedState()&&(this.log("stopping with expanded state, invoke close()"),this._mraidClose()),this.mraid.inDefaultState())){this.log("stopping with default state, invoke close()");this._mraidClose();return;}if(this.expandedAdElement){var o9e=this.expandedAdElement.parentNode;this.expandedAdElement._fw_closeButton&&o9e.removeChild(this.expandedAdElement._fw_closeButton);o9e.removeChild(this.expandedAdElement);this.expandedAdElement===this.defaultAdElement&&(this.defaultAdElementContainer===this.defaultAdElement&&(this.defaultAdElementContainer=null),this.defaultAdElement=null);this.expandedAdElement=null;}this.expandedLightbox&&(o9e=this.expandedLightbox.parentNode,o9e.removeChild(this.expandedLightbox),this.expandedLightbox=null);if(this.defaultAdElement){o9e=this.defaultAdElement.parentNode;var t9e=this.defaultAdElement;t9e.style.display="none";o9e!==this.rendererController.getAdInstance().getSlot().getBase()&&window.setTimeout(function(){for(var G9e=o9e&&o9e.childNodes||[],l9e=0;l9e<G9e.length;l9e++){var m9e=G9e[l9e];m9e===t9e&&o9e.removeChild(m9e);}},200);this.defaultAdElementContainer===this.defaultAdElement&&(this.defaultAdElementContainer=null);this.defaultAdElement=null;}this.defaultAdElementContainer&&(o9e=this.defaultAdElementContainer.parentNode,o9e.removeChild(this.defaultAdElementContainer),this.defaultAdElementContainer=null);(this.shouldPauseContentWhenStart||this.isInterstitialNow&&!this.isMRAIDAd)&&this.rendererController.requestContentStateChange(!1);},_setupParameters:function(){var K9e=this.rendererController,b9e=K9e.getAdInstance(),a9e=b9e.getSlot().getTimePositionClass();this._tpc=a9e;var g9e=b9e.getActiveCreativeRendition();b9e=g9e.getBaseUnit();g9e=g9e.getCreativeApi();var N9e;if(b6e.PLATFORM_NOT_SUPPORT_OVERLAY_AD&&a9e===b6e.TIME_POSITION_CLASS_OVERLAY)return this._onRendererFailed(b6e.ERROR_DEVICE_LIMIT,"Overlay not supported on this device."),!1;if(b6e.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&(a9e===b6e.TIME_POSITION_CLASS_MIDROLL||a9e===b6e.TIME_POSITION_CLASS_PAUSE_MIDROLL))return this._onRendererFailed(b6e.ERROR_DEVICE_LIMIT,"Midroll, pause_midroll not supported on this device."),!1;if(b6e.PLATFORM_IS_IPHONE_IPOD)switch(a9e){case b6e.TIME_POSITION_CLASS_MIDROLL:case b6e.TIME_POSITION_CLASS_PAUSE_MIDROLL:case b6e.TIME_POSITION_CLASS_OVERLAY:return this._onRendererFailed(b6e.ERROR_DEVICE_LIMIT,"Midroll, pause_midroll and overlay ads are not supported on iPod, iPhone."),!1;case b6e.TIME_POSITION_CLASS_PREROLL:case b6e.TIME_POSITION_CLASS_POSTROLL:K9e.setCapability(b6e.EVENT_AD_CLICK,b6e.CAPABILITY_STATUS_OFF);}this.adLoadTimeout=5;if(N9e=K9e.getParameter(b6e.PARAMETER_RENDERER_HTML_AD_LOAD_TIMEOUT))this.adLoadTimeout=0<Number(N9e)?Number(N9e):this.adLoadTimeout;this.shouldKeepInterstitial=!1;(N9e=K9e.getParameter(b6e.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE))?this.shouldKeepInterstitial=N9e===b6e.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INTERSTITIAL:"string"===typeof b9e&&(this.shouldKeepInterstitial=b9e.toLowerCase()===b6e.PARAMETER_RENDERER_HTML_BASEUNIT_INTERSTITIAL);this.isInterstitialNow=this.shouldKeepInterstitial;this.shouldPauseContentWhenStart=!1;this.shouldPauseContentWhenExpandOrClick=!this.shouldKeepInterstitial&&(a9e===b6e.TIME_POSITION_CLASS_DISPLAY||a9e===b6e.TIME_POSITION_CLASS_OVERLAY);this.shouldBackgroundTransparent=!1;N9e=K9e.getParameter(b6e.PARAMETER_RENDERER_HTML_SHOULD_BACKGROUND_TRANSPARENT);"undefined"!==typeof N9e&&null!=N9e&&(this.shouldBackgroundTransparent=b6e.Util.str2bool(N9e));this.shouldEndAfterDuration=a9e!==b6e.TIME_POSITION_CLASS_DISPLAY||this.shouldKeepInterstitial;N9e=K9e.getParameter(b6e.PARAMETER_RENDERER_HTML_SHOULD_END_AFTER_DURATION);"undefined"!==typeof N9e&&null!=N9e&&(this.shouldEndAfterDuration=b6e.Util.str2bool(N9e));this.coadScriptName=K9e.getParameter(b6e.PARAMETER_RENDERER_DISPLAY_COAD_SCRIPT_NAME);this.coadScriptName||(this.coadScriptName=K9e.getParameter("coad_script_name"));this.primaryAnchor=K9e.getParameter(b6e.PARAMETER_RENDERER_HTML_PRIMARY_ANCHOR)||"bc";this.marginWidth=K9e.getParameter(b6e.PARAMETER_RENDERER_HTML_MARGIN_WIDTH)||0;this.marginHeight=K9e.getParameter(b6e.PARAMETER_RENDERER_HTML_MARGIN_HEIGHT)||0;this.bootstrap=K9e.getParameter(b6e.PARAMETER_RENDERER_HTML_BOOTSTRAP);b9e=b6e.Util.getViewport();this.defaultExpandWidth=b9e.width;this.defaultExpandHeight=b9e.height;this.isMRAIDAd="MRAID-1.0"===g9e;this.mraid=new function(P9e){this.STATELOADING="loading";this.STATEDEFAULT="default";this.STATEEXPANDED="expanded";this.STATEHIDDEN="hidden";this._renderer=P9e;this._state=this.STATELOADING;this._useCustomClose=!1;this.viewable=this.expandIsModal=!0;this._baseUrlExpanded=this._baseUrlDefault="";P9e=Object.defineProperty||function(L9e,x9e,M9e){M9e.get&&L9e.__defineGetter__(x9e,M9e.get);M9e.set&&L9e.__defineSetter__(x9e,M9e.set);};P9e(this,"baseUrl",{get:function(){return this.inExpandedState()?this._baseUrlExpanded||this._baseUrlDefault:this._baseUrlDefault;},set:function(O9e){this.inExpandedState()?this._baseUrlExpanded=O9e:(this._baseUrlDefault=O9e,this._baseUrlExpanded="");}});P9e(this,"useCustomClose",{get:function(){return this._useCustomClose;},set:function(H9e){this._useCustomClose===!H9e&&(this._useCustomClose=!!H9e,this.pushData());}});P9e(this,"placementType",{get:function(){return this._renderer.shouldKeepInterstitial?"interstitial":"inline";}});P9e(this,"expandWidth",{get:function(){return this._renderer.requestedExpandWidth&&this._renderer.requestedExpandWidth<this._renderer.defaultExpandWidth?this._renderer.requestedExpandWidth:this._renderer.defaultExpandWidth;}});P9e(this,"expandHeight",{get:function(){return this._renderer.requestedExpandHeight&&this._renderer.requestedExpandHeight<this._renderer.defaultExpandHeight?this._renderer.requestedExpandHeight:this._renderer.defaultExpandHeight;}});P9e(this,"state",{get:function(){return this._state;},set:function(T9e){this.log("mraid.state change "+this.state+" => "+T9e);this.state!==T9e&&(this._renderer.shouldPauseContentWhenExpandOrClick&&(T9e===this.STATEEXPANDED?this._renderer.rendererController.requestContentStateChange(!0):this.inExpandedState()&&this._renderer.rendererController.requestContentStateChange(!1)),T9e===this.STATEEXPANDED?(this._renderer.expandedAdElement?this._renderer.rendererController.processEvent({name:b6e.EVENT_AD_ACCEPT_INVITATION}):(this._renderer.expandedAdElement=this._renderer.defaultAdElement,this._renderer.rendererController.processEvent({name:b6e.EVENT_AD_EXPAND})),this._renderer.presentInterstitial(),this._renderer.shouldEndAfterDuration&&this._renderer.timer.pause()):T9e===this.STATEDEFAULT&&(this._renderer.shouldKeepInterstitial?(this._renderer.expandedAdElement=this._renderer.defaultAdElement,this._renderer.presentInterstitial()):(this.inExpandedState()&&(this._renderer.expandedAdElement!==this._renderer.defaultAdElement?this._renderer.rendererController.processEvent({name:b6e.EVENT_AD_CLOSE}):this._renderer.rendererController.processEvent({name:b6e.EVENT_AD_COLLAPSE})),this._renderer.expandedAdElement=null,this._renderer.presentInline()),this._renderer.shouldEndAfterDuration&&this._renderer.timer.start()),this._state=T9e,this.pushData(),T9e===this.STATEHIDDEN&&this._renderer.stop());}});this.inLoadingState=function(){return this.state===this.STATELOADING;};this.inDefaultState=function(){return this.state===this.STATEDEFAULT;};this.inExpandedState=function(){return this.state===this.STATEEXPANDED;};this.inHiddenState=function(){return this.state===this.STATEHIDDEN;};this.pushData=function(){var d9e='mraid._Update("'+this.state+'", '+this.viewable+', "'+this.placementType+'", '+this.expandWidth+", "+this.expandHeight+", "+this.useCustomClose+", "+this.expandIsModal+")";this.log("mraid.pushData: going to invoke on iframe with "+d9e);this._renderer.defaultAdElement?(this._renderer.defaultAdElement.contentWindow.postMessage("fwsdk-bounce:"+d9e,"*"),this._renderer.expandedAdElement&&this._renderer.expandedAdElement!==this._renderer.defaultAdElement&&this._renderer.expandedAdElement.contentWindow.postMessage("fwsdk-bounce:"+d9e,6040<=(957,654.4)?985.37:"*")):this.warn("_mraidPushData: no iframe suitable to send "+d9e);};this.log=function(v9e){this._renderer.log(v9e);};this.warn=function(V9e){this._renderer.warn(V9e);};}(this);this.onLoadFunc=b6e.Util.bind(this,function(){this.adLoadTimeoutTimer&&(this.adLoadTimeoutTimer.stop(),this.adLoadTimeoutTimer=null);this.timer&&this.shouldEndAfterDuration&&this.timer.start();});this.touchMoveDisabler=function(p9e){p9e.preventDefault();};this.log("setting parameters, adLoadTimeout: "+this.adLoadTimeout+", isMRAIDAd: "+this.isMRAIDAd+", shouldKeepInterstitial: "+this.shouldKeepInterstitial+", shouldEndAfterDuration: "+this.shouldEndAfterDuration+", shouldPauseContentWhenStart: "+this.shouldPauseContentWhenStart+", shouldPauseContentWhenExpandOrClick: "+this.shouldPauseContentWhenExpandOrClick+", shouldBackgroundTransparent: "+this.shouldBackgroundTransparent+", defaultExpandWidth: "+this.defaultExpandWidth+", defaultExpandHeight: "+this.defaultExpandHeight+", coadScriptName: "+this.coadScriptName+", primaryAnchor: "+this.primaryAnchor+", marginWidth: "+this.marginWidth+", marginHeight: "+this.marginHeight+", bootstrap: "+this.bootstrap);if(!this.shouldKeepInterstitial)!this.isMRAIDAd||b6e.PLATFORM_IS_IPHONE_IPOD&&a9e!==b6e.TIME_POSITION_CLASS_DISPLAY||(K9e.setCapability(b6e.EVENT_AD_ACCEPT_INVITATION,b6e.CAPABILITY_STATUS_ON),K9e.setCapability(b6e.EVENT_AD_CLOSE,b6e.CAPABILITY_STATUS_ON),K9e.setCapability(b6e.EVENT_AD_COLLAPSE,b6e.CAPABILITY_STATUS_ON),K9e.setCapability(b6e.EVENT_AD_EXPAND,b6e.CAPABILITY_STATUS_ON));else if(a9e===b6e.TIME_POSITION_CLASS_OVERLAY)return this._onRendererFailed(b6e.ERROR_INVALID_SLOT,"Interstitial ad is not supported in overlay slot."),!1;return!0;},_render:function(){this.log("_render");var e9e=this.rendererController.getAdInstance(),Z9e=e9e.getSlot(),J9e=Z9e.getTimePositionClass(),B9e=Z9e.getBase(),W9e=e9e.getActiveCreativeRendition(),z9e=W9e.getDuration(),s9e=W9e.getPrimaryCreativeRenditionAsset();e9e=s9e.getUrl();var n9e=s9e.getContent();J9e===b6e.TIME_POSITION_CLASS_DISPLAY&&(B9e.innerHTML="");this.timer=new b6e.Timer(z9e,b6e.Util.bind(this,this._stop));if(this.coadScriptName&&"function"===typeof window[this.coadScriptName])this.defaultAdElement=window[this.coadScriptName](n9e,e9e,W9e.getHeight(),W9e.getWidth(),s9e.getMimeType(),Z9e.getCustomId()),this.timer&&this.shouldEndAfterDuration&&this.timer.start();else if(z9e=document.createElement("span"),z9e.id="_fw_ad_container_html_"+Z9e.getCustomId()+"_",z9e.style.position="relative"===B9e.style.position?"absolute":"relative",z9e.style.display="inline-block",z9e.style.margin="0px",z9e.style.padding="0px",z9e.style.width=B9e.style.width||"100%",z9e.style.height=B9e.style.height||"100%",z9e.style.top=z9e.style.left="0px",B9e.appendChild(z9e),this.defaultAdElementContainer=z9e,e9e||n9e){if("text/html_lit_nowrapper"===W9e.getContentType()||"text/html_lit_js_wc_nw"===W9e.getContentType()){if(this.isMRAIDAd||this.isInterstitialNow){this._onRendererFailed(b6e.ERROR_INVALID_VALUE,"");this._stop();return;}if(!n9e){this._onRendererFailed(b6e.ERROR_NULL_ASSET,"Empty content");this._stop();return;}this.defaultAdElement=z9e;this.defaultAdElement.innerHTML=n9e;Z9e=this.defaultAdElement.getElementsByTagName("script");var A9e=document.getElementsByTagName("head")[0];for(B9e=0;B9e<Z9e.length;++B9e)if(Z9e[B9e].src){var S9e=document.createElement("script");S9e.src=Z9e[B9e].src;Z9e[B9e].charset&&(S9e.charset=Z9e[B9e].charset);Z9e[B9e].innerHTML&&(S9e.innerHTML=Z9e[B9e].innerHTML);S9e.onload=S9e.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||A9e.removeChild(S9e);};A9e.appendChild(S9e);}else S9e=Z9e[B9e].innerHTML,eval(S9e);this.presentInline();this.onLoadFunc();return;}W9e=document.createElement("iframe");W9e.id="_fw_ad_container_iframe_"+Z9e.getCustomId()+"_"+Math.random();W9e.attachEvent?W9e.attachEvent("onload",this.onLoadFunc):W9e.onload=this.onLoadFunc;this.defaultAdElement=W9e;this.defaultAdElementContainer.appendChild(W9e);this._fillAdNode(W9e,e9e,n9e);this.isMRAIDAd&&(this.adLoadTimeoutTimer=new b6e.Timer(this.adLoadTimeout,b6e.Util.bind(this,function(){this._onRendererFailed(b6e.ERROR_TIMEOUT,"Loading MRAID Ad timed out");J9e!==b6e.TIME_POSITION_CLASS_DISPLAY?this.isMRAIDAd&&!this.mraid.inLoadingState()?this._mraidClose():this._stop():this._stop();})),this.adLoadTimeoutTimer.start());}else{this._onRendererFailed(b6e.ERROR_NULL_ASSET,"Empty URL and empty content");this._stop();return;}this.defaultAdElement||(Z9e=B9e.getElementsByTagName("iframe"))&&0<Z9e.length&&(this.defaultAdElement=Z9e[Z9e.length-1]);this.defaultAdElement?(this.defaultAdElement.frameBorder="0",this.shouldBackgroundTransparent&&(this.defaultAdElement.allowTransparency="true",this.defaultAdElement.style["background-color"]="rgba(255,255,255,0)"),this.isInterstitialNow?(this.expandedAdElement=this.defaultAdElement,this.presentInterstitial()):this.presentInline(),this.messageHandlerFunc=b6e.Util.bind(this,this._onWindowMessageReceived),this.viewportChangeFunc=b6e.Util.bind(this,function(){this.viewportChangeFuncTimer&&window.clearTimeout(this.viewportChangeFuncTimer);this.viewportChangeFuncTimer=window.setTimeout(b6e.Util.bind(this,this._onViewportResizeScroll),200);}),window.addEventListener?(window.addEventListener("message",this.messageHandlerFunc,!1),window.addEventListener("resize",this.viewportChangeFunc,!1),window.addEventListener("scroll",this.viewportChangeFunc,!1)):window.attachEvent&&(window.attachEvent("onmessage",this.messageHandlerFunc),window.attachEvent("onresize",this.viewportChangeFunc),window.attachEvent("onscroll",this.viewportChangeFunc))):this.isMRAIDAd&&(this._onRendererFailed(b6e.ERROR_UNKNOWN,"Failed to find iframe in slotBase for MRAID ad"),this._stop());},_layoutOverlayAd:function(j9e){this.log("_layoutOverlayAd");var Q9e=this.rendererController.getAdInstance(),k9e=Q9e.getSlot(),I9e=k9e.getVideoDisplaySize().width;k9e=k9e.getVideoDisplaySize().height;var i9e=Q9e.getActiveCreativeRendition();Q9e=i9e.getWidth()||240;i9e=i9e.getHeight()||50;j9e.style.width=Math.min(Q9e,I9e)+"px";j9e.style.height=Math.min(i9e,k9e)+"px";j9e.style.left=j9e.style.top=j9e.style.right=j9e.style.bottom="";switch(this.primaryAnchor){case"tl":case"lt":j9e.style.top=this.marginHeight+"px";j9e.style.left=this.marginWidth+"px";break;case"tr":case"rt":j9e.style.top=this.marginHeight+"px";j9e.style.right=this.marginWidth+"px";break;case"bl":case"lb":j9e.style.bottom=this.marginHeight+"px";j9e.style.left=this.marginWidth+"px";break;case"br":case"rb":j9e.style.bottom=this.marginHeight+"px";j9e.style.right=this.marginWidth+"px";break;case"tc":case"ct":j9e.style.top=this.marginHeight+"px";j9e.style.left=.5*Math.max(0,I9e-Q9e)+"px";break;case"lm":case"ml":j9e.style.left=this.marginWidth+"px";j9e.style.top=.5*Math.max(0,k9e-i9e)+"px";break;case"rm":case"mr":j9e.style.right=this.marginWidth+"px";j9e.style.top=.5*Math.max(0,k9e-i9e)+"px";break;case"mc":case"cm":case"c":case"m":j9e.style.left=.5*Math.max(0,I9e-Q9e)+"px";j9e.style.top=.5*Math.max(0,k9e-i9e)+"px";break;default:case"bc":case"cb":j9e.style.bottom=this.marginHeight+"px",j9e.style.left=.5*Math.max(0,I9e-Q9e)+"px";}},_fillAdNode:function(E9e,y9e,r9e){this.log("_fillAdNode, url:"+y9e+", content:"+(r9e?"<omited>":"<empty>"));if(y9e)E9e.src=y9e;else if(r9e)E9e=E9e.contentWindow?E9e.contentWindow.document:E9e.contentDocument.document?E9e.contentDocument.document:E9e.contentDocument,E9e.open(),E9e.write(r9e),E9e.close();else return this._onRendererFailed(b6e.ERROR_NULL_ASSET,"Empty URL and content"),!1;return!0;},presentInline:function(){this.log("presentInline");this.isInterstitialNow=!1;var u8e=this.defaultAdElement;if(u8e){var h8e=this.rendererController.getAdInstance(),X8e=h8e.getSlot(),D8e=X8e.getTimePositionClass(),C8e=X8e.getWidth(),w8e=X8e.getHeight(),Y8e=X8e.getVideoDisplaySize().width;X8e=X8e.getVideoDisplaySize().height;var f8e=h8e.getActiveCreativeRendition();h8e=f8e.getWidth();f8e=f8e.getHeight();u8e.scrolling="no";u8e.style.overflow="hidden";switch(D8e){case b6e.TIME_POSITION_CLASS_DISPLAY:u8e.style.position="";u8e.style.background=this.shouldBackgroundTransparent?"transparent":"";u8e.style.left="0px";u8e.style.top="0px";u8e.style.width=(h8e?h8e:C8e)+"px";u8e.style.height=(f8e?f8e:w8e)+"px";break;case b6e.TIME_POSITION_CLASS_OVERLAY:u8e.style.position="absolute";u8e.style.background=this.shouldBackgroundTransparent?"transparent":"white";this._layoutOverlayAd(u8e);break;default:u8e.style.position="absolute",u8e.style.background=this.shouldBackgroundTransparent?"transparent":"white",u8e.style.left="0px",u8e.style.top="0px",u8e.style.width=Y8e+"px",u8e.style.height=X8e+"px";}}},presentInterstitial:function(){this.log("presentInterstitial, defaultExpandWidth: "+this.defaultExpandWidth+", defaultExpandHeight: "+this.defaultExpandHeight+", this.mraid.expandWidth: "+this.mraid.expandWidth+", this.mraid.expandHeight: "+this.mraid.expandHeight+", (Math.max(0, this.defaultExpandWidth - this.mraid.expandWidth) / 2) = "+Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+", (Math.max(0, this.defaultExpandHeight - this.mraid.expandHeight) / 2) = "+Math.max(0,this.defaultExpandHeight-this.mraid.expandHeight)/2);if(this.expandedAdElement){this.isInterstitialNow=!0;document.addEventListener&&(document.removeEventListener("touchmove",this.touchMoveDisabler,!1),document.addEventListener("touchmove",this.touchMoveDisabler,!1));var F8e=this.expandedAdElement.parentNode;this.expandedLightbox||(this.expandedLightbox=document.createElement("div"),this.expandedLightbox.style.background="black",this.expandedLightbox.style.opacity=.8,this.expandedLightbox.style.position="fixed",this.expandedLightbox.style.top="0px",this.expandedLightbox.style.left="0px",this.expandedLightbox.style.zIndex=this.expandedLightbox.style["z-index"]=9999,F8e.appendChild(this.expandedLightbox));this.expandedLightbox.style.width=this.defaultExpandWidth+"px";this.expandedLightbox.style.height=this.defaultExpandHeight+"px";this.expandedAdElement.frameBorder="0";this.expandedAdElement.scrolling="no";this.expandedAdElement.style.position="fixed";this.expandedAdElement.style.overflow="hidden";this.expandedAdElement.style.top=this.expandedAdElement.top=Math.max(0,this.defaultExpandHeight-this.mraid.expandHeight)/2+"px";this.expandedAdElement.style.left=this.expandedAdElement.left=Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+"px";this.expandedAdElement.style.width=this.expandedAdElement.width=this.mraid.expandWidth+"px";this.expandedAdElement.style.height=this.expandedAdElement.height=this.mraid.expandHeight+"px";this.expandedAdElement.style.zIndex=this.expandedAdElement.style["z-index"]=1E4;this.log("presentInterstitial, expanded ad element size: (top, left, width, height) = ("+this.expandedAdElement.top+", "+this.expandedAdElement.left+", "+this.expandedAdElement.width+", "+this.expandedAdElement.height+(8860!=(5130,632.19)?")":(8.34e+2,799.55)));if(this.isMRAIDAd){var c8e=this.expandedAdElement._fw_closeButton;c8e||(c8e=document.createElement("div"),c8e.addEventListener?c8e.addEventListener("click",b6e.Util.bind(this,function(){this._mraidClose();})):c8e.attachEvent&&c8e.attachEvent("onclick",b6e.Util.bind(this,function(){this._mraidClose();})),c8e.style.position="fixed",c8e.style.margin="0px",c8e.style.padding="0px",c8e.style.width="25px",c8e.style.height="25px",c8e.style.zIndex=c8e.style["z-index"]=10001,F8e.appendChild(c8e),this.expandedAdElement._fw_closeButton=c8e);c8e.style.top=this.expandedAdElement.style.top;c8e.style.left=Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+this.mraid.expandWidth-25+"px";c8e.innerHTML=this.mraid.useCustomClose?0<b6e.PLATFORM_ANDROID_VERSION?"   ":"":0<b6e.PLATFORM_ANDROID_VERSION&&3>=b6e.PLATFORM_ANDROID_VERSION?'<img style="width:25px; height:25px; border:0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4xJREFUeNrMmjFv2kAUxw/IUAZUw4AqJjIxMAQJ9sIHgDYLUqfSBTowJBudAmOnNCNeAitLyVgxxNlBgk+QTKgb6UQHhr7nniNj8PmM3zk86XQZOPt+ee/e+9+dI4zQms1mGTpsb6EVXH42h/YHmqHrukH17kjAiWvQfYT2gfeH2BjaHfYA9hwqCABkobvik9eI/qkIMYB2A0BPSkG4By44hErrQfvhx0MRn/F/Cy3LwjH0yhfZdRSThOhyCI2FZ/iuRrFYjMxmMyMwCEDc8nB6LSsDTBZg7g4GAYj7ANmI0gpeMDEPTxwDhBRMzAXiGrqv7PgMYTSA+eWZtQACvfCTHbedQzYbu4LwOvHolp3q9TorlUpsuVyyfr/P1us16ezi8TirVqtmP5lMzPcIiuepvc5EHT+4doPIZDImhPV3q9UyX0hl+MxOp2O+I5/Ps1qt5pWat4py1CE7Gm4jnf99Sph9z5Lw9gWf845HhLJjtVqx0WhEDuMGgaElYVdbWYuTDbxGYcwiELreskQiwXK5HFssFmyz2ZBA4PoTrA9nFhtCFnu2PCJdL6bTKYlnCCCYfe4WyGc/I4PCEEK8zD3Cw+rxkPjGDIMp2Rl+otRMDGHZaZRvTQ8yv55RBGEKSwQ5C/IEWRiFEGhnMVj1naCbJa9slk6nVUKg/T2h2iyhZywZ4/RCMplUCWFW+hPBsQ0ZjFMhEEOY9SRKLUv3rRnFEHtFI4nhRPelX1xH2FQYOYjf9EsJ8qQSQqVqth8dkYGI6oQK1awExKvYUQlNL5CFSghq1exiCwQxVEOEAGPEYFPyG2QKniS+CWNTRL05w7DSdf2blX7HYe7siD0ztteRm7B3doQww5c9Ow+vspcKRvHXbrfJBCBBmOH13XdnZe95jcKzJmoVK/KMhPV2JAq/UDG8TgJVCEA3GAlvGG5a61JGpmM4UKtYJ4zEs7fmuu8Qu8vU3xEK12EqlXJV0FZIgTe6QhAOcx/kUEKxYUhVZGX8Oft/sX9sNudz2zHXW13wCm6B71m4F6AiwyuECnhj7mtjxQdUKPcrQdStCELoEZtnNO6ZwiuGU8Xr4wE/HwzgJVDY19T49cOlzA9jsk/EC0iQMQ/cM+9C8MIngOjLDjj0o5oGrzVZBWsBa8TA78Cgnznh3QQe6we9j0cpPnTe1IYG4kgIZR5273mvCdIohg6G6TzI5O32T4ABAPsBS28k7apdAAAAAElFTkSuQmCC">':'<img style="width:25px; height:25px; border:0" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAwcHgiIGhlaWdodD0iNDAwcHgiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48Y2lyY2xlIGZpbGw9IiM2NjY2NjYiIGN4PSIyMDAuMTM5IiBjeT0iMTk5Ljg2IiByPSIxOTcuODYiLz48cGF0aCBmaWxsPSIjRjBGMEYwIiBzdHJva2U9IiNGMEYwRjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTExNC44NjUsMzAzLjY0NGMtNi4yMjYsNi4yMjctMTUuMzYzLDcuMTg2LTIwLjQwNywyLjE0NGwtMC41MjItMC41MjJjLTUuMDQzLTUuMDQzLTQuMDgzLTE0LjE4LDIuMTQ0LTIwLjQwN0wyODQuODYsOTYuMDc4YzYuMjI2LTYuMjI3LDE1LjM2Mi03LjE4NiwyMC40MDUtMi4xNDRsMC41MjIsMC41MjFjNS4wNDMsNS4wNDIsNC4wODMsMTQuMTc5LTIuMTQ0LDIwLjQwOEwxMTQuODY1LDMwMy42NDR6Ii8+PHBhdGggZmlsbD0iI0YwRjBGMCIgc3Ryb2tlPSIjRjBGMEYwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0zMDcuODE5LDI4OC42NjZjNS4xNTMsNS4xNTgsNS4wNDgsMTMuNjI0LTAuMjQxLDE4LjkxMWwwLDBjLTUuMjg4LDUuMjg5LTEzLjc1Miw1LjM5My0xOC45MDksMC4yNEw5MS45MDYsMTExLjA1NWMtNS4xNTYtNS4xNTYtNS4wNDgtMTMuNjIzLDAuMjQtMTguOTFsMCwwYzUuMjktNS4yODksMTMuNzU1LTUuMzk2LDE4LjkxMS0wLjI0MUwzMDcuODE5LDI4OC42NjZ6Ii8+PC9zdmc+">';}this.isMRAIDAd||this.rendererController.requestContentStateChange(!0);}},_onWindowMessageReceived:function(U8e){if(this.defaultAdElement&&(U8e.source===this.defaultAdElement.contentWindow||this.expandedAdElement&&U8e.source===this.expandedAdElement.contentWindow)){this.log("_onWindowMessageReceived, event.data:"+U8e.data+", event.origin:"+U8e.origin);var R8e=U8e.data.toString().split(":");if(R8e&&2<=R8e.length&&"fwsdk-invoke"===R8e[0]){var o8e=R8e[1];if((R8e=R8e.slice(2))&&0<R8e.length){for(var q8e=0;q8e<R8e.length;q8e++)R8e[q8e]=decodeURIComponent(R8e[q8e]);1===R8e.length&&(R8e=R8e[0]);}else R8e=null;if("iframe_ready"===o8e){if(this.onLoadFunc&&U8e.source===this.defaultAdElement.contentWindow&&this.defaultAdElement!==this.expandedAdElement)this.onLoadFunc();R8e&&(R8e=b6e.Util.trim(R8e))&&this.isMRAIDAd&&(this.mraid.baseUrl=R8e);this.bootstrap&&U8e.source.postMessage("fwsdk-bounce:"+this.bootstrap,U8e.origin);U8e.source.postMessage('fwsdk-bounce:mraid._messagingModel = "postMessage"',U8e.origin);this.isMRAIDAd&&(U8e.source===this.defaultAdElement.contentWindow&&this.shouldPauseContentWhenStart&&this.rendererController.requestContentStateChange(!0),this.mraid.inLoadingState()?this.mraid.state=this.mraid.STATEDEFAULT:this.expandedAdElement&&U8e.source===this.expandedAdElement.contentWindow&&this.mraid.pushData());}else this.isMRAIDAd?this._mraidMethods(o8e,R8e):"close"===o8e&&this._stop();}}},_mraidMethods:function(l8e,t8e){if(l8e&&this.isMRAIDAd)switch(this.log("_mraidMethods("+l8e+", "+t8e+")"),l8e){case"open":"string"===typeof t8e?this._mraidOpen(t8e):2<=t8e.length&&this._mraidOpen(t8e[0],b6e.Util.str2bool(t8e[1]));break;case"close":this._mraidClose();break;case"expand":this._mraidExpand(t8e);break;case"useCustomClose":t8e&&0<t8e.length?this.mraid.useCustomClose=b6e.Util.str2bool(t8e):this.warn("Invalid parameter to useCustomClose");break;case"setExpandProperties":if(!t8e)break;this.requestedExpandWidth=Number(t8e[0]);this.requestedExpandHeight=Number(t8e[1]);if(!this.requestedExpandWidth||!this.requestedExpandHeight||this.requestedExpandWidth===this.defaultExpandWidth&&this.requestedExpandHeight===this.defaultExpandHeight)this.requestedExpandHeight=this.requestedExpandWidth=0;this.mraid.useCustomClose=b6e.Util.str2bool(t8e[2]);this.requestedExpandWidth===this.mraid.expandWidth&&this.requestedExpandHeight===this.mraid.expandHeight||this.mraid.pushData();break;case"log":this.log("MRAID log:"+t8e);break;default:this.warn("Unknown MRAID function call: "+l8e+" with param:"+t8e);}},_mraidOpen:function(G8e,m8e){this.log("_mraidOpen("+G8e+"), baseUrl:"+this.mraid.baseUrl+", absolute Url"+(G8e=b6e.Util.getAbsoluteUrl(this.mraid.baseUrl,G8e)));var K8e=this.rendererController;G8e&&"string"===typeof G8e&&0<G8e.length?((m8e||"undefined"===typeof m8e)&&window.open(G8e),K8e.processEvent({name:b6e.EVENT_AD_CLICK,info:{showBrowser:!1,url:G8e}})):this.warn("_mraidOpen: url required for open");},_mraidClose:function(){this.log("_mraidClose, current state: "+this.mraid.state);if(this.mraid.inExpandedState()){window.removeEventListener&&document.removeEventListener("touchmove",this.touchMoveDisabler,!1);var N8e=this.expandedAdElement,b8e=this.expandedAdElement._fw_closeButton;this.expandedAdElement._fw_closeButton=null;var a8e=this.expandedAdElement.parentNode;this.mraid.state=this.mraid.STATEDEFAULT;this.expandedLightbox&&(a8e.removeChild(this.expandedLightbox),this.expandedLightbox=null);N8e!==this.defaultAdElement&&(N8e.style.display="hidden",window.setTimeout(function(){a8e.removeChild(N8e);},50));a8e.removeChild(b8e);}else this.mraid.inDefaultState()?this.mraid.state=this.mraid.STATEHIDDEN:this.warn("_mraidClose: close() is only valid when in expanded/default state");},_mraidExpand:function(P8e){this.log("_mraidExpand, current state: "+this.mraid.state);if(this.mraid.inDefaultState())if(this.shouldKeepInterstitial)this.warn("_mraidExpand: expand() is only valid for inline ad");else{if(P8e){var g8e=document.createElement("iframe"),M8e=b6e.Util.getAbsoluteUrl(this.mraid.baseUrl,P8e);this.shouldBackgroundTransparent&&(g8e.allowTransparency="true",g8e.style["background-color"]="rgba(255,255,255,0)");(this.defaultAdElementContainer||this.defaultAdElement.parentNode).appendChild(g8e);this.expandedAdElement=g8e;this.log("_mraidExpand("+P8e+"), baseUrl:"+this.mraid.baseUrl+", absolute Url"+M8e);this._fillAdNode(g8e,M8e,null);}this.mraid.state=this.mraid.STATEEXPANDED;this.isInterstitialNow=!0;this._onViewportResizeScroll();}else this.warn("_mraidExpand: expand() is only valid when in default state");},_onViewportResizeScroll:function(){var L8e=b6e.Util.getViewport();this.defaultExpandWidth=L8e.width;this.defaultExpandHeight=L8e.height;this.isInterstitialNow&&this.presentInterstitial();},log:function(O8e){var x8e=this.rendererController.getAdInstance().getSlot();b6e.log("HTMLRenderer["+x8e+"]\t"+O8e);},warn:function(T8e){var H8e=this.rendererController.getAdInstance().getSlot();b6e.warn("HTMLRenderer["+H8e+"]\t"+T8e);},info:function(){return{moduleType:b6e.MODULE_TYPE_RENDERER};},getPlayheadTime:function(){return this.timer?this.timer.getPlayheadTime():-1;},getDuration:function(){return this.timer?this.timer.getDuration():-1;},_onRendererFailed:function(p8e,V8e,d8e){var v8e={};v8e[b6e.INFO_KEY_ERROR_MODULE]="HTMLRenderer";v8e[b6e.INFO_KEY_ERROR_CODE]=p8e;this.rendererController.getAdInstance().getSlot().getTimePositionClass()===b6e.TIME_POSITION_CLASS_OVERLAY?d8e||(d8e=b6e.ERROR_VAST_NON_LINEAR_GENERAL_ERROR):this.rendererController.getAdInstance().getSlot().getTimePositionClass()!==b6e.TIME_POSITION_CLASS_DISPLAY||d8e||(d8e=b6e.ERROR_VAST_COMPANION_GENERAL_ERROR);d8e&&(v8e[b6e.INFO_KEY_VAST_ERROR_CODE]=d8e);V8e&&(v8e[b6e.INFO_KEY_ERROR_INFO]=V8e);this.rendererController.handleStateTransition(b6e.RENDERER_STATE_FAILED,v8e);}};b6e.HTMLRenderer.prototype.constructor=b6e.HTMLRenderer;b6e.Ad=function(){this._id=null;this._creatives=[];this._noLoad=!1;this._soAdUnit=null;this._isRequiredToShow=!1;};b6e.Ad.prototype={isRequiredToShow:function(){return this._isRequiredToShow;},parse:function(Z8e){if(Z8e){this._id=Z8e.adId||null;this._noLoad=Z8e.noLoad;this._soAdUnit=Z8e.adUnit;Z8e.hasOwnProperty("required")&&(this._isRequiredToShow=Z8e.required);var B8e=0;for(Z8e=Z8e.creatives||[];B8e<Z8e.length;B8e++){var z8e=Z8e[B8e],W8e=new b6e.Creative();W8e.parse(z8e);this._creatives.push(W8e);}}},getSoAdUnit:function(){return this._soAdUnit;},getId:function(){return this._id;},getNoLoad:function(){return this._noLoad;},getCreative:function(e8e){for(var S8e=0;S8e<this._creatives.length;S8e++)if(this._creatives[S8e].getId()===e8e)return this._creatives[S8e];return null;},addCreativeRendition:function(){var n8e=new b6e.Creative();this._creatives.push(n8e);return n8e;}};b6e.Ad.prototype.constructor=b6e.Ad;b6e.Creative=function(){this._duration=this._baseUnit=this._id=null;this._parameters={};this._creativeRenditions=[];};b6e.Creative.prototype={getId:function(){return this._id;},getBaseUnit:function(){return this._baseUnit;},getDuration:function(){return this._duration;},getParameter:function(s8e){return this._parameters[s8e];},setParameter:function(J8e,A8e){null==A8e?delete this._parameters[J8e]:this._parameters[J8e]=A8e;},parse:function(j8e){if(j8e){this._id=j8e.creativeId||null;this._baseUnit=j8e.baseUnit||null;this._duration=1*j8e.duration;if(j8e.parameters)if(j8e.parameters.constructor===Array)for(var Q8e=0,k8e=j8e.parameters||[];Q8e<k8e.length;Q8e++){var i8e=k8e[Q8e];this._parameters[i8e.name]=i8e.value;}else"object"===typeof j8e.parameters&&(this._parameters=b6e.Util.copy(j8e.parameters));Q8e=0;for(k8e=j8e.creativeRenditions||[];Q8e<k8e.length;Q8e++){i8e=k8e[Q8e];j8e=new b6e.CreativeRendition();j8e.parse(i8e);j8e.setDuration(this._duration);j8e.setBaseUnit(this._baseUnit);for(var I8e in this._parameters)this._parameters.hasOwnProperty(I8e)&&j8e.setParameter(I8e,this._parameters[I8e]);this._creativeRenditions.push(j8e);}}},getAllCreativeRenditions:function(){return this._creativeRenditions;},addCreativeRendition:function(E8e){this._creativeRenditions.push(E8e);},getEligibleCreativeRenditionsForAdInstance:function(h3e){var r8e=[],X3e=[],u3e;for(u3e=0;u3e<this._creativeRenditions.length;u3e++){var y8e=this._creativeRenditions[u3e];y8e.getId()===h3e._creativeRenditionId&&y8e.getReplicaId()===h3e._replicaId&&r8e.push(y8e);""===y8e.getReplicaId()&&X3e.push(y8e);}return 0===r8e.length?X3e:r8e;},cloneForTranslation:function(){var f3e=new b6e.Creative();f3e.parse({creativeId:this._id,baseUnit:this._baseUnit,duration:this._duration,parameters:b6e.Util.copy(this._parameters)});return f3e;}};b6e.Creative.prototype.constructor=b6e.Creative;b6e.CreativeRendition=function(){this._id=null;this._creativeApi="None";this._baseUnit=null;this._replicaId="";this._height=this._width=this._preference=this._wrapperUrl=this._wrapperType=this._contentType=null;this._parameters={};this._primaryCreativeRenditionAsset=null;this._otherCreativeRenditionAssets=[];this._universalAdId=this._duration=null;};b6e.CreativeRendition.prototype={getId:function(){return this._id;},getCreativeApi:function(){return this._creativeApi;},setCreativeApi:function(D3e){this._creativeApi=D3e||"None";},getReplicaId:function(){return this._replicaId;},getContentType:function(){return this._contentType?this._contentType:this._primaryCreativeRenditionAsset&&this._primaryCreativeRenditionAsset.getContentType()?this._primaryCreativeRenditionAsset.getContentType():null;},setContentType:function(C3e){this._contentType=C3e;},getWrapperType:function(){return this._wrapperType;},setWrapperType:function(w3e){this._wrapperType=w3e;},getWrapperUrl:function(){return this._wrapperUrl;},setWrapperUrl:function(Y3e){this._wrapperUrl=Y3e;},getBaseUnit:function(){return this._baseUnit;},setBaseUnit:function(c3e){this._baseUnit=c3e;},getPreference:function(){return this._preference;},setPreference:function(F3e){this._preference=F3e;},getWidth:function(){return this._width;},setWidth:function(R3e){this._width=R3e;},getHeight:function(){return this._height;},setHeight:function(U3e){this._height=U3e;},getDuration:function(){return this._duration;},setDuration:function(q3e){this._duration=q3e;},getParameter:function(o3e){return this._parameters[o3e];},setParameter:function(t3e,l3e){null==l3e?delete this._parameters[t3e]:this._parameters[t3e]=l3e;},getUniversalAdId:function(){return this._universalAdId;},setUniversalAdId:function(G3e){this._universalAdId=G3e;},getPrimaryCreativeRenditionAsset:function(){return this._primaryCreativeRenditionAsset;},getOtherCreativeRenditionAssets:function(){return this._otherCreativeRenditionAssets.slice();},addCreativeRenditionAsset:function(K3e,N3e){var m3e=new b6e.CreativeRenditionAsset();m3e.setName(K3e);N3e?this._primaryCreativeRenditionAsset=m3e:this._otherCreativeRenditionAssets.push(m3e);return m3e;},parse:function(a3e){if(a3e){this._id=a3e.creativeRenditionId||null;this._creativeApi=a3e.creativeApi||"None";this._replicaId=a3e.hasOwnProperty("adReplicaId")?a3e.adReplicaId:"";this._contentType=a3e.contentType||null;this._wrapperType=a3e.wrapperType||null;this._wrapperUrl=a3e.wrapperUrl||null;this._preference=1*a3e.preference;this._width=1*a3e.width;this._height=1*a3e.height;for(var P3e,b3e=0,g3e=a3e.parameters||[];b3e<g3e.length;b3e++)P3e=g3e[b3e],this._parameters[P3e.name]=P3e.value;this._primaryCreativeRenditionAsset=new b6e.CreativeRenditionAsset();this._primaryCreativeRenditionAsset.parse(a3e.asset);b3e=0;for(g3e=a3e.otherAssets||[];b3e<g3e.length;b3e++)P3e=g3e[b3e],a3e=new b6e.CreativeRenditionAsset(),a3e.parse(P3e),this._otherCreativeRenditionAssets.push(a3e);}}};b6e.CreativeRendition.prototype.constructor=b6e.CreativeRendition;b6e.CreativeRenditionAsset=function(){this._bytes=this._mimeType=this._contentType=this._content=this._url=this._name=this._id=null;};b6e.CreativeRenditionAsset.prototype={getName:function(){return this._name;},setName:function(M3e){this._name=M3e;},getUrl:function(){return this._url;},setUrl:function(L3e){this._url=L3e;},getContent:function(){return this._content;},setContent:function(x3e){this._content=x3e;},getContentType:function(){return this._contentType;},setContentType:function(O3e){this._contentType=O3e;},getMimeType:function(){return this._mimeType;},setMimeType:function(H3e){this._mimeType=H3e;},getBytes:function(){return this._bytes;},setBytes:function(T3e){this._bytes=T3e;},parse:function(d3e){d3e&&(this._id=d3e.id||null,this._name=d3e.name||null,this._url=d3e.url||null,this._content=d3e.content||null,this._contentType=d3e.contentType||null,this._mimeType=d3e.mimeType||null,this._bytes=1*d3e.bytes);}};b6e.CreativeRenditionAsset.prototype.constructor=b6e.CreativeRenditionAsset;b6e.AdInstance=function(v3e){this._context=v3e;this._creativeRenditionId=this._creativeId=this._soAdUnit=this._adId=this._slot=null;this._replicaId="";this._primaryCreativeRendition=this._creative=null;this._creativeRenditions=[];this._noLoad=!1;this._companionAdInstances=[];this._eventCallbacks=[];this._externalEventCallbackUrlsDictionary={};this._rendererController=new b6e.RendererController(v3e,this);this._timer=new b6e.Timer();this._metr=0;this._state=b6e.MediaInitState.instance;this._isStartSuccessfully=this._translated=this._isImpressionSent=this._isInitiatedSent=!1;this._lastDurationFromRenderer=-1;this._slotCustomId=this._parentAdInstancesGroup=null;this._isSkipped=!1;this._wrapperCount=0;};b6e.AdInstance.prototype={};b6e.AdInstance.prototype.constructor=b6e.AdInstance;b6e.METR_MASK_QUARTILE=0;b6e.METR_MASK_MIDPOINT=1;b6e.METR_MASK_COMPLETE=2;b6e.METR_MASK_VOLUME=3;b6e.METR_MASK_SIZE=4;b6e.METR_MASK_CONTROL=5;b6e.METR_MASK_REWIND=6;b6e.METR_MASK_ACCEPT_INVITATION=7;b6e.METR_MASK_CLOSE=8;b6e.METR_MASK_MINIMIZE=9;b6e.METR_MASK_CLICK=10;b6e.AdInstance._metrDictionary={};b6e.AdInstance._metrDictionary[b6e.EVENT_AD_FIRST_QUARTILE]=b6e.AdInstance._metrDictionary[b6e.EVENT_AD_THIRD_QUARTILE]=b6e.AdInstance._metrDictionary[b6e.EVENT_AD_QUARTILE]=1<<b6e.METR_MASK_QUARTILE|1<<b6e.METR_MASK_MIDPOINT|1<<b6e.METR_MASK_COMPLETE;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_MIDPOINT]=1<<b6e.METR_MASK_MIDPOINT|1<<b6e.METR_MASK_COMPLETE;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_COMPLETE]=1<<b6e.METR_MASK_COMPLETE;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_MUTE]=1<<b6e.METR_MASK_VOLUME;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_UNMUTE]=1<<b6e.METR_MASK_VOLUME;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_COLLAPSE]=1<<b6e.METR_MASK_SIZE;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_EXPAND]=1<<b6e.METR_MASK_SIZE;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_PAUSE]=1<<b6e.METR_MASK_CONTROL;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_RESUME]=1<<b6e.METR_MASK_CONTROL;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_REWIND]=1<<b6e.METR_MASK_REWIND;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_ACCEPT_INVITATION]=1<<b6e.METR_MASK_ACCEPT_INVITATION;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_CLOSE]=1<<b6e.METR_MASK_CLOSE;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_MINIMIZE]=1<<b6e.METR_MASK_MINIMIZE;b6e.AdInstance._metrDictionary[b6e.EVENT_AD_CLICK]=1<<b6e.METR_MASK_CLICK;b6e.Util.mixin(b6e.AdInstance.prototype,{getAdId:function(){return this._adId;},getUniversalAdId:function(){return this.getActiveCreativeRendition()?this.getActiveCreativeRendition().getUniversalAdId():null;},getSoAdUnit:function(){return this._soAdUnit;},getEventCallbackUrls:function(V3e,p3e){var Z3e=[],B3e=p3e===b6e.EVENT_TYPE_CLICK,W3e=p3e===b6e.EVENT_TYPE_CLICK_TRACKING;V3e=b6e.EventCallback.getEventCallback(this._eventCallbacks,V3e,W3e?b6e.EVENT_TYPE_CLICK:p3e);if(!V3e)return Z3e;p3e={};p3e[b6e.INFO_KEY_NEED_EMPTY_CT]=!0;B3e?V3e._showBrowser&&Z3e.push(V3e.getUrl(p3e)):W3e?V3e._showBrowser||Z3e.push(V3e.getUrl(p3e)):Z3e.push(V3e.getUrl(p3e));B3e||(Z3e=Z3e.concat(V3e.getTrackingUrls()));return Z3e;},addEventCallbackUrls:function(z3e,S3e,e3e){e3e&&this._isValidEventNameAndType(z3e,S3e)&&(this._externalEventCallbackUrlsDictionary[S3e+"-"+z3e]=this.getExternalEventCallbackUrls(z3e,S3e).concat(e3e));},setClickThroughUrl:function(n3e,s3e){s3e&&this._isValidEventNameAndType(n3e,b6e.EVENT_TYPE_CLICK)&&(n3e=this.getEventCallback(n3e,b6e.EVENT_TYPE_CLICK))&&(b6e.Util.isParameterInURL(n3e._url,b6e.URL_PARAMETER_KEY_CR)||(n3e._url=n3e._url+"&"+b6e.URL_PARAMETER_KEY_CR+"="),n3e._url=b6e.Util.setParameterInURL(n3e._url,b6e.URL_PARAMETER_KEY_CR,s3e),n3e._showBrowser=!0);},addCreativeRendition:function(){var J3e=new b6e.CreativeRendition();J3e.parse({creativeRenditionId:this._creativeRenditionId,adReplicaId:this._replicaId,preference:0});J3e.setBaseUnit(this._creative.getBaseUnit());J3e.setDuration(this._creative.getDuration());this._creativeRenditions.push(J3e);this.isPlaceholder()&&(this._noLoad=!1);return J3e;},getRendererController:function(){return this._rendererController;},getSlot:function(){this._slot||(this._slot=this._context._adResponse.getSlotByCustomId(this._slotCustomId));return this._slot;},getCompanionSlots:function(){for(var j3e=[],A3e=0;A3e<this._companionAdInstances.length;A3e++)j3e.push(this._companionAdInstances[A3e]._slot);return j3e;},getActiveCreativeRendition:function(){return this._primaryCreativeRendition;},setActiveCreativeRendition:function(Q3e){Q3e?(-1===this._creativeRenditions.indexOf(Q3e)&&this._creativeRenditions.push(Q3e),this._primaryCreativeRendition=Q3e,this._creativeRenditionId=Q3e.getId()):b6e.warn("AdInstance.setActiveCreativeRendition","rendition is null");},getAllCreativeRenditions:function(){var k3e=this._creativeRenditions.slice();k3e.sort(function(I3e,E3e){return E3e.getPreference()-I3e.getPreference();});var i3e=k3e.indexOf(this._primaryCreativeRendition);-1<i3e&&(k3e.splice(i3e,1),k3e.unshift(this._primaryCreativeRendition));return k3e;},getRenderableCreativeRenditions:function(){var y3e=this._creativeRenditions.slice().sort(function(u5e,X5e){return X5e.getPreference()-u5e.getPreference();}).filter(function(h5e){return this._rendererController.rendererMatch(h5e);},this),r3e=y3e.indexOf(this._primaryCreativeRendition);-1<r3e&&(y3e.splice(r3e,1),y3e.unshift(this._primaryCreativeRendition));return y3e;},getPlayheadTime:function(){var f5e=-1;if(this._rendererController.getRenderer()&&"function"===typeof this._rendererController.getRenderer().getPlayheadTime)try{f5e=this._rendererController.getRenderer().getPlayheadTime();}catch(D5e){b6e.warn("AdInstance.getPlayheadTime",D5e.description);}return f5e;},getDuration:function(){var C5e=-1;this._rendererController.getRenderer()&&"function"===typeof this._rendererController.getRenderer().getDuration&&(this._lastDurationFromRenderer=C5e=this._rendererController.getRenderer().getDuration());-1===C5e&&(C5e=-1<this._lastDurationFromRenderer?this._lastDurationFromRenderer:this.getActiveCreativeRendition().getDuration());return C5e;},parse:function(F5e){if(F5e){this._adId=F5e.adId||null;this._creativeId=F5e.creativeId||null;this._creativeRenditionId=F5e.creativeRenditionId||null;this._replicaId=F5e.hasOwnProperty("replicaId")?F5e.replicaId:"";this._noLoad=this._context._adResponse.getAd(this._adId).getNoLoad();this._soAdUnit=this._context._adResponse.getAd(this._adId).getSoAdUnit();this._creative=this._context._adResponse.getCreative(this._adId,this._creativeId);this._creativeRenditions=this._creative.getEligibleCreativeRenditionsForAdInstance(this);var R5e,w5e;var Y5e=0;for(R5e=F5e.eventCallbacks||[];Y5e<R5e.length;Y5e++){var c5e=R5e[Y5e];if(w5e=b6e.EventCallback.newEventCallback(this._context,c5e.name,c5e.type))w5e._adInstance=this,w5e.parse(c5e),this._eventCallbacks.push(w5e);}Y5e=0;for(R5e=F5e.companionAds||[];Y5e<R5e.length;++Y5e)(c5e=R5e[Y5e])&&c5e.adSlotCustomId&&(w5e=new b6e.AdInstance(this._context),w5e._slotCustomId=c5e.adSlotCustomId,w5e.parse(c5e),this._companionAdInstances.push(w5e));Y5e=0;for(R5e=F5e.fallbackAds||[];Y5e<R5e.length;++Y5e)c5e=R5e[Y5e],w5e=new b6e.AdInstance(this._context),this._parentAdInstancesGroup.push(w5e),w5e._slot=this._slot,w5e._parentAdInstancesGroup=this._parentAdInstancesGroup,w5e.parse(c5e);0<this._creativeRenditions.length&&(this._primaryCreativeRendition=this._creativeRenditions[0]);}},play:function(){b6e.log("AdInstance.play "+this._slotCustomId);this._timer.tick();this.processEvent(b6e.EVENT_AD_IMPRESSION,b6e.EVENT_TYPE_IMPRESSION);this._isStartSuccessfully||(b6e.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[b6e.INFO_KEY_MODULE_TYPE]&&this._context.dispatchEvent(b6e.EVENT_AD_IMPRESSION,{adInstance:this,slotCustomId:this._slotCustomId}),this._isStartSuccessfully=!0);this._state.play(this);if(this._rendererController.getRenderer().info()[b6e.INFO_KEY_MODULE_TYPE]===b6e.MODULE_TYPE_RENDERER)for(var U5e=0;U5e<this._companionAdInstances.length;U5e++)this._companionAdInstances[U5e].isPlaceholder()||this._companionAdInstances[U5e].getSlot().playCompanionAds(this._companionAdInstances[U5e]);},pause:function(){b6e.log("AdInstance.pause "+this._slotCustomId);this._isStartSuccessfully?this._rendererController&&this._rendererController.pause():b6e.log("Ad hasn't started yet. Ignore.");},resume:function(){b6e.log("AdInstance.resume"+this._slotCustomId);this._isStartSuccessfully?this._rendererController&&this._rendererController.resume():b6e.log("Ad hasn't started yet. Ignore.");},skip:function(){b6e.log("AdInstance.skip");"VPAID"!==this.getActiveCreativeRendition().getCreativeApi()?(this._isSkipped=!0,this.processEvent(b6e.EVENT_AD_SKIPPED,b6e.EVENT_TYPE_GENERIC),this.stop()):b6e.log("VPAID creative, skip has been implemented inside of VPAID");},stop:function(){b6e.log("AdInstance.stop");this._rendererController.stop();},fakeComplete:function(){this._slot.getTimePositionClass()===b6e.TIME_POSITION_CLASS_DISPLAY&&(this._isStartSuccessfully=!1,this._slot.playNextAdInstance());},complete:function(){this._isStartSuccessfully&&(this.processEvent(b6e.EVENT_AD_IMPRESSION_END,b6e.EVENT_TYPE_IMPRESSION),b6e.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[b6e.INFO_KEY_MODULE_TYPE]&&this._context.dispatchEvent(b6e.EVENT_AD_IMPRESSION_END,{adInstance:this}));this._state.complete(this);this._rendererController._restorePlaceholdersForHybrid();this._rendererController.setRenderer(null);this._isStartSuccessfully=!1;this._slot.playNextAdInstance();},isStarted:function(){return this._isStartSuccessfully;},onStartPlaying:function(){b6e.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[b6e.INFO_KEY_MODULE_TYPE]?this._isImpressionSent=!0:this._translated=!0;},onCompletePlaying:function(){},onStartReplaying:function(){},onCompleteReplaying:function(){},getEventCallback:function(q5e,o5e){return b6e.EventCallback.getEventCallback(this._eventCallbacks,q5e,o5e);},processEvent:function(t5e,m5e,G5e,l5e){var K5e=!0;m5e=this.getEventCallback(t5e,m5e);t5e===b6e.EVENT_AD_IMPRESSION&&this._isStartSuccessfully&&(m5e=this.getEventCallback(b6e.EVENT_ERROR,b6e.EVENT_TYPE_ERROR),G5e={errorInfo:"Trying to send defaultImpression multiple times"},K5e=!1);m5e?l5e||m5e.process(G5e):K5e=!1;t5e===b6e.EVENT_AD_CLICK&&this._context.dispatchEvent(b6e.EVENT_AD_CLICK,{adInstance:this});if(t5e!==b6e.EVENT_AD_IMPRESSION&&t5e!==b6e.EVENT_AD_IMPRESSION_END||b6e.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[b6e.INFO_KEY_MODULE_TYPE])l5e={subType:t5e,adInstance:this,slot:this._slot},t5e===b6e.EVENT_ERROR&&(l5e[b6e.INFO_KEY_ERROR_CODE]=G5e[b6e.INFO_KEY_ERROR_CODE],l5e[b6e.INFO_KEY_ERROR_INFO]=G5e[b6e.INFO_KEY_ERROR_INFO],l5e[b6e.INFO_KEY_ERROR_MODULE]=G5e[b6e.INFO_KEY_ERROR_MODULE]),t5e===b6e.EVENT_AD_MEASUREMENT&&(l5e[b6e.INFO_KEY_CONCRETE_EVENT_ID]=G5e[b6e.INFO_KEY_CONCRETE_EVENT_ID]),this._context.dispatchEvent(b6e.EVENT_AD,l5e);return K5e;},setVolume:function(N5e){b6e.debug("AdInstance.setVolume("+N5e+")");this.isStarted()&&"function"===typeof this._rendererController.getRenderer().setVolume&&this._rendererController.getRenderer().setVolume(N5e);},setMetr:function(g5e,P5e){var a5e=b6e.AdInstance._metrDictionary[g5e],b5e=P5e;a5e&&(g5e===b6e.EVENT_AD_CLICK&&(b5e=!P5e),this._metr=b5e===b6e.CAPABILITY_STATUS_ON||!0===b5e?this._metr|a5e:this._metr&~a5e);},getExternalEventCallbackUrls:function(M5e,L5e){return(this._externalEventCallbackUrlsDictionary[L5e+"-"+M5e]||[]).slice();},reset:function(){this._rendererController.reset();for(var O5e=0;O5e<this._companionAdInstances.length;O5e++){var x5e=this._companionAdInstances[O5e];x5e._state!==b6e.MediaPlayingState.instance&&x5e._state!==b6e.MediaReplayingState.instance||x5e.stop();x5e._rendererController.reset();}},cloneForTranslation:function(){var H5e=new b6e.AdInstance(this._context);H5e._adId=this._adId;H5e._creativeId=this._creativeId;H5e._creative=this._creative.cloneForTranslation();H5e._creativeRenditionId=this._creativeRenditionId;H5e._isInitiatedSent=this._isInitiatedSent;H5e._noLoad=this._noLoad;H5e._slot=this.getSlot();H5e._soAdUnit=this.getSoAdUnit();H5e._replicaId=this._replicaId;H5e._wrapperCount=this._wrapperCount;for(var T5e=0;T5e<this._eventCallbacks.length;T5e++){var d5e=this._eventCallbacks[T5e].copy();d5e._adInstance=H5e;H5e._eventCallbacks.push(d5e);}H5e._externalEventCallbackUrlsDictionary=b6e.Util.copy(this._externalEventCallbackUrlsDictionary);for(T5e=0;T5e<this._companionAdInstances.length;T5e++)this._companionAdInstances[T5e].isPlaceholder()?H5e._companionAdInstances.push(this._companionAdInstances[T5e].cloneForTranslation()):H5e._companionAdInstances.push(this._companionAdInstances[T5e]);return H5e;},isPlaceholder:function(){return this._noLoad;},setMediaState:function(v5e){this._state=v5e;},_isValidEventNameAndType:function(V5e,p5e){return b6e.Util.isBlank(V5e)||b6e.Util.isBlank(p5e)?!1:p5e===b6e.EVENT_TYPE_CLICK||p5e===b6e.EVENT_TYPE_CLICK_TRACKING||p5e===b6e.EVENT_TYPE_IMPRESSION&&(V5e===b6e.EVENT_AD_IMPRESSION||V5e===b6e.EVENT_AD_FIRST_QUARTILE||V5e===b6e.EVENT_AD_MIDPOINT||V5e===b6e.EVENT_AD_THIRD_QUARTILE||V5e===b6e.EVENT_AD_COMPLETE)||p5e===b6e.EVENT_TYPE_STANDARD&&(V5e===b6e.EVENT_AD_PAUSE||V5e===b6e.EVENT_AD_RESUME||V5e===b6e.EVENT_AD_REWIND||V5e===b6e.EVENT_AD_MUTE||V5e===b6e.EVENT_AD_UNMUTE||V5e===b6e.EVENT_AD_COLLAPSE||V5e===b6e.EVENT_AD_EXPAND||V5e===b6e.EVENT_AD_MINIMIZE||V5e===b6e.EVENT_AD_CLOSE||V5e===b6e.EVENT_AD_ACCEPT_INVITATION)||p5e===b6e.EVENT_TYPE_ERROR&&V5e===b6e.EVENT_ERROR;},isPlayable:function(){var Z5e=!(this._rendererController.getRendererState()===b6e.RendererFailedState.instance&&!this._isImpressionSent);if(!Z5e)return b6e.debug("AdInstance.isPlayable returning false isImpressionSent:",this._isImpressionSent),Z5e;(Z5e=Z5e&&!this._translated)||b6e.debug("AdInstance.isPlayable returning false translated:",this._translated);return Z5e;},toString:function(){return"[AdInstance "+this._adId+"]";},getCompanionAdInstances:function(){for(var W5e=[],B5e=0;B5e<this._companionAdInstances.length;++B5e)this._companionAdInstances[B5e].isPlaceholder()||W5e.push(this._companionAdInstances[B5e]);return W5e;},isRequiredToShow:function(){return this._context._adResponse.getAd(this._adId).isRequiredToShow();},incrementWrapperCount:function(){this._wrapperCount++;},getWrapperCount:function(){return this._wrapperCount;}});b6e.AdManager=function(){var z5e=this;this._context=this.newContext();this._context.addEventListener(b6e.EVENT_REQUEST_COMPLETE,function(S5e){z5e.onRequestComplete(S5e);});this._networkId=this._serverURL="";this._onRequestComplete=this._location=null;};b6e.AdManager.prototype={getVersion:function(){if(b6e.version){var e5e=b6e.version.match(/^js-(\d)\.(\d)\.(\d).(\d)/)||b6e.version.match(/^js-(\d)\.(\d)\.(\d)/)||b6e.version.match(/^js-(\d)\.(\d)/);if(null!=e5e&&0<e5e.length){for(var s5e=0,n5e=0;n5e<e5e.length-1;n5e++)s5e+=e5e[e5e.length-n5e-1]<<(n5e<<3);return s5e;}if(0===b6e.version.indexOf("js-master"))return 4294967295;}return 0;},setNetwork:function(j5e){b6e.debug("AdManager.setNetwork("+Array.prototype.slice.call(arguments).join(",")+")");if(0<1*j5e){this._networkId=1*j5e;for(var A5e in b6e._instanceQueue)if(b6e._instanceQueue.hasOwnProperty(A5e)){var J5e=b6e._instanceQueue[A5e];J5e&&J5e._videoAsset._videoPlayPending&&J5e._videoAsset.play();}}else b6e.warn("AdManager.setNetwork","valid networkId required");},setServerURL:function(Q5e){b6e.debug("AdManager.setServerURL("+Array.prototype.slice.call(arguments).join(",")+")");b6e.warn("AdManager.setServerURL method is DEPRECATED, use AdManager.setServer instead.");this.setServer(Q5e);},setServer:function(i5e){b6e.debug("AdManager.setServer("+Array.prototype.slice.call(arguments).join(",")+")");if(i5e&&"string"===typeof i5e){this._serverURL=i5e;for(var I5e in b6e._instanceQueue)if(b6e._instanceQueue.hasOwnProperty(I5e)){var k5e=b6e._instanceQueue[I5e];k5e&&k5e._videoAsset._videoPlayPending&&k5e._videoAsset.play();}}else b6e.warn("AdManager.setServer","server url required");},setLocation:function(E5e){b6e.debug("AdManager.setLocation("+Array.prototype.slice.call(arguments).join(",")+")");this._location=E5e;},newContext:function(){b6e.debug("AdManager.newContext("+Array.prototype.slice.call(arguments).join(",")+")");return new b6e.Context(this);},newContextWithContext:function(y5e){b6e.debug("AdManager.newContextWithContext("+Array.prototype.slice.call(arguments).join(",")+")");var r5e=this.cloneContext(y5e);r5e._temporalSlotBase=y5e._temporalSlotBase;y5e.getContentVideoElement()&&(r5e.setContentVideoElement(y5e.getContentVideoElement()),delete r5e._temporalSlotBase["_fw_contentVideo_"+y5e._instanceId]);r5e._videoDisplaySize=y5e._videoDisplaySize;r5e._overriddenAdRenderers=y5e._overriddenAdRenderers;r5e._currentContentPlayheadTime=y5e._currentContentPlayheadTime;r5e.startSubsession(y5e._adRequest._subsessionToken);r5e.setRequestMode(y5e._adRequest._requestMode);r5e._adRequest._compatibleDimensions=y5e._adRequest._compatibleDimensions;r5e._videoAsset._state=y5e._videoAsset._state;r5e._videoAsset._callbackTimer=y5e._videoAsset._callbackTimer;r5e._videoAsset._videoPlayPending=y5e._videoPlayPending;r5e._videoAsset._requestedVideoViewUrl=y5e._videoAsset._requestedVideoViewUrl;r5e._videoAsset._delay=y5e._videoAsset._delay;r5e._videoAsset._durationType=y5e._videoAsset._durationType;var u0Q=y5e._extensionManager.extensions,X0Q;for(X0Q in u0Q)u0Q.hasOwnProperty(X0Q)&&r5e.loadExtension(u0Q[X0Q]);return this._context=r5e;},setParameter:function(h0Q,f0Q,D0Q){b6e.debug("AdManager.setParameter("+Array.prototype.slice.call(arguments).join(",")+")");this._context.setParameter(h0Q,f0Q,D0Q);},getParameter:function(C0Q){return this._context.getParameter(C0Q);},submitRequest:function(w0Q,Y0Q){b6e.debug("AdManager.submitRequest()");w0Q&&"function"===typeof w0Q?this._onRequestComplete=w0Q:b6e.warn("AdManager.submitRequest(): callback function required");this._context.submitRequest(Y0Q/1E3);},onRequestComplete:function(c0Q){b6e.debug("AdManager.onRequestComplete("+Array.prototype.slice.call(arguments).join(",")+")");this._onRequestComplete&&(this._onRequestComplete({success:c0Q.success,response:c0Q.response}),this._onRequestComplete=null);},registerVideoDisplayBase:function(F0Q){b6e.debug("AdManager.registerVideoDisplayBase("+Array.prototype.slice.call(arguments).join(",")+")");this._context.registerVideoDisplayBase(F0Q);},setVideoAsset:function(R0Q,U0Q){b6e.debug("AdManager.setVideoAsset("+Array.prototype.slice.call(arguments).join(",")+")");this._context.setVideoAsset(R0Q,U0Q);},setSiteSection:function(q0Q){b6e.debug("AdManager.setSiteSection("+Array.prototype.slice.call(arguments).join(",")+")");this._context.setSiteSection(q0Q);},addKeyValue:function(o0Q,t0Q){b6e.debug("AdManager.addKeyValue("+Array.prototype.slice.call(arguments).join(",")+(1070!==(6140,9190)?")":(9.80e+3,false)));this._context.addKeyValue(o0Q,t0Q);},setVideoDisplayCompatibleSizes:function(l0Q){b6e.debug("AdManager.setVideoDisplayCompatibleSizes("+Array.prototype.slice.call(arguments).join(",")+")");this._context.setVideoDisplayCompatibleSizes(l0Q);},playSlots:function(G0Q,K0Q){var m0Q=G0Q;b6e.warn("AdManager.playSlots() has DEPRECATED, use tv.freewheel.SDK.Slot.Play() instead");b6e.debug("AdManager.playSlots("+G0Q+")");"string"===typeof G0Q&&(m0Q=G0Q.toUpperCase());this._playSlots(m0Q,K0Q);},_playSlots:function(g0Q,P0Q){var a0Q=P0Q;"function"!==typeof a0Q&&(a0Q=function(){});if(this._context._adResponse){var b0Q=[];P0Q=this._context.getTemporalSlots();for(var N0Q=0;N0Q<P0Q.length;++N0Q){var M0Q=P0Q[N0Q];(.1>Math.abs(M0Q.getTimePosition()-g0Q)||g0Q===M0Q.getTimePositionClass())&&b0Q.push(M0Q);}if(0===b0Q.length)b6e.warn("AdManager.playSlots","no slot matches",g0Q),a0Q();else if(g0Q===b6e.TIME_POSITION_CLASS_OVERLAY)for(N0Q=0;N0Q<b0Q.length;N0Q++)(function(x0Q){if(!x0Q._onContentVideoTimeUpdate){var L0Q=this._context.getContentVideoElement(),O0Q=x0Q._onContentVideoTimeUpdate=function(H0Q){b6e.log("_onContentVideoTimeUpdate: event.type = "+H0Q.type);!L0Q.paused&&!0!==L0Q._fw_videoAdPlaying&&0<=L0Q.currentTime-x0Q.getTimePosition()&&1>L0Q.currentTime-x0Q.getTimePosition()&&(L0Q.removeEventListener("timeupdate",O0Q,!1),x0Q._play(function(){var T0Q=setInterval(function(){!L0Q.paused&&2<Math.abs(L0Q.currentTime-x0Q.getTimePosition())&&(L0Q.addEventListener("timeupdate",O0Q,!1),clearInterval(T0Q));},1E3);}));};L0Q.addEventListener("timeupdate",O0Q,!1);}}(b0Q[N0Q]));else(function(){var d0Q=b0Q.shift();d0Q?d0Q._play(a0Q):a0Q();}());}else b6e.warn("AdManager._playSlots","request is not completed"),a0Q();},dispose:function(){b6e.debug("AdManager.dispose()");this._context.dispose();this._onRequestComplete=null;},cloneContext:function(v0Q){var V0Q=this.newContext(),p0Q=v0Q._adRequest._capabilities._capabilities,Z0Q;for(Z0Q in p0Q)p0Q.hasOwnProperty(Z0Q)&&V0Q.setCapability(Z0Q,p0Q[Z0Q]);V0Q.setProfile(v0Q._adRequest._playerProfile);V0Q.setSiteSection(v0Q._ss_id,v0Q._ss_networkId,v0Q._ss_pageViewRandom,v0Q._ss_idType,v0Q._ss_fallbackId);V0Q.setVideoAsset(v0Q._va_id,v0Q._va_duration,v0Q._va_networkId,v0Q._va_location,v0Q._va_autoPlayType,v0Q._va_viewRandom,v0Q._va_idType,v0Q._va_fallbackId,v0Q._va_durationType);V0Q.setVisitor(v0Q._adRequest._visitorCustomId,v0Q._adRequest._visitorIpV4Address);return V0Q;}};b6e.AdManager.prototype.constructor=b6e.AdManager;b6e.AdRequest=function(B0Q){this._context=B0Q;this._capabilities=new b6e.Capabilities();this._keyValues=[];this._playerProfile="";this._compatibleDimensions=null;this._temporalSlots=[];this._siteSectionId=this._siteSectionCustomId="";this._siteSectionNetworkId=0;this._siteSectionFallbackId="";this._siteSectionViewRandom=0;this._requestMode=this._visitorIpV4Address=this._visitorCustomId="";this._subsessionToken=this._requestDuration=0;this._candidateAdIds=[];this._slotScanner=new b6e.PageSlotScanner(B0Q);this._urlParams={};this._urlKeyValues=[];this._customInfo="";};b6e.AdRequest.prototype={setCapability:function(W0Q,z0Q){this._capabilities.setCapability(W0Q,z0Q);},addKeyValue:function(S0Q,e0Q){"string"!==typeof S0Q||"string"!==typeof e0Q||0===S0Q.length?b6e.warn("AdRequest.addKeyValue:","key and value required"):(S0Q=encodeURIComponent(S0Q)+"="+encodeURIComponent(e0Q),0>this._keyValues.indexOf(S0Q)&&this._keyValues.push(S0Q));},setProfile:function(n0Q){"string"!==typeof n0Q?b6e.warn("AdRequest.setProfile:","player profile required"):this._playerProfile=n0Q;},setVideoDisplayCompatibleSizes:function(s0Q){if(s0Q&&s0Q.length){for(var A0Q=[],Q0Q={},J0Q=0;J0Q<s0Q.length;++J0Q)if(b6e.debug("dimension is:",s0Q[J0Q].width,"X",s0Q[J0Q].height),0<s0Q[J0Q].width&&0<s0Q[J0Q].height){var j0Q=s0Q[J0Q].width+","+s0Q[J0Q].height;null==Q0Q[j0Q]&&(Q0Q[j0Q]="",A0Q.push(j0Q));}0<A0Q.length&&(this._compatibleDimensions=A0Q.join("|"));}else b6e.warn("AdRequest.setVideoDisplayCompatibleSizes:","compatible dimensions required");},setSiteSection:function(i0Q,I0Q,E0Q,y0Q,k0Q){if(i0Q){switch(y0Q){case b6e.ID_TYPE_FW:this._siteSectionId=i0Q;break;case b6e.ID_TYPE_GROUP:this._siteSectionId="g"+i0Q;break;default:this._siteSectionCustomId=i0Q;}0<1*I0Q&&(this._siteSectionNetworkId=1*I0Q);0<1*E0Q&&(this._siteSectionViewRandom=1*E0Q);"number"===typeof k0Q&&0<k0Q?this._siteSectionFallbackId=""+k0Q:"string"===typeof k0Q&&(this._siteSectionFallbackId=k0Q.trim());}else b6e.warn("AdRequest.setSiteSection: id required");},setVisitor:function(u1Q,r0Q){"string"!==typeof u1Q?b6e.warn("AdRequest.setVisitor:","customId required"):(this._visitorCustomId=u1Q,"string"===typeof r0Q&&""!==r0Q&&(this._visitorIpV4Address=r0Q));},setRequestMode:function(X1Q){X1Q!==b6e.REQUEST_MODE_ON_DEMAND&&X1Q!==b6e.REQUEST_MODE_LIVE?b6e.warn("AdRequest.setRequestMode:","unknown mode: "+X1Q):(this._requestMode=X1Q,this._requestMode===b6e.REQUEST_MODE_LIVE&&0===this._subsessionToken&&this.setSubsessionToken(1E4*Math.random()+1));},setRequestDuration:function(h1Q){"number"!==typeof h1Q?b6e.warn("AdRequest.setRequestDuration:","request duration required"):(0>h1Q&&(b6e.warn("AdRequest.setRequestDuration:","requestDuration is negative, reset it to 0"),h1Q=0),this._requestDuration=h1Q);},addCandidateAd:function(f1Q){"number"!==typeof f1Q?b6e.warn("AdRequest.addCandidateAd:","candidate ad ID required"):0>f1Q?b6e.warn("AdRequest.addCandidateAd","invalid ad ID, ignore"):this._candidateAdIds.push(f1Q);},addTemporalSlot:function(C1Q,w1Q,Y1Q,c1Q,F1Q,R1Q,U1Q,q1Q){if(b6e.Util.isBlank(C1Q)||b6e.Util.isBlank(w1Q)||0>Y1Q)b6e.warn("AdRequest.addTemporalSlot:","invalid parameters");else{for(var D1Q=0;D1Q<this._temporalSlots.length;D1Q++)if(this._temporalSlots[D1Q].getCustomId()===C1Q){b6e.warn("AdRequest.addTemporalSlot:","slot is already existed, ignored");return;}D1Q=new b6e.Slot(this._context);D1Q.setCustomId(C1Q);D1Q.setAdUnit(w1Q);D1Q.setTimePosition(Y1Q);D1Q.setSlotProfile(c1Q);D1Q.setCuepointSequence(1*F1Q);D1Q.setMaxDuration(R1Q);D1Q.setMinDuration(U1Q);D1Q.setAcceptContentType(q1Q);this._temporalSlots.push(D1Q);}},setSubsessionToken:function(o1Q){this._subsessionToken=o1Q;},scanPageSlots:function(){this._slotScanner.scanPageSlots();},generateTypeBRequestUrl:function(){var l1Q=this._context._adManager._serverURL.split("?"),t1Q=l1Q[0],m1Q=[/fwmrm\.net$/,/fwmrm\.net\/$/,/fwmrm\.net\/ad$/,/fwmrm\.net\/ad\/$/,/fwmrm\.net\/ad\/g$/,/fwmrm\.net\/ad\/g\/$/,/fwmrm\.net\/ad\/g\/1$/];if(0===t1Q.indexOf("http://")||0===t1Q.indexOf("https://"))for(var G1Q=0;G1Q<m1Q.length;++G1Q)if(t1Q.match(m1Q[G1Q])){t1Q=t1Q.slice(0,t1Q.indexOf("fwmrm.net")+9)+"/ad/g/1";break;}this.parseQueryStr(l1Q.slice(1).join("?"));l1Q=this.generateGlobalParametersQueryStr()+";"+this.generateKeyValuesStr()+";";this._capabilities.getCapability(b6e.CAPABILITY_SKIP_AD_SELECTION)&&1===this._capabilities.getCapability(b6e.CAPABILITY_SKIP_AD_SELECTION)||(l1Q+=this.generateSlotsTypeBStr());b6e.Util.isBlank(this._customInfo)||(l1Q+=";"+this._customInfo);return t1Q+"?"+l1Q;},generateVideoViewRequestUrlWithDummyContextInstanceId:function(N1Q){this._context.setCapability(b6e.CAPABILITY_REQUIRE_VIDEO_CALLBACK,b6e.CAPABILITY_STATUS_ON);this._context.setCapability(b6e.CAPABILITY_SKIP_AD_SELECTION,b6e.CAPABILITY_STATUS_ON);var K1Q=this.generateTypeBRequestUrl();K1Q=b6e.Util.setParameterInURL(K1Q,"cbfn","tv.freewheel.SDK._instanceQueue['Context_"+N1Q+"']._videoAsset.requestComplete");b6e.debug("generateVideoViewRequestUrlWithDummyContextInstanceId():"+K1Q);this._context.setCapability(b6e.CAPABILITY_REQUIRE_VIDEO_CALLBACK,b6e.CAPABILITY_STATUS_UNSET);this._context.setCapability(b6e.CAPABILITY_SKIP_AD_SELECTION,b6e.CAPABILITY_STATUS_UNSET);return K1Q;},parseQueryStr:function(M1Q){var a1Q=M1Q;b6e.debug("AdRequest.parseQueryStr("+Array.prototype.slice.call(arguments).join(",")+")");this._urlParams={};this._urlKeyValues=[];this._customInfo="";if(a1Q){";"===a1Q.charAt(a1Q.length-1)&&(a1Q=a1Q.substring(0,a1Q.length-1));a1Q=a1Q.split(";");var b1Q;if(a1Q[0]){var g1Q=a1Q[0].split(6890!==(5579,8590)?"&":254.43);for(b1Q=0;b1Q<g1Q.length;++b1Q){var P1Q=g1Q[b1Q].split("=");2===P1Q.length&&(this._urlParams[P1Q[0]]=P1Q[1]);}}if(a1Q[1])for(g1Q=a1Q[1].split("&"),b1Q=0;b1Q<g1Q.length;++b1Q)this._urlKeyValues.push(g1Q[b1Q]);a1Q[2]&&(this._customInfo=a1Q.slice(2).join(101!==764.64?";":"S"));}},generateGlobalParametersQueryStr:function(){b6e.debug("AdRequest.generateGlobalParametersQueryStr");var L1Q=this._context.getParameter("wrapperVersion");L1Q=[["prof",this._playerProfile,"string"],["nw",this._context._adManager._networkId,"number"],["caid",this._context._videoAsset._customId,"string"],["asid",this._context._videoAsset._id,"string"],["vdur",this._context._videoAsset._duration,"number"],["asnw",this._context._videoAsset._networkId,"number"],["asml",this._context._videoAsset._location,"string"],["vprn",this._context._videoAsset._viewRandom,"number"],["afid",this._context._videoAsset._fallbackId,"string"],["vdty",this._context._videoAsset._durationType,"string"],["vtpo",this._context._videoAsset._currentTpos,"number"],["csid",this._siteSectionCustomId,"string"],["ssid",this._siteSectionId,"string"],["ssnw",this._siteSectionNetworkId,"number"],["pvrn",this._siteSectionViewRandom,"number"],["sfid",this._siteSectionFallbackId,"string"],["vcid",this._visitorCustomId,"string"],["mode",this._requestMode,"string"],["vrdu",this._requestDuration,"number"],["ssto",this._subsessionToken,"number"],["cd",this._compatibleDimensions||this.detectScreenDimension(),"string"],["vclr",b6e.version+(L1Q?","+L1Q:""),"string"],["resp",b6e.PLATFORM_SEND_REQUEST_BY_FORM?"json2":"json","string"],["orig",window.location.protocol+"//"+window.location.host,"string"],["cbfn","tv.freewheel.SDK._instanceQueue['Context_"+this._context._instanceId+"'].requestComplete","string"],["vip",this._visitorIpV4Address,"string"],["cana",this._candidateAdIds.join(","),"string"]];for(var H1Q=0;H1Q<L1Q.length;H1Q++){var x1Q=L1Q[H1Q];switch(x1Q[2]){case"string":b6e.Util.isBlank(x1Q[1])||(this._urlParams[x1Q[0]]=encodeURIComponent(x1Q[1]));break;case"number":0<x1Q[1]&&(this._urlParams[x1Q[0]]=x1Q[1]);}}L1Q="";for(var O1Q in this._urlParams)this._urlParams.hasOwnProperty(O1Q)&&(L1Q+=O1Q+"="+this._urlParams[O1Q]+"&");L1Q=L1Q.substring(0,L1Q.length-1);0<this._slotScanner._candidateAds.length&&(null==this._capabilities._capabilities[b6e.CAPABILITY_CHECK_COMPANION]&&this._capabilities.setCapability(b6e.CAPABILITY_CHECK_COMPANION,b6e.CAPABILITY_STATUS_ON),null==this._capabilities._capabilities[b6e.CAPABILITY_CHECK_TARGETING]&&this._capabilities.setCapability(b6e.CAPABILITY_CHECK_TARGETING,b6e.CAPABILITY_STATUS_OFF));this._context._videoAsset._eventCallback||this._context._videoAsset._requestedVideoViewUrl||!this._context._videoAsset._id&&!this._context._videoAsset._customId||this._context.setCapability(b6e.CAPABILITY_REQUIRE_VIDEO_CALLBACK,b6e.CAPABILITY_STATUS_ON);this._capabilities._capabilities[b6e.CAPABILITY_DISPLAY_REFRESH]&&this._context.setCapability(b6e.CAPABILITY_REQUIRE_VIDEO_CALLBACK,b6e.CAPABILITY_STATUS_OFF);L1Q=this._capabilities.parseCapabilities(L1Q);this._context.setCapability(b6e.CAPABILITY_REQUIRE_VIDEO_CALLBACK,b6e.CAPABILITY_STATUS_UNSET);switch(this._context._videoAsset._autoPlayType){case b6e.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED:O1Q="+play+uapl";break;case b6e.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE:O1Q="-play";break;default:O1Q="+play-uapl";}return L1Q=L1Q.replace(/flag=/,"flag="+encodeURIComponent(O1Q));},generateKeyValuesStr:function(){b6e.debug("AdRequest.generateKeyValuesStr");var T1Q=b6e.Util.flashVersion();T1Q=this._keyValues.concat(["_fw_h_x_flash_version="+encodeURIComponent(T1Q),"_fw_dpr="+(void 0===window.devicePixelRatio?"1":window.devicePixelRatio.toFixed(2).toString())]);for(var d1Q=0;d1Q<this._urlKeyValues.length;d1Q++){var v1Q=this._urlKeyValues[d1Q];0>T1Q.indexOf(v1Q)&&T1Q.push(v1Q);}(d1Q=this._context._adManager._location)&&T1Q.push("ltlg="+encodeURIComponent(Math.round(1E4*d1Q.coords.latitude)/1E4+","+Math.round(1E4*d1Q.coords.longitude)/1E4));return T1Q.join("&");},generateSlotsTypeBStr:function(){b6e.debug("AdRequest.generateSlotsTypeBStr");for(var S1Q="",B1Q=[],W1Q=0;W1Q<this._temporalSlots.length;W1Q++){var V1Q=this._temporalSlots[W1Q];V1Q=[["slid",V1Q.getCustomId(),"string"],["slau",V1Q.getAdUnit(),"string"],["ptgt","a","string"],["tpos",V1Q.getTimePosition(),"number"],["cpsq",V1Q.getCuepointSequence(),"number"],["envp",V1Q.getSlotProfile(),"string"],["maxd",V1Q.getMaxDuration(),"number"],["mind",V1Q.getMinDuration(),"number"],["prct",V1Q.getAcceptContentType(),"string"]];for(var Z1Q=[],z1Q=0;z1Q<V1Q.length;z1Q++){var p1Q=V1Q[z1Q];switch(p1Q[2]){case"string":b6e.Util.isBlank(p1Q[1])||Z1Q.push(p1Q[0]+"="+encodeURIComponent(p1Q[1]));break;case"number":-1<["cpsq","maxd","mind"].indexOf(p1Q[0])?0<p1Q[1]&&Z1Q.push(p1Q[0]+"="+p1Q[1]):0<=p1Q[1]&&Z1Q.push(p1Q[0]+"="+p1Q[1]);}}B1Q.push(Z1Q.join("&"));}0<B1Q.length&&(S1Q=B1Q.join(";")+";");return S1Q+=this._slotScanner.slotsToTypeBStr();},detectScreenDimension:function(){b6e.debug("AdRequest.detectScreenDimension:",screen.width+","+screen.height);return screen.width+","+screen.height;}};b6e.AdResponse=function(e1Q){this._context=e1Q;};b6e.AdResponse.prototype={};b6e.AdResponse.prototype.constructor=b6e.AdResponse;b6e.Util.mixin(b6e.AdResponse.prototype,{parse:function(A1Q,j1Q){this._data=A1Q;this._temporalSlots=[];this._videoPlayerNonTemporalSlots=[];this._siteSectionNonTemporalSlots=[];this._profileParameters={};this._ads=[];this._siteSectionCustomId=b6e.Util.getObject("siteSection.customId",A1Q)||"";this._adRenderers=[];var n1Q;var J1Q=b6e.Util.getObject("parameters",A1Q)||[];for(n1Q=0;n1Q<J1Q.length;++n1Q){var s1Q=J1Q[n1Q];this._profileParameters[s1Q.name]=s1Q.value;}this._adRenderers=b6e.Util.getObject("rendererManifest.adRenderers.adRenderer",A1Q)||[];for(n1Q=0;n1Q<this._adRenderers.length;n1Q++)"undefined"!==typeof this._adRenderers[n1Q].adUnit&&(this._adRenderers[n1Q].baseUnit=this._adRenderers[n1Q].adUnit,delete this._adRenderers[n1Q].adUnit);J1Q=b6e.Util.getObject("ads.ads",A1Q)||[];for(n1Q=0;n1Q<J1Q.length;++n1Q)s1Q=new b6e.Ad(this._context),s1Q.parse(J1Q[n1Q]),this._ads.push(s1Q);J1Q=b6e.Util.getObject("siteSection.videoPlayer.videoAsset.adSlots",A1Q)||[];for(n1Q=0;n1Q<J1Q.length;++n1Q)s1Q=new b6e.Slot(this._context),s1Q.setType(b6e.SLOT_TYPE_TEMPORAL),s1Q.setBase(j1Q),s1Q.parse(J1Q[n1Q]),this._temporalSlots.push(s1Q);J1Q=b6e.Util.getObject("siteSection.videoPlayer.adSlots",A1Q)||[];for(n1Q=0;n1Q<J1Q.length;++n1Q)s1Q=new b6e.Slot(this._context),s1Q.setType(b6e.SLOT_TYPE_VIDEOPLAYER_NONTEMPORAL),s1Q.setTimePositionClass(b6e.TIME_POSITION_CLASS_DISPLAY),s1Q.parse(J1Q[n1Q]),this._initSlotData(s1Q),this._videoPlayerNonTemporalSlots.push(s1Q);J1Q=b6e.Util.getObject("siteSection.adSlots",A1Q)||[];for(n1Q=0;n1Q<J1Q.length;++n1Q)s1Q=new b6e.Slot(this._context),s1Q.setType(b6e.SLOT_TYPE_SITESECTION_NONTEMPORAL),s1Q.setTimePositionClass(b6e.TIME_POSITION_CLASS_DISPLAY),s1Q.parse(J1Q[n1Q]),this._initSlotData(s1Q),this._siteSectionNonTemporalSlots.push(s1Q);A1Q=b6e.Util.getObject("siteSection.videoPlayer.videoAsset",A1Q)||{};this._context._videoAsset.parse(A1Q);},getCreative:function(Q1Q,k1Q){return(Q1Q=this.getAd(Q1Q))?Q1Q.getCreative(k1Q):null;},getAd:function(E1Q){for(var i1Q=0;i1Q<this._ads.length;i1Q++){var I1Q=this._ads[i1Q];if(I1Q.getId()===E1Q)return I1Q;}return null;},getTemporalSlots:function(){return this._temporalSlots;},getSiteSectionNonTemporalSlots:function(){return this._siteSectionNonTemporalSlots;},getVideoPlayerNonTemporalSlots:function(){return this._videoPlayerNonTemporalSlots;},getSiteSectionCustomId:function(){return this._siteSectionCustomId;},getSlotByCustomId:function(r1Q){for(var y1Q=0;y1Q<this._temporalSlots.length;++y1Q)if(this._temporalSlots[y1Q].getCustomId()===r1Q)return this._temporalSlots[y1Q];for(y1Q=0;y1Q<this._videoPlayerNonTemporalSlots.length;++y1Q)if(this._videoPlayerNonTemporalSlots[y1Q].getCustomId()===r1Q)return this._videoPlayerNonTemporalSlots[y1Q];for(y1Q=0;y1Q<this._siteSectionNonTemporalSlots.length;++y1Q)if(this._siteSectionNonTemporalSlots[y1Q].getCustomId()===r1Q)return this._siteSectionNonTemporalSlots[y1Q];b6e.warn("getSlotByCustomId(): not found",r1Q);return null;},_initSlotData:function(X4Q){for(var h4Q=!1,f4Q=0;f4Q<this._context._adRequest._slotScanner._knownSlots.length;f4Q++){var u4Q=this._context._adRequest._slotScanner._knownSlots[f4Q];if(X4Q.getCustomId()===u4Q.id&&u4Q.element){X4Q.setWidth(u4Q.width);X4Q.setHeight(u4Q.height);X4Q.setBase(u4Q.element);X4Q.setAcceptCompanion(u4Q.acceptCompanion);X4Q.setInitialAdOption(u4Q.initialAdOption);h4Q=!0;break;}}h4Q||b6e.warn("Failed to init slot "+X4Q.getCustomId());return h4Q;}});b6e.Capabilities=function(){this._capabilities={};this.init();};b6e.Capabilities.prototype={init:function(){for(var C4Q=[b6e.CAPABILITY_SLOT_TEMPLATE,b6e.CAPABILITY_MULTIPLE_CREATIVE_RENDITIONS,b6e.CAPABILITY_FALLBACK_UNKNOWN_ASSET,b6e.CAPABILITY_FALLBACK_UNKNOWN_SITE_SECTION,b6e.CAPABILITY_FALLBACK_ADS,b6e.CAPABILITY_SLOT_CALLBACK,b6e.CAPABILITY_NULL_CREATIVE,b6e.CAPABILITY_AUTO_EVENT_TRACKING,b6e.CAPABILITY_RENDERER_MANIFEST],D4Q=0;D4Q<C4Q.length;D4Q++)this._capabilities[C4Q[D4Q]]=b6e.CAPABILITY_STATUS_ON;},setCapability:function(w4Q,Y4Q){this._capabilities[w4Q]=Y4Q;},getCapability:function(c4Q){return this._capabilities[c4Q];},parseCapabilities:function(R4Q){var F4Q="",U4Q;for(U4Q in this._capabilities)if(this._capabilities.hasOwnProperty(U4Q)){switch(this._capabilities[U4Q]){case b6e.CAPABILITY_STATUS_ON:F4Q+="+"+U4Q;break;case b6e.CAPABILITY_STATUS_OFF:F4Q+="-"+U4Q;}R4Q=R4Q.replace(new RegExp("(%2B|-|\\+)"+U4Q,(9642,1230)>999.1?"g":"V"),"");}F4Q=encodeURIComponent(F4Q);return R4Q=-1<R4Q.indexOf("flag=")?R4Q.replace(/flag=/,"flag="+F4Q):R4Q+("&flag="+F4Q);}};b6e.ContentVideoExtension=function(){this.autoSourceRestore=this.respondPauseResume=!0;this._originalTime=0;this._contentVideoControls=this._contentVideoSrc=null;};b6e.ContentVideoExtension.prototype={_isEnabled:function(){var q4Q=this._context.getParameter(b6e.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED);return(null==q4Q||!0===b6e.Util.str2bool(q4Q))&&null!=this._context.getContentVideoElement();},_getBooleanParameter:function(o4Q,t4Q){o4Q=this._context.getParameter(o4Q);null==o4Q&&(o4Q=t4Q);return b6e.Util.str2bool(o4Q);},init:function(l4Q){b6e.debug("ContentVideoExtension.init(context)");this._context=l4Q;this._fixContentVideoCurrentTime=b6e.Util.bind(this,function(G4Q){b6e.log("_fixContentVideoCurrentTime: event = "+G4Q.type);if(!(0>=this._context.getContentVideoElement().currentTime||0>=this._context.getContentVideoElement().seekable.length)&&(this._context.getContentVideoElement().removeEventListener("timeupdate",this._fixContentVideoCurrentTime,!1),0<this._context.getContentVideoElement().currentTime&&1>this._context.getContentVideoElement().currentTime&&1<this._originalTime)){b6e.log("ContentVideoExtension: seeking to original time",this._originalTime);try{this._context.getContentVideoElement().currentTime=this._originalTime;}catch(m4Q){b6e.warn("ContentVideoExtension: seek error");}}});this._pause=b6e.Util.bind(this,function(K4Q){b6e.log("_pause: event = "+K4Q.type);this._isEnabled()?this._respondPauseResume()&&(b6e.debug("ContentVideoExtension: EVENT_CONTENT_VIDEO_PAUSE_REQUEST pausing content video",this._context.getContentVideoElement().src),this._originalTime=this._context.getContentVideoElement().currentTime,this._context.getContentVideoElement().pause()):b6e.debug("ContentVideoExtension: extension is not enabled, do nothing.");});this._resume=b6e.Util.bind(this,function(N4Q){b6e.log("_resume: event = "+N4Q.type);this._isEnabled()?this._respondPauseResume()&&(b6e.debug("ContentVideoExtension: EVENT_CONTENT_VIDEO_RESUME_REQUEST resume content video",this._context.getContentVideoElement().src),!this._context._videoAsset||null!=this._context._videoAsset._state&&this._context._videoAsset._state!==b6e.VIDEO_STATE_COMPLETED?(b6e.log("ContentVideoExtension: resume content video"),this._context.getContentVideoElement().play(),b6e.PLATFORM_AUTO_SEEK_AFTER_MIDROLL&&!0===this._getBooleanParameter(b6e.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SEEK_BACK,!0)&&this._context.getContentVideoElement().addEventListener("timeupdate",this._fixContentVideoCurrentTime,!1)):b6e.warn("ContentVideoExtension: video state is uninitialized or completed, skip resume.")):b6e.debug("ContentVideoExtension: extension is not enabled, do nothing.");});this._onAttach=b6e.Util.bind(this,function(a4Q){if(!this._isEnabled())b6e.debug("ContentVideoExtension: extension is not enabled, do nothing.");else if(this._autoSourceRestore())switch(a4Q.slot.getTimePositionClass()){case b6e.TIME_POSITION_CLASS_PREROLL:case b6e.TIME_POSITION_CLASS_POSTROLL:b6e.debug("ContentVideoExtension: store current content video src",this._context.getContentVideoElement().src),this._contentVideoSrc=this._context.getContentVideoElement().src,this._contentVideoControls=this._context.getContentVideoElement().controls,this._context.getContentVideoElement().paused||this._context.getContentVideoElement().pause();}});this._onDetach=b6e.Util.bind(this,function(b4Q){if(!this._isEnabled())b6e.debug("ContentVideoExtension: extension is not enabled, do nothing.");else if(this._autoSourceRestore())switch(b4Q=b4Q.slot.getTimePositionClass(),b4Q){case b6e.TIME_POSITION_CLASS_PREROLL:case b6e.TIME_POSITION_CLASS_POSTROLL:b6e.debug("ContentVideoExtension: restore content video src to",this._contentVideoSrc),this._context.getContentVideoElement().src!==this._contentVideoSrc&&(this._context.getContentVideoElement().src=this._contentVideoSrc),this._context.getContentVideoElement().controls=this._contentVideoControls,b4Q===b6e.TIME_POSITION_CLASS_PREROLL&&this._context.getContentVideoElement().load();}});b6e.debug("ContentVideoExtension: enabling content video pause resume request handling.");this._context.addEventListener(b6e.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this._pause);this._context.addEventListener(b6e.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this._resume);b6e.debug("ContentVideoExtension: enabling content video source management.");this._context.addEventListener(b6e.EVENT_SLOT_STARTED,this._onAttach);this._context.addEventListener(b6e.EVENT_SLOT_ENDED,this._onDetach);},_respondPauseResume:function(){return this._getBooleanParameter(b6e.PARAMETER_EXTENSION_CONTENT_VIDEO_RESPOND_PAUSE_RESUME,!0);},_autoSourceRestore:function(){return this._getBooleanParameter(b6e.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,!0);},dispose:function(){b6e.debug("ContentVideoExtension.dispose()");this._context&&(this._context.removeEventListener(b6e.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this._pause),this._context.removeEventListener(b6e.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this._resume),this._context.removeEventListener(b6e.EVENT_SLOT_STARTED,this._onAttach),this._context.removeEventListener(b6e.EVENT_SLOT_ENDED,this._onDetach),this._context=null);}};b6e.ContentVideoExtension.prototype.constructor=b6e.ContentVideoExtension;b6e._instanceCounter=0;b6e._instanceQueue={};b6e.Context=function(g4Q){this._adManager=g4Q;this._eventDispatcher=new b6e.EventDispatcher();this._adRequest=new b6e.AdRequest(this);this._adResponse=null;this._videoAsset=new b6e.VideoAsset(this);this._temporalSlotBase=null;this._videoDisplaySize={};this._globalLevelParameterDictionary={};this._overrideLevelParameterDictionary={};this._rendererManifest={};this._overriddenAdRenderers=[];this._extensionManager=new b6e.ExtensionManager(this);this._totalSetDisplaySizeCount=this._autoSetDisplaySizeCount=this._requestState=0;this._instanceId=b6e._instanceCounter;b6e._instanceQueue["Context_"+b6e._instanceCounter]=this;b6e._instanceCounter++;this._contentVideoAttached=!1;this._currentContentPlayheadTime=0;this._ss_id="";this._ss_networkId=this._ss_pageViewRandom=0;this._ss_idType=b6e.ID_TYPE_CUSTOM;this._va_location=this._va_networkId=this._va_duration=this._va_id=this._ss_fallbackId="";this._va_autoPlayType=b6e.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED;this._va_fallbackId="";this._va_viewRandom=0;this._va_idType=b6e.ID_TYPE_CUSTOM;this._va_durationType=b6e.VIDEO_ASSET_DURATION_TYPE_EXACT;this._isRefreshRequest=!1;this._refreshSlots=[];this._adVolume=1;this._onVolumeChange=this.__onVolumeChange.bind(this);};b6e.Context.prototype={getAdVolume:function(){return this._adVolume;},setAdVolume:function(P4Q){b6e.debug("Context.setAdVolume",P4Q);if(this.getContentVideoElement())if("number"!==typeof P4Q||0>P4Q||1<P4Q)b6e.debug("Invalid volume: "+P4Q);else if((b6e.PLATFORM_IS_IPHONE_IPOD||b6e.PLATFORM_IS_IPAD)&&0<P4Q&&1>P4Q)b6e.debug("iOS doesn't allow volume values other than 0 and 1, ignore.");else if(P4Q===this._adVolume)b6e.debug("Volume did not change, ignore.");else{this._adVolume=P4Q;P4Q=this.getTemporalSlots();for(var L4Q=0;L4Q<P4Q.length;++L4Q){var M4Q=P4Q[L4Q];if(M4Q.getType()===b6e.SLOT_TYPE_TEMPORAL&&M4Q.getState()!==b6e.MediaInitState.instance&&M4Q.getState()!==b6e.MediaEndState.instance&&(M4Q=M4Q.getCurrentAdInstance())){M4Q.setVolume(this._adVolume);break;}}}else b6e.debug("No video element set, ignore.");},__onVolumeChange:function(x4Q){b6e.debug("Context._onVolumeChange(): event = "+x4Q.type);b6e.debug("Context._onVolumeChange(): video element is muted: "+this.getContentVideoElement().muted);0!==this._adVolume||this.getContentVideoElement().muted?this.setAdVolume(this.getContentVideoElement().muted?0:this.getContentVideoElement().volume):this.setAdVolume(this.getContentVideoElement().volume);},addRenderer:function(O4Q,H4Q,T4Q,d4Q,v4Q,V4Q,p4Q){this._overriddenAdRenderers.push({url:O4Q,baseUnit:H4Q,contentType:T4Q,creativeApi:V4Q,slotType:d4Q,soAdUnit:v4Q,parameter:p4Q});},setCapability:function(Z4Q,B4Q){b6e.debug("Context.setCapability",Z4Q,B4Q);this._adRequest.setCapability(Z4Q,B4Q);},addKeyValue:function(W4Q,z4Q){b6e.debug("Context.addKeyValue",W4Q,z4Q);this._adRequest.addKeyValue(W4Q,z4Q);},setParameter:function(e4Q,n4Q,S4Q){b6e.debug("Context.setParameter",e4Q,n4Q,S4Q);if(S4Q===b6e.PARAMETER_LEVEL_GLOBAL)S4Q=this._globalLevelParameterDictionary;else if(S4Q===b6e.PARAMETER_LEVEL_OVERRIDE)S4Q=this._overrideLevelParameterDictionary;else return;null==n4Q?delete S4Q[e4Q]:S4Q[e4Q]=n4Q;},getParameter:function(s4Q){return s4Q?this._overrideLevelParameterDictionary.hasOwnProperty(s4Q)?this._overrideLevelParameterDictionary[s4Q]:this._adResponse&&this._adResponse._profileParameters.hasOwnProperty(s4Q)?this._adResponse._profileParameters[s4Q]:this._globalLevelParameterDictionary.hasOwnProperty(s4Q)?this._globalLevelParameterDictionary[s4Q]:null:null;},setVideoState:function(J4Q){b6e.debug("Context.setVideoState",J4Q);this._videoAsset.setVideoState(J4Q);},registerVideoDisplayBase:function(A4Q){b6e.debug("Context.registerVideoDisplayBase",A4Q);if(A4Q&&"string"===typeof A4Q){if(this._temporalSlotBase&&this._temporalSlotBase.id===A4Q){b6e.debug("Context.registerVideoDisplayBase","register the same display base, will only change size");var j4Q=this._temporalSlotBase.getElementsByTagName("video");}else{this._temporalSlotBase&&this.getContentVideoElement().removeEventListener("volumechange",this._onVolumeChange);this._temporalSlotBase=document.getElementById(A4Q);if(!this._temporalSlotBase){b6e.warn("Context.registerVideoDisplayBase","could not get element",A4Q);return;}j4Q=this._temporalSlotBase.getElementsByTagName("video");if(0===j4Q.length){b6e.warn("Context.registerVideoDisplayBase","could not get video element from",A4Q);this._temporalSlotBase=null;return;}this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=j4Q[0];this.getContentVideoElement().addEventListener("volumechange",this._onVolumeChange);this._adVolume=j4Q[0].muted?0:j4Q[0].volume;}this._setVideoDisplaySizeByContentVideo(j4Q[0]);}else b6e.warn("Context.registerVideoDisplayBase","id required");},setContentVideoElement:function(Q4Q){b6e.debug("Context.setContentVideoElement()");if(Q4Q&&Q4Q.parentNode){var k4Q=this._temporalSlotBase;this._temporalSlotBase=Q4Q.parentNode;this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]===Q4Q?b6e.debug("Context.setContentVideoElement","set the same video in same div, will only change size"):(k4Q&&k4Q["_fw_contentVideo_"+this._instanceId]&&k4Q["_fw_contentVideo_"+this._instanceId].removeEventListener("volumechange",this._onVolumeChange),this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=Q4Q,this.getContentVideoElement().addEventListener("volumechange",this._onVolumeChange),this._adVolume=this.getContentVideoElement().muted?0:this.getContentVideoElement().volume);this._setVideoDisplaySizeByContentVideo(Q4Q);}else b6e.warn("Context.setContentVideoElement","contentVideo and contentVideo.parentNode is required");},getContentVideoElement:function(){return this._temporalSlotBase?this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]:(b6e.warn("SlotBase is null"),null);},setVideoDisplaySize:function(u6Q,X6Q,y4Q,r4Q,h6Q){b6e.debug("Context.setVideoDisplaySize("+Array.prototype.slice.call(arguments).join(",")+")");this._totalSetDisplaySizeCount++;this._videoDisplaySize={left:u6Q,top:X6Q,width:y4Q,height:r4Q,position:h6Q};for(var i4Q=this.getTemporalSlots(),E4Q=0;E4Q<i4Q.length;++E4Q){var I4Q=i4Q[E4Q];I4Q.setWidth(y4Q);I4Q.setHeight(r4Q);if(I4Q.getState()===b6e.MediaPlayingState.instance||I4Q.getState()===b6e.MediaReplayingState.instance){if(i4Q=I4Q.getCurrentAdInstance())(i4Q=i4Q.getRendererController().getRenderer())&&i4Q.resize?i4Q.resize():b6e.debug("renderer do not support resize");break;}}},getVideoDisplaySize:function(){this._videoDisplaySize.left=f6Q(this._videoDisplaySize.left);this._videoDisplaySize.right=f6Q(this._videoDisplaySize.right);this._videoDisplaySize.width=f6Q(this._videoDisplaySize.width);this._videoDisplaySize.height=f6Q(this._videoDisplaySize.height);function f6Q(D6Q){D6Q=parseInt(D6Q,10);isNaN(D6Q)&&(D6Q=0);return D6Q;}return this._videoDisplaySize;},setVideoDisplayCompatibleSizes:function(C6Q){b6e.debug("Context.setVideoDisplayCompatibleSizes",C6Q);this._adRequest.setVideoDisplayCompatibleSizes(C6Q);},resize:function(w6Q,Y6Q){b6e.debug("Context.resize("+Array.prototype.slice.call(arguments).join(",")+")");if(!this._temporalSlotBase)return b6e.warn("SlotBase is null"),null;this.setVideoDisplaySize(this._videoDisplaySize.left,this._videoDisplaySize.right,w6Q,Y6Q,this._videoDisplaySize.position);},setProfile:function(c6Q){b6e.debug("Context.setProfile",c6Q);this._adRequest.setProfile(c6Q);},setVideoAsset:function(F6Q,R6Q,U6Q,q6Q,o6Q,t6Q,l6Q,G6Q,m6Q){b6e.debug("Context.setVideoAsset("+Array.prototype.slice.call(arguments).join(",")+")");this._videoAsset.setVideoAsset(F6Q,R6Q,U6Q,q6Q,o6Q,t6Q,l6Q,G6Q,m6Q);this._va_id=F6Q;this._va_duration=R6Q;this._va_networkId=U6Q;this._va_location=q6Q;this._va_autoPlayType=o6Q;this._va_viewRandom=t6Q;this._va_idType=l6Q;this._va_fallbackId=G6Q;this._va_durationType=m6Q;},setVideoAssetCurrentTimePosition:function(K6Q){b6e.debug("Context.setVideoAssetCurrentTimePosition("+K6Q+(5420!=(362.49,705.43)?")":9.69e+3));this._videoAsset.setVideoAssetCurrentTimePosition(K6Q);},setSiteSection:function(N6Q,a6Q,b6Q,g6Q,P6Q){b6e.debug("Context.setSiteSection("+Array.prototype.slice.call(arguments).join(",")+")");this._adRequest.setSiteSection(N6Q,a6Q,b6Q,g6Q,P6Q);this._ss_id=N6Q;this._ss_networkId=a6Q;this._ss_pageViewRandom=b6Q;this._ss_idType=g6Q;this._ss_fallbackId=P6Q;},setVisitor:function(M6Q,L6Q){b6e.debug("Context.setVisitor("+Array.prototype.slice.call(arguments).join(",")+")");this._adRequest.setVisitor(M6Q,L6Q);},startSubsession:function(x6Q){b6e.debug("Context.startSubsession("+x6Q+")");this._adRequest.setSubsessionToken(x6Q);},setRequestMode:function(O6Q){b6e.debug("Context.setRequestMode("+O6Q+")");this._adRequest.setRequestMode(O6Q);},setRequestDuration:function(H6Q){b6e.debug("Context.setRequestDuration("+H6Q+")");this._adRequest.setRequestDuration(H6Q);},addCandidateAd:function(T6Q){b6e.debug("Context.addCandidateAd("+T6Q+")");this._adRequest.addCandidateAd(T6Q);},addTemporalSlot:function(d6Q,v6Q,V6Q,p6Q,Z6Q,B6Q,W6Q,z6Q){b6e.debug("Context.addTemporalSlot("+Array.prototype.slice.call(arguments).join(",")+")");this._adRequest.addTemporalSlot(d6Q,v6Q,V6Q,p6Q,Z6Q,B6Q,W6Q,z6Q);},getTemporalSlots:function(){return this._adResponse?this._adResponse._temporalSlots.slice():[];},getSlotByCustomId:function(S6Q){return this._adResponse?this._adResponse.getSlotByCustomId(S6Q):null;},getSlotsByTimePositionClass:function(s6Q){var n6Q=[],e6Q;if(this._adResponse){for(e6Q=0;e6Q<this._adResponse._temporalSlots.length;e6Q++)this._adResponse._temporalSlots[e6Q].getTimePositionClass()===s6Q&&n6Q.push(this._adResponse._temporalSlots[e6Q]);for(e6Q=0;e6Q<this._adResponse._siteSectionNonTemporalSlots.length;e6Q++)this._adResponse._siteSectionNonTemporalSlots[e6Q].getTimePositionClass()===s6Q&&n6Q.push(this._adResponse._siteSectionNonTemporalSlots[e6Q]);for(e6Q=0;e6Q<this._adResponse._videoPlayerNonTemporalSlots.length;e6Q++)this._adResponse._videoPlayerNonTemporalSlots[e6Q].getTimePositionClass()===s6Q&&n6Q.push(this._adResponse._videoPlayerNonTemporalSlots[e6Q]);}return n6Q;},submitRequest:function(E6Q){b6e.debug("Context.submitRequest",A6Q);this.dispatchEvent(b6e.EVENT_REQUEST_INITIATED,{});if(this._requestState)b6e.warn("Context.submitRequest: request already submitted");else if(b6e.Util.isBlank(this._adManager._serverURL))b6e.warn("Context.submitRequest: serverURL is not set");else{this._requestState=1;this._adRequest.scanPageSlots();if(this._isRefreshRequest){var J6Q={};A6Q=[];var I6Q,j6Q;for(I6Q=0;I6Q<this._refreshSlots.length;I6Q++){var k6Q=this._refreshSlots[I6Q];if(void 0!==this._adRequest._slotScanner._slots[k6Q]){J6Q[k6Q]=this._adRequest._slotScanner._slots[k6Q];var Q6Q=J6Q[k6Q].split("&");for(j6Q=0;j6Q<Q6Q.length;j6Q++)-1!==Q6Q[j6Q].search("flag")&&(Q6Q[j6Q]="flag=-cmpn");J6Q[k6Q]=Q6Q.join("&");}for(j6Q=0;j6Q<this._adRequest._slotScanner._knownSlots.length;j6Q++)this._adRequest._slotScanner._knownSlots[j6Q].id===k6Q&&(Q6Q=this._adRequest._slotScanner._knownSlots[j6Q],Q6Q.acceptCompanion=!1,Q6Q.initialAdOption=b6e.SLOT_OPTION_INITIAL_AD_STAND_ALONE,A6Q.push(Q6Q));}this._adRequest._slotScanner._slots=J6Q;this._adRequest._slotScanner._knownSlots=A6Q;}this.getParameter(b6e.PARAMETER_ENABLE_FORM_TRANSPORT)&&(b6e.debug("Context.submitRequest: enabling Safari transport mechanism globally"),b6e.PLATFORM_SEND_REQUEST_BY_FORM=!0);J6Q=this._adManager._serverURL;".js"!==J6Q.substring(J6Q.length-3,J6Q.length)&&(J6Q=this._adRequest.generateTypeBRequestUrl());var i6Q=this,A6Q=E6Q;if("number"!==typeof A6Q||0>=A6Q||!A6Q)A6Q=5;setTimeout(function(){1===i6Q._requestState&&(b6e.warn("Context.submitRequest: request timeout"),i6Q.requestComplete(null));},1E3*A6Q);b6e.log("Context.submitRequest: sending request to",J6Q,"timeout",A6Q);b6e.PLATFORM_SEND_REQUEST_BY_FORM?(b6e.debug("Context.submitRequest:","use json2"),b6e.Util.pingURLWithForm(J6Q,this._instanceId,!0),i6Q._onMessagePosted=function(y6Q){"object"===typeof y6Q.data&&y6Q.data.hasOwnProperty("cbfn")&&-1<y6Q.data.cbfn.indexOf("['Context_"+i6Q._instanceId+"']")&&i6Q.requestComplete(y6Q.data.response);},window.addEventListener("message",i6Q._onMessagePosted,!1)):b6e.Util.pingURLWithScript(J6Q);}},requestComplete:function(r6Q){if(1!==this._requestState)b6e.warn("ad request complete after timeout"),this.dispatchEvent(b6e.EVENT_REQUEST_COMPLETE,{success:!1});else{this._requestState=2;b6e.debug("Context.requestComplete");if(b6e.PLATFORM_SEND_REQUEST_BY_FORM){window.removeEventListener("message",this._onMessagePosted,!1);var u2Q=document.getElementById("_fw_request_iframe_"+this._instanceId);document.body.removeChild(u2Q);}if(null!=r6Q){b6e._instanceQueue["Context_"+this._instanceId]=null;this._adResponse=new b6e.AdResponse(this);this._adResponse.parse(r6Q,this._temporalSlotBase);b6e.log("Ad request succeeded");u2Q=(this._adResponse._profileParameters.autoloadExtensions||"").split(",");for(var X2Q=0;X2Q<u2Q.length;X2Q++){var h2Q=u2Q[X2Q].trim();b6e.log("Loading extension: "+h2Q);this.loadExtension(h2Q);}this.dispatchEvent(b6e.EVENT_REQUEST_COMPLETE,{success:!0,response:r6Q});u2Q=this._adResponse.getSiteSectionNonTemporalSlots();for(r6Q=0;r6Q<u2Q.length;++r6Q)b6e.log("Auto play site section nonTemporal slots"),u2Q[r6Q].play();u2Q=this._adResponse.getVideoPlayerNonTemporalSlots();for(r6Q=0;r6Q<u2Q.length;++r6Q)b6e.log("Auto play video player nonTemporal slots"),u2Q[r6Q].play();}else b6e.warn("Ad request failed"),this.dispatchEvent(b6e.EVENT_REQUEST_COMPLETE,{success:!1});}},addEventListener:function(f2Q,D2Q){b6e.debug("Context.addEventListener",f2Q);this._eventDispatcher.addEventListener(f2Q,D2Q);},removeEventListener:function(C2Q,w2Q){b6e.debug("Context.removeEventListener",C2Q);this._eventDispatcher.removeEventListener(C2Q,w2Q);},dispatchEvent:function(F2Q,c2Q){b6e.log("Context.dispatchEvent",F2Q);if(F2Q===b6e.EVENT_SLOT_STARTED){var Y2Q=c2Q.slot.getTimePositionClass();if(Y2Q===b6e.TIME_POSITION_CLASS_PREROLL||Y2Q===b6e.TIME_POSITION_CLASS_MIDROLL||Y2Q===b6e.TIME_POSITION_CLASS_POSTROLL)this._contentVideoAttached=!0,this._markCurrentContentPlayheadTime();}else F2Q===b6e.EVENT_SLOT_ENDED&&(Y2Q=c2Q.slot.getTimePositionClass(),Y2Q===b6e.TIME_POSITION_CLASS_PREROLL||Y2Q===b6e.TIME_POSITION_CLASS_MIDROLL||Y2Q===b6e.TIME_POSITION_CLASS_POSTROLL)&&(this._contentVideoAttached=!1);c2Q=c2Q||{};c2Q.type=F2Q;c2Q.target=this;this._eventDispatcher.dispatchEvent(c2Q);},dispose:function(){b6e.debug("Context.dispose");this.setVideoState(b6e.VIDEO_STATE_STOPPED);if(this._adResponse){if(this._temporalSlotBase){for(var R2Q=0,q2Q=this._adResponse._temporalSlots||[];R2Q<q2Q.length;++R2Q){var U2Q=q2Q[R2Q];if(U2Q._onContentVideoTimeUpdate){var o2Q=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId];o2Q&&o2Q.removeEventListener("timeupdate",U2Q._onContentVideoTimeUpdate,!1);U2Q._onContentVideoTimeUpdate=null;}}this.getContentVideoElement().removeEventListener("volumechange",this._onVolumeChange);this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=null;}this._isRefreshRequest=!1;this._refreshSlots=[];this._extensionManager.dispose();this._extensionManager=null;}},loadExtension:function(t2Q){this._extensionManager.load(t2Q,this);},_markCurrentContentPlayheadTime:function(){var l2Q=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId].currentTime;0<l2Q&&(this._currentContentPlayheadTime=l2Q);},_getContentPlayheadTime:function(){var G2Q=-1;!this._contentVideoAttached&&this._temporalSlotBase&&this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]&&(G2Q=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId].currentTime);return 0<G2Q?G2Q:this._currentContentPlayheadTime;},_requestContentVideoToPauseBySlot:function(m2Q){this._videoAsset.requestPauseBySlot(m2Q);},_requestContentVideoToResumeBySlot:function(K2Q){this._videoAsset.requestResumeBySlot(K2Q);},_setVideoDisplaySizeByContentVideo:function(N2Q){if(this._autoSetDisplaySizeCount===this._totalSetDisplaySizeCount){var a2Q=N2Q.style.left,b2Q=N2Q.style.top,g2Q=N2Q.offsetWidth?N2Q.offsetWidth:N2Q.style.pixelWidth,P2Q=N2Q.offsetHeight?N2Q.offsetHeight:N2Q.style.pixelHeight;N2Q=N2Q.style.position;this._autoSetDisplaySizeCount++;this.setVideoDisplaySize(a2Q,b2Q,g2Q,P2Q,N2Q);}},_replacePageSlot:function(x2Q,O2Q){b6e.debug("fw replace %s",x2Q);var d2Q;try{var H2Q=document.getElementById(x2Q)?document:parent.document.getElementById(x2Q)?parent.document:null;var T2Q=document.getElementById(x2Q)?"window":parent.document.getElementById(x2Q)?"parent":null;}catch(V2Q){T2Q=H2Q=null;}if(!H2Q)for(var M2Q=0;M2Q<window.frames.length;M2Q++)try{window.frames[M2Q].document.getElementById(x2Q)&&(H2Q=window.frames[M2Q].document,T2Q="window.frames["+M2Q+"]");}catch(p2Q){b6e.debug(p2Q);}T2Q&&(d2Q=T2Q+".document");b6e.debug("fw replacing slot %s in frame %s",x2Q,d2Q);if(!H2Q)throw"Slot element not found: "+x2Q;M2Q=H2Q.getElementById("_fw_container_"+x2Q);M2Q.innerHTML=O2Q;O2Q=M2Q.getElementsByTagName("script");var v2Q=H2Q.getElementsByTagName("head")[0];for(M2Q=0;M2Q<O2Q.length;++M2Q)if(b6e.PLATFORM_IS_FIREFOX||O2Q[M2Q].src){var L2Q=H2Q.createElement("script");O2Q[M2Q].charset&&(L2Q.charset=O2Q[M2Q].charset);O2Q[M2Q].src&&(L2Q.src=O2Q[M2Q].src);O2Q[M2Q].innerHTML&&(L2Q.innerHTML=O2Q[M2Q].innerHTML);L2Q.onload=L2Q.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||v2Q.removeChild(L2Q);};b6e.debug("fw append script for %s",x2Q);v2Q.appendChild(L2Q);}else L2Q=O2Q[M2Q].innerHTML,L2Q=L2Q.replace(/var fw_scope = document;/,"var fw_scope="+d2Q+";"),L2Q=L2Q.replace(/var fw_scope_window = window;/,"var fw_scope_window="+T2Q+((845.35,8630)===5417?true:";")),b6e.debug("fw eval in %s for %s, %s",d2Q,x2Q,L2Q),eval(L2Q);b6e.debug("fw finish replace %s",x2Q);}};b6e.Context.prototype.constructor=b6e.Context;b6e.DisplayRefreshExtension=function(){this.REFRESH_TYPE_NONE="refresh_none";this.REFRESH_TYPE_AD="refresh_ad";this.REFRESH_TYPE_TIME="refresh_time";this.REPLACE_TYPE_NONE="replace_none";this.REPLACE_TYPE_BLANK="replace_blank";this.REPLACE_TYPE_AD="replace_ad";this._subContext=null;this._displaySlots=[];this._companionSlots=[];this._keyValues=[];this._globalParameters=[];this._overrideParameters=[];this._refreshType=this.REFRESH_TYPE_NONE;this._replaceType=this.REPLACE_TYPE_NONE;this._refreshInterval=0;this._refreshTimer=null;this._firstTemporalAd=!0;this._REQUEST_TIME_OUT=5;};b6e.DisplayRefreshExtension.prototype={init:function(Z2Q){this._context=Z2Q;b6e.debug("DisplayRefreshExtension.init(context)");this._onRendererEvent=b6e.Util.bind(this,function(B2Q){b6e.debug("DisplayRefreshExtension._onRendererEvent()");B2Q.subType===b6e.EVENT_AD_IMPRESSION&&this._onAdStarted(B2Q);});this._onSlotEnded=b6e.Util.bind(this,function(W2Q){var S2Q=W2Q.slot.getTimePositionClass();W2Q=W2Q.slot;b6e.debug("DisplayRefreshExtension._onSlotEnded()",W2Q,S2Q);if(null!=W2Q&&S2Q!==b6e.TIME_POSITION_CLASS_DISPLAY&&0!==W2Q.getAdInstances().length)if(this._refreshType===this.REFRESH_TYPE_AD)this._resetSubContext(),this._refreshSlots(this._displaySlots);else if(this._refreshType===this.REFRESH_TYPE_TIME){this._resetSubContext();this._refreshSlots(this._displaySlots);var z2Q=this;this._refreshTimer=setInterval(function(){b6e.debug("DisplayRefreshExtension._onTimeout()");z2Q._resetSubContext();z2Q._refreshSlots(z2Q._displaySlots);},1E3*this._refreshInterval);}});this._onRequestComplete=b6e.Util.bind(this,function(n2Q){b6e.debug("DisplayRefreshExtension._onRequestComplete()");if(n2Q.success){switch(this._context.getParameter("refreshType")){case"ad":this._refreshType=this.REFRESH_TYPE_AD;break;case"time":this._refreshInterval=this._context.getParameter("refreshInterval");this._refreshType=0<this._refreshInterval?this.REFRESH_TYPE_TIME:this.REFRESH_TYPE_NONE;break;default:this._refreshType=this.REFRESH_TYPE_NONE;}switch(this._context.getParameter("replaceMissingCompanion")){case"blank":this._replaceType=this.REPLACE_TYPE_BLANK;break;case"ad":this._replaceType=this.REPLACE_TYPE_AD;break;default:this._replaceType=this.REPLACE_TYPE_NONE;}if(this._refreshType!==this.REFRESH_TYPE_NONE||this._replaceType!==this.REPLACE_TYPE_NONE){if(this._displaySlots=this._context.getSlotsByTimePositionClass(b6e.TIME_POSITION_CLASS_DISPLAY),this._companionSlots=this._displaySlots.filter(function(s2Q){return s2Q.getAcceptCompanion();}),this._keyValues=this._context._adRequest._keyValues,this._globalParameters=this._context._globalLevelParameterDictionary,this._overrideParameters=this._context._overrideLevelParameterDictionary,this._firstTemporalAd=!0,this._context.addEventListener(b6e.EVENT_AD,this._onRendererEvent),this._context.addEventListener(b6e.EVENT_SLOT_ENDED,this._onSlotEnded),this._refreshType===this.REFRESH_TYPE_TIME){var e2Q=this;this._refreshTimer=setInterval(function(){b6e.debug("DisplayRefreshExtension._onTimeout()");e2Q._resetSubContext();e2Q._refreshSlots(e2Q._displaySlots);},1E3*this._refreshInterval);}}else this._refreshTimer&&clearInterval(this._refreshTimer);}else b6e.debug("DisplayRefreshExtension: request complete failed");});this._context.addEventListener(b6e.EVENT_REQUEST_COMPLETE,this._onRequestComplete);},_resetSubContext:function(){b6e.debug("DisplayRefreshExtension._resetSubContext()");this._subContext=this._context._adManager.cloneContext(this._context);this._subContext._extensionManager._displayRefreshExtension.dispose();this._subContext._extensionManager._videoStateExtension.dispose();this._subContext.setCapability(b6e.CAPABILITY_SLOT_TEMPLATE,b6e.CAPABILITY_STATUS_OFF);this._subContext.setCapability(b6e.CAPABILITY_DISPLAY_REFRESH,b6e.CAPABILITY_STATUS_ON);this._playRefreshedSlots=b6e.Util.bind(this,function(Q2Q){b6e.debug("DisplayRefreshExtension._playRefreshedSlots()");if(Q2Q.success){Q2Q=this._subContext.getSlotsByTimePositionClass(b6e.TIME_POSITION_CLASS_DISPLAY);for(var k2Q=0;k2Q<Q2Q.length;k2Q++)Q2Q[k2Q].play();}else b6e.debug("DisplayRefreshExtension._playRefreshedSlots(): subContext refresh request error:",Q2Q);});this._subContext.addEventListener(b6e.EVENT_REQUEST_COMPLETE,this._playRefreshedSlots);for(var j2Q=this._subContext._adRequest._keyValues,A2Q=0;A2Q<this._keyValues.length;A2Q++)0>j2Q.indexOf(this._keyValues[A2Q])&&j2Q.push(this._keyValues[A2Q]);for(var J2Q in this._globalParameters)this._globalParameters.hasOwnProperty(J2Q)&&this._subContext.setParameter(J2Q,this._globalParameters[J2Q],b6e.PARAMETER_LEVEL_GLOBAL);for(J2Q in this._overrideParameters)this._overrideParameters.hasOwnProperty(J2Q)&&this._subContext.setParameter(J2Q,this._overrideParameters[J2Q],b6e.PARAMETER_LEVEL_OVERRIDE);},_onAdStarted:function(I2Q){b6e.debug("DisplayRefreshExtension._onAdStarted()");var i2Q=I2Q.adInstance.getSlot();b6e.debug("DisplayRefreshExtension._onAdStarted(): slot: ",i2Q," | timePositionClass:",i2Q.getTimePositionClass());if(null!=i2Q&&i2Q.getTimePositionClass()!==b6e.TIME_POSITION_CLASS_DISPLAY&&(this._resetSubContext(),this._refreshTimer&&clearInterval(this._refreshTimer),this._replaceType!==this.REPLACE_TYPE_NONE)){I2Q=I2Q.adInstance;i2Q=i2Q.getAdInstances();for(var E2Q=0;E2Q<i2Q.length;E2Q++)I2Q.getAdId()===i2Q[E2Q].getAdId()&&this._checkMissingCompanionForAd(I2Q);}},_checkMissingCompanionForAd:function(u7Q){b6e.debug("DisplayRefreshExtension._checkMissingCompanionForAd()",u7Q);var y2Q=this._companionSlots.slice();u7Q=u7Q.getCompanionAdInstances();var r2Q;for(r2Q=0;r2Q<u7Q.length;r2Q++){var X7Q=y2Q.indexOf(u7Q[r2Q].getSlot());-1<X7Q&&y2Q.splice(X7Q,1);}this._firstTemporalAd&&(this._firstTemporalAd=!1,y2Q=y2Q.filter(function(h7Q){if(h7Q.getInitialAdOption()!==b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY&&h7Q.getInitialAdOption()!==b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE&&h7Q.getInitialAdOption()!==b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE&&h7Q.getInitialAdOption()!==b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE&&h7Q.getInitialAdOption()!==b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL)return b6e.debug("DisplayRefreshExtension._checkMissingCompanionForAd(): firstCompanionAsInitial false in slot ",h7Q.getCustomId()),!0;for(var D7Q=h7Q.getAdInstances(),f7Q=0;f7Q<D7Q.length;f7Q++)if(!D7Q[f7Q].isPlaceholder())return b6e.debug("DisplayRefreshExtension._checkMissingCompanionForAd(): first companion found in slot ",h7Q.getCustomId()),!1;b6e.debug("DisplayRefreshExtension._checkMissingCompanionForAd(): firstCompanionAsInitial true, no ad in slot ",h7Q.getCustomId());return!0;}));if(this._replaceType===this.REPLACE_TYPE_BLANK)for(r2Q=0;r2Q<y2Q.length;r2Q++)y2Q[r2Q].stop(),this._subContext._replacePageSlot(y2Q[r2Q].getCustomId(),"");else this._replaceType===this.REPLACE_TYPE_AD&&this._refreshSlots(y2Q);},_refreshSlots:function(C7Q){b6e.debug("DisplayRefreshExtension._refreshSlots()",C7Q);if(null!=C7Q&&0!==C7Q.length){for(var w7Q=0;w7Q<C7Q.length;w7Q++)C7Q[w7Q].stop(),this._subContext._refreshSlots.push(C7Q[w7Q].getCustomId());this._subContext._isRefreshRequest=!0;this._subContext.submitRequest(this._REQUEST_TIME_OUT);}},dispose:function(){b6e.debug("DisplayRefreshExtension.dispose()");this._context&&(this._context.removeEventListener(b6e.EVENT_REQUEST_COMPLETE,this._onRequestComplete),this._context.removeEventListener(b6e.EVENT_SLOT_ENDED,this._onSlotEnded),this._context.removeEventListener(b6e.EVENT_AD,this._onRendererEvent),this._context=null);this._subContext&&(this._subContext.removeEventListener(b6e.EVENT_REQUEST_COMPLETE,this._playRefreshedSlots),this._subContext=null);this._displaySlots=[];this._companionSlots=[];this._keyValues=[];this._globalParameters=[];this._overrideParameters=[];this._refreshType=this.REFRESH_TYPE_NONE;this._replaceType=this.REPLACE_TYPE_NONE;this._refreshInterval=0;this._refreshTimer&&clearInterval(this._refreshTimer);this._refreshTimer=null;this._firstTemporalAd=!0;}};b6e.DisplayRefreshExtension.prototype.constructor=b6e.DisplayRefreshExtension;b6e.EventCallback=function(Y7Q){this._url=this._name=this._type=null;this._showBrowser=!1;this._trackingUrls=[];this._adInstance=this._slot=null;this._context=Y7Q;};b6e.EventCallback.prototype={};b6e.EventCallback.prototype.constructor=b6e.EventCallback;b6e.EventCallback.getEventCallback=function(U7Q,F7Q,q7Q){for(var c7Q,R7Q=0;R7Q<U7Q.length;R7Q++)if(c7Q=U7Q[R7Q],c7Q._name===F7Q&&c7Q._type===q7Q)return c7Q;for(R7Q=0;R7Q<U7Q.length;R7Q++)if(c7Q=U7Q[R7Q],c7Q._type===b6e.EVENT_TYPE_GENERIC){if(F7Q=b6e.EventCallback.newEventCallback(c7Q._context,F7Q,q7Q))F7Q._url=c7Q._url,F7Q._slot=c7Q._slot,F7Q._adInstance=c7Q._adInstance,U7Q.push(F7Q);return F7Q;}return null;};b6e.EventCallback.newEventCallback=function(o7Q,t7Q,l7Q){if(l7Q===b6e.EVENT_TYPE_GENERIC)o7Q=new b6e.EventCallback(o7Q);else if(l7Q===b6e.EVENT_TYPE_ERROR)o7Q=new b6e.ErrorEventCallback(o7Q);else if(l7Q===b6e.EVENT_TYPE_CLICK)o7Q=new b6e.AdClickEventCallback(o7Q);else if(l7Q===b6e.EVENT_TYPE_STANDARD)o7Q=new b6e.AdStandardEventCallback(o7Q);else if(t7Q===b6e.EVENT_SLOT_IMPRESSION||t7Q===b6e.EVENT_SLOT_END)o7Q=new b6e.SlotImpressionEventCallback(o7Q);else if(t7Q===b6e.EVENT_AD_IMPRESSION||t7Q===b6e.EVENT_AD_IMPRESSION_END)o7Q=new b6e.AdImpressionEventCallback(o7Q);else if(t7Q===b6e.EVENT_VIDEO_VIEW)o7Q=new b6e.VideoViewEventCallback(o7Q);else if(t7Q===b6e.EVENT_RESELLER_NO_AD)o7Q=new b6e.ResellerNoAdEventCallback(o7Q);else if(t7Q===b6e.EVENT_AD_FIRST_QUARTILE||t7Q===b6e.EVENT_AD_MIDPOINT||t7Q===b6e.EVENT_AD_THIRD_QUARTILE||t7Q===b6e.EVENT_AD_COMPLETE)o7Q=new b6e.AdQuartileEventCallback(o7Q);else return null;o7Q._name=t7Q;o7Q._type=l7Q;return o7Q;};b6e.EventCallback.getShortType=function(m7Q){var G7Q="";switch(m7Q){case b6e.EVENT_TYPE_IMPRESSION:G7Q=b6e.SHORT_EVENT_TYPE_IMPRESSION;break;case b6e.EVENT_TYPE_CLICK:G7Q=b6e.SHORT_EVENT_TYPE_CLICK;break;case b6e.EVENT_TYPE_STANDARD:G7Q=b6e.SHORT_EVENT_TYPE_STANDARD;break;case b6e.EVENT_TYPE_ERROR:G7Q=b6e.SHORT_EVENT_TYPE_ERROR;}return G7Q;};b6e.Util.mixin(b6e.EventCallback.prototype,{parse:function(K7Q){if(K7Q){this._usage=K7Q.use;this._type=K7Q.type;this._name=K7Q.name;this._url=K7Q.url;this._showBrowser=K7Q.showBrowser;this._trackingUrls=[];var N7Q=0;for(K7Q=K7Q.trackingUrls||[];N7Q<K7Q.length;N7Q++)this._trackingUrls.push(K7Q[N7Q].value);}},copy:function(){var a7Q=new this.constructor(this._context);a7Q._type=this._type;a7Q._name=this._name;a7Q._url=this._url;a7Q._showBrowser=this._showBrowser;a7Q._trackingUrls=this._trackingUrls.slice();a7Q._slot=this._slot;a7Q._adInstance=this._adInstance;return a7Q;},getUrl:function(g7Q){var b7Q=this._replaceMacrosInUrl(this._url,g7Q);this._name===b6e.EVENT_AD_MEASUREMENT?(b7Q=b6e.Util.setParameterInURL(b7Q,b6e.URL_PARAMETER_KEY_ET,b6e.SHORT_EVENT_TYPE_IMPRESSION),b7Q=b6e.Util.setParameterInURL(b7Q,b6e.URL_PARAMETER_KEY_CONCRETE_EVENT_ID,g7Q[b6e.INFO_KEY_CONCRETE_EVENT_ID])):b7Q=b6e.Util.setParameterInURL(b7Q,b6e.URL_PARAMETER_KEY_ET,b6e.EventCallback.getShortType(this._type));b7Q=b6e.Util.setParameterInURL(b7Q,b6e.URL_PARAMETER_KEY_CN,this._name);this._adInstance&&0<this._adInstance._creativeRenditionId&&(b7Q=b6e.Util.setParameterInURL(b7Q,b6e.URL_PARAMETER_KEY_CREATIVE_RENDITION_ID,this._adInstance._creativeRenditionId));return b7Q;},getTrackingUrls:function(O7Q){var M7Q=this._trackingUrls;if(this._adInstance){var P7Q=this._type;P7Q===b6e.EVENT_TYPE_CLICK&&(P7Q=b6e.EVENT_TYPE_CLICK_TRACKING);M7Q=M7Q.concat(this._adInstance.getExternalEventCallbackUrls(this._name,P7Q));}P7Q=[];for(var L7Q=0;L7Q<M7Q.length;L7Q++){var x7Q=b6e.Util.trim(this._replaceMacrosInUrl(M7Q[L7Q],O7Q));b6e.Util.isBlank(x7Q)||P7Q.push(x7Q);}return P7Q;},process:function(H7Q){H7Q=H7Q||{};this._processTrackingUrls(H7Q);b6e.Util.pingURL(this.getUrl(H7Q));},_processTrackingUrls:function(T7Q){this._shouldSkipSendingTrackingAndExternalUrls()||b6e.Util.pingURLs(this.getTrackingUrls(T7Q));},_shouldSkipSendingTrackingAndExternalUrls:function(){return!1;},_needEmptyCT:function(v7Q){var d7Q=!1;v7Q&&!0===v7Q[b6e.INFO_KEY_NEED_EMPTY_CT]&&(d7Q=!0);return d7Q;},_getAdPlayheadTime:function(){var V7Q=-1;this._adInstance&&(V7Q=this._adInstance.getPlayheadTime());return V7Q;},_getCreativeAssetLocation:function(){var p7Q=null;this._adInstance&&this._adInstance.getActiveCreativeRendition()&&this._adInstance.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset()&&(p7Q=this._adInstance.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset().getUrl());return p7Q;},_getParameter:function(Z7Q){return this._adInstance?this._adInstance._rendererController.getParameter(Z7Q):this._slot?this._slot.getParameter(Z7Q):this._context.getParameter(Z7Q);},_replaceVASTMacro:function(B7Q,z7Q,W7Q){b6e.log("replace VAST Macro: url=",B7Q+", macro="+z7Q+", value="+W7Q);B7Q&&z7Q&&(W7Q=encodeURIComponent(W7Q?W7Q:""),B7Q=B7Q.replace("["+z7Q+"]",W7Q),B7Q=B7Q.replace("%5B"+z7Q+"%5D",W7Q));return B7Q;},_replaceMacrosInUrl:function(S7Q,e7Q){if(b6e.Util.isBlank(S7Q))return S7Q;e7Q&&e7Q[b6e.INFO_KEY_VAST_ERROR_CODE]&&(S7Q=this._replaceVASTMacro(S7Q,"ERRORCODE",e7Q[b6e.INFO_KEY_VAST_ERROR_CODE]));this._getCreativeAssetLocation()&&(S7Q=this._replaceVASTMacro(S7Q,"ASSETURI",this._getCreativeAssetLocation()));var n7Q=this._context._getContentPlayheadTime();this._adInstance&&(e7Q=null!=n7Q&&0<=Number(n7Q)?b6e.Util.secondsToHms(n7Q):"",S7Q=this._replaceVASTMacro(S7Q,"CONTENTPLAYHEAD",e7Q),S7Q=this._replaceVASTMacro(S7Q,"CACHEBUSTING",b6e.Util.getFixedDigitRandomNumber(8)),S7Q=this._replaceVASTMacro(S7Q,"TIMESTAMP",b6e.Util.getDateStringInISOFormat(new Date())));S7Q=S7Q.replace(/#(ce?)\{([^\}]+)\}/g,b6e.Util.bind(this,function(A7Q,s7Q,J7Q){b6e.log("matchedSubString"+A7Q);A7Q="ce"===s7Q;s7Q=null;switch(J7Q){case"ad.playheadTime":J7Q=this._getAdPlayheadTime();s7Q=0<=J7Q?Math.round(J7Q)+"":"";break;case"content.playheadTime":s7Q=0<=n7Q?Math.round(n7Q)+"":"";break;case"creative.assetLocation":s7Q=this._getCreativeAssetLocation();break;default:0===J7Q.indexOf("parameter.")&&(s7Q=this._getParameter(J7Q.substr(10)));}b6e.Util.isBlank(s7Q)&&(s7Q="");return A7Q?encodeURIComponent(s7Q):s7Q;}));e7Q="";try{e7Q=b6e.Util.getParameterInURL(S7Q,b6e.URL_PARAMETER_KEY_CR);}catch(j7Q){return b6e.warn(j7Q),S7Q;}b6e.Util.isBlank(e7Q)||(S7Q=b6e.Util.setParameterInURL(S7Q,b6e.URL_PARAMETER_KEY_CR,this._replaceMacrosInUrl(e7Q)));return S7Q;}});b6e.AdClickEventCallback=function(Q7Q){b6e.EventCallback.call(this,Q7Q);};b6e.AdClickEventCallback.prototype=new b6e.EventCallback();b6e.AdClickEventCallback.prototype.constructor=b6e.AdClickEventCallback;b6e.Util.mixin(b6e.AdClickEventCallback.prototype,{getUrl:function(i7Q){var k7Q=b6e.EventCallback.prototype.getUrl.call(this,i7Q);i7Q[b6e.INFO_KEY_URL]&&(b6e.Util.isParameterInURL(k7Q,b6e.URL_PARAMETER_KEY_CR)||(k7Q=k7Q+"&"+b6e.URL_PARAMETER_KEY_CR+"="),k7Q=b6e.Util.setParameterInURL(k7Q,b6e.URL_PARAMETER_KEY_CR,i7Q[b6e.INFO_KEY_URL]));return k7Q;},process:function(I7Q){I7Q=I7Q||{};var y7Q=this.getUrl(I7Q),E7Q=!0===this._showBrowser;E7Q=I7Q.hasOwnProperty(b6e.INFO_KEY_SHOW_BROWSER)?!0===I7Q[b6e.INFO_KEY_SHOW_BROWSER]:E7Q;I7Q[b6e.INFO_KEY_URL]&&(E7Q=!0);E7Q&&!b6e.Util.isBlank(y7Q)?(window.open(y7Q),this._processTrackingUrls(I7Q)):b6e.EventCallback.prototype.process.call(this,I7Q);}});b6e.AdImpressionEventCallback=function(r7Q){b6e.EventCallback.call(this,r7Q);};b6e.AdImpressionEventCallback.prototype=new b6e.EventCallback();b6e.AdImpressionEventCallback.prototype.constructor=b6e.AdImpressionEventCallback;b6e.Util.mixin(b6e.AdImpressionEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==b6e.INIT_VALUE_ONE;},_getInitValue:function(){return this._adInstance.getSlot().isPauseSlot()||!this._processed?b6e.INIT_VALUE_ONE:b6e.INIT_VALUE_TWO;},getUrl:function(X9Q){var u9Q=b6e.EventCallback.prototype.getUrl.call(this,X9Q);u9Q=b6e.Util.setParameterInURL(u9Q,b6e.URL_PARAMETER_KEY_METR,this._adInstance._metr);this._name!==b6e.EVENT_AD_IMPRESSION&&(u9Q=b6e.Util.setParameterInURL(u9Q,b6e.URL_PARAMETER_KEY_CT,this._needEmptyCT(X9Q)?"":this._adInstance._timer.tick()));return u9Q=b6e.Util.setParameterInURL(u9Q,b6e.URL_PARAMETER_KEY_INIT,this._getInitValue());},process:function(h9Q){b6e.MODULE_TYPE_TRANSLATOR!==this._adInstance.getRendererController().getRenderer().info()[b6e.INFO_KEY_MODULE_TYPE]&&(b6e.EventCallback.prototype.process.call(this,h9Q),this._processed=!0);}});b6e.AdQuartileEventCallback=function(f9Q){b6e.EventCallback.call(this,f9Q);};b6e.AdQuartileEventCallback.prototype=new b6e.EventCallback();b6e.AdQuartileEventCallback.prototype.constructor=b6e.AdQuartileEventCallback;b6e.Util.mixin(b6e.AdQuartileEventCallback.prototype,{getUrl:function(C9Q){var D9Q=b6e.EventCallback.prototype.getUrl.call(this,C9Q);D9Q=b6e.Util.setParameterInURL(D9Q,b6e.URL_PARAMETER_KEY_METR,this._adInstance._metr);return D9Q=b6e.Util.setParameterInURL(D9Q,b6e.URL_PARAMETER_KEY_CT,this._needEmptyCT(C9Q)?"":this._adInstance._timer.tick());},process:function(w9Q){this._processed||(b6e.EventCallback.prototype.process.call(this,w9Q),this._processed=!0);}});b6e.AdStandardEventCallback=function(Y9Q){b6e.EventCallback.call(this,Y9Q);};b6e.AdStandardEventCallback.prototype=new b6e.EventCallback();b6e.AdStandardEventCallback.prototype.constructor=b6e.AdStandardEventCallback;b6e.ErrorEventCallback=function(c9Q){b6e.EventCallback.call(this,c9Q);};b6e.ErrorEventCallback.prototype=new b6e.EventCallback();b6e.ErrorEventCallback.prototype.constructor=b6e.ErrorEventCallback;b6e.Util.mixin(b6e.ErrorEventCallback.prototype,{getUrl:function(F9Q){var R9Q=b6e.EventCallback.prototype.getUrl.call(this,F9Q),U9Q=F9Q[b6e.INFO_KEY_ERROR_CODE];U9Q||(U9Q=b6e.ERROR_UNKNOWN);var q9Q=F9Q[b6e.INFO_KEY_ERROR_INFO];q9Q||(q9Q="");(F9Q=F9Q[b6e.INFO_KEY_ERROR_MODULE])||(F9Q="");R9Q=b6e.Util.setParameterInURL(R9Q,b6e.URL_PARAMETER_KEY_CN,U9Q);return R9Q=b6e.Util.setParameterInURL(R9Q,b6e.URL_PARAMETER_KEY_KEY_VALUE,encodeURIComponent(b6e.URL_PARAMETER_KEY_ERROR_MODULE)+"="+encodeURIComponent(F9Q)+"&"+encodeURIComponent(b6e.URL_PARAMETER_KEY_ERROR_INFO)+"="+b6e.PLATFORM_ID+"/"+encodeURIComponent(q9Q));}});b6e.ResellerNoAdEventCallback=function(o9Q){b6e.EventCallback.call(this,o9Q);};b6e.ResellerNoAdEventCallback.prototype=new b6e.EventCallback();b6e.ResellerNoAdEventCallback.prototype.constructor=b6e.ResellerNoAdEventCallback;b6e.Util.mixin(b6e.ResellerNoAdEventCallback.prototype,{});b6e.SlotImpressionEventCallback=function(t9Q){b6e.EventCallback.call(this,t9Q);};b6e.SlotImpressionEventCallback.prototype=new b6e.EventCallback();b6e.SlotImpressionEventCallback.prototype.constructor=b6e.SlotImpressionEventCallback;b6e.Util.mixin(b6e.SlotImpressionEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==b6e.INIT_VALUE_ONE;},_getInitValue:function(){return this._slot.isPauseSlot()||!this._processed?b6e.INIT_VALUE_ONE:b6e.INIT_VALUE_TWO;},getUrl:function(l9Q){l9Q=b6e.EventCallback.prototype.getUrl.call(this,l9Q);return l9Q=b6e.Util.setParameterInURL(l9Q,b6e.URL_PARAMETER_KEY_INIT,this._getInitValue());},process:function(G9Q){b6e.EventCallback.prototype.process.call(this,G9Q);this._processed=!0;}});b6e.VideoViewEventCallback=function(m9Q){b6e.EventCallback.call(this,m9Q);};b6e.VideoViewEventCallback.prototype=new b6e.EventCallback();b6e.VideoViewEventCallback.prototype.constructor=b6e.VideoViewEventCallback;b6e.Util.mixin(b6e.VideoViewEventCallback.prototype,{_getInitValue:function(){return this._processed?b6e.INIT_VALUE_ZERO:b6e.INIT_VALUE_ONE;},_getCTValue:function(){return this._context._videoAsset.getPlayheadTime();},getUrl:function(K9Q){K9Q=b6e.EventCallback.prototype.getUrl.call(this,K9Q);K9Q=b6e.Util.setParameterInURL(K9Q,b6e.URL_PARAMETER_KEY_INIT,this._getInitValue());return K9Q=b6e.Util.setParameterInURL(K9Q,b6e.URL_PARAMETER_KEY_CT,this._getCTValue());},_shouldSkipSendingTrackingAndExternalUrls:function(){return this._processed;},process:function(N9Q){b6e.EventCallback.prototype.process.call(this,N9Q);this._processed=!0;}});b6e.EventDispatcher=function(){this._listeners={};};b6e.EventDispatcher.prototype={addEventListener:function(a9Q,b9Q){"undefined"===typeof this._listeners[a9Q]&&(this._listeners[a9Q]=[]);this._listeners[a9Q].push(b9Q);},dispatchEvent:function(g9Q){"string"===typeof g9Q&&(g9Q={type:g9Q});g9Q.target||(g9Q.target=this);if(g9Q.type&&this._listeners[g9Q.type]instanceof Array)for(var M9Q=this._listeners[g9Q.type],P9Q=0,L9Q=M9Q.length;P9Q<L9Q;P9Q++)try{M9Q[P9Q]&&M9Q[P9Q].call(this,g9Q);}catch(x9Q){b6e.warn("EventDispatcher.dispatchEvent",g9Q.type,x9Q);}},removeEventListener:function(O9Q,T9Q){if(this._listeners[O9Q]instanceof Array){var H9Q=this._listeners[O9Q];if(null==T9Q)this._listeners[O9Q]=[];else{O9Q=0;for(var d9Q=H9Q.length;O9Q<d9Q;O9Q++)if(H9Q[O9Q]===T9Q){H9Q.splice(O9Q,1);break;}}}}};b6e.EventDispatcher.prototype.constructor=b6e.EventDispatcher;b6e.ExtensionManager=function(v9Q){this._extensions={};this._context=v9Q;this._surveyExtension=new b6e.SurveyExtension();this._surveyExtension.init(v9Q);this._videoStateExtension=new b6e.VideoStateExtension();this._videoStateExtension.init(v9Q);this._displayRefreshExtension=new b6e.DisplayRefreshExtension();this._displayRefreshExtension.init(v9Q);this._contentVideoExtension=new b6e.ContentVideoExtension();this._contentVideoExtension.init(v9Q);};b6e.ExtensionManager.prototype={_scriptLoaded:function(V9Q){if(null==this._extensions[V9Q])this._loadFail(V9Q,"Extension supposed to be loaded but not found");else{var p9Q=b6e.Util.getObject(V9Q);"function"!==typeof p9Q?this._loadFail(V9Q,"Script loaded but extension class not found"):(p9Q=new p9Q(),"function"===typeof p9Q.init&&"function"===typeof p9Q.dispose?(b6e.log("Extension loaded: "+V9Q),p9Q.init(this._context),this._context.dispatchEvent(b6e.EVENT_EXTENSION_LOADED,{success:!0,moduleName:V9Q})):this._loadFail(V9Q,"Extension loaded but is not supported"));}},_getExtensionNameFromUrl:function(z9Q){for(var B9Q=/(?!.*\.{2})(?:[\\/\?=#])([a-z][\w\.]+)(?:\.js(#|\?|$))/gi,W9Q,Z9Q;null!=(W9Q=B9Q.exec(z9Q));)Z9Q=W9Q;return Z9Q?Z9Q[1]:null;},_loadFail:function(S9Q,e9Q){b6e.log("Extension failed to load. "+S9Q+" : "+e9Q);this._context.dispatchEvent(b6e.EVENT_EXTENSION_LOADED,{success:!1,errorVal:e9Q,moduleName:S9Q});},load:function(s9Q){if(s9Q){var n9Q=this._getExtensionNameFromUrl(s9Q);if(null==n9Q)this._loadFail(n9Q,"Extension name not exsit in the Url. Url: "+s9Q);else if(this._extensions[n9Q]===s9Q)b6e.log("Extension is already loaded"),this._loadFail(n9Q,"Extension is already loaded");else{var j9Q=1*this._context.getParameter("moduleLoadTimeout")||6E4,A9Q=!1,J9Q=this,Q9Q=window.setTimeout(function(){A9Q=!0;J9Q._loadFail(n9Q,"Timeout occured while loading extension. Url: "+s9Q);},j9Q);b6e.Util.lazyJavaScriptLoad(s9Q,function(){b6e.log("async load extension successful, URL:"+s9Q);window.clearTimeout(Q9Q);A9Q?(b6e.debug("Extension loaded after timeout, do nothing."),J9Q._loadFail(n9Q,"Timeout occured while loading extension. Url: "+s9Q)):(J9Q._extensions[n9Q]=s9Q,J9Q._scriptLoaded(n9Q));});}}else this._loadFail(n9Q,"Url cannot be empty");},dispose:function(){this._extensions=null;this._surveyExtension.dispose();this._surveyExtension=null;this._displayRefreshExtension.dispose();this._displayRefreshExtension=null;this._videoStateExtension.dispose();this._videoStateExtension=null;this._contentVideoExtension.dispose();this._context=this._contentVideoExtension=null;}};b6e.ExtensionManager.prototype.constructor=b6e.ExtensionManager;b6e.HTMLAdGenerator={log:function(k9Q){b6e.log("HTMLAdGenerator\t"+k9Q);},getExtension:function(i9Q){return i9Q?(i9Q=i9Q.match(/^[^?]+\/[^?.]*(\.\w+)+/))?i9Q[i9Q.length-1].slice(1):"":"";},generateAd:function(E9Q,y9Q,r9Q,u8Q,X8Q,D8Q,f8Q){b6e.HTMLAdGenerator.log("generatorAd("+[].slice.call(arguments,0).join(",")+")");var I9Q=D8Q,h8Q=!1;null==I9Q&&(h8Q=!0,I9Q=b6e.HTMLAdGenerator.getExtension(E9Q).toLowerCase());switch(I9Q){case"jpeg":case"jpg":case"gif":case"png":case"image/jpeg":case"image/jpg":case"image/gif":case"image/png":case"image/bmp":I9Q=b6e.HTMLAdGenerator.generateImageHTML(E9Q,y9Q);break;case"swf":case"application/x-shockwave-flash":I9Q=b6e.HTMLAdGenerator.generateFlashHTML(E9Q,y9Q,r9Q,u8Q,X8Q);break;case"script":case"js":case"text/javascript":case"text/js_ref":case"application/x-javascript":I9Q=b6e.HTMLAdGenerator.generateScriptHTML(E9Q,r9Q,u8Q,X8Q);break;case"iframe":case"html":case"htm":case"text/html":case"text/html_doc_ref":case"text/html_lit_nowrapper":case"text/html_doc_lit_mobile":I9Q=b6e.HTMLAdGenerator.generateIFrameHTML(E9Q,y9Q,r9Q,u8Q,X8Q);break;default:I9Q=h8Q?b6e.HTMLAdGenerator.generateIFrameHTML(E9Q,y9Q,r9Q,u8Q,X8Q):b6e.HTMLAdGenerator.generateAd(E9Q,y9Q,r9Q,u8Q,X8Q,null,f8Q);}return"text/html_doc_lit_mobile"===f8Q?b6e.HTMLAdGenerator.htmlLitToHTMLDocLitMobile(I9Q):I9Q;},generateImageHTML:function(C8Q,w8Q){b6e.HTMLAdGenerator.log("generateImageHTML");return w8Q?'<a href="'+w8Q+'" target="_blank"><img src="'+C8Q+'" border="0" /></a>':'<img src="'+C8Q+'" border="0" />';},generateFlashHTML:function(Y8Q,F8Q,R8Q,U8Q,q8Q){b6e.HTMLAdGenerator.log("generateFlashHTML");var c8Q=Y8Q;F8Q&&0<F8Q.length&&(c8Q+=-1===Y8Q.indexOf("?")?"?":"&",c8Q+="clickTag="+encodeURIComponent(F8Q));Y8Q='<OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"WIDTH="'+U8Q+'" HEIGHT="'+q8Q+'" id="'+R8Q+'_external_ad">'+('<PARAM NAME=movie VALUE="'+c8Q+'"/>')+'<PARAM NAME=quality VALUE=high/><PARAM NAME=bgcolor VALUE=#FFFFFF/><PARAM NAME="allowScriptAccess" VALUE="always"/><PARAM NAME="loop" VALUE="true"/>';Y8Q+='<EMBED src="'+c8Q+'" ';return Y8Q+('quality=high bgcolor=#FFFFFF WIDTH="'+U8Q+'" HEIGHT="'+q8Q+'"NAME="'+R8Q+'_external_video" ALIGN="" TYPE="application/x-shockwave-flash"PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"></EMBED></OBJECT>');},generateIFrameHTML:function(o8Q,G8Q,m8Q,t8Q,l8Q){b6e.HTMLAdGenerator.log("generateIFrameHTML");return'<iframe height="'+l8Q+'" width="'+t8Q+'" frameborder="0" scrolling="no" allowtransparency="true" leftmargin="0" rightmargin="0" marginwidth="0" marginheight="0" src="'+o8Q+'"></iframe>';},docLitToHTMLLit:function(N8Q,K8Q,a8Q,b8Q){b6e.HTMLAdGenerator.log("docLitToHTMLLit");return'<iframe id="_fw_frame_'+K8Q+'" width="'+a8Q+'" height="'+b8Q+'" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe><script language="javascript" type="text/javascript" id="_fw_container_js_'+K8Q+"\">if(!fw_targets) {var fw_targets = [];}var _fw_wr;var fw_scope = document;var fw_content = '"+b6e.Util.encodeToHex(N8Q)+"';var trgtFrm = fw_scope.getElementById(\"_fw_frame_"+K8Q+'");trgtFrm = (trgtFrm.contentWindow) ? trgtFrm.contentWindow : (trgtFrm.contentDocument.document) ? trgtFrm.contentDocument.document : trgtFrm.contentDocument;fw_targets["'+K8Q+'"] = trgtFrm;if(navigator.userAgent.match(/\\bMSIE\\b/) || navigator.userAgent.match(/\\bOpera\\b/)){trgtFrm.document.open();trgtFrm.document.write(fw_content);setTimeout(function(){fw_close(fw_targets["'+K8Q+'"])}, 7500);} else if (navigator.userAgent.match(/\\bFirefox\\b/)) {if(true && fw_content.length < 2000){var ec = escape(fw_content);var fw_iframe_url = "http://m2.feiwei.tv/g/lib/template/echo.html?s="+ec;fw_scope.getElementById("_fw_frame_'+K8Q+'").src = fw_iframe_url;} else {trgtFrm.document.open();trgtFrm.document.write(fw_content);trgtFrm.document.close();}} else {trgtFrm.document.open();trgtFrm.document.write(fw_content);trgtFrm.document.close();}function fw_close(theFrame){theFrame.document.close();}\x3c/script>';},htmlLitToDocLit:function(g8Q){b6e.HTMLAdGenerator.log("htmlLitToDocLit");return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><title>Advertisement</title></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">'+g8Q+"</body></html>";},wrapUnsafeHTML:function(P8Q,M8Q,L8Q,x8Q){return b6e.HTMLAdGenerator.htmlLitToHTMLDocLitMobile(b6e.HTMLAdGenerator.docLitToHTMLLit(b6e.HTMLAdGenerator.htmlLitToDocLit(P8Q),M8Q,L8Q,x8Q));},wrapJSCode:function(O8Q,H8Q,T8Q,d8Q){return b6e.HTMLAdGenerator.wrapUnsafeHTML('<script language="javascript" type="text/javascript">'+O8Q+"\x3c/script>",H8Q,T8Q,d8Q);},generateScriptHTML:function(v8Q,V8Q,p8Q,Z8Q){b6e.HTMLAdGenerator.log("generateScriptHTML");return b6e.HTMLAdGenerator.wrapUnsafeHTML('<script language="javascript" type="text/javascript" src="'+v8Q+'">\x3c/script>',V8Q,p8Q,Z8Q);},htmlLitToHTMLDocLitMobile:function(B8Q){b6e.HTMLAdGenerator.log("htmlLitToHTMLDocLitMobile");return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta name = "viewport" content = "initial-scale = 1.0, target-densitydpi = device-dpi" /><title>Advertisement</title><script type="text/javascript">window._fw_page_url = "";\x3c/script></head><body style="margin:0px;background-color:transparent;">'+B8Q+"</body></html>";}};b6e.NullRenderer=function(){};b6e.NullRenderer.prototype={start:function(W8Q){W8Q.setCapability(b6e.EVENT_AD_CLICK,b6e.CAPABILITY_STATUS_OFF);W8Q.handleStateTransition(b6e.RENDERER_STATE_STARTED);W8Q.handleStateTransition(b6e.RENDERER_STATE_COMPLETED);},info:function(){return{moduleType:b6e.MODULE_TYPE_RENDERER};},getPlayheadTime:function(){return-1;},getDuration:function(){return-1;}};b6e.NullRenderer.prototype.constructor=b6e.NullRenderer;b6e.PageSlotScanner=function(z8Q){this.OPTION_INIT=1;this.OPTION_FCAI=2;this.OPTION_NIIC=4;this.OPTION_NOSA=8;this.OPTION_NSIT=16;this._knownSlots=[];this._slots={};this._candidateAds=[];this._slotOptionFound=!1;this._context=z8Q;};b6e.PageSlotScanner.prototype={isSlotDuplicate:function(e8Q){for(var S8Q=0;S8Q<this._knownSlots.length;++S8Q)if(this._knownSlots[S8Q].id===e8Q)return!0;return!1;},findPageSlotByScope:function(j8Q){var k8Q=j8Q.document;if(k8Q){var u3Q=/(^|\s)_fwph(\s|$)/,y8Q=k8Q.getElementsByTagName("span");j8Q._fw_admanager||(j8Q._fw_admanager={});j8Q._fw_admanager.pageScanState=!0;for(j8Q=0;j8Q<y8Q.length;++j8Q){var s8Q;var A8Q=y8Q[j8Q];if(u3Q.test(A8Q.className)&&(A8Q=A8Q.getAttribute("id"),(s8Q=k8Q.getElementById("_fw_input_"+A8Q))&&!this.isSlotDuplicate(A8Q)&&(s8Q=s8Q.getAttribute("value")))){";"!==s8Q.charAt(s8Q.length-1)&&(s8Q+=";");s8Q=s8Q.split(";");var J8Q=s8Q[s8Q.length-2],Q8Q=!1;-1!==J8Q.search("lo=i")&&(Q8Q=!0);var i8Q=!1;-1!==J8Q.search("prct=")&&(i8Q=!0);0>J8Q.search("flag=")&&(J8Q+="&flag=");0>J8Q.search("ptgt=")&&(J8Q="ptgt=s&"+J8Q);s8Q=[];var r8Q=J8Q.split("&"),X3Q,h3Q;J8Q=!0;for(var I8Q=b6e.SLOT_OPTION_INITIAL_AD_STAND_ALONE,E8Q=0;E8Q<r8Q.length;++E8Q){var n8Q=r8Q[E8Q].split("=");if(2===n8Q.length){n8Q[1]=decodeURIComponent(n8Q[1]);if("ssct"===n8Q[0])if(i8Q)continue;else i8Q=!0,n8Q[0]="prct";"flag"===n8Q[0]?(-1===n8Q[1].search(/[-\+]cmpn/)&&(n8Q[1]+="+cmpn"),"+"!==n8Q[1].charAt(0)&&"-"!==n8Q[1].charAt(0)&&(n8Q[1]="+"+n8Q[1]),Q8Q&&-1===n8Q[1].search("-init")&&(n8Q[1]+="-init"),-1!==n8Q[1].search("-nrpl")&&(n8Q[1]=n8Q[1].replace("-nrpl","+cmpn")),-1!==n8Q[1].search("-cmpn")&&(J8Q=!1),I8Q=this._getInitialOption(n8Q[1]),this._slotOptionFound||(I8Q=Q8Q?b6e.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL:b6e.SLOT_OPTION_INITIAL_AD_STAND_ALONE)):"w"===n8Q[0]?X3Q=Number(n8Q[1]):"h"===n8Q[0]?h3Q=Number(n8Q[1]):"cana"===n8Q[0]&&this._addCandidateAds(n8Q[1]);n8Q=encodeURIComponent(n8Q[0])+"="+encodeURIComponent(n8Q[1]);s8Q.push(n8Q);}}i8Q||(Q8Q=this._context.getParameter(b6e.PARAMETER_PAGE_SLOT_CONTENT_TYPE)||"text/html_doc_lit_mobile,text/html_doc_ref",s8Q.push("prct="+encodeURIComponent(Q8Q)));(Q8Q=k8Q.getElementById("_fw_container_"+A8Q))?(this._slots[A8Q]=s8Q.join("&")+";",this._knownSlots.push({id:A8Q,width:X3Q,height:h3Q,element:Q8Q,acceptCompanion:J8Q,initialAdOption:I8Q})):b6e.warn("Failed to find container for slot "+A8Q);}}}},scanPageSlots:function(){for(var f3Q=0;f3Q<window.frames.length;++f3Q)try{b6e.debug("scanPageSlots in frame",f3Q),this.findPageSlotByScope(window.frames[f3Q]);}catch(D3Q){b6e.debug("PageSlotScanner: scanPageSlots exception "+D3Q);}try{window.parent&&window.parent!==window&&(b6e.debug("scanPageSlots in parent frame"),this.findPageSlotByScope(window.parent));}catch(C3Q){b6e.debug("PageSlotScanner: scanPageSlots exception "+C3Q);}try{b6e.debug("scanPageSlots in current window"),this.findPageSlotByScope(window);}catch(w3Q){b6e.debug("PageSlotScanner: scanPageSlots exception "+w3Q);}},slotsToTypeBStr:function(){var Y3Q="",F3Q;for(F3Q in this._slots)if(this._slots.hasOwnProperty(F3Q)){var c3Q=this._slots[F3Q];-1===c3Q.search("slid=")&&(c3Q="slid="+encodeURIComponent(F3Q)+"&"+c3Q);Y3Q+=c3Q;";"!==Y3Q.charAt(Y3Q.length-1)&&(Y3Q+=";");}Y3Q&&(Y3Q=Y3Q.substring(0,Y3Q.length-1));return Y3Q;},_addCandidateAds:function(R3Q){R3Q=R3Q.split(",");for(var U3Q=0;U3Q<R3Q.length;U3Q++){var q3Q=parseInt(R3Q[U3Q],10);0<q3Q&&this._candidateAds.push(q3Q);}},_parseFlags:function(G3Q){var m3Q=[],K3Q=[],o3Q="",N3Q=!0;G3Q+="+";for(var t3Q=0;t3Q<G3Q.length;++t3Q){var l3Q=G3Q.charAt(t3Q);switch(l3Q){case"+":case"-":""!==o3Q&&((N3Q?m3Q:K3Q).push(o3Q),o3Q="");N3Q="+"===l3Q;break;default:o3Q+=l3Q;}}return[m3Q,K3Q];},_getInitialOption:function(M3Q){var L3Q=!0,P3Q=!1,a3Q=0;M3Q=this._parseFlags(M3Q);for(var b3Q=b6e.SLOT_OPTION_INITIAL_AD_STAND_ALONE,g3Q=0;g3Q<M3Q.length;++g3Q)for(var x3Q=0;x3Q<M3Q[g3Q].length;++x3Q)switch(M3Q[g3Q][x3Q].toString().toLowerCase()){case"cmpn":L3Q=0===g3Q;break;case"nrpl":L3Q=0!==g3Q;break;case"init":a3Q=0===g3Q?a3Q&~this.OPTION_INIT:a3Q|this.OPTION_INIT;P3Q=!0;break;case"fcai":a3Q=0===g3Q?a3Q|this.OPTION_FCAI:a3Q&~this.OPTION_FCAI;P3Q=!0;break;case"niic":a3Q=0===g3Q?a3Q|this.OPTION_NIIC:a3Q&~this.OPTION_NIIC;P3Q=!0;break;case"nosa":a3Q=0===g3Q?a3Q|this.OPTION_NOSA:a3Q&~this.OPTION_NOSA;P3Q=!0;break;case"nsit":a3Q=0===g3Q?a3Q|this.OPTION_NSIT:a3Q&~this.OPTION_NSIT,P3Q=!0;}b6e.debug("PageSlotScanner: _getInitialOption: acceptCompanion = "+L3Q);switch(a3Q){case 0:P3Q&&(b3Q=b6e.SLOT_OPTION_INITIAL_AD_STAND_ALONE);break;case 1:b3Q=b6e.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL;break;case 3:b3Q=b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY;break;case 2:b3Q=b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE;break;case 6:b3Q=b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE;break;case 8:b3Q=b6e.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE;break;case 10:b3Q=b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE;break;case 16:b3Q=b6e.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE_IF_TEMPORAL;break;case 18:b3Q=b6e.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL;break;default:b3Q=b6e.SLOT_OPTION_INITIAL_AD_STAND_ALONE;}this._slotOptionFound=P3Q;return b3Q;}};b6e.PageSlotScanner.prototype.constructor=b6e.PageSlotScanner;b6e.RendererController=function(H3Q,O3Q){var T3Q=null,Z3Q=null,p3Q={},d3Q=b6e.RendererInitState.instance,B3Q={},V3Q=[],v3Q=0;return{getAdInstance:function(){return O3Q;},getContext:function(){return H3Q;},getRendererState:function(){return d3Q;},processEvent:function(z3Q){var W3Q=z3Q.name;if(W3Q===b6e.RENDERER_STATE_STARTED||W3Q===b6e.RENDERER_STATE_COMPLETING||W3Q===b6e.RENDERER_STATE_COMPLETED||W3Q===b6e.RENDERER_STATE_FAILED)this.handleStateTransition(W3Q,z3Q.info);else{var S3Q=this._inferEventType(W3Q);if(S3Q&&(S3Q===b6e.EVENT_TYPE_CLICK&&z3Q.info&&z3Q.info[b6e.INFO_KEY_CUSTOM_EVENT_NAME]&&(W3Q=z3Q.info[b6e.INFO_KEY_CUSTOM_EVENT_NAME]),W3Q!==b6e.EVENT_AD_MEASUREMENT||z3Q.info[b6e.INFO_KEY_CONCRETE_EVENT_ID])){var e3Q=W3Q===b6e.EVENT_AD_INITIATED||W3Q===b6e.EVENT_AD_BUFFERING_START||W3Q===b6e.EVENT_AD_BUFFERING_END||W3Q===b6e.EVENT_AD_VOLUME_CHANGE||z3Q.info&&z3Q.info.hasOwnProperty("apiOnly")&&z3Q.info.apiOnly;O3Q.processEvent(W3Q,S3Q,z3Q.info,e3Q);}}},handleStateTransition:function(s3Q,n3Q){switch(s3Q){case b6e.RENDERER_STATE_STARTED:d3Q.notifyStarted(this);break;case b6e.RENDERER_STATE_COMPLETING:d3Q.complete(this);break;case b6e.RENDERER_STATE_COMPLETED:d3Q.complete(this);d3Q.notifyCompleted(this);break;case b6e.RENDERER_STATE_FAILED:O3Q.getSlot()._clearScheduledAdInstance();n3Q||(n3Q={});b6e.warn("FAIL",", FW ErrorModule:",n3Q[b6e.INFO_KEY_ERROR_MODULE],", FW ErrorCode:",n3Q[b6e.INFO_KEY_ERROR_CODE],", FW ErrorInfo:",n3Q[b6e.INFO_KEY_ERROR_INFO],", VAST ErrorCode:",n3Q[b6e.INFO_KEY_VAST_ERROR_CODE]);(s3Q=O3Q.processEvent(b6e.EVENT_ERROR,b6e.EVENT_TYPE_ERROR,n3Q))||b6e.debug("No EVENT_ERROR callback found");if(n3Q)switch(n3Q[b6e.INFO_KEY_ERROR_CODE]){case b6e.ERROR_NO_AD_AVAILABLE:case b6e.ERROR_PARSE:(s3Q=O3Q.processEvent(b6e.EVENT_RESELLER_NO_AD,b6e.EVENT_TYPE_IMPRESSION))||b6e.debug("No EVENT_RESELLER_NO_AD callback found.");}d3Q.fail(this);break;default:b6e.debug("Unknown event received",s3Q);}},setCapability:function(J3Q,A3Q){O3Q.setMetr(J3Q,A3Q);},getVersion:function(){return H3Q._adManager.getVersion();},getParameter:function(j3Q){if(!j3Q)return null;if(H3Q._overrideLevelParameterDictionary.hasOwnProperty(j3Q))return H3Q._overrideLevelParameterDictionary[j3Q];if(O3Q.getActiveCreativeRendition()&&"undefined"!==typeof O3Q.getActiveCreativeRendition().getParameter(j3Q))return O3Q.getActiveCreativeRendition().getParameter(j3Q);var Q3Q=O3Q._creative;return Q3Q&&"undefined"!==typeof Q3Q.getParameter(j3Q)?Q3Q.getParameter(j3Q):"undefined"!==typeof O3Q.getSlot().getParameter(j3Q)?O3Q.getSlot().getParameter(j3Q):H3Q._adResponse._profileParameters.hasOwnProperty(j3Q)?H3Q._adResponse._profileParameters[j3Q]:H3Q._globalLevelParameterDictionary.hasOwnProperty(j3Q)?H3Q._globalLevelParameterDictionary[j3Q]:p3Q&&p3Q.hasOwnProperty(j3Q)?p3Q[j3Q]:null;},getCompanionSlots:function(){for(var I3Q=[],i3Q=O3Q._companionAdInstances,k3Q=0;k3Q<i3Q.length;k3Q++)i3Q[k3Q].isPlaceholder()&&I3Q.push(i3Q[k3Q].getSlot());return I3Q;},createNullDrivingAdInstance:function(){var E3Q=O3Q.getSlot().scheduleAdInstance();E3Q.addCreativeRendition().setContentType("null/null");return E3Q;},scheduleAdInstances:function(X5Q){var y3Q,r3Q=[],u5Q=null;X5Q=X5Q||[];if(0===X5Q.length)return r3Q;for(y3Q=0;y3Q<X5Q.length;y3Q++)X5Q[y3Q].getCustomId()===O3Q.getSlot().getCustomId()&&(u5Q=O3Q.getSlot().scheduleAdInstance());if(!u5Q)if(this.isTranslator())u5Q=this.createNullDrivingAdInstance();else if(this.isRenderer())u5Q=O3Q;else return r3Q;for(var h5Q=0;h5Q<X5Q.length;h5Q++){if(X5Q[h5Q].getCustomId()===O3Q.getSlot().getCustomId())u5Q!==O3Q&&r3Q.push(u5Q);else for(var f5Q=0,C5Q=u5Q._companionAdInstances;f5Q<C5Q.length;f5Q++)if(y3Q=C5Q[f5Q],X5Q[h5Q]===y3Q.getSlot()){if(this.isTranslator())r3Q.push(y3Q);else if(this.isRenderer()&&y3Q.isPlaceholder()){var D5Q=y3Q.cloneForTranslation();u5Q===O3Q&&(B3Q[D5Q]=y3Q);C5Q[f5Q]=D5Q;r3Q.push(D5Q);V3Q.push(D5Q);}break;}r3Q.length<=h5Q&&r3Q.push(null);}return r3Q;},commitAdInstance:function(){if(this.isRenderer()&&O3Q.isStarted()){for(var w5Q=0;w5Q<V3Q.length;w5Q++){var Y5Q=V3Q[w5Q];Y5Q&&Y5Q.getSlot().playCompanionAds(Y5Q);}V3Q=[];}else b6e.warn("Skipping RendererController.commitAdInstance when called with driving ad not started or completed.");},isRenderer:function(){return T3Q&&b6e.MODULE_TYPE_RENDERER===T3Q.info()[b6e.INFO_KEY_MODULE_TYPE];},isTranslator:function(){return T3Q&&b6e.MODULE_TYPE_TRANSLATOR===T3Q.info()[b6e.INFO_KEY_MODULE_TYPE];},playable:function(){return d3Q===b6e.RendererInitState.instance;},reset:function(){d3Q=b6e.RendererInitState.instance;},play:function(){for(var F5Q=O3Q.getRenderableCreativeRenditions()||[],R5Q=null,c5Q=0;c5Q<F5Q.length;c5Q++){var U5Q=F5Q[c5Q];if(R5Q=this._matchRendererClassName(U5Q)){O3Q.setActiveCreativeRendition(U5Q);break;}}0===v3Q&&this._actualPlay(R5Q);},_actualPlay:function(q5Q){(Z3Q=b6e.Util.getObject(q5Q)||b6e.Util.getObject(g6e+"."+q5Q))&&(T3Q=new Z3Q());T3Q?d3Q.start(this):this.handleStateTransition(b6e.RENDERER_STATE_FAILED,{errorCode:b6e.ERROR_NO_RENDERER,errorInfo:"Renderer class <"+q5Q+"> not found"});},dispatchEvent:function(o5Q,t5Q){H3Q.dispatchEvent(o5Q,t5Q);},requestContentStateChange:function(l5Q){l5Q?H3Q._requestContentVideoToPauseBySlot(O3Q.getSlot()):H3Q._requestContentVideoToResumeBySlot(O3Q.getSlot());},getRenderer:function(){return T3Q;},setRenderer:function(G5Q){T3Q=G5Q;},setRendererState:function(m5Q){d3Q=m5Q;},getContentVideoElement:function(){return H3Q.getContentVideoElement();},_restorePlaceholdersForHybrid:function(){if(B3Q&&this.isRenderer()){for(var K5Q=[],N5Q=0;N5Q<O3Q._companionAdInstances.length;N5Q++){var a5Q=O3Q._companionAdInstances[N5Q],b5Q=B3Q[a5Q];b5Q?K5Q.push(b5Q):K5Q.push(a5Q);}O3Q._companionAdInstances=K5Q;}0<V3Q.length&&this.isRenderer()&&(V3Q=[]);},rendererMatch:function(g5Q){return Z3Q?Z3Q===b6e.Util.getObject(this._matchRendererClassName(g5Q)):!0;},_matchRendererClassName:function(P5Q){var x5Q=P5Q.getPrimaryCreativeRenditionAsset().getContentType(),p5Q=P5Q.getContentType(),T5Q=P5Q.getWrapperType(),e5Q=P5Q.getCreativeApi(),S5Q=P5Q.getBaseUnit(),z5Q=O3Q.getSoAdUnit(),v5Q=O3Q.getSlot(),V5Q=v5Q.getType();v5Q=v5Q.getTimePositionClass();b6e.debug("match renderer for creativeRendition:"+P5Q.getId());b6e.debug("slot type:"+V5Q);if(b6e.Util.isBlank(p5Q)&&b6e.Util.isBlank(T5Q))return b6e.warn("renderer not match due to both contentType and wrapperType are empty"),null;var L5Q=H3Q._rendererManifest["*"];L5Q||(L5Q=H3Q._rendererManifest[T5Q]);L5Q||(L5Q=H3Q._rendererManifest[p5Q]);function H5Q(s5Q,n5Q,J5Q){b6e.debug("matching "+s5Q+" within "+n5Q);if(!n5Q)return!0;n5Q=n5Q.split(",");n5Q[n5Q.length-1]||n5Q.pop();if(J5Q){s5Q=s5Q.toLowerCase();for(J5Q=0;J5Q<n5Q.length;J5Q++)if(s5Q===n5Q[J5Q].toLowerCase())return!0;b6e.debug("not match");return!1;}(n5Q=0<=n5Q.indexOf(s5Q))||b6e.debug("not match");return n5Q;}if(!L5Q){V5Q=H3Q._overriddenAdRenderers.concat(H3Q._adResponse._adRenderers);for(var B5Q=0;B5Q<V5Q.length;B5Q++){var M5Q=V5Q[B5Q],O5Q=!M5Q.contentType;O5Q||(T5Q?O5Q=H5Q(T5Q,M5Q.contentType,!0):(x5Q&&(O5Q=H5Q(x5Q,M5Q.contentType,!0)),O5Q||(O5Q=H5Q(p5Q,M5Q.contentType,!0))));if(O5Q)if((O5Q=!M5Q.creativeApi)||(O5Q=H5Q(e5Q,M5Q.creativeApi)),O5Q)if(M5Q.baseUnit&&!H5Q(S5Q,M5Q.baseUnit))b6e.debug("can't match renderer "+M5Q.url+" due to baseUnit not match for creativeRendition:"+P5Q.getId());else if(M5Q.soAdUnit&&!H5Q(z5Q,M5Q.soAdUnit))b6e.debug("can't match renderer "+M5Q.url+" due to soAdUnit not match for creativeRendition:"+P5Q.getId());else if(M5Q.slotType&&!H5Q(v5Q.toUpperCase(),M5Q.slotType.toUpperCase()))b6e.debug("can't match renderer "+M5Q.url+" due to slotType not match for creativeRendition:"+P5Q.getId());else{if(b6e.debug("renderer "+M5Q.url+" matched for creativeRendition:"+P5Q.getId()),M5Q.url){L5Q=M5Q.url;P5Q=L5Q.indexOf("?");-1!==P5Q&&(L5Q=L5Q.substring(0,P5Q));P5Q=L5Q.lastIndexOf("/");-1!==P5Q&&(L5Q=L5Q.substring(P5Q+1));P5Q=L5Q.lastIndexOf(".js");-1!==P5Q&&(L5Q=L5Q.substring(0,P5Q));var Z5Q={};if(M5Q.parameter)for(P5Q=[].concat(M5Q.parameter),x5Q=0;x5Q<P5Q.length;x5Q++)if(P5Q[x5Q].hasOwnProperty("name"))Z5Q[P5Q[x5Q].name]=P5Q[x5Q].value;else for(var d5Q in P5Q[x5Q])P5Q[x5Q].hasOwnProperty(d5Q)&&(Z5Q[d5Q]=P5Q[x5Q][d5Q]);b6e.Util.getObject(g6e+"."+L5Q)&&(L5Q=g6e+"."+L5Q);if(b6e.Util.getObject(L5Q))p3Q=Z5Q,v3Q=0;else{if(0<v3Q)break;var W5Q=this;d5Q=1*this.getContext().getParameter("moduleLoadTimeout")||6E4;v3Q=window.setTimeout(function(){v3Q=-1;W5Q.handleStateTransition(b6e.RENDERER_STATE_FAILED,{errorCode:b6e.ERROR_NO_RENDERER,errorInfo:"Load renderer timeout, URL:"+M5Q.url});},d5Q);b6e.Util.lazyJavaScriptLoad(M5Q.url,function(){b6e.log("async load renderer successful, URL:"+M5Q.url);-1===v3Q?b6e.debug("renderer loaded after timeout. WILL NOT PLAY."):(window.clearTimeout(v3Q),v3Q=0,p3Q=Z5Q,W5Q._actualPlay(L5Q));});}break;}}else b6e.debug("can't match renderer "+M5Q.url+" due to creative api not match for creativeRendition:"+P5Q.getId());else b6e.debug("can't match renderer "+M5Q.url+" due to contentType not match for creativeRendition:"+P5Q.getId());}}return L5Q?L5Q:b6e.Util.isBlank(T5Q)?"null/null"===p5Q?g6e+".NullRenderer":null:null;},_inferEventType:function(A5Q){return A5Q===b6e.EVENT_ERROR?b6e.EVENT_TYPE_ERROR:A5Q===b6e.EVENT_AD_CLICK?b6e.EVENT_TYPE_CLICK:A5Q===b6e.EVENT_AD_IMPRESSION||A5Q===b6e.EVENT_AD_FIRST_QUARTILE||A5Q===b6e.EVENT_AD_MIDPOINT||A5Q===b6e.EVENT_AD_THIRD_QUARTILE||A5Q===b6e.EVENT_AD_COMPLETE||A5Q===b6e.EVENT_RESELLER_NO_AD?b6e.EVENT_TYPE_IMPRESSION:A5Q===b6e.EVENT_AD_PAUSE||A5Q===b6e.EVENT_AD_RESUME||A5Q===b6e.EVENT_AD_REWIND||A5Q===b6e.EVENT_AD_MUTE||A5Q===b6e.EVENT_AD_UNMUTE||A5Q===b6e.EVENT_AD_COLLAPSE||A5Q===b6e.EVENT_AD_EXPAND||A5Q===b6e.EVENT_AD_MINIMIZE||A5Q===b6e.EVENT_AD_CLOSE||A5Q===b6e.EVENT_AD_ACCEPT_INVITATION?b6e.EVENT_TYPE_STANDARD:A5Q===b6e.EVENT_AD_MEASUREMENT||A5Q===b6e.EVENT_AD_VOLUME_CHANGE||A5Q===b6e.EVENT_AD_BUFFERING_START||A5Q===b6e.EVENT_AD_BUFFERING_END||b6e.EVENT_AD_INITIATED||b6e.EVENT_AD_AUTO_PLAY_BLOCKED?b6e.EVENT_TYPE_GENERIC:null;},pause:function(){b6e.log("RendererController.pause");T3Q&&"function"===typeof T3Q.pause?T3Q.pause():b6e.log("Renderer.pause() is not implemented.");},resume:function(){b6e.log("RendererController.resume");T3Q&&"function"===typeof T3Q.resume?T3Q.resume():b6e.log("Renderer.resume() is not implemented.");},stop:function(){b6e.log("RendererController.stop");0<v3Q&&(v3Q=-1);d3Q.stop(this);}};};b6e.RenditionSelector=function(j5Q,Q5Q,k5Q,i5Q){this._targetByterate=j5Q;this._arWeight=Q5Q;this._pxWeight=k5Q;this._conversionFactor=i5Q;};b6e.RenditionSelector.prototype={getBestFitRendition:function(E5Q,u0H,X0H){var I5Q=this;E5Q.reverse();E5Q=E5Q.filter(function(h0H){return h0H&&h0H.getPrimaryCreativeRenditionAsset()&&(h0H.getPrimaryCreativeRenditionAsset().getUrl()||h0H.getPrimaryCreativeRenditionAsset().getContent())&&b6e.Util.canPlayVideoType(h0H.getPrimaryCreativeRenditionAsset().getMimeType());}).sort(function(f0H,D0H){return I5Q.getBitrate(f0H)-I5Q.getBitrate(D0H);});if(!E5Q.length)return null;var y5Q=Number.MAX_VALUE,r5Q=E5Q.filter(function(C0H){C0H=I5Q.getBitrate(C0H);y5Q=C0H<y5Q?C0H:y5Q;return C0H<=I5Q._targetByterate;});r5Q.length||(r5Q=E5Q.filter(function(w0H){return I5Q.getBitrate(w0H)<=y5Q;}));return r5Q.sort(function(Y0H,c0H){return I5Q.compareVisualMetrics(Y0H,c0H,u0H,X0H);}).pop();},compareVisualMetrics:function(q0H,o0H,U0H,F0H){var R0H=this.calculateVisualRatios(q0H.getWidth(),q0H.getHeight(),U0H,F0H);F0H=this.calculateVisualRatios(o0H.getWidth(),o0H.getHeight(),U0H,F0H);return!R0H&&F0H?-1:R0H&&!F0H?1:R0H&&F0H&&(U0H=this._conversionFactor*this._arWeight*Math.log(F0H.arRatio),F0H=this._pxWeight*Math.log(F0H.pixelation),R0H=this.findDistance(this._conversionFactor*this._arWeight*Math.log(R0H.arRatio),this._pxWeight*Math.log(R0H.pixelation),0,0),U0H=this.findDistance(U0H,F0H,0,0),U0H!==R0H)?U0H-R0H:q0H.getPreference()-o0H.getPreference();},calculateVisualRatios:function(m0H,K0H,t0H,l0H){if(0<m0H&&0<K0H&&0<t0H&&0<l0H){var G0H=m0H/K0H,N0H=t0H/l0H;G0H>N0H?l0H=t0H/G0H:t0H=l0H*G0H;return{arRatio:G0H/N0H,pixelation:m0H*K0H/(t0H*l0H)};}return null;},findDistance:function(a0H,b0H,g0H,P0H){return isNaN(a0H)||isNaN(g0H)||isNaN(b0H)||isNaN(P0H)?NaN:Math.sqrt(Math.pow(g0H-a0H,2)+Math.pow(P0H-b0H,2));},getBitrate:function(M0H){var L0H=M0H.getDuration();return(M0H=M0H.getPrimaryCreativeRenditionAsset().getBytes())&&L0H&&!isNaN(M0H)&&!isNaN(L0H)&&0<M0H&&0<L0H?8*M0H/1E3/L0H:-1;}};b6e.RenditionSelector.prototype.constructor=b6e.RenditionSelector;b6e.Slot=function(d0H){var V0H="",e0H=null,Q0H=null,x0H=null,v0H=null,H0H=[],S0H=[],B0H={},Z0H=null,T0H=b6e.MediaInitState.instance,W0H=0,O0H=null,u1H,E0H,n0H,s0H,j0H,r0H,k0H=0,i0H=0,I0H=[],A0H=!1,y0H=!1,J0H=!0,p0H=[],X1H,h1H,z0H=!1;return{setAutoPlayBlocked:function(f1H){z0H=f1H;},getSlotProfile:function(){return Q0H;},setSlotProfile:function(D1H){Q0H=D1H;},setMediaState:function(C1H){T0H=C1H;},setParameter:function(w1H,Y1H){null==Y1H?delete B0H[w1H]:B0H[w1H]=Y1H;},getParameter:function(c1H){if(c1H&&B0H.hasOwnProperty(c1H))return B0H[c1H];},getAdCount:function(){return H0H.length;},setCustomId:function(F1H){V0H=F1H;},getCustomId:function(){return V0H;},setAdUnit:function(R1H){j0H=R1H;},getAdUnit:function(){return j0H;},setType:function(U1H){e0H=U1H;},getType:function(){return e0H;},setTimePosition:function(q1H){E0H=q1H;},getTimePosition:function(){return E0H;},setTimePositionClass:function(o1H){O0H=o1H&&o1H.toUpperCase();},getTimePositionClass:function(){return O0H;},setWidth:function(t1H){n0H=t1H;},getWidth:function(){return O0H!==b6e.TIME_POSITION_CLASS_DISPLAY?n0H?n0H:d0H.getVideoDisplaySize().width:n0H;},setHeight:function(l1H){s0H=1*l1H;},getHeight:function(){return O0H!==b6e.TIME_POSITION_CLASS_DISPLAY?s0H?s0H:d0H.getVideoDisplaySize().height:s0H;},setBase:function(G1H){u1H=G1H;},getBase:function(){return u1H;},setCuepointSequence:function(m1H){r0H=1*m1H?1*m1H:0;},getCuepointSequence:function(){return r0H;},getVideoDisplaySize:function(){return d0H.getVideoDisplaySize();},setMaxDuration:function(K1H){k0H=1*K1H?1*K1H:0;},getMaxDuration:function(){return k0H;},setMinDuration:function(N1H){i0H=1*N1H?1*N1H:0;},getMinDuration:function(){return i0H;},setAcceptContentType:function(a1H){if(a1H&&a1H.trim()){a1H=a1H.split(",");for(var b1H=0;b1H<a1H.length;b1H++)I0H.push(a1H[b1H].trim());}},getAcceptContentType:function(){return I0H.join(",");},parse:function(g1H){if(g1H){V0H=g1H.customId;E0H=1*g1H.timePosition;O0H=g1H.timePositionClass&&g1H.timePositionClass.toUpperCase()||O0H;j0H=g1H.adUnit;for(var L1H,M1H=0,x1H=g1H.eventCallbacks||[];M1H<x1H.length;M1H++){L1H=x1H[M1H];var P1H=b6e.EventCallback.newEventCallback(d0H,L1H.name,L1H.type);P1H&&(P1H._slot=this,P1H.parse(L1H),S0H.push(P1H));}M1H=0;for(x1H=g1H.selectedAds||[];M1H<x1H.length;M1H++)L1H=x1H[M1H],g1H=[],P1H=new b6e.AdInstance(d0H),g1H.push(P1H),P1H._slot=this,P1H._slotCustomId=V0H,P1H._parentAdInstancesGroup=g1H,P1H.parse(L1H),H0H.push(g1H);}},getCurrentAdInstance:function(){return x0H;},isPauseSlot:function(){return O0H===b6e.TIME_POSITION_CLASS_PAUSE_MIDROLL;},play:function(T1H){if(z0H)b6e.log("Resuming previously blocked video ad now."),z0H=!1,d0H.getContentVideoElement()&&d0H.getContentVideoElement().play();else{for(var H1H=this.getAdInstances(),O1H=0;O1H<H1H.length;O1H++)H1H[O1H]._isSkipped=!1;O0H!==b6e.TIME_POSITION_CLASS_DISPLAY||J0H?(b6e.log("Slot.play",O0H),A0H=!1,O0H===b6e.TIME_POSITION_CLASS_DISPLAY&&1<H0H.length&&H0H.splice(0,H0H.length-1),this._play(T1H)):(b6e.log("Slot is invisible. Push the play operation to the queue."),p0H.push({operation:this.play,argument:T1H}));}},stop:function(){b6e.log("Slot.stop",O0H);O0H===b6e.TIME_POSITION_CLASS_DISPLAY&&(p0H=[]);T0H===b6e.MediaInitState.instance||T0H===b6e.MediaEndState.instance?b6e.log("Slot.stop, not start or already end, ignore"):(A0H=!0,x0H?x0H.stop():b6e.warn("Slot.stop, no _currentAdInstance, ignore"));},pause:function(){b6e.log("Slot.pause");O0H!==b6e.TIME_POSITION_CLASS_DISPLAY?x0H&&x0H.pause():b6e.log("Not a temporal slot. Ignore.");},resume:function(){b6e.log("Slot.resume");O0H!==b6e.TIME_POSITION_CLASS_DISPLAY?x0H&&x0H.resume():b6e.log("Not a temporal slot. Ignore.");},skipCurrentAd:function(){b6e.log("Slot.skipCurrentAd ",x0H);x0H?x0H.skip():b6e.log("Slot.skipCurrentAd, no _currentAdInstance, ignore");},setVisible:function(d1H){if(O0H!==b6e.TIME_POSITION_CLASS_DISPLAY)b6e.log("Slot.setVisible is only for display ads.");else if(b6e.log("Slot.setVisible",d1H),J0H!==d1H&&(J0H=d1H))for(;0<p0H.length;)d1H=p0H.pop(),d1H.operation&&d1H.operation.call(this,d1H.argument);},_play:function(v1H){Z0H=Z0H||v1H;T0H.play(this);},onStartPlaying:function(){this._onStartPlaying();},onStartReplaying:function(){this._onStartPlaying();},onCompletePlaying:function(){this._onCompletePlaying();},onCompleteReplaying:function(){this._onCompletePlaying();},playNextAdInstance:function(){b6e.log("Slot.playNextAdInstance ",O0H);this._playNextAdInstance()||T0H.complete(this);},scheduleAdInstance:function(){return v0H=x0H.cloneForTranslation();},_clearScheduledAdInstance:function(){v0H=null;},_onStartPlaying:function(){O0H===b6e.TIME_POSITION_CLASS_MIDROLL&&0<H0H.length&&d0H._requestContentVideoToPauseBySlot(this);var V1H=b6e.EventCallback.getEventCallback(S0H,b6e.EVENT_SLOT_IMPRESSION,b6e.EVENT_TYPE_IMPRESSION);V1H&&V1H.process();this.dispatchSlotEvent(b6e.EVENT_SLOT_STARTED);this.playNextAdInstance();},dispatchSlotEvent:function(p1H){y0H||d0H.dispatchEvent(p1H,{slot:this});},_onCompletePlaying:function(){Z0H&&Z0H();Z0H=null;p0H=[];var Z1H=b6e.EventCallback.getEventCallback(S0H,b6e.EVENT_SLOT_END,b6e.EVENT_TYPE_IMPRESSION);Z1H&&Z1H.process();x0H=null;this.dispatchSlotEvent(b6e.EVENT_SLOT_ENDED);O0H===b6e.TIME_POSITION_CLASS_MIDROLL&&0<H0H.length&&d0H._requestContentVideoToResumeBySlot(this);},_playNextAdInstance:function(){if(A0H||T0H!==b6e.MediaPlayingState.instance&&T0H!==b6e.MediaReplayingState.instance)return!1;this._commitScheduledAdInstance();x0H=this._nextPlayableAdInstance();if(!x0H)return!1;x0H.reset();x0H._isInitiatedSent||(x0H.getRendererController().processEvent({name:b6e.EVENT_AD_INITIATED}),x0H._isInitiatedSent=!0);x0H.getRendererController().play();return!0;},_commitScheduledAdInstance:function(){if(v0H){var B1H=x0H._parentAdInstancesGroup.indexOf(x0H);0<=B1H&&(v0H._parentAdInstancesGroup=x0H._parentAdInstancesGroup,x0H._parentAdInstancesGroup.splice(B1H,1,v0H),v0H=null);}},_nextPlayableAdInstance:function(){if(x0H){var z1H=x0H._parentAdInstancesGroup,W1H=z1H.indexOf(x0H);var e1H=H0H.indexOf(z1H);0<=e1H&&0<=W1H&&(x0H._isImpressionSent||x0H._isSkipped||W1H===z1H.length-1)&&e1H++;}else e1H=0;if(0>e1H||e1H>=H0H.length)return null;var S1H;if(T0H===b6e.MediaPlayingState.instance)for(z1H=H0H[e1H],S1H=0;S1H<z1H.length;S1H++){if(W1H=z1H[S1H],W1H.getRendererController().playable())return W1H;}else if(T0H===b6e.MediaReplayingState.instance)for(;e1H<H0H.length;e1H++){z1H=H0H[e1H];for(S1H=0;S1H<z1H.length;S1H++)if(W1H=z1H[S1H],W1H._isImpressionSent)return W1H;for(S1H=0;S1H<z1H.length;S1H++)if(W1H=z1H[S1H],W1H.getRendererController().getRendererState()!==b6e.RendererFailedState.instance&&!W1H._translated)return W1H;}return null;},toString:function(){return"[Slot "+V0H+"]";},getAdInstances:function(){for(var J1H=[],n1H=0;n1H<H0H.length;++n1H)for(var A1H=H0H[n1H],s1H=0;s1H<A1H.length;++s1H){var j1H=A1H[s1H];if(j1H.isPlayable()){J1H.push(j1H);break;}}return J1H;},getPlayheadTime:function(){for(var k1H=0,Q1H=this.getAdInstances(),i1H=0;i1H<Q1H.length;++i1H)if(Q1H[i1H]===x0H){Q1H=x0H.getPlayheadTime();-1<Q1H&&(k1H+=Q1H);break;}else{var I1H=Q1H[i1H].getDuration();-1<I1H&&(k1H+=I1H);}W0H&&k1H>W0H&&(k1H=W0H);return k1H;},getTotalDuration:function(){if(e0H!==b6e.SLOT_TYPE_TEMPORAL)return-1;for(var y1H=0,r1H=this.getAdInstances(),E1H=0;E1H<r1H.length;++E1H){var u4H=r1H[E1H].getDuration();-1<u4H&&(y1H+=u4H);}return W0H=y1H;},playCompanionAds:function(h4H){b6e.log("Slot.playCompanionAds");var X4H=[];h4H._parentAdInstancesGroup=X4H;X4H.push(h4H);H0H.push(X4H);y0H=!0;x0H&&this.stop();this.play();},getState:function(){return T0H;},setAcceptCompanion:function(f4H){X1H=f4H;},getAcceptCompanion:function(){return X1H;},setInitialAdOption:function(D4H){h1H=D4H;},getInitialAdOption:function(){return h1H;}};};b6e.SurveyExtension=function(){this._surveyPingedIds=[];};b6e.SurveyExtension.prototype={init:function(C4H){this._context=C4H;b6e.log("SurveyExtension.init("+Array.prototype.slice.call(arguments).join(",")+")");this._onAdStarted=b6e.Util.bind(this,function(F4H){this._parameters=this._getParameters();if(this._parameters.enabled){b6e.log("SurveyExtension.onAdStarted()");var w4H=F4H.adInstance;if(-1<this._surveyPingedIds.indexOf(w4H.getAdId()))b6e.log("won't pingback survey since it has been pinged back");else{var Y4H=w4H._creative.getParameter("_fw_survey_url");if(Y4H)try{b6e.log("append"+Y4H+" to head");var R4H=document.getElementsByTagName("head")[0],c4H=document.createElement("script");c4H.setAttribute("type","text/javascript");c4H.setAttribute("src",Y4H);R4H.appendChild(c4H);this._surveyPingedIds.push(w4H.getAdId());}catch(U4H){b6e.warn("Append survey to head",F4H.type,U4H);}}}});this._context.addEventListener(b6e.EVENT_AD_IMPRESSION,this._onAdStarted);},dispose:function(){b6e.log("SurveyExtension.dispose()");this._context.removeEventListener(b6e.EVENT_AD_IMPRESSION,this._onAdStarted);this._parameters=this._onAdStarted=null;},_getParameters:function(){var q4H={};q4H.enabled="false"!==this._context.getParameter(b6e.PARAMETER_EXTENSION_SURVEY_ENABLED);b6e.log(q4H);return q4H;}};b6e.SurveyExtension.prototype.constructor=b6e.SurveyExtension;b6e.Timer=function(o4H,t4H){this._lastTickDate=new Date();this._duration=o4H||-1;this._playheadTime=-1;this._callback=t4H;this._state=-1;};b6e.Timer.prototype={};b6e.Timer.prototype.constructor=b6e.Timer;b6e.Util.mixin(b6e.Timer.prototype,{tick:function(){var l4H=new Date(),G4H=Math.round((l4H.getTime()-this._lastTickDate.getTime())/1E3);this._lastTickDate=l4H;return G4H;},start:function(){if(0!==this._state){if(2===this._state||-1===this._playheadTime)this._playheadTime=0;this._state=0;this._timeStamp=new Date();this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null);var m4H=this,K4H=1E3*(this._duration-this._playheadTime);0>K4H||(this._timeouter=window.setTimeout(function(){m4H.stop();m4H._playheadTime=m4H._duration;m4H._callback&&m4H._callback();},K4H));}},pause:function(){0===this._state&&(this._state=1,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null),this._playheadTime=(new Date()-this._timeStamp)/1E3+this._playheadTime);},stop:function(){this._state=2;this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null);this._playheadTime=(new Date()-this._timeStamp)/1E3+this._playheadTime;},getPlayheadTime:function(){return 0===this._state?(new Date()-this._timeStamp)/1E3+this._playheadTime:this._playheadTime;},getCTValue:function(){return(new Date()-this._timeStamp)/1E3;},getDuration:function(){return this._duration;}});b6e.VastTranslator=function(){this._rendererController=this._request=null;};b6e.VastTranslator.prototype={start:function(x4H){function z4H(a6H){O4H.call(this,a6H);}function u6H(y6H,r6H,u2H,E6H,X2H){N4H("getCoadHTML, ad id = "+y6H.getAdId());return E6H.url&&0<E6H.url.length?((u2H=E6H.clickThrough)&&0<u2H.length&&y6H.setClickThroughUrl(b6e.EVENT_AD_CLICK,u2H),y6H=y6H.getEventCallbackUrls(b6e.EVENT_AD_CLICK,b6e.EVENT_TYPE_CLICK)[0],b6e.HTMLAdGenerator.generateAd(E6H.url,y6H,r6H,E6H.width,E6H.height,E6H.creativeType,X2H)):E6H.code&&0<E6H.code.length?"script"===E6H.resourceType||"text/javascript"===E6H.resourceType||"text/js_ref"===E6H.resourceType||"application/x-javascript"===E6H.resourceType?b6e.HTMLAdGenerator.wrapJSCode(E6H.code,r6H,E6H.width,E6H.height):b6e.HTMLAdGenerator.wrapUnsafeHTML(E6H.code,r6H,E6H.width,E6H.height):null;}this._rendererController=x4H;var j4H="image/gif image/jpeg image/png text/html text/javascript text/html_doc_ref text/html_doc_lit_mobile application/x-javascript application/javascript".split(" "),n4H=!1,L4H=x4H.getAdInstance(),b4H=this,v4H=L4H.getSlot(),V4H=function(){if(!v4H)return 1;switch(v4H.getTimePositionClass()){case b6e.TIME_POSITION_CLASS_PREROLL:case b6e.TIME_POSITION_CLASS_MIDROLL:case b6e.TIME_POSITION_CLASS_POSTROLL:return 2;case b6e.TIME_POSITION_CLASS_OVERLAY:return 4;case b6e.TIME_POSITION_CLASS_DISPLAY:return v4H&&!v4H.getBase()?8:1;default:return 1;}}(),p4H=x4H.getCompanionSlots().filter(function(m2H){if(!m2H)return!1;switch(m2H.getTimePositionClass()){case b6e.TIME_POSITION_CLASS_PREROLL:case b6e.TIME_POSITION_CLASS_MIDROLL:case b6e.TIME_POSITION_CLASS_PAUSE_MIDROLL:case b6e.TIME_POSITION_CLASS_POSTROLL:return!1;default:return!0;}});N4H("Checking CompanionSlots, length = "+p4H.length+", rendererController.getCompanionSlots().length = "+x4H.getCompanionSlots().length+", AdInstance.getCompanionSlots.length = "+L4H.getCompanionSlots().length);function E4H(F2H){if(200===F2H.status)if(F2H.responseXML){var R2H=new h6H().parseAdData(F2H.responseXML);if(R2H){N4H("scheduleVastAds");if(R2H&&0!==R2H.length)if(F2H=R2H[0].selectedPackage,R2H=R2H[0].redirectPackage,!F2H&&!R2H)if(N4H("scheduleVastAds(), no ads from vast response!!!"),n4H)if(4!==V4H)b4H.onTranslatorFailed(b6e.ERROR_NO_AD_AVAILABLE,"Expecting linear ad but returned non-linear ad",b6e.ERROR_VAST_LINEARITY_NOT_MATCH);else b4H.onTranslatorFailed(b6e.ERROR_NO_AD_AVAILABLE,"Expecting non-linear ad but returned linear ad",b6e.ERROR_VAST_LINEARITY_NOT_MATCH);else b4H.onTranslatorFailed(b6e.ERROR_NO_AD_AVAILABLE,"wrapperUrl="+P4H);else if(!F2H&&R2H){N4H("scheduleVastAds(), no ads scheduled, redirect to downstream Secondary Ad Server");N4H("scheduleRedirect");F2H=[];var l2H=[];F2H.push(v4H);l2H.push({});for(var t2H=p4H,q2H=R2H.selectedCompanionAds,U2H=0;U2H<t2H.length;U2H++){var o2H=t2H[U2H];q2H&&q2H[o2H.getCustomId()]&&(F2H.push(o2H),l2H.push(q2H[o2H.getCustomId()]));}(t2H=x4H.scheduleAdInstances(F2H))&&0<t2H.length&&(q2H=t2H[0],U2H=q2H.addCreativeRendition(),U2H.setWrapperUrl(b6e.Util.transformUrlToProxy(R2H.tagUrl)),U2H.setWrapperType(r4H),U2H.setContentType(s4H),U2H.setCreativeApi(J4H),k4H(q2H,R2H.getTrackingEventsOfWrapper()),Q4H(q2H,R2H),y4H(q2H,R2H.getClickThroughOfWrapper(),R2H.getClickTrackingsOfWrapper(),R2H.getCustomClicksOfWrapper(),R2H.getImpressionOfWrapper()));N4H("scheduleRedirect, schedule companion for redirect ad "+R2H);for(U2H=1;U2H<t2H.length;U2H++)if(q2H=t2H[U2H])o2H=l2H[U2H],o2H instanceof T4H&&X6H(F2H[U2H],q2H,o2H,R2H);}else{if(F2H){N4H("scheduleVastAds(), ads returned from vast response, going to schedule them");F2H.selectedDrivingAd?(N4H("scheduleVastAds(), ads returned from vast response, going to schedule them with driving ad"),F2H.selectedDrivingAd.isDrivingAd=!0):N4H("scheduleVastAds(), ads returned from vast response, going to schedule them without driving ad");N4H("scheduleAdPackage()");R2H=[];l2H=[];R2H.push(v4H);F2H.selectedDrivingAd&&l2H.push(F2H.selectedDrivingAd);t2H=p4H;q2H=F2H.selectedCompanionAds;for(U2H=0;U2H<t2H.length;U2H++)o2H=t2H[U2H],q2H&&q2H[o2H.getCustomId()]&&(R2H.push(o2H),l2H.push(q2H[o2H.getCustomId()]));q2H=x4H.scheduleAdInstances(R2H);if(0<q2H.length){N4H("scheduleAdPackage, scheduled "+q2H.length+" ads"+F2H.selectedDrivingAd?"":", 1 of it is nullAd for pure companion ad schedule");F2H.selectedDrivingAd||N4H("Driving ad is not selected, will create a dummy null ad.");F2H.selectedDrivingAd||(R2H.shift(),f6H(q2H.shift(),F2H));for(U2H=0;U2H<q2H.length;U2H++)if(o2H=q2H[U2H]){var G2H=l2H[U2H];G2H instanceof T4H?X6H(R2H[U2H],o2H,G2H,F2H):f6H(o2H,F2H);}!F2H.selectedDrivingAd&&0<t2H.length&&0<F2H.companionAds.length&&0===l2H.length&&(N4H("found empty companion slots and companion ads in package, but none of them matches slot size"),b4H.onTranslatorFailed(b6e.ERROR_UNMATCHED_SLOT_SIZE));}else N4H("scheduleAdPackage, no ad scheduled.");}}else N4H("no ads for scheduleVastAds");b4H._request=null;x4H.handleStateTransition(b6e.TRANSLATOR_STATE_STARTED);x4H.handleStateTransition(b6e.TRANSLATOR_STATE_COMPLETED);}}else b4H.onTranslatorFailed(b6e.ERROR_PARSE,"wrapperUrl="+P4H,b6e.ERROR_VAST_XML_PARSING);else if(400<=F2H.status)b4H.onTranslatorFailed(b6e.ERROR_IO,"wrapperUrl="+P4H);}var s4H=L4H.getActiveCreativeRendition().getContentType(),J4H=L4H.getActiveCreativeRendition().getCreativeApi()||"None";this.log("ExpectedDrivingContentType:"+s4H+", ExpectedDrivingAPI:"+J4H);function X6H(Y2H,D2H,w2H,c2H){N4H("initPageAdInstance ad:"+D2H.getAdId());var h2H=w2H.vastRenditions[0];if(h2H.url||h2H.code){var C2H=D2H.addCreativeRendition(),f2H=C2H.addCreativeRenditionAsset("VAST_CRA",!0);C2H.setCreativeApi(h2H.creativeApi);C2H.setWidth(h2H.width);C2H.setHeight(h2H.height);"static"===h2H.resourceType&&"text/html"===h2H.creativeType||"iframe"===h2H.resourceType?(f2H.setContentType("text/html_doc_ref"),f2H.setUrl(h2H.url)):"HTML"===h2H.resourceType?(f2H.setContentType("text/html_doc_lit_mobile"),f2H.setContent(b6e.HTMLAdGenerator.wrapUnsafeHTML(h2H.code,Y2H.getCustomId(),h2H.width,h2H.height))):(f2H.setContentType("text/html_doc_lit_mobile"),f2H.setContent(u6H(D2H,Y2H.getCustomId(),w2H,h2H,"text/html_doc_lit_mobile")));f2H.setMimeType("text/html");}else N4H("initPageAdInstance will add a tracking only companion ad");k4H(D2H,w2H.trackingEvents);Q4H(D2H,c2H);y4H(D2H,h2H.clickThrough,h2H.clickTrackings,h2H.customClicks,w2H.impressions);}var r4H=L4H.getActiveCreativeRendition().getWrapperType();W4H.prototype={init:function(N2H,a2H,b2H,g2H,P2H,M2H,L2H,x2H){this.log("init("+[].slice.call(arguments,0).join(",")+")");this.url=N2H;this.width=1*a2H;this.height=1*b2H;this.creativeType=g2H;this.resourceType=P2H;this.bitrate=M2H;var K2H;if((K2H=L2H)&&0!==K2H.length)switch(K2H.toLowerCase()){case"flashvar":case"flashvars":K2H="clickTag";break;case"vpaid":K2H="VPAID";break;case"mraid":K2H="MRAID-1.0";}else K2H="None";this.creativeApi=K2H;this.code=x2H||null;},log:function(O2H){b6e.log("VastTranslator.VastRendition\t"+O2H);},toString:function(){var T2H=[],H2H;for(H2H in this)this.hasOwnProperty(H2H)&&"function"!==typeof this[H2H]&&"ad"!==H2H&&T2H.push(H2H+":"+this[H2H]);return T2H.join(",");}};function S4H(l6H){if(!l6H)return!1;for(var t6H=0;t6H<j4H.length;t6H++)if(b6e.Util.trim(j4H[t6H]).toLowerCase()===b6e.Util.trim(l6H).toLowerCase())return!0;return!1;}W4H.prototype.constructor=W4H;O4H.prototype={parse:function(d2H){this.log("parse()");if(d2H.Duration)if(d2H.Duration.value){var v2H=/(\d+):(\d+):(\d+)/.exec(d2H.Duration.value);v2H?this.duration=3600*v2H[1]+60*v2H[2]+1*v2H[3]:this.warn("Failed to parse duration value for creative "+d2H);}else this.warn("No duration value set for creative "+d2H);d2H.VideoClicks&&(d2H.VideoClicks=[].concat(d2H.VideoClicks),b6e.Util.forEachOnArray(d2H.VideoClicks,function(V2H){V2H.ClickThrough&&V2H.ClickThrough.value&&(this.clickThrough=H4H(V2H.ClickThrough.value));var Z2H;if(V2H.ClickTracking){V2H.ClickTracking=[].concat(V2H.ClickTracking);for(var p2H=0;p2H<V2H.ClickTracking.length;p2H++)(Z2H=H4H(V2H.ClickTracking[p2H].value))&&this.clickTrackings.push(Z2H);}if(V2H.CustomClick)for(V2H.CustomClick=[].concat(V2H.CustomClick),p2H=0;p2H<V2H.CustomClick.length;p2H++){var B2H=null;V2H.CustomClick[p2H]["@attributes"]&&(B2H=V2H.CustomClick[p2H]["@attributes"].id);(Z2H=H4H(V2H.CustomClick[p2H].value))&&this.customClicks.push({id:B2H,url:Z2H});}},this));d2H.MediaFiles&&d2H.MediaFiles.MediaFile&&(d2H.MediaFiles.MediaFile=[].concat(d2H.MediaFiles.MediaFile),b6e.Util.forEachOnArray(d2H.MediaFiles.MediaFile,function(W2H){var e2H=H4H(W2H.value),z2H=NaN,S2H=NaN,n2H=null,s2H="None",J2H=NaN;W2H["@attributes"]&&(z2H=W2H["@attributes"].width||NaN,S2H=W2H["@attributes"].height||NaN,n2H=W2H["@attributes"].type,s2H=W2H["@attributes"].apiFramework||"None",J2H=W2H["@attributes"].bitrate||NaN);e2H&&-1!==e2H.indexOf(":")?(W2H=new W4H(this),W2H.init(e2H,z2H,S2H,n2H,"",J2H,s2H,null),W2H.clickThrough=this.clickThrough,this.vastRenditions.push(W2H),(isNaN(z2H)||isNaN(S2H))&&this.log("continue with missing [width,height]"+[z2H,S2H])):this.warn("will ignore this mediaFile because some required field is missing [url,width,height]:"+[e2H,z2H,S2H]);},this));d2H.TrackingEvents&&this.parseTrackingEvents(d2H.TrackingEvents,this.setTrackingEvents());d2H.AdParameters&&(this.log("parse() got AdParameters:"+d2H.AdParameters.value),this.creativeData=d2H.AdParameters.value);d2H.Companion&&(d2H.Companion=[].concat(d2H.Companion),b6e.Util.forEachOnArray(d2H.Companion,function(A2H){var i2H=null,I2H=null,E2H="",y2H="",k2H=null,Q2H=null,r2H=!1;A2H.CompanionClickThrough&&(y2H=H4H(A2H.CompanionClickThrough.value));A2H.StaticResource&&(i2H=H4H(A2H.StaticResource.value),A2H.StaticResource["@attributes"]&&(I2H=A2H.StaticResource["@attributes"].creativeType),E2H="static");A2H.IFrameResource&&(i2H=H4H(A2H.IFrameResource.value))&&(I2H="text/html_doc_ref",E2H="iframe");A2H.HTMLResource&&(k2H=A2H.HTMLResource["#cdata-section"]||"",k2H=b6e.Util.trim(k2H))&&(I2H="text/html_doc_lit_mobile",E2H="HTML");A2H.TrackingEvents&&(Q2H=A2H.TrackingEvents);var j2H=new T4H(this.adp);j2H.sequence=this.sequence;j2H.clickThrough=y2H;Q2H&&j2H.parseTrackingEvents(Q2H,j2H.setTrackingEvents());if(A2H["@attributes"]){Q2H=A2H["@attributes"].width||NaN;var X7H=A2H["@attributes"].height||NaN;A2H=A2H["@attributes"].apiFramework||"None";if((i2H&&-1!==i2H.indexOf(":")||k2H)&&!isNaN(Q2H)&&!isNaN(X7H)&&S4H(I2H)||this.adp.isWrapper){var u7H=new W4H(j2H);u7H.init(i2H,Q2H,X7H,I2H,E2H,NaN,A2H,k2H);u7H.clickThrough=y2H;j2H.vastRenditions.push(u7H);}else r2H=!0,this.warn("will ignore this rendition because some required fields is missing or incompatible [creativeType,url,code,width,height]:"+[I2H,i2H,k2H,Q2H,X7H]);}else this.adp.isWrapper||(r2H=!0,this.warn("for InLine ad package, No attributes found for the Companion ads:"+A2H));r2H?this.adp.isWrapper&&this.adp.companionAds.push(j2H):this.adp.companionAds.push(j2H);},this));d2H.NonLinear&&(d2H.NonLinear=[].concat(d2H.NonLinear),b6e.Util.forEachOnArray(d2H.NonLinear,function(h7H){var Y7H=null,C7H=null,c7H="",F7H="",D7H="",w7H=null,R7H=!1;h7H.AdParameters&&(D7H=h7H.AdParameters.value);h7H.NonLinearClickThrough&&(F7H=H4H(h7H.NonLinearClickThrough.value));h7H.StaticResource&&(Y7H=H4H(h7H.StaticResource.value),h7H.StaticResource["@attributes"]&&(C7H=h7H.StaticResource["@attributes"].creativeType),c7H="static");h7H.IFrameResource&&(Y7H=H4H(h7H.IFrameResource.value),C7H="text/html_doc_ref",c7H="iframe");h7H.HTMLResource&&(w7H=h7H.HTMLResource["#cdata-section"]||"",w7H=b6e.Util.trim(w7H),C7H="text/html_doc_lit_mobile",c7H="HTML");var f7H=new z4H(this.adp);f7H.sequence=this.sequence;f7H.clickThrough=F7H;f7H._trackingEvents=this._trackingEvents;D7H&&(f7H.creativeData=D7H);if(h7H["@attributes"]){D7H=h7H["@attributes"].width||NaN;var q7H=h7H["@attributes"].height||NaN;h7H=h7H["@attributes"].apiFramework||"None";if(!Y7H&&!w7H||isNaN(D7H)||isNaN(q7H)||!S4H(C7H))R7H=!0,this.warn("will ignore this rendition because some required fields is missing or incompatible:[creativeType,url,code,width,height]:"+[C7H,Y7H,w7H,D7H,q7H]);else{var U7H=new W4H(f7H);U7H.init(Y7H,D7H,q7H,C7H,c7H,NaN,h7H,w7H);U7H.clickThrough=F7H;f7H.vastRenditions.push(U7H);}}else this.adp.isWrapper||(R7H=!0,this.warn("for InLine ad package, No attributes found for the NonLinear ads:"+h7H));this.adp.nonLinearAds.push(f7H);R7H?this.adp.isWrapper&&this.adp.nonLinearAds.push(f7H):this.adp.nonLinearAds.push(f7H);},this));},parseLinears:function(o7H){2!==V4H?(this.log("TargetAdType != TARGET_LINEAR, skipping parse"),n4H=!0):this.parse(o7H);},parseNonLinears:function(t7H){4!==V4H?(this.log("TargetAdType != TARGET_NONLINEAR, skipping parse"),n4H=!0):this.parse(t7H);},parseCompanionAds:function(l7H){this.parse(l7H);},setTrackingEvents:function(){this._trackingEvents||(this._trackingEvents=new D6H());return this._trackingEvents;},parseTrackingEvents:function(G7H,m7H){this.log("parseTrackingEvents");G7H.Tracking&&(G7H.Tracking=[].concat(G7H.Tracking),b6e.Util.forEachOnArray(G7H.Tracking,function(K7H){var N7H=K7H["@attributes"].event;if(K7H=H4H(K7H.value))switch(N7H){case"creativeView":case"start":case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":case"mute":case"unmute":case"pause":case"resume":case"rewind":case"replay":case"fullscreen":case"expand":case"collapse":case"acceptInvitation":case"stop":m7H[N7H].push(K7H);break;case"close":m7H.stop.push(K7H);}},this));},toString:function(){return this.constructor.name+", renditions:"+this.vastRenditions;},log:function(a7H){b6e.log("VastTranslator."+this.constructor.name+"\t"+a7H);},warn:function(b7H){b6e.warn("VastTranslator."+this.constructor.name+"\t"+b7H);}};function N4H(w6H){b6e.log("VastTranslator\t"+w6H);}var M4H=Object.defineProperty||function(P7H,M7H,g7H){g7H.get&&P7H.__defineGetter__(M7H,g7H.get);g7H.set&&P7H.__defineSetter__(M7H,g7H.set);};M4H(O4H.prototype,"trackingEvents",{get:function(){this.log("get trackingEvents()");return this._trackingEvents?this._trackingEvents:this.isDrivingAd?this.adp.trackingEvents:null;}});function C6H(c6H,R6H){if(c6H)if(c6H.length&&"string"!==typeof c6H)for(var F6H=0;F6H<c6H.length;F6H++)R6H(c6H[F6H].value);else c6H.value&&R6H(c6H.value);}M4H(O4H.prototype,"impressions",{set:function(L7H){this._impressions=L7H;},get:function(){return this.isDrivingAd?this._impressions.concat(this.adp.impressions):this._impressions;}});function i4H(U6H,q6H){C6H(q6H,function(o6H){o6H&&U6H.push(o6H);});}O4H.prototype.constructor=O4H;function H4H(G6H){if(!G6H)return null;"string"!==typeof G6H&&(G6H=G6H.toString());G6H=b6e.Util.trim(G6H);return-1<G6H.indexOf("://")?G6H:null;}Z4H.prototype=new O4H();function h6H(){}Z4H.prototype.constructor=Z4H;function k4H(d6H,v6H){N4H("initTrackingEvents()");v6H&&d6H&&(g4H(d6H,b6e.EVENT_AD_IMPRESSION,b6e.EVENT_TYPE_IMPRESSION,v6H.creativeView),g4H(d6H,b6e.EVENT_AD_IMPRESSION,b6e.EVENT_TYPE_IMPRESSION,v6H.start),g4H(d6H,b6e.EVENT_AD_FIRST_QUARTILE,b6e.EVENT_TYPE_IMPRESSION,v6H.firstQuartile),g4H(d6H,b6e.EVENT_AD_MIDPOINT,b6e.EVENT_TYPE_IMPRESSION,v6H.midpoint),g4H(d6H,b6e.EVENT_AD_THIRD_QUARTILE,b6e.EVENT_TYPE_IMPRESSION,v6H.thirdQuartile),g4H(d6H,b6e.EVENT_AD_COMPLETE,b6e.EVENT_TYPE_IMPRESSION,v6H.complete),g4H(d6H,b6e.EVENT_AD_MUTE,b6e.EVENT_TYPE_STANDARD,v6H.mute),g4H(d6H,b6e.EVENT_AD_UNMUTE,b6e.EVENT_TYPE_STANDARD,v6H.unmute),g4H(d6H,b6e.EVENT_AD_PAUSE,b6e.EVENT_TYPE_STANDARD,v6H.pause),g4H(d6H,b6e.EVENT_AD_RESUME,b6e.EVENT_TYPE_STANDARD,v6H.resume),g4H(d6H,b6e.EVENT_AD_REWIND,b6e.EVENT_TYPE_STANDARD,v6H.rewind),g4H(d6H,b6e.EVENT_AD_EXPAND,b6e.EVENT_TYPE_STANDARD,v6H.fullscreen),g4H(d6H,b6e.EVENT_AD_COLLAPSE,b6e.EVENT_TYPE_STANDARD,v6H.collapse),g4H(d6H,b6e.EVENT_AD_EXPAND,b6e.EVENT_TYPE_STANDARD,v6H.expand),g4H(d6H,b6e.EVENT_AD_CLOSE,b6e.EVENT_TYPE_STANDARD,v6H.stop),g4H(d6H,b6e.EVENT_AD_ACCEPT_INVITATION,b6e.EVENT_TYPE_STANDARD,v6H.acceptInvitation));}function O4H(K6H){this._impressions=[];this.clickThrough=null;this.clickTrackings=[];this.customClicks=[];this.creativeData=null;this.sequence=-1;this.universalAdId=null;this.vastRenditions=[];this.duration=NaN;this.adp=K6H;this.isDrivingAd=!1;}function D6H(){this.creativeView=[];this.start=[];this.firstQuartile=[];this.midpoint=[];this.thirdQuartile=[];this.complete=[];this.mute=[];this.unmute=[];this.pause=[];this.rewind=[];this.resume=[];this.replay=[];this.fullscreen=[];this.expand=[];this.collapse=[];this.acceptInvitation=[];this.stop=[];}z4H.prototype=new O4H();z4H.prototype.constructor=z4H;T4H.prototype=new O4H();function Q4H(H6H,T6H){N4H("initErrorTrackings()");H6H&&T6H&&g4H(H6H,b6e.EVENT_ERROR,b6e.EVENT_TYPE_ERROR,T6H.errorTrackings);}function B4H(Y6H){b6e.warn("VastTranslator\t"+Y6H);}function g4H(O6H,L6H,x6H,g6H){if(O6H&&g6H&&0<g6H.length){N4H("augmentCallbacks("+L6H+", "+x6H+", "+g6H+")");for(var M6H=O6H.getEventCallbackUrls(L6H,x6H),P6H=0;P6H<M6H.length;P6H++)-1<g6H.indexOf(M6H[P6H])&&(N4H("augmentCallbacks() url = "+M6H[P6H]),g6H.unshift(M6H[P6H]));O6H.addEventCallbackUrls(L6H,x6H,g6H);}else N4H("augmentCallbacks("+L6H+", "+x6H+", "+g6H+"), empty callbacks");}T4H.prototype.getPrimaryRendition=function(){return this.vastRenditions[0]||null;};M4H(T4H.prototype,"impressions",{get:function(){return 8===V4H?this._impressions.concat(this.adp.impressions):this._impressions;}});T4H.prototype.constructor=T4H;function T4H(b6H){O4H.call(this,b6H);}var e4H=function(){this.impressions=[];this.errorTrackings=[];this.linearAds=[];this.nonLinearAds=[];this.companionAds=[];this.extensions=[];this.tagUrl="";this.isWrapper=!1;this.surveyUrl=null;this.selectedDrivingRenditions=[];this.selectedDrivingAd=null;this.selectedCompanionAds={};};e4H.prototype={parse:function(x7H){this.log("parse("+x7H+")");if(x7H)if(this.isWrapper||x7H.Creatives&&x7H.Creatives.Creative){x7H.Creatives=x7H.Creatives||[];i4H(this.impressions,x7H.Impression);i4H(this.extensions,x7H.Extensions);i4H(this.errorTrackings,x7H.Error);this.isWrapper&&x7H.VASTAdTagURI&&(this.tagUrl=x7H.VASTAdTagURI.value||"");x7H.Survey&&x7H.Survey.value&&0<x7H.Survey.value.length&&(this.surveyUrl=x7H.Survey.value);x7H.Creatives.Creative=x7H.Creatives.Creative?[].concat(x7H.Creatives.Creative):[];for(var d7H=0;d7H<x7H.Creatives.Creative.length;d7H++){var H7H=x7H.Creatives.Creative[d7H],T7H=-1;H7H["@attributes"]&&(T7H=H7H["@attributes"].sequence||-1,T7H*=1);if(H7H.Linear){var O7H=new Z4H(this);O7H.sequence=T7H;O7H.parseLinears(H7H.Linear);this.linearAds.push(O7H);}else H7H.NonLinearAds?(O7H=new z4H(this),O7H.sequence=T7H,O7H.parseNonLinears(H7H.NonLinearAds)):H7H.CompanionAds&&(O7H=new T4H(this),O7H.sequence=T7H,O7H.parseCompanionAds(H7H.CompanionAds));O7H&&H7H.UniversalAdId?(O7H.universalAdId={idRegistry:H7H.UniversalAdId["@attributes"].idRegistry,idValue:H7H.UniversalAdId["@attributes"].idValue},this.log("Universal Ad ID with idRegistry "+O7H.universalAdId.idRegistry+" and idValue "+O7H.universalAdId.idValue)):this.log("No Universal Ad ID is present in the VAST response.");}}else this.warn("parse(): no creative found!");else this.warn("parse(): empty adpackage");},testAndUpdatePackageForTemporalSlot:function(v7H){this.log("testAndUpdatePackageForTemporalSlot("+v7H+")");v7H=v7H?this.linearAds:this.nonLinearAds;if(1>v7H.length)return!1;this.log("testAndUpdatePackageForTemporalSlot(), ads.length = "+v7H.length+"");var p7H=!1;if(!p7H)for(var V7H=0;V7H<v7H.length;V7H++){var Z7H=this.findRenditionGroupByContentType(v7H[V7H]);if(0<Z7H.length){this.log("testAndUpdatePackageForTemporalSlot() : found driving ad and renditions group: "+Z7H);this.selectedDrivingRenditions=Z7H;this.selectedDrivingAd=v7H[V7H];p7H=!0;break;}}return p7H;},testAndUpdatePackageForPageSlots:function(B7H){var S7H=!1,W7H=this.companionAds,z7H=p4H.slice(0);this.log("testAndUpdatePackageForPageSlots("+B7H+"), ads are "+W7H.join((4301,253.5)!=(801.66,1475)?",":true)+", slots are "+z7H.join(","));if(B7H){if(B7H=this.matchAdsToSlots(W7H,z7H),0<B7H.length)for(S7H=!0,W7H=0;W7H<B7H.length;W7H++){z7H=B7H[W7H];var e7H=z7H.ad;this.selectedCompanionAds[z7H.slot.getCustomId()]=e7H;}}else B7H=this.matchAdsToSlots(W7H,[v4H]),1===B7H.length?(S7H=!0,this.selectedDrivingAd=B7H[0].ad):this.selectedDrivingAd=null;return S7H;},renditionFitsInSlot:function(n7H,s7H){return n7H?n7H.width<=s7H.getWidth()&&n7H.height<=s7H.getHeight():!1;},calcDeadSpaceRatio:function(J7H,A7H){J7H=J7H.getPrimaryRendition();if(!J7H)return 0;this.log("ad w,h  slot w,h"+[J7H.width,J7H.height,A7H.getWidth(),A7H.getHeight()]);return this.renditionFitsInSlot(J7H,A7H)?1-J7H.width*J7H.height/A7H.getWidth()*A7H.getHeight():1;},matchAdsToSlots:function(k7H,j7H){this.log("matchAdsToSlots(ads="+k7H.join(",")+", slots="+j7H.join(",")+((480.83,447)>(323.4,6957)?(0x207c,1.23e+3):")"));for(var i7H=[],Q7H=null,I7H=null,E7H=1,y7H=0;y7H<k7H.length;y7H++)for(var u9H=k7H[y7H],r7H=0;r7H<j7H.length;r7H++){var h9H=j7H[r7H],X9H=this.calcDeadSpaceRatio(u9H,h9H);X9H<E7H&&(Q7H=u9H,I7H=h9H,E7H=X9H);}null!=Q7H&&(i7H.push({ad:Q7H,slot:I7H}),k7H.splice(k7H.indexOf(Q7H),1),j7H.splice(j7H.indexOf(I7H),1),i7H=i7H.concat(this.matchAdsToSlots(k7H,j7H)));this.log("matchAdsToSlots: winningAd:"+Q7H+" winningSlot:"+I7H+" ratio:"+E7H);return i7H;},getAllRenditions:function(f9H){return f9H.vastRenditions;},findRenditionGroupByContentType:function(C9H){this.log("findRenditionGroupByContentType:"+C9H);var w9H=[];if(C9H instanceof Z4H&&isNaN(C9H.duration))return this.warn("findRenditionGroupByContentType(), duration of linear ad is NaN, will not used for scheduling"),w9H;for(var c9H=this.getAllRenditions(C9H),Y9H=0;Y9H<c9H.length;Y9H++){var D9H=c9H[Y9H];if(C9H instanceof Z4H){if(null==D9H.creativeType||""===b6e.Util.trim(D9H.creativeType)){this.warn("findRenditionGroupByContentType, the contentType "+D9H.creativeType+" not supported for linearAd");continue;}}else if(!S4H(D9H.creativeType)){this.warn("findRenditionGroupByContentType, the contentType "+D9H.creativeType+" not supported for non-linearAd");continue;}w9H.push(D9H);}return w9H;},formalizeString:function(F9H){return F9H?b6e.Util.trim(F9H).toLowerCase():"";},getAdsByTargetType:function(){this.log("getAdsByTargetType");var R9H=[];switch(V4H){case 8:R9H=this.companionAds;break;case 2:R9H=this.linearAds;break;case 4:R9H=this.nonLinearAds;}for(var U9H=0;U9H<R9H.length;U9H++)R9H[U9H].isDrivingAd=!0;return R9H;},getImpressionOfWrapper:function(){this.log("getImpressionOfWrapper");for(var l9H=this.getAdsByTargetType(),q9H=null,t9H=0;t9H<l9H.length;t9H++){var o9H=l9H[t9H];if(o9H&&o9H._impressions&&0<o9H._impressions.length){q9H=o9H._impressions;break;}}q9H||(q9H=this.impressions);return q9H;},getTrackingEventsOfWrapper:function(){this.log("getTrackingEventsOfWrapper");for(var K9H=this.getAdsByTargetType(),N9H=null,G9H=0;G9H<K9H.length;G9H++){var m9H=K9H[G9H];if(m9H&&m9H._trackingEvents){N9H=m9H._trackingEvents;break;}}return N9H;},getClickThroughOfWrapper:function(){this.log("getClickThroughOfWrapper");for(var M9H=this.getAdsByTargetType(),b9H=null,g9H=0;g9H<M9H.length;g9H++){var a9H=M9H[g9H];if(a9H){a9H.clickThrough&&(b9H=a9H.clickThrough);a9H=a9H.vastRenditions;for(var P9H=0;P9H<a9H.length;P9H++){var L9H=a9H[P9H];if(L9H.clickThrough){b9H=L9H.clickThrough;break;}}if(b9H)break;}}return b9H;},getClickTrackingsOfWrapper:function(){this.log("getClickTrackingsOfWrapper");for(var v9H=this.getAdsByTargetType(),O9H=null,H9H=0;H9H<v9H.length;H9H++){var x9H=v9H[H9H];if(x9H){x9H.clickTrackings&&0<x9H.clickTrackings.length&&(O9H=x9H.clickTrackings);x9H=x9H.vastRenditions;for(var T9H=0;T9H<x9H.length;T9H++){var d9H=x9H[T9H];if(d9H.clickTrackings&&0<d9H.clickTrackings.length){O9H=d9H.clickTrackings;break;}}if(O9H)break;}}return O9H;},getCustomClicksOfWrapper:function(){this.log("getCustomClicksOfWrapper");for(var z9H=this.getAdsByTargetType(),p9H=null,Z9H=0;Z9H<z9H.length;Z9H++){var V9H=z9H[Z9H];if(V9H){V9H.customClicks&&0<V9H.customClicks.length&&(p9H=V9H.customClicks);V9H=V9H.vastRenditions;for(var B9H=0;B9H<V9H.length;B9H++){var W9H=V9H[B9H];if(W9H.customClicks&&0<W9H.customClicks.length){p9H=W9H.customClicks;break;}}if(p9H)break;}}return p9H;},testWrapperForRedirect:function(){this.log("testAndUpdateWrapperForRedirect()");return this.tagUrl&&0<this.tagUrl.length;},log:function(S9H){b6e.log("VastTranslator.VastAdPackage\t"+S9H);},warn:function(e9H){b6e.warn("VastTranslator.VastAdPackage\t"+e9H);}};e4H.prototype.constructor=e4H;h6H.prototype={getVastVersion:function(n9H){this.log("getVastVersion("+n9H+")");return n9H&&0!==n9H.indexOf(829>(5315,508.26)?".":("U",0x17b8))?0<n9H.indexOf(".")?parseInt(n9H.substring(0,n9H.indexOf("."))):parseInt(n9H):-1;},parseAdData:function(Q9H){this.log("parseAdData()");var k9H={},J9H;k9H.selectedPackage=null;k9H.redirectPackage=null;var s9H=b6e.Util.xmlToJson(Q9H);if(s9H)if(s9H.VAST&&s9H.VAST["@attributes"])if(this.getVastVersion(s9H.VAST["@attributes"].version)<b6e.MINIMUM_VAST_VERSION_SUPPORTED||this.getVastVersion(s9H.VAST["@attributes"].version)>b6e.MAXIMUM_VAST_VERSION_SUPPORTED)b4H.onTranslatorFailed(b6e.ERROR_PARSE,"wrapperUrl="+P4H,b6e.ERROR_VAST_VERSION_NOT_SUPPORTED);else{if(s9H.VAST.Ad){s9H.VAST.Ad=[].concat(s9H.VAST.Ad);var A9H=[];Q9H=[];for(J9H=0;J9H<s9H.VAST.Ad.length;J9H++){var j9H=new e4H();j9H.isWrapper=!!s9H.VAST.Ad[J9H].Wrapper;j9H.isWrapper?(j9H.parse(s9H.VAST.Ad[J9H].Wrapper),Q9H.push(j9H)):(j9H.parse(s9H.VAST.Ad[J9H].InLine),A9H.push(j9H));}s9H=!1;if(0===A9H.length&&0===Q9H.length)return this.log("parseAdData(): no ads from vast response!!!"),[k9H];this.log("parseAdData(): "+A9H.length+"inline ads, "+Q9H.length+" wrapper ads.");j9H=null;for(J9H=0;J9H<A9H.length;J9H++)if(this.selectUsableAdsForDrivingSlot(A9H[J9H])){this.log("parseAdData(): package for driving slot is found!!!");j9H=A9H[J9H];break;}J9H=0<p4H.length&&L4H.getSlot().getTimePositionClass()!==b6e.TIME_POSITION_CLASS_DISPLAY;if(j9H)J9H&&this.selectUsableAdsCompanionSlots(j9H)&&this.log("parseAdData(): companion ads are found for companion slots, with driving slot"),k9H.selectedPackage=j9H;else if(J9H){J9H=!1;for(var i9H=0;i9H<A9H.length;i9H++)j9H=A9H[i9H],this.selectUsableAdsCompanionSlots(j9H)&&(this.log("parseAdData(): companion ads are found for companion slots,without driving slot"),k9H.selectedPackage=j9H,J9H=!0);J9H||(this.log("parseAdData(): companion ads are not found for companion slots,without driving slot"),s9H=!0);}else this.log("parseAdData(): no usable ads found in vast response!!!"),s9H=!0;if(s9H&&0<Q9H.length)for(A9H=0;A9H<Q9H.length;A9H++)if(this.testWrapperForRedirect(Q9H[A9H])){k9H.redirectPackage=Q9H[A9H];L4H.incrementWrapperCount();this.selectUsableAdsCompanionSlots(Q9H[A9H])&&this.log("parseAdData(): companion ads are found for wrapper ad");break;}return[k9H];}s9H.VAST.Error&&g4H(L4H,b6e.EVENT_ERROR,b6e.EVENT_TYPE_ERROR,s9H.VAST.Error.value);b4H.onTranslatorFailed(b6e.ERROR_NO_AD_AVAILABLE,"wrapperUrl="+P4H,b6e.ERROR_VAST_NO_AD);}else b4H.onTranslatorFailed(b6e.ERROR_PARSE,"wrapperUrl="+P4H,b6e.ERROR_VAST_SCHEMA_VALIDATION);else b4H.onTranslatorFailed(b6e.ERROR_PARSE,"wrapperUrl="+P4H,b6e.ERROR_VAST_XML_PARSING);},selectUsableAdsForDrivingSlot:function(I9H){this.log("selectUsableAdsForDrivingSlot()");switch(V4H){case 2:I9H=this.testAndUpdatePackageForTemporalSlot(I9H,!0);break;case 4:I9H=this.testAndUpdatePackageForTemporalSlot(I9H,!1);break;case 8:I9H=this.testAndUpdatePackageForPageSlots(I9H,!1);break;default:I9H=!1;}return I9H;},selectUsableAdsCompanionSlots:function(E9H){this.log("selectUsableAdsCompanionSlots(pk)");return this.testAndUpdatePackageForPageSlots(E9H,!0);},testAndUpdatePackageForTemporalSlot:function(r9H,y9H){this.log("testAndUpdatePackageForTemporalSlot(pk,isLinear), isLinear = "+y9H);return r9H.testAndUpdatePackageForTemporalSlot(y9H);},testAndUpdatePackageForPageSlots:function(X8H,u8H){this.log("testAndUpdatePackageForPageSlots(pk,isCompanion) isCompanion = "+u8H);return X8H.testAndUpdatePackageForPageSlots(u8H);},testWrapperForRedirect:function(h8H){this.log("testWrapperForRedirect(pk)");return h8H.testWrapperForRedirect();},log:function(f8H){b6e.log("VastTranslator.VastParser\t"+f8H);},warn:function(D8H){b6e.warn("VastTranslator.VastParser\t"+D8H);}};var P4H=L4H.getActiveCreativeRendition().getWrapperUrl();M4H=L4H.getActiveCreativeRendition().getWrapperType();function Z4H(N6H){O4H.call(this,N6H);}N4H("AdInstance.getActiveCreativeRendition().getWrapperUrl()="+P4H+", getWrapperType()="+M4H);function f6H(J6H,Q6H){N4H("initTemporalAdInstance");J6H||B4H("initTemporalAdInstance: Invalid adInstance");if(Q6H.selectedDrivingAd){Q6H.surveyUrl&&J6H._creative.setParameter("_fw_survey_url",Q6H.surveyUrl);var n6H=Q6H.selectedDrivingAd,k6H=Q6H.selectedDrivingRenditions;N4H("vastRenditions:"+k6H);for(var I6H=4===V4H,i6H=0;i6H<k6H.length;i6H++){var S6H=J6H.addCreativeRendition();var e6H=S6H.addCreativeRenditionAsset("VAST_CRA",!0);var z6H=k6H[i6H];a:{var s6H=z6H.creativeType;switch(s6H){case"video/mp4":s6H="video/mp4-h264";break a;case"video/3gp":s6H="video/3gpp";}}N4H("initTemporalAdInstance() set rendition/asset [vastRd.creativeApi,vastAd.duration,vastRd.width,vastRd.height,vastRd.url,assetContentType,vastRd.creativeType] =  "+[z6H.creativeApi,n6H.duration,z6H.width,z6H.height,z6H.url,s6H,z6H.creativeType]);S6H.setCreativeApi(z6H.creativeApi);isNaN(n6H.duration)||S6H.setDuration(n6H.duration);z6H.width&&!isNaN(z6H.width)&&S6H.setWidth(z6H.width);z6H.height&&!isNaN(z6H.height)&&S6H.setHeight(z6H.height);n6H.universalAdId&&S6H.setUniversalAdId(n6H.universalAdId);z6H.url&&e6H.setUrl(z6H.url);z6H.code&&e6H.setContent(z6H.code);e6H.setMimeType(z6H.creativeType);"static"===z6H.resourceType&&"text/html"===z6H.creativeType?e6H.setContentType("text/html_doc_ref"):"application/x-javascript"===z6H.creativeType||"application/javascript"===z6H.creativeType?e6H.setContentType("text/js_ref"):"iframe"===z6H.resourceType?e6H.setContentType("text/html_doc_ref"):"text/html"===z6H.creativeType||"text/html_doc_ref"===z6H.creativeType?e6H.setContentType("text/html_doc_ref"):"text/html_doc_lit_mobile"===z6H.creativeType?e6H.setContentType("text/html_doc_lit_mobile"):I6H||S4H(s6H)?(e6H.setContentType("text/html_doc_lit_mobile"),e6H.setUrl(null),e6H.setContent(u6H(J6H,v4H.getCustomId(),n6H,z6H,"text/html_doc_lit_mobile"))):e6H.setContentType(s6H);n6H.creativeData&&0!==n6H.creativeData.length&&(N4H("initTemporalAdInstance(), set asset parameter creativeData:"+n6H.creativeData),S6H.setParameter("creativeData",n6H.creativeData));I6H||S4H(s6H)||(z6H=z6H.bitrate,!isNaN(z6H)&&0<z6H&&e6H.setBytes(1E3*z6H*n6H.duration/8));s6H=s4H;e6H=J4H;z6H=!1;if(S6H.getContentType()&&s6H){var j6H=S6H.getContentType().toLowerCase(),A6H=s6H.toLowerCase();if(j6H===A6H)z6H=!0;else if(0===j6H.indexOf("video/mp4")&&0===A6H.indexOf("video/mp4")||"application/javascript"===A6H&&"text/js_ref"===j6H)S6H.setContentType(s6H),z6H=!0;}s6H=!1;S6H.getCreativeApi()&&e6H&&(j6H=S6H.getCreativeApi().toLowerCase(),A6H=e6H.toLowerCase(),j6H===A6H?s6H=!0:0===j6H.indexOf("mraid")&&0===A6H.indexOf("mraid")&&(s6H=!0,S6H.setCreativeApi(e6H)));z6H&&s6H?S6H.setPreference(10):s6H?S6H.setPreference(6):z6H?S6H.setPreference(5):S6H.setPreference(0);N4H("adjustMatchedRendition "+S6H.getId()+", contentType "+S6H.getContentType()+", creativeAPI "+S6H.getCreativeApi()+", preference "+S6H.getPreference());}k4H(J6H,n6H.trackingEvents);Q4H(J6H,Q6H);y4H(J6H,I6H?k6H[0].clickThrough:n6H.clickThrough,n6H.clickTrackings,n6H.customClicks,n6H.impressions);}else S6H=J6H.addCreativeRendition(),S6H.setContentType("null/null"),e6H=S6H.addCreativeRenditionAsset("VAST_CRA",!0),e6H.setContentType("null/null");}function y4H(Z6H,V6H,B6H,p6H,W6H){N4H("initClickAndImpressionEvents");if(Z6H){V6H&&Z6H.setClickThroughUrl(b6e.EVENT_AD_CLICK,V6H);B6H&&0<B6H.length&&g4H(Z6H,b6e.EVENT_AD_CLICK,b6e.EVENT_TYPE_CLICK_TRACKING,B6H);if(p6H&&0<p6H.length)for(V6H=0;V6H<p6H.length;V6H++)p6H[V6H].url&&g4H(Z6H,p6H[V6H].id,b6e.EVENT_TYPE_CLICK_TRACKING,[p6H[V6H].url]);W6H&&g4H(Z6H,b6e.EVENT_AD_IMPRESSION,b6e.EVENT_TYPE_IMPRESSION,W6H);}}if(0!==M4H.indexOf("external/vast-"))b4H.onTranslatorFailed(b6e.ERROR_NO_RENDERER,"wrapperType="+M4H+";wrapperUrl="+P4H,b6e.ERROR_VAST_TRACKING_ERROR);else if(P4H&&0!==P4H.length){var d4H=b6e.VAST_DEFAULT_MAX_WRAPPER_COUNT;(M4H=x4H.getParameter(b6e.PARAMETER_VAST_MAX_WRAPPER_COUNT))&&0<Number(M4H)&&(d4H=Number(M4H));if(L4H.getWrapperCount()>=d4H)b4H.onTranslatorFailed(b6e.ERROR_IO,"maximum wrapper limit is reached "+L4H.getWrapperCount(),b6e.ERROR_VAST_WRAPPER_LIMIT_REACH);else{d4H=x4H.getParameter("translator.vast.asyncLoad");d4H=!0===b6e.Util.str2bool(d4H);N4H("will load vast xml, asyncAjax:"+d4H);var A4H=x4H.getParameter("translator.vast.loadWithCookie");A4H=!0===b6e.Util.str2bool(A4H);var a4H=null,I4H=5E3;(M4H=x4H.getParameter(b6e.PARAMETER_VAST_TIMEOUT_IN_MILLISECONDS))&&0<Number(M4H)&&(I4H=Number(M4H));try{window.XDomainRequest?(a4H=new XDomainRequest(),d4H=!0):(a4H=new XMLHttpRequest(),a4H.withCredentials=A4H),b4H._request=a4H,d4H?(a4H.open("GET",P4H),window.XDomainRequest?a4H.onload=function(){var C8H=new ActiveXObject("Microsoft.XMLDOM");C8H.async=!1;C8H.loadXML(a4H.responseText);a4H.responseXML=C8H;a4H.status=200;E4H(a4H);}:(a4H.timeout=I4H,a4H.onreadystatechange=function(){4===a4H.readyState&&E4H(a4H);}),a4H.ontimeout=function(){b4H.onTranslatorFailed(b6e.ERROR_TIMEOUT,"wrapperUrl="+P4H+" timed out.",b6e.ERROR_VAST_URI_TIMEOUT);},a4H.onerror=function(){window.XDomainRequest&&(a4H.status=0);0===a4H.status?(B4H("CORS error"),b4H.onTranslatorFailed(b6e.ERROR_SECURITY,"wrapperUrl="+P4H)):(B4H("exception:"+a4H.statusText),b4H.onTranslatorFailed(b6e.ERROR_UNKNOWN,"wrapperUrl="+P4H+";exception="+a4H.statusText));},a4H.send()):(a4H.open("GET",P4H,!1),a4H.send(),E4H(a4H));}catch(w8H){M4H=!1;if(!window.XMLHttpRequestException)w8H.code===DOMException.NETWORK_ERR&&(B4H("CORS in IE10"),M4H=!0);else if(w8H instanceof XMLHttpRequestException)switch(w8H.code){case XMLHttpRequestException.NETWORK_ERR:M4H=!0;}M4H?(B4H("CORS error:"+w8H),b4H.onTranslatorFailed(b6e.ERROR_SECURITY,"wrapperUrl="+P4H)):(B4H("exception:"+w8H),b4H.onTranslatorFailed(b6e.ERROR_UNKNOWN,"wrapperUrl="+P4H+";exception="+w8H));}}}else b4H.onTranslatorFailed(b6e.ERROR_NULL_ASSET,"wrapperUrl="+P4H,b6e.ERROR_VAST_TRACKING_ERROR);function W4H(m6H){this.code=this.url=null;this.height=this.width=NaN;this.resourceType=this.creativeType=null;this.bitrate=NaN;this.creativeApi=null;this.ad=m6H;this.clickThrough=null;this.clickTrackings=[];this.customClicks=[];this.creativeData=null;}},info:function(){return{moduleType:b6e.MODULE_TYPE_TRANSLATOR};},log:function(Y8H){b6e.log("VastTranslator\t"+Y8H);},warn:function(c8H){b6e.warn("VastTranslator\t"+c8H);},getPlayheadTime:function(){return-1;},getDuration:function(){return-1;},stop:function(){b6e.debug("VastTranslator stop");this._request&&(this._request.abort(),b6e.log("VastTranslator Stop: request aborted"));this._request=null;this._rendererController&&this._rendererController.handleStateTransition(b6e.TRANSLATOR_STATE_COMPLETED);},onTranslatorFailed:function(U8H,R8H,q8H){this._request&&(this._request=null);var F8H={};F8H[b6e.INFO_KEY_ERROR_MODULE]="VastTranslator";F8H[b6e.INFO_KEY_ERROR_CODE]=U8H;F8H[b6e.INFO_KEY_VAST_ERROR_CODE]=q8H;R8H&&(F8H[b6e.INFO_KEY_ERROR_INFO]=R8H);this._rendererController.handleStateTransition(b6e.TRANSLATOR_STATE_FAILED,F8H);}};b6e.VastTranslator.prototype.constructor=b6e.VastTranslator;b6e.VideoAsset=function(o8H){this._defaultTimeouts=[5,10,15,30,60,120,180,300];this._context=o8H;this._internalState=b6e.MediaInitState.instance;this._eventCallback=this._state="";this._callbackTimer=null;this._requestedVideoViewUrl=this._videoPlayPending=!1;this._dummyInstanceId="";this._delay=0;this._location=this._networkId=this._duration=this._customId=this._id="";this._autoPlayType=null;this._fallbackId="";this._viewRandom=0;this._durationType=null;this._currentTpos=0;};b6e.VideoAsset.prototype={setVideoAsset:function(t8H,K8H,N8H,a8H,b8H,g8H,l8H,G8H,m8H){if(t8H){switch(l8H){case b6e.ID_TYPE_FW:l8H=this._id!==t8H;this._id=t8H;break;case b6e.ID_TYPE_GROUP:l8H=this._id!=="g"+t8H;this._id="g"+t8H;break;default:l8H=this._customId!==t8H,this._customId=t8H;}l8H&&(this._eventCallback="");"number"===typeof K8H&&(this._duration=Math.round(10*K8H)/10);0<1*N8H&&(this._networkId=1*N8H);"string"===typeof a8H&&(this._location=a8H);"number"===typeof b8H&&(this._autoPlayType=b8H);0<1*g8H&&(this._viewRandom=1*g8H);"number"===typeof G8H&&0<G8H?this._fallbackId=""+G8H:"string"===typeof G8H&&(this._fallbackId=G8H.trim());if(m8H===b6e.VIDEO_ASSET_DURATION_TYPE_EXACT||m8H===b6e.VIDEO_ASSET_DURATION_TYPE_VARIABLE)this._durationType=m8H;this._videoPlayPending&&this.play();}else b6e.warn("AdRequest.setVideoAsset","id is required.");},setVideoAssetCurrentTimePosition:function(P8H){!P8H||0>P8H?b6e.warn("AdRequest.setVideoAssetCurrentTimePosition","valid timePosition is required"):this._currentTpos=P8H;},setVideoState:function(M8H){M8H===b6e.VIDEO_STATE_PLAYING?(this._state===b6e.VIDEO_STATE_PAUSED&&this._context.dispatchEvent(b6e.EVENT_CONTENT_VIDEO_RESUMED),this.play()):M8H===b6e.VIDEO_STATE_PAUSED||M8H===b6e.VIDEO_STATE_STOPPED?(this.pause(),M8H===b6e.VIDEO_STATE_PAUSED&&this._state===b6e.VIDEO_STATE_PLAYING&&this._context.dispatchEvent(b6e.EVENT_CONTENT_VIDEO_PAUSED)):M8H===b6e.VIDEO_STATE_COMPLETED&&this.complete();this._state=M8H;},callback:function(L8H){this._eventCallback?this._eventCallback.process():L8H=!0;L8H||((L8H=this._defaultTimeouts.shift())||(L8H=300),this._callbackTimer=new b6e.Timer(L8H,b6e.Util.bind(this,this.callback)),this._callbackTimer.start());},getPlayheadTime:function(){var x8H=this._delay;this._delay=0;x8H+=this._callbackTimer?this._callbackTimer.getCTValue():0;return Math.floor(x8H);},play:function(){this._context._adManager._serverURL&&this._context._adManager._networkId&&(this._id||this._customId)?this._eventCallback?(this._videoPlayPending=!1,this._internalState.play(this)):this._requestedVideoViewUrl||(this._requestedVideoViewUrl=!0,this.requestForVideoViewCallback(),this._callbackTimer||(this._callbackTimer=new b6e.Timer(),this._callbackTimer.tick())):(b6e.warn("Server URL or Network ID or Video Asset id/customId is not set, delay video asset state change until these are provided."),this._videoPlayPending=!0,this._callbackTimer||(this._callbackTimer=new b6e.Timer(),this._callbackTimer.tick()));},pause:function(){this._internalState.pause(this);},complete:function(){this._internalState.complete(this);},onStartPlaying:function(){this.callback();},onStartReplaying:function(){this.callback();},onPausePlaying:function(){this.callback(!0);this._callbackTimer.pause();},onResumePlaying:function(){this._callbackTimer.start();},onCompletePlaying:function(){this.callback(!0);this._callbackTimer.stop();this._callbackTimer=null;this._eventCallback="";this._requestedVideoViewUrl=!1;},onCompleteReplaying:function(){this.onCompletePlaying();},setMediaState:function(O8H){this._internalState=O8H;},requestPauseBySlot:function(H8H){b6e.debug("requestPauseBySlot");this._internalState===b6e.MediaPlayingState.instance||this._internalState===b6e.MediaReplayingState.instance?this._context.dispatchEvent(b6e.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,{slot:H8H}):b6e.debug("Not sending content pause request because content video state is",JSON.stringify(this._internalState));},requestResumeBySlot:function(T8H){b6e.debug("requestResumeBySlot");this._internalState===b6e.MediaPausedState.instance||this._internalState===b6e.MediaReplayPausedState.instance?this._context.dispatchEvent(b6e.EVENT_CONTENT_VIDEO_RESUME_REQUEST,{slot:T8H}):b6e.debug("Not sending content resume request because content video state is ",JSON.stringify(this._internalState));},requestForVideoViewCallback:function(){var d8H=new b6e.Context(this._context._adManager);d8H._videoAsset=this;this._dummyInstanceId=d8H._instanceId;d8H=this._context._adRequest.generateVideoViewRequestUrlWithDummyContextInstanceId(d8H._instanceId);var v8H=this;b6e.PLATFORM_SEND_REQUEST_BY_FORM?(b6e.debug("Context.submitRequest:","use json2"),b6e.Util.pingURLWithForm(d8H,this._dummyInstanceId,!0),v8H._onMessagePosted=function(V8H){"object"===typeof V8H.data&&V8H.data.hasOwnProperty("cbfn")&&-1<V8H.data.cbfn.indexOf("['Context_"+this._dummyInstanceId+"']")&&v8H.requestComplete(V8H.data.response);},window.addEventListener("message",v8H._onMessagePosted,!1)):b6e.Util.pingURLWithScript(d8H);},requestComplete:function(p8H){this._delay=this._callbackTimer.tick();this._callbackTimer=null;if(b6e.PLATFORM_SEND_REQUEST_BY_FORM){window.removeEventListener("message",this._onMessagePosted,!1);var Z8H=document.getElementById("_fw_request_iframe_"+this._dummyInstanceId);document.body.removeChild(Z8H);}null!=p8H?(b6e._instanceQueue["Context_"+this._dummyInstanceId]=null,this.parse(b6e.Util.getObject("siteSection.videoPlayer.videoAsset",p8H)||{}),this.play()):b6e.warn("Failed to get video view callback url.");},parse:function(B8H){if(B8H){this._customId=B8H.customId;this._networkId=parseInt(B8H.networkId);for(var W8H=0,S8H=B8H.eventCallbacks||[];W8H<S8H.length;W8H++){B8H=S8H[W8H];var z8H=b6e.EventCallback.newEventCallback(this._context,B8H.name,B8H.type);if(z8H&&B8H.name===b6e.EVENT_VIDEO_VIEW){z8H.parse(B8H);this._eventCallback=z8H;b6e.debug("Parsed video view url: "+this._eventCallback._url);break;}}}}};b6e.VideoRenderer=function(){this._adVideo=null;this._duration=this._playheadTime=-1;this._dragging=this._stopInvoked=this._isEnded=!1;this._volume=1;this._rendererController=null;this._isBuffering=!1;};b6e.VideoRenderer.prototype={pause:function(){this._rendererController&&this._rendererController.processEvent({name:b6e.EVENT_AD_PAUSE});this._adVideo&&!this._adVideo.paused&&this._adVideo.pause();},resume:function(){this._rendererController&&this._rendererController.processEvent({name:b6e.EVENT_AD_RESUME});this._adVideo&&this._adVideo.paused&&this._adVideo.play();},start:function(n8H){this._rendererController=n8H;var k8H=n8H.getAdInstance(),j8H=k8H.getSlot(),s8H=this,G3H=!1,f3H=!1;if(b6e.PLATFORM_NOT_SUPPORT_VIDEO_AD)this._onRendererFailed(b6e.ERROR_DEVICE_LIMIT,j8H.getTimePositionClass());else if(b6e.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&j8H.getTimePositionClass()===b6e.TIME_POSITION_CLASS_MIDROLL)this._onRendererFailed(b6e.ERROR_DEVICE_LIMIT,"midroll");else{b6e.log("VideoRenderer.start",j8H.getTimePositionClass(),k8H);var e8H=n8H.getContentVideoElement(),r8H=j8H.getVideoDisplaySize().width,a3H=j8H.getVideoDisplaySize().height,w3H=k8H.getRenderableCreativeRenditions(),I8H=(r8H=new b6e.RenditionSelector(n8H.getParameter(b6e.PARAMETER_DESIRED_BITRATE)||1E3,n8H.getParameter("arWeight")||1,n8H.getParameter("pxWeight")||1,.2).getBestFitRendition(w3H,r8H,a3H))?r8H.getPrimaryCreativeRenditionAsset():null;if(I8H&&w3H.length)if(I8H.getUrl()){k8H.setActiveCreativeRendition(r8H);b6e.log("VideoRenderer.start selected rendition is:",I8H.getUrl());n8H.setCapability(b6e.EVENT_AD_QUARTILE,b6e.CAPABILITY_STATUS_ON);n8H.setCapability(b6e.EVENT_AD_MUTE,b6e.CAPABILITY_STATUS_ON);n8H.setCapability(b6e.EVENT_AD_PAUSE,b6e.CAPABILITY_STATUS_ON);var D3H=!b6e.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO;D3H||n8H.setCapability(b6e.EVENT_AD_CLICK,b6e.CAPABILITY_STATUS_OFF);var F3H=b6e.PLATFORM_EVENT_CLICK,c3H=b6e.MOBILE_EVENT_DRAG;b6e.debug("VideoRenderer","use content video element");e8H.controls=!1;this._adVideo=e8H;var A8H=null,y8H=null,E8H=null;this._volume=n8H.getContext().getAdVolume();this._adVideo.volume=this._volume;this._adVideo.muted=0===this._volume;var N3H=function(b3H){b6e.debug("VideoRenderer.checkTimeUpdate timeout");m3H(b3H);},C3H=function(){y8H&&(clearTimeout(y8H),y8H=null);},o3H=b6e.Util.bind(this,function(g3H){b6e.debug("onAdVideoBufferEmpty(): Ad video event "+g3H.type);g3H=n8H.getParameter(b6e.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED);null!==g3H&&"undefined"!==typeof g3H&&!1!==b6e.Util.str2bool(g3H)&&(b6e.debug("play the ad immediately after the stalled event"),e8H&&e8H._fw_videoAdPlaying&&e8H.play());}),q3H=function(P3H){s8H._isBuffering||(s8H._isBuffering=!0,n8H.processEvent({name:b6e.EVENT_AD_BUFFERING_START}),b6e.debug("onAdVideoBufferingStarted(): Ad video event "+P3H.type));},X3H=function(M3H){s8H._isBuffering&&(s8H._isBuffering=!1,n8H.processEvent({name:b6e.EVENT_AD_BUFFERING_END}),b6e.debug("onAdVideoBufferingEnded(): Ad video event "+M3H.type));};k8H=n8H.getParameter(b6e.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT);var i8H=null;k8H&&(i8H=document.getElementById(k8H));i8H||(i8H=e8H);var R3H=b6e.Util.bind(this,function(x3H){if(e8H.paused&&b6e.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED)e8H.play();else{var L3H=n8H.getParameter(b6e.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION);null==L3H&&(L3H="true");!1!==b6e.Util.str2bool(L3H)&&(f3H?(b6e.debug("Ad video event "+x3H.type),this._dragging?this._dragging=!1:n8H.processEvent({name:b6e.EVENT_AD_CLICK})):b6e.debug("Ad not started, ignore click."));}}),U3H=b6e.Util.bind(this,function(O3H){b6e.debug("Ad video event "+O3H.type);this._dragging=!0;}),h3H,Y3H=function(T3H){b6e.debug("Ad video event "+T3H.type+" ended: "+e8H.ended+" playing:"+e8H._fw_videoAdPlaying);if(e8H.ended&&.2>Math.abs(e8H.duration-e8H.currentTime)||!e8H._fw_videoAdPlaying)h3H=setTimeout(function(){b6e.warn("Force ad video end bc ad paused with ended = true");T3H.type="ended";Q8H(T3H);},200);else{var H3H=n8H.getParameter(b6e.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE);null==H3H&&(H3H="true");!1===b6e.Util.str2bool(H3H)?b6e.debug("Pause controls disabled"):e8H.controls=!0;C3H();}},t3H=function(d3H){b6e.debug("Ad video event "+d3H.type);e8H.controls=!1;},J8H=0,l3H=function(v3H){b6e.debug("Ad video event "+v3H.type);0>=e8H.currentTime?b6e.debug("VideoRenderer.onAdVideoTimeUpdate currentTime is less than or 0"):(C3H(),e8H.paused||(v3H=n8H.getParameter(b6e.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT)||8E3,y8H=setTimeout(N3H,v3H,v3H+"ms timeout when playing")),f3H||(f3H=!0,s8H._playheadTime=e8H.currentTime,0>s8H._playheadTime&&(s8H._playheadTime=0),A8H&&(clearTimeout(A8H),A8H=null),s8H._quartileTimerId=setInterval(function(){var V3H=e8H.currentTime,p3H=e8H.duration;0<V3H&&(s8H._playheadTime=V3H);0<p3H&&(s8H._duration=p3H);"number"!==typeof V3H||"number"!==typeof p3H||E8H||(V3H>=.25*p3H&&1>J8H&&(n8H.processEvent({name:b6e.EVENT_AD_FIRST_QUARTILE}),J8H=1),V3H>=.5*p3H&&2>J8H&&(n8H.processEvent({name:b6e.EVENT_AD_MIDPOINT}),J8H=2),V3H>=.75*p3H&&3>J8H&&(clearInterval(s8H._quartileTimerId),s8H._quartileTimerId=null,n8H.processEvent({name:b6e.EVENT_AD_THIRD_QUARTILE}),J8H=3));},1E3),n8H.handleStateTransition(b6e.RENDERER_STATE_STARTED)));};this.dispose=b6e.Util.bind(this,function(){Q8H();});var Q8H=function(Z3H){var B3H=E8H;Z3H&&Z3H.type&&(b6e.debug("Ad video event "+Z3H.type),"error"===Z3H.type&&(b6e.warn(Z3H.target.src),b6e.warn(Z3H.target.currentSrc),X3H(Z3H)));C3H();A8H&&(clearTimeout(A8H),A8H=null);D3H&&(i8H.removeEventListener(F3H,R3H,!1),i8H.removeEventListener(c3H,U3H,!1));h3H&&(clearTimeout(h3H),h3H=null);e8H.removeEventListener("ended",Q8H,!1);e8H.removeEventListener("error",Q8H,!0);e8H.removeEventListener("pause",Y3H,!1);e8H.removeEventListener("playing",t3H,!1);e8H.removeEventListener("timeupdate",l3H,!1);e8H.removeEventListener("stalled",o3H,!1);e8H.removeEventListener("waiting",q3H,!1);e8H.removeEventListener("canplay",X3H,!1);e8H.paused||(b6e.debug("try pausing video before complete"),e8H.pause());Z3H&&"error"===Z3H.type&&(B3H="video error",(Z3H=e8H.error||Z3H.target.error)&&(B3H="error:"+Z3H+",code:"+Z3H.code));B3H||(s8H._isEnded=!0);b6e.log("VideoRenderer.complete");G3H||(G3H=!0,delete e8H._fw_videoAdPlaying,s8H._adVideo=null,s8H._quartileTimerId&&(clearInterval(s8H._quartileTimerId),s8H._quartileTimerId=null),B3H?s8H._onRendererFailed(null,B3H):(s8H._stopInvoked||(e8H.currentTime>=.25*e8H.duration&&1>J8H&&(n8H.processEvent({name:b6e.EVENT_AD_FIRST_QUARTILE}),J8H=1),e8H.currentTime>=.5*e8H.duration&&2>J8H&&(n8H.processEvent({name:b6e.EVENT_AD_MIDPOINT}),J8H=2),e8H.currentTime>=.75*e8H.duration&&3>J8H&&(n8H.processEvent({name:b6e.EVENT_AD_THIRD_QUARTILE}),J8H=3),e8H.currentTime>=e8H.duration-.5&&4>J8H&&(n8H.processEvent({name:b6e.EVENT_AD_COMPLETE}),J8H=4)),s8H._stopInvoked=!1,n8H.handleStateTransition(b6e.RENDERER_STATE_COMPLETED)));s8H._rendererController=null;};var m3H=function(W3H){E8H=W3H;b6e.warn(E8H);b6e.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT||Q8H();};e8H._fw_videoAdPlaying=!0;var K3H=!1,u3H=function(){if(!K3H){K3H=!0;D3H&&(i8H.addEventListener(F3H,R3H,!1),i8H.addEventListener(c3H,U3H,!1));e8H.addEventListener("ended",Q8H,!1);e8H.addEventListener("error",Q8H,!0);e8H.addEventListener("pause",Y3H,!1);e8H.addEventListener("playing",t3H,!1);e8H.addEventListener("timeupdate",l3H,!1);e8H.addEventListener("stalled",o3H,!1);e8H.addEventListener("waiting",q3H,!1);e8H.addEventListener("canplay",X3H,!1);e8H.src=I8H.getUrl();b6e.log("VideoRenderer play video ad "+e8H.src);e8H.load();if(e8H._fw_fromVideoPool||b6e.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT){var z3H=n8H.getParameter(b6e.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT)||5E3;A8H=setTimeout(m3H,z3H,z3H+"ms timeout before playing");}b6e.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE&&n8H.handleStateTransition(b6e.RENDERER_STATE_STARTED);z3H=100;0<b6e.PLATFORM_ANDROID_VERSION&&(z3H=n8H.getParameter(b6e.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY)||100);setTimeout(function(){var S3H=e8H.play();S3H&&b6e.PLATFORM_BLOCKS_AUTOPLAY&&S3H.catch(function(e3H){if(e3H&&"AbortError"===e3H.name||"NotAllowedError"===e3H.name)b6e.warn("Blocked by browser, need player to display a start button. Details: %o",e3H),A8H&&(clearTimeout(A8H),A8H=null),j8H.setAutoPlayBlocked(!0),n8H.processEvent({name:b6e.EVENT_AD_AUTO_PLAY_BLOCKED,info:{apiOnly:!0}});});},z3H);}};b6e.VideoRenderer._fw_playedDummyVideo||j8H.getTimePositionClass()!==b6e.TIME_POSITION_CLASS_PREROLL||!b6e.PLATFORM_PLAY_DUMMY_VIDEO_FOR_PREROLL||/\.webm$/.test(I8H.getUrl())?u3H():(b6e.VideoRenderer._fw_playedDummyVideo=!0,b6e.debug("play dummy video for iOS 3.2-4.1"),e8H.src="http://127.0.0.1:1/404.mp4",e8H.load(),e8H.play(),e8H._fw_videoAdPlaying=!0,e8H.addEventListener("error",function(){event.target.removeEventListener("error",e8H,!0);u3H();},!0),setTimeout(u3H,b6e.PLATFORM_NOT_WAIT_FOR_ERROR_WHEN_PLAY_DUMMY_VIDEO_FOR_PREROLL?500:5E3));}else this._onRendererFailed(b6e.ERROR_NULL_ASSET);else this._onRendererFailed(b6e.ERROR_DEVICE_LIMIT,"no compatible asset");}},stop:function(){b6e.debug("VideoRenderer stop");this._stopInvoked=!0;this._adVideo&&(this._adVideo._fw_videoAdPlaying=!1,this._adVideo.pause(),this.dispose());this._rendererController=null;},info:function(){return{moduleType:b6e.MODULE_TYPE_RENDERER};},getPlayheadTime:function(){if(this._isEnded&&0<this._duration)return this._duration;if(this._adVideo){var n3H=this._adVideo.currentTime;if(0<n3H)return n3H;}return this._playheadTime;},getDuration:function(){return this._duration;},setVolume:function(s3H){b6e.debug("VideoRenderer setVolume("+s3H+((107.95,785)!==(2450,957.49)?")":false));this._adVideo?(this._adVideo.volume=s3H,this._adVideo.muted=0===s3H,this._volume!==s3H&&this._rendererController.processEvent({name:b6e.EVENT_AD_VOLUME_CHANGE}),0===this._volume&&0!==s3H?this._rendererController.processEvent({name:b6e.EVENT_AD_UNMUTE}):0!==this._volume&&0===s3H&&this._rendererController.processEvent({name:b6e.EVENT_AD_MUTE}),this._volume=s3H):b6e.debug("VideoRenderer ad video is null, ignore.");},_onRendererFailed:function(Q3H,j3H,A3H){var J3H={};J3H[b6e.INFO_KEY_ERROR_MODULE]="VideoRenderer";J3H[b6e.INFO_KEY_ERROR_CODE]=Q3H;A3H||(A3H=b6e.ERROR_VAST_GENERAL_LINEAR_ERROR);J3H[b6e.INFO_KEY_VAST_ERROR_CODE]=A3H;j3H&&(J3H[b6e.INFO_KEY_ERROR_INFO]=j3H);this._rendererController.handleStateTransition(b6e.RENDERER_STATE_FAILED,J3H);}};b6e.VideoRenderer.prototype.constructor=b6e.VideoRenderer;b6e.VideoStateExtension=function(){};b6e.VideoStateExtension.prototype={_enabled:function(){if(null==this._context)return!1;var k3H=this._context.getParameter(b6e.PARAMETER_EXTENSION_VIDEO_STATE_ENABLED);null==k3H&&(k3H="false");return!0===b6e.Util.str2bool(k3H);},init:function(i3H){this._context=i3H;this._enabled()?this._context.setVideoState(b6e.VIDEO_STATE_PLAYING):b6e.log("VideoStateExtension is disabled.");},dispose:function(){this._context=null;}};b6e.VideoStateExtension.prototype.constructor=b6e.VideoStateExtension;b6e.VPAIDWrapper=function(){this._creative=null;this._timeoutInMs=0;this._eventHandlers={};this._loadIntervalTimer=this._timeoutTimer=null;this._timeoutOperation="";this.timeoutReached=!1;this._visibilityChangeListener=null;};b6e.VPAIDWrapper.prototype={_isCreativeFunctionInvokable:function(I3H){return this._creative?(I3H=this._creative[I3H])&&"function"===typeof I3H:!1;},checkVPAIDInterface:function(r3H){for(var y3H={passed:!0,missingInterfaces:""},E3H=r3H.length-1;0<=E3H;E3H--)this._isCreativeFunctionInvokable(r3H[E3H])||(y3H.passed=!1,y3H.missingInterfaces+=r3H[E3H]+" ");return y3H;},loadCreativeAsset:function(f5H){b6e.log("loadCreativeAsset("+f5H+")");var h5H=document.getElementById("vpaidFrame"),u5H=document.createElement("iframe");u5H.id="vpaidFrame";null==h5H?document.body.appendChild(u5H):document.body.replaceChild(u5H,h5H);u5H.width=0;u5H.height=0;u5H.style.display="none";u5H.contentWindow.document.open();u5H.contentWindow.document.write('<script type="text/javascript" src="'+f5H+'"> \x3c/script>');u5H.contentWindow.document.close();this._timeoutOperation="loadCreativeAsset";this._waitForTimeout();var X5H=this;this._loadIntervalTimer=setInterval(function(){var D5H=document.getElementById("vpaidFrame").contentWindow.getVPAIDAd;D5H&&"function"===typeof D5H&&(clearInterval(X5H._loadIntervalTimer),D5H=D5H(),"undefined"===typeof D5H?b6e.debug("getVPAIDAd() returns undefined value"):null==D5H?b6e.debug("getVPAIDAd() returns null"):(X5H._creative=D5H,X5H._eventHandlers.CreativeAssetLoaded()));},200);},setCallbacksForCreative:function(w5H,Y5H){for(var C5H in w5H)w5H.hasOwnProperty(C5H)&&this._creative.subscribe(w5H[C5H],C5H,Y5H);},removeCallbacksForCreative:function(F5H){for(var c5H in F5H)F5H.hasOwnProperty(c5H)&&this._creative.unsubscribe(F5H[c5H],c5H);},handshakeVersion:function(R5H){b6e.log("VPAID Creative: handshakeVersion("+R5H+")");return this._creative.handshakeVersion(R5H);},initAd:function(U5H,q5H,o5H,t5H,l5H,G5H){b6e.log("VPAID Creative: initAd()");this._timeoutOperation="initAd";this._waitForTimeout();this._creative.initAd(U5H,q5H,o5H,t5H,l5H,G5H);},startAd:function(){b6e.log("VPAID Creative: startAd()");this._timeoutOperation="startAd";this._waitForTimeout();this._creative.startAd();},stopAd:function(){b6e.log("VPAID Creative: stopAd()");"startAd"===this._timeoutOperation?(clearTimeout(this._timeoutTimer),this._timeoutOperation="startAd and stopAd"):this._timeoutOperation+="stopAd";this._creative&&(this._waitForTimeout(),this._creative.stopAd());},canPauseAd:function(){return this._isCreativeFunctionInvokable("pauseAd");},canResumeAd:function(){return this._isCreativeFunctionInvokable("resumeAd");},canResizeAd:function(){return this._isCreativeFunctionInvokable("resizeAd");},pauseAd:function(){this.canPauseAd()&&(b6e.log("VPAID Creative: pauseAd()"),this._creative.pauseAd());},resumeAd:function(){this.canResumeAd()&&(b6e.log("VPAID Creative: resumeAd()"),this._creative.resumeAd());},resizeAd:function(m5H,K5H,N5H){this.canResizeAd()?(b6e.log("VPAID Creative: resizeAd()"),this._creative.resizeAd(m5H,K5H,N5H)):b6e.log("The creative is not able to resize");},getAdVolume:function(){return this._isCreativeFunctionInvokable("getAdVolume")?this._creative.getAdVolume():-1;},setAdVolume:function(a5H){this._isCreativeFunctionInvokable("setAdVolume")&&this._creative.setAdVolume(a5H);},getAdExpanded:function(){return this._isCreativeFunctionInvokable("getAdExpanded")?this._creative.getAdExpanded():!1;},getAdRemainingTime:function(){return this._isCreativeFunctionInvokable("getAdRemainingTime")?this._creative.getAdRemainingTime():-1;},getAdDuration:function(){return this._isCreativeFunctionInvokable("getAdDuration")?this._creative.getAdDuration():-1;},getAdLinear:function(){return this._creative.getAdLinear();},getAdCompanions:function(){return this._isCreativeFunctionInvokable("getAdCompanions")?this._creative.getAdCompanions():"";},setTimeoutValueInMs:function(b5H){this._timeoutInMs=b5H;},cancelTimeoutEvent:function(){var P5H="startAd and stopAd"!==this._timeoutOperation;clearTimeout(this._timeoutTimer);if(!P5H){this._timeoutOperation="startAd";var g5H=this;setTimeout(function(){g5H._eventHandlers&&g5H._eventHandlers.timeout&&g5H._eventHandlers.timeout.call();},500);}},addEventListener:function(M5H,L5H){this._eventHandlers[M5H]=L5H;},removeEventListener:function(x5H){this._eventHandlers[x5H]=null;},_waitForTimeout:function(){b6e.log("Wait for "+this._timeoutOperation+" for "+this._timeoutInMs+"ms");if(this._eventHandlers.timeout){var O5H=this;this._timeoutTimer=setTimeout(function(){O5H.timeoutReached||(O5H.timeoutReached=!0);"startAd"===O5H._timeoutOperation?O5H.stopAd():("loadCreativeAsset"===O5H._timeoutOperation&&clearInterval(O5H._loadIntervalTimer),O5H._eventHandlers&&O5H._eventHandlers.timeout&&O5H._eventHandlers.timeout.call());},this._timeoutInMs);}},getTimeoutOperation:function(){return this._timeoutOperation;}};b6e.VPAIDWrapper.prototype.constructor=b6e.VPAIDWrapper;b6e.VPAIDRenderer=function(){this.vpaidCreative=this.rendererController=null;this.vpaidVolume=this.vpaidDuration=-1;this.creativeEventCallbacks={};this.isMuted=!1;this.adPlaybackState="";this.creativeTimeoutDelayInMs=1E4;this.vpaidDesiredBitrate=268;this.vpaidViewmode="normal";this.playheadTime=0;this.videoBase=document.createElement("div");this.videoParent=null;this.SUPPORTED_CREATIVE_VPAID_VERSION_MIN=this.PLAYER_VPAID_VERSION=2;};b6e.VPAIDRenderer.prototype={};b6e.VPAIDRenderer.prototype.constructor=b6e.VPAIDRenderer;b6e.VPAIDRenderer.VastCompanion=function(H5H,T5H,d5H,v5H){this._width=H5H;this._height=T5H;this._apiFramework=d5H;this._xmlNode=v5H;};b6e.VPAIDRenderer.VastCompanion.prototype={getWidth:function(){return this._width;},getHeight:function(){return this._height;},_isValidResource:function(V5H,p5H){return"StaticResource"===V5H&&p5H["@attributes"].creativeType||"IFrameResource"===V5H&&p5H.value||"HTMLResource"===V5H&&p5H.value;},hasValidRendtions:function(){for(var Z5H in this._xmlNode)if(this._xmlNode.hasOwnProperty(Z5H)&&("StaticResource"===Z5H||"IFrameResource"===Z5H||"HTMLResource"===Z5H))for(var W5H=[].concat(this._xmlNode[Z5H]),B5H=W5H.length-1;0<=B5H;B5H--)if(this._isValidResource(Z5H,W5H[B5H]))return!0;return!1;},translateToAdInstance:function(A5H){this._xmlNode.CompanionClickThrough&&A5H.setClickThroughUrl(b6e.EVENT_AD_CLICK,this._xmlNode.CompanionClickThrough.value);var z5H;if(this._xmlNode.TrackingEvents){var S5H=this._xmlNode.TrackingEvents;if(S5H.Tracking){S5H=[].concat(S5H.Tracking);var n5H=[];for(z5H=S5H.length-1;0<=z5H;z5H--)"creativeView"===S5H[z5H]["@attributes"].event&&n5H.push(S5H[z5H].value);0<n5H.length&&A5H.addEventCallbackUrls(b6e.EVENT_AD_IMPRESSION,b6e.EVENT_TYPE_IMPRESSION,n5H);}}for(var e5H in this._xmlNode)if(this._xmlNode.hasOwnProperty(e5H)&&("StaticResource"===e5H||"IFrameResource"===e5H||"HTMLResource"===e5H))for(S5H=[].concat(this._xmlNode[e5H]),z5H=S5H.length-1;0<=z5H;z5H--)if(this._isValidResource(e5H,S5H[z5H])){n5H=S5H[z5H];var s5H=A5H.addCreativeRendition();s5H.setWidth(this._width);s5H.setHeight(this._height);s5H.setCreativeApi("None");var J5H=s5H.addCreativeRenditionAsset("VPAIDAsset"+z5H,!0);J5H.setContentType("text/html_doc_lit_mobile");J5H.setMimeType("text/html");var k5H=A5H.getEventCallbackUrls(b6e.EVENT_AD_CLICK,b6e.EVENT_TYPE_CLICK)[0],j5H=e5H;if("HTMLResource"===j5H)J5H.setContent(b6e.HTMLAdGenerator.wrapUnsafeHTML(n5H.value,A5H.getSlot().getCustomId(),this._width,this._height));else{var Q5H;"IFrameResource"===j5H?Q5H="iframe":"StaticResource"===j5H&&(Q5H=this._xmlNode.creativeType);J5H.setContent(b6e.HTMLAdGenerator.generateAd(n5H.value,k5H,A5H.getSlot().getCustomId(),this._width,this._height,Q5H,J5H.getContentType()));}b6e.debug("rendtion width: "+s5H.getWidth()+" height:"+s5H.getHeight()+" asset content:"+J5H.getContent());}}};b6e.VPAIDRenderer.VastCompanion.prototype.constructor=b6e.VPAIDRenderer.VastCompanion;b6e.VPAIDRenderer.VastAdSelect=function(){};b6e.VPAIDRenderer.VastAdSelect.prototype={_getDeadSpaceRatio:function(i5H,I5H){var E5H=i5H.getWidth();i5H=i5H.getHeight();var y5H=I5H.getWidth();I5H=I5H.getHeight();var r5H=1;E5H<=y5H&&i5H<=I5H&&(r5H=1-E5H*i5H/(y5H*I5H));b6e.debug("computing dead space ratio ("+r5H+") for slot "+y5H+"x"+I5H+" and ad "+E5H+"x"+i5H);return r5H;},matchAdsWithSlots:function(w0J,C0J){b6e.log("VPAIDRenderer: Matching ads with slots");var u0J;for(u0J=0;u0J<C0J.length;++u0J)C0J[u0J].matched=!1;var Y0J=[],h0J=[];for(u0J=0;u0J<w0J.length;u0J++)for(var X0J=0;X0J<C0J.length;X0J++)h0J.push({ratio:this._getDeadSpaceRatio(w0J[u0J],C0J[X0J]),adIndex:u0J,slotIndex:X0J});h0J.sort(function(c0J,F0J){return c0J.ratio-F0J.ratio;});for(u0J=0;u0J<h0J.length&&1!==h0J[u0J].ratio;u0J++){X0J=h0J[u0J];var f0J=w0J[X0J.adIndex],D0J=C0J[X0J.slotIndex];f0J.matched||D0J.matched||(b6e.log("Winning ratio:"+X0J.ratio+" Winning ad:"+f0J.getWidth()+"x"+f0J.getHeight()+" for slot:"+D0J.getWidth()+"x"+D0J.getHeight()),Y0J.push({ad:f0J,slot:D0J}),f0J.matched=!0,D0J.matched=!0);}return Y0J;}};b6e.VPAIDRenderer.VastAdSelect.prototype.constructor=b6e.VPAIDRenderer.VastAdSelect;b6e.Util.mixin(b6e.VPAIDRenderer.prototype,{_failWithError:function(o0J,q0J,U0J){var R0J={};R0J[b6e.INFO_KEY_ERROR_MODULE]="VPAIDRenderer";R0J[b6e.INFO_KEY_ERROR_CODE]=o0J;U0J||(U0J=b6e.ERROR_VAST_GENERAL_VPAID_ERROR);R0J[b6e.INFO_KEY_VAST_ERROR_CODE]=U0J;q0J&&(R0J[b6e.INFO_KEY_ERROR_INFO]=q0J);this.rendererController.handleStateTransition(b6e.RENDERER_STATE_FAILED,R0J);this.dispose();},onCreativeTimeout:function(){b6e.log("VPAIDRenderer: onCreativeTimeout()");var t0J=this.vpaidCreative.getTimeoutOperation();this._failWithError(b6e.ERROR_TIMEOUT,"loadCreativeAsset"!==t0J?"Creative function "+t0J+" timeout":"load creative asset timeout");},setVolume:function(l0J){b6e.log("VPAIDRenderer: setVolume("+l0J+")");this.vpaidCreative&&this.vpaidCreative.setAdVolume(l0J);},onAdVolumeChange:function(){b6e.log("VPAIDRenderer: onAdVolumeChange()");var G0J=this.vpaidCreative.getAdVolume();0>G0J||1<G0J?b6e.log("Invalid ad volume value"):(this.isMuted&&2<100*G0J?(this.isMuted=!1,this.rendererController.processEvent({name:b6e.EVENT_AD_UNMUTE})):!this.isMuted&&2>100*G0J&&(this.isMuted=!0,this.rendererController.processEvent({name:b6e.EVENT_AD_MUTE})),this.rendererController.processEvent({name:b6e.EVENT_AD_VOLUME_CHANGE}));},onAdExpandedChange:function(){b6e.log("VPAIDRenderer: onAdExpandedChange()");this.vpaidCreative.getAdExpanded()?this.rendererController.processEvent({name:b6e.EVENT_AD_EXPAND}):this.rendererController.processEvent({name:b6e.EVENT_AD_COLLAPSE});},onAdDurationChange:function(){b6e.log("VPAIDRenderer: onAdDurationChange(): duration changed to "+this.vpaidCreative.getAdDuration());},onAdClickThru:function(K0J,m0J,N0J){b6e.log("VPAIDRenderer: onAdClickThru() with url:"+K0J+" id:"+m0J+" playerHandles:"+N0J);m0J={name:b6e.EVENT_AD_CLICK,info:{}};m0J.info[b6e.INFO_KEY_SHOW_BROWSER]=!0===N0J;!0===N0J?K0J?(b6e.log("onAdClickThru(): open window with overrided url"),m0J.info[b6e.INFO_KEY_URL]=K0J):b6e.log("onAdClickThru(): open window with url booked in MRM UI or VAST clickthru url"):b6e.log("onAdClickThru(): send click tracking");this.rendererController.processEvent(m0J);},onCreativeAssetLoaded:function(){b6e.log("VPAIDRenderer: onCreativeAssetLoaded()");this.vpaidCreative.cancelTimeoutEvent();var a0J=this,b0J=function(){var L0J=a0J.vpaidCreative.handshakeVersion(a0J.PLAYER_VPAID_VERSION.toFixed(1));return L0J?parseFloat(L0J)<a0J.SUPPORTED_CREATIVE_VPAID_VERSION_MIN?(a0J._failWithError(b6e.ERROR_INVALID_VALUE,"Only support creatives with VPAID version >= "+a0J.SUPPORTED_CREATIVE_VPAID_VERSION_MIN.toFixed(1)),!1):!0:(a0J._failWithError(b6e.ERROR_3P_COMPONENT,"Cannot get VPAID version from the creative"),!1);};if(function(){var x0J=a0J.vpaidCreative.checkVPAIDInterface("handshakeVersion initAd startAd stopAd subscribe unsubscribe getAdLinear".split(" "));x0J.passed||a0J._failWithError(b6e.ERROR_3P_COMPONENT,"Missing interfaces in the VPAID creative: "+x0J.missingInterfaces);return x0J.passed;}()&&b0J()){(function(){var O0J=a0J.rendererController.getParameter(b6e.PARAMETER_VPAID_CREATIVE_TIMEOUT_DELAY);O0J&&0<Number(O0J)&&(a0J.creativeTimeoutDelayInMs=Number(O0J));b6e.log("initParams(), creative timeout delay in miliseconds:"+a0J.creativeTimeoutDelayInMs);O0J=parseFloat(a0J.rendererController.getParameter(b6e.PARAMETER_DESIRED_BITRATE));a0J.vpaidDesiredBitrate=0<O0J?O0J:a0J.vpaidDesiredBitrate;b6e.log("initParams(), desired bitrate: "+a0J.vpaidDesiredBitrate);}());a0J.creativeEventCallbacks={AdStarted:a0J.onAdStarted,AdStopped:a0J.onAdStopped,AdSkipped:a0J.onAdSkipped,AdLoaded:a0J.onAdLoaded,AdLinearChange:a0J.onAdLinearChange,AdSizeChange:a0J.onAdSizeChange,AdExpandedChange:a0J.onAdExpandedChange,AdDurationChange:a0J.onAdDurationChange,AdVolumeChange:a0J.onAdVolumeChange,AdImpression:a0J.onAdImpression,AdClickThru:a0J.onAdClickThru,AdVideoFirstQuartile:a0J.onAdVideoFirstQuartile,AdVideoMidpoint:a0J.onAdVideoMidpoint,AdVideoThirdQuartile:a0J.onAdVideoThirdQuartile,AdVideoComplete:a0J.onAdVideoComplete,AdUserAcceptInvitation:a0J.onAdUserAcceptInvitation,AdUserMinimize:a0J.onAdUserMinimize,AdUserClose:a0J.onAdUserClose,AdPaused:a0J.onAdPaused,AdPlaying:a0J.onAdResumed,AdError:a0J.onAdError,AdLog:a0J.onAdLog};a0J.vpaidCreative.setCallbacksForCreative(a0J.creativeEventCallbacks,a0J);this.rendererController.setCapability(b6e.EVENT_AD_QUARTILE,b6e.CAPABILITY_STATUS_ON);this.rendererController.setCapability(b6e.EVENT_AD_MUTE,b6e.CAPABILITY_STATUS_ON);this.rendererController.setCapability(b6e.EVENT_AD_EXPAND,b6e.CAPABILITY_STATUS_ON);this.rendererController.setCapability(b6e.EVENT_AD_PAUSE,b6e.CAPABILITY_STATUS_ON);this.rendererController.setCapability(b6e.EVENT_AD_CLOSE,b6e.CAPABILITY_STATUS_ON);this.rendererController.setCapability(b6e.EVENT_AD_MINIMIZE,b6e.CAPABILITY_STATUS_ON);this.rendererController.setCapability(b6e.EVENT_AD_ACCEPT_INVITATION,b6e.CAPABILITY_STATUS_ON);(b0J=this.rendition?this.rendition.getParameter("creativeData"):null)||(b0J=this.rendition?this.rendition.getParameter("VPAID_creativeData"):null);b0J&&(b0J=b6e.Util.trim(b0J));b0J={AdParameters:b0J};var g0J=this.rendererController.getAdInstance().getSlot();this.videoBase.style.width="0px";this.videoBase.style.height="0px";this.videoBase.style.zIndex="100000";this.videoBase.style.position="absolute";this.videoBase.style.left=this.rendererController.getContentVideoElement().style.left;this.videoBase.style.top=this.rendererController.getContentVideoElement().style.top;this.videoBase.className="fw_vpaid_slot";this.videoParent=g0J.getBase();var P0J=this.rendererController.getContentVideoElement();if("nodeType"in P0J&&0<P0J.nodeType)try{this.videoParent.insertBefore(this.videoBase,this.rendererController.getContentVideoElement());}catch(H0J){this.videoParent.insertBefore(this.videoBase,this.videoParent.firstChild);}else this.videoParent.insertBefore(this.videoBase,this.videoParent.firstChild);P0J={slot:this.videoBase,videoSlot:this.rendererController.getContentVideoElement(),videoSlotCanAutoPlay:!0};var M0J=g0J.getWidth();g0J=g0J.getHeight();M0J&&g0J||!this.rendition||(M0J=this.rendition.getWidth(),g0J=this.rendition.getHeight());this.vpaidCreative.initAd(M0J,g0J,this.vpaidViewmode,this.vpaidDesiredBitrate,b0J,P0J);}},onAdLoaded:function(){b6e.log("VPAIDRenderer: onAdLoaded()");this.vpaidCreative.cancelTimeoutEvent();b6e.log("Ad duration:"+this.getDuration());var v0J=this,T0J=function(Z0J,V0J){var p0J=V0J;b6e.debug(p0J.length+" companion slots to fill.");if(0!==p0J.length&&0!==Z0J.length){var B0J=new b6e.VPAIDRenderer.VastAdSelect().matchAdsWithSlots(Z0J,p0J);if(0!==B0J.length){Z0J=[];p0J=[];for(V0J=B0J.length-1;0<=V0J;V0J--)Z0J.push(B0J[V0J].ad),p0J.push(B0J[V0J].slot);p0J=v0J.rendererController.scheduleAdInstances(p0J);for(V0J=p0J.length-1;0<=V0J;V0J--)Z0J[V0J].translateToAdInstance(p0J[V0J]);}}},d0J=function(W0J){if(!W0J)return b6e.log("The adCompanions property is empty."),null;b6e.log("parsing adCompanions: "+W0J);if(window.DOMParser)var S0J=new DOMParser().parseFromString(W0J,"text/xml");else S0J=new ActiveXObject("Microsoft.XMLDOM"),S0J.async=!1,S0J.loadXML(W0J);W0J=b6e.Util.xmlToJson(S0J);if(!W0J||!W0J.CompanionAds||!W0J.CompanionAds.Companion)return b6e.log("No companion ads found in parsed xml"),[];W0J=[].concat(W0J.CompanionAds.Companion);S0J=[];for(var s0J=W0J.length-1;0<=s0J;s0J--){var z0J=W0J[s0J];if(z0J["@attributes"]){var e0J=z0J["@attributes"].width,n0J=z0J["@attributes"].height;if(!e0J||!n0J||0>e0J||0>n0J)b6e.log("Missing width/height for companion.");else{var J0J=z0J["@attributes"].apiFramework||"";b6e.debug("Companion "+e0J+"x"+n0J+" api:"+J0J);z0J=new b6e.VPAIDRenderer.VastCompanion(e0J,n0J,J0J,z0J);z0J.hasValidRendtions()&&S0J.push(z0J);}}}return S0J;}(v0J.vpaidCreative.getAdCompanions());d0J&&0<d0J.length?T0J(d0J,this.rendererController.getCompanionSlots()):b6e.log("VPAIDAdRenderer: No companions from VPAID creative.");T0J=this.rendererController.getAdInstance()._context.getAdVolume();!this.isMuted&&2>100*T0J&&(this.isMuted=!0);this.setVolume(T0J);this.vpaidCreative.startAd();},onVisibilityChange:function(){b6e.log("onVisibilityChange:"+(document.hidden?"invisible":"visible"));b6e.log("Current playback state:"+this.adPlaybackState);document.hidden&&"playing"===this.adPlaybackState?(b6e.log("Pause the VPAID creative"),this.vpaidCreative.pauseAd()):!document.hidden&&("paused"===this.adPlaybackState||8>b6e.PLATFORM_IOS_VERSION)&&(b6e.log("Resume the VPAID creative"),this.vpaidCreative.resumeAd());},onAdStarted:function(){b6e.log("VPAIDRenderer: onAdStarted()");if(this.vpaidCreative.timeoutReached)b6e.log("VPAID ad has already failed due to timeout. The AdStarted event will not be handled.");else if(this.vpaidCreative.cancelTimeoutEvent(),7<=b6e.PLATFORM_IOS_VERSION||4.4<=b6e.PLATFORM_ANDROID_VERSION)this._visibilityChangeListener=this.onVisibilityChange.bind(this),document.addEventListener("visibilitychange",this._visibilityChangeListener,!1);},onAdStopped:function(){b6e.log("VPAIDRenderer: onAdStopped()");this.vpaidCreative?(this.vpaidCreative.cancelTimeoutEvent(),this.timePositionClass===b6e.TIME_POSITION_CLASS_OVERLAY&&this.vpaidCreative.getAdLinear()&&this.rendererController.requestContentStateChange(!1),this.vpaidCreative&&!this.vpaidCreative.timeoutReached&&(this.adPlaybackState?(this.rendererController.handleStateTransition(b6e.RENDERER_STATE_COMPLETED),this.dispose()):(b6e.warn("Expecting AdStarted and AdImpression events but got AdStopped event instead. Fail."),this._failWithError(b6e.ERROR_3P_COMPONENT,"Expecting AdStarted and AdImpression events from the VPAID creative but got AdStopped event instead")))):b6e.log("The VPAID creative has been disposed. Return.");},onAdImpression:function(){b6e.log("VPAIDRenderer: onAdImpression()");if(this.vpaidCreative.timeoutReached)b6e.log("VPAID ad has already failed due to timeout. The AdImpression event will not be handled.");else{var A0J=this.vpaidCreative.getAdVolume();this.isMuted=0<A0J&&2>=100*A0J;this.adPlaybackState="playing";this.rendererController.handleStateTransition(b6e.RENDERER_STATE_STARTED);}},onAdLinearChange:function(){b6e.log("VPAIDRenderer: onAdLinearChange()");var j0J=this.vpaidCreative.getAdLinear();j0J?b6e.log("onAdLinearChange(): non-linear click to linear -> request content video to pause"):b6e.log("onAdLinearChange(): linear back to non-linear -> request content video to resume");this.rendererController.requestContentStateChange(j0J);},onAdSizeChange:function(){b6e.log("VPAIDRenderer: onAdSizeChange()");},onAdPaused:function(){b6e.log("VPAIDRenderer: onAdPaused()");"playing"===this.adPlaybackState&&this.rendererController.processEvent({name:b6e.EVENT_AD_PAUSE});this.adPlaybackState="paused";},onAdResumed:function(){b6e.log("VPAIDRenderer: onAdResumed()");"paused"===this.adPlaybackState&&this.rendererController.processEvent({name:b6e.EVENT_AD_RESUME});this.adPlaybackState="playing";},onAdSkipped:function(){b6e.log("VPAIDRenderer: onAdSkipped()");this.dispose();this.rendererController.handleStateTransition(b6e.RENDERER_STATE_COMPLETED);},onAdVideoFirstQuartile:function(){b6e.log("VPAIDRenderer: onAdVideoFirstQuartile()");this.rendererController.processEvent({name:b6e.EVENT_AD_FIRST_QUARTILE});},onAdVideoMidpoint:function(){b6e.log("VPAIDRenderer: onAdVideoMidpoint()");this.rendererController.processEvent({name:b6e.EVENT_AD_MIDPOINT});},onAdVideoThirdQuartile:function(){b6e.log("VPAIDRenderer: onAdVideoThirdQuartile()");this.rendererController.processEvent({name:b6e.EVENT_AD_THIRD_QUARTILE});},onAdVideoComplete:function(){b6e.log("VPAIDRenderer: onAdVideoComplete");this.rendererController.processEvent({name:b6e.EVENT_AD_COMPLETE});},onAdUserAcceptInvitation:function(){b6e.log("VPAIDRenderer: onAdUserAcceptInvitation()");this.rendererController.processEvent({name:b6e.EVENT_AD_ACCEPT_INVITATION});},onAdUserClose:function(){b6e.log("VPAIDRenderer: onAdUserClose()");this.rendererController.processEvent({name:b6e.EVENT_AD_CLOSE});},onAdUserMinimize:function(){b6e.log("VPAIDRenderer: onAdUserMinimize()");this.rendererController.processEvent({name:b6e.EVENT_AD_MINIMIZE});},onAdLog:function(Q0J){b6e.log("VPAIDRenderer: onAdLog: "+Q0J);},onAdError:function(k0J){b6e.log("VPAIDRenderer: onAdError(): "+k0J);this._failWithError(b6e.ERROR_3P_COMPONENT,"AdError event:"+k0J);},start:function(i0J){b6e.log("VPAIDRenderer start()");this.rendererController=i0J;this.timePositionClass=i0J.getAdInstance().getSlot().getTimePositionClass();if(i0J=(i0J=(this.rendition=i0J.getAdInstance().getActiveCreativeRendition())?this.rendition.getPrimaryCreativeRenditionAsset():null)?i0J.getUrl():null){this.vpaidCreative=new b6e.VPAIDWrapper();this.vpaidCreative.setTimeoutValueInMs(this.creativeTimeoutDelayInMs);this.vpaidCreative.addEventListener("timeout",this.onCreativeTimeout.bind(this));this.vpaidCreative.addEventListener("CreativeAssetLoaded",this.onCreativeAssetLoaded.bind(this));try{this.vpaidCreative.loadCreativeAsset(i0J);}catch(I0J){this._failWithError(b6e.ERROR_IO,I0J);}}else this._failWithError(b6e.ERROR_NULL_ASSET,"Creative asset url cannot be null");},stop:function(){b6e.log("VPAIDRenderer stop()");this.vpaidCreative.stopAd();},info:function(){return{moduleType:b6e.MODULE_TYPE_RENDERER};},getPlayheadTime:function(){var E0J=this.vpaidCreative.getAdDuration(),y0J=this.vpaidCreative.getAdRemainingTime();0<=E0J&&0<=y0J&&(this.playheadTime=E0J-y0J);0>this.playheadTime&&(this.playheadTime=-1);return this.playheadTime;},getDuration:function(){var r0J=this.vpaidCreative.getAdDuration();return 0<=r0J?r0J:-1;},pause:function(){b6e.log("VPAIDRenderer pause()");this.rendererController.processEvent({name:b6e.EVENT_AD_PAUSE});this.vpaidCreative.canPauseAd()?"playing"===this.adPlaybackState&&(this.adPlaybackState="pausing",this.vpaidCreative.pauseAd()):b6e.log("The creative is not able to pause");},resume:function(){b6e.log("VPAIDRenderer resume()");this.rendererController.processEvent({name:b6e.EVENT_AD_RESUME});this.vpaidCreative.canResumeAd()?"paused"===this.adPlaybackState&&(this.adPlaybackState="resuming",this.vpaidCreative.resumeAd()):b6e.log("The creative is not able to resume");},dispose:function(){b6e.log("VPAIDRenderer dispose()");this.vpaidCreative&&(this.videoParent&&(this.videoParent.removeChild(this.videoBase),this.videoParent=null),this._visibilityChangeListener&&(b6e.log("remove visibilitychange listener"),document.removeEventListener("visibilitychange",this._visibilityChangeListener,!1)),this.vpaidCreative.removeCallbacksForCreative(this.creativeEventCallbacks),this.vpaidCreative.removeEventListener("timeout"),this.vpaidCreative=null);},resize:function(){b6e.log("VPAIDAdRenderer resize()");var u1J=this.rendererController.getAdInstance().getSlot(),X1J=u1J.getWidth();u1J=u1J.getHeight();b6e.log("VPAIDRenderer new size width:"+X1J+" height:"+u1J);this.vpaidCreative.resizeAd(X1J,u1J,this.vpaidViewmode);}});return b6e;};N6e.tv.freewheel.SDK||(N6e.tv.freewheel.SDK=N6e.tv.freewheel[a6e]("tv.freewheel.SDK"));return N6e;}());function akamaiSubscribeVideoObject(i0s){if(akaMediaAnalytics){akaMediaAnalytics.subscribeVideoObject(i0s);}}function akamaiEnableServerIpLookup(){try{if(akaMediaAnalytics){akaMediaAnalytics.enableServerIpLookUp();}}catch(y0s){}}function akamaiEnableLocation(I0s){if(akaMediaAnalytics){akaMediaAnalytics.enableLocation(I0s);}}function akamaiSetViewerId(W0s){if(W0s==null||W0s==""){W0s="-";}setAkamaiMediaAnalyticsData("viewerId",W0s);setAkamaiMediaAnalyticsData("clientId",W0s);}(function h1J(D1J,f1J){if(typeof exports==='object'&&typeof module==='object')module.exports=f1J();else if(typeof define==='function'&&define.amd)define([],f1J);else if(typeof exports==='object')exports["TOP"]=f1J();else D1J["TOP"]=f1J();}(typeof self!=='undefined'?self:this,function(){return function(Y1J){function C1J(F1J){if(w1J[F1J]){return w1J[F1J].exports;}var c1J=w1J[F1J]={i:F1J,l:false,exports:{}};Y1J[F1J].call(c1J.exports,c1J,c1J.exports,C1J);c1J.l=true;return c1J.exports;}var w1J={};C1J.m=Y1J;C1J.c=w1J;C1J.d=function(R1J,U1J,q1J){if(!C1J.o(R1J,U1J)){Object.defineProperty(R1J,U1J,{configurable:false,enumerable:true,get:q1J});}};C1J.n=function(o1J){var t1J=o1J&&o1J.__esModule?function l1J(){return o1J['default'];}:function G1J(){return o1J;};C1J.d(t1J,'a',t1J);return t1J;};C1J.o=function(m1J,K1J){return Object.prototype.hasOwnProperty.call(m1J,K1J);};C1J.p="";return C1J(C1J.s=1);}([function(a1J,b1J){var N1J;N1J=function(){return this;}();try{N1J=N1J||Function("return this;")()||(1,eval)("this");}catch(g1J){if(typeof window==="object")N1J=window;}a1J.exports=N1J;},function(L1J,M1J,P1J){(function(x1J){P1J(2);x1J.Conviva=P1J(6);P1J(7);(function(e1J,a04){"use strict";e1J["com"]=e1J["com"]||{};e1J["com"]["turner"]=e1J["com"]["turner"]||{};e1J["com"]["turner"]["top"]=e1J["com"]["turner"]["top"]||{};e1J["com"]["turner"]["top"]["sdk"]=e1J["com"]["turner"]["top"]["sdk"]||{};e1J["com"]["turner"]["top"]["sdk"]["core"]=e1J["com"]["turner"]["top"]["sdk"]["core"]||{};e1J["com"]["turner"]["top"]["sdk"]["core"]["player"]=e1J["com"]["turner"]["top"]["sdk"]["core"]["player"]||{};e1J["com"]["turner"]["top"]["sdk"]["core"]["player"]["config"]=e1J["com"]["turner"]["top"]["sdk"]["core"]["player"]["config"]||{};;e1J["com"]["turner"]["top"]["sdk"]["core"]["api"]=e1J["com"]["turner"]["top"]["sdk"]["core"]["api"]||{};e1J["com"]["turner"]["top"]["sdk"]["core"]["api"]["events"]=e1J["com"]["turner"]["top"]["sdk"]["core"]["api"]["events"]||{};;e1J["com"]["turner"]["top"]["sdk"]["common"]=e1J["com"]["turner"]["top"]["sdk"]["common"]||{};e1J["com"]["turner"]["top"]["sdk"]["common"]["validation"]=e1J["com"]["turner"]["top"]["sdk"]["common"]["validation"]||{};;e1J["com"]["turner"]["top"]["sdk"]["common"]["media"]=e1J["com"]["turner"]["top"]["sdk"]["common"]["media"]||{};e1J["com"]["turner"]["top"]["sdk"]["common"]["media"]["metrics"]=e1J["com"]["turner"]["top"]["sdk"]["common"]["media"]["metrics"]||{};;e1J["com"]["turner"]["top"]["sdk"]["common"]["features"]=e1J["com"]["turner"]["top"]["sdk"]["common"]["features"]||{};;e1J["com"]["turner"]["top"]["sdk"]["common"]["metadata"]=e1J["com"]["turner"]["top"]["sdk"]["common"]["metadata"]||{};e1J["com"]["turner"]["top"]["sdk"]["common"]["metadata"]["helpers"]=e1J["com"]["turner"]["top"]["sdk"]["common"]["metadata"]["helpers"]||{};;e1J["com"]["turner"]["top"]["sdk"]["common"]["cms"]=e1J["com"]["turner"]["top"]["sdk"]["common"]["cms"]||{};;e1J["com"]["turner"]["top"]["sdk"]["common"]["closedcaptions"]=e1J["com"]["turner"]["top"]["sdk"]["common"]["closedcaptions"]||{};;e1J["com"]["turner"]["top"]["sdk"]["common"]["auth"]=e1J["com"]["turner"]["top"]["sdk"]["common"]["auth"]||{};;e1J["com"]["turner"]["top"]["sdk"]["common"]["ads"]=e1J["com"]["turner"]["top"]["sdk"]["common"]["ads"]||{};e1J["com"]["turner"]["top"]["sdk"]["common"]["ads"]["utils"]=e1J["com"]["turner"]["top"]["sdk"]["common"]["ads"]["utils"]||{};;e1J["com"]["turner"]["top"]["engines"]=e1J["com"]["turner"]["top"]["engines"]||{};e1J["com"]["turner"]["top"]["engines"]["media"]=e1J["com"]["turner"]["top"]["engines"]["media"]||{};e1J["com"]["turner"]["top"]["engines"]["media"]["video_el_js"]=e1J["com"]["turner"]["top"]["engines"]["media"]["video_el_js"]||{};;e1J["com"]["turner"]["top"]["engines"]["media"]["hls_js"]=e1J["com"]["turner"]["top"]["engines"]["media"]["hls_js"]||{};;e1J["com"]["turner"]["top"]["engines"]["ads"]=e1J["com"]["turner"]["top"]["engines"]["ads"]||{};e1J["com"]["turner"]["top"]["engines"]["ads"]["ssai"]=e1J["com"]["turner"]["top"]["engines"]["ads"]["ssai"]||{};e1J["com"]["turner"]["top"]["engines"]["ads"]["ssai"]["services"]=e1J["com"]["turner"]["top"]["engines"]["ads"]["ssai"]["services"]||{};;e1J["com"]["turner"]["top"]["engines"]["ads"]["fw"]=e1J["com"]["turner"]["top"]["engines"]["ads"]["fw"]||{};;e1J["com"]["turner"]["top"]["comps"]=e1J["com"]["turner"]["top"]["comps"]||{};e1J["com"]["turner"]["top"]["comps"]["closedcaptions"]=e1J["com"]["turner"]["top"]["comps"]["closedcaptions"]||{};e1J["com"]["turner"]["top"]["comps"]["closedcaptions"]["managers"]=e1J["com"]["turner"]["top"]["comps"]["closedcaptions"]["managers"]||{};;e1J["com"]["turner"]["top"]["comps"]["auth"]=e1J["com"]["turner"]["top"]["comps"]["auth"]||{};e1J["com"]["turner"]["top"]["comps"]["auth"]["fp"]=e1J["com"]["turner"]["top"]["comps"]["auth"]["fp"]||{};;e1J["com"]["turner"]["top"]["lib"]=e1J["com"]["turner"]["top"]["lib"]||{};e1J["com"]["turner"]["top"]["lib"]["utils"]=e1J["com"]["turner"]["top"]["lib"]["utils"]||{};;e1J["com"]["turner"]["top"]["lib"]["states"]=e1J["com"]["turner"]["top"]["lib"]["states"]||{};e1J["com"]["turner"]["top"]["lib"]["states"]["fsm"]=e1J["com"]["turner"]["top"]["lib"]["states"]["fsm"]||{};e1J["com"]["turner"]["top"]["lib"]["states"]["fsm"]["examples"]=e1J["com"]["turner"]["top"]["lib"]["states"]["fsm"]["examples"]||{};;e1J["com"]["turner"]["top"]["lib"]["logging"]=e1J["com"]["turner"]["top"]["lib"]["logging"]||{};;e1J["com"]["turner"]["top"]["lib"]["platform"]=e1J["com"]["turner"]["top"]["lib"]["platform"]||{};e1J["com"]["turner"]["top"]["lib"]["platform"]["view"]=e1J["com"]["turner"]["top"]["lib"]["platform"]["view"]||{};;e1J["com"]["turner"]["top"]["lib"]["platform"]["timers"]=e1J["com"]["turner"]["top"]["lib"]["platform"]["timers"]||{};;e1J["com"]["turner"]["top"]["lib"]["platform"]["fullscreen"]=e1J["com"]["turner"]["top"]["lib"]["platform"]["fullscreen"]||{};;e1J["com"]["turner"]["top"]["lib"]["platform"]["browser"]=e1J["com"]["turner"]["top"]["lib"]["platform"]["browser"]||{};;e1J["com"]["turner"]["top"]["lib"]["platform"]["storage"]=e1J["com"]["turner"]["top"]["lib"]["platform"]["storage"]||{};;e1J["com"]["turner"]["top"]["lib"]["vo"]=e1J["com"]["turner"]["top"]["lib"]["vo"]||{};;e1J["com"]["turner"]["top"]["lib"]["events"]=e1J["com"]["turner"]["top"]["lib"]["events"]||{};e1J["com"]["turner"]["top"]["lib"]["events"]["collection"]=e1J["com"]["turner"]["top"]["lib"]["events"]["collection"]||{};var O1J={},H1J=function(){return S1J.__string_rec(this,'');};var h14=function(){};O1J["CompileTime"]=h14;h14.__name__=["CompileTime"];var R2J=function(){};O1J["DateTools"]=R2J;R2J.__name__=["DateTools"];R2J.__format_get=function(K14,N14){switch(N14){case"%":return"%";case"A":return R2J.DAY_NAMES[K14.getDay()];case"B":return R2J.MONTH_NAMES[K14.getMonth()];case"C":return C6J.lpad(d1J.string(K14.getFullYear()/100|0),"0",2);case"D":return R2J.__format(K14,"%m/%d/%y");case"F":return R2J.__format(K14,"%Y-%m-%d");case"I":case"l":var b14=K14.getHours()%12;return C6J.lpad(d1J.string(b14==0?12:b14),N14=="I"?"0":" ",2);case"M":return C6J.lpad(d1J.string(K14.getMinutes()),"0",2);case"R":return R2J.__format(K14,"%H:%M");case"S":return C6J.lpad(d1J.string(K14.getSeconds()),"0",2);case"T":return R2J.__format(K14,"%H:%M:%S");case"Y":return d1J.string(K14.getFullYear());case"a":return R2J.DAY_SHORT_NAMES[K14.getDay()];case"b":case"h":return R2J.MONTH_SHORT_NAMES[K14.getMonth()];case"d":return C6J.lpad(d1J.string(K14.getDate()),"0",2);case"e":return d1J.string(K14.getDate());case"H":case"k":return C6J.lpad(d1J.string(K14.getHours()),N14=="H"?"0":" ",2);case"m":return C6J.lpad(d1J.string(K14.getMonth()+1),"0",2);case"n":return"\n";case"p":if(K14.getHours()>11){return"PM";}else{return"AM";}break;case"r":return R2J.__format(K14,"%I:%M:%S %p");case"s":return d1J.string(K14.getTime()/1000|0);case"t":return"\t";case"u":var a14=K14.getDay();if(a14==0){return"7";}else if(a14==null){return"null";}else{return""+a14;}break;case"w":return d1J.string(K14.getDay());case"y":return C6J.lpad(d1J.string(K14.getFullYear()%100),"0",2);default:throw new j1J("Date.format %"+N14+"- not implemented yet.");}};R2J.__format=function(H14,P14){var M14="";var g14=0;while(true){var L14=P14.indexOf("%",g14);if(L14<0){break;}var x14=L14-g14;M14+=x14==null?Y4J.substr(P14,g14,null):Y4J.substr(P14,g14,x14);M14+=d1J.string(R2J.__format_get(H14,Y4J.substr(P14,L14+1,1)));g14=L14+2;}var O14=P14.length-g14;M14+=O14==null?Y4J.substr(P14,g14,null):Y4J.substr(P14,g14,O14);return M14;};R2J.format=function(T14,d14){return R2J.__format(T14,d14);};var m7J=function(v14,V14){this.r=new RegExp(v14,V14.split("u").join(""));};O1J["EReg"]=m7J;m7J.__name__=["EReg"];m7J.prototype={r:null,match:function(p14){if(this.r.global){this.r.lastIndex=0;}this.r.m=this.r.exec(p14);this.r.s=p14;return this.r.m!=null;},matched:function(Z14){if(this.r.m!=null&&Z14>=0&&Z14<this.r.m.length){return this.r.m[Z14];}else{throw new j1J("EReg::matched");}},matchedRight:function(){if(this.r.m==null){throw new j1J("No string matched");}var B14=this.r.m.index+this.r.m[0].length;return Y4J.substr(this.r.s,B14,this.r.s.length-B14);},split:function(z14){var W14="#__delim__#";return z14.replace(this.r,W14).split(W14);},__class__:m7J};var Y4J=function(){};O1J["HxOverrides"]=Y4J;Y4J.__name__=["HxOverrides"];Y4J.dateStr=function(S14){var e14=S14.getMonth()+1;var n14=S14.getDate();var s14=S14.getHours();var J14=S14.getMinutes();var A14=S14.getSeconds();return S14.getFullYear()+"-"+(e14<10?"0"+e14:""+e14)+"-"+(n14<10?"0"+n14:""+n14)+" "+(s14<10?"0"+s14:""+s14)+":"+(J14<10?"0"+J14:""+J14)+":"+(A14<10?"0"+A14:""+A14);};Y4J.strDate=function(Q14){var r14=Q14.length;switch(r14){case 8:var k14=Q14.split(":");var j14=new Date();j14["setTime"](0);j14["setUTCHours"](k14[0]);j14["setUTCMinutes"](k14[1]);j14["setUTCSeconds"](k14[2]);return j14;case 10:var i14=Q14.split("-");return new Date(i14[0],i14[1]-1,i14[2],0,0,0);case 19:var y14=Q14.split(" ");var I14=y14[0].split("-");var E14=y14[1].split(":");return new Date(I14[0],I14[1]-1,I14[2],E14[0],E14[1],E14[2]);default:throw new j1J("Invalid date format : "+Q14);}};Y4J.cca=function(X44,h44){var u44=X44.charCodeAt(h44);if(u44!=u44){return undefined;}return u44;};Y4J.substr=function(D44,C44,f44){if(f44==null){f44=D44.length;}else if(f44<0){if(C44==0){f44=D44.length+f44;}else{return"";}}return D44.substr(C44,f44);};Y4J.remove=function(Y44,c44){var w44=Y44.indexOf(c44);if(w44==-1){return false;}Y44.splice(w44,1);return true;};Y4J.iter=function(F44){return{cur:0,arr:F44,hasNext:function(){return this.cur<this.arr.length;},next:function(){return this.arr[this.cur++];}};};var j5y=function(R44,U44){this.min=R44;this.max=U44;};O1J["IntIterator"]=j5y;j5y.__name__=["IntIterator"];j5y.prototype={min:null,max:null,hasNext:function(){return this.min<this.max;},next:function(){return this.min++;},__class__:j5y};var i7J=function(){};O1J["Lambda"]=i7J;i7J.__name__=["Lambda"];i7J.has=function(t44,l44){var q44=u3y(t44)();while(q44.hasNext()){var o44=q44.next();if(o44==l44){return true;}}return false;};i7J.exists=function(K44,N44){var G44=u3y(K44)();while(G44.hasNext()){var m44=G44.next();if(N44(m44)){return true;}}return false;};i7J.foreach=function(g44,P44){var a44=u3y(g44)();while(a44.hasNext()){var b44=a44.next();if(!P44(b44)){return false;}}return true;};i7J.fold=function(O44,H44,M44){var L44=u3y(O44)();while(L44.hasNext()){var x44=L44.next();M44=H44(x44,M44);}return M44;};i7J.count=function(V44,p44){var T44=0;if(p44==null){var d44=u3y(V44)();while(d44.hasNext()){var B44=d44.next();++T44;}}else{var v44=u3y(V44)();while(v44.hasNext()){var Z44=v44.next();if(p44(Z44)){++T44;}}}return T44;};Math.__name__=["Math"];var I8y={};O1J["_OneOf2_String_Int.OneOf2_String_Int_Impl_"]=I8y;I8y.__name__=["_OneOf2_String_Int","OneOf2_String_Int_Impl_"];I8y.getTypeName=function(W44){return c9J.getTypeName(W44);};I8y.satisfies=function(z44,S44){return true;};I8y.get=function(e44){return Y3J.TString(e44);};var Y3J=O1J["OneOf2_String_Int_Enum"]={__ename__:["OneOf2_String_Int_Enum"],__constructs__:["TString","TInt"]};Y3J.TString=function(s44){var n44=["TString",0,s44];n44.__enum__=Y3J;n44.toString=H1J;return n44;};Y3J.TInt=function(A44){var J44=["TInt",1,A44];J44.__enum__=Y3J;J44.toString=H1J;return J44;};Y3J.__empty_constructs__=[];var r8y={};O1J["_OneOf2_String_TestStruct.OneOf2_String_TestStruct_Impl_"]=r8y;r8y.__name__=["_OneOf2_String_TestStruct","OneOf2_String_TestStruct_Impl_"];r8y.getTypeName=function(j44){return c9J.getTypeName(j44);};r8y.satisfies=function(Q44,k44){return true;};r8y.get=function(i44){return P5J.TString(i44);};var P5J=O1J["OneOf2_String_TestStruct_Enum"]={__ename__:["OneOf2_String_TestStruct_Enum"],__constructs__:["TString","TTestStruct"]};P5J.TString=function(E44){var I44=["TString",0,E44];I44.__enum__=P5J;I44.toString=H1J;return I44;};P5J.TTestStruct=function(r44){var y44=["TTestStruct",1,r44];y44.__enum__=P5J;y44.toString=H1J;return y44;};P5J.__empty_constructs__=[];var X3y={};O1J["_OneOf3_Bool_HlsJsLogger_String.OneOf3_Bool_HlsJsLogger_String_Impl_"]=X3y;X3y.__name__=["_OneOf3_Bool_HlsJsLogger_String","OneOf3_Bool_HlsJsLogger_String_Impl_"];X3y.getTypeName=function(u64){return c9J.getTypeName(u64);};X3y.satisfies=function(X64,h64){return true;};X3y.get=function(f64){return M3J.TString(f64);};var M3J=O1J["OneOf3_Bool_HlsJsLogger_String_Enum"]={__ename__:["OneOf3_Bool_HlsJsLogger_String_Enum"],__constructs__:["TBool","THlsJsLogger","TString"]};M3J.TBool=function(C64){var D64=["TBool",0,C64];D64.__enum__=M3J;D64.toString=H1J;return D64;};M3J.THlsJsLogger=function(Y64){var w64=["THlsJsLogger",1,Y64];w64.__enum__=M3J;w64.toString=H1J;return w64;};M3J.TString=function(F64){var c64=["TString",2,F64];c64.__enum__=M3J;c64.toString=H1J;return c64;};M3J.__empty_constructs__=[];var h3y={};O1J["_OneOf3_JsonObj_HLSAttributeList_String.OneOf3_JsonObj_HLSAttributeList_String_Impl_"]=h3y;h3y.__name__=["_OneOf3_JsonObj_HLSAttributeList_String","OneOf3_JsonObj_HLSAttributeList_String_Impl_"];h3y.getTypeName=function(R64){return c9J.getTypeName(R64);};h3y.satisfies=function(U64,q64){return true;};h3y.get=function(o64){return z3J.TString(o64);};var z3J=O1J["OneOf3_JsonObj_HLSAttributeList_String_Enum"]={__ename__:["OneOf3_JsonObj_HLSAttributeList_String_Enum"],__constructs__:["TJsonObj","THLSAttributeList","TString"]};z3J.TJsonObj=function(l64){var t64=["TJsonObj",0,l64];t64.__enum__=z3J;t64.toString=H1J;return t64;};z3J.THLSAttributeList=function(m64){var G64=["THLSAttributeList",1,m64];G64.__enum__=z3J;G64.toString=H1J;return G64;};z3J.TString=function(N64){var K64=["TString",2,N64];K64.__enum__=z3J;K64.toString=H1J;return K64;};z3J.__empty_constructs__=[];var w3y={};O1J["_OneOf3_ListenForMap_CollectionListener_String.OneOf3_ListenForMap_CollectionListener_String_Impl_"]=w3y;w3y.__name__=["_OneOf3_ListenForMap_CollectionListener_String","OneOf3_ListenForMap_CollectionListener_String_Impl_"];w3y.getTypeName=function(a64){return c9J.getTypeName(a64);};w3y.satisfies=function(g64,P64){return true;};w3y.get=function(M64){return s3J.TString(M64);};var s3J=O1J["OneOf3_ListenForMap_CollectionListener_String_Enum"]={__ename__:["OneOf3_ListenForMap_CollectionListener_String_Enum"],__constructs__:["TListenForMap","TCollectionListener","TString"]};s3J.TListenForMap=function(x64){var L64=["TListenForMap",0,x64];L64.__enum__=s3J;L64.toString=H1J;return L64;};s3J.TCollectionListener=function(H64){var O64=["TCollectionListener",1,H64];O64.__enum__=s3J;O64.toString=H1J;return O64;};s3J.TString=function(d64){var T64=["TString",2,d64];T64.__enum__=s3J;T64.toString=H1J;return T64;};s3J.__empty_constructs__=[];var c3y={};O1J["_OneOf3_String_DynamicAccess_Cue.OneOf3_String_DynamicAccess_Cue_Impl_"]=c3y;c3y.__name__=["_OneOf3_String_DynamicAccess_Cue","OneOf3_String_DynamicAccess_Cue_Impl_"];c3y.getTypeName=function(v64){return c9J.getTypeName(v64);};c3y.satisfies=function(V64,p64){return true;};c3y.get=function(Z64){return A3J.TString(Z64);};var A3J=O1J["OneOf3_String_DynamicAccess_Cue_Enum"]={__ename__:["OneOf3_String_DynamicAccess_Cue_Enum"],__constructs__:["TString","TDynamicAccess","TCue"]};A3J.TString=function(W64){var B64=["TString",0,W64];B64.__enum__=A3J;B64.toString=H1J;return B64;};A3J.TDynamicAccess=function(S64){var z64=["TDynamicAccess",1,S64];z64.__enum__=A3J;z64.toString=H1J;return z64;};A3J.TCue=function(n64){var e64=["TCue",2,n64];e64.__enum__=A3J;e64.toString=H1J;return e64;};A3J.__empty_constructs__=[];var U3y={};O1J["_OneOf3_String_Float_Int.OneOf3_String_Float_Int_Impl_"]=U3y;U3y.__name__=["_OneOf3_String_Float_Int","OneOf3_String_Float_Int_Impl_"];U3y.getTypeName=function(s64){return c9J.getTypeName(s64);};U3y.satisfies=function(J64,A64){return true;};U3y.get=function(j64){return j8J.TString(j64);};var j8J=O1J["OneOf3_String_Float_Int_Enum"]={__ename__:["OneOf3_String_Float_Int_Enum"],__constructs__:["TString","TFloat","TInt"]};j8J.TString=function(k64){var Q64=["TString",0,k64];Q64.__enum__=j8J;Q64.toString=H1J;return Q64;};j8J.TFloat=function(E64){var I64=["TFloat",1,E64];I64.__enum__=j8J;I64.toString=H1J;return I64;};j8J.TInt=function(r64){var y64=["TInt",2,r64];y64.__enum__=j8J;y64.toString=H1J;return y64;};j8J.__empty_constructs__=[];var o3y={};O1J["_OneOf4_String_ContentProviderData_ContentEntryData_ContentEntrySugarData.OneOf4_String_ContentProviderData_ContentEntryData_ContentEntrySugarData_Impl_"]=o3y;o3y.__name__=["_OneOf4_String_ContentProviderData_ContentEntryData_ContentEntrySugarData","OneOf4_String_ContentProviderData_ContentEntryData_ContentEntrySugarData_Impl_"];o3y.getTypeName=function(u24){return c9J.getTypeName(u24);};o3y.satisfies=function(X24,h24){return true;};o3y.get=function(f24){return b8J.TString(f24);};var b8J=O1J["OneOf4_String_ContentProviderData_ContentEntryData_ContentEntrySugarData_Enum"]={__ename__:["OneOf4_String_ContentProviderData_ContentEntryData_ContentEntrySugarData_Enum"],__constructs__:["TString","TContentProviderData","TContentEntryData","TContentEntrySugarData"]};b8J.TString=function(C24){var D24=["TString",0,C24];D24.__enum__=b8J;D24.toString=H1J;return D24;};b8J.TContentProviderData=function(Y24){var w24=["TContentProviderData",1,Y24];w24.__enum__=b8J;w24.toString=H1J;return w24;};b8J.TContentEntryData=function(F24){var c24=["TContentEntryData",2,F24];c24.__enum__=b8J;c24.toString=H1J;return c24;};b8J.TContentEntrySugarData=function(U24){var R24=["TContentEntrySugarData",3,U24];R24.__enum__=b8J;R24.toString=H1J;return R24;};b8J.__empty_constructs__=[];var Z1J=function(){};O1J["Reflect"]=Z1J;Z1J.__name__=["Reflect"];Z1J.field=function(q24,o24){try{return q24[o24];}catch(t24){return null;}};Z1J.fields=function(G24){var m24=[];if(G24!=null){var K24=Object.prototype.hasOwnProperty;for(var l24 in G24){if(l24!="__id__"&&l24!="hx__closures__"&&K24.call(G24,l24)){m24.push(l24);}}}return m24;};Z1J.isFunction=function(N24){if(typeof N24=="function"){return!(N24.__name__||N24.__ename__);}else{return false;}};Z1J.compare=function(a24,b24){if(a24==b24){return 0;}else if(a24>b24){return 1;}else{return-1;}};Z1J.compareMethods=function(g24,P24){if(g24==P24){return true;}if(!Z1J.isFunction(g24)||!Z1J.isFunction(P24)){return false;}if(g24.scope==P24.scope&&g24.method==P24.method){return g24.method!=null;}else{return false;}};Z1J.isEnumValue=function(M24){if(M24!=null){return M24.__enum__!=null;}else{return false;}};Z1J.deleteField=function(L24,x24){if(!Object.prototype.hasOwnProperty.call(L24,x24)){return false;}delete L24[x24];return true;};var d1J=function(){};O1J["Std"]=d1J;d1J.__name__=["Std"];d1J.string=function(O24){return S1J.__string_rec(O24,"");};d1J.parseInt=function(T24){var H24=parseInt(T24,10);if(H24==0&&(Y4J.cca(T24,1)==120||Y4J.cca(T24,1)==88)){H24=parseInt(T24);}if(isNaN(H24)){return null;}return H24;};var T9J=function(){this.b="";};O1J["StringBuf"]=T9J;T9J.__name__=["StringBuf"];T9J.prototype={b:null,__class__:T9J};var C6J=function(){};O1J["StringTools"]=C6J;C6J.__name__=["StringTools"];C6J.htmlEscape=function(d24,v24){d24=d24.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");if(v24){return d24.split("\"").join("&quot;").split("'").join("&#039;");}else{return d24;}};C6J.isSpace=function(p24,Z24){var V24=Y4J.cca(p24,Z24);if(!(V24>8&&V24<14)){return V24==32;}else{return true;}};C6J.ltrim=function(W24){var z24=W24.length;var B24=0;while(B24<z24&&C6J.isSpace(W24,B24))++B24;if(B24>0){return Y4J.substr(W24,B24,z24-B24);}else{return W24;}};C6J.rtrim=function(e24){var n24=e24.length;var S24=0;while(S24<n24&&C6J.isSpace(e24,n24-S24-1))++S24;if(S24>0){return Y4J.substr(e24,0,n24-S24);}else{return e24;}};C6J.trim=function(s24){return C6J.ltrim(C6J.rtrim(s24));};C6J.lpad=function(J24,A24,j24){if(A24.length<=0){return J24;}while(J24.length<j24)J24=A24+J24;return J24;};C6J.replace=function(Q24,k24,i24){return Q24.split(k24).join(i24);};C6J.hex=function(E24,y24){var I24="";var r24="0123456789ABCDEF";while(true){I24=r24.charAt(E24&15)+I24;E24>>>=4;if(!(E24>0)){break;}}if(y24!=null){while(I24.length<y24)I24="0"+I24;}return I24;};var R4J=O1J["ValueType"]={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};R4J.TNull=["TNull",0];R4J.TNull.toString=H1J;R4J.TNull.__enum__=R4J;R4J.TInt=["TInt",1];R4J.TInt.toString=H1J;R4J.TInt.__enum__=R4J;R4J.TFloat=["TFloat",2];R4J.TFloat.toString=H1J;R4J.TFloat.__enum__=R4J;R4J.TBool=["TBool",3];R4J.TBool.toString=H1J;R4J.TBool.__enum__=R4J;R4J.TObject=["TObject",4];R4J.TObject.toString=H1J;R4J.TObject.__enum__=R4J;R4J.TFunction=["TFunction",5];R4J.TFunction.toString=H1J;R4J.TFunction.__enum__=R4J;R4J.TClass=function(X74){var u74=["TClass",6,X74];u74.__enum__=R4J;u74.toString=H1J;return u74;};R4J.TEnum=function(f74){var h74=["TEnum",7,f74];h74.__enum__=R4J;h74.toString=H1J;return h74;};R4J.TUnknown=["TUnknown",8];R4J.TUnknown.toString=H1J;R4J.TUnknown.__enum__=R4J;R4J.__empty_constructs__=[R4J.TNull,R4J.TInt,R4J.TFloat,R4J.TBool,R4J.TObject,R4J.TFunction,R4J.TUnknown];var U4J=function(){};O1J["Type"]=U4J;U4J.__name__=["Type"];U4J.getClass=function(D74){if(D74==null){return null;}else{return S1J.getClass(D74);}};U4J.getEnum=function(C74){if(C74==null){return null;}return C74.__enum__;};U4J.getSuperClass=function(w74){return w74.__super__;};U4J.getClassName=function(c74){var Y74=c74.__name__;if(Y74==null){return null;}return Y74.join(".");};U4J.getEnumName=function(R74){var F74=R74.__ename__;return F74.join(".");};U4J.resolveClass=function(q74){var U74=O1J[q74];if(U74==null||!U74.__name__){return null;}return U74;};U4J.resolveEnum=function(t74){var o74=O1J[t74];if(o74==null||!o74.__ename__){return null;}return o74;};U4J.createInstance=function(l74,G74){return new(Function.prototype.bind.apply(l74,[null].concat(G74)))();};U4J.createEmptyInstance=function(m74){return Object.create(m74.prototype);};U4J.createEnum=function(b74,N74,a74){var K74=Z1J.field(b74,N74);if(K74==null){throw new j1J("No such constructor "+N74);}if(Z1J.isFunction(K74)){if(a74==null){throw new j1J("Constructor "+N74+" need parameters");}return K74.apply(b74,a74);}if(a74!=null&&a74.length!=0){throw new j1J("Constructor "+N74+" does not need parameters");}return K74;};U4J.createEnumIndex=function(P74,M74,L74){var g74=P74.__constructs__[M74];if(g74==null){throw new j1J(M74+" is not a valid enum constructor index");}return U4J.createEnum(P74,g74,L74);};U4J.getInstanceFields=function(H74){var x74=[];for(var O74 in H74.prototype)x74.push(O74);Y4J.remove(x74,"__class__");Y4J.remove(x74,"__properties__");return x74;};U4J.getClassFields=function(d74){var T74=Z1J.fields(d74);Y4J.remove(T74,"__name__");Y4J.remove(T74,"__interfaces__");Y4J.remove(T74,"__properties__");Y4J.remove(T74,"__super__");Y4J.remove(T74,"__meta__");Y4J.remove(T74,"prototype");return T74;};U4J.getEnumConstructs=function(v74){return v74.__constructs__.slice();};U4J["typeof"]=function(V74){var B74=typeof V74;switch(B74){case"boolean":return R4J.TBool;case"function":if(V74.__name__||V74.__ename__){return R4J.TObject;}return R4J.TFunction;case"number":if(Math.ceil(V74)==V74%2147483648.0){return R4J.TInt;}return R4J.TFloat;case"object":if(V74==null){return R4J.TNull;}var p74=V74.__enum__;if(p74!=null){return R4J.TEnum(p74);}var Z74=S1J.getClass(V74);if(Z74!=null){return R4J.TClass(Z74);}return R4J.TObject;case"string":return R4J.TClass(String);case"undefined":return R4J.TNull;default:return R4J.TUnknown;}};U4J.enumEq=function(W74,z74){if(W74==z74){return true;}try{if(W74[0]!=z74[0]){return false;}var S74=2;var s74=W74.length;while(S74<s74){var e74=S74++;if(!U4J.enumEq(W74[e74],z74[e74])){return false;}}var n74=W74.__enum__;if(n74!=z74.__enum__||n74==null){return false;}}catch(J74){return false;}return true;};U4J.enumConstructor=function(A74){return A74[0];};U4J.enumParameters=function(j74){return j74.slice(2);};U4J.enumIndex=function(Q74){return Q74[1];};U4J.allEnums=function(k74){return k74.__empty_constructs__;};var m3y={};O1J["_UInt.UInt_Impl_"]=m3y;m3y.__name__=["_UInt","UInt_Impl_"];m3y.gt=function(I74,E74){var i74=I74<0;var y74=E74<0;if(i74!=y74){return i74;}else{return I74>E74;}};var y1J=function(r74){this.nodeType=r74;this.children=[];this.attributeMap=new b4J();};O1J["Xml"]=y1J;y1J.__name__=["Xml"];y1J.parse=function(u94){return K8J.parse(u94);};y1J.createElement=function(h94){var X94=new y1J(y1J.Element);if(X94.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+X94.nodeType);}X94.nodeName=h94;return X94;};y1J.createPCData=function(D94){var f94=new y1J(y1J.PCData);if(f94.nodeType==y1J.Document||f94.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+f94.nodeType);}f94.nodeValue=D94;return f94;};y1J.createCData=function(w94){var C94=new y1J(y1J.CData);if(C94.nodeType==y1J.Document||C94.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+C94.nodeType);}C94.nodeValue=w94;return C94;};y1J.createComment=function(c94){var Y94=new y1J(y1J.Comment);if(Y94.nodeType==y1J.Document||Y94.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+Y94.nodeType);}Y94.nodeValue=c94;return Y94;};y1J.createDocType=function(R94){var F94=new y1J(y1J.DocType);if(F94.nodeType==y1J.Document||F94.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+F94.nodeType);}F94.nodeValue=R94;return F94;};y1J.createProcessingInstruction=function(q94){var U94=new y1J(y1J.ProcessingInstruction);if(U94.nodeType==y1J.Document||U94.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+U94.nodeType);}U94.nodeValue=q94;return U94;};y1J.createDocument=function(){return new y1J(y1J.Document);};y1J.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(o94){if(this.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+this.nodeType);}var t94=this.attributeMap;if(E1J[o94]!=null){return t94.getReserved(o94);}else{return t94.h[o94];}},set:function(l94,m94){if(this.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+this.nodeType);}var G94=this.attributeMap;if(E1J[l94]!=null){G94.setReserved(l94,m94);}else{G94.h[l94]=m94;}},exists:function(K94){if(this.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+this.nodeType);}var N94=this.attributeMap;if(E1J[K94]!=null){return N94.existsReserved(K94);}else{return N94.h.hasOwnProperty(K94);}},attributes:function(){if(this.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+this.nodeType);}return this.attributeMap.keys();},elementsNamed:function(x94){if(this.nodeType!=y1J.Document&&this.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element or Document but found "+this.nodeType);}var g94=[];var b94=0;var P94=this.children;while(b94<P94.length){var a94=P94[b94];++b94;var M94;if(a94.nodeType==y1J.Element){if(a94.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+a94.nodeType);}M94=a94.nodeName==x94;}else{M94=false;}if(M94){g94.push(a94);}}var L94=g94;return Y4J.iter(L94);},firstElement:function(){if(this.nodeType!=y1J.Document&&this.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element or Document but found "+this.nodeType);}var O94=0;var H94=this.children;while(O94<H94.length){var T94=H94[O94];++O94;if(T94.nodeType==y1J.Element){return T94;}}return null;},addChild:function(d94){if(this.nodeType!=y1J.Document&&this.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element or Document but found "+this.nodeType);}if(d94.parent!=null){d94.parent.removeChild(d94);}this.children.push(d94);d94.parent=this;},removeChild:function(v94){if(this.nodeType!=y1J.Document&&this.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element or Document but found "+this.nodeType);}if(Y4J.remove(this.children,v94)){v94.parent=null;return true;}return false;},toString:function(){return O5J.print(this);},__class__:y1J};var S1J=function(){};O1J["js.Boot"]=S1J;S1J.__name__=["js","Boot"];S1J.getClass=function(V94){if(V94 instanceof Array&&V94.__enum__==null){return Array;}else{var p94=V94.__class__;if(p94!=null){return p94;}var Z94=S1J.__nativeClassName(V94);if(Z94!=null){return S1J.__resolveNativeClass(Z94);}return null;}};S1J.__string_rec=function(B94,W94){if(B94==null){return"null";}if(W94.length>=5){return"<...>";}var n94=typeof B94;if(n94=="function"&&(B94.__name__||B94.__ename__)){n94="object";}switch(n94){case"function":return"<function>";case"object":if(B94 instanceof Array){if(B94.__enum__){if(B94.length==2){return B94[0];}var s94=B94[0]+"(";W94+="\t";var k94=2;var E94=B94.length;while(k94<E94){var e94=k94++;if(e94!=2){s94+=","+S1J.__string_rec(B94[e94],W94);}else{s94+=S1J.__string_rec(B94[e94],W94);}}return s94+")";}var y94=B94.length;var u84;var J94="[";W94+="\t";var j94=0;var I94=y94;while(j94<I94){var i94=j94++;J94+=(i94>0?",":"")+S1J.__string_rec(B94[i94],W94);}J94+="]";return J94;}var A94;try{A94=B94.toString;}catch(X84){return"???";}if(A94!=null&&A94!=Object.toString&&typeof A94=="function"){var Q94=B94.toString();if(Q94!="[object Object]"){return Q94;}}var z94=null;var S94="{\n";W94+="\t";var r94=B94.hasOwnProperty!=null;for(var z94 in B94){if(r94&&!B94.hasOwnProperty(z94)){continue;}if(z94=="prototype"||z94=="__class__"||z94=="__super__"||z94=="__interfaces__"||z94=="__properties__"){continue;}if(S94.length!=2){S94+=", \n";}S94+=W94+z94+" : "+S1J.__string_rec(B94[z94],W94);}W94=W94.substring(1);S94+="\n"+W94+"}";return S94;case"string":return B94;default:return String(B94);}};S1J.__interfLoop=function(h84,f84){if(h84==null){return false;}if(h84==f84){return true;}var D84=h84.__interfaces__;if(D84!=null){var C84=0;var Y84=D84.length;while(C84<Y84){var c84=C84++;var w84=D84[c84];if(w84==f84||S1J.__interfLoop(w84,f84)){return true;}}}return S1J.__interfLoop(h84.__super__,f84);};S1J.__instanceof=function(F84,R84){if(R84==null){return false;}switch(R84){case Array:if(F84 instanceof Array){return F84.__enum__==null;}else{return false;}break;case D14:return typeof F84=="boolean";case Y14:return true;case w14:return typeof F84=="number";case c14:if(typeof F84=="number"){return(F84|0)===F84;}else{return false;}break;case String:return typeof F84=="string";default:if(F84!=null){if(typeof R84=="function"){if(F84 instanceof R84){return true;}if(S1J.__interfLoop(S1J.getClass(F84),R84)){return true;}}else if(typeof R84=="object"&&S1J.__isNativeObj(R84)){if(F84 instanceof R84){return true;}}}else{return false;}if(R84==H6J?F84.__name__!=null:false){return true;}if(R84==M6J?F84.__ename__!=null:false){return true;}return F84.__enum__==R84;}};S1J.__cast=function(U84,q84){if(S1J.__instanceof(U84,q84)){return U84;}else{throw new j1J("Cannot cast "+d1J.string(U84)+" to "+d1J.string(q84));}};S1J.__nativeClassName=function(t84){var o84=S1J.__toStr.call(t84).slice(8,-1);if(o84=="Object"||o84=="Function"||o84=="Math"||o84=="JSON"){return null;}return o84;};S1J.__isNativeObj=function(l84){return S1J.__nativeClassName(l84)!=null;};S1J.__resolveNativeClass=function(G84){return a04[G84];};var R6J=e1J["com"]["turner"]["top"]["Version"]=function(){};O1J["com.turner.top.Version"]=R6J;R6J.__name__=["com","turner","top","Version"];R6J.toVersionString=function(){return""+R6J.major+"."+R6J.minor+"."+R6J.revision+R6J.formatPrerelease();};R6J.toNightlyString=function(){return""+R6J.buildDateISO+"-"+R6J.sha;};R6J.toString=function(){return""+R6J.major+"."+R6J.minor+"."+R6J.revision+R6J.formatPrerelease()+"-"+R6J.buildTime+"-"+R6J.sha;};R6J.formatPrerelease=function(){if(R6J.prerelease!=null){return"-"+R6J.prerelease;}else{return"";}};R6J.main=function(){};var K3y=function(){};O1J["com.turner.top.comps.auth.fp.IFreePreview"]=K3y;K3y.__name__=["com","turner","top","comps","auth","fp","IFreePreview"];K3y.prototype={_config:null,init:null,initStream:null,retrieveTimeRemaining:null,incrementTimeConsumed:null,persistTimeConsumed:null,config:null,__class__:K3y};var g3y=function(){};O1J["com.turner.top.lib.logging.ILogManager"]=g3y;g3y.__name__=["com","turner","top","lib","logging","ILogManager"];g3y.prototype={_events:null,data:null,getLogger:null,storeLoggerInstance:null,removeLoggerInstance:null,setTheme:null,setEnabled:null,updateCategories:null,updateLevels:null,registerFilter:null,useDefaults:null,events:null,__class__:g3y};var d1y=function(){};O1J["com.turner.top.lib.events.collection.ISimpleEventCollection"]=d1y;d1y.__name__=["com","turner","top","lib","events","collection","ISimpleEventCollection"];d1y.prototype={_length:null,each:null,once:null,listen:null,unlisten:null,listenFor:null,unlistenFor:null,length:null,__class__:d1y};var E1y=function(){};O1J["com.turner.top.lib.events.collection.IEventCollection"]=E1y;E1y.__name__=["com","turner","top","lib","events","collection","IEventCollection"];E1y.__interfaces__=[d1y];E1y.prototype={_before:null,_after:null,_around:null,before:null,after:null,around:null,__class__:E1y};var G4J=e1J["com"]["turner"]["top"]["lib"]["events"]["collection"]["EventCollection"]=function(N84,K84){var a84=Y9J.generateEventMap(this);K84=K84==null?a84:K84;var m84=Y9J.createCollectionFactory(N84,K84);this._default=Y9J.createCollectionFromFactory(m84);this._before=Y9J.createCollectionFromFactory(m84.mapTo("before"));this._after=Y9J.createCollectionFromFactory(m84.mapTo("after"));this._around=Y9J.createCollectionFromFactory(m84.mapTo("around"));this._length=N84.length;};O1J["com.turner.top.lib.events.collection.EventCollection"]=G4J;G4J.__name__=["com","turner","top","lib","events","collection","EventCollection"];G4J.__interfaces__=[E1y];G4J.prototype={_default:null,_before:null,_after:null,_around:null,_length:null,doEach:function(b84){this._default.each(b84);},doListenOnce:function(g84){this._default.once(g84);},doListen:function(P84){this._default.listen(P84);},doUnlisten:function(M84){this._default.unlisten(M84);},doListenForMap:function(L84){this._default.listenFor(L84);},doUnlistenForMap:function(x84){this._default.unlistenFor(x84);},each:function(O84){this.doEach(O84);return this._default;},once:function(H84){this.doListenOnce(H84);return this._default;},listen:function(T84){this.doListen(T84);return this._default;},unlisten:function(d84){this.doUnlisten(d84);return this._default;},listenFor:function(v84){this.doListenForMap(v84);return this._default;},unlistenFor:function(V84){this.doUnlistenForMap(V84);return this._default;},before:function(){return this._before;},after:function(){return this._after;},around:function(){return this._around;},length:function(){return this._length;},__class__:G4J};var X4y=function(){G4J.call(this,[this.verbose=new h4y(),this.debug=new x6y(),this.info=new B6y(),this.warning=new n6y(),this.error=new D2y(),this.configChanged=new a9y()]);};O1J["com.turner.top.lib.logging.events.LogEvents"]=X4y;X4y.__name__=["com","turner","top","lib","logging","events","LogEvents"];X4y.__super__=G4J;X4y.prototype=v1J(G4J.prototype,{verbose:null,debug:null,info:null,warning:null,error:null,configChanged:null,__class__:X4y});var J2J=e1J["com"]["turner"]["top"]["lib"]["events"]["EventSignal"]=function(p84){this.type=p84;};O1J["com.turner.top.lib.events.EventSignal"]=J2J;J2J.__name__=["com","turner","top","lib","events","EventSignal"];J2J.createFor=function(Z84,B84){if(B84==null){return new e0y(Z84);}else{return new V1J(Z84);}};J2J.prototype={type:null,__class__:J2J};var S8J=function(){};O1J["com.turner.top.lib.signals.ISignalBase"]=S8J;S8J.__name__=["com","turner","top","lib","signals","ISignalBase"];S8J.prototype={observe:null,unobserve:null,__class__:S8J};var X3J=function(){};O1J["com.turner.top.lib.signals.ISignal1"]=X3J;X3J.__name__=["com","turner","top","lib","signals","ISignal1"];X3J.__interfaces__=[S8J];X3J.prototype={listen:null,once:null,hasListener:null,unlisten:null,dispatch:null,__class__:X3J};var V1J=e1J["com"]["turner"]["top"]["lib"]["events"]["EventSignal1"]=function(W84){J2J.call(this,W84);this._signal=new z8J();this._before=new Z8J(W84);this._after=new Z8J(W84);this._around=new Z8J(W84);};O1J["com.turner.top.lib.events.EventSignal1"]=V1J;V1J.__name__=["com","turner","top","lib","events","EventSignal1"];V1J.__interfaces__=[X3J];V1J.__super__=J2J;V1J.prototype=v1J(J2J.prototype,{_signal:null,_before:null,_after:null,_around:null,listen:function(z84){this._signal.listen(z84);},once:function(S84){this._signal.once(S84);},hasListener:function(e84){return this._signal.hasListener(e84);},unlisten:function(n84){this._signal.unlisten(n84);},observe:function(s84){this._signal.observe(s84);},unobserve:function(J84){this._signal.unobserve(J84);},dispatch:function(A84){this._before.dispatch(A84);this._around.dispatch(A84);this._signal.dispatch(A84);this._around.dispatch(A84);this._after.dispatch(A84);},before:function(){return this._before;},after:function(){return this._after;},around:function(){return this._around;},__class__:V1J});var h4y=function(){V1J.call(this,h6J.Verbose);};O1J["com.turner.top.lib.logging.events.LogVerboseEvent"]=h4y;h4y.__name__=["com","turner","top","lib","logging","events","LogVerboseEvent"];h4y.__super__=V1J;h4y.prototype=v1J(V1J.prototype,{__class__:h4y});var h6J=O1J["com.turner.top.lib.logging.events.LogEventType"]={__ename__:["com","turner","top","lib","logging","events","LogEventType"],__constructs__:["Verbose","Debug","Info","Warning","Error","Config_Changed"]};h6J.Verbose=["Verbose",0];h6J.Verbose.toString=H1J;h6J.Verbose.__enum__=h6J;h6J.Debug=["Debug",1];h6J.Debug.toString=H1J;h6J.Debug.__enum__=h6J;h6J.Info=["Info",2];h6J.Info.toString=H1J;h6J.Info.__enum__=h6J;h6J.Warning=["Warning",3];h6J.Warning.toString=H1J;h6J.Warning.__enum__=h6J;h6J.Error=["Error",4];h6J.Error.toString=H1J;h6J.Error.__enum__=h6J;h6J.Config_Changed=["Config_Changed",5];h6J.Config_Changed.toString=H1J;h6J.Config_Changed.__enum__=h6J;h6J.__empty_constructs__=[h6J.Verbose,h6J.Debug,h6J.Info,h6J.Warning,h6J.Error,h6J.Config_Changed];var z8J=function(){var j84=new u3J();this._impl=j84;this._listeners=[];};O1J["com.turner.top.lib.signals.Signal1"]=z8J;z8J.__name__=["com","turner","top","lib","signals","Signal1"];z8J.__interfaces__=[X3J];z8J.prototype={_impl:null,_listeners:null,once:function(I84){var k84=this;var Q84=null;Q84=function(y84){k84.unlisten(Q84);I84(y84);};var E84=Q84;var i84=Q84;this.listen(i84);},listen:function(r84){c4J.make(this._impl,null,r84,1);},hasListener:function(u34){return r9J.hasListener(this._impl,u34);},unlisten:function(X34){if(this.hasListener(X34)){this._impl.unbind(null,X34);}},observe:function(h34){c4J.make(this._impl,null,h34,3);},unobserve:function(f34){c4J.make(this._impl,null,f34,2);},dispatch:function(w34){try{var C34=this._impl;if(C34.enabled){var D34=C34.n;while(D34){C34.nextSendable=D34.n;if((D34.flags&4)!=0){D34.disable();}if((D34.flags&2)!=0){D34._handler();}else{D34._handler(w34);}if((D34.flags&4)!=0){D34.dispose();}D34=C34.nextSendable;}C34.nextSendable=null;}}catch(Y34){}},addListener:function(c34){this.removeAllListeners();this._listeners.push(c34);this.addAllListeners();},removeListener:function(R34){var F34=this._listeners.indexOf(R34);if(F34==-1){return;}this.removeAllListeners();this._listeners.splice(F34,1);this.addAllListeners();},addAllListeners:function(){var q34=this._listeners.length;if(q34==0){return;}var U34=q34-1;while(U34>=0){c4J.make(this._impl,null,this._listeners[U34],1);--U34;}},removeAllListeners:function(){var o34=0;var t34=this._listeners;while(o34<t34.length){var l34=t34[o34];++o34;this._impl.unbind(null,l34);}},__class__:z8J};var B3J=function(){};O1J["prime.signals.WireList"]=B3J;B3J.__name__=["prime","signals","WireList"];B3J.prototype={n:null,next:function(){return this.n;},__class__:B3J};var D4y=function(){};O1J["prime.core.traits.IDisablable"]=D4y;D4y.__name__=["prime","core","traits","IDisablable"];D4y.prototype={disable:null,enable:null,isEnabled:null,__class__:D4y};var T5J=function(){};O1J["prime.core.traits.IDisposable"]=T5J;T5J.__name__=["prime","core","traits","IDisposable"];T5J.prototype={dispose:null,__class__:T5J};var t6y=function(){};O1J["prime.signals.IUnbindable"]=t6y;t6y.__name__=["prime","signals","IUnbindable"];t6y.prototype={unbind:null,unbindAll:null,__class__:t6y};var v2J=function(){};O1J["prime.signals.Signal"]=v2J;v2J.__name__=["prime","signals","Signal"];v2J.__interfaces__=[D4y,T5J,t6y];v2J.notifyEnabled=function(G34,K34){if(S1J.__instanceof(G34,g8J)){var m34=G34;m34.wireEnabled(K34);}};v2J.notifyDisabled=function(N34,b34){if(S1J.__instanceof(N34,g8J)){var a34=N34;a34.wireDisabled(b34);}};v2J.__super__=B3J;v2J.prototype=v1J(B3J.prototype,{enabled:null,nextSendable:null,enable:function(){this.enabled=true;},disable:function(){this.enabled=false;},isEnabled:function(){return this.enabled;},unbind:function(L34,P34){var g34=this.n;while(g34){var M34=g34.n;if(g34.owner==L34&&(P34==null||Z1J.compareMethods(P34,g34._handler))){g34.dispose();}g34=M34;}},dispose:function(){this.unbindAll();},unbindAll:function(){var x34=this.n;while(x34){var O34=x34.n;x34.dispose();x34=O34;}},hasListeners:function(){return this.n;},hasListener:function(v34,d34){var H34=this.n;var T34=false;while(H34)if(H34.owner==v34&&(d34==null||Z1J.compareMethods(d34,H34._handler))){H34=null;T34=true;}else{H34=H34.n;}return T34;},__class__:v2J});var G8J=function(){};O1J["prime.signals.INotifier"]=G8J;G8J.__name__=["prime","signals","INotifier"];G8J.__interfaces__=[T5J,t6y];G8J.prototype={observe:null,observeOnce:null,observeDisabled:null,bind:null,bindOnce:null,bindDisabled:null,__class__:G8J};var d5J=function(){};O1J["prime.signals.ISender"]=d5J;d5J.__name__=["prime","signals","ISender"];var M6y=function(){};O1J["prime.signals.ISender1"]=M6y;M6y.__name__=["prime","signals","ISender1"];M6y.__interfaces__=[d5J];M6y.prototype={send:null,__class__:M6y};var u3J=function(){this.enabled=true;};O1J["prime.signals.Signal1"]=u3J;u3J.__name__=["prime","signals","Signal1"];u3J.__interfaces__=[G8J,M6y];u3J.__super__=v2J;u3J.prototype=v1J(v2J.prototype,{send:function(p34){if(this.enabled){var V34=this.n;while(V34){this.nextSendable=V34.n;if((V34.flags&4)!=0){V34.disable();}if((V34.flags&2)!=0){V34._handler();}else{V34._handler(p34);}if((V34.flags&4)!=0){V34.dispose();}V34=this.nextSendable;}this.nextSendable=null;}},bind:function(Z34,B34){return c4J.make(this,Z34,B34,1);},bindOnce:function(W34,z34){return c4J.make(this,W34,z34,5);},bindDisabled:function(S34,e34){return c4J.make(this,S34,e34,0);},observe:function(n34,s34){return c4J.make(this,n34,s34,3);},observeOnce:function(J34,A34){return c4J.make(this,J34,A34,7);},observeDisabled:function(j34,Q34){return c4J.make(this,j34,Q34,2);},__class__:u3J});var Z8J=function(k34){J2J.call(this,k34);this._signal=new z8J();};O1J["com.turner.top.lib.events.SimpleEventSignal1"]=Z8J;Z8J.__name__=["com","turner","top","lib","events","SimpleEventSignal1"];Z8J.__interfaces__=[X3J];Z8J.__super__=J2J;Z8J.prototype=v1J(J2J.prototype,{_signal:null,listen:function(i34){this._signal.listen(i34);},once:function(I34){this._signal.once(I34);},hasListener:function(E34){return this._signal.hasListener(E34);},unlisten:function(y34){this._signal.unlisten(y34);},observe:function(r34){this._signal.observe(r34);},unobserve:function(u54){this._signal.unobserve(u54);},dispatch:function(X54){this._signal.dispatch(X54);},__class__:Z8J});var x6y=function(){V1J.call(this,h6J.Debug);};O1J["com.turner.top.lib.logging.events.LogDebugEvent"]=x6y;x6y.__name__=["com","turner","top","lib","logging","events","LogDebugEvent"];x6y.__super__=V1J;x6y.prototype=v1J(V1J.prototype,{__class__:x6y});var B6y=function(){V1J.call(this,h6J.Info);};O1J["com.turner.top.lib.logging.events.LogInfoEvent"]=B6y;B6y.__name__=["com","turner","top","lib","logging","events","LogInfoEvent"];B6y.__super__=V1J;B6y.prototype=v1J(V1J.prototype,{__class__:B6y});var n6y=function(){V1J.call(this,h6J.Warning);};O1J["com.turner.top.lib.logging.events.LogWarningEvent"]=n6y;n6y.__name__=["com","turner","top","lib","logging","events","LogWarningEvent"];n6y.__super__=V1J;n6y.prototype=v1J(V1J.prototype,{__class__:n6y});var D2y=function(){V1J.call(this,h6J.Error);};O1J["com.turner.top.lib.logging.events.LogErrorEvent"]=D2y;D2y.__name__=["com","turner","top","lib","logging","events","LogErrorEvent"];D2y.__super__=V1J;D2y.prototype=v1J(V1J.prototype,{__class__:D2y});var a9y=function(){V1J.call(this,h6J.Config_Changed);};O1J["com.turner.top.lib.logging.events.LogConfigChangedEvent"]=a9y;a9y.__name__=["com","turner","top","lib","logging","events","LogConfigChangedEvent"];a9y.__super__=V1J;a9y.prototype=v1J(V1J.prototype,{__class__:a9y});var Y9J=function(){};O1J["com.turner.top.lib.events.collection.EventCollectionUtils"]=Y9J;Y9J.__name__=["com","turner","top","lib","events","collection","EventCollectionUtils"];Y9J.createCollectionFactory=function(C54,h54){var f54=C54;var D54=h54;return{events:function(){return f54;},eventMap:function(){return D54;},mapTo:function(o54){var R54=[];var c54=new b4J();var U54=h54.keys();while(U54.hasNext()){var w54=U54.next();var F54=E1J[w54]!=null?h54.getReserved(w54):h54.h[w54];var Y54;switch(o54){case"after":Y54=F54.after();break;case"around":Y54=F54.around();break;case"before":Y54=F54.before();break;default:throw new j1J("Invalid mapEvent type: "+o54);}R54.push(Y54);var q54=Y54;if(E1J[w54]!=null){c54.setReserved(w54,q54);}else{c54.h[w54]=q54;}}return Y9J.createCollectionFactory(R54,c54);}};};Y9J.generateEventMap=function(N54){var m54=Z1J.fields(N54);var l54=new b4J();var G54=0;while(G54<m54.length){var t54=m54[G54];++G54;var K54=Z1J.field(N54,t54);if(E1J[t54]!=null){l54.setReserved(t54,K54);}else{l54.h[t54]=K54;}}return l54;};Y9J.createCollectionFromFactory=function(a54){return new l9J(a54.events(),a54.eventMap());};var M9y=function(){};O1J["com.turner.top.lib.logging.ILogger"]=M9y;M9y.__name__=["com","turner","top","lib","logging","ILogger"];M9y.prototype={init:null,debug:null,info:null,warn:null,error:null,verbose:null,filter:null,child:null,setEnabled:null,updateCategories:null,updateLevels:null,__class__:M9y};var s5J=function(b54){this._className=b54;};O1J["com.turner.top.lib.logging.SimpleLogger"]=s5J;s5J.__name__=["com","turner","top","lib","logging","SimpleLogger"];s5J.__interfaces__=[M9y];s5J.prototype={_className:null,init:function(g54){return this;},debug:function(P54){this.call("debug",P54);},info:function(M54){this.call("info",M54);},warn:function(L54){this.call("warn",L54);},error:function(x54){this.call("error",x54);},verbose:function(O54){this.call("log",O54);},filter:function(H54){return this;},child:function(T54){return this;},setEnabled:function(d54){},updateCategories:function(v54){},updateLevels:function(V54){},call:function(p54,Z54){},__class__:s5J};var l9J=e1J["com"]["turner"]["top"]["lib"]["events"]["collection"]["SimpleEventCollection"]=function(z54,B54){this._events=z54;this._cbMap=new E2J();this._length=this._events.length;var W54=Y9J.generateEventMap(this);this._eventMap=B54==null?W54:B54;};O1J["com.turner.top.lib.events.collection.SimpleEventCollection"]=l9J;l9J.__name__=["com","turner","top","lib","events","collection","SimpleEventCollection"];l9J.__interfaces__=[d1y];l9J.prototype={_events:null,_cbMap:null,_eventMap:null,_length:null,doEach:function(s54){var S54=0;var e54=this._events;while(S54<e54.length){var n54=e54[S54];++S54;s54(n54);}},doFilter:function(J54){return this._events.filter(function(A54){return J54(A54);});},doListen:function(j54){if(U4J["typeof"](j54)==R4J.TFunction){this.doListenForAll(j54);}else if(U4J["typeof"](j54)==R4J.TObject&&!S1J.__instanceof(j54,H6J)&&!S1J.__instanceof(j54,M6J)){this.doListenForMap(j54);}else{l9J._logger.warn("[doListen] invalid handler data type, got: "+d1J.string(Z1J.field(U4J,j54)));}},doUnlisten:function(Q54){if(U4J["typeof"](Q54)==R4J.TFunction){this.doUnlistenForAll(Q54);}else if(U4J["typeof"](Q54)==R4J.TObject&&!S1J.__instanceof(Q54,H6J)&&!S1J.__instanceof(Q54,M6J)){this.doUnlistenForMap(Q54);}else{l9J._logger.warn("[doUnlisten] invalid handler data type, got "+d1J.string(Z1J.field(U4J,Q54)));}},doListenOnce:function(k54){if(U4J["typeof"](k54)==R4J.TFunction){this.doListenOnceForAll(k54);}else if(U4J["typeof"](k54)==R4J.TObject&&!S1J.__instanceof(k54,H6J)&&!S1J.__instanceof(k54,M6J)){this.doListenForMapOnce(k54);}else{l9J._logger.warn("[doListenOnce] invalid handler data type, got "+d1J.string(Z1J.field(U4J,k54)));}},doListenOnceForAll:function(I54){var i54=this;this.doEach(function(E54){E54.once(i54.createCallback(E54.type,I54));});},doListenForMapOnce:function(F0B){var r54=0;var Y0B=[];var y54=0;var C0B=Z1J.fields(F0B);while(y54<C0B.length){var f0B=C0B[y54];++y54;Y0B.push({key:f0B,value:Z1J.field(F0B,f0B)});}var D0B=Y0B;while(r54<D0B.length){var u0B=D0B[r54];++r54;var X0B=u0B.key;var w0B=this._eventMap;if(E1J[X0B]!=null?w0B.existsReserved(X0B):w0B.h.hasOwnProperty(X0B)){var h0B=u0B.key;var c0B=this._eventMap;var R0B=E1J[h0B]!=null?c0B.getReserved(h0B):c0B.h[h0B];R0B.once(u0B.value);}}},doListenForAll:function(q0B){var U0B=this;this.doEach(function(o0B){o0B.listen(U0B.createCallback(o0B.type,q0B));});},doUnlistenForAll:function(l0B){var t0B=this;this.doEach(function(m0B){var G0B=t0B.getCallback(m0B.type,l0B);if(G0B!=null){m0B.unlisten(G0B);}});},doListenForMap:function(T0B){var N0B=0;var O0B=[];var K0B=0;var L0B=Z1J.fields(T0B);while(K0B<L0B.length){var P0B=L0B[K0B];++K0B;O0B.push({key:P0B,value:Z1J.field(T0B,P0B)});}var M0B=O0B;while(N0B<M0B.length){var a0B=M0B[N0B];++N0B;var b0B=a0B.key;var x0B=this._eventMap;if(E1J[b0B]!=null?x0B.existsReserved(b0B):x0B.h.hasOwnProperty(b0B)){var g0B=a0B.key;var H0B=this._eventMap;var d0B=E1J[g0B]!=null?H0B.getReserved(g0B):H0B.h[g0B];d0B.listen(a0B.value);}}},doUnlistenForMap:function(J0B){var V0B=0;var n0B=[];var v0B=0;var S0B=Z1J.fields(J0B);while(v0B<S0B.length){var W0B=S0B[v0B];++v0B;n0B.push({key:W0B,value:Z1J.field(J0B,W0B)});}var z0B=n0B;while(V0B<z0B.length){var p0B=z0B[V0B];++V0B;var Z0B=p0B.key;var e0B=this._eventMap;if(E1J[Z0B]!=null?e0B.existsReserved(Z0B):e0B.h.hasOwnProperty(Z0B)){var B0B=p0B.key;var s0B=this._eventMap;var A0B=E1J[B0B]!=null?s0B.getReserved(B0B):s0B.h[B0B];A0B.unlisten(p0B.value);}}},createCallback:function(j0B,Q0B){if(!this._cbMap.exists(j0B)){this._cbMap.set(j0B,[]);}var k0B=this.getCallback(j0B,Q0B);var i0B;if(k0B!=null){i0B=k0B;}else{var E0B=Q0B;var y0B=j0B;var I0B=function(r0B){E0B(y0B,r0B);};this._cbMap.get(j0B).push({cListener:Q0B,sListener:I0B});i0B=I0B;}return i0B;},getCallback:function(f1B,D1B){if(this._cbMap.exists(f1B)){var u1B=0;var X1B=this._cbMap.get(f1B);while(u1B<X1B.length){var h1B=X1B[u1B];++u1B;if(h1B.cListener==D1B){return h1B.sListener;}}}return null;},each:function(C1B){this.doEach(C1B);return this;},once:function(w1B){this.doListenOnce(w1B);return this;},listen:function(Y1B){this.doListen(Y1B);return this;},unlisten:function(c1B){this.doUnlisten(c1B);return this;},listenFor:function(F1B){l9J._logger.warn("listenFor is deprecated");this.doListenForMap(F1B);return this;},unlistenFor:function(R1B){l9J._logger.warn("unlistenFor is deprecated");this.doUnlistenForMap(R1B);return this;},length:function(){return this._length;},__class__:l9J};var v8J=function(){};O1J["haxe.IMap"]=v8J;v8J.__name__=["haxe","IMap"];v8J.prototype={get:null,set:null,exists:null,keys:null,toString:null,__class__:v8J};var j3J=function(){};O1J["haxe.ds.BalancedTree"]=j3J;j3J.__name__=["haxe","ds","BalancedTree"];j3J.__interfaces__=[v8J];j3J.prototype={root:null,set:function(U1B,q1B){this.root=this.setLoop(U1B,q1B,this.root);},get:function(l1B){var o1B=this.root;while(o1B!=null){var t1B=this.compare(l1B,o1B.key);if(t1B==0){return o1B.value;}if(t1B<0){o1B=o1B.left;}else{o1B=o1B.right;}}return null;},remove:function(G1B){try{this.root=this.removeLoop(G1B,this.root);return true;}catch(m1B){if(m1B instanceof j1J)m1B=m1B.val;if(S1J.__instanceof(m1B,String)){return false;}else throw m1B;}},exists:function(a1B){var K1B=this.root;while(K1B!=null){var N1B=this.compare(a1B,K1B.key);if(N1B==0){return true;}else if(N1B<0){K1B=K1B.left;}else{K1B=K1B.right;}}return false;},keys:function(){var b1B=[];this.keysLoop(this.root,b1B);return Y4J.iter(b1B);},setLoop:function(P1B,M1B,g1B){if(g1B==null){return new s2J(null,P1B,M1B,null);}var L1B=this.compare(P1B,g1B.key);if(L1B==0){return new s2J(g1B.left,P1B,M1B,g1B.right,g1B==null?0:g1B._height);}else if(L1B<0){var x1B=this.setLoop(P1B,M1B,g1B.left);return this.balance(x1B,g1B.key,g1B.value,g1B.right);}else{var O1B=this.setLoop(P1B,M1B,g1B.right);return this.balance(g1B.left,g1B.key,g1B.value,O1B);}},removeLoop:function(T1B,H1B){if(H1B==null){throw new j1J("Not_found");}var d1B=this.compare(T1B,H1B.key);if(d1B==0){return this.merge(H1B.left,H1B.right);}else if(d1B<0){return this.balance(this.removeLoop(T1B,H1B.left),H1B.key,H1B.value,H1B.right);}else{return this.balance(H1B.left,H1B.key,H1B.value,this.removeLoop(T1B,H1B.right));}},keysLoop:function(v1B,V1B){if(v1B!=null){this.keysLoop(v1B.left,V1B);V1B.push(v1B.key);this.keysLoop(v1B.right,V1B);}},merge:function(Z1B,p1B){if(Z1B==null){return p1B;}if(p1B==null){return Z1B;}var B1B=this.minBinding(p1B);return this.balance(Z1B,B1B.key,B1B.value,this.removeMinBinding(p1B));},minBinding:function(W1B){if(W1B==null){throw new j1J("Not_found");}else if(W1B.left==null){return W1B;}else{return this.minBinding(W1B.left);}},removeMinBinding:function(z1B){if(z1B.left==null){return z1B.right;}else{return this.balance(this.removeMinBinding(z1B.left),z1B.key,z1B.value,z1B.right);}},balance:function(e1B,s1B,J1B,S1B){var n1B=e1B==null?0:e1B._height;var A1B=S1B==null?0:S1B._height;if(n1B>A1B+2){var Q1B=e1B.left;var k1B=e1B.right;if((Q1B==null?0:Q1B._height)>=(k1B==null?0:k1B._height)){return new s2J(e1B.left,e1B.key,e1B.value,new s2J(e1B.right,s1B,J1B,S1B));}else{return new s2J(new s2J(e1B.left,e1B.key,e1B.value,e1B.right.left),e1B.right.key,e1B.right.value,new s2J(e1B.right.right,s1B,J1B,S1B));}}else if(A1B>n1B+2){var i1B=S1B.right;var j1B=S1B.left;if((i1B==null?0:i1B._height)>(j1B==null?0:j1B._height)){return new s2J(new s2J(e1B,s1B,J1B,S1B.left),S1B.key,S1B.value,S1B.right);}else{return new s2J(new s2J(e1B,s1B,J1B,S1B.left.left),S1B.left.key,S1B.left.value,new s2J(S1B.left.right,S1B.key,S1B.value,S1B.right));}}else{return new s2J(e1B,s1B,J1B,S1B,(n1B>A1B?n1B:A1B)+1);}},compare:function(I1B,E1B){return Z1J.compare(I1B,E1B);},toString:function(){if(this.root==null){return"{}";}else{return"{"+this.root.toString()+"}";}},__class__:j3J};var E2J=function(){j3J.call(this);};O1J["haxe.ds.EnumValueMap"]=E2J;E2J.__name__=["haxe","ds","EnumValueMap"];E2J.__interfaces__=[v8J];E2J.__super__=j3J;E2J.prototype=v1J(j3J.prototype,{compare:function(X4B,h4B){var y1B=X4B[1]-h4B[1];if(y1B!=0){return y1B;}var r1B=X4B.slice(2);var u4B=h4B.slice(2);if(r1B.length==0&&u4B.length==0){return 0;}return this.compareArgs(r1B,u4B);},compareArgs:function(f4B,c4B){var D4B=f4B.length-c4B.length;if(D4B!=0){return D4B;}var C4B=0;var F4B=f4B.length;while(C4B<F4B){var w4B=C4B++;var Y4B=this.compareArg(f4B[w4B],c4B[w4B]);if(Y4B!=0){return Y4B;}}return 0;},compareArg:function(R4B,U4B){if(Z1J.isEnumValue(R4B)&&Z1J.isEnumValue(U4B)){return this.compare(R4B,U4B);}else if(R4B instanceof Array&&R4B.__enum__==null&&(U4B instanceof Array&&U4B.__enum__==null)){return this.compareArgs(R4B,U4B);}else{return Z1J.compare(R4B,U4B);}},__class__:E2J});var g9J=e1J["com"]["turner"]["top"]["lib"]["vo"]["Url"]=function(l4B){this.url=l4B;this._parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];var q4B=new m7J("^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?://)?((?:(([^:@/]*)(?::([^:@/]*))?)?@)?([^:/?#]*)(?::(\\d*))?)(((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[?#]|$)))*/?)?([^?#/]*))(?:\\?([^#]*))?(?:#(.*))?)","");q4B.match(l4B);var o4B=0;var G4B=this._parts.length;while(o4B<G4B){var t4B=o4B++;this[this._parts[t4B]]=q4B.matched(t4B);}};O1J["com.turner.top.lib.vo.Url"]=g9J;g9J.__name__=["com","turner","top","lib","vo","Url"];g9J.parse=function(m4B){return new g9J(m4B);};g9J.prototype={url:null,source:null,protocol:null,authority:null,userInfo:null,user:null,password:null,host:null,port:null,relative:null,path:null,directory:null,file:null,query:null,anchor:null,_parts:null,_queryMap:null,queryAsMap:function(){if(this._queryMap==null){this._queryMap={};if(this.query!=null){var a4B=this.query.split("&");var N4B=0;while(N4B<a4B.length){var b4B=a4B[N4B];++N4B;var K4B=b4B.split("=");if(K4B!=null&&K4B.length>0){var g4B=this._queryMap;g4B[K4B[0]]=1<K4B.length?K4B[1]:null;}}}}return this._queryMap;},toString:function(){var M4B="For Url: "+this.url+"\n";var L4B=0;var x4B=this._parts.length;while(L4B<x4B){var P4B=L4B++;M4B+=this._parts[P4B]+": "+d1J.string(Z1J.field(this,this._parts[P4B]))+(P4B==this._parts.length-1?"":"\n");}return M4B;},__class__:g9J};var d9J=function(){};O1J["com.turner.top.lib.utils.Utils"]=d9J;d9J.__name__=["com","turner","top","lib","utils","Utils"];d9J.randomNumber=function(T4B){var H4B=Math.random();var O4B=d1J.parseInt(T4B);return Math.floor(H4B*(O4B==null?2000:O4B));};d9J.guid=function(){var v4B=[];var V4B=0;while(V4B<32){var d4B=V4B++;if(d4B==8||d4B==12||d4B==16||d4B==20){v4B.push(7911<=(311.39,7390)?887:"-");}v4B.push(C6J.hex(Math.floor(Math.random()*16)));}return v4B.join("").toUpperCase();};d9J.pageUrl=function(){try{return window.location.href;}catch(p4B){return"";}};d9J.hexToIntStr=function(Z4B){var B4B=d1J.parseInt(Z4B);if(B4B==null){return"";}else if(B4B<=p5y.MAX_SAFE_INTEGER){if(B4B==null){return"null";}else{return""+B4B;}}Z4B=Y4J.substr(Z4B,2,Z4B.length);var W4B=Math.round(Z4B.length/2);var z4B=d1J.parseInt("0x"+Y4J.substr(Z4B,0,W4B));var S4B=d1J.parseInt("0x"+Y4J.substr(Z4B,W4B,null));var e4B=new G6J(z4B,S4B);var n4B=e4B;return q8y.toString(n4B);};var U8J=e1J["com"]["turner"]["top"]["lib"]["platform"]["storage"]["StorageHelper"]=function(){};O1J["com.turner.top.lib.platform.storage.StorageHelper"]=U8J;U8J.__name__=["com","turner","top","lib","platform","storage","StorageHelper"];U8J.create=function(J4B){var s4B=i1J.extendWith({},[U8J.defaultConfig,J4B]);return new z9J().init(s4B);};var i1J=function(){};O1J["com.turner.top.lib.utils.helpers.ObjHelpers"]=i1J;i1J.__name__=["com","turner","top","lib","utils","helpers","ObjHelpers"];i1J.isNull=function(A4B){return A4B==null;};i1J.notNull=function(j4B){return j4B!=null;};i1J.or=function(Q4B,k4B){if(Q4B==null){return k4B;}else{return Q4B;}};i1J.keys=function(i4B){return Z1J.fields(i4B);};i1J.keysLike=function(I4B,E4B){return Z1J.fields(I4B).filter(function(y4B){return E4B.match(y4B);});};i1J.values=function(h6B){var u6B=[];var r4B=0;var X6B=Z1J.fields(h6B);while(r4B<X6B.length){var f6B=X6B[r4B];++r4B;u6B.push(Z1J.field(h6B,f6B));}return u6B;};i1J.keyValues=function(c6B){var C6B=[];var D6B=0;var w6B=Z1J.fields(c6B);while(D6B<w6B.length){var Y6B=w6B[D6B];++D6B;C6B.push({key:Y6B,value:Z1J.field(c6B,Y6B)});}return C6B;};i1J.has=function(F6B,R6B){return Object.prototype.hasOwnProperty.call(F6B,R6B);};i1J.get=function(U6B,q6B){return Z1J.field(U6B,q6B);};i1J.getOr=function(o6B,t6B,l6B){if(!Object.prototype.hasOwnProperty.call(o6B,t6B)){return l6B;}return Z1J.field(o6B,t6B);};i1J.getPath=function(d6B,v6B){var G6B=d6B==null?{}:d6B;var x6B=v6B.split(".");var m6B=[];var H6B=function(p6B){var V6B=new RegExp("\\[|\\]","g".split("u").join(""));return p6B.replace(V6B,"");};var b6B=0;while(b6B<x6B.length){var O6B=x6B[b6B];++b6B;var K6B=new m7J("(\\w+|\\[(\\d)\\])","g");var L6B=O6B;var M6B=[];while(K6B.match(L6B)){var P6B=K6B.matched(1);P6B=H6B(P6B);M6B.push(P6B);L6B=K6B.matchedRight();}m6B=m6B.concat(M6B);}var N6B=0;while(N6B<m6B.length){var a6B=m6B[N6B];++N6B;var g6B=d1J.parseInt(a6B);var T6B=g6B!=null&&G6B[g6B]!=null;G6B=T6B?G6B[g6B]:!Object.prototype.hasOwnProperty.call(G6B,a6B)?null:Z1J.field(G6B,a6B);if(G6B==null){break;}}return G6B;};i1J.getPathOr=function(B6B,W6B,z6B){var Z6B=i1J.getPath(B6B,W6B);if(Z6B==null){return z6B;}else{return Z6B;}};i1J.set=function(S6B,e6B,n6B){S6B[e6B]=n6B;return S6B;};i1J["delete"]=function(s6B,J6B){var A6B=!Object.prototype.hasOwnProperty.call(s6B,J6B)?null:Z1J.field(s6B,J6B);Z1J.deleteField(s6B,J6B);return A6B;};i1J.mapKeys=function(I6B,E6B){var k6B={};var j6B=0;var i6B=Z1J.fields(I6B);while(j6B<i6B.length){var Q6B=i6B[j6B];++j6B;if(E6B.indexOf(Q6B)>-1){k6B[Q6B]=Z1J.field(I6B,Q6B);}}return k6B;};i1J.mapValues=function(y6B,f2B){var r6B=0;var X2B=Z1J.fields(y6B);while(r6B<X2B.length){var u2B=X2B[r6B];++r6B;var h2B=Z1J.field(y6B,u2B);y6B[u2B]=f2B(u2B,h2B);}return y6B;};i1J.extend=function(Y2B,c2B){var D2B=0;var C2B=Z1J.fields(c2B);while(D2B<C2B.length){var w2B=C2B[D2B];++D2B;Y2B[w2B]=Z1J.field(c2B,w2B);}return Y2B;};i1J.extendWith=function(R2B,U2B){var F2B=0;while(F2B<U2B.length){var q2B=U2B[F2B];++F2B;i1J.extend(R2B,q2B);}return R2B;};i1J.extendDeep=function(G2B,m2B,o2B){o2B=i1J.extend({hash:function(N2B,K2B){return i1J.hash(K2B);}},o2B==null?{}:o2B);var t2B=null;t2B=function(L2B,W2B){var H2B=0;var Z2B=Z1J.fields(W2B);while(H2B<Z2B.length){var P2B=Z2B[H2B];++H2B;var b2B=Z1J.field(W2B,P2B);var M2B=Z1J.field(L2B,P2B);if(U4J["typeof"](b2B)==R4J.TObject&&!S1J.__instanceof(b2B,H6J)&&!S1J.__instanceof(b2B,M6J)){if(M2B==null){M2B={};L2B[P2B]=M2B;}t2B(M2B,b2B);}else if(b2B instanceof Array&&b2B.__enum__==null&&(M2B instanceof Array&&M2B.__enum__==null)){var p2B=b2B;var a2B=M2B;a2B=a2B.slice(0);var O2B={};var V2B=0;var T2B=0;while(T2B<a2B.length){var x2B=a2B[T2B];++T2B;if(U4J["typeof"](x2B)==R4J.TObject&&!S1J.__instanceof(x2B,H6J)&&!S1J.__instanceof(x2B,M6J)){O2B[o2B.hash(P2B,x2B)]=V2B;}++V2B;}var d2B=0;while(d2B<p2B.length){var g2B=p2B[d2B];++d2B;if(U4J["typeof"](g2B)==R4J.TObject&&!S1J.__instanceof(g2B,H6J)&&!S1J.__instanceof(g2B,M6J)){var v2B=o2B.hash(P2B,g2B);if(Object.prototype.hasOwnProperty.call(O2B,v2B)){var z2B=Z1J.field(O2B,v2B);var B2B=a2B[Z1J.field(O2B,v2B)];a2B[z2B]=t2B(B2B,g2B);}else{a2B.push(g2B);}}else{a2B.push(g2B);}}L2B[P2B]=a2B;}else{L2B[P2B]=b2B;}}return L2B;};var l2B=t2B;return l2B(G2B,m2B);};i1J.extendDeepWith=function(e2B,n2B,J2B){var S2B=0;while(S2B<n2B.length){var s2B=n2B[S2B];++S2B;i1J.extendDeep(e2B,s2B,J2B);}return e2B;};i1J.keyHash=function(Q2B){var A2B=Z1J.fields(Q2B);var j2B=function(k2B,i2B){if(k2B==i2B){return 0;}else if(k2B>i2B){return 1;}else{return-1;}};V6J.sort(A2B,j2B);return A2B.join("|");};i1J.hash=function(X7B){var E2B=[];var I2B=0;var y2B=Z1J.fields(X7B);while(I2B<y2B.length){var r2B=y2B[I2B];++I2B;E2B.push({key:r2B,value:Z1J.field(X7B,r2B)});}var u7B=E2B.map(function(f7B){return""+f7B.key+"|"+d1J.string(f7B.value);});var h7B=function(D7B,C7B){if(D7B==C7B){return 0;}else if(D7B>C7B){return 1;}else{return-1;}};V6J.sort(u7B,h7B);return u7B.join("|");};i1J.isAnonObj=function(w7B){if(U4J["typeof"](w7B)==R4J.TObject&&!S1J.__instanceof(w7B,H6J)){return!S1J.__instanceof(w7B,M6J);}else{return false;}};i1J.isFunc=function(Y7B){return U4J["typeof"](Y7B)==R4J.TFunction;};i1J.toQueryStr=function(o7B){var c7B=null;var F7B=0;var R7B=Z1J.fields(o7B);while(F7B<R7B.length){var U7B=R7B[F7B];++F7B;var q7B=""+U7B+"="+d1J.string(Z1J.field(o7B,U7B));if(c7B==null){c7B=q7B;}else{c7B+="&"+q7B;}}return c7B;};i1J.toDebugStr=function(t7B){if(U4J["typeof"](t7B)==R4J.TObject&&!S1J.__instanceof(t7B,H6J)&&!S1J.__instanceof(t7B,M6J)){return JSON.stringify(t7B,null,"    ");}else{return d1J.string(t7B);}};i1J.isAny=function(N7B,m7B){var G7B=false;var l7B=0;while(l7B<m7B.length){var K7B=m7B[l7B];++l7B;if(N7B==K7B){G7B=true;break;}}return G7B;};i1J.isNone=function(M7B,g7B){var b7B=false;var a7B=0;while(a7B<g7B.length){var P7B=g7B[a7B];++a7B;if(M7B==P7B){b7B=true;break;}}return!b7B;};var Y5y=function(){};O1J["com.turner.top.lib.platform.storage.IStorageHelper"]=Y5y;Y5y.__name__=["com","turner","top","lib","platform","storage","IStorageHelper"];Y5y.prototype={_available:null,init:null,setItem:null,getItem:null,removeItem:null,clear:null,available:null,__class__:Y5y};var z9J=function(){this._available=this.determineAvailability();if(this._available){this._jsLocalStorage=this.getLocalStorage();}};O1J["com.turner.top.lib.platform.storage.LocalStorageHelperJs"]=z9J;z9J.__name__=["com","turner","top","lib","platform","storage","LocalStorageHelperJs"];z9J.__interfaces__=[Y5y];z9J.prototype={_available:null,_config:null,_jsLocalStorage:null,doInit:function(L7B){this._config=L7B;},doSetItem:function(x7B,O7B){if(!this._available){z9J._logger.warn("[doSetItem] Local storage is unavailable");return false;}return this.setJsItem(this.calcKey(x7B),O7B);},doGetItem:function(H7B){if(!this._available){z9J._logger.warn("[doGetItem] Local storage is unavailable");return null;}return this.getJsItem(this.calcKey(H7B));},doRemoveItem:function(T7B){if(!this._available){z9J._logger.warn("[doRemoveItem] Local storage is unavailable");return false;}return this.removeJsItem(this.calcKey(T7B));},doClear:function(){if(!this._available){z9J._logger.warn("[doClear] Local storage is unavailable");return false;}return this.clearJs();},calcKey:function(V7B){var d7B=this._config.prefix==null?"":""+this._config.prefix+"|";var v7B=this._config.type==null?"":""+this._config.type+"|";return""+d7B+v7B+V7B;},getWin:function(){return window;},determineAvailability:function(){try{!!localStorage.getItem;return true;}catch(p7B){return false;}},getLocalStorage:function(){return this.getWin().localStorage;},setJsItem:function(Z7B,B7B){try{this._jsLocalStorage.setItem(Z7B,B7B);return true;}catch(W7B){return false;}},getJsItem:function(z7B){try{return this._jsLocalStorage.getItem(z7B);}catch(S7B){return null;}},removeJsItem:function(e7B){try{this._jsLocalStorage.removeItem(e7B);return true;}catch(n7B){return false;}},clearJs:function(){try{this._jsLocalStorage.clear();return true;}catch(s7B){return false;}},init:function(J7B){this.doInit(J7B);return this;},setItem:function(A7B,j7B){return this.doSetItem(A7B,j7B);},getItem:function(Q7B){return this.doGetItem(Q7B);},removeItem:function(k7B){return this.doRemoveItem(k7B);},clear:function(){return this.doClear();},available:function(){return this._available;},__class__:z9J};var V6J=function(){};O1J["haxe.ds.ArraySort"]=V6J;V6J.__name__=["haxe","ds","ArraySort"];V6J.sort=function(i7B,I7B){V6J.rec(i7B,I7B,0,i7B.length);};V6J.rec=function(u9B,h9B,E7B,y7B){var X9B=E7B+y7B>>1;if(y7B-E7B<12){if(y7B<=E7B){return;}var f9B=E7B+1;var D9B=y7B;while(f9B<D9B){var C9B=f9B++;var r7B=C9B;while(r7B>E7B){if(h9B(u9B[r7B],u9B[r7B-1])<0){V6J.swap(u9B,r7B-1,r7B);}else{break;}--r7B;}}return;}V6J.rec(u9B,h9B,E7B,X9B);V6J.rec(u9B,h9B,X9B,y7B);V6J.doMerge(u9B,h9B,E7B,X9B,y7B,X9B-E7B,y7B-X9B);};V6J.doMerge=function(w9B,F9B,R9B,Y9B,m9B,o9B,t9B){var c9B;var q9B;var l9B;var U9B;if(o9B==0||t9B==0){return;}if(o9B+t9B==2){if(F9B(w9B[Y9B],w9B[R9B])<0){V6J.swap(w9B,Y9B,R9B);}return;}if(o9B>t9B){l9B=o9B>>1;c9B=R9B+l9B;q9B=V6J.lower(w9B,F9B,Y9B,m9B,c9B);U9B=q9B-Y9B;}else{U9B=t9B>>1;q9B=Y9B+U9B;c9B=V6J.upper(w9B,F9B,R9B,Y9B,q9B);l9B=c9B-R9B;}V6J.rotate(w9B,F9B,c9B,Y9B,q9B);var G9B=c9B+U9B;V6J.doMerge(w9B,F9B,R9B,c9B,G9B,l9B,U9B);V6J.doMerge(w9B,F9B,G9B,q9B,m9B,o9B-l9B,t9B-U9B);};V6J.rotate=function(P9B,O9B,K9B,g9B,L9B){if(K9B==g9B||g9B==L9B){return;}var a9B=V6J.gcd(L9B-K9B,g9B-K9B);while(a9B--!=0){var x9B=P9B[K9B+a9B];var b9B=g9B-K9B;var M9B=K9B+a9B;var N9B=K9B+a9B+b9B;while(N9B!=K9B+a9B){P9B[M9B]=P9B[N9B];M9B=N9B;if(L9B-N9B>b9B){N9B+=b9B;}else{N9B=K9B+(b9B-(L9B-N9B));}}P9B[M9B]=x9B;}};V6J.gcd=function(T9B,H9B){while(H9B!=0){var d9B=T9B%H9B;T9B=H9B;H9B=d9B;}return T9B;};V6J.upper=function(B9B,W9B,V9B,z9B,S9B){var v9B=z9B-V9B;var p9B;var Z9B;while(v9B>0){p9B=v9B>>1;Z9B=V9B+p9B;if(W9B(B9B[S9B],B9B[Z9B])<0){v9B=p9B;}else{V9B=Z9B+1;v9B=v9B-p9B-1;}}return V9B;};V6J.lower=function(A9B,j9B,n9B,Q9B,k9B){var e9B=Q9B-n9B;var s9B;var J9B;while(e9B>0){s9B=e9B>>1;J9B=n9B+s9B;if(j9B(A9B[J9B],A9B[k9B])<0){n9B=J9B+1;e9B=e9B-s9B-1;}else{e9B=s9B;}}return n9B;};V6J.swap=function(i9B,I9B,E9B){var y9B=i9B[I9B];i9B[I9B]=i9B[E9B];i9B[E9B]=y9B;};var c5y=function(){};O1J["com.turner.top.lib.logging.LogManagerDefaults"]=c5y;c5y.__name__=["com","turner","top","lib","logging","LogManagerDefaults"];c5y.data=function(){return{enabled:false,theme:"light",loggerInstances:[],categories:{"ads":false,"ads.provider":false,"ads.consumer":false,"analytics":false,"api":false,"api.commands":false,"api.events":false,"captions":false,"cues":false,"cms":false,"config":false,"core":false,"fragment":false,"hlsjs":false,"manifest":false,"media":false,"mediaEl":false,"mediaEngine":false,"mediaMetadata":false,"mocking":false,"monitors":false,"transaction":false,"ui":false,"validation":false},levels:{"verbose":false,"debug":false,"info":true,"warn":true,"error":true}};};var T3J=function(){this._events=new X4y();this._queryMap=g9J.parse(d9J.pageUrl()).queryAsMap();this._storage=U8J.create({type:"debug"});var r9B=c5y.data();this._data=i1J.extendDeep({},r9B);this.initData();};O1J["com.turner.top.lib.logging.LogManager"]=T3J;T3J.__name__=["com","turner","top","lib","logging","LogManager"];T3J.__interfaces__=[g3y];T3J.prototype={_storage:null,_queryMap:null,_targetCache:null,_data:null,_events:null,initData:function(){this.overrideStateWithStoredData();this.overrideStateWithQueryData();this.savePreferredDataForNewSessions();this.populateLogTargetCache();},overrideStateWithStoredData:function(){var u8B=this._storage.getItem("logtheme");if(u8B!=null){var X8B=this._data;X8B["theme"]=u8B;}},overrideStateWithQueryData:function(){if(Object.prototype.hasOwnProperty.call(this._queryMap,"toplogenabled")){this.overrideWithEnabledQueryData();}if(Object.prototype.hasOwnProperty.call(this._queryMap,"toplogtheme")){this.overrideWithThemeQueryData();}if(Object.prototype.hasOwnProperty.call(this._queryMap,"toplogcat")){this.overrideWithCategoryQueryData();}if(Object.prototype.hasOwnProperty.call(this._queryMap,"toploglevel")){this.overrideWithLevelQueryData();}},overrideWithEnabledQueryData:function(){var h8B=new m7J("^true","").match(Z1J.field(this._queryMap,"toplogenabled"));var f8B=this._data;f8B["enabled"]=h8B;},overrideWithThemeQueryData:function(){var D8B=Z1J.field(this._queryMap,"toplogtheme");var C8B=this._data;C8B["theme"]=D8B;},overrideWithCategoryQueryData:function(){var R8B=Z1J.field(this._queryMap,"toplogcat");var F8B=this.parseStringifiedData(R8B);var w8B=[];var Y8B=0;while(Y8B<F8B.length){var c8B=F8B[Y8B];++Y8B;if(c8B=="all"){var U8B=this.expandCompositeCategory(c8B);w8B=w8B.concat(U8B);}else{w8B.push(c8B);}}var q8B=k2J.mapToObj(w8B,function(t8B,o8B){o8B[t8B]=true;return o8B;});this.updateCategories(q8B);},overrideWithLevelQueryData:function(){var l8B=i1J.extend({},this._data.levels);var m8B=0;var b8B=Z1J.fields(l8B);while(m8B<b8B.length){var g8B=b8B[m8B];++m8B;l8B[g8B]=false;}var P8B=Z1J.field(this._queryMap,"toploglevel");var G8B=this.parseStringifiedData(P8B);var K8B=[];var N8B=0;while(N8B<G8B.length){var a8B=G8B[N8B];++N8B;if(a8B=="all"||a8B=="dev"){K8B=this.expandCompositeLevel(a8B);}}if(K8B.length>0){var L8B=k2J.mapToObj(K8B,function(O8B,x8B){x8B[O8B]=true;return x8B;});i1J.extend(l8B,L8B);this.updateLevels(l8B);}else{var M8B=k2J.mapToObj(G8B,function(T8B,H8B){H8B[T8B]=true;return H8B;});i1J.extend(l8B,M8B);this.updateLevels(l8B);}},parseStringifiedData:function(v8B){var d8B=encodeURIComponent("|");return new m7J("\\||"+d8B,"g").split(v8B).map(C6J.trim);},expandCompositeLevel:function(V8B){var p8B=this._data.levels;switch(V8B){case"all":return Z1J.fields(p8B);case"dev":return["debug","info","warn","error"];default:return[V8B];}},expandCompositeCategory:function(Z8B){var B8B=this._data.categories;if(Z8B=="all"){return Z1J.fields(B8B);}else{return[Z8B];}},savePreferredDataForNewSessions:function(){this._storage.setItem("logtheme",this._data.theme);},populateLogTargetCache:function(){var W8B=new b4J();var e8B=new p8y({theme:this._data.theme}).init();var z8B="ConsoleTarget";if(E1J[z8B]!=null){W8B.setReserved(z8B,e8B);}else{W8B.h[z8B]=e8B;}var n8B=new Z8y(this._events).init();var S8B="LogEventTarget";if(E1J[S8B]!=null){W8B.setReserved(S8B,n8B);}else{W8B.h[S8B]=n8B;}this._targetCache=W8B;},updateCategoriesWithParents:function(X3B){var J8B=i1J.extend({},this._data.categories);var i8B=[];var A8B=0;var I8B=Z1J.fields(X3B);while(A8B<I8B.length){var E8B=I8B[A8B];++A8B;i8B.push({key:E8B,value:Z1J.field(X3B,E8B)});}var s8B=i8B;s8B.sort(function(C3B,w3B){var f3B=C3B.key.split(".").length;var D3B=w3B.key.split(".").length;if(f3B>D3B){return-1;}if(f3B<D3B){return 1;}return 0;});var j8B=0;while(j8B<s8B.length){var y8B=s8B[j8B];++j8B;var r8B=[new m7J(y8B.key,"g")];var Q8B=Z1J.fields(J8B).filter(function(Y3B){return function(c3B){return Y3B[0].match(c3B);};}(r8B));if(Q8B.length>0){var k8B=0;while(k8B<Q8B.length){var h3B=Q8B[k8B];++k8B;J8B[h3B]=y8B.value;}}}var u3B=this._data;u3B["categories"]=J8B;},getFilterVisibility:function(F3B){var R3B=this._data.categories;var U3B=F3B.split((5837,1930)!==14.54?".":("O",1.18e+3));var q3B=U3B.length;var o3B=U3B.slice(0,-1).join(".");var t3B=q3B>1;if(Object.prototype.hasOwnProperty.call(R3B,F3B)){return Z1J.field(R3B,F3B);}else if(t3B){return this.getFilterVisibility(o3B);}else{return false;}},notifyConfigChanged:function(){this._events.configChanged.dispatch(new N8y(this._data));},getLogger:function(b3B,M3B){var K3B;if(S1J.__instanceof(b3B,H6J)){var l3B=U4J.getClassName(b3B);if(l3B!=null&&l3B.lastIndexOf(3040>(191.82,750.1)?".":(0x1edb,12.52))>-1){l3B=Y4J.substr(l3B,l3B.lastIndexOf(".")+1,null);}K3B=l3B;}else{K3B=d1J.string(b3B);}var a3B=this._targetCache;var G3B="ConsoleTarget";var P3B=E1J[G3B]!=null?a3B.getReserved(G3B):a3B.h[G3B];var g3B=this._targetCache;var m3B="LogEventTarget";var L3B=i1J.extend({manager:this,context:K3B,contextDetail:null,targets:[P3B,E1J[m3B]!=null?g3B.getReserved(m3B):g3B.h[m3B]],enabled:this._data.enabled,categories:i1J.extend({},this._data.categories),levels:i1J.extend({},this._data.levels),filters:null},M3B==null?{}:M3B);var N3B=new I0y().init(L3B);this.storeLoggerInstance(N3B);return N3B;},setEnabled:function(H3B){var T3B=this._data;T3B["enabled"]=H3B;var x3B=0;var O3B=this._data.loggerInstances;while(x3B<O3B.length){var d3B=O3B[x3B];++x3B;d3B.setEnabled(H3B);}this.notifyConfigChanged();},setTheme:function(p3B){var Z3B=this._data;Z3B["theme"]=p3B;var V3B=this._targetCache;var v3B="ConsoleTarget";var B3B=E1J[v3B]!=null?V3B.getReserved(v3B):V3B.h[v3B];B3B.updateTheme(p3B);this.savePreferredDataForNewSessions();this.notifyConfigChanged();},updateCategories:function(j3B){var e3B=i1J.extend({},this._data.categories);var k3B=false;var z3B=0;var Q3B=[];var S3B=0;var I3B=Z1J.fields(j3B);while(S3B<I3B.length){var J3B=I3B[S3B];++S3B;Q3B.push({key:J3B,value:Z1J.field(j3B,J3B)});}var A3B=Q3B;while(z3B<A3B.length){var W3B=A3B[z3B];++z3B;if(W3B.key=="all"){k3B=true;var n3B=0;var i3B=this.expandCompositeCategory(W3B.key);while(n3B<i3B.length){var u5B=i3B[n3B];++n3B;e3B[u5B]=W3B.value;}}else{e3B[W3B.key]=W3B.value;}}var y3B=this._data;y3B["categories"]=e3B;if(!k3B){this.updateCategoriesWithParents(j3B);}var s3B=0;var E3B=this._data.loggerInstances;while(s3B<E3B.length){var r3B=E3B[s3B];++s3B;r3B.updateCategories(this._data.categories);}this.notifyConfigChanged();},updateLevels:function(l5B){var h5B=i1J.extend({},this._data.levels);var f5B=0;var U5B=[];var D5B=0;var F5B=Z1J.fields(l5B);while(D5B<F5B.length){var Y5B=F5B[D5B];++D5B;U5B.push({key:Y5B,value:Z1J.field(l5B,Y5B)});}var c5B=U5B;while(f5B<c5B.length){var X5B=c5B[f5B];++f5B;if(X5B.key=="all"||X5B.key=="dev"){var C5B=0;var R5B=this.expandCompositeLevel(X5B.key);while(C5B<R5B.length){var o5B=R5B[C5B];++C5B;h5B[o5B]=X5B.value;}}else{h5B[X5B.key]=X5B.value;}}var t5B=this._data;t5B["levels"]=i1J.extend({},h5B);var w5B=0;var q5B=this._data.loggerInstances;while(w5B<q5B.length){var G5B=q5B[w5B];++w5B;G5B.updateLevels(h5B);}this.notifyConfigChanged();},storeLoggerInstance:function(m5B){this._data.loggerInstances.push(m5B);},removeLoggerInstance:function(K5B){Y4J.remove(this._data.loggerInstances,K5B);},registerFilter:function(N5B){var b5B=this._data.categories;var g5B=!Object.prototype.hasOwnProperty.call(b5B,N5B);if(g5B){var P5B=this.getFilterVisibility(N5B);var a5B={};a5B[N5B]=P5B;var M5B=a5B;this.updateCategories(M5B);}},useDefaults:function(){var T5B=c5y.data();var L5B=i1J.extendDeep({},T5B);var d5B=this._data;d5B["levels"]=L5B.levels;var v5B=this._data;v5B["categories"]=L5B.categories;var x5B=0;var O5B=this._data.loggerInstances;while(x5B<O5B.length){var H5B=O5B[x5B];++x5B;H5B.updateLevels(i1J.extend({},L5B.levels));H5B.updateCategories(i1J.extend({},L5B.categories));}},data:function(){return this._data;},events:function(){return this._events;},__class__:T3J};var I1J=e1J["com"]["turner"]["top"]["lib"]["logging"]["Log"]=function(){};O1J["com.turner.top.lib.logging.Log"]=I1J;I1J.__name__=["com","turner","top","lib","logging","Log"];I1J.data=function(){return I1J._manager.data();};I1J.events=function(){return I1J._manager.events();};I1J.getLogger=function(V5B,p5B){if(p5B==null){return I1J._manager.getLogger(V5B);}return I1J._manager.getLogger(V5B,p5B);};I1J.setEnabled=function(Z5B){I1J._manager.setEnabled(Z5B);};I1J.setTheme=function(B5B){I1J._manager.setTheme(B5B);};I1J.updateCategories=function(W5B){I1J._manager.updateCategories(W5B);};I1J.updateLevels=function(z5B){I1J._manager.updateLevels(z5B);};I1J.useDefaults=function(){I1J._manager.useDefaults();};var v6J=e1J["com"]["turner"]["top"]["comps"]["auth"]["fp"]["FreePreview"]=function(){this._heartbeatType="get";};O1J["com.turner.top.comps.auth.fp.FreePreview"]=v6J;v6J.__name__=["com","turner","top","comps","auth","fp","FreePreview"];v6J.__interfaces__=[K3y];v6J.prototype={_config:null,_storage:null,_initializedStream:null,_initializationStreamFailure:null,_heartbeatType:null,_heartbeatUrl:null,_clientOffset:null,_timeConsumed:null,_timeRecorded:null,_unsentTimeConsumed:null,doInit:function(S5B){this._config=new U9J();this._config.init(i1J.extend(this.configDefaults(),S5B==null?{}:S5B));if(this._config.deviceId()==null){throw new j1J("deviceId must be specified!");}this._storage=U8J.create({type:this._config.localPrefix()});},configDefaults:function(){return{mvpdId:"TempPass",serverUrl:"//sp.auth.adobe.com/maitai/mfp/v1/devices/{device}",timeAllowed:10800,localInterval:10,postInterval:60,deviceId:null,localPrefix:"auth-2017"};},doInitStream:function(A5B){var e5B=this;this._initializedStream=false;var n5B=this.getSavedTimeConsumed();if(isNaN(n5B)){n5B=0;}var J5B=this.getSavedUnsentTime();if(isNaN(J5B)){J5B=0;}var j5B=this._config.serverUrl();var s5B;if(j5B!=null){var k5B=new RegExp("\\{device\\}","".split("u").join(""));var i5B=this._config.deviceId();s5B=j5B.replace(k5B,i5B);}else{s5B=null;}s5B+=new m7J("/streams$","").match(s5B)?"/?tu=seconds":"/streams/?tu=seconds";v6J._logger.debug("[doInitStream] init url is "+s5B);var Q5B=function(){e5B._initializationStreamFailure=true;e5B._timeConsumed=n5B;e5B._unsentTimeConsumed=J5B;};this.createPost(s5B,function(r5B){var E5B=e5B.parseInitResponse(r5B);if(E5B!=null){e5B._heartbeatUrl=E5B.heartbeatUrl;e5B._clientOffset=E5B.clientOffset;var I5B=E5B.timeConsumed;if(isNaN(I5B)){I5B=0;}var y5B=0.0;if(n5B>I5B){v6J._logger.debug("[doInitStream] local time ("+n5B+") is greater than server time ("+I5B+")");y5B=n5B-I5B;e5B._timeConsumed=n5B-y5B;}else{v6J._logger.debug("[doInitStream] Using server time ("+I5B+")");e5B._timeConsumed=I5B;}e5B._unsentTimeConsumed=J5B+y5B;v6J._logger.debug("[doInitStream] unsent time: "+e5B._unsentTimeConsumed);e5B._timeRecorded=0;e5B._initializedStream=true;e5B.invokeSuccess(A5B);}else{v6J._logger.debug("[doInitStream] Unable to parse init response. Proceedingly locally.");Q5B();e5B.invokeError(A5B,"Unable to parse init response");}},function(u0G){v6J._logger.debug("[doInitStream] Unable to initialize stream. Proceedingly locally.");Q5B();e5B.invokeError(A5B,"Unable to initialize stream");});},doRetrieveTimeRemaining:function(X0G){var h0G=this;if(!this._initializedStream&&!this._initializationStreamFailure){this.doInitStream(function(f0G,C0G,D0G){h0G.invoke(X0G,f0G,D0G);});}else{this.invokeSuccess(X0G);}},doIncrementTimeConsumed:function(w0G){this._timeRecorded++;this._timeConsumed++;var Y0G=this._config.postInterval();var c0G=this._config.localInterval();if(this._timeRecorded%Y0G==0){this.persistValues(w0G);}else if(this._timeRecorded%c0G==0){this.persistValuesLocally();this.invokeSuccess(w0G);}else{this.invokeSuccess(w0G);}},doPersistTimeConsumed:function(F0G){this.persistValues(F0G);},invokeSuccess:function(R0G){this.invoke(R0G,true);},invokeError:function(U0G,q0G){this.invoke(U0G,false,q0G);},invoke:function(o0G,t0G,l0G){if(o0G==null){v6J._logger.warn("[invoke] cb is null");return;}o0G(t0G,this.getCbInfo(),l0G);},getCbInfo:function(){var G0G=this.calcTimeRemaining();var m0G=G0G<=0;return{timeConsumed:this._timeConsumed,timeRemaining:G0G,expired:m0G};},calcTimeRemaining:function(){var K0G=this._config.timeAllowed()-(this._timeConsumed+this._unsentTimeConsumed);return K0G;},persistValues:function(P0G){var N0G=this;var b0G=this._config.postInterval();var L0G=this._timeRecorded%b0G==0?b0G:this._timeRecorded%b0G;var a0G=L0G+this._unsentTimeConsumed;var M0G=new Date().getTime()-this._clientOffset;if(this._heartbeatUrl!=null){var x0G=new RegExp("\\{durationMillis\\}","".split("u").join(""));var g0G=this._heartbeatUrl.replace(x0G,d1J.string(a0G*1000));var H0G=new RegExp("\\{timestampMillis\\}","".split("u").join(""));g0G=g0G.replace(H0G,M0G==null?"null":""+M0G);var O0G=function(T0G,d0G,v0G){if(N0G._heartbeatType=="get"){N0G.createGet(T0G,d0G,v0G);}else{N0G.createPost(T0G,d0G,v0G);}};O0G(g0G,function(V0G){N0G._timeConsumed+=N0G._unsentTimeConsumed;N0G._unsentTimeConsumed=0;v6J._logger.info("[persistValues] Heartbeat post succeeded. Clearing unsent");N0G.persistValuesLocally();N0G.invokeSuccess(P0G);},function(p0G){N0G._unsentTimeConsumed=a0G;v6J._logger.warn("[persistValues] Heartbeat post failed. Storing unsent: "+N0G._unsentTimeConsumed);N0G.persistValuesLocally();N0G.invokeError(P0G,"Heartbeat post failed");});}else{this._unsentTimeConsumed=a0G;v6J._logger.warn("[persistValues] Heartbeat not available. Storing unsent: "+this._unsentTimeConsumed);this.persistValuesLocally();this.invokeError(P0G,"Heartbeat not available");}},persistValuesLocally:function(){v6J._logger.info("[persistValuesLocally] Persisting consumed ($_timeConsumed), unsent ($_unsentTimeConsumed)");this.saveTimeConsumed();this.saveUnsentTime();},createGet:function(B0G,W0G,z0G){var Z0G=new r7J(B0G);Z0G.addHeader("Accept","application/xml");Z0G.onData=W0G;Z0G.onError=z0G;Z0G.request();return Z0G;},createPost:function(e0G,n0G,s0G){var S0G=new r7J(e0G);S0G.addHeader("Accept","application/xml");S0G.onData=n0G;S0G.onError=s0G;S0G.request(true);return S0G;},saveTimeConsumed:function(){this._storage.setItem("timeConsumed",d1J.string(this._timeConsumed));},getSavedTimeConsumed:function(){var J0G=this._storage.getItem("timeConsumed");if(J0G==null){return 0;}return parseFloat(J0G);},saveUnsentTime:function(){this._storage.setItem("timeUnsent",d1J.string(this._unsentTimeConsumed));},getSavedUnsentTime:function(){var A0G=this._storage.getItem("timeUnsent");if(A0G==null){return 0;}return parseFloat(A0G);},parseInitResponse:function(u1G){try{var i0G=y1J.parse(u1G);if(i0G==null){return null;}var k0G=i0G.firstElement();if(k0G.nodeType!=y1J.Document&&k0G.nodeType!=y1J.Element){throw new j1J("Invalid nodeType "+k0G.nodeType);}var I0G=k0G;var j0G=I0G;if(j0G==null){return null;}var Q0G=this.parsePrimaryHeartbeatPath(j0G);this._heartbeatType="get";v6J._logger.debug("[parseInitResponse] primary heartbeat url: "+Q0G);if(Q0G==null){v6J._logger.debug("[parseInitResponse] Unable to parse primary heartbeat path");Q0G=this.parseSecondaryHeartbeatPath(j0G);this._heartbeatType="post";Q0G+="?duration={durationMillis}&ts={timestampMillis}&tu=milliseconds";}var E0G=new Date().getTime();var y0G=this.parseClientOffset(j0G)-E0G;var r0G=this.parseTimeConsumed(j0G);return{heartbeatUrl:Q0G,clientOffset:y0G,timeConsumed:r0G};}catch(X1G){v6J._logger.debug("[parseInitResponse] Problem parsing the init response.");return null;}},parsePrimaryHeartbeatPath:function(C1G){if(!j6J.resolve(C1G,"resource")){return null;}var f1G=u2J.resolve(C1G,"resource");if(!j6J.resolve(f1G,"links")){return null;}var D1G=u2J.resolve(f1G,"links");if(!j6J.resolve(D1G,"link")){return null;}var h1G=u2J.resolve(D1G,"link");if(!q7J.resolve(h1G,"rel")||h2J.resolve(h1G,"rel")!="heartbeat"){return null;}return h2J.resolve(h1G,"href");},parseSecondaryHeartbeatPath:function(Y1G){if(!j6J.resolve(Y1G,"resource")){return null;}var w1G=u2J.resolve(Y1G,"resource");if(!q7J.resolve(w1G,"rel")||h2J.resolve(w1G,"rel")!="newly-created-stream"){return null;}return h2J.resolve(w1G,"href");},parseClientOffset:function(F1G){if(!j6J.resolve(F1G,"resource")){return null;}var c1G=u2J.resolve(F1G,"resource");if(!j6J.resolve(c1G,"ts")){return 0;}return d1J.parseInt(g3J.get_innerData(u2J.resolve(c1G,"ts")));},parseTimeConsumed:function(o1G){var R1G=function(t1G,l1G){return t1G.elementsNamed(l1G).hasNext();};var U1G=function(K1G,N1G){var G1G=K1G.elementsNamed(N1G).next();if(G1G.nodeType!=y1J.Document&&G1G.nodeType!=y1J.Element){throw new j1J("Invalid nodeType "+G1G.nodeType);}var m1G=G1G;return m1G;};if(!R1G(o1G,"overall-activity")){return 0;}var q1G=U1G(o1G,"overall-activity");if(!R1G(q1G,"time-consumed")){return 0;}return parseFloat(g3J.get_innerData(U1G(q1G,"time-consumed")));},init:function(a1G){this.doInit(a1G);return this;},initStream:function(b1G){this.doInitStream(b1G);return this;},retrieveTimeRemaining:function(g1G){this.doRetrieveTimeRemaining(g1G);return this;},incrementTimeConsumed:function(P1G){this.doIncrementTimeConsumed(P1G);return this;},persistTimeConsumed:function(M1G){this.doPersistTimeConsumed(M1G);return this;},config:function(){return this._config;},__class__:v6J};var W9y=function(){};O1J["com.turner.top.lib.support.AbstractClassSupport"]=W9y;W9y.__name__=["com","turner","top","lib","support","AbstractClassSupport"];var t6J=function(L1G){this._dataSource=new k7J();this._dataSourcePure=new k7J();this._modes=new r3y(Q6J);this.addDataSourceListeners(L1G);};O1J["com.turner.top.lib.models.BaseDataModel"]=t6J;t6J.__name__=["com","turner","top","lib","models","BaseDataModel"];t6J.__interfaces__=[W9y];t6J.prototype={_dataSource:null,_dataSourcePure:null,_modes:null,addDataSourceListeners:function(H1G){var O1G=H1G.__constructs__.slice();var x1G=0;while(x1G<O1G.length){var T1G=O1G[x1G];++x1G;this._dataSource.events().propertyChanged.listen(U4J.createEnum(H1G,T1G),p1J(this,this.onDataSourcePropertyChanged));}},doInit:function(d1G){this.doSetData(d1G);},doSetData:function(v1G){this._dataSource.clear();this.doExtend(v1G);},doSetMode:function(V1G){this._modes.set(V1G);},doRemoveMode:function(p1G){this._modes.remove(p1G);},doBeginMode:function(Z1G){this.doSetMode(Z1G);},doBeginModes:function(W1G){var B1G=0;while(B1G<W1G.length){var z1G=W1G[B1G];++B1G;this.doBeginMode(z1G);}},doEndMode:function(S1G){this.doRemoveMode(S1G);},doEndModes:function(n1G){var e1G=0;while(e1G<n1G.length){var s1G=n1G[e1G];++e1G;this.doRemoveMode(s1G);}},doWithMode:function(J1G,A1G){this.doWithModes([J1G],A1G);},doWithModes:function(I1G,y1G){var j1G=[];var Q1G=0;while(Q1G<I1G.length){var k1G=I1G[Q1G];++Q1G;if(!this._modes.has(k1G)){this._modes.set(k1G);j1G.push(k1G);}}y1G(this);var i1G=0;while(i1G<j1G.length){var E1G=j1G[i1G];++i1G;this._modes.remove(E1G);}},doGetProperty:function(r1G){return this._dataSource.getProperty(r1G);},doGetPropertyPure:function(u4G){return this._dataSourcePure.getProperty(u4G);},doSetProperty:function(h4G,X4G){this._dataSource.setProperty(h4G,X4G);return X4G;},doClearTransientData:function(){var f4G=this.dataSourceToData(this._dataSourcePure);this.doSetData(f4G);},doToData:function(){var D4G=this.dataSourceToData(this._dataSource);return D4G;},doExtend:function(C4G){throw new j1J("abstract method, must override");},dataSourceToData:function(w4G){throw new j1J("abstract method, must override");},onDataSourcePropertyMapChanged:function(Y4G){this.onDataSourcePropertyChanged(Y4G.propertyResult);},onDataSourcePropertyChanged:function(c4G){if(!this._modes.has(Q6J.Transient)){this._dataSourcePure.setProperty(c4G.property,c4G.currentValue);}if(!this._modes.has(Q6J.Silent)){this.firePropertyChanged(c4G.property,c4G.oldValue,c4G.currentValue);}},firePropertyChanged:function(F4G,R4G,U4G){throw new j1J("abstract method, must override");},modes:function(){return this._modes;},__class__:t6J};var P9J=function(){};O1J["com.turner.top.lib.models.IDataModel"]=P9J;P9J.__name__=["com","turner","top","lib","models","IDataModel"];P9J.prototype={_modes:null,init:null,beginMode:null,beginModes:null,endMode:null,endModes:null,withMode:null,withModes:null,extend:null,clearTransientData:null,setData:null,toData:null,modes:null,__class__:P9J};var e9y=function(){};O1J["com.turner.top.comps.auth.fp.config.IFreePreviewConfig"]=e9y;e9y.__name__=["com","turner","top","comps","auth","fp","config","IFreePreviewConfig"];e9y.__interfaces__=[P9J];e9y.prototype={_events:null,events:null,setMvpdId:null,mvpdId:null,setServerUrl:null,serverUrl:null,setTimeAllowed:null,timeAllowed:null,setLocalInterval:null,localInterval:null,setPostInterval:null,postInterval:null,setDeviceId:null,deviceId:null,setLocalPrefix:null,localPrefix:null,__class__:e9y};var U9J=function(){t6J.call(this,x4J);this._events=new m5y();};O1J["com.turner.top.comps.auth.fp.config.FreePreviewConfig"]=U9J;U9J.__name__=["com","turner","top","comps","auth","fp","config","FreePreviewConfig"];U9J.__interfaces__=[e9y];U9J.extendBy=function(o4G,t4G){var q4G=new U9J();q4G.init(o4G.toData());q4G.extend(t4G);return q4G;};U9J.mergeBy=function(G4G,m4G){var l4G=new U9J();l4G.init(G4G.toData());l4G.extend(m4G.toData());return l4G;};U9J.__super__=t6J;U9J.prototype=v1J(t6J.prototype,{_events:null,doExtend:function(K4G){if(K4G==null){return;}if(K4G.mvpdId!=null){this._setMvpdId(K4G.mvpdId);}if(K4G.serverUrl!=null){this._setServerUrl(K4G.serverUrl);}if(K4G.timeAllowed!=null){this._setTimeAllowed(K4G.timeAllowed);}if(K4G.localInterval!=null){this._setLocalInterval(K4G.localInterval);}if(K4G.postInterval!=null){this._setPostInterval(K4G.postInterval);}if(K4G.deviceId!=null){this._setDeviceId(K4G.deviceId);}if(K4G.localPrefix!=null){this._setLocalPrefix(K4G.localPrefix);}},dataSourceToData:function(N4G){var a4G={mvpdId:N4G.getProperty(x4J.Mvpd_Id),serverUrl:N4G.getProperty(x4J.Server_Url),timeAllowed:N4G.getProperty(x4J.Time_Allowed),localInterval:N4G.getProperty(x4J.Local_Interval),postInterval:N4G.getProperty(x4J.Post_Interval),deviceId:N4G.getProperty(x4J.Device_Id),localPrefix:N4G.getProperty(x4J.Local_Prefix)};return a4G;},firePropertyChanged:function(g4G,P4G,M4G){var b4G=new h8y(g4G,P4G,M4G);this._events.propertyChanged.dispatch(b4G);},_getMvpdId:function(){return this.doGetProperty(x4J.Mvpd_Id);},_setMvpdId:function(L4G){this.doSetProperty(x4J.Mvpd_Id,L4G);},_getServerUrl:function(){return this.doGetProperty(x4J.Server_Url);},_setServerUrl:function(x4G){this.doSetProperty(x4J.Server_Url,x4G);},_getTimeAllowed:function(){return this.doGetProperty(x4J.Time_Allowed);},_setTimeAllowed:function(O4G){this.doSetProperty(x4J.Time_Allowed,O4G);},_getLocalInterval:function(){return this.doGetProperty(x4J.Local_Interval);},_setLocalInterval:function(H4G){this.doSetProperty(x4J.Local_Interval,H4G);},_getPostInterval:function(){return this.doGetProperty(x4J.Post_Interval);},_setPostInterval:function(T4G){this.doSetProperty(x4J.Post_Interval,T4G);},_getDeviceId:function(){return this.doGetProperty(x4J.Device_Id);},_setDeviceId:function(d4G){this.doSetProperty(x4J.Device_Id,d4G);},_getLocalPrefix:function(){return this.doGetProperty(x4J.Local_Prefix);},_setLocalPrefix:function(v4G){this.doSetProperty(x4J.Local_Prefix,v4G);},init:function(V4G){this.doInit(V4G);return this;},beginMode:function(p4G){this.doBeginMode(p4G);return this;},beginModes:function(Z4G){this.doBeginModes(Z4G);return this;},endMode:function(B4G){this.doEndMode(B4G);return this;},endModes:function(W4G){this.doEndModes(W4G);return this;},withMode:function(z4G,S4G){this.doWithMode(z4G,S4G);return this;},withModes:function(e4G,n4G){this.doWithModes(e4G,n4G);return this;},extend:function(s4G){this.doExtend(s4G);return this;},clearTransientData:function(){this.doClearTransientData();return this;},setData:function(J4G){this.doSetData(J4G);return this;},toData:function(){return this.doToData();},events:function(){return this._events;},mvpdId:function(){return this._getMvpdId();},setMvpdId:function(A4G){this._setMvpdId(A4G);return this;},serverUrl:function(){return this._getServerUrl();},setServerUrl:function(j4G){this._setServerUrl(j4G);return this;},timeAllowed:function(){return this._getTimeAllowed();},setTimeAllowed:function(Q4G){this._setTimeAllowed(Q4G);return this;},localInterval:function(){return this._getLocalInterval();},setLocalInterval:function(k4G){this._setLocalInterval(k4G);return this;},postInterval:function(){return this._getPostInterval();},setPostInterval:function(i4G){this._setPostInterval(i4G);return this;},deviceId:function(){return this._getDeviceId();},setDeviceId:function(I4G){this._setDeviceId(I4G);return this;},localPrefix:function(){return this._getLocalPrefix();},setLocalPrefix:function(E4G){this._setLocalPrefix(E4G);return this;},__class__:U9J});var x4J=O1J["com.turner.top.comps.auth.fp.config.FreePreviewConfigProperty"]={__ename__:["com","turner","top","comps","auth","fp","config","FreePreviewConfigProperty"],__constructs__:["Mvpd_Id","Server_Url","Time_Allowed","Local_Interval","Post_Interval","Device_Id","Local_Prefix"]};x4J.Mvpd_Id=["Mvpd_Id",0];x4J.Mvpd_Id.toString=H1J;x4J.Mvpd_Id.__enum__=x4J;x4J.Server_Url=["Server_Url",1];x4J.Server_Url.toString=H1J;x4J.Server_Url.__enum__=x4J;x4J.Time_Allowed=["Time_Allowed",2];x4J.Time_Allowed.toString=H1J;x4J.Time_Allowed.__enum__=x4J;x4J.Local_Interval=["Local_Interval",3];x4J.Local_Interval.toString=H1J;x4J.Local_Interval.__enum__=x4J;x4J.Post_Interval=["Post_Interval",4];x4J.Post_Interval.toString=H1J;x4J.Post_Interval.__enum__=x4J;x4J.Device_Id=["Device_Id",5];x4J.Device_Id.toString=H1J;x4J.Device_Id.__enum__=x4J;x4J.Local_Prefix=["Local_Prefix",6];x4J.Local_Prefix.toString=H1J;x4J.Local_Prefix.__enum__=x4J;x4J.__empty_constructs__=[x4J.Mvpd_Id,x4J.Server_Url,x4J.Time_Allowed,x4J.Local_Interval,x4J.Post_Interval,x4J.Device_Id,x4J.Local_Prefix];var u4J=e1J["com"]["turner"]["top"]["lib"]["events"]["EventResult"]=function(){};O1J["com.turner.top.lib.events.EventResult"]=u4J;u4J.__name__=["com","turner","top","lib","events","EventResult"];u4J.createFor=function(Y6G){var D6G=new S9y();var y4G=0;var h6G=Y6G==null?{}:Y6G;var u6G=[];var r4G=0;var C6G=Z1J.fields(h6G);while(r4G<C6G.length){var w6G=C6G[r4G];++r4G;u6G.push({key:w6G,value:Z1J.field(h6G,w6G)});}var f6G=u6G;while(y4G<f6G.length){var X6G=f6G[y4G];++y4G;D6G[X6G.key]=X6G.value;}return D6G;};u4J.prototype={type:null,__class__:u4J};var h8y=function(c6G,F6G,R6G){u4J.call(this);this.property=c6G;this.oldValue=F6G;this.currentValue=R6G;};O1J["com.turner.top.comps.auth.fp.config.events.FreePreviewConfigPropertyChangedResult"]=h8y;h8y.__name__=["com","turner","top","comps","auth","fp","config","events","FreePreviewConfigPropertyChangedResult"];h8y.__super__=u4J;h8y.prototype=v1J(u4J.prototype,{property:null,oldValue:null,currentValue:null,__class__:h8y});var A5J=O1J["com.turner.top.comps.auth.fp.config.events.FreePreviewConfigEventType"]={__ename__:["com","turner","top","comps","auth","fp","config","events","FreePreviewConfigEventType"],__constructs__:["Property_Changed"]};A5J.Property_Changed=["Property_Changed",0];A5J.Property_Changed.toString=H1J;A5J.Property_Changed.__enum__=A5J;A5J.__empty_constructs__=[A5J.Property_Changed];var R8y=function(){V1J.call(this,A5J.Property_Changed);};O1J["com.turner.top.comps.auth.fp.config.events.FreePreviewConfigPropertyChangedEvent"]=R8y;R8y.__name__=["com","turner","top","comps","auth","fp","config","events","FreePreviewConfigPropertyChangedEvent"];R8y.__super__=V1J;R8y.prototype=v1J(V1J.prototype,{__class__:R8y});var m5y=function(){this.propertyChanged=new R8y();};O1J["com.turner.top.comps.auth.fp.config.events.FreePreviewConfigEvents"]=m5y;m5y.__name__=["com","turner","top","comps","auth","fp","config","events","FreePreviewConfigEvents"];m5y.prototype={propertyChanged:null,__class__:m5y};var r6J=function(){};O1J["com.turner.top.comps.closedcaptions.converters.CCSettingsConverterJs"]=r6J;r6J.__name__=["com","turner","top","comps","closedcaptions","converters","CCSettingsConverterJs"];r6J.apiToJsColor=function(U6G){switch(U6G[1]){case 1:return[0,0,0];case 2:return[0,0,255];case 3:return[0,255,255];case 4:return[0,255,0];case 5:return[255,0,255];case 6:return[255,0,0];case 7:return[255,255,255];case 8:return[255,255,0];default:return[0,0,0];}};r6J.jsToApiColor=function(q6G){switch(q6G){case"black":return M4J.Black;case"blue":return M4J.Blue;case"cyan":return M4J.Cyan;case"green":return M4J.Green;case"magenta":return M4J.Magenta;case"red":return M4J.Red;case"white":return M4J.White;case"yellow":return M4J.Yellow;default:return M4J.Black;}};r6J.apiToJsOpacity=function(o6G){switch(o6G[1]){case 1:return 0.00;case 2:return 0.25;case 3:return 0.50;case 4:return 0.75;case 5:return 1.00;default:return 1.00;}};r6J.jsToApiOpacity=function(t6G){switch(t6G){case 0.00:return y4J.Opacity_0;case 0.25:return y4J.Opacity_25;case 0.50:return y4J.Opacity_50;case 0.75:return y4J.Opacity_75;case 1.00:return y4J.Opacity_100;default:return y4J.Default;}};r6J.apiToJsSize=function(l6G){switch(l6G[1]){case 1:return"12px";case 2:return"18px";case 3:return"24px";default:return"18px";}};r6J.jsToApiSize=function(G6G){switch(G6G){case"12px":return B6J.Small;case"18px":return B6J.Medium;case"24px":return B6J.Large;default:return B6J.Default;}};r6J.apiToJsFontType=function(m6G){switch(m6G[1]){case 1:return"Courier New,Courier,monospace,serif";case 2:return"Andale Mono,Consolas,monospace,sans-serif";case 3:return"Georgia,Times New Roman,Times,serif";case 4:return"Arial,Helvetica,sans-serif";case 5:return"Comic Sans MS,cursive,sans-serif";case 6:return"Brush Script MT,cursive,sans-serif";case 7:return"Copperplate Gothic Bold,Copperplate,sans-serif";default:return"Courier New,Courier,monospace,serif";}};r6J.jsToApiFontType=function(K6G){switch(K6G){case"Arial":return V4J.Proportional_Without_Serifs;case"Brush Script MT":return V4J.Cursive;case"Comic Sans MS":return V4J.Casual;case"Consolas":return V4J.Monospaced_Without_Serifs;case"Copperplate Gothic Bold":return V4J.Small_Capitals;case"Courier New":return V4J.Monospaced_With_Serifs;case"Georgia":return V4J.Proportional_With_Serifs;default:return V4J.Default;}};r6J.apiToJsEdge=function(N6G){switch(N6G[1]){case 1:return"";case 2:return"rgb(0, 0, 0) 0px 0px 5px, "+"rgb(0, 0, 0) 0px 1px 5px, "+"rgb(0, 0, 0) 0px 2px 5px";case 3:return"-2px -1px 0px black, "+"0.5px 0px 0px white;";case 4:return"rgb(0, 0, 0) -2px 0px 1px, "+"rgb(0, 0, 0) 2px 0px 1px, "+"rgb(0, 0, 0) 0px -2px 1px, "+"rgb(0, 0, 0) 0px 2px 1px, "+"rgb(0, 0, 0) -1px 1px 1px, "+"rgb(0, 0, 0) 1px 1px 1px, "+"rgb(0, 0, 0) 1px -1px 1px, "+"rgb(0, 0, 0) 1px 1px 1px";case 5:return"rgb(0, 0, 0) -2px 2px 1px;";case 6:return"rgb(0, 0, 0) 2px 2px 1px;";default:return"";}};r6J.jsToApiEdge=function(a6G){switch(a6G){case"1":return e4J.None;case"2":return e4J.Raised;case"3":return e4J.Depressed;case"4":return e4J.Uniform;case"5":return e4J.Drop_Shadow_Left;case"6":return e4J.Drop_Shadow_Right;default:return e4J.Default;}};var K9J=function(){};O1J["com.turner.top.comps.closedcaptions.converters.CCTrackConverterJs"]=K9J;K9J.__name__=["com","turner","top","comps","closedcaptions","converters","CCTrackConverterJs"];K9J.apiToJsSource=function(b6G){switch(b6G[1]){case 1:return"captions";case 2:return"subtitles";default:return null;}};K9J.jsToApiSource=function(g6G){switch(g6G){case"captions":return q6J.CEA_708;case"subtitles":return q6J.WebVTT;default:return q6J.Unknown;}};K9J.apiToJsChannel=function(P6G){switch(P6G[1]){case 0:return"cc1";case 1:return"cc2";case 2:return"cc3";case 3:return"cc4";default:return"unknown";}};K9J.jsToApiChannel=function(M6G){switch(M6G){case"cc1":return u6J.CC1;case"cc2":return u6J.CC2;case"cc3":return u6J.CC3;case"cc4":return u6J.CC4;default:return u6J.Unknown;}};K9J.apiToJsLang=function(L6G){if(L6G[1]==0){return"en";}else{return"unknown";}};K9J.jsToApiLang=function(x6G){if(x6G=="en"){return W2J.English;}else{return W2J.Unknown;}};var O8y=function(){};O1J["com.turner.top.sdk.common.closedcaptions.decoders.ICCDecoder"]=O8y;O8y.__name__=["com","turner","top","sdk","common","closedcaptions","decoders","ICCDecoder"];O8y.prototype={_events:null,_enabled:null,init:null,reset:null,selectTrack:null,updateSettings:null,destroy:null,events:null,setEnabled:null,enabled:null,__class__:O8y};var T6J=function(O6G){this._videoEl=O6G;this._events=new v5J();this._enabled=true;this._styleMap=new b4J();this._styleHelper=new Z7J(window.document);this._styleHelper.init();this._ccSettings={};this._fsm=new y6J();this._fsm.events().listen(p1J(this,this.onFsmEvent));this.resetData();};O1J["com.turner.top.comps.closedcaptions.decoders.CCDecoderJs"]=T6J;T6J.__name__=["com","turner","top","comps","closedcaptions","decoders","CCDecoderJs"];T6J.__interfaces__=[O8y];T6J.attemptToFireTransition=function(H6G,T6G,d6G){if(!H6G.canFire(T6G)){T6J._logger.warn("[attemptToFireTransition] Unable to fire "+d1J.string(T6G)+" from current state: "+d1J.string(H6G.currentState()));return;}H6G.fire(T6G,d6G);};T6J.prototype={_events:null,_enabled:null,_videoEl:null,_sourceTrack:null,_selectedTrack:null,_ccSettings:null,_styleMap:null,_styleHelper:null,_fsm:null,doInit:function(){this._fsm.init({initial:{name:D6J.Start,state:I4J.Pending},events:[{name:D6J.Ready,from:[I4J.Pending],to:I4J.Ready},{name:D6J.Change_Track,from:[I4J.Ready,I4J.Showing_Track,I4J.Disabled],to:I4J.Changing_Track},{name:D6J.Show_Track,from:[I4J.Changing_Track,I4J.Disabled],to:I4J.Showing_Track},{name:D6J.Disable,from:[I4J.Ready,I4J.Changing_Track,I4J.Showing_Track],to:I4J.Disabled}]});this._videoEl.textTracks.addEventListener("change",p1J(this,this.onTextTracksChanged));},onTextTracksChanged:function(){if(S4J.ios()&&!this._enabled){var v6G=0;var V6G=this.getJsAvailTracks();while(v6G<V6G.length){var p6G=V6G[v6G];++v6G;if(p6G.mode=="showing"){T6J._logger.warn("[onTextTracksChanged] unexpected text track mode change detected, resetting from showing -> hidden");p6G.mode="hidden";}}}},doReset:function(){this.resetData();},resetData:function(){this._sourceTrack=null;this._selectedTrack=null;},doSelectTrack:function(Z6G){if(Z6G==null){T6J._logger.warn("[doSelectTrack] given track is null");return false;}this._sourceTrack=Z6G;if(!this._enabled){T6J._logger.warn("[doSelectTrack] Decoder is disabled. Unable to complete selection");return false;}T6J.attemptToFireTransition(this._fsm,D6J.Change_Track);return true;},doSetEnabled:function(B6G){if(B6G!=this._enabled){this._enabled=B6G;if(this._enabled==true){if(this._selectedTrack!=null){T6J.attemptToFireTransition(this._fsm,D6J.Show_Track);}else if(this._sourceTrack!=null){T6J.attemptToFireTransition(this._fsm,D6J.Change_Track);}}else{T6J.attemptToFireTransition(this._fsm,D6J.Disable);}}},doUpdateSettings:function(W6G){T6J._logger.debug("[doUpdateSettings]");T6J._logger.debug("ccSettings: "+d1J.string(W6G));this._ccSettings=i1J.extend(this._ccSettings,W6G);T6J._logger.debug("_ccSettings: "+d1J.string(this._ccSettings));if(W6G.backgroundColor!=null||W6G.backgroundOpacity!=null){var k6G=r6J.apiToJsOpacity(this._ccSettings.backgroundOpacity!=null?this._ccSettings.backgroundOpacity:y4J.Default);var z6G=r6J.apiToJsColor(this._ccSettings.backgroundColor!=null?this._ccSettings.backgroundColor:M4J.Default);var n6G="background-color: rgba("+z6G[0]+", "+z6G[1]+", "+z6G[2]+", "+k6G+")";this.updateStyleRule("background-color",n6G);}if(W6G.edgeColor!=null){T6J._logger.warn("[doUpdateSettings] edgeColor not working properly yet");var s6G=r6J.apiToJsColor(W6G.edgeColor);var J6G="TODO: "+d1J.string(s6G);this.updateStyleRule("TODO",J6G);}if(W6G.fillColor!=null){T6J._logger.warn("[doUpdateSettings] fillColor not working properly yet");var A6G=r6J.apiToJsColor(W6G.fillColor);var j6G="TODO: "+d1J.string(A6G);this.updateStyleRule("TODO",j6G);}if(W6G.fontColor!=null||W6G.fontOpacity!=null){var Q6G=r6J.apiToJsOpacity(this._ccSettings.fontOpacity!=null?this._ccSettings.fontOpacity:y4J.Default);var S6G=r6J.apiToJsColor(this._ccSettings.fontColor!=null?this._ccSettings.fontColor:M4J.Default);var i6G="color: rgba("+S6G[0]+", "+S6G[1]+", "+S6G[2]+", "+Q6G+")";this.updateStyleRule("color",i6G);}if(W6G.fillOpacity!=null){T6J._logger.warn("[doUpdateSettings] fillOpacity not working properly yet");var e6G=r6J.apiToJsOpacity(W6G.fillOpacity);var E6G="TODO: "+e6G;this.updateStyleRule("TODO",E6G);}if(W6G.fontType!=null){var y6G=r6J.apiToJsFontType(W6G.fontType);var r6G="font-family: "+y6G;this.updateStyleRule("font-type",r6G);}if(W6G.fontFamily!=null){var u2G=W6G.fontFamily;var X2G="font-family: "+u2G;this.updateStyleRule("font-family",X2G);}if(W6G.fontEdge!=null){var h2G=r6J.apiToJsEdge(W6G.fontEdge);var f2G="text-shadow: "+h2G;this.updateStyleRule("text-shadow",f2G);}if(W6G.bottomInset!=null){T6J._logger.warn("[doUpdateSettings] bottomInset not working properly yet");var D2G=W6G.bottomInset;var C2G="TODO: "+D2G;this.updateStyleRule("TODO",C2G);}if(W6G.size!=null){var w2G=r6J.apiToJsSize(W6G.size);var I6G="font-size: "+w2G;this.updateStyleRule("font-size",I6G);}if(Z1J.fields(W6G).length>0){this.notifySettingsUpdated(this._ccSettings);}},doDestroy:function(){this._videoEl.textTracks.removeEventListener("change",p1J(this,this.onTextTracksChanged));},onFsmEvent:function(U2G,F2G){var R2G=F2G.from;var Y2G=F2G.to;switch(U2G[1]){case 1:switch(Y2G[1]){case 2:if(this._sourceTrack!=null){var c2G=this.findJsTrack(this._sourceTrack);if(c2G==null){T6J._logger.warn("[doSelectTrack] Unable to find corresponding track");}else{this._selectedTrack=c2G;}}break;case 3:this.showJsTrack(this._selectedTrack);break;case 4:this.hideAllJsTracks();this._selectedTrack=null;break;default:}break;case 2:this.notifyStateChanged(R2G,Y2G);switch(Y2G[1]){case 0:T6J.attemptToFireTransition(this._fsm,D6J.Ready);break;case 1:break;case 2:if(this._selectedTrack!=null){T6J.attemptToFireTransition(this._fsm,D6J.Show_Track);}else{T6J.attemptToFireTransition(this._fsm,D6J.Ready);}break;case 3:this.notifyTrackSelected(this._sourceTrack);break;case 4:break;}break;default:}},findJsTrack:function(l2G){var q2G=K9J.apiToJsLang(l2G.lang);var o2G=l2G.source==q6J.WebVTT?"subtitles":"captions";var t2G=this.getJsAvailTracks().filter(function(G2G){if(S4J.safari()){if(G2G.language==q2G||G2G.language==""){return G2G.kind==o2G;}else{return false;}}else if(G2G.language==q2G){return G2G.kind==o2G;}else{return false;}});return 0<t2G.length?t2G[0]:null;},showJsTrack:function(a2G){var m2G=0;var N2G=this.getJsAvailTracks();while(m2G<N2G.length){var K2G=N2G[m2G];++m2G;if(K2G!=a2G){K2G.mode="hidden";}else{K2G.mode="showing";}}},hideAllJsTracks:function(){var b2G=0;var g2G=this.getJsAvailTracks();while(b2G<g2G.length){var P2G=g2G[b2G];++b2G;P2G.mode="hidden";}},getJsAvailTracks:function(){if(this._videoEl.textTracks==null){return[];}var x2G=[];var L2G=0;var O2G=this._videoEl.textTracks;while(L2G<O2G.length){var M2G=O2G[L2G];++L2G;if((M2G.kind=="captions"||M2G.kind=="subtitles")&&M2G.mode!="disabled"){x2G.push(M2G);}}return x2G;},updateStyleRule:function(H2G,p2G){var Z2G="video::cue";var d2G=this._styleMap;if(E1J[H2G]!=null?d2G.existsReserved(H2G):d2G.h.hasOwnProperty(H2G)){var v2G=this._styleMap;this._styleHelper.deleteRule(E1J[H2G]!=null?v2G.getReserved(H2G):v2G.h[H2G]);}if(S4J.safari()){p2G+=" !important";}var T2G={selector:Z2G,props:p2G};this._styleHelper.addRule(T2G);var V2G=this._styleMap;if(E1J[H2G]!=null){V2G.setReserved(H2G,T2G);}else{V2G.h[H2G]=T2G;}},notifyTrackSelected:function(W2G){var B2G=new p5J(W2G);this._events.trackSelected.dispatch(B2G);},notifySettingsUpdated:function(S2G){var z2G=new Z5J(S2G);this._events.settingsUpdated.dispatch(z2G);},notifyStateChanged:function(n2G,s2G){var e2G=new j6y(n2G,s2G);this._events.stateChanged.dispatch(e2G);},init:function(){this.doInit();return this;},reset:function(){this.doReset();return this;},selectTrack:function(J2G){return this.doSelectTrack(J2G);},updateSettings:function(A2G){this.doUpdateSettings(A2G);return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},enabled:function(){return this._enabled;},setEnabled:function(j2G){this.doSetEnabled(j2G);return this;},__class__:T6J};var S7J=function(Q2G){this._videoEl=Q2G;this._events=new v5J();this._enabled=true;this._videoJs=null;this._styleMap=new b4J();this._styleHelper=new Z7J(window.document);this._styleHelper.init();this._ccSettings={};this.resetData();};O1J["com.turner.top.comps.closedcaptions.decoders.CCDecoderJs_vjs"]=S7J;S7J.__name__=["com","turner","top","comps","closedcaptions","decoders","CCDecoderJs_vjs"];S7J.__interfaces__=[O8y];S7J.prototype={_events:null,_enabled:null,_videoEl:null,_sourceTrack:null,_selectedTrack:null,_videoJs:null,_ccSettings:null,_styleMap:null,_styleHelper:null,doInit:function(){},doReset:function(){this.resetData();},resetData:function(){this._videoJs=null;this._sourceTrack=null;this._selectedTrack=null;},doSelectTrack:function(k2G){if(k2G==null){S7J._logger.warn("[doSelectTrack] given track is null");return false;}this._sourceTrack=k2G;if(!this._enabled){S7J._logger.warn("[doSelectTrack] Decoder is disabled. Unable to complete selection");return false;}var i2G=this.findJsTrack(k2G);if(i2G==null){S7J._logger.warn("[doSelectTrack] Unable to find corresponding track");return false;}this._selectedTrack=i2G;this.showJsTrack(this._selectedTrack);this.notifyTrackSelected(k2G);return true;},doSetEnabled:function(I2G){this._enabled=I2G;if(this._enabled){if(this._sourceTrack!=null&&this._selectedTrack==null){this.doSelectTrack(this._sourceTrack);}}else{this.hideAllJsTracks();this._selectedTrack=null;}},doUpdateSettings:function(E2G){S7J._logger.debug("[doUpdateSettings]");S7J._logger.debug("ccSettings: "+d1J.string(E2G));this._ccSettings=i1J.extend(this._ccSettings,E2G);S7J._logger.debug("_ccSettings: "+d1J.string(this._ccSettings));var D7G=this.getVideoJsInstance();var u7G=D7G.textTrackSettings.getValues();if(E2G.backgroundColor!=null){var y2G;var U7G=E2G.backgroundColor;if(U7G==null){y2G="#000";}else{switch(U7G[1]){case 1:y2G="#000";break;case 2:y2G="#00F";break;case 3:y2G="#0FF";break;case 4:y2G="#0F0";break;case 5:y2G="#F0F";break;case 6:y2G="#F00";break;case 7:y2G="#FFF";break;case 8:y2G="#FF0";break;default:y2G="#000";}}u7G.backgroundColor=y2G;}if(E2G.fontColor!=null){var r2G;var F7G=E2G.fontColor;if(F7G==null){r2G="#000";}else{switch(F7G[1]){case 1:r2G="#000";break;case 2:r2G="#00F";break;case 3:r2G="#0FF";break;case 4:r2G="#0F0";break;case 5:r2G="#F0F";break;case 6:r2G="#F00";break;case 7:r2G="#FFF";break;case 8:r2G="#FF0";break;default:r2G="#000";}}u7G.color=r2G;}if(E2G.backgroundOpacity!=null){var C7G=r6J.apiToJsOpacity(E2G.backgroundOpacity);u7G.backgroundOpacity=C7G==null?"null":""+C7G;}if(E2G.fontOpacity!=null){var w7G=r6J.apiToJsOpacity(E2G.fontOpacity);u7G.textOpacity=w7G==null?"null":""+w7G;}if(E2G.fontType!=null){var X7G;var c7G=E2G.fontType;if(c7G==null){X7G="monospaceSerif";}else{switch(c7G[1]){case 1:X7G="monospaceSerif";break;case 2:X7G="monospaceSansSerif";break;case 3:X7G="proportionalSerif";break;case 4:X7G="proportionalSansSerif";break;case 5:X7G="casual";break;case 6:X7G="script";break;case 7:X7G="smallcaps";break;default:X7G="monospaceSerif";}}u7G.fontFamily=X7G;}if(E2G.fontEdge!=null){var h7G;var R7G=E2G.fontEdge;if(R7G==null){h7G="none";}else{switch(R7G[1]){case 1:h7G="none";break;case 2:h7G="raise";break;case 3:h7G="depressed";break;case 4:h7G="uniform";break;case 5:h7G="dropshadow";break;case 6:h7G="dropshadow";break;default:h7G="none";}}u7G.edgeStyle=h7G;}if(E2G.size!=null){var f7G;var Y7G=E2G.size;if(Y7G==null){f7G=1.00;}else{switch(Y7G[1]){case 1:f7G=0.75;break;case 2:f7G=1.00;break;case 3:f7G=1.25;break;default:f7G=1.00;}}u7G.fontPercent=f7G;window.console.log("cc fontPercent:",u7G.fontPercent);}if(Z1J.fields(E2G).length>0){D7G.textTrackSettings.setValues(u7G);D7G.textTrackSettings.updateDisplay();this.notifySettingsUpdated(this._ccSettings);}},doDestroy:function(){},findJsTrack:function(t7G){var o7G=K9J.apiToJsLang(t7G.lang);var q7G=this.getJsAvailTracks().filter(function(l7G){return l7G.language==o7G;});return 0<q7G.length?q7G[0]:null;},showJsTrack:function(N7G){var G7G=0;var K7G=this.getJsAvailTracks();while(G7G<K7G.length){var m7G=K7G[G7G];++G7G;if(m7G!=N7G){m7G.mode="hidden";}else{m7G.mode="showing";}}},hideAllJsTracks:function(){var a7G=0;var b7G=this.getJsAvailTracks();while(a7G<b7G.length){var g7G=b7G[a7G];++a7G;g7G.mode="hidden";}},getJsAvailTracks:function(){if(this.getVideoJsInstance().textTracks()==null){return[];}var M7G=this.getVideoJsInstance().textTracks();var L7G=[];var P7G=0;while(P7G<M7G.length){var x7G=M7G[P7G];++P7G;if(x7G.kind=="captions"){L7G.push(x7G);}}return L7G;},updateStyleRule:function(O7G,p7G){var V7G="video::cue";var T7G=this._styleMap;if(E1J[O7G]!=null?T7G.existsReserved(O7G):T7G.h.hasOwnProperty(O7G)){var d7G=this._styleMap;this._styleHelper.deleteRule(E1J[O7G]!=null?d7G.getReserved(O7G):d7G.h[O7G]);}var H7G={selector:V7G,props:p7G};this._styleHelper.addRule(H7G);var v7G=this._styleMap;if(E1J[O7G]!=null){v7G.setReserved(O7G,H7G);}else{v7G.h[O7G]=H7G;}},getVideoJsInstance:function(){if(this._videoJs!=null){return this._videoJs;}var Z7G=this._videoEl.parentElement.id;this._videoJs=videojs.getPlayers()[Z7G];return this._videoJs;},notifyTrackSelected:function(W7G){var B7G=new p5J(W7G);this._events.trackSelected.dispatch(B7G);},notifySettingsUpdated:function(S7G){var z7G=new Z5J(S7G);this._events.settingsUpdated.dispatch(z7G);},init:function(){this.doInit();return this;},reset:function(){this.doReset();return this;},selectTrack:function(e7G){return this.doSelectTrack(e7G);},updateSettings:function(n7G){this.doUpdateSettings(n7G);return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},enabled:function(){return this._enabled;},setEnabled:function(s7G){this.doSetEnabled(s7G);return this;},__class__:S7J};var P5y=function(){};O1J["com.turner.top.comps.closedcaptions.helpers.TextTrackHelpers"]=P5y;P5y.__name__=["com","turner","top","comps","closedcaptions","helpers","TextTrackHelpers"];P5y.toString=function(J7G){return"[TextTrack] "+J7G.label+" | "+J7G.language+" | "+J7G.kind+" | "+J7G.mode;};P5y.equals=function(A7G,j7G){if(A7G.kind==j7G.kind&&A7G.label==j7G.label){return A7G.language==j7G.language;}else{return false;}};var L5y=function(){};O1J["com.turner.top.sdk.common.closedcaptions.managers.ICCManager"]=L5y;L5y.__name__=["com","turner","top","sdk","common","closedcaptions","managers","ICCManager"];L5y.prototype={_events:null,_enabled:null,init:null,prune:null,reset:null,selectTrack:null,selectTrackByLang:null,updateSettings:null,destroy:null,events:null,setEnabled:null,enabled:null,__class__:L5y};var a2J=function(){this._events=new w7y();this._enabled=true;this.resetData();};O1J["com.turner.top.sdk.common.closedcaptions.managers.CCManager"]=a2J;a2J.__name__=["com","turner","top","sdk","common","closedcaptions","managers","CCManager"];a2J.__interfaces__=[L5y];a2J.prototype={_events:null,_enabled:null,_providers:null,_decoder:null,_tracks:null,doInit:function(I7G,E7G){this._providers=I7G;this._decoder=E7G;var Q7G=0;var k7G=this._providers;while(Q7G<k7G.length){var i7G=k7G[Q7G];++Q7G;this.addProviderListeners(i7G);}this.addDecoderListeners(this._decoder);this._decoder.init();},doPrune:function(X9G){var y7G=0;var r7G=this._providers;while(y7G<r7G.length){var u9G=r7G[y7G];++y7G;u9G.prune(X9G);}},doReset:function(){a2J._logger.info("[doReset]");var h9G=0;var f9G=this._providers;while(h9G<f9G.length){var D9G=f9G[h9G];++h9G;D9G.reset();}this._decoder.reset();this.resetData();},resetData:function(){a2J._logger.info("[resetData]");this._tracks=[];},doSelectTrack:function(C9G){a2J._logger.info("[doSelectTrack] track: "+d1J.string(C9G));if(C9G==null){a2J._logger.warn("[doSelectTrack] given track is null");return false;}if(this._tracks.indexOf(C9G)==-1){a2J._logger.warn("[doSelectTrack] given track is not valid");return false;}var w9G=this._decoder.selectTrack(C9G);if(!this._enabled){this.doSetEnabled(true);}return w9G;},doSelectTrackByLang:function(c9G){a2J._logger.info("[doSelectTrackByLang] lang: "+d1J.string(c9G));var Y9G=this._tracks.filter(function(F9G){return F9G.lang==c9G;});return this.doSelectTrack(0<Y9G.length?Y9G[0]:null);},doSetEnabled:function(R9G){a2J._logger.info("[doSetEnabled] value: "+(R9G==null?"null":""+R9G));this._enabled=R9G;this._decoder.setEnabled(this._enabled);},doUpdateSettings:function(U9G){a2J._logger.info("[doUpdateSettings] settings: "+d1J.string(U9G));this._decoder.updateSettings(U9G);},doDestroy:function(){var q9G=0;var o9G=this._providers;while(q9G<o9G.length){var t9G=o9G[q9G];++q9G;this.removeProviderListeners(t9G);t9G.destroy();}this._providers=[];this.removeDecoderListeners(this._decoder);this._decoder.destroy();this._decoder=null;},addProviderListeners:function(l9G){l9G.events().listen(p1J(this,this.onProviderEvent));},onProviderEvent:function(m9G,K9G){if(m9G[1]==0){var G9G=K9G;this.handleTrackAvailabilityChanged(G9G);this.notifyTrackAvailabilityChanged(G9G);}},handleTrackAvailabilityChanged:function(N9G){if(N9G.added){this._tracks.push(N9G.track);}else{var a9G=this._tracks.indexOf(N9G.track);if(a9G>-1){Y4J.remove(this._tracks,this._tracks[a9G]);}}},removeProviderListeners:function(b9G){b9G.events().unlisten(p1J(this,this.onProviderEvent));},addDecoderListeners:function(g9G){g9G.events().listen(p1J(this,this.onDecoderEvent));},onDecoderEvent:function(M9G,P9G){switch(M9G[1]){case 1:this.notifyStateChanged(P9G);break;case 2:this.notifyTrackSelected(P9G);break;case 3:this.notifySettingsUpdated(P9G);break;case 4:this.notifyError(P9G);break;default:}},removeDecoderListeners:function(L9G){L9G.events().unlisten(p1J(this,this.onDecoderEvent));},notifyTrackAvailabilityChanged:function(x9G){this._events.trackAvailabilityChanged.dispatch(x9G);},notifyStateChanged:function(O9G){this._events.stateChanged.dispatch(O9G);},notifyTrackSelected:function(H9G){this._events.trackSelected.dispatch(H9G);},notifySettingsUpdated:function(T9G){this._events.settingsUpdated.dispatch(T9G);},notifyError:function(d9G){this._events.error.dispatch(d9G);},init:function(v9G,V9G){this.doInit(v9G,V9G);return this;},prune:function(p9G){this.doPrune(p9G);return this;},reset:function(){this.doReset();return this;},selectTrack:function(Z9G){return this.doSelectTrack(Z9G);},selectTrackByLang:function(B9G){return this.doSelectTrackByLang(B9G);},updateSettings:function(W9G){this.doUpdateSettings(W9G);return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},enabled:function(){return this._enabled;},setEnabled:function(z9G){this.doSetEnabled(z9G);return this;},__class__:a2J};var Q5J=e1J["com"]["turner"]["top"]["comps"]["closedcaptions"]["managers"]["CCManagerJs"]=function(S9G){a2J.call(this);this._videoEl=S9G;};O1J["com.turner.top.comps.closedcaptions.managers.CCManagerJs"]=Q5J;Q5J.__name__=["com","turner","top","comps","closedcaptions","managers","CCManagerJs"];Q5J.__super__=a2J;Q5J.prototype=v1J(a2J.prototype,{_videoEl:null,createProviders:function(){return[new D7J(this._videoEl).init()];},createDecoder:function(){return new T6J(this._videoEl);},init:function(e9G,n9G){a2J.prototype.init.call(this,e9G==null?this.createProviders():e9G,n9G==null?this.createDecoder():n9G);return this;},__class__:Q5J});var t1y=function(){};O1J["com.turner.top.sdk.common.closedcaptions.providers.ICCProvider"]=t1y;t1y.__name__=["com","turner","top","sdk","common","closedcaptions","providers","ICCProvider"];t1y.prototype={_events:null,_enabled:null,init:null,prune:null,reset:null,destroy:null,events:null,setEnabled:null,enabled:null,__class__:t1y};var D7J=function(s9G){this._videoEl=s9G;this._events=new n5J();this._enabled=true;if(this.shouldUseInternalTT()){this.setupInternalTT();}this.resetData();};O1J["com.turner.top.comps.closedcaptions.providers.CCProviderProxyJs"]=D7J;D7J.__name__=["com","turner","top","comps","closedcaptions","providers","CCProviderProxyJs"];D7J.__interfaces__=[t1y];D7J.prototype={_events:null,_enabled:null,_videoEl:null,_tracks:null,_videoTimeUpdateCount:null,doInit:function(){this.addVideoListeners(this._videoEl);},doPrune:function(A9G){var j9G=A9G.pruneType;D7J._loggerCaptions.debug("[doPrune]\n\tprune type: "+d1J.string(j9G)+"\n\tdata: "+d1J.string(A9G.data));var J9G=0;switch(j9G[1]){case 0:J9G=A9G.data.minTime;break;case 1:J9G=Infinity;break;}try{this.removeCuesEndingBefore(J9G);}catch(Q9G){if(Q9G instanceof j1J)Q9G=Q9G.val;D7J._logger.warn("[doPrune] could not remove cues ending before "+J9G+", "+d1J.string(Q9G));}},removeCuesEndingBefore:function(r9G){var E9G=0;var k9G=0;var y9G=this._tracks;while(k9G<y9G.length){var i9G=y9G[k9G];++k9G;var I9G=i9G.cues[0];while(I9G.endTime<r9G){i9G.removeCue(I9G);I9G=i9G.cues[0];++E9G;}}D7J._loggerCaptions.debug("[removeCuesEndingBefore] removed "+E9G+" cues with end times < "+r9G);},doReset:function(){this.resetData();},resetData:function(){this._tracks=[];this._videoTimeUpdateCount=0;},doDestroy:function(){this.removeVideoListeners(this._videoEl);},handleTrackFound:function(u8G){if(!this._enabled){D7J._loggerCaptions.warn("[handleTrackFound] Disabled - skipping track");return;}var h8G=false;var X8G=0;var f8G=this._tracks;while(X8G<f8G.length){var C8G=f8G[X8G];++X8G;if(P5y.equals(C8G,u8G)){h8G=true;break;}}if(h8G){D7J._loggerCaptions.warn("[handleTrackFound] Duplicate track found - skipping");return;}var D8G=this.convertToCCTrack(u8G);D8G.isDefault=u8G.mode=="showing";this._tracks.push(u8G);this.notifyTrackAdded(D8G);},convertToCCTrack:function(w8G){var Y8G=u6J.Unknown;var c8G=K9J.jsToApiSource(w8G.kind);var F8G=K9J.jsToApiLang(w8G.language);var R8G=w8G.label;return new a3J(c8G,Y8G,F8G,R8G);},addVideoListeners:function(U8G){this._videoEl.addEventListener("loadeddata",p1J(this,this.onVideoLoadedData));this._videoEl.addEventListener("timeupdate",p1J(this,this.onVideoTimeUpdate));this._videoEl.addEventListener("addtrack",p1J(this,this.onVideoAddTrack));},onVideoLoadedData:function(q8G){this.handleJsTracks();},onVideoTimeUpdate:function(l8G){this._videoTimeUpdateCount++;var o8G=this._videoTimeUpdateCount;var t8G=4;if(m3y.gt((o8G<0?4294967296.0+o8G:o8G+0.0)%(t8G<0?4294967296.0+t8G:t8G+0.0)|0,0)){return;}this.handleJsTracks();},onVideoAddTrack:function(N8G){var G8G=0;var K8G=this._videoEl.textTracks;while(G8G<K8G.length){var m8G=K8G[G8G];++G8G;if(m8G==N8G.track){if(m8G.mode=="disabled"){m8G.mode="hidden";}}}this.handleJsTracks();},handleJsTracks:function(){var a8G=0;var b8G=this.getJsAvailTracks();while(a8G<b8G.length){var g8G=b8G[a8G];++a8G;this.handleTrackFound(g8G);}},getJsAvailTracks:function(){if(this._videoEl.textTracks==null){return[];}var L8G=[];var M8G=0;var x8G=this._videoEl.textTracks;while(M8G<x8G.length){var P8G=x8G[M8G];++M8G;if((P8G.kind=="captions"||P8G.kind=="subtitles")&&P8G.mode!="disabled"){L8G.push(P8G);}}return L8G;},removeVideoListeners:function(O8G){this._videoEl.removeEventListener("loadeddata",p1J(this,this.onVideoLoadedData));this._videoEl.removeEventListener("timeupdate",p1J(this,this.onVideoTimeUpdate));this._videoEl.removeEventListener("addtrack",p1J(this,this.onVideoAddTrack));},shouldUseInternalTT:function(){var H8G=this.hasInternalTT();if(!H8G){if(S4J.safari()){return!S4J.ios();}else{return false;}}else{return false;}},hasInternalTT:function(){var T8G=0;var d8G=this._videoEl.textTracks;while(T8G<d8G.length){var v8G=d8G[T8G];++T8G;if(v8G.label=="Internal"&&v8G.language=="n/a"){return true;}else{continue;}}return false;},setupInternalTT:function(){var Z8G=this;D7J._loggerCaptions.info("[setupInternalTT] setting up internal text track as a stop-gap");var p8G=this._videoEl.addTextTrack("captions","Internal","n/a");var V8G=null;V8G=function(){Z8G._videoEl.textTracks.removeEventListener("change",V8G);p8G.mode="disabled";};var B8G=V8G;this._videoEl.textTracks.addEventListener("change",V8G);return p8G;},notifyTrackAdded:function(z8G){var W8G=new V5J(z8G,true);this._events.trackAvailabilityChanged.dispatch(W8G);},init:function(){this.doInit();return this;},prune:function(S8G){this.doPrune(S8G);return this;},reset:function(){this.doReset();return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},enabled:function(){return this._enabled;},setEnabled:function(e8G){this._enabled=e8G;return this;},__class__:D7J};var f9J=function(n8G){this._videoEl=n8G;this._events=new n5J();this._enabled=true;this._videoJs=null;this.resetData();};O1J["com.turner.top.comps.closedcaptions.providers.CCProviderProxyJs_vjs"]=f9J;f9J.__name__=["com","turner","top","comps","closedcaptions","providers","CCProviderProxyJs_vjs"];f9J.__interfaces__=[t1y];f9J.prototype={_events:null,_enabled:null,_videoEl:null,_tracks:null,_videoTimeUpdateCount:null,_videoJs:null,doInit:function(){this.addVideoListeners(this._videoEl);},doPrune:function(s8G){},doReset:function(){this.resetData();},resetData:function(){this._videoJs=null;this._tracks=[];this._videoTimeUpdateCount=0;},doDestroy:function(){this.removeVideoListeners(this._videoEl);},handleTrackFound:function(J8G){if(!this._enabled){if(f9J._debug){f9J._logger.warn("[handleTrackFound] Disabled - skipping track");}return;}if(this._tracks.indexOf(J8G)>-1){if(f9J._debug){f9J._logger.warn("[handleTrackFound] Duplicate track found - skipping");}return;}this._tracks.push(J8G);this.notifyTrackAdded(this.convertToCCTrack(J8G));},convertToCCTrack:function(k8G){var A8G=q6J.CEA_708;var j8G=u6J.Unknown;var Q8G=W2J.English;return new a3J(A8G,j8G,Q8G);},addVideoListeners:function(i8G){this._videoEl.addEventListener("loadeddata",p1J(this,this.onVideoLoadedData));this._videoEl.addEventListener("timeupdate",p1J(this,this.onVideoTimeUpdate));},onVideoLoadedData:function(I8G){this.handleJsTracks();},onVideoTimeUpdate:function(r8G){this._videoTimeUpdateCount++;var E8G=this._videoTimeUpdateCount;var y8G=4;if(m3y.gt((E8G<0?4294967296.0+E8G:E8G+0.0)%(y8G<0?4294967296.0+y8G:y8G+0.0)|0,0)){return;}this.handleJsTracks();},handleJsTracks:function(){var u3G=0;var X3G=this.getJsAvailTracks();while(u3G<X3G.length){var h3G=X3G[u3G];++u3G;this.handleTrackFound(h3G);}},getJsAvailTracks:function(){if(this.getVideoJsInstance().textTracks()==null){return[];}var D3G=this.getVideoJsInstance().textTracks();var C3G=[];var f3G=0;while(f3G<D3G.length){var w3G=D3G[f3G];++f3G;if(w3G.kind=="captions"){C3G.push(w3G);}}return C3G;},removeVideoListeners:function(Y3G){this._videoEl.removeEventListener("loadeddata",p1J(this,this.onVideoLoadedData));this._videoEl.removeEventListener("timeupdate",p1J(this,this.onVideoTimeUpdate));},getVideoJsInstance:function(){if(this._videoJs!=null){return this._videoJs;}var c3G=this._videoEl.parentElement.id;this._videoJs=videojs.getPlayers()[c3G];return this._videoJs;},notifyTrackAdded:function(R3G){var F3G=new V5J(R3G,true);this._events.trackAvailabilityChanged.dispatch(F3G);},init:function(){this.doInit();return this;},prune:function(U3G){this.doPrune(U3G.data);return this;},reset:function(){this.doReset();return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},enabled:function(){return this._enabled;},setEnabled:function(q3G){this._enabled=q3G;return this;},__class__:f9J};var P1y=function(){};O1J["com.turner.top.sdk.common.ads.engines.IAdEngine"]=P1y;P1y.__name__=["com","turner","top","sdk","common","ads","engines","IAdEngine"];P1y.prototype={_events:null,_config:null,_model:null,_ads:null,init:null,reset:null,requestAds:null,playAd:null,playAdById:null,playAdByType:null,pause:null,resume:null,mute:null,unmute:null,setVolume:null,resize:null,stop:null,destroy:null,setMediaState:null,setMediaTime:null,skipCreative:null,prune:null,events:null,config:null,model:null,ads:null,__class__:P1y};var f6J=e1J["com"]["turner"]["top"]["engines"]["ads"]["fw"]["FreeWheelAdEngine"]=function(l3G,G3G){this._events=new b5J();this._config=new z7J();this._model=new P8J();this._adManager=new tv.freewheel.SDK.AdManager();this._displayBase=l3G;this._videoEl=G3G;this._responses=[];this._ads=[];this._overlays=[];var o3G=0;var t3G=o3G;this._mediaTime=t3G;this._appliedConfigValues={};this._overlayConsumers=[];r8J.injectStyles();};O1J["com.turner.top.engines.ads.fw.FreeWheelAdEngine"]=f6J;f6J.__name__=["com","turner","top","engines","ads","fw","FreeWheelAdEngine"];f6J.__interfaces__=[P1y];f6J.prototype={_events:null,_config:null,_model:null,_appliedConfigValues:null,_adManager:null,_displayBase:null,_videoEl:null,_provider:null,_consumerFactory:null,_consumers:null,_consumer:null,_overlayConsumers:null,_responses:null,_ads:null,_overlays:null,_currentFwContext:null,_mediaTime:null,doInit:function(m3G){this._config.init(m3G);this._config.events().propertyChanged.listen(p1J(this,this.onAdConfigPropertyChanged));this._model.init();this._consumerFactory=new f3J(this._videoEl).init();this.syncFWLogLevel();I1J.events().configChanged.listen(p1J(this,this.onLogConfigChanged));},doReset:function(){f6J._logger.debug("[doReset] Resetting ad engine state");if(this.stopAndDestroyProvider(this._provider)){f6J._logger.debug("[doReset] Destroyed existing provider");this._currentFwContext=null;this._provider=null;}if(this.stopAndDestroyConsumer(this._consumer)){f6J._logger.debug("[doPlayAd] Destroyed existing consumer");this._consumer=null;}this._ads=[];this._overlays=[];},doRequestAds:function(b3G,K3G,g3G,P3G){if(this.stopAndDestroyProvider(this._provider)){f6J._logger.debug("[doRequestAds] Destroyed existing provider");this._provider=null;}this._config.clearTransientData().withModes([Q6J.Silent,Q6J.Transient],function(M3G){M3G.extend(g3G);});this.applyConfigToFwAdManager();if(K3G==null){K3G=[];}var N3G={config:this._config.toData(),mediaMetadata:P3G};var a3G={id:b3G,opportunities:K3G,context:N3G};this._provider=new O2J(this._adManager,this._displayBase,this._videoEl).init(a3G);this._model.setProviderModel(this._provider.model());this.addProviderListeners(this._provider);this._provider.sendRequest();},doPlayAd:function(L3G,v3G){var x3G=this;if(L3G==null){f6J._logger.warn("[doPlayAd] "+"Unable to find the requested ad break");var H3G=new j9J("Unable to find the requested ad break");x3G.notifyError(H3G);return;}if(L3G.slots.length==0){f6J._logger.warn("[doPlayAd] "+"The given ad break has no valid slots");var T3G=new j9J("The given ad break has no valid slots");x3G.notifyError(T3G);return;}if(this._ads.indexOf(L3G)==-1){f6J._logger.warn("[doPlayAd] "+"The given ad break is not valid");var d3G=new j9J("The given ad break is not valid");x3G.notifyError(d3G);return;}if(this.stopAndDestroyConsumer(this._consumer)){f6J._logger.debug("[doPlayAd] Destroyed existing consumer");this._consumer=null;}if(!L3G.persist){f6J._logger.debug("[doPlayAd] Non-persistent ad break. Removing from ad list");this._ads.splice(this._ads.indexOf(L3G),1);}this._consumer=this._consumerFactory.createForAdBreak(L3G);this.addVideoConsumerListeners(this._consumer);var O3G=this.getRequestContextForBreak(L3G);if(O3G==null){f6J._logger.error("[doPlayAd] Unable to retrieve request context for ad break: "+L3G.responseId);return;}this._consumer.init(L3G,O3G,v3G);this._model.setConsumerModel(this._consumer.model());this.setUpdatedConfigVolumeValue();this.setUpdatedConfigMuteValue();this._consumer.play();},doPlayAdById:function(Z3G,B3G){var p3G=function(W3G){return W3G.id==Z3G;};var V3G=this._ads.filter(p3G);this.doPlayAd(0<V3G.length?V3G[0]:null,B3G);},doPlayAdByType:function(e3G,n3G){var S3G=function(s3G){return s3G.type==e3G;};var z3G=this._ads.filter(S3G);this.doPlayAd(0<z3G.length?z3G[0]:null,n3G);},doPlayOverlayAd:function(J3G,I3G){var A3G=this._consumerFactory.createForAdBreak(J3G);var j3G={eventHandler:null,consumer:A3G};var k3G=p1J(this,this.onOverlayConsumerEvent);var i3G=j3G;j3G.eventHandler=function(E3G,y3G){k3G(i3G,E3G,y3G);};A3G.events().listen(j3G.eventHandler);var Q3G=this.getRequestContextForBreak(J3G);if(Q3G==null){f6J._logger.error("[doPlayOverlayAd] Unable to retrieve request context for ad break: "+J3G.responseId);return;}A3G.init(J3G,Q3G,I3G);if(!J3G.persist){f6J._logger.debug("[doPlayOverlayAd] Non-persistent ad break. Removing from overlay ad list");this._overlays.splice(this._overlays.indexOf(J3G),1);}A3G.play();this._overlayConsumers.push(j3G);},doPause:function(){if(this._consumer!=null){this._consumer.pause();}},doResume:function(){if(this._consumer!=null){this._consumer.resume();}},doMute:function(){if(this._consumer!=null){this._consumer.mute();}},doUnmute:function(){if(this._consumer!=null){this._consumer.unmute();}},doSetVolume:function(X5G){if(this._consumer!=null){var r3G=X5G;var u5G=r3G;this._consumer.setVolume(u5G);}},doResize:function(h5G,f5G){if(this._consumer!=null){this._consumer.resize(h5G,f5G);}},doStop:function(){if(this._provider!=null){if(this._provider.model().state()==k4J.Requesting){this._provider.cancel();}}if(this._consumer!=null){var D5G=this._model.state();switch(D5G[1]){case 0:case 6:case 7:case 8:f6J._logger.warn("[doStop] stop should not be called during "+d1J.string(this._model.state())+" state ");break;default:this._consumer.stop();}}},doDestroy:function(){if(this._provider!=null){this._currentFwContext=null;this._provider.destroy();}if(this._consumer!=null){this._consumer.destroy();}I1J.events().configChanged.unlisten(p1J(this,this.onLogConfigChanged));var C5G=0;var w5G=C5G;this._mediaTime=w5G;},doSetMediaState:function(Y5G){if(this._currentFwContext==null){f6J._logger.warn("[doSetMediaState] current FW context is null");return;}switch(Y5G[1]){case 2:f6J._logger.debug("[doSetMediaState] fw context video state playing");this._currentFwContext.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PLAYING);break;case 8:case 9:case 10:f6J._logger.debug("[doSetMediaState] fw context video state completed");this._currentFwContext.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED);break;default:}},doSkipCreative:function(){if(this._consumer!=null){this._consumer.skipCreative();}},onLogConfigChanged:function(c5G){this.syncFWLogLevel();},syncFWLogLevel:function(){var R5G=I1J.data();var F5G=tv.freewheel.SDK.LOG_LEVEL_QUIET;var U5G=R5G.enabled;var q5G=R5G.levels.verbose;if(U5G&&!q5G){F5G=tv.freewheel.SDK.LOG_LEVEL_INFO;}if(U5G&&q5G){F5G=tv.freewheel.SDK.LOG_LEVEL_DEBUG;}f6J._logger.info("[syncFWLogLevel] setting FW SDK log level to: "+F5G);tv.freewheel.SDK.setLogLevel(F5G);},doSetMediaTime:function(o5G){this._mediaTime=o5G;if(this._overlays.length>0){this.handleOverlayAds();}},doPrune:function(t5G){if(t5G.pruneType==T2J.Sliding_Window_Change){this.pruneOutOfWindowAdDataBefore(t5G.data.minTime);}},pruneOutOfWindowAdDataBefore:function(N5G){var l5G=this;f6J._logger.debug("[pruneOutOfWindowAdDataBefore] Pruning out of window ad data.");var G5G=this._ads.length;var m5G=this._overlays.length;var K5G=this._responses.length;this._responses=this._responses.filter(function(g5G){var a5G=[];var b5G=0;var x5G=l5G._ads;while(b5G<x5G.length){var M5G=x5G[b5G];++b5G;if(M5G.responseId==g5G.id){a5G.push(M5G);}}var P5G=0;var O5G=l5G._overlays;while(P5G<O5G.length){var H5G=O5G[P5G];++P5G;if(H5G.responseId==g5G.id){a5G.push(H5G);}}var T5G=a5G.filter(function(d5G){return d5G.time<=N5G;});var L5G=a5G.length>0&&a5G.length==T5G.length;if(L5G){l5G._ads=l5G._ads.filter(function(v5G){return v5G.responseId!=g5G.id;});l5G._overlays=l5G._overlays.filter(function(V5G){return V5G.responseId!=g5G.id;});}return!L5G;});f6J._logger.debug("[pruneOutOfWindowAdDataBefore] Pruned:\n            - "+(G5G-this._ads.length)+" ads,\n            - "+(m5G-this._overlays.length)+" overlays\n            - "+(K5G-this._responses.length)+" responses.");},applyConfigToFwAdManager:function(){if(this._config.networkId!=null){this._adManager.setNetwork(d1J.string(this._config.networkId()));}if(this._config.serverBaseUrl!=null){this._adManager.setServer(this._config.serverBaseUrl());}},handleOverlayAds:function(){var p5G=0;var Z5G=this._overlays;while(p5G<Z5G.length){var B5G=Z5G[p5G];++p5G;var W5G=B5G.slots;var z5G=0<W5G.length?W5G[0]:{custom:{fwSlot:{}}};var S5G=z5G.custom.fwSlot.getTimePosition();if(this._mediaTime>=S5G){this.doPlayOverlayAd(B5G);}}},onAdConfigPropertyChanged:function(e5G){f6J._logger.debug("[onAdConfigPropertyChanged] "+d1J.string(e5G.property)+": "+d1J.string(e5G.oldValue)+" -> "+d1J.string(e5G.currentValue));var n5G=e5G.property;switch(n5G[1]){case 0:this.setUpdatedConfigVolumeValue();break;case 1:this.setUpdatedConfigMuteValue();break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:break;}},setUpdatedConfigVolumeValue:function(){var s5G=this.calculateAppliedVolume();if(s5G==null){return;}var J5G=s5G;var A5G=J5G;this._appliedConfigValues.volume=A5G;this.doSetVolume(s5G);},setUpdatedConfigMuteValue:function(){var j5G=this._config.muted();if(j5G==null){return;}this._appliedConfigValues.muted=j5G;if(j5G){this.doMute();}else{this.doUnmute();}},calculateAppliedVolume:function(){var k5G=this._config.volume();var Q5G=null;if(k5G<0){f6J._logger.warn("[calculateAppliedVolume] Video volume must be between 0 and 1. Clamping to 0.");Q5G=0;}else if(k5G>1){f6J._logger.warn("[calculateAppliedVolume] Video volume must be between 0 and 1. Clamping to 0.");Q5G=1;}else{Q5G=k5G;}return Q5G;},getRequestContextForBreak:function(y5G){var i5G=y5G.responseId;var I5G=this._responses.filter(function(r5G){return i5G==r5G.id;});if(I5G.length==0){f6J._logger.error("[getRequestContextForBreak] There are no responses for the ad break id: "+i5G);return null;}else{var E5G=I5G[0];if(E5G.context==null){f6J._logger.error("[getRequestContextForBreak] The context for the "+i5G+" does not exist.");return null;}else{return E5G.context;}}},addProviderListeners:function(u0S){u0S.events().listen(p1J(this,this.onProviderEvent));},onProviderEvent:function(C0S,X0S){switch(C0S[1]){case 0:f6J._logger.debug("[onProviderEvent] "+d1J.string(C0S)+", result: "+d1J.string(X0S));this.notifyRequestStateChanged(X0S);break;case 1:var w0S=X0S;this._currentFwContext=w0S.request.context.custom.fwContext;this.notifyRequesting(w0S);break;case 2:var h0S=X0S;this._responses.push({id:h0S.response.id,context:h0S.response.context});var f0S=0;var Y0S=h0S.response.breaks;while(f0S<Y0S.length){var D0S=Y0S[f0S];++f0S;var c0S=D0S.type;if(c0S[1]==3){this._overlays.push(D0S);}else{this._ads.push(D0S);}}this.notifyRequestCompleted(h0S);break;case 3:this.notifyRequestCanceled(X0S);break;case 4:f6J._logger.warn("[onProviderEvent] "+d1J.string(C0S)+", result: "+d1J.string(X0S));this.notifyRequestError(X0S);break;default:}},removeProviderListeners:function(F0S){F0S.events().unlisten(p1J(this,this.onProviderEvent));},stopAndDestroyProvider:function(R0S){if(R0S!=null){if(R0S.model().state()==k4J.Requesting){R0S.cancel();}this.removeProviderListeners(R0S);this._currentFwContext=null;R0S.destroy();return true;}return false;},addVideoConsumerListeners:function(U0S){U0S.events().listen(p1J(this,this.onVideoConsumerEvent));},onVideoConsumerEvent:function(o0S,q0S){if(o0S!=s1J.Time_Changed){f6J._logger.debug("[onConsumerEvent] type: "+d1J.string(o0S)+", result: "+d1J.string(q0S));}switch(o0S[1]){case 0:case 1:case 2:case 3:case 4:break;case 5:this.notifyStateChanged(q0S);break;case 6:this.notifyStarting(q0S);break;case 7:this.notifyBlocked(q0S);break;case 8:this.notifyLoaded(q0S);break;case 9:this.notifySlotStarted(q0S);break;case 10:this.notifyCreativeStarted(q0S);break;case 11:this.notifyStarted(q0S);break;case 12:this.notifyTimeChanged(q0S);break;case 13:this.notifyPaused(q0S);break;case 14:this.notifyResumed(q0S);break;case 15:this.notifyVolumeChanged(q0S);break;case 16:this.notifyMuteChanged(q0S);break;case 17:this.notifyStopped(q0S);break;case 18:this.notifyCreativeEnded(q0S);break;case 19:this.notifySlotEnded(q0S);break;case 20:this.notifyFinished(q0S);break;case 21:this.notifyError(q0S);break;}},removeVideoConsumerListeners:function(t0S){t0S.events().unlisten(p1J(this,this.onVideoConsumerEvent));},stopAndDestroyConsumer:function(l0S){if(l0S==null){return false;}var G0S=l0S.model().state();switch(G0S[1]){case 6:case 7:case 8:f6J._logger.debug("[stopAndDestroyConsumer] ignoring stop request, consumer state is "+d1J.string(G0S));break;default:f6J._logger.debug("[stopAndDestroyConsumer] stopping consumer, consumer state is "+d1J.string(G0S));l0S.stop();}this.removeVideoConsumerListeners(l0S);l0S.destroy();return true;},onOverlayConsumerEvent:function(m0S,K0S,N0S){f6J._logger.debug("[onOverlayConsumerEvent] type: "+d1J.string(K0S)+", result: "+d1J.string(N0S));switch(K0S[1]){case 17:case 20:m0S.consumer.events().unlisten(m0S.eventHandler);m0S.consumer.stop();m0S.consumer.destroy();m0S.consumer=null;Y4J.remove(this._overlayConsumers,m0S);break;default:f6J._logger.debug("[onOverlayConsumerEvent] unhandled event type: "+d1J.string(K0S)+", result: "+d1J.string(N0S));}},notifyRequestStateChanged:function(a0S){this._events.requestStateChanged.dispatch(a0S);},notifyRequesting:function(b0S){this._events.requesting.dispatch(b0S);},notifyRequestCompleted:function(g0S){this._events.requestCompleted.dispatch(g0S);},notifyRequestCanceled:function(P0S){this._events.requestCanceled.dispatch(P0S);},notifyRequestError:function(M0S){this._events.requestError.dispatch(M0S);},notifyStateChanged:function(L0S){this._events.stateChanged.dispatch(L0S);},notifyStarting:function(x0S){this._events.starting.dispatch(x0S);},notifyBlocked:function(O0S){this._events.blocked.dispatch(O0S);},notifyLoaded:function(H0S){this._events.loaded.dispatch(H0S);},notifySlotStarted:function(T0S){this._events.slotStarted.dispatch(T0S);},notifyStarted:function(d0S){this._events.started.dispatch(d0S);},notifyCreativeStarted:function(v0S){this._events.creativeStarted.dispatch(v0S);},notifyTimeChanged:function(V0S){this._events.timeChanged.dispatch(V0S);},notifyPaused:function(p0S){this._events.paused.dispatch(p0S);},notifyResumed:function(Z0S){this._events.resumed.dispatch(Z0S);},notifyVolumeChanged:function(B0S){this._events.volumeChanged.dispatch(B0S);},notifyMuteChanged:function(W0S){this._events.muteChanged.dispatch(W0S);},notifyStopped:function(z0S){this._events.stopped.dispatch(z0S);},notifyCreativeEnded:function(S0S){this._events.creativeEnded.dispatch(S0S);},notifySlotEnded:function(e0S){this._events.slotEnded.dispatch(e0S);},notifyFinished:function(n0S){this._events.finished.dispatch(n0S);},notifyError:function(s0S){this._events.error.dispatch(s0S);},init:function(J0S){this.doInit(J0S);return this;},reset:function(){this.doReset();return this;},requestAds:function(A0S,j0S,Q0S,k0S){this.doRequestAds(A0S,j0S,Q0S,k0S);return this;},playAd:function(i0S,I0S){this.doPlayAd(i0S,I0S);return this;},playAdById:function(E0S,y0S){this.doPlayAdById(E0S,y0S);return this;},playAdByType:function(r0S,u1S){this.doPlayAdByType(r0S,u1S);return this;},pause:function(){this.doPause();return this;},resume:function(){this.doResume();return this;},mute:function(){this.doMute();return this;},unmute:function(){this.doUnmute();return this;},setVolume:function(X1S){this.doSetVolume(X1S);return this;},resize:function(h1S,f1S){this.doResize(h1S,f1S);return this;},stop:function(){this.doStop();return this;},destroy:function(){this.doDestroy();},setMediaState:function(D1S){this.doSetMediaState(D1S);return this;},setMediaTime:function(C1S){this.doSetMediaTime(C1S);return this;},skipCreative:function(){this.doSkipCreative();},prune:function(w1S){this.doPrune(w1S);},events:function(){return this._events;},config:function(){return this._config;},model:function(){return this._model;},ads:function(){return this._ads;},overlays:function(){return this._overlays;},__class__:f6J};var r8J=function(){};O1J["com.turner.top.engines.ads.fw.FreeWheelAdStyles"]=r8J;r8J.__name__=["com","turner","top","engines","ads","fw","FreeWheelAdStyles"];r8J.injectStyles=function(){if(r8J._injected){return;}Z7J.injectStyleText(r8J._overrideStyles,"top-styles-ad-fw-overrides");r8J._injected=true;};var v5y=function(){};O1J["com.turner.top.sdk.common.ads.consumers.IAdConsumerFactory"]=v5y;v5y.__name__=["com","turner","top","sdk","common","ads","consumers","IAdConsumerFactory"];v5y.prototype={init:null,createForAdBreak:null,__class__:v5y};var f3J=function(Y1S){this._consumerCreators=[];this._videoEl=Y1S;};O1J["com.turner.top.engines.ads.fw.consumers.FreeWheelAdConsumerFactory"]=f3J;f3J.__name__=["com","turner","top","engines","ads","fw","consumers","FreeWheelAdConsumerFactory"];f3J.__interfaces__=[v5y];f3J.prototype={_consumerCreators:null,_videoEl:null,doInit:function(c1S){this._consumerCreators=c1S==null?this.createDefaultConsumerCreators():c1S;},createDefaultConsumerCreators:function(){var F1S=this;var R1S={accepts:function(o1S){var q1S=o1S.type;switch(q1S[1]){case 0:case 1:case 2:return true;default:return false;}},create:function(){return new X6J(F1S._videoEl);}};var U1S={accepts:function(t1S){return t1S.type==g4J.Overlay;},create:function(){return new p2J();}};return[R1S,U1S];},doCreateForAdBreak:function(K1S){var l1S=0;var G1S=this._consumerCreators;while(l1S<G1S.length){var m1S=G1S[l1S];++l1S;if(m1S.accepts(K1S)){return m1S.create();}}return null;},init:function(N1S){this.doInit(N1S);return this;},createForAdBreak:function(a1S){return this.doCreateForAdBreak(a1S);},__class__:f3J};var E5J=function(){};O1J["com.turner.top.sdk.common.ads.consumers.IAdConsumer"]=E5J;E5J.__name__=["com","turner","top","sdk","common","ads","consumers","IAdConsumer"];E5J.prototype={_events:null,_model:null,init:null,play:null,pause:null,resume:null,stop:null,mute:null,unmute:null,setVolume:null,resize:null,destroy:null,skipCreative:null,events:null,model:null,__class__:E5J};var p2J=function(){this._events=new O3J();};O1J["com.turner.top.engines.ads.fw.consumers.FreeWheelOverlayAdConsumer"]=p2J;p2J.__name__=["com","turner","top","engines","ads","fw","consumers","FreeWheelOverlayAdConsumer"];p2J.__interfaces__=[E5J];p2J.prototype={_events:null,_model:null,_stateHandler:null,_adBreak:null,_adContext:null,_currentSlotIndex:null,_currentSlot:null,_impressionCount:null,doInit:function(g1S,P1S,M1S){this._adBreak=g1S;this._adContext=P1S;this._currentSlotIndex=-1;this._currentSlot=null;this._impressionCount=0;var b1S=new X7J().init(null);this._stateHandler=new o8J().init(b1S,new q8J().init(b1S),new R8J().init(this._events));this._model=b1S;},doPlay:function(){this.setFwContextListeners(true);this.attemptToPlayNextSlot();},doStop:function(){if(!this.hasCurrentSlot()){return;}this.setFwContextListeners(false);this.doFwSlotStop();this.notifyStopped();},doDestroy:function(){this.setFwContextListeners(false);},doSkipCurrentCreative:function(){this.getFwSlot().skipCurrentAd();},attemptToPlayNextSlot:function(){this.assignNextSlot();if(!this.hasCurrentSlot()){return;}if(this.isFirstSlot()){this.notifyStarting();}this.playCurrentSlot();},hasCurrentSlot:function(){return this._currentSlot!=null;},assignNextSlot:function(){this._currentSlotIndex++;var x1S=this._adBreak.slots;var L1S=this._currentSlotIndex;this._currentSlot=L1S>-1&&L1S<x1S.length?x1S[L1S]:null;},playCurrentSlot:function(){this.getFwSlot().play();},isFirstSlot:function(){return this._currentSlotIndex==0;},isFirstImpression:function(){return this._impressionCount==0;},isLastSlot:function(){return this._currentSlotIndex==this._adBreak.slots.length-1;},checkAdEvent:function(v1S){var O1S=v1S.slot;var H1S=this.getFwSlot();var T1S=O1S.getCustomId()==H1S.getCustomId();var d1S=O1S.getTimePositionClass()==H1S.getTimePositionClass();if(T1S){return d1S;}else{return false;}},getFwContext:function(){return this._adContext.custom.fwContext;},getFwSlot:function(){return this._currentSlot.custom.fwSlot;},getFwSlotDuration:function(){return this.getFwSlot().getTotalDuration();},doFwSlotStop:function(){this.getFwSlot().stop();},setFwContextListeners:function(Z1S){var V1S=this.getFwContext();var p1S=Z1S?p1J(V1S,V1S.addEventListener):p1J(V1S,V1S.removeEventListener);p1S(tv.freewheel.SDK.EVENT_SLOT_STARTED,p1J(this,this.onSlotStarted));p1S(tv.freewheel.SDK.EVENT_AD,p1J(this,this.onAdEvent));p1S(tv.freewheel.SDK.EVENT_SLOT_ENDED,p1J(this,this.onSlotEnded));},onSlotStarted:function(B1S){if(!this.checkAdEvent(B1S)){return;}p2J._logger.debug("[onSlotStarted] event: "+d1J.string(B1S));if(this.isFirstSlot()){var W1S=this.getFwSlotDuration();var z1S=W1S;this.notifyLoaded(z1S);}},onAdEvent:function(S1S){if(!this.checkAdEvent(S1S)){return;}p2J._logger.info("[onAdEvent] type "+d1J.string(S1S.type)+", subType: "+d1J.string(S1S.subType));var e1S=S1S.subType;switch(e1S){case tv.freewheel.SDK.EVENT_AD_COMPLETE:p2J._logger.info("[onAdEvent] complete");break;case tv.freewheel.SDK.EVENT_AD_FIRST_QUARTILE:p2J._logger.info("[onAdEvent] first quartile");break;case tv.freewheel.SDK.EVENT_AD_IMPRESSION:p2J._logger.info("[onAdEvent] ad impression");this._stateHandler.handleCreativeStarted();this._impressionCount++;break;case tv.freewheel.SDK.EVENT_AD_IMPRESSION_END:this._stateHandler.handleCreativeEnded();break;case tv.freewheel.SDK.EVENT_AD_MIDPOINT:p2J._logger.info("[onAdEvent] midpoint");break;case tv.freewheel.SDK.EVENT_AD_THIRD_QUARTILE:p2J._logger.info("[onAdEvent] third quartile");break;case tv.freewheel.SDK.EVENT_ERROR:p2J._logger.info("[onAdEvent] error: "+d1J.string(S1S.errorInfo));break;default:p2J._logger.warn("[onAdEvent] unhandled FW event - type: "+d1J.string(S1S.type)+", subType: "+d1J.string(S1S.subType));}},onSlotEnded:function(n1S){if(!this.checkAdEvent(n1S)){return;}p2J._logger.debug("[onSlotEnded] event: "+d1J.string(n1S));this._stateHandler.handleSlotEnded();if(this.isLastSlot()){this.setFwContextListeners(false);this.notifyFinished();}},notifyStarting:function(){this._stateHandler.handleStarting(this._adBreak);},notifyLoaded:function(j1S){var s1S=0;var J1S=s1S;var A1S=J1S;this._stateHandler.handleLoaded(j1S,A1S);},notifyStarted:function(){this._stateHandler.handleStarted();},notifyStopped:function(){this._stateHandler.handleStopped();},notifyFinished:function(){this._stateHandler.handleFinished();},init:function(Q1S,k1S,i1S){this.doInit(Q1S,k1S,i1S);return this;},play:function(){this.doPlay();return this;},pause:function(){return this;},resume:function(){return this;},stop:function(){this.doStop();return this;},mute:function(){return this;},unmute:function(){return this;},setVolume:function(I1S){return this;},resize:function(E1S,y1S){return this;},skipCreative:function(){this.doSkipCurrentCreative();return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},model:function(){return this._model;},__class__:p2J};var X6J=function(r1S){this._events=new O3J();this._videoEl=r1S;this._isSkipping=false;this._adAutoplayBlockedHandled=false;this._lastPlayhead=0;this._lastDuration=0;};O1J["com.turner.top.engines.ads.fw.consumers.FreeWheelVideoAdConsumer"]=X6J;X6J.__name__=["com","turner","top","engines","ads","fw","consumers","FreeWheelVideoAdConsumer"];X6J.__interfaces__=[E5J];X6J.prototype={_events:null,_model:null,_stateHandler:null,_adBreak:null,_adContext:null,_currentSlotIndex:null,_currentSlot:null,_impressionCount:null,_playheadTimer:null,_isPaused:null,_requestedMuteValue:null,_requestedVolumeValue:null,_playConfig:null,_videoEl:null,_isSkipping:null,_adAutoplayBlockedHandled:null,_lastPlayhead:null,_lastDuration:null,doInit:function(f4S,D4S,C4S){this._adBreak=f4S;this._adContext=D4S;this._currentSlotIndex=-1;this._currentSlot=null;this._impressionCount=0;this._requestedMuteValue=null;this._requestedVolumeValue=null;var u4S=new X7J().init(null);this._model=u4S;var X4S=new q8J().init(u4S);var h4S=new R8J().init(this._events);this._stateHandler=new o8J().init(u4S,X4S,h4S);this._isPaused=false;this._playConfig=C4S;},doPlay:function(){this.getFwContext().setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT,999999,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);this.getFwContext().setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,false,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);this.addFwContextListeners();this.addVideoListeners();this.attemptToPlayNextSlot();},doPause:function(){if(this._currentSlot!=null){this.doFwSlotPause();}},doResume:function(){if(this._currentSlot!=null){this.doFwSlotResume();}},doMute:function(){this._requestedMuteValue=true;if(this._currentSlot==null){return;}this.doFwSlotMute();},doUnmute:function(){this._requestedMuteValue=false;if(this._currentSlot==null){return;}this.doFwSlotUnmute();},doSetVolume:function(w4S){this._requestedVolumeValue=w4S;if(this._currentSlot==null){return;}this.doFwSlotSetVolume(w4S);},doResize:function(Y4S,c4S){if(this._currentSlot!=null){this.doFwSlotResize(Y4S,c4S);}},doStop:function(){if(this._currentSlot!=null){this.removeFwContextListeners();this.removeVideoListeners();this.doFwSlotStop();this.notifyStopped();}},doDestroy:function(){this.removeFwContextListeners();this.removeVideoListeners();},attemptToPlayNextSlot:function(){this.assignNextSlot();if(this._currentSlot!=null){X6J._logger.info("[attemptToPlayNextSlot] ensuring expected audio state");this.processRequestedAudioState();if(this.isFirstSlot()){this.notifyStarting();}this.playCurrentSlot();}},assignNextSlot:function(){this._currentSlotIndex++;var F4S=this._adBreak.slots;var R4S=this._currentSlotIndex;this._currentSlot=!Object.prototype.hasOwnProperty.call(F4S,R4S)?null:Z1J.field(F4S,R4S);},playCurrentSlot:function(){this.getFwSlot().play();},isFirstSlot:function(){return this._currentSlotIndex==0;},isLastSlot:function(){return this._currentSlotIndex==this._adBreak.slots.length-1;},checkAdEvent:function(U4S){if(U4S.slot.getCustomId()==this.getFwSlot().getCustomId()){return U4S.slot.getTimePositionClass()==this.getFwSlot().getTimePositionClass();}else{return false;}},doSkipCurrentCreative:function(){this._isSkipping=true;this.getFwSlot().skipCurrentAd();},getFwContext:function(){return this._adContext.custom.fwContext;},getFwSlot:function(){return this._currentSlot.custom.fwSlot;},getFwSlotPlayhead:function(){return this.getFwSlot().getPlayheadTime();},getFwSlotDuration:function(){var q4S=null;try{q4S=this.getFwSlot().getTotalDuration();}catch(o4S){if(o4S instanceof j1J)o4S=o4S.val;X6J._logger.warn("[getFwSlotDuration] Unable to get slot duration - "+d1J.string(o4S));}return q4S;},getFwSlotVolume:function(){return this._videoEl.volume;},getFwCurrentAdInstance:function(){return this.getFwSlot().getCurrentAdInstance();},getFwRendererController:function(){if(this.getFwCurrentAdInstance()!=null){return this.getFwCurrentAdInstance().getRendererController();}return null;},getFwContentVideoElement:function(){if(this.getFwRendererController()!=null){return this.getFwRendererController().getContentVideoElement();}return this._videoEl;},doFwSlotStop:function(){this.getFwSlot().stop();},doFwSlotPause:function(){this.getFwContentVideoElement().pause();},doFwSlotResume:function(){this.getFwContentVideoElement().play();},doFwSlotMute:function(t4S){this.getFwContentVideoElement().muted=true;if(t4S==false){return;}this.notifyMuted(true);},doFwSlotUnmute:function(l4S){this.getFwContentVideoElement().muted=false;if(l4S==false){return;}this.notifyMuted(false);},doFwSlotSetVolume:function(G4S,m4S){this.getFwContentVideoElement().volume=G4S;if(m4S==false){return;}this.notifyVolumeChanged(G4S);},doFwSlotResize:function(N4S,a4S){var K4S=this.getFwContentVideoElement();K4S.style.width=""+N4S+"px";K4S.style.height=""+a4S+"px";},addFwContextListeners:function(){this.getFwContext().addEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,p1J(this,this.onSlotStarted));this.getFwContext().addEventListener(tv.freewheel.SDK.EVENT_AD,p1J(this,this.onAdEvent));this.getFwContext().addEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,p1J(this,this.onSlotEnded));},addVideoListeners:function(){var P4S=this._videoEl;var b4S=0;var g4S=X6J.VIDEO_EVENTS;while(b4S<g4S.length){var M4S=g4S[b4S];++b4S;P4S.addEventListener(M4S,p1J(this,this.onVideoEvent));}},onVideoEvent:function(x4S){X6J._logger.verbose("[onVideoEvent] event,type: "+x4S.type+" ");var O4S=x4S.type;switch(O4S){case"pause":var L4S=this.getFwContentVideoElement();if(L4S.currentTime>=L4S.duration){X6J._logger.info("[onVideoEvent] end of ad; skipping pause notification\n\tcurrentTime: "+this.getFwContentVideoElement().currentTime+"\n\tduration: "+this.getFwContentVideoElement().duration);}else{this._isPaused=true;this.notifyPaused();}break;case"play":if(this._isPaused){this._isPaused=false;this.notifyResumed();}else{X6J._logger.info("[onVideoEvent] play - enforcing expected audio state silently");this.processRequestedAudioState(false);}break;case"volumechange":X6J._logger.info("[onVideoEvent] volume or muted changed, enforcing requested audio state silently");this.processRequestedAudioState(false);break;}},onSlotStarted:function(H4S){if(!this.checkAdEvent(H4S)){return;}X6J._logger.debug("[onSlotStarted] event: "+d1J.string(H4S));if(this.isFirstSlot()){var T4S=this.getFwSlotDuration();var d4S=T4S;var v4S=this.getFwSlotVolume();var V4S=v4S;this.notifyLoaded(d4S,V4S);this.notifyStarted();}this._stateHandler.handleSlotStarted();},onAdEvent:function(p4S){if(!this.checkAdEvent(p4S)){return;}X6J._logger.verbose("[onAdEvent] type: "+d1J.string(p4S.type)+", subType: "+d1J.string(p4S.subType));var Z4S=p4S.subType;switch(Z4S){case tv.freewheel.SDK.EVENT_AD_AUTO_PLAY_BLOCKED:this.onAdAutoplayBlocked(p4S);break;case tv.freewheel.SDK.EVENT_AD_COMPLETE:X6J._logger.info("[onAdEvent] complete");break;case tv.freewheel.SDK.EVENT_AD_FIRST_QUARTILE:X6J._logger.info("[onAdEvent] first quartile");break;case tv.freewheel.SDK.EVENT_AD_IMPRESSION:X6J._logger.info("[onAdEvent] ad impression");if(this.maxDurationExceeded(p4S.adInstance.getDuration())){X6J._logger.info("[onAdEvent] ad impression - maximum duration exceeded - playhead: "+this.getFwSlotPlayhead()+" max: "+this._playConfig.maxDuration);this.removeFwContextListeners();Z2J.delay(p1J(this,this.onMaxDurationExceeded),0);return;}X6J._logger.info("[onAdEvent] ad impression - ensuring expected audio state silently");this.processRequestedAudioState(false);this._stateHandler.handleCreativeStarted();this._impressionCount++;this._isSkipping=false;break;case tv.freewheel.SDK.EVENT_AD_IMPRESSION_END:this._stateHandler.handleCreativeEnded();break;case tv.freewheel.SDK.EVENT_AD_MIDPOINT:X6J._logger.info("[onAdEvent] midpoint");break;case tv.freewheel.SDK.EVENT_AD_THIRD_QUARTILE:X6J._logger.info("[onAdEvent] third quartile");break;case tv.freewheel.SDK.EVENT_ERROR:this.onAdError(p4S);break;default:X6J._logger.warn("[onAdEvent] unhandled FW event - type: "+d1J.string(p4S.type)+", subType: "+d1J.string(p4S.subType));}},onAdError:function(B4S){var W4S=B4S.errorInfo;var z4S=W4S.indexOf("user interaction")>-1;X6J._logger.info("[onAdEvent] error: "+d1J.string(B4S.errorInfo));if(z4S){X6J._logger.info("[onAdEvent] error is detected as an autoplay error, handling as such..");this.onAdAutoplayBlocked(B4S);}},onAdAutoplayBlocked:function(S4S){if(this._adAutoplayBlockedHandled){X6J._logger.info("[onAdAutoplayBlocked] already handled, returning early");return;}X6J._logger.info("[onAdAutoplayBlocked] - autoplay blocked");if(this._isSkipping){X6J._logger.info("[onAdAutoplayBlocked] - already in the process of skipping the ad, ignoring");this._isSkipping=false;}else{X6J._logger.info("[onAdAutoplayBlocked] - surfacing error");this._adAutoplayBlockedHandled=true;this.notifyBlocked("The EVENT_AD_AUTO_PLAY_BLOCKED was fired.");}},processRequestedAudioState:function(e4S){if(this._currentSlot==null){X6J._logger.info("[processRequestedAudioState] no slot loaded yet");return;}if(this._requestedVolumeValue!=null){X6J._logger.info("[processRequestedAudioState] setting volume to "+this._requestedVolumeValue);this.doFwSlotSetVolume(this._requestedVolumeValue,e4S);}if(this._requestedMuteValue!=null){X6J._logger.info("[processRequestedAudioState] setting muted to "+d1J.string(this._requestedMuteValue));if(this._requestedMuteValue==true){this.doFwSlotMute(e4S);}else{this.doFwSlotUnmute(e4S);}}},onSlotEnded:function(n4S){if(!this.checkAdEvent(n4S)){return;}X6J._logger.debug("[onSlotEnded] event: "+d1J.string(n4S));this._stateHandler.handleSlotEnded();this._lastPlayhead=0;this._lastDuration=0;if(this.isLastSlot()){this.removeFwContextListeners();this.notifyFinished();}},removeFwContextListeners:function(){this.getFwContext().removeEventListener(tv.freewheel.SDK.EVENT_SLOT_STARTED,p1J(this,this.onSlotStarted));this.getFwContext().removeEventListener(tv.freewheel.SDK.EVENT_AD,p1J(this,this.onAdEvent));this.getFwContext().removeEventListener(tv.freewheel.SDK.EVENT_SLOT_ENDED,p1J(this,this.onSlotEnded));},removeVideoListeners:function(){var A4S=this._videoEl;var s4S=0;var J4S=X6J.VIDEO_EVENTS;while(s4S<J4S.length){var j4S=J4S[s4S];++s4S;A4S.removeEventListener(j4S,p1J(this,this.onVideoEvent));}},notifyStarting:function(){this._stateHandler.handleStarting(this._adBreak);},notifyBlocked:function(Q4S){this._stateHandler.handleBlocked(Q4S);},notifyLoaded:function(k4S,i4S){this._stateHandler.handleLoaded(k4S,i4S);},notifyStarted:function(){this._stateHandler.handleStarted();this.enableTimeUpdates();},notifyTimeChanged:function(I4S,E4S){this._stateHandler.handleTimeChanged(I4S,E4S);},notifyPaused:function(){this._stateHandler.handlePaused();this.disableTimeUpdates();},notifyResumed:function(){this._stateHandler.handleResumed();this.enableTimeUpdates();},notifyMuted:function(y4S){this._stateHandler.handleMuteChanged(y4S);},notifyVolumeChanged:function(r4S){this._stateHandler.handleVolumeChanged(r4S);},notifyStopped:function(){this._stateHandler.handleStopped();this.disableTimeUpdates();},notifyFinished:function(){this._stateHandler.handleFinished();this.disableTimeUpdates();},notifyError:function(u6S){this._stateHandler.handleError(u6S);this.disableTimeUpdates();},enableTimeUpdates:function(){this._playheadTimer=new Z2J(X6J.DEFAULT_TIME_UPDATE_INTERVAL);this._playheadTimer.run=p1J(this,this.onTimeUpdate);},onTimeUpdate:function(){var X6S=this.getFwSlotPlayhead();var h6S=this.getFwSlotDuration();var f6S=this._lastPlayhead!=X6S||this._lastDuration!=h6S;if(!f6S){return;}this._lastPlayhead=X6S;this._lastDuration=h6S;var D6S=X6S;var C6S=D6S;var w6S=h6S;var Y6S=w6S;this.notifyTimeChanged(C6S,Y6S);},disableTimeUpdates:function(){if(this._playheadTimer!=null){this._playheadTimer.stop();}},maxDurationExceeded:function(q6S){if(this._playConfig==null||this._playConfig.maxDuration==null){return false;}var c6S=this._playConfig.maxDuration;var F6S=this._playConfig;var U6S=!Object.prototype.hasOwnProperty.call(F6S,"maxDurationMode")?a9J.Normal:Z1J.field(F6S,"maxDurationMode");var R6S=this.getFwSlotPlayhead();switch(U6S[1]){case 0:return R6S>=c6S;case 1:return R6S+q6S>=c6S;}},onMaxDurationExceeded:function(){X6J._logger.info("[onMaxDurationExceeded] Max duration exceeded, finishing cleanup");this.removeVideoListeners();this.doFwSlotStop();this.notifyFinished();},init:function(o6S,t6S,l6S){this.doInit(o6S,t6S,l6S);return this;},play:function(){this.doPlay();return this;},pause:function(){this.doPause();return this;},resume:function(){this.doResume();return this;},stop:function(){this.doStop();return this;},mute:function(){this.doMute();return this;},unmute:function(){this.doUnmute();return this;},setVolume:function(G6S){this.doSetVolume(G6S);return this;},resize:function(m6S,K6S){this.doResize(m6S,K6S);return this;},skipCreative:function(){this.doSkipCurrentCreative();return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},model:function(){return this._model;},__class__:X6J};var A9J=function(){};O1J["com.turner.top.engines.ads.fw.converters.FreeWheelConverter"]=A9J;A9J.__name__=["com","turner","top","engines","ads","fw","converters","FreeWheelConverter"];A9J.apiToEngineOpportunity=function(N6S){var g6S=N6S.id;var a6S;switch(N6S.type[1]){case 0:a6S=tv.freewheel.SDK.ADUNIT_PREROLL;break;case 1:a6S=tv.freewheel.SDK.ADUNIT_MIDROLL;break;case 2:a6S=tv.freewheel.SDK.ADUNIT_POSTROLL;break;case 3:a6S=tv.freewheel.SDK.ADUNIT_OVERLAY;break;}var b6S=N6S.acceptContentTypes;return{customId:g6S,adUnit:a6S,timePosition:N6S.time,slotProfile:null,minDuration:N6S.minDuration,maxDuration:N6S.maxDuration,cuepointSequence:N6S.cuepointSequence,acceptContentType:b6S.length==0?null:b6S.join(",")};};A9J.engineToApiOpportunity=function(P6S){var M6S;switch(P6S.adUnit){case tv.freewheel.SDK.ADUNIT_MIDROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:M6S=g4J.Midroll;break;case tv.freewheel.SDK.ADUNIT_OVERLAY:case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:M6S=g4J.Overlay;break;case tv.freewheel.SDK.ADUNIT_POSTROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:M6S=g4J.Postroll;break;case tv.freewheel.SDK.ADUNIT_PREROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:M6S=g4J.Preroll;break;default:M6S=null;}var L6S=P6S.acceptContentType;return{id:P6S.customId,type:M6S,time:P6S.timePosition,minDuration:P6S.minDuration,maxDuration:P6S.maxDuration,cuepointSequence:P6S.cuepointSequence,acceptContentTypes:L6S==null?[]:L6S.split(",")};};A9J.apiToEngineAdType=function(x6S){switch(x6S[1]){case 0:return tv.freewheel.SDK.ADUNIT_PREROLL;case 1:return tv.freewheel.SDK.ADUNIT_MIDROLL;case 2:return tv.freewheel.SDK.ADUNIT_POSTROLL;case 3:return tv.freewheel.SDK.ADUNIT_OVERLAY;}};A9J.engineToApiAdType=function(O6S){switch(O6S){case tv.freewheel.SDK.ADUNIT_MIDROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:return g4J.Midroll;case tv.freewheel.SDK.ADUNIT_OVERLAY:case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:return g4J.Overlay;case tv.freewheel.SDK.ADUNIT_POSTROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:return g4J.Postroll;case tv.freewheel.SDK.ADUNIT_PREROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:return g4J.Preroll;default:return null;}};A9J.apiToEngineAdContentType=function(H6S){if(H6S.length==0){return null;}else{return H6S.join(",");}};A9J.engineToApiAdContentType=function(T6S){if(T6S==null){return[];}else{return T6S.split(",");}};A9J.apiToEngineSlot=function(d6S){return d6S.custom.fwSlot;};A9J.engineToApiSlot=function(v6S){return{custom:{fwSlot:v6S}};};var Z1y=function(){};O1J["com.turner.top.sdk.common.ads.providers.IAdProvider"]=Z1y;Z1y.__name__=["com","turner","top","sdk","common","ads","providers","IAdProvider"];Z1y.prototype={_events:null,_model:null,init:null,sendRequest:null,cancel:null,destroy:null,events:null,model:null,__class__:Z1y};var O2J=function(V6S,p6S,Z6S){this._events=new L5J();this._adManager=V6S;this._displayBase=p6S;this._videoEl=Z6S;};O1J["com.turner.top.engines.ads.fw.providers.FreeWheelAdProvider"]=O2J;O2J.__name__=["com","turner","top","engines","ads","fw","providers","FreeWheelAdProvider"];O2J.__interfaces__=[Z1y];O2J.prototype={_events:null,_model:null,_stateHandler:null,_adManager:null,_displayBase:null,_videoEl:null,_fwContext:null,_requestCompletedEvent:null,_extensionLoadedEvent:null,_request:null,_response:null,_breaks:null,doInit:function(S6S){var B6S=new C7J().init(null);this._model=B6S;var W6S=new k8J().init(B6S);var z6S=new i8J().init(this._events);this._stateHandler=new Q8J().init(B6S,W6S,z6S);this._request=this.normalizeRequest(S6S);this._fwContext=this.createFwContextForRequest();this._request.context.custom={fwContext:this._fwContext};this.notifyRequestStateChanged(k4J.Ready);},doSendRequest:function(){this.notifyRequesting();if(!this.validateRequest(this._request)){this.handleValidationError();return;}this._response=null;this.addFwContextListeners();this._fwContext.submitRequest();},doCancel:function(){this.removeFwContextListeners();this.notifyRequestCanceled();},doDestroy:function(){this.removeFwContextListeners();this._stateHandler=null;this._model=null;this._fwContext=null;this._adManager=null;this._requestCompletedEvent=null;this._extensionLoadedEvent=null;this._request=null;this._response=null;},handleValidationError:function(){this.notifyRequestError("Invalid request data");},normalizeRequest:function(e6S){O2J._logger.debug("[normalizeRequest] before: "+d1J.string(e6S));e6S.opportunities=e6S.opportunities.map(p1J(this,this.normalizeOpportunity));O2J._logger.debug("[normalizeRequest] after: "+d1J.string(e6S));return e6S;},normalizeOpportunity:function(A6S){var s6S=Math.random();var n6S=d1J.parseInt(null);var J6S={id:Math.floor(s6S*(n6S==null?2000:n6S))};return i1J.extendWith(G5y.opportunity(),[J6S,A6S]);},validateRequest:function(k6S){if(k6S.context==null){return false;}var j6S=k6S.context;if(j6S.config==null){return false;}if(j6S.config.serverBaseUrl==null||j6S.config.networkId==null||j6S.config.assetId==null){return false;}var Q6S=0;var i6S=k6S.opportunities;while(Q6S<i6S.length){var I6S=i6S[Q6S];++Q6S;if(I6S.type==null){return false;}}return true;},createAdResponse:function(c2S){var D2S=function(F2S){if(F2S!=null){return F2S.length>0;}else{return false;}};var y6S=this._request.id;var w2S=p1J(this,this.createAdBreakForSlotGroup);var h2S=y6S;var X2S=function(R2S){return w2S(h2S,R2S);};var r6S=c2S.map(function(U2S){return U2S.filter(function(q2S){return q2S.getTimePositionClass()!=null;});}).filter(D2S);var u2S=[];var E6S=0;while(E6S<r6S.length){var Y2S=r6S[E6S];++E6S;u2S.push(X2S(Y2S));}var f2S=u2S;var C2S={id:y6S,breaks:f2S,context:this._request.context};return C2S;},createAdBreakForSlotGroup:function(L2S,N2S){var l2S=N2S[0];var o2S;switch(l2S.getTimePositionClass()){case tv.freewheel.SDK.ADUNIT_MIDROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:o2S=g4J.Midroll;break;case tv.freewheel.SDK.ADUNIT_OVERLAY:case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:o2S=g4J.Overlay;break;case tv.freewheel.SDK.ADUNIT_POSTROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:o2S=g4J.Postroll;break;case tv.freewheel.SDK.ADUNIT_PREROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:o2S=g4J.Preroll;break;default:o2S=null;}var b2S=l2S.getCustomId();var G2S=l2S.getTimePosition();var K2S=[];var m2S=0;while(m2S<N2S.length){var g2S=N2S[m2S];++m2S;K2S.push({custom:{fwSlot:g2S}});}var P2S=K2S;var t2S=this.getOpportunityFor(o2S,G2S);var a2S=t2S!=null&&(!Object.prototype.hasOwnProperty.call(t2S,"persist")?false:Z1J.field(t2S,"persist"));if(t2S==null){O2J._logger.warn("[createAdBreakForSlotGroup] could not find opportunity for "+d1J.string(o2S)+" at "+G2S);}var M2S={responseId:L2S,type:o2S,id:b2S,time:G2S,persist:a2S,opportunity:t2S,slots:P2S};return M2S;},getOpportunityFor:function(T2S,d2S){var x2S=0;var H2S=this._request.opportunities;while(x2S<H2S.length){var O2S=H2S[x2S];++x2S;if(O2S.type==T2S&&O2S.time==d2S){return O2S;}}return null;},createFwContextForRequest:function(){var v2S=this._adManager.newContext();var p2S=this._request.context.config;var B2S=this._request.context.mediaMetadata;O2J._logger.debug("[createFwContextForRequest]\n\tconfig: "+d1J.string(p2S)+"\n\tmedia: "+d1J.string(B2S));var U7S=p2S.section;var R7S=p2S.fallbackId;var A2S=p2S.networkId;var F7S=p2S.assetId;var c7S=tv.freewheel.SDK.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED;var w7S=tv.freewheel.SDK.VIDEO_ASSET_DURATION_TYPE_EXACT;var s2S=tv.freewheel.SDK.ID_TYPE_CUSTOM;var C7S=null;var D7S=new Date().getTime()/1000|0;var f7S=new Date().getTime()/1000|0;var Q2S=null;var k2S=tv.freewheel.SDK.REQUEST_MODE_ON_DEMAND;if(B2S!=null){Q2S=B2S.duration;if(B2S.isLive!=null&&B2S.isLive){k2S=tv.freewheel.SDK.REQUEST_MODE_LIVE;}}v2S.setProfile(p2S.profile);v2S.setVideoAsset(F7S,Q2S,A2S,C7S,c7S,f7S,s2S,R7S,w7S);v2S.setSiteSection(U7S,A2S,D7S,s2S);v2S.setRequestMode(k2S);if(p2S.kvps!=null){var e2S=0;var I2S=p2S.kvps;var E2S=[];var n2S=0;var r2S=Z1J.fields(I2S);while(n2S<r2S.length){var u7S=r2S[n2S];++n2S;E2S.push({key:u7S,value:Z1J.field(I2S,u7S)});}var X7S=E2S;while(e2S<X7S.length){var h7S=X7S[e2S];++e2S;v2S.addKeyValue(h7S.key,h7S.value);}}var j2S=[];var S2S=0;var J2S=this._request.opportunities;while(S2S<J2S.length){var Z2S=J2S[S2S];++S2S;var Y7S=Z2S.id;var W2S;switch(Z2S.type[1]){case 0:W2S=tv.freewheel.SDK.ADUNIT_PREROLL;break;case 1:W2S=tv.freewheel.SDK.ADUNIT_MIDROLL;break;case 2:W2S=tv.freewheel.SDK.ADUNIT_POSTROLL;break;case 3:W2S=tv.freewheel.SDK.ADUNIT_OVERLAY;break;}var i2S=Z2S.acceptContentTypes;j2S.push({customId:Y7S,adUnit:W2S,timePosition:Z2S.time,slotProfile:null,minDuration:Z2S.minDuration,maxDuration:Z2S.maxDuration,cuepointSequence:Z2S.cuepointSequence,acceptContentType:i2S.length==0?null:i2S.join(",")});}var y2S=j2S;var z2S=0;while(z2S<y2S.length){var V2S=y2S[z2S];++z2S;v2S.addTemporalSlot(V2S.customId,V2S.adUnit,V2S.timePosition,V2S.slotProfile,V2S.cuepointSequence,V2S.minDuration,V2S.maxDuration,V2S.acceptContentType);}v2S.registerVideoDisplayBase(this._displayBase);if(this._videoEl!=null){v2S.setContentVideoElement(this._videoEl);}return v2S;},handleRequestSuccess:function(){var q7S=this.normalizeSlots(this._fwContext.getTemporalSlots());O2J._logger.debug("[handleRequestSuccess] Ad request successful with the following slots: "+d1J.string(q7S));this._response=this.createAdResponse(q7S);this.notifyRequestCompleted();},handleRequestFailure:function(){this.notifyRequestError("Unable to make ad request");},normalizeSlots:function(P7S){var m7S=[];var t7S=[];var K7S=[];var N7S=0;var a7S=P7S.length;while(N7S<a7S){var M7S=N7S++;var o7S=P7S[M7S];var g7S=o7S.getTimePositionClass();switch(g7S){case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:K7S.push(o7S);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:m7S.push(o7S);break;default:t7S.push(o7S);}}var l7S=[m7S];var G7S=0;while(G7S<t7S.length){var b7S=t7S[G7S];++G7S;l7S.push([b7S]);}l7S.push(K7S);return l7S;},addFwContextListeners:function(){this._fwContext.addEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,p1J(this,this.onRequestCompleted));this._fwContext.addEventListener(tv.freewheel.SDK.EVENT_EXTENSION_LOADED,p1J(this,this.onExtensionLoaded));},onRequestCompleted:function(L7S){O2J._logger.debug("[onRequestCompleted] success: "+d1J.string(L7S.success));this._requestCompletedEvent=L7S;this.checkAndHandleCompleted();},onExtensionLoaded:function(x7S){O2J._logger.debug("[onExtensionLoaded] success: "+d1J.string(x7S.success));O2J._logger.debug("[onExtensionLoaded] moduleName: "+d1J.string(x7S.moduleName));this._extensionLoadedEvent=x7S;this.checkAndHandleCompleted();},checkAndHandleCompleted:function(){var O7S=this;if(O7S._requestCompletedEvent!=null&&!O7S._requestCompletedEvent.success||O7S._requestCompletedEvent!=null&&O7S._extensionLoadedEvent!=null){O2J._logger.debug("[checkAndHandleCompleted] All necessary events have been received");this.removeFwContextListeners();if(this._requestCompletedEvent.success){this.handleRequestSuccess();}else{this.handleRequestFailure();}}},removeFwContextListeners:function(){this._fwContext.removeEventListener(tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,p1J(this,this.onRequestCompleted));this._fwContext.removeEventListener(tv.freewheel.SDK.EVENT_EXTENSION_LOADED,p1J(this,this.onExtensionLoaded));},notifyRequestStateChanged:function(H7S){this._stateHandler.handleStateChange(this._request,H7S);},notifyRequesting:function(){this._stateHandler.handleRequesting(this._request);},notifyRequestCompleted:function(){this._stateHandler.handleRequestCompleted(this._request,this._response);},notifyRequestCanceled:function(){this._stateHandler.handleRequestCanceled(this._request);},notifyRequestError:function(T7S){this._stateHandler.handleRequestError(this._request,T7S);},init:function(d7S){this.doInit(d7S);return this;},sendRequest:function(){this.doSendRequest();return this;},cancel:function(){this.doCancel();return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},model:function(){return this._model;},__class__:O2J};var U2J=e1J["com"]["turner"]["top"]["engines"]["ads"]["ssai"]["SSAIAdEngine"]=function(v7S,V7S){this._mediaModel=v7S;this._mediaPlayerProxy=V7S;this._events=new b5J();this._config=new z7J();this._model=new P8J();this._consumers=[];this._responses=[];this._ads=[];this._ssaiJsonService=new n3J(this._mediaModel);};O1J["com.turner.top.engines.ads.ssai.SSAIAdEngine"]=U2J;U2J.__name__=["com","turner","top","engines","ads","ssai","SSAIAdEngine"];U2J.__interfaces__=[P1y];U2J.prototype={_events:null,_config:null,_model:null,_ads:null,_provider:null,_consumers:null,_consumer:null,_responses:null,_mediaModel:null,_mediaPlayerProxy:null,_ssaiJsonService:null,doInit:function(p7S){this._config.init(p7S);this._config.events().propertyChanged.listen(p1J(this,this.onAdConfigPropertyChanged));this._model.init();this._ssaiJsonService.init();},doReset:function(){U2J._logger.debug("[doReset] Resetting ad engine state");if(this.stopAndDestroyProvider(this._provider)){U2J._logger.debug("[doReset] Destroyed existing provider");this._provider=null;}if(this.destroyConsumer(this._consumer)){U2J._logger.debug("[doPlayAd] Destroyed existing consumer");this._consumer=null;}this._ads=[];},doRequestAds:function(z7S,Z7S,S7S,e7S){if(this.stopAndDestroyProvider(this._provider)){U2J._logger.debug("[doRequestAds] Destroyed existing provider");this._provider=null;}this._config.clearTransientData().withModes([Q6J.Silent,Q6J.Transient],function(n7S){n7S.extend(S7S);});if(Z7S==null){Z7S=[];}var B7S={config:this._config.toData(),mediaMetadata:e7S};var W7S={id:z7S,opportunities:Z7S,context:B7S};this._provider=new I2J(this._ssaiJsonService).init(W7S);this._model.setProviderModel(this._provider.model());this.addProviderListeners(this._provider);this._provider.sendRequest();},doPlayAd:function(s7S,A7S){if(s7S==null){U2J._logger.warn("[doPlayAd] given ad break is null");return;}if(s7S.slots.length==0){U2J._logger.warn("[doPlayAd] given ad break is empty");return;}if(this._ads.indexOf(s7S)==-1){U2J._logger.warn("[doPlayAd] Given ad break is unknown");return;}if(this.destroyConsumer(this._consumer)){U2J._logger.debug("[doPlayAd] Destroyed existing consumer");this._consumer=null;}if(!s7S.persist){U2J._logger.debug("[doPlayAd] Non-persistent ad break. Removing from ad list");this._ads.splice(this._ads.indexOf(s7S),1);}this._consumer=new V2J(this._mediaModel,this._mediaPlayerProxy,this._ssaiJsonService);this.addConsumerListeners(this._consumer);var J7S=this.getRequestContextForBreak(s7S);this._consumer.init(s7S,J7S,A7S);this._model.setConsumerModel(this._consumer.model());this._consumer.play();},doPlayAdById:function(k7S,i7S){var Q7S=function(I7S){return I7S.id==k7S;};var j7S=this._ads.filter(Q7S);this.doPlayAd(0<j7S.length?j7S[0]:null,i7S);},doPlayAdByType:function(r7S,u9S){var y7S=function(X9S){return X9S.type==r7S;};var E7S=this._ads.filter(y7S);this.doPlayAd(0<E7S.length?E7S[0]:null,u9S);},doPause:function(){if(this._consumer!=null){this._consumer.pause();}},doResume:function(){if(this._consumer!=null){this._consumer.resume();}},doMute:function(){if(this._consumer!=null){this._consumer.mute();}},doUnmute:function(){if(this._consumer!=null){this._consumer.unmute();}},doSetVolume:function(D9S){if(this._consumer!=null){var h9S=D9S;var f9S=h9S;this._consumer.setVolume(f9S);}},doResize:function(C9S,w9S){if(this._consumer!=null){this._consumer.resize(C9S,w9S);}},doStop:function(){if(this._consumer!=null){this._consumer.stop();}},doDestroy:function(){if(this._provider!=null){this._provider.destroy();}if(this._consumer!=null){this._consumer.destroy();}},doSetMediaState:function(Y9S){switch(Y9S[1]){case 2:U2J._logger.debug("[doSetMediaState] video state playing");break;case 8:case 9:case 10:U2J._logger.debug("[doSetMediaState] video state completed");break;default:}},onAdConfigPropertyChanged:function(c9S){U2J._logger.debug("[onAdConfigPropertyChanged] "+d1J.string(c9S.property)+": "+d1J.string(c9S.oldValue)+" -> "+d1J.string(c9S.currentValue));},getRequestContextForBreak:function(F9S){return this._responses.filter(function(R9S){return F9S.responseId==R9S.id;})[0].context;},addProviderListeners:function(U9S){var o9S=p1J(this,this.onProviderEvent);var t9S=function(g9S){o9S(s1J.Request_State_Changed,g9S);};U9S.events().requestStateChanged.listen(t9S);var l9S=p1J(this,this.onProviderEvent);var G9S=function(P9S){l9S(s1J.Requesting,P9S);};U9S.events().requesting.listen(G9S);var q9S=p1J(this,this.onProviderEvent);var K9S=function(M9S){q9S(s1J.Request_Completed,M9S);};U9S.events().requestCompleted.listen(K9S);var N9S=p1J(this,this.onProviderEvent);var a9S=function(L9S){N9S(s1J.Request_Canceled,L9S);};U9S.events().requestCanceled.listen(a9S);var b9S=p1J(this,this.onProviderEvent);var m9S=function(x9S){b9S(s1J.Request_Error,x9S);};U9S.events().requestError.listen(m9S);},onProviderEvent:function(v9S,O9S){U2J._logger.debug("[onProviderEvent] type: "+d1J.string(v9S)+", result: "+d1J.string(O9S));switch(v9S[1]){case 0:this.notifyRequestStateChanged(O9S);break;case 1:var V9S=O9S;this.notifyRequesting(V9S);break;case 2:var H9S=O9S;this._responses.push({id:H9S.response.id,context:H9S.response.context});var T9S=0;var d9S=H9S.response.breaks;while(T9S<d9S.length){var p9S=d9S[T9S];++T9S;this._ads.push(p9S);}this.notifyRequestCompleted(H9S);break;case 3:this.notifyRequestCanceled(O9S);break;case 4:this.notifyRequestError(O9S);break;default:}},removeProviderListeners:function(Z9S){var W9S=p1J(this,this.onProviderEvent);var z9S=function(Q9S){W9S(s1J.Request_State_Changed,Q9S);};Z9S.events().requestStateChanged.unlisten(z9S);var S9S=p1J(this,this.onProviderEvent);var e9S=function(k9S){S9S(s1J.Requesting,k9S);};Z9S.events().requesting.unlisten(e9S);var B9S=p1J(this,this.onProviderEvent);var s9S=function(i9S){B9S(s1J.Request_Completed,i9S);};Z9S.events().requestCompleted.unlisten(s9S);var J9S=p1J(this,this.onProviderEvent);var A9S=function(I9S){J9S(s1J.Request_Canceled,I9S);};Z9S.events().requestCanceled.unlisten(A9S);var j9S=p1J(this,this.onProviderEvent);var n9S=function(E9S){j9S(s1J.Request_Error,E9S);};Z9S.events().requestError.unlisten(n9S);},stopAndDestroyProvider:function(y9S){if(y9S!=null){if(y9S.model().state()==k4J.Requesting){y9S.cancel();}this.removeProviderListeners(y9S);y9S.destroy();return true;}return false;},addConsumerListeners:function(r9S){var X8S=p1J(this,this.onConsumerEvent);var h8S=function(x8S){X8S(s1J.Starting,x8S);};r9S.events().starting.listen(h8S);var f8S=p1J(this,this.onConsumerEvent);var D8S=function(O8S){f8S(s1J.Loaded,O8S);};r9S.events().loaded.listen(D8S);var C8S=p1J(this,this.onConsumerEvent);var w8S=function(H8S){C8S(s1J.Slot_Started,H8S);};r9S.events().slotStarted.listen(w8S);var Y8S=p1J(this,this.onConsumerEvent);var c8S=function(T8S){Y8S(s1J.Started,T8S);};r9S.events().started.listen(c8S);var F8S=p1J(this,this.onConsumerEvent);var R8S=function(d8S){F8S(s1J.Creative_Started,d8S);};r9S.events().creativeStarted.listen(R8S);var U8S=p1J(this,this.onConsumerEvent);var q8S=function(v8S){U8S(s1J.Time_Changed,v8S);};r9S.events().timeChanged.listen(q8S);var u8S=p1J(this,this.onConsumerEvent);var t8S=function(V8S){u8S(s1J.Paused,V8S);};r9S.events().paused.listen(t8S);var l8S=p1J(this,this.onConsumerEvent);var G8S=function(p8S){l8S(s1J.Resumed,p8S);};r9S.events().resumed.listen(G8S);var m8S=p1J(this,this.onConsumerEvent);var K8S=function(Z8S){m8S(s1J.Stopped,Z8S);};r9S.events().stopped.listen(K8S);var N8S=p1J(this,this.onConsumerEvent);var a8S=function(B8S){N8S(s1J.Creative_Ended,B8S);};r9S.events().creativeEnded.listen(a8S);var b8S=p1J(this,this.onConsumerEvent);var g8S=function(W8S){b8S(s1J.Slot_Ended,W8S);};r9S.events().slotEnded.listen(g8S);var P8S=p1J(this,this.onConsumerEvent);var M8S=function(z8S){P8S(s1J.Finished,z8S);};r9S.events().finished.listen(M8S);var L8S=p1J(this,this.onConsumerEvent);var o8S=function(S8S){L8S(s1J.Error,S8S);};r9S.events().error.listen(o8S);},onConsumerEvent:function(n8S,e8S){U2J._logger.debug("[onConsumerEvent] type: "+d1J.string(n8S)+", result: "+d1J.string(e8S));switch(n8S[1]){case 5:this.notifyStateChanged(e8S);break;case 6:this.notifyStarting(e8S);break;case 8:this.notifyLoaded(e8S);break;case 9:this.notifySlotStarted(e8S);break;case 10:this.notifyCreativeStarted(e8S);break;case 11:this.notifyStarted(e8S);break;case 12:this.notifyTimeChanged(e8S);break;case 13:this.notifyPaused(e8S);break;case 14:this.notifyResumed(e8S);break;case 17:this.notifyStopped(e8S);break;case 18:this.notifyCreativeEnded(e8S);break;case 19:this.notifySlotEnded(e8S);break;case 20:this.notifyFinished(e8S);break;case 21:this.notifyError(e8S);break;default:}},removeConsumerListeners:function(s8S){var A8S=p1J(this,this.onConsumerEvent);var j8S=function(G3S){A8S(s1J.Starting,G3S);};s8S.events().starting.unlisten(j8S);var Q8S=p1J(this,this.onConsumerEvent);var k8S=function(m3S){Q8S(s1J.Loaded,m3S);};s8S.events().loaded.unlisten(k8S);var i8S=p1J(this,this.onConsumerEvent);var I8S=function(K3S){i8S(s1J.Slot_Started,K3S);};s8S.events().slotStarted.unlisten(I8S);var E8S=p1J(this,this.onConsumerEvent);var y8S=function(N3S){E8S(s1J.Started,N3S);};s8S.events().started.unlisten(y8S);var r8S=p1J(this,this.onConsumerEvent);var u3S=function(a3S){r8S(s1J.Creative_Started,a3S);};s8S.events().creativeStarted.unlisten(u3S);var X3S=p1J(this,this.onConsumerEvent);var h3S=function(b3S){X3S(s1J.Time_Changed,b3S);};s8S.events().timeChanged.unlisten(h3S);var J8S=p1J(this,this.onConsumerEvent);var D3S=function(g3S){J8S(s1J.Paused,g3S);};s8S.events().paused.unlisten(D3S);var C3S=p1J(this,this.onConsumerEvent);var w3S=function(P3S){C3S(s1J.Resumed,P3S);};s8S.events().resumed.unlisten(w3S);var Y3S=p1J(this,this.onConsumerEvent);var c3S=function(M3S){Y3S(s1J.Stopped,M3S);};s8S.events().stopped.unlisten(c3S);var F3S=p1J(this,this.onConsumerEvent);var R3S=function(L3S){F3S(s1J.Creative_Ended,L3S);};s8S.events().creativeEnded.unlisten(R3S);var U3S=p1J(this,this.onConsumerEvent);var q3S=function(x3S){U3S(s1J.Slot_Ended,x3S);};s8S.events().slotEnded.unlisten(q3S);var o3S=p1J(this,this.onConsumerEvent);var t3S=function(O3S){o3S(s1J.Finished,O3S);};s8S.events().finished.unlisten(t3S);var l3S=p1J(this,this.onConsumerEvent);var f3S=function(H3S){l3S(s1J.Error,H3S);};s8S.events().error.unlisten(f3S);},destroyConsumer:function(T3S){if(T3S!=null){this.removeConsumerListeners(T3S);T3S.destroy();return true;}return false;},notifyRequestStateChanged:function(d3S){this._events.requestStateChanged.dispatch(d3S);},notifyRequesting:function(v3S){this._events.requesting.dispatch(v3S);},notifyRequestCompleted:function(V3S){this._events.requestCompleted.dispatch(V3S);},notifyRequestCanceled:function(p3S){this._events.requestCanceled.dispatch(p3S);},notifyRequestError:function(Z3S){this._events.requestError.dispatch(Z3S);},notifyStateChanged:function(B3S){this._events.stateChanged.dispatch(B3S);},notifyStarting:function(W3S){this._events.starting.dispatch(W3S);},notifyLoaded:function(z3S){this._events.loaded.dispatch(z3S);},notifySlotStarted:function(S3S){this._events.slotStarted.dispatch(S3S);},notifyStarted:function(e3S){this._events.started.dispatch(e3S);},notifyCreativeStarted:function(n3S){this._events.creativeStarted.dispatch(n3S);},notifyTimeChanged:function(s3S){this._events.timeChanged.dispatch(s3S);},notifyPaused:function(J3S){this._events.paused.dispatch(J3S);},notifyResumed:function(A3S){this._events.resumed.dispatch(A3S);},notifyStopped:function(j3S){this._events.stopped.dispatch(j3S);},notifyCreativeEnded:function(Q3S){this._events.creativeEnded.dispatch(Q3S);},notifySlotEnded:function(k3S){this._events.slotEnded.dispatch(k3S);},notifyFinished:function(i3S){this._events.finished.dispatch(i3S);},notifyError:function(I3S){this._events.error.dispatch(I3S);},init:function(E3S){this.doInit(E3S);return this;},reset:function(){this.doReset();return this;},requestAds:function(y3S,r3S,u5S,X5S){this.doRequestAds(y3S,r3S,u5S,X5S);return this;},playAd:function(h5S,f5S){this.doPlayAd(h5S,f5S);return this;},playAdById:function(D5S,C5S){this.doPlayAdById(D5S,C5S);return this;},playAdByType:function(w5S,Y5S){this.doPlayAdByType(w5S,Y5S);return this;},pause:function(){this.doPause();return this;},resume:function(){this.doResume();return this;},mute:function(){this.doMute();return this;},unmute:function(){this.doUnmute();return this;},setVolume:function(c5S){this.doSetVolume(c5S);return this;},resize:function(F5S,R5S){this.doResize(F5S,R5S);return this;},stop:function(){this.doStop();return this;},destroy:function(){this.doDestroy();},setMediaState:function(U5S){this.doSetMediaState(U5S);return this;},setMediaTime:function(q5S){return this;},skipCreative:function(){},prune:function(o5S){},events:function(){return this._events;},config:function(){return this._config;},model:function(){return this._model;},ads:function(){return this._ads;},__class__:U2J};var V2J=function(t5S,l5S,G5S){this._mediaModel=t5S;this._mediaPlayerProxy=l5S;this._ssaiJsonService=G5S;this._events=new O3J();this._ssaiJsonPoller=new w8J(this._mediaModel);};O1J["com.turner.top.engines.ads.ssai.consumers.SSAIVideoAdConsumer"]=V2J;V2J.__name__=["com","turner","top","engines","ads","ssai","consumers","SSAIVideoAdConsumer"];V2J.__interfaces__=[E5J];V2J.prototype={_events:null,_model:null,_stateHandler:null,_adBreak:null,_adContext:null,_currentSlotIndex:null,_currentSlot:null,_impressionCount:null,_playheadTimer:null,_mediaModel:null,_mediaPlayerProxy:null,_ssaiJsonService:null,_ssaiJsonPoller:null,_startingMediaTime:null,_origFragUtc:null,_currentSSAICreative:null,_currentCreativeIndex:null,_currentCreativeBeaconIndex:null,_breakCompleted:null,doInit:function(a5S,b5S,g5S){this._adBreak=a5S;this._adContext=b5S;this._currentSlotIndex=-1;this._currentSlot=null;this._impressionCount=0;this._currentCreativeIndex=-1;this._currentCreativeBeaconIndex=0;this._breakCompleted=false;this._ssaiJsonPoller.init(this._ssaiJsonService);var m5S=new X7J().init(null);this._model=m5S;var K5S=new q8J().init(m5S);var N5S=new R8J().init(this._events);this._stateHandler=new o8J().init(m5S,K5S,N5S);},doPlay:function(){this._startingMediaTime=this._mediaModel.time();this._origFragUtc=this._adContext.custom.ssaiResponse.metadata.fragmentUtcInSec;this.attemptToAssignNextSlot();this.addMediaListeners();},doPause:function(){this._mediaPlayerProxy.pause();},doResume:function(){this._mediaPlayerProxy.resume();},doMute:function(){this._mediaPlayerProxy.mute();},doUnmute:function(){this._mediaPlayerProxy.unmute();},doSetVolume:function(P5S){this._mediaPlayerProxy.setVolume(P5S);},doResize:function(M5S,L5S){this._mediaPlayerProxy.resize(M5S,L5S);},doStop:function(){if(this._currentSlot!=null){this._mediaPlayerProxy.stop();this.notifyStopped();}},doDestroy:function(){this.removeMediaListeners();},attemptToAssignNextSlot:function(){this.assignNextSlot();if(this._currentSlot!=null){if(this.isFirstSlot()){this.notifyStarting();}this.handleSlotStarted();}},assignNextSlot:function(){this._currentSlotIndex++;var O5S=this._adBreak.slots;var x5S=this._currentSlotIndex;this._currentSlot=x5S>-1&&x5S<O5S.length?O5S[x5S]:null;},isFirstSlot:function(){return this._currentSlotIndex==0;},isFirstImpression:function(){return this._impressionCount==0;},isLastSlot:function(){return this._currentSlotIndex==this._adBreak.slots.length-1;},getOrigFragUTC:function(){return this._adContext.custom.ssaiResponse.metadata.fragmentUtcInSec;},getCurrentFragUTC:function(){return this._origFragUtc+this.getMediaOffset();},getMediaOffset:function(){var H5S=this._mediaModel.time();return H5S-this._startingMediaTime;},addMediaListeners:function(){this._mediaPlayerProxy.events().timeChanged.listen(p1J(this,this.onMediaTimeChanged));this._mediaPlayerProxy.events().paused.listen(p1J(this,this.onMediaPaused));this._mediaPlayerProxy.events().resumed.listen(p1J(this,this.onMediaResumed));this._mediaPlayerProxy.events().error.listen(p1J(this,this.onMediaError));},onMediaTimeChanged:function(T5S){this.handleTimeUpdate(this.getCurrentFragUTC());},onMediaPaused:function(d5S){this.notifyPaused();},onMediaResumed:function(v5S){this.notifyResumed();},onMediaError:function(V5S){this.notifyError(V5S.description);},removeMediaListeners:function(){this._mediaPlayerProxy.events().timeChanged.unlisten(p1J(this,this.onMediaTimeChanged));this._mediaPlayerProxy.events().paused.unlisten(p1J(this,this.onMediaPaused));this._mediaPlayerProxy.events().resumed.unlisten(p1J(this,this.onMediaResumed));this._mediaPlayerProxy.events().error.unlisten(p1J(this,this.onMediaError));},getSSAIResponse:function(){return this._adContext.custom.ssaiResponse;},getSSAISlot:function(){if(this._currentSlot==null){return null;}return this._currentSlot.custom.ssaiSlot;},getSSAISlotPlayhead:function(){return this.getMediaOffset();},getSSAISlotDuration:function(){var p5S=this.getSSAISlot();return parseFloat(p5S.duration);},getSSAISlotVolume:function(){var Z5S=this._mediaModel.volume();return Z5S;},getSSAISlotEndTime:function(){var B5S=this.getSSAISlot();return parseFloat(B5S.startTime)+parseFloat(B5S.duration);},handleTimeUpdate:function(W5S){if(this._breakCompleted){return;}this.checkForCreativeBeacons(W5S);this.checkForCreativeChanges(W5S);this.checkForCreativeBeacons(W5S);this.checkForSlotEnd(W5S);},checkForCreativeChanges:function(n5S){var z5S=this;var S5S=function(){var s5S=z5S.getSSAISlot();var J5S=!Object.prototype.hasOwnProperty.call(s5S,"ads")?[]:Z1J.field(s5S,"ads");z5S._currentCreativeIndex++;z5S._currentCreativeBeaconIndex=0;var A5S=z5S._currentCreativeIndex;if(A5S>-1&&A5S<J5S.length){return J5S[z5S._currentCreativeIndex];}else{return null;}};if(this._currentSSAICreative==null){this._currentSSAICreative=S5S();if(this._currentSSAICreative!=null){this.handleCreativeStarted();}}else{var e5S=parseFloat(this._currentSSAICreative.startTime)+parseFloat(this._currentSSAICreative.duration);if(n5S>=e5S){this.handleCreativeEnded();this._currentSSAICreative=S5S();if(this._currentSSAICreative!=null){this.handleCreativeStarted();}}}},checkForCreativeBeacons:function(r5S){if(this._currentSSAICreative==null){return;}var j5S=this._currentSSAICreative;var Q5S=!Object.prototype.hasOwnProperty.call(j5S,"trackingUrls")?[]:Z1J.field(j5S,"trackingUrls");var E5S=this._currentCreativeBeaconIndex==0?this._currentCreativeBeaconIndex:this._currentCreativeBeaconIndex+1;var k5S=E5S;var y5S=Q5S.length;while(k5S<y5S){var i5S=k5S++;var I5S=Q5S[i5S];if(I5S.startTime>r5S){break;}this._currentCreativeBeaconIndex=i5S;this.fireBeacon(I5S);}},checkForSlotEnd:function(X03){var u03=this.getSSAISlotEndTime();if(X03>=u03){if(this.isLastSlot()){this._breakCompleted=true;}this.handleSlotEnded();if(this._breakCompleted!=true){V2J._logger.debug("[checkForSlotEnd] attempting to assign next slot");this.attemptToAssignNextSlot();}}},handleSlotStarted:function(){if(V2J._debug){V2J._logger.debug("[onSlotStarted]");}if(this.isFirstSlot()){var h03=this.getSSAISlotDuration();var f03=h03;this.notifyLoaded(f03,this.getSSAISlotVolume());this.notifyStarted();}this._stateHandler.handleSlotStarted();this.fireSlotBeacon("started");},handleCreativeStarted:function(){var D03={};if(Object.prototype.hasOwnProperty.call(this._currentSSAICreative,"companions")){D03["companions"]=Z1J.field(this._currentSSAICreative,"companions");}this._stateHandler.handleCreativeStarted(D03);},handleCreativeEnded:function(){this._stateHandler.handleCreativeEnded();},handleSlotEnded:function(){if(V2J._debug){V2J._logger.debug("[onSlotEnded]");}this._stateHandler.handleSlotEnded();this.fireSlotBeacon("ended");if(this.isLastSlot()){this.removeMediaListeners();this.notifyFinished();}},fireSlotBeacon:function(U03){var C03=this.getSSAISlot();var w03=!Object.prototype.hasOwnProperty.call(C03,"trackingUrls")?[]:Z1J.field(C03,"trackingUrls");switch(U03){case"ended":var Y03=w03.filter(function(q03){return q03.event=="complete";});var c03=0<Y03.length?Y03[0]:null;if(c03!=null){this.fireBeacon(c03);}break;case"started":var F03=w03.filter(function(o03){return o03.event=="start";});var R03=0<F03.length?F03[0]:null;if(R03!=null){this.fireBeacon(R03);}break;}},fireBeacon:function(l03){V2J._logger.info("[fireBeacon] beacon: "+d1J.string(l03));try{var t03=window.document.createElement("img");t03.setAttribute("style","display: none;");t03.addEventListener("load",function(G03){if(t03.parentNode!=null){t03.parentNode.removeChild(t03);}});t03.src=l03.url;window.document.body.appendChild(t03);}catch(m03){if(m03 instanceof j1J)m03=m03.val;V2J._logger.warn("[fireBeacon] error firing beacon: "+d1J.string(m03));}},notifyStateChanged:function(K03){this._stateHandler.handleStateChange(K03);},notifyStarting:function(){this._stateHandler.handleStarting(this._adBreak);},notifyLoaded:function(N03,a03){this._stateHandler.handleLoaded(N03,a03);},notifyStarted:function(){this._stateHandler.handleStarted();this.enableTimeUpdates();},notifyTimeChanged:function(b03,g03){this._stateHandler.handleTimeChanged(b03,g03);},notifyPaused:function(){this._stateHandler.handlePaused();this.disableTimeUpdates();},notifyResumed:function(){this._stateHandler.handleResumed();this.enableTimeUpdates();},notifyStopped:function(){this._stateHandler.handleStopped();this.disableTimeUpdates();},notifyFinished:function(){this._stateHandler.handleFinished();this.disableTimeUpdates();},notifyError:function(P03){this._stateHandler.handleError(P03);this.disableTimeUpdates();},enableTimeUpdates:function(){this._playheadTimer=new Z2J(V2J.DEFAULT_TIME_UPDATE_INTERVAL);this._playheadTimer.run=p1J(this,this.onTimeUpdate);},onTimeUpdate:function(){var M03=this.getSSAISlotPlayhead();var L03=M03;var x03=this.getSSAISlotDuration();var O03=x03;this.notifyTimeChanged(L03,O03);},disableTimeUpdates:function(){if(this._playheadTimer!=null){this._playheadTimer.stop();}},init:function(H03,T03,d03){this.doInit(H03,T03,d03);return this;},play:function(){this.doPlay();return this;},pause:function(){this.doPause();return this;},resume:function(){this.doResume();return this;},stop:function(){this.doStop();return this;},mute:function(){this.doMute();return this;},unmute:function(){this.doUnmute();return this;},setVolume:function(v03){this.doSetVolume(v03);return this;},resize:function(V03,p03){this.doResize(V03,p03);return this;},skipCreative:function(){return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},model:function(){return this._model;},__class__:V2J};var I2J=function(Z03){this._jsonService=Z03;this._events=new L5J();};O1J["com.turner.top.engines.ads.ssai.providers.SSAIAdProvider"]=I2J;I2J.__name__=["com","turner","top","engines","ads","ssai","providers","SSAIAdProvider"];I2J.__interfaces__=[Z1y];I2J.prototype={_events:null,_model:null,_stateHandler:null,_jsonService:null,_ssaiEventListeners:null,_fragmentId:null,_request:null,_response:null,_breaks:null,doInit:function(S03){var B03=new C7J().init(null);this._model=B03;var W03=new k8J().init(B03);var z03=new i8J().init(this._events);this._stateHandler=new Q8J().init(B03,W03,z03);this._request=this.normalizeRequest(S03);this.notifyRequestStateChanged(k4J.Ready);},doSendRequest:function(){this.notifyRequesting();if(!this.validateRequest(this._request)){this.handleValidationError();return;}this._response=null;var e03=this._request.opportunities[0];this._fragmentId=e03.custom.fragmentId;this.enableSSAIListeners();this._jsonService.request(this._fragmentId,p1J(this,this.onRequestCompleted),p1J(this,this.onRequestError));},doCancel:function(){this.disableSSAIListeners();this.notifyRequestCanceled();},doDestroy:function(){this.disableSSAIListeners();this._stateHandler=null;this._model=null;this._request=null;this._response=null;},handleValidationError:function(){this.notifyRequestError("Invalid request data");},normalizeRequest:function(n03){if(I2J._debug){I2J._logger.debug("[normalizeRequest] before: "+d1J.string(n03));}n03.opportunities=n03.opportunities.map(p1J(this,this.normalizeOpportunity));if(I2J._debug){I2J._logger.debug("[normalizeRequest] after: "+d1J.string(n03));}return n03;},normalizeOpportunity:function(j03){var J03=Math.random();var s03=d1J.parseInt(null);var A03={id:Math.floor(J03*(s03==null?2000:s03))};return i1J.extendWith(G5y.opportunity(),[A03,j03]);},validateRequest:function(I03){if(I03.context==null){return false;}var Q03=0;var i03=I03.opportunities;while(Q03<i03.length){var k03=i03[Q03];++Q03;if(k03.type==null){return false;}if(k03.custom==null){return false;}if(k03.custom.fragmentId==null){return false;}}return true;},createAdResponse:function(c13,r03){var u13=c13.fragmentUtcInSec-5;var X13=function(F13){var R13=!Object.prototype.hasOwnProperty.call(F13,"startTime")?-1:Z1J.field(F13,"startTime");var U13=R13>=u13;return U13;};var h13=function(o13){var q13=!Object.prototype.hasOwnProperty.call(o13,"ads")?[]:Z1J.field(o13,"ads");if(q13!=null){return q13.length>0;}else{return false;}};var E03="response_"+I2J._responseId++;var D13=p1J(this,this.createAdBreakForSlotGroup);var C13=E03;var w13=function(t13){return D13(C13,t13);};var Y13=(!Object.prototype.hasOwnProperty.call(r03,"pods")?[]:Z1J.field(r03,"pods")).filter(X13);var f13=[w13(Y13.filter(h13))];var y03={id:E03,breaks:f13,context:this._request.context};return y03;},createAdBreakForSlotGroup:function(O13,m13){var K13=m13[0];var N13=[];var l13=0;while(l13<m13.length){var M13=m13[l13];++l13;N13.push({custom:{ssaiSlot:M13}});}var b13=N13;var G13=this.getOpportunityForFragment(this._fragmentId);var a13=G13.type;var L13=G13.id;var x13=!Object.prototype.hasOwnProperty.call(K13,"startTime")?-1:Z1J.field(K13,"startTime");var g13=a13==g4J.Midroll;var P13={responseId:O13,type:a13,id:L13,time:x13,persist:g13,opportunity:G13,slots:b13};return P13;},getOpportunityForFragment:function(p13){var H13=0;var d13=this._request.opportunities;while(H13<d13.length){var T13=d13[H13];++H13;var v13;if(T13.custom!=null){var V13=T13.custom;v13=(!Object.prototype.hasOwnProperty.call(V13,"fragmentId")?null:Z1J.field(V13,"fragmentId"))==p13;}else{v13=false;}if(v13){return T13;}}return null;},handleRequestSuccess:function(Z13){this._request.context.custom={ssaiResponse:Z13};this._response=this.createAdResponse(Z13.metadata,Z13.data);this.notifyRequestCompleted();},handleRequestFailure:function(B13){this.notifyRequestError("Unable to make ad request");},enableSSAIListeners:function(){this._ssaiEventListeners=true;},onRequestCompleted:function(W13){if(!this._ssaiEventListeners){return;}I2J._logger.debug("[onRequestCompleted] success: "+d1J.string(W13));this.handleRequestSuccess(W13);},onRequestError:function(z13){if(!this._ssaiEventListeners){return;}I2J._logger.warn("[onRequestError] error: "+z13);this.handleRequestFailure(z13);},disableSSAIListeners:function(){this._ssaiEventListeners=false;},notifyRequestStateChanged:function(S13){this._stateHandler.handleStateChange(this._request,S13);},notifyRequesting:function(){this._stateHandler.handleRequesting(this._request);},notifyRequestCompleted:function(){this._stateHandler.handleRequestCompleted(this._request,this._response);},notifyRequestCanceled:function(){this._stateHandler.handleRequestCanceled(this._request);},notifyRequestError:function(e13){this._stateHandler.handleRequestError(this._request,e13);},init:function(n13){this.doInit(n13);return this;},sendRequest:function(){this.doSendRequest();return this;},cancel:function(){this.doCancel();return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},model:function(){return this._model;},__class__:I2J};var w8J=e1J["com"]["turner"]["top"]["engines"]["ads"]["ssai"]["services"]["SSAIJsonPoller"]=function(s13){this._mediaModel=s13;this._running=false;this._requestOnNextFragment=false;};O1J["com.turner.top.engines.ads.ssai.services.SSAIJsonPoller"]=w8J;w8J.__name__=["com","turner","top","engines","ads","ssai","services","SSAIJsonPoller"];w8J.prototype={_mediaModel:null,_service:null,_running:null,_requestOnNextFragment:null,_lastFragmentId:null,doInit:function(J13){this._service=J13;},doStart:function(){if(this._running){return;}this._running=true;this.addMediaListeners();},doStop:function(){if(!this._running){return;}this._running=false;this.removeMediaListeners();},addMediaListeners:function(){this._mediaModel.streamInfo().events().propertyChanged.listen(p1J(this,this.onStreamInfoPropertyChanged));},onStreamInfoPropertyChanged:function(A13){var j13=A13.property;switch(j13[1]){case 1:this._requestOnNextFragment=true;break;case 3:this._lastFragmentId=A13.currentValue;if(this._requestOnNextFragment){this.sendJsonRequest(this._lastFragmentId);}break;default:}},removeMediaListeners:function(){this._mediaModel.streamInfo().events().propertyChanged.unlisten(p1J(this,this.onStreamInfoPropertyChanged));},sendJsonRequest:function(Q13){this._requestOnNextFragment=false;this._service.request(Q13,function(k13){w8J._logger.info("[sendJsonRequest] success: "+d1J.string(k13));},function(i13){w8J._logger.info("[sendJsonRequest] error: "+i13);});},init:function(I13){this.doInit(I13);return this;},start:function(){this.doStart();return this;},stop:function(){this.doStop();return this;},__class__:w8J};var n3J=e1J["com"]["turner"]["top"]["engines"]["ads"]["ssai"]["services"]["SSAIJsonService"]=function(E13){this._mediaModel=E13;};O1J["com.turner.top.engines.ads.ssai.services.SSAIJsonService"]=n3J;n3J.__name__=["com","turner","top","engines","ads","ssai","services","SSAIJsonService"];n3J.prototype={_mediaModel:null,doInit:function(){},doRequest:function(w43,o43,q43){var r13=this._mediaModel.streamInfo();var F43=r13.currentLevel().details.url;var c43=r13.programDateTime();var Y43=w43;var h43=r13.fragments();var C43=0;var u43=0;while(u43<h43.length){var f43=h43[u43];++u43;if(f43.sn>=Y43){break;}C43+=f43.duration;}var R43=new Date(c43).getTime()+C43*1000;;var X43=Math.floor(R43/1000);var U43=new RegExp("m3u8","".split("u").join(""));var D43=F43.replace(U43,"json");D43+="&pttrackingposition="+X43;var y13=new r7J(D43);y13.onData=function(t43){var l43=JSON.parse(t43);o43({raw:t43,data:l43,metadata:{fragmentId:w43,fragmentUtcInSec:X43}});};y13.onError=function(G43){q43(G43);};y13.request();},init:function(){this.doInit();return this;},request:function(m43,K43,N43){this.doRequest(m43,K43,N43);return this;},__class__:n3J};var S1y=function(){};O1J["com.turner.top.sdk.common.media.engines.IMediaEngine"]=S1y;S1y.__name__=["com","turner","top","sdk","common","media","engines","IMediaEngine"];S1y.prototype={_events:null,_config:null,_model:null,init:null,play:null,pause:null,resume:null,seek:null,seekToLive:null,setVolume:null,mute:null,unmute:null,resize:null,getView:null,prune:null,stop:null,destroy:null,events:null,config:null,model:null,__class__:S1y};var h4J=e1J["com"]["turner"]["top"]["engines"]["media"]["hls_js"]["HlsJsMediaEngine"]=function(a43){this._videoEl=a43;h4J._loggerEngine.info("[constructor] version: "+s5y.version);this._events=new D0y();this._config=new x7J();this._features={};this._appliedConfigValues={};this.resetErrorHandling();};O1J["com.turner.top.engines.media.hls_js.HlsJsMediaEngine"]=h4J;h4J.__name__=["com","turner","top","engines","media","hls_js","HlsJsMediaEngine"];h4J.__interfaces__=[S1y];h4J.prototype={_events:null,_config:null,_model:null,_stateHandler:null,_features:null,_videoEl:null,_hls:null,_attaching:null,_attached:null,_url:null,_executingPlaySequence:null,_playCommand:null,_appliedConfigValues:null,_absoluteTime:null,_deltaRelativeTime:null,_initialTimedMetadata:null,_isInitialLoad:null,_currentTime:null,_currentLevelData:null,_currentFrag:null,_lastPlaybackError:null,_playbackFailed:null,_playInvoked:null,_estimatedLiveSyncPosition:null,_dispatchedLoaded:null,_dispatchedStarted:null,_isBuffering:null,_isPaused:null,_previousVideoEventType:null,_previousBufferAmount:null,_requestedSeekTime:null,_lastUpdateLevel:null,_requestedLevel:null,_executingStop:null,_startBufferFlushTime:null,_unexpectedEnded:null,_recoveringFromError:null,_recoverDecodingErrorDate:null,_recoverSwapAudioCodecDate:null,_mediaErrorDetails:null,doInit:function(g43,P43){this._config.init(g43);this._config.events().propertyChanged.listen(p1J(this,this.onConfigPropertyChanged));var b43=new P7J().init(null);this._model=b43;var M43=new J8J().init(b43);var L43=new T8J().init(this._events);this._stateHandler=new n8J().init(b43,M43,L43);if(P43!=null){this._features=P43;}if(g43!=null){this.setUpdatedConfigValues();}this.addVideoListeners();},createHlsInstance:function(){var x43={debug:this.getHlsJsLogger(),manifestLoadingMaxRetry:2,fragLoadingMaxRetry:5,levelLoadingMaxRetry:5,maxBufferLength:30,maxFragLookUpTolerance:0,maxMaxBufferLength:300,capLevelToPlayerSize:this._config.capBitrateToSize()};if(this._config.startIndex()!=null){x43.startLevel=this._config.startIndex();}if(this._config.stallTimeout()!=null){this.configureRetryLimits(x43,this._config.stallTimeout());}h4J._loggerEngine.info("[createHlsInstance] Hls config: "+d1J.string(x43));var O43=this._features;var H43="mediaAcceleration";var T43=!Object.prototype.hasOwnProperty.call(O43,H43)?{}:Z1J.field(O43,H43);var d43;if(T43.enabled&&T43.type=="quic"){h4J._loggerEngine.info("[createHlsInstance] Using Akamai media acceleration");var v43={};window.Hls=s5y;var V43=new MediaAccelerationHlsJsWrapper(v43,x43);d43=V43.getPlayer();}else{h4J._loggerEngine.info("[createHlsInstance] Using hls.js directly");d43=new s5y(x43);}this._hls=d43;this._hls.subtitleDisplay=true;this.addHlsListeners();this.attachMedia();},destroyHlsInstance:function(){if(this._hls==null){return;}this._hls.destroy();this._hls=null;var Z43=0;var B43=this._videoEl.textTracks;while(Z43<B43.length){var p43=B43[Z43];++Z43;if(p43.kind=="metadata"){continue;}if(p43.cues!=null){while(p43.cues.length>0)p43.removeCue(p43.cues[0]);}p43.mode="disabled";}},doPlay:function(W43,z43){this.destroyHlsInstance();this.resetForPlay();this._playInvoked=true;this._url=W43;this._executingPlaySequence=true;this._playCommand={url:W43,data:z43};this.notifyCommandReceived(q4J.Play,[W43,z43]);this._config.clearTransientData().withModes([Q6J.Silent,Q6J.Transient],function(S43){S43.extend(z43);});this.createHlsInstance();if(!this._attached){this.attachMedia();}else{this.doPlayStep1();}},resetForPlay:function(){this._playInvoked=false;this._playbackFailed=false;this._dispatchedLoaded=false;this._dispatchedStarted=false;this._isBuffering=false;this._isPaused=false;this._requestedLevel=-1;this._lastUpdateLevel=-1;this._requestedSeekTime=null;this._previousVideoEventType=null;this._previousBufferAmount=null;this._executingStop=false;this._isInitialLoad=true;this._absoluteTime=0;this._deltaRelativeTime=0;var e43=0;var n43=e43;this._currentTime=n43;this._estimatedLiveSyncPosition=0;this._startBufferFlushTime=0;this._unexpectedEnded=false;this.resetErrorHandling();},resetErrorHandling:function(){this._recoveringFromError=false;this._recoverDecodingErrorDate=null;this._recoverSwapAudioCodecDate=null;this._mediaErrorDetails="";},doPlayStep1:function(){this._hls.loadSource(this._playCommand.url);},doPlayStep2:function(){this._executingPlaySequence=false;this._playCommand=null;var s43=this._videoEl.play();var J43=p1J(this,this.onPlayVerifyFailure);var A43=p1J(this,this.onPlayVerifyFinished);if(s43!=null){s43["catch"](function(j43){J43(j43);return;}).then(function(Q43){A43();return;});}},onPlayVerifyFailure:function(k43){this._playbackFailed=true;this._lastPlaybackError=k43;},onPlayVerifyFinished:function(){var i43=this._hls==null;var I43=this._playbackFailed&&!i43;if(I43){h4J._loggerEngine.warn("[onPlayVerifyFinished] playback failed, notifying blocked");this.notifyBlocked(this._lastPlaybackError);}else{h4J._loggerEngine.info("[onPlayVerifyFinished] play verification succeeded");}},doPause:function(){this.notifyCommandReceived(q4J.Pause,[]);if(!this.guardForPause()){this.notifyCommandRejected(q4J.Pause,[]);return;}this._videoEl.pause();},doResume:function(){this.notifyCommandReceived(q4J.Resume,[]);if(!this.guardForResume()){this.notifyCommandRejected(q4J.Resume,[]);return;}this._videoEl.play();},doSetVolume:function(E43){this.notifyCommandReceived(q4J.Set_Volume,[E43]);this._videoEl.volume=E43;var y43=this._videoEl.volume;var r43=y43;this.notifyVolumeChanged(r43);},doSetMuted:function(u63){if(u63){this.notifyCommandReceived(q4J.Mute,[u63]);}else{this.notifyCommandReceived(q4J.Unmute,[u63]);}this._videoEl.muted=u63;this.notifyMuteChanged(this._videoEl.muted);},doSeek:function(X63){this.notifyCommandReceived(q4J.Seek,[X63]);if(!this.guardForSeek()){this.notifyCommandRejected(q4J.Seek,[X63]);return;}var h63=this.getMaxLivePoint();if(X63>h63){h4J._logger.warn("[doSeek] "+X63+" is too close to the live point; clamping to "+h63);var f63=h63;var D63=f63;X63=D63;}this._requestedSeekTime=X63;this._videoEl.currentTime=X63;},doSeekToLive:function(){this.notifyCommandReceived(q4J.Seek_To_Live,[]);if(!this.guardForSeekToLive()){this.notifyCommandRejected(q4J.Seek_To_Live,[]);return;}var C63=this.getLiveSyncPosition();this._requestedSeekTime=C63;this._videoEl.currentTime=C63;},doResize:function(w63,Y63){this.notifyCommandReceived(q4J.Resize,[w63,Y63]);this._videoEl.style.width=""+w63+"px";this._videoEl.style.height=""+Y63+"px";this.notifyResized();},doStop:function(){this.notifyCommandReceived(q4J.Stop,[]);if(!this.guardForStop()){this.notifyCommandRejected(q4J.Stop,[]);return;}this._executingStop=true;this._videoEl.pause();if(!S4J.ie(11)){this._videoEl.currentTime=0;}this.destroyHlsInstance();this.notifyStopped();},doDestroy:function(){this.doStop();this.destroyHlsInstance();this.removeVideoListeners();},guard:function(R63,U63){var c63=0;while(c63<R63.length){var F63=R63[c63];++c63;if(!F63.cond){if(U63!=null){U63(F63.fail);}return false;}}return true;},guardForConfigBitrateChanged:function(){var l63=this._model.state();var o63=[r1J.Stopped,r1J.Finished,"hlsError"];var t63=false;var q63=0;while(q63<o63.length){var G63=o63[q63];++q63;if(l63==G63){t63=true;break;}}var m63=!t63;var K63=this._hls!=null;return this.guard([{cond:K63,fail:"called when hls instance is not available"},{cond:m63,fail:"called when media state is stopped, ended, or error"}],function(N63){h4J._logger.warn("[guardForConfigBitrateChanged] "+N63);});},guardForPause:function(){var a63=this._model.state()!=r1J.Paused;return this.guard([{cond:this._dispatchedStarted,fail:"called when media is not yet playing"},{cond:a63,fail:"called when media state is already paused"}],function(b63){h4J._logger.warn("[doPause] "+b63);});},guardForResume:function(){var g63=this._model.state()==r1J.Paused||this._model.state()==r1J.Seeking;return this.guard([{cond:this._dispatchedStarted,fail:"called when media is not yet playing"},{cond:g63,fail:"called when media state is not paused or seeking"}],function(P63){h4J._logger.warn("[doResume] "+P63);});},guardForSeek:function(){var M63=this._model.state()==r1J.Playing||this._model.state()==r1J.Paused;return this.guard([{cond:this._dispatchedStarted,fail:"called when media is not yet playing"},{cond:M63,fail:"called when media state is not playing or paused"}],function(L63){h4J._logger.warn("[doSeek] "+L63);});},guardForSeekToLive:function(){var x63=this._model.state()==r1J.Playing||this._model.state()==r1J.Paused;var O63=this._model.isLive();var H63=this._hls.liveSyncPosition!=null||this._estimatedLiveSyncPosition>0;return this.guard([{cond:this._dispatchedStarted,fail:"called when media is not yet playing"},{cond:x63,fail:"called when media state is not playing or paused"},{cond:O63,fail:"called when media is not a live stream"},{cond:H63,fail:"called when live sync position is not yet available"}],function(T63){h4J._logger.warn("[doSeekToLive] "+T63);});},guardForStop:function(){var d63=this._model.state()!=r1J.Stopped;return this.guard([{cond:this._playInvoked,fail:"called before play has been called"},{cond:d63,fail:"called when already stopped"}],function(v63){h4J._logger.warn("[doStop] "+v63);});},attachMedia:function(){h4J._loggerEngine.debug("[attachMedia] attaching: "+d1J.string(this._attaching)+", attached: "+d1J.string(this._attached));if(this._attaching){return;}this._attaching=true;this._attached=false;this._hls.attachMedia(this._videoEl);},addHlsListeners:function(){var V63=0;var p63=h4J.HLS_EVENTS;while(V63<p63.length){var Z63=p63[V63];++V63;this._hls.on(Z63,p1J(this,this.onHlsEvent));}},onHlsEvent:function(s63,B63){var e63=this;switch(s63){case"hlsError":var W63=B63;var z63="[onHlsEvent] ERROR\n\ttype: "+W63.type+"\n\tdetails: "+W63.details+"\n\tfatal: "+(W63.fatal==null?"null":""+W63.fatal);if(W63.fatal){h4J._logger.error(z63);}else{h4J._logger.warn(z63);}if(W63.fatal&&this._model.state()!=r1J.Error){var S63=function(){e63.fireHlsError(""+W63.type+" - "+W63.details);};var n63=W63.type;switch(n63){case"mediaError":this.handleMediaError(W63.type,W63.details);break;case"networkError":S63();break;default:S63();}}break;case"hlsFragChanged":this.handleFragChanged(B63);break;case"hlsFragParsed":this.handleFragParsed(B63);break;case"hlsFragParsingData":break;case"hlsFragParsingMetadata":this.handleID3TimedMetadataReceived(B63);break;case"hlsFragParsingUserdata":break;case"hlsLevelLoaded":h4J._loggerEngine.debug("[onHlsEvent] Level_Loaded - level: "+d1J.string(B63.level));this.handleLevelLoaded(B63);break;case"hlsLevelLoading":h4J._loggerEngine.debug("[onHlsEvent] Level_Loading - level: "+d1J.string(B63.level));break;case"hlsLevelSwitched":h4J._loggerEngine.debug("[onHlsEvent] Level_Switched - level: "+d1J.string(B63.level));this.notifyProfileChanged(B63.level);break;case"hlsLevelSwitching":h4J._loggerEngine.debug("[onHlsEvent] Level_Switching - level: "+d1J.string(B63.level));this._requestedLevel=B63.level;if(this._hls.currentLevel==-1){h4J._loggerEngine.debug("[onHlsEvent] first switching update, deferring event");}else{this.notifyProfileChanging(B63.level);}break;case"hlsLevelUpdated":h4J._loggerEngine.debug("[onHlsEvent] Level_Updated - level: "+d1J.string(B63.level));this.handleLevelUpdated(B63);break;case"hlsManifestLoaded":h4J._loggerEngine.debug("[onHlsEvent] Manifest_Loaded");break;case"hlsManifestLoading":h4J._loggerEngine.debug("[onHlsEvent] Manifest_Loading");break;case"hlsManifestParsed":h4J._loggerEngine.debug("[onHlsEvent] Manifest_Parsed");if(this._executingPlaySequence){this.setUpdatedConfigValues();if(this._appliedConfigValues.offset!=null){this._hls.startLoad(this._appliedConfigValues.offset);}this.doPlayStep2();}break;case"hlsMediaAttached":this._attaching=false;this._attached=true;if(this._executingPlaySequence){this.doPlayStep1();}break;case"hlsMediaDetached":this._attached=false;break;default:}},handleLevelLoaded:function(k63){if(!this._isInitialLoad){return;}this._isInitialLoad=false;var J63=k63.details.fragments;if(J63.length<1){return;}this._initialTimedMetadata=[];var Q63=J63[J63.length-1];this.updateEstimatedLiveSyncPosition(Q63);var A63=0;while(A63<J63.length){var j63=J63[A63];++A63;if(this.fragmentHasTimedMetadata(j63)){this.handleInitialTimedMetadata(j63);}}},fragmentHasTimedMetadata:function(i63){if(i63.tagList!=null){return i63.tagList.length>0;}else{return false;}},handleInitialTimedMetadata:function(I63){var w23=this.getCurrentMediaTime();var Y23=w23;var u23=Y23;var X23=this.getLiveSyncPosition();var h23={fragmentId:I63.sn};var f23="tag";var y63=I63.tagList;var C23=I63.start+I63.duration;var E63=0;while(E63<y63.length){var r63=y63[E63];++E63;var c23=I63.start;var F23=c23;var R23=F23;var U23=r63[0];var D23=r63[1];if(C23<=X23){this._initialTimedMetadata.push({timeReceived:u23,timeToTrigger:R23,source:f23,metadataType:U23,streamMetadata:h23,content:D23});}}},updateEstimatedLiveSyncPosition:function(q23){var o23=q23.start+q23.duration;var t23=q23.duration*this._hls.config.liveSyncDurationCount;this._estimatedLiveSyncPosition=o23-t23;h4J._loggerEngine.debug("[updateEstimatedLiveSyncPosition] updated estimated live sync position : "+this._estimatedLiveSyncPosition);},handleLevelUpdated:function(G23){this._currentLevelData=G23;var l23=this._currentLevelData.details.fragments;var m23=l23.length>0;var K23=m23&&l23[0].rawProgramDateTime!=null?l23[0].rawProgramDateTime:null;this._model.streamInfo().setCurrentLevel(this._currentLevelData);this._model.streamInfo().setFragments(l23);this._model.streamInfo().setProgramDateTime(K23);if(m23){var N23=l23[l23.length-1];this.updateEstimatedLiveSyncPosition(N23);}if(this._lastUpdateLevel>-1){if(this._lastUpdateLevel!=G23.level){this.notifyRequestProfileChanged(G23.level);}else{h4J._loggerEngine.verbose("[handleLevelUpdated] updated and current request the same, preventing event");}}else{h4J._loggerEngine.verbose("[handleLevelUpdated] first profile update, deferring event");}this._lastUpdateLevel=G23.level;},handleFragParsed:function(g23){if(this._currentLevelData!=null){var b23=g23.frag.sn;var a23=this.getFragmentFromId(b23);if(a23==null){return;}this._model.streamInfo().setCurrentFragmentId(b23);if(this.fragmentHasTimedMetadata(a23)){this.handleManifestTimedMetadataReceived(a23);}}},handleFragChanged:function(P23){if(this._currentLevelData!=null){this._currentFrag=this.getFragmentFromId(P23.frag.sn);if(this._currentFrag==null){return;}if(this._currentFrag.start!=null){this._absoluteTime=this._currentFrag.start;}}},getFragmentFromId:function(x23){var L23=this._currentLevelData.details.fragments;var M23=L23.filter(function(O23){return O23.sn==x23;});return 0<M23.length?M23[0]:null;},handleMediaError:function(V23,p23){var H23=new Date().getTime();var T23=3000;var d23=this._recoverDecodingErrorDate==null||H23-this._recoverDecodingErrorDate>T23;var v23=this._recoverSwapAudioCodecDate==null||H23-this._recoverSwapAudioCodecDate>T23;this._mediaErrorDetails=""+V23+" - "+p23;if(d23||v23){this.notifyRecoveryStarted(this._mediaErrorDetails);}if(d23){this._recoverDecodingErrorDate=H23;h4J._logger.warn("[handleMediaError] attempting to recover from media error");this._hls.recoverMediaError();return;}if(v23){this._recoverSwapAudioCodecDate=H23;h4J._logger.warn("[handleMediaError] attempting to recover from media error by swapping codecs");this._hls.swapAudioCodec();this._hls.recoverMediaError();return;}this.fireHlsError(this._mediaErrorDetails);},fireHlsError:function(Z23){h4J._logger.error("[fireHlsError] "+Z23);this.notifyError(Z23);},removeHlsListeners:function(){var B23=0;var W23=h4J.HLS_EVENTS;while(B23<W23.length){var z23=W23[B23];++B23;this._hls.off(z23,p1J(this,this.onHlsEvent));}},getCurrentLevel:function(){return this._hls.levels[this._hls.currentLevel];},getIsLive:function(){var S23=0;var e23=this._hls.levels;while(S23<e23.length){var n23=e23[S23];++S23;if(n23.details!=null){return n23.details.live;}}return false;},getMaxLivePoint:function(){var s23=this.getLiveOffset();var J23=s23>0?this._hls.liveSyncPosition+s23*0.45:this._hls.liveSyncPosition;return J23;},getLiveOffset:function(){try{var A23=this.getCurrentLevel();if(this._hls.config.liveSyncDuration!=null&&this._hls.config.liveSyncDuration>0){return this._hls.config.liveSyncDuration;}else{return A23.details.targetduration*this._hls.config.liveSyncDurationCount;}}catch(j23){return 0;}},levelToProfile:function(k23){if(k23<0||k23>=this._hls.levels.length){h4J._logger.warn("[levelToProfile] Invalid level index: "+k23);return null;}var Q23=this._hls.levels[k23];var i23=Q23.url[0];var I23=this.engineToApiBitrate(Q23.bitrate);var E23=I23;var y23=new b6y(i23,E23,Q23.width,Q23.height);return y23;},currentLevelToProfile:function(){h4J._loggerEngine.debug("[currentLevelToProfile] currentLevel: "+this._hls.currentLevel);return this.levelToProfile(this._hls.currentLevel);},levelsToProfiles:function(){var r23=[];var u73=0;var X73=this._hls.levels.length;while(u73<X73){var h73=u73++;r23.push(this.levelToProfile(h73));}return r23;},getMediaProfiles:function(){if(this._model.profiles().length==0){return this.levelsToProfiles();}else{return this._model.profiles();}},apiToEngineBitrate:function(f73){if(this.isDefaultBitrate(f73)){return f73;}else{return f73*1000|0;}},engineToApiBitrate:function(D73){if(this.isDefaultBitrate(D73)){return D73;}else{return D73/1000|0;}},isDefaultBitrate:function(C73){return C73==-1;},doPrune:function(w73){if(w73.pruneType!=T2J.Sliding_Window_Change){return;}h4J._loggerEngine.debug("[doPrune] skipping source buffer prune, see #899 for details");},flushOutOfWindowSourceBufferDataUpTo:function(Y73){var c73={startOffset:this._startBufferFlushTime,endOffset:Y73};h4J._loggerEngine.info("[flushOutOfWindowSourceBufferDataUpTo] Flushing out of window source buffer data.");this._hls.trigger("hlsBufferFlushing",c73);this._startBufferFlushTime=Y73;},addVideoListeners:function(){var F73=0;var R73=h4J.VIDEO_EVENTS;while(F73<R73.length){var U73=R73[F73];++F73;this._videoEl.addEventListener(U73,p1J(this,this.onVideoEvent));}},onVideoEvent:function(o73){var q73=o73.type;if(q73=="timeupdate"){h4J._loggerMediaEl.verbose("[onVideoEvent] "+q73);}else{h4J._loggerMediaEl.debug("[onVideoEvent] "+q73);}switch(q73){case"canplay":this.handleVideoCanPlay();break;case"emptied":h4J._loggerMediaEl.debug("[onVideoEvent] emptied, recovery "+d1J.string(this._recoveringFromError));if(this._recoveringFromError){this.notifyBufferingStarted();}break;case"ended":this.handleVideoEnded();break;case"error":this.handleVideoError();break;case"loadedmetadata":var t73=this._videoEl.volume;var l73=t73;this.notifyVolumeChanged(l73);this.notifyLoaded();this.notifyProfileChanging(this._requestedLevel);this.notifyRequestProfileChanged(this._requestedLevel);h4J._loggerMediaEl.debug("[onVideoEvent] loaded_metadata, recovery: "+d1J.string(this._recoveringFromError));break;case"loadstart":h4J._loggerMediaEl.debug("[onVideoEvent] load_start, recovery: "+d1J.string(this._recoveringFromError));if(this._recoveringFromError){this._isInitialLoad=false;}else{this.notifyStarting();}break;case"pause":if(!this._executingStop){if(!this._videoEl.ended){this.notifyPaused();}}break;case"playing":h4J._loggerMediaEl.debug("[onVideoEvent] playing, was buffering: "+d1J.string(this._isBuffering));if(this._isBuffering){this.notifyBufferingFinished();}this.resetErrorHandling();if(!this._dispatchedStarted){this.notifyStarted();}else if(this._model.state()==r1J.Paused){this.notifyResumed();}break;case"seeked":this.notifySeekFinished();break;case"seeking":this.notifySeekStarted();break;case"stalled":if(this._model.state()!=r1J.Seeking&&this._model.state()!=r1J.Finished&&!this._isBuffering&&this.isBuffering()){h4J._loggerMediaEl.debug("[onVideoEvent] stalled, buffering started");this.notifyBufferingStarted();}break;case"timeupdate":if(this._recoveringFromError){h4J._loggerMediaEl.debug("[onVideoEvent] current time reset during recovery, ignoring");}else if(this._model.state()==r1J.Buffering){this.notifyStateChanged(r1J.Playing);}else if(this._model.state()==r1J.Playing){this.notifyTimeChanged();}h4J._loggerMediaEl.verbose("[onVideoEvent] time update: "+this._videoEl.currentTime);break;case"waiting":if(this._model.state()!=r1J.Seeking&&this._model.state()!=r1J.Finished&&!this._isBuffering){h4J._loggerMediaEl.debug("[onVideoEvent] waiting, buffering started");this.notifyBufferingStarted();}break;default:h4J._loggerMediaEl.debug("[onVideoEvent] unhandled: "+q73);}this._previousVideoEventType=o73.type;},handleVideoEnded:function(){var G73=this.getIsLive();var m73=S4J.safari();var K73=this._videoEl.networkState==2;this._unexpectedEnded=m73&&G73&&K73;if(this._unexpectedEnded){h4J._loggerMediaEl.debug("[handleVideoEnded] ended unexpectedly, going to buffering state");this.notifyBufferingStarted();return;}h4J._loggerMediaEl.debug("[handleVideoEnded] ended, notifying finished");this.notifyFinished();},handleVideoCanPlay:function(){if(this._recoveringFromError){h4J._loggerMediaEl.debug("[handleVideoCanPlay] can_play, done recovering from error");this.notifyRecoveryFinished(this._mediaErrorDetails,this._videoEl.paused);return;}if(this._unexpectedEnded&&this._videoEl.paused){h4J._loggerMediaEl.debug("[handleVideoCanPlay] can_play, done buffering content during unexpected ended state");this._videoEl.play();this._unexpectedEnded=false;}},handleVideoError:function(){var N73;var b73=this._videoEl.error.code;switch(b73){case 1:N73="MEDIA_ERR_ABORTED";break;case 2:N73="MEDIA_ERR_NETWORK";break;case 3:N73="MEDIA_ERR_DECODE";break;case 4:N73="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:N73="MEDIA_ERR_UNKNOWN";}var a73=""+N73+" ("+this._videoEl.error.code+")";h4J._logger.warn("[handleVideoError] error.code: "+a73);if(this._model.state()!=r1J.Error){var g73=this._videoEl.error.code;if(g73==3){this.handleMediaError(a73);}else{this.notifyError(a73);}}},removeVideoListeners:function(){var P73=0;var M73=h4J.VIDEO_EVENTS;while(P73<M73.length){var L73=M73[P73];++P73;this._videoEl.removeEventListener(L73,p1J(this,this.onVideoEvent));}},getViewWidth:function(){return this._videoEl.offsetWidth;},getViewHeight:function(){return this._videoEl.offsetHeight;},getMediaWidth:function(){return this._videoEl.videoWidth;},getMediaHeight:function(){return this._videoEl.videoHeight;},getEffectiveMediaWidth:function(O73,H73){var x73=this.getMediaWidth()/this.getMediaHeight();return Math.min(O73,H73*x73);},getEffectiveMediaHeight:function(d73,v73){var T73=this.getMediaWidth()/this.getMediaHeight();return Math.min(v73,d73/T73);},getCurrentMediaTime:function(){return this._videoEl.currentTime;},isBuffering:function(){if(this._videoEl.buffered!=null&&this._videoEl.buffered.end!=null&&this._videoEl.buffered.length>0){var B73=1.5;var p73=this._videoEl.buffered.end(0);var Z73=this._videoEl.buffered.end(this._videoEl.buffered.length-1);var V73=this._videoEl.currentTime;if(this._previousBufferAmount!=null&&this._previousBufferAmount.buffer==p73&&this._previousBufferAmount.time==V73&&!this._videoEl.paused){return true;}this._previousBufferAmount={buffer:p73,bufferEnd:Z73,time:V73};if(Z73-B73<V73){return true;}}return false;},onConfigPropertyChanged:function(W73){h4J._loggerEngine.debug("[onConfigPropertyChanged] "+d1J.string(W73.property)+": "+d1J.string(W73.oldValue)+" -> "+d1J.string(W73.currentValue));var z73=W73.property;switch(z73[1]){case 0:this.setUpdatedVolumeValue();break;case 1:this.setUpdatedMutedValue();break;case 2:this.setUpdatedOffsetsValue();break;case 3:this.setUpdatedStartIndexValue();break;case 4:this.setUpdatedStartBitrateValue();break;case 5:this.setUpdatedMinBitrateValue();break;case 6:this.setUpdatedMaxBitrateValue();break;case 7:break;case 8:case 9:case 10:break;}if(this._appliedConfigValues!=null){this._stateHandler.handleAppliedConfigData(this._appliedConfigValues);}},setUpdatedConfigValues:function(){this.setUpdatedMaxBitrateValue();this.setUpdatedMinBitrateValue();this.setUpdatedStartBitrateValue();this.setUpdatedStartIndexValue();this.setUpdatedVolumeValue();this.setUpdatedMutedValue();this.setUpdatedOffsetsValue();},setUpdatedMaxBitrateValue:function(){if(!this.guardForConfigBitrateChanged()){return;}var S73=this.calculateAppliedMaxBitrate();if(S73==null){return;}this._appliedConfigValues.maxBitrate=S73;this.setEngineMaxBitrate(S73);},setUpdatedMinBitrateValue:function(){if(!this.guardForConfigBitrateChanged()){return;}var e73=this.calculateAppliedMaxBitrate();if(e73==null){return;}this._appliedConfigValues.minBitrate=e73;this.setEngineMinBitrate(e73);},setUpdatedStartBitrateValue:function(){if(!this.guardForConfigBitrateChanged()){return;}var n73=null;if(n73==null){return;}this._appliedConfigValues.startBitrate=n73;this.setEngineStartBitrate(n73);},setUpdatedStartIndexValue:function(){if(!this.guardForConfigBitrateChanged()){return;}var s73=this.calculateAppliedStartIndex();if(s73==null){return;}this._appliedConfigValues.startIndex=s73;this.setEngineStartIndex(s73);},setUpdatedVolumeValue:function(){var J73=this.calculateAppliedVolume();if(J73==null){return;}var A73=J73;var j73=A73;this._appliedConfigValues.volume=j73;var Q73=J73;var k73=Q73;this.setVolume(k73);},setUpdatedMutedValue:function(){var i73=this._config.muted();if(i73==null){return;}this._appliedConfigValues.muted=i73;this.doSetMuted(i73);},setUpdatedOffsetsValue:function(){var I73=this.calculateAppliedOffset();if(I73==null){return;}var E73=I73;var y73=E73;this._appliedConfigValues.offset=y73;},calculateAppliedStartBitrate:function(){var f93=this._config.startBitrate();var u93=null;if(f93!=null){var X93=f93;var r73=this.getMediaProfiles();if(r73==null){h4J._logger.warn("[calculateAppliedStartBitrate] media profiles not available yet, skipping");return u93;}if(X93>r73[r73.length-1].bitrate){u93=r73[r73.length-1].bitrate;}else if(X93<r73[0].bitrate){u93=r73[0].bitrate;}else{var h93=0;while(h93<r73.length){var D93=r73[h93];++h93;if(D93.bitrate>=X93){u93=D93.bitrate;break;}}}if(u93==null){h4J._logger.warn("[calculateAppliedStartBitrate] Unable to set applied startBitrate value");}}return u93;},setEngineStartBitrate:function(C93){this._hls.startLevel=this.getMediaProfiles().map(function(w93){return w93.bitrate;}).indexOf(C93);},calculateAppliedStartIndex:function(){var c93=this._config.startIndex();var Y93=-1;var F93=this.getMediaProfiles();if(F93==null){h4J._logger.warn("[calculateAppliedStartIndex] media profiles not available yet, skipping");return Y93;}if(c93<0){Y93=0;}else if(c93>F93.length-1){Y93=F93.length-1;}else{Y93=c93;}return Y93;},setEngineStartIndex:function(R93){this._hls.startLevel=R93;},calculateAppliedMinBitrate:function(){var l93=this._config.minBitrate();var q93=null;if(l93!=null){var o93=l93;var U93=this.getMediaProfiles();if(U93==null){h4J._logger.warn("[calculateAppliedMinBitrate] media profiles not available yet, skipping");return q93;}if(o93>U93[U93.length-1].bitrate){q93=U93[U93.length-1].bitrate;}else if(o93<U93[0].bitrate){q93=U93[0].bitrate;}else{var t93=0;while(t93<U93.length){var G93=U93[t93];++t93;if(G93.bitrate>=o93){q93=G93.bitrate;break;}}}if(q93==null){h4J._logger.warn("[calculateAppliedMinBitrate] Unable to set applied minBitrate value");}}return q93;},setEngineMinBitrate:function(N93){var m93=this.apiToEngineBitrate(N93);var K93=this.apiToEngineBitrate(1);this._hls.config.minAutoBitrate=m93-K93;},calculateAppliedMaxBitrate:function(){var M93=this._config.maxBitrate();var b93=null;if(M93!=null){var g93=M93;var a93=this.getMediaProfiles();if(a93==null){h4J._logger.warn("[calculateAppliedMaxBitrate] media profiles not available yet, skipping");return b93;}if(g93>a93[a93.length-1].bitrate){b93=a93[a93.length-1].bitrate;}else if(g93<a93[0].bitrate){b93=a93[0].bitrate;}else{var P93=0;while(P93<a93.length){var L93=a93[P93];++P93;if(L93.bitrate<=g93){b93=L93.bitrate;}}}if(b93==null){h4J._logger.warn("[calculateAppliedMaxBitrate] Unable to set applied maxBitrate value");}}return b93;},setEngineMaxBitrate:function(H93){var x93=this.getMediaProfiles();var O93=x93.filter(function(T93){return T93.bitrate==H93;})[0];this._hls.autoLevelCapping=x93.indexOf(O93);},calculateAppliedOffset:function(){var d93=this._config.offset();var v93=null;if(d93!=null){var V93=d93;if(V93>0){v93=V93;}else{h4J._logger.warn("[calculateAppliedOffset] negative offset currently not supported");}}return v93;},calculateAppliedVolume:function(){var Z93=this._config.volume();var p93=null;if(Z93<0){h4J._logger.warn("[calculateAppliedVolume] Video volume must be between 0 and 1. Clamping to 0.");p93=0;}else if(Z93>1){h4J._logger.warn("[calculateAppliedVolume] Video volume must be between 0 and 1. Clamping to 1.");p93=1;}else{p93=Z93;}return p93;},notifyCommandReceived:function(B93,W93){this._stateHandler.handleCommandReceived(B93,W93);},notifyCommandRejected:function(z93,S93){this._stateHandler.handleCommandRejected(z93,S93);},notifyStateChanged:function(e93){this._stateHandler.handleStateChange(e93);},notifyBlocked:function(n93){this._stateHandler.handleBlocked(""+d1J.string(n93.name)+" "+d1J.string(n93.message));},notifyStarting:function(){this._stateHandler.handleStarting(this._url,this._config);},notifyLoaded:function(){this._dispatchedLoaded=true;var s93=this.levelsToProfiles();var J93=this.getIsLive();var A93=false;var j93=s93.length>1;var Q93=this.getViewWidth();var k93=this.getViewHeight();this._stateHandler.handleLoaded(J93,A93,j93,Q93,k93,s93,this.getVideoElementDuration(),this._appliedConfigValues,this._initialTimedMetadata,this.getPlayableRange(),this.getSeekableRange());},notifyBufferingStarted:function(){this._isBuffering=true;this._stateHandler.handleBufferingStarted();},notifyBufferingFinished:function(){this._isBuffering=false;this._stateHandler.handleBufferingFinished();},notifyRequestProfileChanged:function(y93){var i93=this.levelToProfile(y93);if(i93==null){h4J._logger.warn("[notifyRequestProfileChanged] Unable to retrieve profile for level index: "+y93);return;}var I93=this.getViewWidth();var E93=this.getViewHeight();var r93=this.getEffectiveMediaWidth(I93,E93);var u83=this.getEffectiveMediaHeight(I93,E93);this._stateHandler.handleRequestProfileChanged(i93,r93,u83);},notifyProfileChanging:function(D83){var X83=this.levelToProfile(D83);if(X83==null){h4J._logger.warn("[notifyProfileChanging] Unable to retrieve profile for level index: "+D83);return;}var h83=this.getViewWidth();var f83=this.getViewHeight();var C83=this.getEffectiveMediaWidth(h83,f83);var w83=this.getEffectiveMediaHeight(h83,f83);this._stateHandler.handleProfileChanging(X83,C83,w83);},notifyProfileChanged:function(R83){var Y83=this.levelToProfile(R83);if(Y83==null){h4J._logger.warn("[notifyProfileChanged] Unable to retrieve profile for level index: "+R83);return;}var c83=this.getViewWidth();var F83=this.getViewHeight();var U83=this.getEffectiveMediaWidth(c83,F83);var q83=this.getEffectiveMediaHeight(c83,F83);this._stateHandler.handleProfileChanged(Y83,U83,q83);},notifyStarted:function(){this._dispatchedStarted=true;this._stateHandler.handleStarted();},notifyPaused:function(){this._isPaused=true;this._stateHandler.handlePaused();},notifyResumed:function(){this._isPaused=false;this._stateHandler.handleResumed();},notifyRecoveryStarted:function(o83){this._recoveringFromError=true;this._stateHandler.handleRecoveryStarted(o83);},notifyRecoveryFinished:function(l83,t83){this._isPaused=t83;this._recoveringFromError=false;this._stateHandler.handleRecoveryFinished(l83,t83);},notifyTimeChanged:function(){var m83=this._videoEl.currentTime;var K83=m83;var G83=K83;if(this._currentTime==null){this._currentTime=G83;}this._deltaRelativeTime=G83-this._currentTime;this._currentTime=G83;this._absoluteTime+=this._deltaRelativeTime;this._stateHandler.handleTimeChanged(G83,this.getPlayableRange(),this.getSeekableRange(),this._absoluteTime,this.getVideoElementDuration());},notifyVolumeChanged:function(N83){this._stateHandler.handleVolumeChanged(N83);},notifyMuteChanged:function(a83){this._stateHandler.handleMuteChanged(a83);},notifySeekStarted:function(){h4J._loggerEngine.info("[notifySeekStarted]");this._stateHandler.handleSeekStarted();},notifySeekFinished:function(){h4J._loggerEngine.info("[notifySeekFinished]");var b83=this._requestedSeekTime;var g83=b83;var P83=g83;var M83=this._videoEl.currentTime;var L83=M83;var x83=L83;this._requestedSeekTime=null;this._stateHandler.handleSeekFinished(P83,x83);},notifyResized:function(){var O83=this.getViewWidth();var H83=this.getViewHeight();var T83=this.getEffectiveMediaWidth(O83,H83);var d83=this.getEffectiveMediaHeight(O83,H83);this._stateHandler.handleResize(O83,H83,T83,d83);},handleManifestTimedMetadataReceived:function(v83){var S83=this.getCurrentMediaTime();var e83=S83;var Z83=e83;h4J._loggerMetadata.verbose("[handleManifestTimedMetadataReceived] time: "+Z83+", fragment: "+d1J.string(v83));var W83="tag";var z83={fragmentId:v83.sn};var p83=v83.tagList;var V83=0;while(V83<p83.length){var B83=p83[V83];++V83;var s83=v83.start;var J83=s83;var A83=J83;var j83=B83[0];var n83=B83[1];this.notifyTimedMetadataReceived(Z83,A83,W83,j83,z83,n83);}},handleID3TimedMetadataReceived:function(w33){var Y33=this.getCurrentMediaTime();var F33=Y33;var C33=F33;h4J._loggerMetadata.verbose("[handleID3TimedMetadataReceived] time: "+C33+", data: "+d1J.string(w33));var q33="embedded";var o33="id3";var t33={fragmentId:w33.frag.sn};var D33=w33.samples;var k83=new b4J();var E83=0;while(E83<D33.length){var I83=D33[E83];++E83;var Q83=I83.pts==null?"null":""+I83.pts;if(!(E1J[Q83]!=null?k83.existsReserved(Q83):k83.h.hasOwnProperty(Q83))){var X33=[];if(E1J[Q83]!=null){k83.setReserved(Q83,X33);}else{k83.h[Q83]=X33;}}var y83=E1J[Q83]!=null?k83.getReserved(Q83):k83.h[Q83];y83.push({data:I83.data,len:I83.len});if(E1J[Q83]!=null){k83.setReserved(Q83,y83);}else{k83.h[Q83]=y83;}}var c33=function(a33,b33){var K33=parseFloat(a33);var N33=parseFloat(b33);if(K33==N33){return 0;}else if(K33>N33){return 1;}else{return-1;}};var h33=[];var f33=k83.keys();while(f33.hasNext()){var U33=f33.next();h33.push(U33);}var r83=h33;V6J.sort(r83,c33);var u33=0;while(u33<r83.length){var i83=r83[u33];++u33;var l33=parseFloat(i83);var G33=l33;var m33=G33;var R33=E1J[i83]!=null?k83.getReserved(i83):k83.h[i83];this.notifyTimedMetadataReceived(C33,m33,q33,o33,t33,R33);}},notifyTimedMetadataReceived:function(g33,P33,M33,L33,x33,O33){this._stateHandler.handleTimedMetadataReceived(g33,P33,M33,L33,x33,O33);},notifyStopped:function(){this._executingStop=false;this._stateHandler.handleStopped();},notifyFinished:function(){this._stateHandler.handleFinished();},notifyError:function(H33){this._stateHandler.handleInitError(H33);},getPlayableRange:function(){return U6J.createWithEnd(this.getSlidingWindowStart(),this.getVideoElementDuration());},getSeekableRange:function(){var T33=this._model.isLive()?this.getLiveSyncPosition():this.getVideoElementDuration();return U6J.createWithEnd(this.getSlidingWindowStart(),T33);},getSlidingWindowStart:function(){if(this._currentLevelData!=null){return this._currentLevelData.details.fragments[0].start;}else{return 0;}},getVideoElementDuration:function(){return this._videoEl.duration;},getLiveSyncPosition:function(){var d33=this._hls;if((d33==null?{}:d33).liveSyncPosition!=null){return this._hls.liveSyncPosition;}else{return this._estimatedLiveSyncPosition;}},getHlsJsLogger:function(){return{debug:(l6J=h4J._loggerHlsjs,p1J(l6J,l6J.debug)),log:(l6J=h4J._loggerHlsjs,p1J(l6J,l6J.verbose)),info:(l6J=h4J._loggerHlsjs,p1J(l6J,l6J.info)),warn:(l6J=h4J._loggerHlsjs,p1J(l6J,l6J.warn)),error:(l6J=h4J._loggerHlsjs,p1J(l6J,l6J.error))};},configureRetryLimits:function(v33,W33){var V33=1000;var p33=10000;var B33=W33+v33.maxBufferLength*1000;var Z33=this.getMaxRetriesForLimit(B33,V33,p33);v33.fragLoadingMaxRetry=Z33;v33.levelLoadingMaxRetry=Z33;v33.fragLoadingRetryDelay=V33;v33.levelLoadingRetryDelay=V33;v33.fragLoadingMaxRetryTimeout=p33;v33.levelLoadingMaxRetryTimeout=p33;h4J._logger.debug("[configureRetryLimits] using values `maxRetries: "+Z33+"`, `delay: "+V33+"`, `maxWait: "+p33+"` for levels and fragments");return v33;},getMaxRetriesForLimit:function(n33,s33,J33){var S33=0;var z33=s33;var e33=0;while(S33+z33<n33){++e33;S33+=z33;z33=Math.min(z33*2,J33);}return e33;},init:function(A33,j33){this.doInit(A33,j33);},play:function(Q33,k33){this.doPlay(Q33,k33);},pause:function(){this.doPause();},resume:function(){this.doResume();},seek:function(i33){this.doSeek(i33);},seekToLive:function(){this.doSeekToLive();},setVolume:function(I33){this.doSetVolume(I33);},mute:function(){this.doSetMuted(true);},unmute:function(){this.doSetMuted(false);},resize:function(E33,y33){this.doResize(E33,y33);},stop:function(){this.doStop();},getView:function(){return this._videoEl;},prune:function(r33){this.doPrune(r33);},destroy:function(){this.doDestroy();},events:function(){return this._events;},config:function(){return this._config;},model:function(){return this._model;},__class__:h4J};var Z4J=e1J["com"]["turner"]["top"]["engines"]["media"]["video_el_js"]["NativeVideoMediaEngine"]=function(u53){this._videoEl=u53;this._events=new D0y();this._config=new x7J();this._appliedConfigValues={};};O1J["com.turner.top.engines.media.video_el_js.NativeVideoMediaEngine"]=Z4J;Z4J.__name__=["com","turner","top","engines","media","video_el_js","NativeVideoMediaEngine"];Z4J.__interfaces__=[S1y];Z4J.prototype={_events:null,_config:null,_model:null,_stateHandler:null,_videoEl:null,_attaching:null,_attached:null,_url:null,_executingPlaySequence:null,_playCommand:null,_appliedConfigValues:null,_lastPlaybackError:null,_playbackFailed:null,_playInvoked:null,_dispatchedLoaded:null,_dispatchedStarted:null,_isBuffering:null,_isPaused:null,_previousVideoEventType:null,_lastCueReceived:null,_previousBufferAmount:null,_requestedSeekTime:null,_requestedLevel:null,_executingStop:null,doInit:function(X53,h53){this.initMediaConfig(X53);this.initMediaModel();this.initStateChangeHandler();if(X53!=null){this.setUpdatedConfigValues();}},initMediaConfig:function(f53){this._config.init(f53);this._config.events().propertyChanged.listen(p1J(this,this.onConfigPropertyChanged));},initMediaModel:function(){this._model=new P7J().init(null);},initStateChangeHandler:function(){var D53=new J8J().init(this._model);var C53=new T8J().init(this._events);this._stateHandler=new n8J().init(this._model,D53,C53);},doPlay:function(w53,Y53){this.resetStateForPlay();this.setupVideoElementForPlay();this._playInvoked=true;this._executingPlaySequence=true;this._url=w53;this._playCommand={url:w53,data:Y53};this.notifyCommandReceived(q4J.Play,[w53,Y53]);this._config.clearTransientData().withModes([Q6J.Silent,Q6J.Transient],function(c53){c53.extend(Y53);});this.setUpdatedConfigValues();this.startVideoMetadataSetup();},resetStateForPlay:function(){this._playInvoked=false;this._playbackFailed=false;this._dispatchedLoaded=false;this._dispatchedStarted=false;this._isBuffering=false;this._isPaused=false;this._requestedLevel=-1;this._requestedSeekTime=null;this._previousVideoEventType=null;this._previousBufferAmount=null;this._executingStop=false;},setupVideoElementForPlay:function(){this._videoEl.load();this.attachVideoElementListeners();},startVideoMetadataSetup:function(){this._videoEl.setAttribute("src",this._url);this._videoEl.load();},finishVideoMetadataSetup:function(){this._executingPlaySequence=false;var F53=this._videoEl.play();var R53=p1J(this,this.onPlayVerifyFailure);var U53=p1J(this,this.onPlayVerifyFinished);if(F53!=null){F53["catch"](function(q53){R53(q53);return;}).then(function(o53){U53();return;});}},onPlayVerifyFailure:function(t53){this._playbackFailed=true;this._lastPlaybackError=t53;},onPlayVerifyFinished:function(){var l53=this._videoEl.readyState==0;var G53=this._playbackFailed&&!l53;if(G53){Z4J._logger.warn("[onPlayVerifyFinished] rejection reason was NotAllowed, notifying blocked");this.notifyBlocked(this._lastPlaybackError);}else{Z4J._logger.info("[onPlayVerifyFinished] play verification succeeded");}},doPause:function(){this.notifyCommandReceived(q4J.Pause,[]);if(!this.guardForPause()){this.notifyCommandRejected(q4J.Pause,[]);return;}this._videoEl.pause();},doResume:function(){this.notifyCommandReceived(q4J.Resume,[]);if(!this.guardForResume()){this.notifyCommandRejected(q4J.Resume,[]);return;}this._videoEl.play();},doSetVolume:function(m53){this.notifyCommandReceived(q4J.Set_Volume,[m53]);this._videoEl.volume=m53;var K53=this._videoEl.volume;var N53=K53;this.notifyVolumeChanged(N53);},doSetMuted:function(a53){if(a53){this.notifyCommandReceived(q4J.Mute,[a53]);}else{this.notifyCommandReceived(q4J.Unmute,[a53]);}this._videoEl.muted=a53;this.notifyMuteChanged(this._videoEl.muted);},doSeek:function(b53){this.notifyCommandReceived(q4J.Seek,[b53]);if(!this.guardForSeek()){this.notifyCommandRejected(q4J.Seek,[b53]);return;}this._requestedSeekTime=b53;this._videoEl.currentTime=b53;},doSeekToLive:function(){var g53=this._videoEl.seekable.length-1;if(g53<0){Z4J._logger.warn("[doSeekToLive] ignoring, no seekable range found");return;}var P53=this._videoEl.seekable.end(g53);Z4J._logger.info("[doSeekToLive] Seeking to live position: "+P53);this._videoEl.currentTime=P53;},doResize:function(M53,L53){this.notifyCommandReceived(q4J.Resize,[M53,L53]);this._videoEl.style.width=""+M53+"px";this._videoEl.style.height=""+L53+"px";this.notifyResized();},doStop:function(){this.notifyCommandReceived(q4J.Stop,[]);if(!this.guardForStop()){this.notifyCommandRejected(q4J.Stop,[]);return;}this._executingStop=true;if(this.videoHasPlayedContent()){this.stopPlayedVideo();}else{this.stopUnplayedVideo();}this.removeVideoElementListeners();this.notifyStopped();},videoHasPlayedContent:function(){return this._videoEl.readyState>=2;},stopPlayedVideo:function(){this._videoEl.pause();if(!S4J.ie(11)){this._videoEl.currentTime=0;}},stopUnplayedVideo:function(){this._executingPlaySequence=false;},doDestroy:function(){this.doStop();this.removeVideoElementListeners();},guard:function(H53,T53){var x53=0;while(x53<H53.length){var O53=H53[x53];++x53;if(!O53.cond){if(T53!=null){T53(O53.fail);}return false;}}return true;},guardForUpdateConfig:function(){var d53=this._model.state()!=r1J.Stopped&&this._model.state()!=r1J.Finished&&this._model.state()!=r1J.Error;return this.guard([{cond:this._dispatchedLoaded,fail:"called when media is not yet loaded"},{cond:d53,fail:"called when media state is stopped, ended, or error"}],function(v53){Z4J._logger.warn("[doUpdateConfig] "+v53);});},guardForPause:function(){var V53=this._model.state()!=r1J.Paused;return this.guard([{cond:this._dispatchedStarted,fail:"called when media is not yet playing"},{cond:V53,fail:"called when media state is already paused"}],function(p53){Z4J._logger.warn("[doPause] "+p53);});},guardForResume:function(){var Z53=this._model.state()==r1J.Paused||this._model.state()==r1J.Seeking;return this.guard([{cond:this._dispatchedStarted,fail:"called when media is not yet playing"},{cond:Z53,fail:"called when media state is not paused or seeking"}],function(B53){Z4J._logger.warn("[doResume] "+B53);});},guardForSeek:function(){var W53=this._model.state()==r1J.Playing||this._model.state()==r1J.Paused;return this.guard([{cond:this._dispatchedStarted,fail:"called when media is not yet playing"},{cond:W53,fail:"called when media state is not playing or paused"}],function(z53){Z4J._logger.warn("[doSeek] "+z53);});},guardForStop:function(){var S53=this._model.state()!=r1J.Stopped;return this.guard([{cond:this._playInvoked,fail:"called before play has been called"},{cond:S53,fail:"called when already stopped"}],function(e53){Z4J._logger.warn("[doStop] "+e53);});},attachVideoElementListeners:function(){this._videoEl.textTracks.addEventListener("addtrack",p1J(this,this.onAddTrack));this._videoEl.textTracks.addEventListener("change",p1J(this,this.onTrackChange));var n53=0;var s53=Z4J._videoEvents;while(n53<s53.length){var J53=s53[n53];++n53;this._videoEl.addEventListener(J53,p1J(this,this.onVideoEvent));}},attachVideoTrackListeners:function(A53){A53.addEventListener("cuechange",p1J(this,this.onCueChange));},removeVideoElementListeners:function(){this._videoEl.textTracks.removeEventListener("addtrack",p1J(this,this.onAddTrack));this._videoEl.textTracks.removeEventListener("change",p1J(this,this.onTrackChange));var j53=0;var Q53=Z4J._videoEvents;while(j53<Q53.length){var k53=Q53[j53];++j53;this._videoEl.removeEventListener(k53,p1J(this,this.onVideoEvent));}},removeVideoTrackListeners:function(i53){i53.removeEventListener("cuechange",p1J(this,this.onCueChange));},onVideoEvent:function(E53){var I53=E53.type;if(this.bufferingHasFinished(I53)){this.notifyBufferingFinished();}this.triggerListenerForVideoEvent(I53);this._previousVideoEventType=I53;},bufferingHasFinished:function(y53){if(this._isBuffering){return y53!="progress";}else{return false;}},triggerListenerForVideoEvent:function(r53){switch(r53){case"ended":this.onEnded();break;case"error":this.onError();break;case"loadeddata":this.onLoadedData();break;case"loadedmetadata":this.onLoadedMetadata();break;case"loadstart":this.onLoadStart();break;case"pause":this.onPause();break;case"playing":this.onPlaying();break;case"ready":this.onReady();break;case"seeked":this.onSeeked();break;case"seeking":this.onSeeking();break;case"stalled":this.onStalled();break;case"timeupdate":this.onTimeUpdate();break;case"waiting":this.onWaiting();break;default:}},onReady:function(){Z4J._logger.debug("[onVideoEvent] ready");},onLoadStart:function(){Z4J._logger.debug("[onVideoEvent] loadstart");this.notifyStarting();},onWaiting:function(){Z4J._logger.debug("[onVideoEvent] waiting");if(this.canBufferingStart()){this.notifyBufferingStarted();}},onStalled:function(){Z4J._logger.debug("[onVideoEvent] stalled");if(this.canBufferingStart()&&this.isBufferUnderrun()){this.notifyBufferingStarted();}},canBufferingStart:function(){if(this._model.state()!=r1J.Seeking&&this._model.state()!=r1J.Finished){return!this._isBuffering;}else{return false;}},isBufferUnderrun:function(){if(this._videoEl.buffered!=null&&this._videoEl.buffered.end!=null&&this._videoEl.buffered.length>0){var f0l=1.5;var X0l=this._videoEl.buffered.end(0);var h0l=this._videoEl.buffered.end(this._videoEl.buffered.length-1);var u0l=this._videoEl.currentTime;if(this._previousBufferAmount!=null&&this._previousBufferAmount.buffer==X0l&&this._previousBufferAmount.time==u0l&&!this._videoEl.paused){return true;}this._previousBufferAmount={buffer:X0l,bufferEnd:h0l,time:u0l};Z4J._logger.debug("[isBuffering] buffer: "+X0l+", bufferEnd: "+h0l+", time: "+u0l+", threshold: "+f0l);if(h0l-f0l<u0l){return true;}}return false;},onLoadedData:function(){Z4J._logger.debug("[onVideoEvent] loadeddata");this.seekToAppliedOffset();},seekToAppliedOffset:function(){if(this._appliedConfigValues.offset!=null){this._videoEl.currentTime=this._appliedConfigValues.offset;}},onLoadedMetadata:function(){Z4J._logger.debug("[onVideoEvent] loadedmetadata");var D0l=this._videoEl.volume;var C0l=D0l;this.notifyVolumeChanged(C0l);this.notifyLoaded();if(this._executingPlaySequence){this.finishVideoMetadataSetup();}},onPlaying:function(){Z4J._logger.debug("[onVideoEvent] playing");if(!this._dispatchedStarted){this.notifyStarted();}else if(this._model.state()==r1J.Paused){this.notifyResumed();}},onTimeUpdate:function(){if(this._model.state()==r1J.Buffering){this.notifyStateChanged(r1J.Playing);}if(this._model.state()==r1J.Playing){this.notifyTimeChanged();}},onPause:function(){Z4J._logger.debug("[onVideoEvent] pause");if(this.hasPausedDuringPlayback()){this.notifyPaused();}},hasPausedDuringPlayback:function(){return!this._videoEl.ended;},onSeeking:function(){Z4J._logger.debug("[onVideoEvent] seeking");this.notifySeekStarted();},onSeeked:function(){Z4J._logger.debug("[onVideoEvent] seeked");this.notifySeekFinished();},onEnded:function(){Z4J._logger.debug("[onVideoEvent] ended");this.notifyFinished();},onError:function(){Z4J._logger.debug("[onVideoEvent] error - "+this._videoEl.error.code);if(this.videoErrorIsUnknown()){this.notifyError("HTML5VideoElement - "+this._videoEl.error.code);}},videoErrorIsUnknown:function(){return this._model.state()!=r1J.Error;},onTrackChange:function(F0l){var c0l=F0l.target;var Y0l=0;while(Y0l<c0l.length){var w0l=c0l[Y0l];++Y0l;Z4J._logger.debug("[onTrackChange] track change detected for [kind-"+d1J.string(w0l.kind)+"]:[mode-"+d1J.string(w0l.mode)+"]");if(w0l.kind=="metadata"&&w0l.mode!="hidden"){w0l.mode="hidden";}}},onAddTrack:function(R0l){if(this.isMetadataTrack(R0l.track)){this.doHideTrack(R0l.track);}},isMetadataTrack:function(U0l){return U0l.kind=="metadata";},doHideTrack:function(q0l){q0l.mode="hidden";this.attachVideoTrackListeners(q0l);},onCueChange:function(G0l){var o0l=G0l.target.activeCues;Z4J._logger.debug("[onAddTrack] cuechange-"+d1J.string(new Date()));Z4J._logger.debug("[onAddTrack] active cues "+o0l.length);var t0l=0;while(t0l<o0l.length){var l0l=o0l[t0l];++t0l;this.updateStateMetadataWithCue(l0l);}},updateStateMetadataWithCue:function(N0l){Z4J._logger.debug("[activeCue] cue "+d1J.string(N0l));var g0l=this.getCueTriggerTimeRange(N0l);var m0l=N0l.value.data;if(this.cueIsDuplicate(g0l,m0l)){Z4J._logger.debug("[activeCue] Duplicate cue detected, skipping "+m0l);return;}var x0l=[m0l];var b0l=[];var a0l=0;var P0l=this._videoEl.textTracks;while(a0l<P0l.length){var M0l=P0l[a0l];++a0l;if(M0l.kind=="metadata"){b0l=M0l.cues;}}var L0l=b0l.length;while(--L0l>=0){var K0l=b0l[L0l];var H0l=0.1;var O0l=N0l.startTime-H0l;var d0l=N0l.startTime;var v0l=K0l.value.data!=m0l;var V0l=K0l.startTime>=O0l&&K0l.startTime<=d0l;if(K0l.startTime<O0l){break;}if(V0l&&v0l){x0l.push(K0l.value.data);}}var p0l=this.getCurrentMediaTime();var Z0l=p0l;var T0l=Z0l;this.handleID3Received(T0l,g0l,x0l);this._lastCueReceived={timeToTrigger:g0l,data:m0l};},getCueTriggerTimeRange:function(B0l){return B0l.startTime+0.5;},cueIsDuplicate:function(W0l,z0l){if(this._lastCueReceived!=null&&W0l==this._lastCueReceived.timeToTrigger){return z0l==this._lastCueReceived.data;}else{return false;}},handleID3Received:function(j0l,Q0l,s0l){var e0l=[];var S0l=0;while(S0l<s0l.length){var n0l=s0l[S0l];++S0l;e0l.push({data:n0l,len:n0l.length});}var J0l=e0l;var A0l={fragmentId:null};this._stateHandler.handleTimedMetadataReceived(j0l,Q0l,"embedded","id3",A0l,J0l);},getIsLive:function(){return this._videoEl.duration==Infinity;},getViewWidth:function(){return this._videoEl.offsetWidth;},getViewHeight:function(){return this._videoEl.offsetHeight;},getMediaWidth:function(){return this._videoEl.videoWidth;},getMediaHeight:function(){return this._videoEl.videoHeight;},getEffectiveMediaWidth:function(i0l,I0l){var k0l=this.getMediaWidth()/this.getMediaHeight();return Math.min(i0l,I0l*k0l);},getEffectiveMediaHeight:function(y0l,r0l){var E0l=this.getMediaWidth()/this.getMediaHeight();return Math.min(r0l,y0l/E0l);},getCurrentMediaTime:function(){return this._videoEl.currentTime;},onConfigPropertyChanged:function(u1l){Z4J._logger.debug("[onConfigPropertyChanged] "+d1J.string(u1l.property)+": "+d1J.string(u1l.oldValue)+" -> "+d1J.string(u1l.currentValue));var X1l=u1l.property;switch(X1l[1]){case 0:this.setUpdatedVolumeValue();break;case 1:this.setUpdatedMutedValue();break;case 2:this.setUpdatedOffsetValues();break;case 3:case 4:case 5:case 6:case 8:case 9:case 10:break;case 7:break;}if(this._appliedConfigValues!=null){this._stateHandler.handleAppliedConfigData(this._appliedConfigValues);}},setUpdatedConfigValues:function(){this.setUpdatedVolumeValue();this.setUpdatedMutedValue();this.setUpdatedOffsetValues();},setUpdatedVolumeValue:function(){var h1l=this.calculateAppliedVolume();if(h1l==null){return;}var f1l=h1l;var D1l=f1l;this._appliedConfigValues.volume=D1l;var C1l=h1l;var w1l=C1l;this.doSetVolume(w1l);},setUpdatedMutedValue:function(){var Y1l=this._config.muted();if(Y1l==null){return;}this._appliedConfigValues.muted=Y1l;this.doSetMuted(Y1l);},setUpdatedOffsetValues:function(){var c1l=this.calculateAppliedOffset();if(c1l==null){return;}var F1l=c1l;var R1l=F1l;this._appliedConfigValues.offset=R1l;},calculateAppliedVolume:function(){var q1l=this._config.volume();var U1l=null;if(q1l<0){Z4J._logger.warn("[calculateAppliedVolume] Video volume must be between 0 and 1. Clamping to 0.");U1l=0;}else if(q1l>1){Z4J._logger.warn("[calculateAppliedVolume] Video volume must be between 0 and 1. Clamping to 0.");U1l=1;}else{U1l=q1l;}return U1l;},calculateAppliedOffset:function(){var o1l=this._config.offset();var t1l=null;if(o1l!=null){var l1l=o1l;if(l1l>0){t1l=l1l;}else{Z4J._logger.warn("[calculateAppliedOffset] negative offset currently not supported");}}return t1l;},notifyCommandReceived:function(G1l,m1l){this._stateHandler.handleCommandReceived(G1l,m1l);},notifyCommandRejected:function(K1l,N1l){this._stateHandler.handleCommandRejected(K1l,N1l);},notifyStateChanged:function(a1l){this._stateHandler.handleStateChange(a1l);},notifyStarting:function(){Z4J._logger.debug("[notifyStarting] url: "+this._videoEl.src);this._stateHandler.handleStarting(this._url,this._config);},notifyBlocked:function(b1l){var g1l=b1l.name;var P1l=b1l.message;var M1l="["+g1l+"] "+P1l;this._stateHandler.handleBlocked(M1l);},notifyLoaded:function(){this._dispatchedLoaded=true;var O1l=[];var v1l=this.getIsLive();var d1l=false;var T1l=O1l.length>1;var H1l=this.getViewWidth();var L1l=this.getViewHeight();Z4J._logger.debug("[notifyLoaded] vw: "+H1l+", vh: "+L1l);var V1l=this._videoEl.duration;var p1l=V1l;var Z1l=p1l;var B1l=[];var x1l=this._appliedConfigValues;this._stateHandler.handleLoaded(v1l,d1l,T1l,H1l,L1l,O1l,Z1l,x1l==null?{}:x1l,B1l,this.getPlayableRange(),this.getSeekableRange());},notifyBufferingStarted:function(){this._isBuffering=true;this._stateHandler.handleBufferingStarted();},notifyBufferingFinished:function(){this._isBuffering=false;this._stateHandler.handleBufferingFinished();},notifyStarted:function(){Z4J._logger.debug("[notifyStarted]");this._dispatchedStarted=true;this._stateHandler.handleStarted();},notifyPaused:function(){this._isPaused=true;this._stateHandler.handlePaused();},notifyResumed:function(){this._isPaused=false;this._stateHandler.handleResumed();},notifyTimeChanged:function(){var z1l=this._videoEl.currentTime;var S1l=z1l;var W1l=S1l;var e1l=this._videoEl.duration;var n1l=e1l;var s1l=n1l;var J1l=W1l;this._stateHandler.handleTimeChanged(W1l,this.getPlayableRange(),this.getSeekableRange(),J1l,s1l);},notifyVolumeChanged:function(A1l){this._stateHandler.handleVolumeChanged(A1l);},notifyMuteChanged:function(j1l){this._stateHandler.handleMuteChanged(j1l);},notifySeekStarted:function(){Z4J._logger.info("[notifySeekStarted]");this._stateHandler.handleSeekStarted();},notifySeekFinished:function(){Z4J._logger.info("[notifySeekFinished]");var Q1l=this._requestedSeekTime;var k1l=Q1l;var i1l=k1l;var I1l=this._videoEl.currentTime;var E1l=I1l;var y1l=E1l;this._requestedSeekTime=null;this._stateHandler.handleSeekFinished(i1l,y1l);},notifyResized:function(){Z4J._logger.debug("[notifyResized]");var r1l=this.getViewWidth();var u4l=this.getViewHeight();var X4l=this.getEffectiveMediaWidth(r1l,u4l);var h4l=this.getEffectiveMediaHeight(r1l,u4l);this._stateHandler.handleResize(r1l,u4l,X4l,h4l);},notifyStopped:function(){this._executingStop=false;this._stateHandler.handleStopped();},notifyFinished:function(){this._stateHandler.handleFinished();},notifyError:function(f4l){this._stateHandler.handleInitError(f4l);},getPlayableRange:function(){var D4l=0;var C4l=this._videoEl.duration;if(this.getIsLive()&&this._videoEl.seekable.length>0){D4l=this._videoEl.seekable.start(0);C4l=this._videoEl.seekable.end(0)+30;}return U6J.createWithEnd(D4l,C4l);},getSeekableRange:function(){var w4l=0;var Y4l=0;if(this._videoEl.seekable.length>0){w4l=this._videoEl.seekable.start(0);Y4l=this._videoEl.seekable.end(0);}return U6J.createWithEnd(w4l,Y4l);},init:function(c4l,F4l){this.doInit(c4l,F4l);},play:function(R4l,U4l){this.doPlay(R4l,U4l);},pause:function(){this.doPause();},resume:function(){this.doResume();},seek:function(q4l){this.doSeek(q4l);},seekToLive:function(){this.doSeekToLive();},setVolume:function(o4l){this.doSetVolume(o4l);},mute:function(){this.doSetMuted(true);},unmute:function(){this.doSetMuted(false);},resize:function(t4l,l4l){this.doResize(t4l,l4l);},stop:function(){this.doStop();},getView:function(){return this._videoEl;},prune:function(G4l){},destroy:function(){this.doDestroy();},events:function(){return this._events;},config:function(){return this._config;},model:function(){return this._model;},__class__:Z4J};var s5y=P1J(8);var v4y=function(){};O1J["com.turner.top.lib.converters.Converter"]=v4y;v4y.__name__=["com","turner","top","lib","converters","Converter"];v4y.by1000s=function(m4l){return m4l/1000;};v4y.to1000s=function(K4l){return K4l*1000;};v4y.by100s=function(N4l){return N4l/100;};v4y.to100s=function(a4l){return a4l*100;};var Z4y={};O1J["com.turner.top.lib.converters._Types.ValueInSeconds_Impl_"]=Z4y;Z4y.__name__=["com","turner","top","lib","converters","_Types","ValueInSeconds_Impl_"];Z4y._new=function(g4l){var b4l=g4l;return b4l;};Z4y.fromMillis=function(M4l){var P4l=M4l/1000;return P4l;};Z4y.toMillis=function(x4l){var L4l=x4l*1000;return L4l;};Z4y.toFloat=function(O4l){return O4l;};var S4y={};O1J["com.turner.top.lib.converters._Types.ValueInMillis_Impl_"]=S4y;S4y.__name__=["com","turner","top","lib","converters","_Types","ValueInMillis_Impl_"];S4y._new=function(T4l){var H4l=T4l;return H4l;};S4y.fromSeconds=function(v4l){var d4l=v4l*1000;return d4l;};S4y.toSeconds=function(p4l){var V4l=p4l/1000;return V4l;};S4y.toFloat=function(Z4l){return Z4l;};var s4y={};O1J["com.turner.top.lib.converters._Types.ValueBetween0and1_Impl_"]=s4y;s4y.__name__=["com","turner","top","lib","converters","_Types","ValueBetween0and1_Impl_"];s4y._new=function(W4l){var B4l=W4l;return B4l;};s4y.from0_100=function(S4l){var z4l=S4l/100;return z4l;};s4y.to0_100=function(n4l){var e4l=n4l*100;return e4l;};s4y.toFloat=function(s4l){return s4l;};var J4y={};O1J["com.turner.top.lib.converters._Types.ValueBetween0and100_Impl_"]=J4y;J4y.__name__=["com","turner","top","lib","converters","_Types","ValueBetween0and100_Impl_"];J4y._new=function(A4l){var J4l=A4l;return J4l;};J4y.from0_1=function(Q4l){var j4l=Q4l*100;return j4l;};J4y.to0_1=function(i4l){var k4l=i4l/100;return k4l;};J4y.toFloat=function(I4l){return I4l;};var q6y={};O1J["com.turner.top.lib.converters._Types.ValueInBps_Impl_"]=q6y;q6y.__name__=["com","turner","top","lib","converters","_Types","ValueInBps_Impl_"];q6y._new=function(y4l){var E4l=y4l;return E4l;};q6y.fromKBps=function(u6l){var r4l=u6l/1000|0;return r4l;};q6y.toKBps=function(h6l){var X6l=h6l*1000|0;return X6l;};q6y.toInt=function(f6l){return f6l;};var g6y={};O1J["com.turner.top.lib.converters._Types.ValueInKBps_Impl_"]=g6y;g6y.__name__=["com","turner","top","lib","converters","_Types","ValueInKBps_Impl_"];g6y._new=function(C6l){var D6l=C6l;return D6l;};g6y.fromBps=function(Y6l){var w6l=Y6l*1000|0;return w6l;};g6y.toBps=function(F6l){var c6l=F6l/1000|0;return c6l;};g6y.toInt=function(R6l){return R6l;};var z6y=function(){};O1J["com.turner.top.lib.core.FormatType"]=z6y;z6y.__name__=["com","turner","top","lib","core","FormatType"];var q5y=function(){};O1J["com.turner.top.lib.datasource.IDataSourceWriter"]=q5y;q5y.__name__=["com","turner","top","lib","datasource","IDataSourceWriter"];q5y.prototype={registerProperty:null,setProperty:null,removeProperty:null,clearPropertyMap:null,clear:null,__class__:q5y};var U5y=function(){};O1J["com.turner.top.lib.datasource.IDataSource"]=U5y;U5y.__name__=["com","turner","top","lib","datasource","IDataSource"];U5y.prototype={events:null,getPropertyMap:null,getProperty:null,__class__:U5y};var k7J=function(){this._events=new D5y();this._propertyKeyMap=new b4J();this._categoryMap=new b4J();};O1J["com.turner.top.lib.datasource.DataSource"]=k7J;k7J.__name__=["com","turner","top","lib","datasource","DataSource"];k7J.__interfaces__=[q5y,U5y];k7J.prototype={_events:null,_propertyKeyMap:null,_categoryMap:null,doGetPropertyMap:function(U6l){return this.retrievePropertyMap(U6l);},doGetProperty:function(t6l,q6l){var o6l=this.retrievePropertyMap(t6l);if(E1J[q6l]!=null?o6l.existsReserved(q6l):o6l.h.hasOwnProperty(q6l)){return E1J[q6l]!=null?o6l.getReserved(q6l):o6l.h[q6l];}return null;},doRegisterProperty:function(K6l,l6l,m6l){var G6l=this.retrievePropertyTypeMap(K6l);if(E1J[l6l]!=null){G6l.setReserved(l6l,m6l);}else{G6l.h[l6l]=m6l;}},doSetProperty:function(a6l,N6l,T6l){var x6l=this.doGetProperty(a6l,N6l);var b6l=this.retrievePropertyMap(a6l);var P6l=T6l;if(E1J[N6l]!=null){b6l.setReserved(N6l,P6l);}else{b6l.h[N6l]=P6l;}var g6l=a6l==k7J.CATEGORY_DEFAULT?"":a6l;var O6l=g6l==""?N6l:""+g6l+"."+N6l;var M6l=this.retrievePropertyKey(O6l);var L6l=new h2y(a6l,M6l,x6l,T6l);var H6l=new r6y(b6l,L6l);this._events.propertyMapChanged.dispatch(g6l,H6l);this._events.propertyChanged.dispatch(M6l,L6l);},doRemoveProperty:function(V6l,d6l){var v6l=this.retrievePropertyMap(V6l);if(E1J[d6l]!=null?v6l.existsReserved(d6l):v6l.h.hasOwnProperty(d6l)){v6l.remove(d6l);}},doClearPropertyMap:function(p6l){this.removeProperyRecord(p6l);},doClear:function(){this._categoryMap=new b4J();},retrieveProperyRecord:function(Z6l){var B6l=this._categoryMap;if(!(E1J[Z6l]!=null?B6l.existsReserved(Z6l):B6l.h.hasOwnProperty(Z6l))){var e6l=this._categoryMap;var W6l=this.createPropertyRecord();var z6l=e6l;if(E1J[Z6l]!=null){z6l.setReserved(Z6l,W6l);}else{z6l.h[Z6l]=W6l;}}var S6l=this._categoryMap;if(E1J[Z6l]!=null){return S6l.getReserved(Z6l);}else{return S6l.h[Z6l];}},removeProperyRecord:function(n6l){var s6l=this._categoryMap;if(E1J[n6l]!=null?s6l.existsReserved(n6l):s6l.h.hasOwnProperty(n6l)){this._categoryMap.remove(n6l);}},retrievePropertyMap:function(J6l){return this.retrieveProperyRecord(J6l).propertyMap;},retrievePropertyTypeMap:function(A6l){return this.retrieveProperyRecord(A6l).typeMap;},createPropertyRecord:function(){return{propertyMap:new b4J(),typeMap:new b4J()};},retrievePropertyKey:function(j6l){var Q6l=this._propertyKeyMap;if(E1J[j6l]!=null?Q6l.existsReserved(j6l):Q6l.h.hasOwnProperty(j6l)){var k6l=this._propertyKeyMap;if(E1J[j6l]!=null){return k6l.getReserved(j6l);}else{return k6l.h[j6l];}}return null;},convertPropertyKey:function(r6l){var i6l=y3y.propertyKeyToString(r6l);var I6l=this._propertyKeyMap;if(!(E1J[i6l]!=null?I6l.existsReserved(i6l):I6l.h.hasOwnProperty(i6l))){var E6l=this._propertyKeyMap;var y6l=r6l;if(E1J[i6l]!=null){E6l.setReserved(i6l,y6l);}else{E6l.h[i6l]=y6l;}}return i6l;},propertyToParts:function(X2l){var u2l=X2l.indexOf(".");var h2l=u2l==-1?k7J.CATEGORY_DEFAULT:X2l.substring(0,u2l);var f2l=u2l==-1?X2l:X2l.substring(u2l+1);return{category:h2l,name:f2l};},events:function(){return this._events;},getPropertyMap:function(C2l){var D2l=this.convertPropertyKey(C2l);return this.doGetPropertyMap(D2l);},getProperty:function(c2l){var Y2l=this.convertPropertyKey(c2l);var w2l=this.propertyToParts(Y2l);return this.doGetProperty(w2l.category,w2l.name);},registerProperty:function(U2l,q2l){var R2l=this.convertPropertyKey(U2l);var F2l=this.propertyToParts(R2l);this.doRegisterProperty(F2l.category,F2l.name,q2l);},setProperty:function(l2l,G2l){var t2l=this.convertPropertyKey(l2l);var o2l=this.propertyToParts(t2l);this.doSetProperty(o2l.category,o2l.name,G2l);},removeProperty:function(N2l){var K2l=this.convertPropertyKey(N2l);var m2l=this.propertyToParts(K2l);this.doRemoveProperty(m2l.category,m2l.name);},clearPropertyMap:function(b2l){var a2l=this.convertPropertyKey(b2l);this.doClearPropertyMap(a2l);return;},clear:function(){this.doClear();},__class__:k7J};var r6y=function(g2l,P2l){u4J.call(this);this.propertyMap=g2l;this.propertyResult=P2l;};O1J["com.turner.top.lib.datasource.events.DataSourcePropertyMapChangedResult"]=r6y;r6y.__name__=["com","turner","top","lib","datasource","events","DataSourcePropertyMapChangedResult"];r6y.__super__=u4J;r6y.prototype=v1J(u4J.prototype,{propertyMap:null,propertyResult:null,__class__:r6y});var h2y=function(M2l,L2l,x2l,O2l){u4J.call(this);this.category=M2l;this.property=L2l;this.oldValue=x2l;this.currentValue=O2l;};O1J["com.turner.top.lib.datasource.events.DataSourcePropertyChangedResult"]=h2y;h2y.__name__=["com","turner","top","lib","datasource","events","DataSourcePropertyChangedResult"];h2y.__super__=u4J;h2y.prototype=v1J(u4J.prototype,{category:null,property:null,oldValue:null,currentValue:null,__class__:h2y});var w9J=O1J["com.turner.top.lib.datasource.events.DataSourceEventType"]={__ename__:["com","turner","top","lib","datasource","events","DataSourceEventType"],__constructs__:["PropertyMap_Changed","Property_Changed"]};w9J.PropertyMap_Changed=["PropertyMap_Changed",0];w9J.PropertyMap_Changed.toString=H1J;w9J.PropertyMap_Changed.__enum__=w9J;w9J.Property_Changed=["Property_Changed",1];w9J.Property_Changed.toString=H1J;w9J.Property_Changed.__enum__=w9J;w9J.__empty_constructs__=[w9J.PropertyMap_Changed,w9J.Property_Changed];var C2y=function(){V1J.call(this,w9J.PropertyMap_Changed);};O1J["com.turner.top.lib.datasource.events.DataSourcePropertyMapChangedEvent"]=C2y;C2y.__name__=["com","turner","top","lib","datasource","events","DataSourcePropertyMapChangedEvent"];C2y.__super__=V1J;C2y.prototype=v1J(V1J.prototype,{__class__:C2y});var w2y=function(){V1J.call(this,w9J.Property_Changed);};O1J["com.turner.top.lib.datasource.events.DataSourcePropertyChangedEvent"]=w2y;w2y.__name__=["com","turner","top","lib","datasource","events","DataSourcePropertyChangedEvent"];w2y.__super__=V1J;w2y.prototype=v1J(V1J.prototype,{__class__:w2y});var D5y=function(){var H2l=y3y.propertyKeyToString;this.propertyMapChanged=new w8y(function(){return new C2y();},H2l);this.propertyChanged=new w8y(function(){return new w2y();},H2l);};O1J["com.turner.top.lib.datasource.events.DataSourceEvents"]=D5y;D5y.__name__=["com","turner","top","lib","datasource","events","DataSourceEvents"];D5y.prototype={propertyMapChanged:null,propertyChanged:null,__class__:D5y};var y3y=function(){};O1J["com.turner.top.lib.datasource.utils.DataSourceUtils"]=y3y;y3y.__name__=["com","turner","top","lib","datasource","utils","DataSourceUtils"];y3y.propertyKeyToString=function(T2l){if(S1J.__instanceof(T2l,M6J)){var d2l=U4J.getEnumName(T2l);return d2l;}else if(Z1J.isEnumValue(T2l)){var v2l=U4J.getEnumName(U4J.getEnum(T2l));var V2l=T2l[0];return""+v2l+"."+V2l;}else{return d1J.string(T2l);}};var E3y=function(){this.length=0;};O1J["com.turner.top.lib.ds.LinkedList"]=E3y;E3y.__name__=["com","turner","top","lib","ds","LinkedList"];E3y.prototype={h:null,q:null,length:null,insertBefore:function(z2l,W2l){var Z2l=null;var p2l=this.h;while(p2l!=null){if(p2l.item==z2l){if(Z2l==null){this.push(W2l);return true;}var B2l=new e3J(W2l,null);Z2l.next=B2l;B2l.next=p2l;this.length++;return true;}Z2l=p2l;p2l=p2l.next;}return false;},insertAfter:function(A2l,n2l){var s2l=null;var S2l=this.h;while(S2l!=null){if(S2l.item==A2l){if(S2l==this.q){this.add(n2l);return true;}var e2l=new e3J(n2l,null);var J2l=S2l.next;S2l.next=e2l;e2l.next=J2l;this.length++;return true;}s2l=S2l;S2l=S2l.next;}return false;},find:function(j2l){return this.findBy(function(Q2l){return Q2l==j2l;});},findBy:function(i2l){var k2l=this.findNodeBy(i2l);if(k2l!=null){return k2l.item;}else{return null;}},peekBefore:function(E2l){var I2l=this.findPreviousNodeBy(function(y2l){return y2l==E2l;});if(I2l!=null){return I2l.item;}else{return null;}},peekAfter:function(X7l){var r2l=this.findNodeBy(function(h7l){return h7l==X7l;});if(r2l!=null){var u7l=r2l.next;if(u7l!=null){return u7l.item;}else{return null;}}else{return null;}},isLast:function(f7l){return f7l==this.last();},findNodeBy:function(C7l){var D7l=this.h;while(D7l!=null){if(C7l(D7l.item)){return D7l;}D7l=D7l.next;}return null;},findPreviousNodeBy:function(c7l){var Y7l=null;var w7l=this.h;while(w7l!=null){if(c7l(w7l.item)){return Y7l;}Y7l=w7l;w7l=w7l.next;}return null;},add:function(R7l){var F7l=new e3J(R7l,null);if(this.h==null){this.h=F7l;}else{this.q.next=F7l;}this.q=F7l;this.length++;},push:function(q7l){var U7l=new e3J(q7l,this.h);this.h=U7l;if(this.q==null){this.q=U7l;}this.length++;},first:function(){if(this.h==null){return null;}else{return this.h.item;}},last:function(){if(this.q==null){return null;}else{return this.q.item;}},pop:function(){if(this.h==null){return null;}var o7l=this.h.item;this.h=this.h.next;if(this.h==null){this.q=null;}this.length--;return o7l;},isEmpty:function(){return this.h==null;},clear:function(){this.h=null;this.q=null;this.length=0;},remove:function(G7l){var l7l=null;var t7l=this.h;while(t7l!=null){if(t7l.item==G7l){if(l7l==null){this.h=t7l.next;}else{l7l.next=t7l.next;}if(this.q==t7l){this.q=l7l;}this.length--;return true;}l7l=t7l;t7l=t7l.next;}return false;},iterator:function(){return new B7J(this.h);},toString:function(){var m7l="";var N7l=true;var K7l=this.h;m7l+="{";while(K7l!=null){if(N7l){N7l=false;}else{m7l+=", ";}m7l+=d1J.string(d1J.string(K7l.item));K7l=K7l.next;}m7l+="}";return m7l;},join:function(P7l){var b7l="";var g7l=true;var a7l=this.h;while(a7l!=null){if(g7l){g7l=false;}else{b7l+=P7l==null?"null":""+P7l;}b7l+=d1J.string(a7l.item);a7l=a7l.next;}return b7l;},filter:function(O7l){var L7l=new t8J();var M7l=this.h;while(M7l!=null){var x7l=M7l.item;M7l=M7l.next;if(O7l(x7l)){L7l.add(x7l);}}return L7l;},map:function(v7l){var T7l=new t8J();var H7l=this.h;while(H7l!=null){var d7l=H7l.item;H7l=H7l.next;T7l.add(v7l(d7l));}return T7l;},__class__:E3y};var e3J=function(V7l,p7l){this.item=V7l;this.next=p7l;};O1J["com.turner.top.lib.ds._LinkedList.ListNode"]=e3J;e3J.__name__=["com","turner","top","lib","ds","_LinkedList","ListNode"];e3J.prototype={item:null,next:null,__class__:e3J};var B7J=function(Z7l){this.head=Z7l;};O1J["com.turner.top.lib.ds._LinkedList.ListIterator"]=B7J;B7J.__name__=["com","turner","top","lib","ds","_LinkedList","ListIterator"];B7J.prototype={head:null,hasNext:function(){return this.head!=null;},next:function(){var B7l=this.head.item;this.head=this.head.next;return B7l;},__class__:B7J};var H04=function(){};O1J["com.turner.top.lib.ds.OneOf2"]=H04;H04.__name__=["com","turner","top","lib","ds","OneOf2"];var z04=function(){};O1J["com.turner.top.lib.ds.OneOf3"]=z04;z04.__name__=["com","turner","top","lib","ds","OneOf3"];var S04=function(){};O1J["com.turner.top.lib.ds.OneOf4"]=S04;S04.__name__=["com","turner","top","lib","ds","OneOf4"];var c9J=function(){};O1J["com.turner.top.lib.ds.TypeUnionExternUtils"]=c9J;c9J.__name__=["com","turner","top","lib","ds","TypeUnionExternUtils"];c9J.getTypeName=function(n7l){var W7l=U4J["typeof"](n7l);switch(W7l[1]){case 0:return null;case 1:return"Int";case 2:return"Float";case 3:return"Bool";case 4:return"object";case 6:var z7l=W7l[2];return U4J.getClassName(z7l);case 7:var S7l=W7l[2];return U4J.getEnumName(S7l);default:var e7l=W7l;return d1J.string(e7l);}};var S9y=function(){u4J.call(this);};O1J["com.turner.top.lib.events.DynamicEventResult"]=S9y;S9y.__name__=["com","turner","top","lib","events","DynamicEventResult"];S9y.__super__=u4J;S9y.prototype=v1J(u4J.prototype,{__class__:S9y});var i3J=function(){};O1J["com.turner.top.lib.signals.ISignal0"]=i3J;i3J.__name__=["com","turner","top","lib","signals","ISignal0"];i3J.__interfaces__=[S8J];i3J.prototype={listen:null,once:null,hasListener:null,unlisten:null,dispatch:null,__class__:i3J};var e0y=e1J["com"]["turner"]["top"]["lib"]["events"]["EventSignal0"]=function(s7l){J2J.call(this,s7l);this._signal=new V0y();this._before=new d8J(s7l);this._after=new d8J(s7l);this._around=new d8J(s7l);};O1J["com.turner.top.lib.events.EventSignal0"]=e0y;e0y.__name__=["com","turner","top","lib","events","EventSignal0"];e0y.__interfaces__=[i3J];e0y.__super__=J2J;e0y.prototype=v1J(J2J.prototype,{_signal:null,_before:null,_after:null,_around:null,listen:function(J7l){this._signal.listen(J7l);},once:function(A7l){this._signal.once(A7l);},hasListener:function(j7l){return this._signal.hasListener(j7l);},unlisten:function(Q7l){this._signal.unlisten(Q7l);},observe:function(k7l){this._signal.observe(k7l);},unobserve:function(i7l){this._signal.unobserve(i7l);},dispatch:function(){this._before.dispatch();this._around.dispatch();this._signal.dispatch();this._around.dispatch();this._after.dispatch();},before:function(){return this._before;},after:function(){return this._after;},around:function(){return this._around;},__class__:e0y});var C04=function(I7l,E7l){this._eventMap=new b4J();this._createEvent=I7l;this._transformPrefix=this._transformPrefix==null?d1J.string:this._transformPrefix;};O1J["com.turner.top.lib.events.EventSignalProxy0"]=C04;C04.__name__=["com","turner","top","lib","events","EventSignalProxy0"];C04.prototype={_eventMap:null,_createEvent:null,_transformPrefix:null,getEvent:function(D9l){var y7l=this._transformPrefix(D9l);var r7l=this._eventMap;if(!(E1J[y7l]!=null?r7l.existsReserved(y7l):r7l.h.hasOwnProperty(y7l))){var f9l=this._eventMap;var u9l=this._createEvent();var X9l=f9l;if(E1J[y7l]!=null){X9l.setReserved(y7l,u9l);}else{X9l.h[y7l]=u9l;}}var h9l=this._eventMap;if(E1J[y7l]!=null){return h9l.getReserved(y7l);}else{return h9l.h[y7l];}},listen:function(C9l,w9l){this.getEvent(C9l).listen(w9l);},unlisten:function(Y9l,c9l){this.getEvent(Y9l).unlisten(c9l);},observe:function(F9l,R9l){this.getEvent(F9l).observe(R9l);},unobserve:function(U9l,q9l){this.getEvent(U9l).unobserve(q9l);},dispatch:function(o9l){this.getEvent(o9l).dispatch();},__class__:C04};var w8y=function(t9l,l9l){this._eventMap=new b4J();this._createEvent=t9l;this._transformPrefix=this._transformPrefix==null?d1J.string:this._transformPrefix;};O1J["com.turner.top.lib.events.EventSignalProxy1"]=w8y;w8y.__name__=["com","turner","top","lib","events","EventSignalProxy1"];w8y.prototype={_eventMap:null,_createEvent:null,_transformPrefix:null,getEvent:function(g9l){var G9l=this._transformPrefix(g9l);var m9l=this._eventMap;if(!(E1J[G9l]!=null?m9l.existsReserved(G9l):m9l.h.hasOwnProperty(G9l))){var b9l=this._eventMap;var K9l=this._createEvent();var N9l=b9l;if(E1J[G9l]!=null){N9l.setReserved(G9l,K9l);}else{N9l.h[G9l]=K9l;}}var a9l=this._eventMap;if(E1J[G9l]!=null){return a9l.getReserved(G9l);}else{return a9l.h[G9l];}},listen:function(P9l,M9l){this.getEvent(P9l).listen(M9l);},unlisten:function(L9l,x9l){this.getEvent(L9l).unlisten(x9l);},observe:function(O9l,H9l){this.getEvent(O9l).observe(H9l);},unobserve:function(T9l,d9l){this.getEvent(T9l).unobserve(d9l);},dispatch:function(v9l,V9l){this.getEvent(v9l).dispatch(V9l);},__class__:w8y};var d8J=function(p9l){J2J.call(this,p9l);this._signal=new V0y();};O1J["com.turner.top.lib.events.SimpleEventSignal0"]=d8J;d8J.__name__=["com","turner","top","lib","events","SimpleEventSignal0"];d8J.__interfaces__=[i3J];d8J.__super__=J2J;d8J.prototype=v1J(J2J.prototype,{_signal:null,listen:function(Z9l){this._signal.listen(Z9l);},once:function(B9l){this._signal.once(B9l);},hasListener:function(W9l){return this._signal.hasListener(W9l);},unlisten:function(z9l){this._signal.unlisten(z9l);},observe:function(S9l){this._signal.observe(S9l);},unobserve:function(e9l){this._signal.unobserve(e9l);},dispatch:function(){this._signal.dispatch();},__class__:d8J});var I0y=function(){};O1J["com.turner.top.lib.logging.DefaultLogger"]=I0y;I0y.__name__=["com","turner","top","lib","logging","DefaultLogger"];I0y.__interfaces__=[M9y];I0y.prototype={_options:null,_manager:null,_context:null,_contextDetail:null,_targets:null,_canBeEnabled:null,_enabled:null,_categories:null,_levels:null,_filters:null,init:function(n9l){this._manager=n9l.manager;this._options=i1J.extend({context:null,contextDetail:null,targets:[],enabled:true,categories:null,levels:null,filters:null},n9l==null?{}:n9l);this._context=this._options.context;this._contextDetail=this._options.contextDetail;var s9l=this._options.targets;this._targets=s9l==null?[]:s9l;var J9l=this._options.filters;this._filters=J9l==null?[]:J9l;this.setEnabled(this._options.enabled);this.updateCategories(this._options.categories);this.updateLevels(this._options.levels);return this;},destroy:function(){if(this._manager!=null){this._manager.removeLoggerInstance(this);}},sendMessage:function(i9l,I9l){var Q9l={time:new Date().getTime(),type:i9l,context:this._context,contextDetail:this._contextDetail,msg:I9l};var A9l=0;var j9l=this._targets;while(A9l<j9l.length){var k9l=j9l[A9l];++A9l;try{k9l.sendMessage(Q9l);}catch(E9l){if(E9l instanceof j1J)E9l=E9l.val;window.console.warn("[sendMessage] Unable to send log message to target, error:",E9l);}}},applyFiltersAndToggle:function(){var y9l;if(!this._canBeEnabled){y9l=false;}else if(this._filters.length==0){y9l=true;}else{var r9l=this._categories;var u8l=r9l==null?{}:r9l;y9l=i7J.foreach(this._filters,function(X8l){if(typeof X8l=="string"){return(!Object.prototype.hasOwnProperty.call(u8l,X8l)?false:Z1J.field(u8l,X8l))==true;}else{return X8l==true;}});}this._enabled=y9l;},createChildLogger:function(D8l){var C8l=this._options;var w8l=this._canBeEnabled;var Y8l=this._categories;var c8l=this._levels;var F8l=[].concat(this._filters);var h8l=i1J.extendDeepWith({},[C8l,{enabled:w8l,categories:Y8l,levels:c8l,filters:F8l},D8l==null?{}:D8l]);h8l.filters=this.removeRepeatedEntries(h8l.filters);var f8l=new I0y().init(h8l);if(this._manager!=null){this._manager.storeLoggerInstance(f8l);}return f8l;},removeRepeatedEntries:function(o8l){var R8l=[];var U8l=0;while(U8l<o8l.length){var q8l=o8l[U8l];++U8l;if(!i7J.has(R8l,q8l)){R8l.push(q8l);}}return R8l;},verbose:function(t8l){if(!this._enabled){return;}if(!this._levels.verbose){return;}this.sendMessage("verbose",t8l);},debug:function(l8l){if(!this._enabled){return;}if(!this._levels.debug){return;}this.sendMessage("debug",l8l);},info:function(G8l){if(!this._enabled){return;}if(!this._levels.info){return;}this.sendMessage("info",G8l);},warn:function(m8l){if(!this._enabled){return;}if(!this._levels.warn){return;}this.sendMessage("warn",m8l);},error:function(K8l){if(!this._enabled){return;}if(!this._levels.error){return;}this.sendMessage("error",K8l);},filter:function(N8l){if(typeof N8l=="string"){this._manager.registerFilter(N8l);}var a8l=[].concat(this._filters).concat([N8l]);return this.createChildLogger({filters:a8l});},child:function(b8l){var g8l=this._contextDetail==null?b8l:""+this._contextDetail+" | "+b8l;return this.createChildLogger({contextDetail:g8l});},setEnabled:function(P8l){this._canBeEnabled=P8l;this.applyFiltersAndToggle();},updateCategories:function(M8l){this._categories=M8l;this.applyFiltersAndToggle();},updateLevels:function(L8l){this._levels=L8l;},__class__:I0y};var c8y=function(x8l){u4J.call(this);this.entry=x8l;};O1J["com.turner.top.lib.logging.events.LogEventResult"]=c8y;c8y.__name__=["com","turner","top","lib","logging","events","LogEventResult"];c8y.__super__=u4J;c8y.prototype=v1J(u4J.prototype,{entry:null,__class__:c8y});var N8y=function(O8l){u4J.call(this);this.data=O8l;};O1J["com.turner.top.lib.logging.events.LogConfigChangedEventResult"]=N8y;N8y.__name__=["com","turner","top","lib","logging","events","LogConfigChangedEventResult"];N8y.__super__=u4J;N8y.prototype=v1J(u4J.prototype,{data:null,__class__:N8y});var W04=function(){};O1J["com.turner.top.lib.logging.events.Exports"]=W04;W04.__name__=["com","turner","top","lib","logging","events","Exports"];var o04=function(){};O1J["com.turner.top.lib.logging.formatters.DefaultFormatters"]=o04;o04.__name__=["com","turner","top","lib","logging","formatters","DefaultFormatters"];o04.cssConsole=function(H8l){if(H8l.contextDetail!=null){return"%c"+H8l.context+" %c("+H8l.contextDetail+") "+H8l.msg;}else{return"%c"+H8l.context+" %c"+H8l.msg;}};var v8y=function(){};O1J["com.turner.top.lib.logging.targets.ILogTarget"]=v8y;v8y.__name__=["com","turner","top","lib","logging","targets","ILogTarget"];v8y.prototype={init:null,sendMessage:null,__class__:v8y};var V8y=function(){};O1J["com.turner.top.lib.logging.targets.IConsoleTarget"]=V8y;V8y.__name__=["com","turner","top","lib","logging","targets","IConsoleTarget"];V8y.__interfaces__=[v8y];V8y.prototype={updateTheme:null,__class__:V8y};var p8y=function(T8l){T8l=i1J.extend({theme:"light"},T8l==null?{}:T8l);this.updateTheme(T8l.theme);};O1J["com.turner.top.lib.logging.targets.ConsoleTarget"]=p8y;p8y.__name__=["com","turner","top","lib","logging","targets","ConsoleTarget"];p8y.__interfaces__=[V8y];p8y.prototype={_options:null,_formatter:null,_contextStyle:null,_msgStyle:null,init:function(d8l){this._options=i1J.extend({formatter:o04.cssConsole},d8l==null?{}:d8l);this._formatter=this._options.formatter;return this;},updateTheme:function(v8l){if(v8l=="dark"){this._contextStyle="color: #00AAFF;";this._msgStyle="color: #FFFFFF;";}else{this._contextStyle="color: #00008B;";this._msgStyle="color: #000;";}},sendMessage:function(p8l){var V8l=this._formatter(p8l);var Z8l=p8l.type;switch(Z8l){case"debug":window.top.console.debug(V8l,this._contextStyle,this._msgStyle);break;case"error":window.top.console.error(V8l,this._contextStyle,this._msgStyle);break;case"info":window.top.console.info(V8l,this._contextStyle,this._msgStyle);break;case"verbose":window.top.console.log(V8l,this._contextStyle,this._msgStyle);break;case"warn":window.top.console.warn(V8l,this._contextStyle,this._msgStyle);break;}},__class__:p8y};var Z8y=function(W8l){this._events=W8l;var B8l=new b4J();var Q8l=W8l.verbose;var e8l="verbose";if(E1J[e8l]!=null){B8l.setReserved(e8l,Q8l);}else{B8l.h[e8l]=Q8l;}var A8l=W8l.debug;var z8l="debug";if(E1J[z8l]!=null){B8l.setReserved(z8l,A8l);}else{B8l.h[z8l]=A8l;}var J8l=W8l.info;var n8l="info";if(E1J[n8l]!=null){B8l.setReserved(n8l,J8l);}else{B8l.h[n8l]=J8l;}var j8l=W8l.warning;var S8l="warn";if(E1J[S8l]!=null){B8l.setReserved(S8l,j8l);}else{B8l.h[S8l]=j8l;}var k8l=W8l.error;var s8l="error";if(E1J[s8l]!=null){B8l.setReserved(s8l,k8l);}else{B8l.h[s8l]=k8l;}this._eventMap=B8l;};O1J["com.turner.top.lib.logging.targets.LogEventTarget"]=Z8y;Z8y.__name__=["com","turner","top","lib","logging","targets","LogEventTarget"];Z8y.__interfaces__=[v8y];Z8y.prototype={_options:null,_events:null,_eventMap:null,init:function(i8l){this._options=i1J.extend({formatter:null},i8l==null?{}:i8l);return this;},sendMessage:function(r8l){var I8l=r8l.type;var E8l=this._eventMap;var y8l=E1J[I8l]!=null?E8l.getReserved(I8l):E8l.h[I8l];if(y8l!=null){y8l.dispatch(new c8y(r8l));}},__class__:Z8y};var n04=function(){};O1J["com.turner.top.lib.macros.Macros"]=n04;n04.__name__=["com","turner","top","lib","macros","Macros"];var d3J=function(){};O1J["com.turner.top.lib.macros._examples.classes.BaseAbstractClassBasic"]=d3J;d3J.__name__=["com","turner","top","lib","macros","_examples","classes","BaseAbstractClassBasic"];d3J.__interfaces__=[W9y];d3J.prototype={hiThere:function(){console.log("AbstractClassBasic.hx:13:","hi there!");},needed:function(){throw new j1J("abstract method, must override");},__class__:d3J};var Y3y=function(){d3J.call(this);this.hiThere();};O1J["com.turner.top.lib.macros._examples.classes.ChildAbstractClassBasic"]=Y3y;Y3y.__name__=["com","turner","top","lib","macros","_examples","classes","ChildAbstractClassBasic"];Y3y.__super__=d3J;Y3y.prototype=v1J(d3J.prototype,{needed:function(){},__class__:Y3y});var l04=function(){};O1J["com.turner.top.lib.support.ValueClassSupport"]=l04;l04.__name__=["com","turner","top","lib","support","ValueClassSupport"];var D3y=function(u3l,X3l){this.one=u3l;this.two=X3l;};O1J["com.turner.top.lib.macros._examples.classes.ValueClassBasic"]=D3y;D3y.__name__=["com","turner","top","lib","macros","_examples","classes","ValueClassBasic"];D3y.__interfaces__=[l04];D3y.prototype={one:null,two:null,__class__:D3y};var G04=function(){this.setTwo(11);console.log("AttrFuncImpl.hx:14:",this.two());};O1J["com.turner.top.lib.macros._examples.properties.AttrFuncImpl"]=G04;G04.__name__=["com","turner","top","lib","macros","_examples","properties","AttrFuncImpl"];G04.prototype={twoGetter:function(){return 1;},twoSetter:function(h3l){},fiveGetter:function(){return"internal five getter";},sevenSetter:function(f3l){},two:function(){return this.twoGetter();},setTwo:function(D3l){this.twoSetter(D3l);return this;},five:function(){return this.fiveGetter();},setSeven:function(C3l){this.sevenSetter(C3l);return this;},__class__:G04};var m04=function(){};O1J["com.turner.top.lib.macros._examples.properties.IAttrFuncInterface"]=m04;m04.__name__=["com","turner","top","lib","macros","_examples","properties","IAttrFuncInterface"];m04.prototype={setOne:null,one:null,two:null,setThree:null,setFour:null,four:null,setFive:null,five:null,__class__:m04};var K04=function(){this._one="hi";this._two=123;this._twoA=1231;this._twoA=1232;this._three="three!";this._four=4.0;this._five="orig 5!";};O1J["com.turner.top.lib.macros._examples.properties.AttrIgnore"]=K04;K04.__name__=["com","turner","top","lib","macros","_examples","properties","AttrIgnore"];K04.prototype={_one:null,_two:null,_twoA:null,_twoB:null,_three:null,_four:null,_five:null,_six:null,twoADelegate:function(){return this._twoA;},twoBDelegate:function(w3l){this._twoB=w3l;},fiveGetter:function(){return"internal five getter";},__class__:K04};var N04=function(){this._one="hi";this._two=123;this._twoA=1231;this._twoA=1232;this._three="three!";this._four=4.0;this._five="orig 5!";};O1J["com.turner.top.lib.macros._examples.properties.AttrImpl"]=N04;N04.__name__=["com","turner","top","lib","macros","_examples","properties","AttrImpl"];N04.prototype={_one:null,_two:null,_twoA:null,_twoB:null,_three:null,_four:null,_five:null,_six:null,_seven:null,_eight:null,twoADelegate:function(){return this._twoA;},twoBDelegate:function(Y3l){this._twoB=Y3l;},fiveGetter:function(){return"internal five getter";},sevenSetter:function(c3l){this._seven=c3l;},one:function(){return this._one;},setOne:function(F3l){this._one=F3l;return this;},two:function(){return this._two;},setTwo:function(R3l){this._two=R3l;return this;},twoA:function(){return this.twoADelegate();},setTwoA:function(U3l){this._twoA=U3l;return this;},twoB:function(){return this._twoB;},setTwoB:function(q3l){this.twoBDelegate(q3l);return this;},three:function(){return this._three;},setFour:function(o3l){this._four=o3l;return this;},five:function(){return this.fiveGetter();},six:function(){return this._six;},setSeven:function(t3l){this.sevenSetter(t3l);return this;},setEight:function(l3l){this._eight=l3l;return this;},__class__:N04};var E8y=function(){};O1J["com.turner.top.lib.macros._examples.properties.IAttrEnforced"]=E8y;E8y.__name__=["com","turner","top","lib","macros","_examples","properties","IAttrEnforced"];E8y.prototype={five:null,__class__:E8y};var i8y=function(){this._one="hi";this._two=123;this._twoA=1231;this._twoA=1232;this._three="three!";this._four=4.0;this._five="orig 5!";};O1J["com.turner.top.lib.macros._examples.properties.AttrEnforcedImpl"]=i8y;i8y.__name__=["com","turner","top","lib","macros","_examples","properties","AttrEnforcedImpl"];i8y.__interfaces__=[E8y];i8y.prototype={_one:null,_two:null,_twoA:null,_twoB:null,_three:null,_four:null,_five:null,_six:null,_seven:null,_eight:null,twoADelegate:function(){return this._twoA;},twoBDelegate:function(G3l){this._twoB=G3l;},fiveGetter:function(){return"internal five getter";},sevenSetter:function(m3l){this._seven=m3l;},one:function(){return this._one;},setOne:function(K3l){this._one=K3l;return this;},two:function(){return this._two;},setTwo:function(N3l){this._two=N3l;return this;},twoA:function(){return this.twoADelegate();},setTwoA:function(a3l){this._twoA=a3l;return this;},twoB:function(){return this._twoB;},setTwoB:function(b3l){this.twoBDelegate(b3l);return this;},three:function(){return this._three;},setFour:function(g3l){this._four=g3l;return this;},five:function(){return this.fiveGetter();},six:function(){return this._six;},setSeven:function(P3l){this.sevenSetter(P3l);return this;},setEight:function(M3l){this._eight=M3l;return this;},__class__:i8y};var h04=function(){};O1J["com.turner.top.lib.macros._examples.properties.IAttrInterface"]=h04;h04.__name__=["com","turner","top","lib","macros","_examples","properties","IAttrInterface"];h04.prototype={_one:null,_two:null,_three:null,_four:null,_five:null,setOne:null,one:null,two:null,setThree:null,setFour:null,four:null,setFive:null,five:null,__class__:h04};var Q8y=function(){this._d1=new e8J();};O1J["com.turner.top.lib.macros._examples.properties.DelegateImpl"]=Q8y;Q8y.__name__=["com","turner","top","lib","macros","_examples","properties","DelegateImpl"];Q8y.prototype={_d1:null,one:function(){return this._d1.one();},two:function(){return this._d1.two();},__class__:Q8y};var A8y=function(){this._d1=new e8J();};O1J["com.turner.top.lib.macros._examples.properties.DelegatePrefixImpl"]=A8y;A8y.__name__=["com","turner","top","lib","macros","_examples","properties","DelegatePrefixImpl"];A8y.prototype={_d1:null,myOne:function(){return this._d1.one();},myTwo:function(){return this._d1.two();},__class__:A8y};var J8y=function(){this._d1=new e8J();};O1J["com.turner.top.lib.macros._examples.properties.DelegatePrefixInterfaceImpl"]=J8y;J8y.__name__=["com","turner","top","lib","macros","_examples","properties","DelegatePrefixInterfaceImpl"];J8y.prototype={_d1:null,hiOne:function(){return this._d1.one();},hiTwo:function(){return this._d1.two();},__class__:J8y};var j8y=function(){this._d1=new e8J();};O1J["com.turner.top.lib.macros._examples.properties.DelegatePrefixInterfaceAttrImpl"]=j8y;j8y.__name__=["com","turner","top","lib","macros","_examples","properties","DelegatePrefixInterfaceAttrImpl"];j8y.prototype={_d1:null,d1:function(){return this._d1;},yoOne:function(){return this._d1.one();},yoTwo:function(){return this._d1.two();},__class__:j8y};var E5y=function(){var L3l=new Q8y();var x3l=new A8y();var O3l=new J8y();var H3l=new j8y();L3l.one();L3l.two();x3l.myOne();x3l.myTwo();O3l.hiOne();O3l.hiTwo();H3l.yoOne();H3l.yoTwo();};O1J["com.turner.top.lib.macros._examples.properties.DelegateTest"]=E5y;E5y.__name__=["com","turner","top","lib","macros","_examples","properties","DelegateTest"];E5y.prototype={__class__:E5y};var F3y=function(){};O1J["com.turner.top.lib.macros._examples.properties.IDelegatee"]=F3y;F3y.__name__=["com","turner","top","lib","macros","_examples","properties","IDelegatee"];F3y.prototype={_one:null,_two:null,_three:null,setOne:null,one:null,two:null,setThree:null,__class__:F3y};var e8J=function(){};O1J["com.turner.top.lib.macros._examples.properties.Delegatee"]=e8J;e8J.__name__=["com","turner","top","lib","macros","_examples","properties","Delegatee"];e8J.__interfaces__=[F3y];e8J.prototype={_one:null,_two:null,_three:null,one:function(){return this._one;},setOne:function(T3l){this._one=T3l;return this;},two:function(){return this._two;},setThree:function(d3l){this._three=d3l;return this;},__class__:e8J};var R3y=function(){};O1J["com.turner.top.lib.macros._examples.properties.PropAndAttrImpl"]=R3y;R3y.__name__=["com","turner","top","lib","macros","_examples","properties","PropAndAttrImpl"];R3y.prototype={one:null,two:null,three:null,_aOne:null,_aTwo:null,_aThree:null,aOne:function(){return this._aOne;},setAOne:function(v3l){this._aOne=v3l;return this;},aTwo:function(){return this._aTwo;},setAThree:function(V3l){this._aThree=V3l;return this;},__class__:R3y};var t04=function(){var p3l=new R3y();p3l.one=1;p3l.three=22;p3l.setAOne("hi");p3l.aOne();};O1J["com.turner.top.lib.macros._examples.properties.PropAndAttrTest"]=t04;t04.__name__=["com","turner","top","lib","macros","_examples","properties","PropAndAttrTest"];t04.prototype={__class__:t04};var q3y=function(){};O1J["com.turner.top.lib.macros._examples.properties.PropImpl"]=q3y;q3y.__name__=["com","turner","top","lib","macros","_examples","properties","PropImpl"];q3y.prototype={one:null,two:null,three:null,__class__:q3y};var q04=function(){var Z3l=new q3y();Z3l.one=1;Z3l.three=22;};O1J["com.turner.top.lib.macros._examples.properties.PropTest"]=q04;q04.__name__=["com","turner","top","lib","macros","_examples","properties","PropTest"];q04.prototype={__class__:q04};var b04=function(){};O1J["com.turner.top.lib.macros._examples.types.TestUnionExtern"]=b04;b04.__name__=["com","turner","top","lib","macros","_examples","types","TestUnionExtern"];b04.stringOrInt=function(){var S3l=1;var r3l=c9J.getTypeName(S3l);var W3l=Y3J.TString(S3l);switch(W3l[1]){case 0:var Q3l=W3l[2];break;case 1:var k3l=W3l[2];break;}var i3l=S3l;var n3l="hi there";c9J.getTypeName(n3l);var z3l=Y3J.TString(n3l);switch(z3l[1]){case 0:var j3l=z3l[2];break;case 1:var A3l=z3l[2];break;}var s3l=0.123;var B3l=j8J.TString(s3l);switch(B3l[1]){case 0:var I3l=B3l[2];break;case 1:var E3l=B3l[2];break;case 2:var y3l=B3l[2];break;}var J3l="this is a string!";var e3l=P5J.TString(J3l);switch(e3l[1]){case 0:var X5l=e3l[2];break;case 1:var u5l=e3l[2];break;}};var p04=function(){};O1J["com.turner.top.lib.macros.classes.AbstractClassBuilder"]=p04;p04.__name__=["com","turner","top","lib","macros","classes","AbstractClassBuilder"];var V04=function(){};O1J["com.turner.top.lib.macros.classes.ValueClassBuilder"]=V04;V04.__name__=["com","turner","top","lib","macros","classes","ValueClassBuilder"];var G8y=function(){};O1J["com.turner.top.lib.macros.properties.AttrBaseBuilder"]=G8y;G8y.__name__=["com","turner","top","lib","macros","properties","AttrBaseBuilder"];var v04=function(){};O1J["com.turner.top.lib.macros.properties.AttrBuilder"]=v04;v04.__name__=["com","turner","top","lib","macros","properties","AttrBuilder"];var a3y=function(){};O1J["com.turner.top.lib.macros.properties.AttrClassBuilder"]=a3y;a3y.__name__=["com","turner","top","lib","macros","properties","AttrClassBuilder"];a3y.__super__=G8y;a3y.prototype=v1J(G8y.prototype,{__class__:a3y});var b3y=function(){};O1J["com.turner.top.lib.macros.properties.AttrInterfaceBuilder"]=b3y;b3y.__name__=["com","turner","top","lib","macros","properties","AttrInterfaceBuilder"];b3y.__super__=G8y;b3y.prototype=v1J(G8y.prototype,{__class__:b3y});var d04=function(){};O1J["com.turner.top.lib.macros.properties.AttrUtils"]=d04;d04.__name__=["com","turner","top","lib","macros","properties","AttrUtils"];var T04=function(){};O1J["com.turner.top.lib.macros.properties.DelegateBuilder"]=T04;T04.__name__=["com","turner","top","lib","macros","properties","DelegateBuilder"];var u14=function(){};O1J["com.turner.top.lib.macros.properties.DelegateUtils"]=u14;u14.__name__=["com","turner","top","lib","macros","properties","DelegateUtils"];var r04=function(){};O1J["com.turner.top.lib.macros.properties.PropBuilder"]=r04;r04.__name__=["com","turner","top","lib","macros","properties","PropBuilder"];var A04=function(){};O1J["com.turner.top.lib.macros.types.TypeMacroUtils"]=A04;A04.__name__=["com","turner","top","lib","macros","types","TypeMacroUtils"];var Q6J=O1J["com.turner.top.lib.models.DataModelMode"]={__ename__:["com","turner","top","lib","models","DataModelMode"],__constructs__:["Silent","Transient"]};Q6J.Silent=["Silent",0];Q6J.Silent.toString=H1J;Q6J.Silent.__enum__=Q6J;Q6J.Transient=["Transient",1];Q6J.Transient.toString=H1J;Q6J.Transient.__enum__=Q6J;Q6J.__empty_constructs__=[Q6J.Silent,Q6J.Transient];var T3y=function(){};O1J["com.turner.top.lib.parsers.IParser"]=T3y;T3y.__name__=["com","turner","top","lib","parsers","IParser"];T3y.prototype={init:null,parse:null,__class__:T3y};var r2J=function(){this._logger=I1J.getLogger(S1J.getClass(this)).filter("lib.parser");};O1J["com.turner.top.lib.parsers.DefaultParser"]=r2J;r2J.__name__=["com","turner","top","lib","parsers","DefaultParser"];r2J.__interfaces__=[T3y];r2J.prototype={_logger:null,_rules:null,doInit:function(h5l){this._rules=h5l;this._logger.debug("[doInit] rules: "+h5l.toString());},doParse:function(R5l,w5l){var f5l=null;if(w5l!=null){if(this._rules.exists(w5l)){f5l=this._rules.get(w5l);this._logger.debug("[doParse] rule selected by type: "+d1J.string(w5l)+", "+d1J.string(f5l));}}if(f5l==null){var Y5l=this._rules.keys();while(Y5l.hasNext()){var c5l=Y5l.next();var F5l=this._rules.get(c5l);if(F5l.select(R5l)){f5l=F5l;this._logger.debug("[doParse] rule selected by acceptance: "+d1J.string(c5l)+", "+d1J.string(f5l));break;}}}if(f5l==null){return null;}var D5l=null;var C5l=false;try{D5l=f5l.transform(R5l);if(f5l.normalize!=null){this._logger.debug("[doParse] normalizing");D5l=f5l.normalize(D5l);}if(f5l.validate!=null){this._logger.debug("[doParse] validating");C5l=f5l.validate(D5l);}else{C5l=true;}this._logger.debug("[doParse] result - validated: "+(C5l==null?"null":""+C5l)+", metadata: "+d1J.string(D5l));}catch(U5l){if(U5l instanceof j1J)U5l=U5l.val;this._logger.warn("[doParse] an internal error occured when transforming the source "+d1J.string(U5l));D5l=null;C5l=false;}if(C5l){return D5l;}else{return null;}},init:function(q5l){this.doInit(q5l);},parse:function(o5l,t5l){return this.doParse(o5l,t5l);},__class__:r2J};var S4J=e1J["com"]["turner"]["top"]["lib"]["platform"]["browser"]["Browser"]=function(){};O1J["com.turner.top.lib.platform.browser.Browser"]=S4J;S4J.__name__=["com","turner","top","lib","platform","browser","Browser"];S4J.desktop=function(){return S4J.is.desktop();};S4J.mobile=function(){return S4J.is.mobile();};S4J.tablet=function(){return S4J.is.tablet();};S4J.mobileLike=function(){if(!S4J.mobile()){return S4J.tablet();}else{return true;}};S4J.ios=function(){return S4J.is.ios();};S4J.android=function(){return S4J.is.android();};S4J.ie=function(l5l){return S4J.is.ie(l5l);};S4J.edge=function(){return S4J.is.edge();};S4J.chrome=function(){return S4J.is.chrome();};S4J.firefox=function(){return S4J.is.firefox();};S4J.safari=function(){return S4J.is.safari();};var d3y=function(){};O1J["com.turner.top.lib.platform.fullscreen.IFullscreenHelper"]=d3y;d3y.__name__=["com","turner","top","lib","platform","fullscreen","IFullscreenHelper"];d3y.prototype={_events:null,init:null,destroy:null,enter:null,exit:null,toggle:null,isFullscreen:null,events:null,__class__:d3y};var f2J=function(G5l){this._viewElement=G5l;this._events=new z3y();this._isFullscreen=false;this._useMobileSafariFullscreenApi=false;};O1J["com.turner.top.lib.platform.fullscreen.DefaultFullscreenHelper"]=f2J;f2J.__name__=["com","turner","top","lib","platform","fullscreen","DefaultFullscreenHelper"];f2J.__interfaces__=[d3y];f2J.prototype={_events:null,_document:null,_viewElement:null,_isFullscreen:null,_api:null,_useMobileSafariFullscreenApi:null,_dimensionTimer:null,_windowedDimensions:null,_fullscreenDimensions:null,doInit:function(){this._document=window.document;this.selectFullscreenApi();},selectFullscreenApi:function(){var m5l=null;var K5l=0;var N5l=C8y.possibleApis();while(K5l<N5l.length){var a5l=N5l[K5l];++K5l;if(this.documentHasFullscreenApi(a5l)){m5l=a5l;break;}}if(m5l==null&&this.isFullscreenVideoApiSupported()){this._useMobileSafariFullscreenApi=true;m5l=C8y.mobileSafariFullscreenApi();}if(m5l==null){f2J._logger.error("[selectFullscreenApi] Unable to find an available fullscreen api.");return;}this._api={requestFullscreen:m5l[0],exitFullscreen:m5l[1],fullscreenElement:m5l[2],fullscreenEnabled:m5l[3],fullscreenchange:m5l[4],fullscreenerror:m5l[5]};this.attachFullscreenEventListeners();f2J._logger.debug("[selectFullscreenApi] selected api: "+d1J.string(this._api));},documentHasFullscreenApi:function(b5l){return b5l[1]in this._document;},isFullscreenVideoApiSupported:function(){if(this._viewElement.nodeName=="VIDEO"&&S4J.ios()){return"webkitSupportsFullscreen"in this._viewElement;}else{return false;}},doDestroy:function(){f2J._logger.debug("[doDestroy] selected api: "+d1J.string(this._api));this.removeFullscreenEventListeners();},doEnter:function(){if(this._isFullscreen){f2J._logger.warn("[doEnter] Already fullscreen - cannot enter");return;}this._windowedDimensions=this.getElementDimensions();this._fullscreenDimensions=this.getScreenDimensions();f2J._logger.debug("[doEnter] Invoking requestFullscreen...");this._viewElement[this._api.requestFullscreen]();},doExit:function(){if(!this._isFullscreen){f2J._logger.warn("[doExit] Not fullscreen - cannot exit");return;}f2J._logger.debug("[doExit] Invoking exitFullscreen...");if(this._useMobileSafariFullscreenApi){this._viewElement[this._api.exitFullscreen]();}else{this._document[this._api.exitFullscreen]();}},doToggle:function(){if(this._isFullscreen){this.doExit();}else{this.doEnter();}},attachFullscreenEventListeners:function(){if(this._useMobileSafariFullscreenApi){this._viewElement.addEventListener("webkitbeginfullscreen",p1J(this,this.onWebKitBeginFullscreen));this._viewElement.addEventListener("webkitendfullscreen",p1J(this,this.onWebKitEndFullscreen));}else{this._document.addEventListener(this._api.fullscreenchange,p1J(this,this.onNativeFullscreenChange));}},removeFullscreenEventListeners:function(){if(this._useMobileSafariFullscreenApi){this._viewElement.removeEventListener("webkitbeginfullscreen",p1J(this,this.onWebKitBeginFullscreen));this._viewElement.removeEventListener("webkitendfullscreen",p1J(this,this.onWebKitEndFullscreen));}else{this._document.removeEventListener(this._api.fullscreenchange,p1J(this,this.onNativeFullscreenChange));}},onWebKitBeginFullscreen:function(g5l){this._isFullscreen=true;this._windowedDimensions=this.getElementDimensions();this._fullscreenDimensions=this.getScreenDimensions();f2J._logger.debug("[onWebKitBeginFullscreen] isFullscreen: "+d1J.string(this._isFullscreen));this.logElementDimensions();this.logScreenDimensions();this.notifyFullscreenEntered();},onWebKitEndFullscreen:function(P5l){this._isFullscreen=false;f2J._logger.debug("[onWebKitEndFullscreen] isFullscreen: "+d1J.string(this._isFullscreen));this.logElementDimensions();this.logScreenDimensions();this.notifyFullscreenExited();},onNativeFullscreenChange:function(L5l){var M5l=this.nativeIsFullscreen();if(M5l&&this.nativeFullscreenElement()!=this._viewElement){f2J._logger.warn("[onNativeFullscreenChange] entering fullscreenchange event for a different element; ignoring");return;}else if(!M5l&&!this._isFullscreen){f2J._logger.warn("[onNativeFullscreenChange] exiting fullscreenchange event for a different element; ignoring");return;}this._isFullscreen=M5l;f2J._logger.debug("[onNativeFullscreenChange] isFullscreen: "+d1J.string(this._isFullscreen));if(this._fullscreenDimensions==null||this._windowedDimensions==null){f2J._logger.warn("[onNativeFullscreenChange] dimensions are undefined, this could be due to old listeners");return;}this.logElementDimensions();this.logScreenDimensions();if(this._isFullscreen){this.notifyFullscreenEntered();}else{this.notifyFullscreenExited();}},nativeIsFullscreen:function(){return Boolean(this.nativeFullscreenElement());},nativeFullscreenElement:function(){return this._document[this._api.fullscreenElement];},notifyFullscreenEntered:function(){var x5l=new i0y(this._viewElement,this._fullscreenDimensions.width,this._fullscreenDimensions.height);this._events.entered.dispatch(x5l);},notifyFullscreenExited:function(){var O5l=new i0y(this._viewElement,this._windowedDimensions.width,this._windowedDimensions.height);this._events.exited.dispatch(O5l);},getElementWidth:function(){return this._viewElement.offsetWidth;},getElementHeight:function(){return this._viewElement.offsetHeight;},getElementDimensions:function(){return{width:this.getElementWidth(),height:this.getElementHeight()};},getScreenWidth:function(){return window.screen.width;},getScreenHeight:function(){return window.screen.height;},getScreenDimensions:function(){return{width:this.getScreenWidth(),height:this.getScreenHeight()};},logElementDimensions:function(){var H5l=this.getElementDimensions();f2J._logger.debug("[logElementDimensions] el.w: "+H5l.width+", el.h: "+H5l.height);},logScreenDimensions:function(){var T5l=this.getScreenDimensions();f2J._logger.debug("[logScreenDimensions] el.w: "+T5l.width+", el.h: "+T5l.height);},init:function(){this.doInit();return this;},destroy:function(){this.doDestroy();return this;},enter:function(){this.doEnter();return this;},exit:function(){this.doExit();return this;},toggle:function(){this.doToggle();return this;},isFullscreen:function(){return this._isFullscreen;},events:function(){return this._events;},__class__:f2J};var C8y=function(){};O1J["com.turner.top.lib.platform.fullscreen.FullscreenData"]=C8y;C8y.__name__=["com","turner","top","lib","platform","fullscreen","FullscreenData"];C8y.possibleApis=function(){return[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];};C8y.mobileSafariFullscreenApi=function(){return["webkitEnterFullscreen","webkitExitFullscreen","webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitfullscreenchange","webkitfullscreenerror"];};var V3y=e1J["com"]["turner"]["top"]["lib"]["platform"]["fullscreen"]["FullscreenHelper"]=function(){};O1J["com.turner.top.lib.platform.fullscreen.FullscreenHelper"]=V3y;V3y.__name__=["com","turner","top","lib","platform","fullscreen","FullscreenHelper"];V3y.create=function(d5l){return new f2J(d5l);};var i0y=function(v5l,V5l,p5l){u4J.call(this);this.viewElement=v5l;this.width=V5l;this.height=p5l;};O1J["com.turner.top.lib.platform.fullscreen.events.FullscreenResult"]=i0y;i0y.__name__=["com","turner","top","lib","platform","fullscreen","events","FullscreenResult"];i0y.__super__=u4J;i0y.prototype=v1J(u4J.prototype,{viewElement:null,width:null,height:null,__class__:i0y});var J7J=O1J["com.turner.top.lib.platform.fullscreen.events.FullscreenEventType"]={__ename__:["com","turner","top","lib","platform","fullscreen","events","FullscreenEventType"],__constructs__:["Entered","Exited"]};J7J.Entered=["Entered",0];J7J.Entered.toString=H1J;J7J.Entered.__enum__=J7J;J7J.Exited=["Exited",1];J7J.Exited.toString=H1J;J7J.Exited.__enum__=J7J;J7J.__empty_constructs__=[J7J.Entered,J7J.Exited];var u8y=function(){V1J.call(this,J7J.Entered);};O1J["com.turner.top.lib.platform.fullscreen.events.FullscreenEnteredEvent"]=u8y;u8y.__name__=["com","turner","top","lib","platform","fullscreen","events","FullscreenEnteredEvent"];u8y.__super__=V1J;u8y.prototype=v1J(V1J.prototype,{__class__:u8y});var I9y=function(){V1J.call(this,J7J.Exited);};O1J["com.turner.top.lib.platform.fullscreen.events.FullscreenExitedEvent"]=I9y;I9y.__name__=["com","turner","top","lib","platform","fullscreen","events","FullscreenExitedEvent"];I9y.__super__=V1J;I9y.prototype=v1J(V1J.prototype,{__class__:I9y});var z3y=function(){this.entered=new u8y();this.exited=new I9y();};O1J["com.turner.top.lib.platform.fullscreen.events.FullscreenEvents"]=z3y;z3y.__name__=["com","turner","top","lib","platform","fullscreen","events","FullscreenEvents"];z3y.prototype={entered:null,exited:null,__class__:z3y};var S0y=e1J["com"]["turner"]["top"]["lib"]["platform"]["timers"]["TimerHelper"]=function(){};O1J["com.turner.top.lib.platform.timers.TimerHelper"]=S0y;S0y.__name__=["com","turner","top","lib","platform","timers","TimerHelper"];S0y.create=function(Z5l){return new S3y(Z5l);};var S3y=function(B5l){this._options=i1J.extend({interval:10,maxCount:0,onTick:null,onComplete:null},B5l==null?{}:B5l);this._win=window;this._raf=this.getRAF();this._type=this._raf!=null?Q7J.Animation:Q7J.Interval;this._interval=this._options.interval;this._maxCount=this._options.maxCount;this._tickCB=this._options.onTick;this._completeCB=this._options.onComplete;this.doReset();};O1J["com.turner.top.lib.platform.timers.TimerHelperJs"]=S3y;S3y.__name__=["com","turner","top","lib","platform","timers","TimerHelperJs"];S3y.prototype={_running:null,_count:null,_options:null,_win:null,_raf:null,_type:null,_interval:null,_maxCount:null,_tickCB:null,_completeCB:null,_lastTimestamp:null,_rafHandle:null,_intervalHandle:null,doStart:function(){this.doStop();this._running=true;var W5l=this._type;switch(W5l[1]){case 0:this.startRAFTimer();break;case 1:this.startIntervalTimer();break;}},doStop:function(){if(this._rafHandle!=null){this._win.cancelAnimationFrame(this._rafHandle);this._rafHandle=null;}else if(this._intervalHandle){this._win.clearInterval(this._intervalHandle);this._intervalHandle=null;}},doReset:function(){if(this._running){this.doStop();}this._rafHandle=null;this._intervalHandle=null;this._running=false;this._count=0;},onTick:function(){if(this._tickCB!=null){this._tickCB(this._interval,this._count);}},onComplete:function(){if(this._completeCB!=null){this._completeCB(this._interval,this._count);}},startRAFTimer:function(){this._lastTimestamp=this.now();this._rafHandle=this._raf(p1J(this,this.stepRAF));},stepRAF:function(e5l){var z5l=this.now();var S5l=z5l-this._lastTimestamp;if(S5l>=this._interval){this._count++;this._lastTimestamp+=this._interval;this.onTick();}if(this._maxCount>0&&this._count>=this._maxCount){this.doStop();this.onComplete();}this._rafHandle=this._raf(p1J(this,this.stepRAF));},startIntervalTimer:function(){var n5l=this;this._lastTimestamp=this.now();this._intervalHandle=this._win.setInterval(function(){var s5l=n5l.now()-n5l._lastTimestamp;if(s5l>=n5l._interval){n5l._count++;n5l._lastTimestamp+=n5l._interval;n5l.onTick();}if(n5l._maxCount>0&&n5l._count>=n5l._maxCount){n5l.doStop();n5l.onComplete();}return;},1);},getRAF:function(){return;window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;;},now:function(){return this._win.performance.now();},start:function(){this.doStart();return this;},stop:function(){this.doStop();return this;},reset:function(){this.doReset();return this;},running:function(){return this._running;},count:function(){return this._count;},__class__:S3y};var Q7J=O1J["com.turner.top.lib.platform.timers.TimerTypeJs"]={__ename__:["com","turner","top","lib","platform","timers","TimerTypeJs"],__constructs__:["Animation","Interval"]};Q7J.Animation=["Animation",0];Q7J.Animation.toString=H1J;Q7J.Animation.__enum__=Q7J;Q7J.Interval=["Interval",1];Q7J.Interval.toString=H1J;Q7J.Interval.__enum__=Q7J;Q7J.__empty_constructs__=[Q7J.Animation,Q7J.Interval];var Z7J=e1J["com"]["turner"]["top"]["lib"]["platform"]["view"]["StyleHelper"]=function(J5l){this._doc=J5l==null?this.getMainDocument():J5l;};O1J["com.turner.top.lib.platform.view.StyleHelper"]=Z7J;Z7J.__name__=["com","turner","top","lib","platform","view","StyleHelper"];Z7J.injectStyleText=function(y5l,j5l){if(j5l==null){var I5l=""+Z7J.STYLE_ELEMENT_NAME+"-";var E5l=Math.random();var i5l=d1J.parseInt(null);var Q5l=Math.floor(E5l*(i5l==null?2000:i5l));j5l=I5l+d1J.string(Q5l<0?4294967296.0+Q5l:Q5l+0.0);}var k5l=window.document;var A5l=k5l.createElement("style");A5l.id=j5l;A5l.innerHTML=y5l;A5l.appendChild(k5l.createTextNode(""));k5l.head.appendChild(A5l);return j5l;};Z7J.prototype={_doc:null,_styleEl:null,_sheet:null,doInit:function(r5l){if(r5l==null){r5l=Z7J.STYLE_ELEMENT_NAME;}var u0g=this.byId(r5l);if(u0g!=null){this._styleEl=S1J.__cast(u0g,HTMLStyleElement);}if(this._styleEl==null){this._styleEl=this._doc.createElement("style");this._styleEl.id=r5l;}this._styleEl.appendChild(this._doc.createTextNode(""));this._doc.head.appendChild(this._styleEl);this._sheet=S1J.__cast(this._styleEl.sheet,CSSStyleSheet);},doAddRule:function(h0g,X0g){if(X0g==null){X0g=this._sheet.cssRules.length;}try{return this._sheet.insertRule(this.formatRule(h0g),X0g);}catch(f0g){return-1;}},doDeleteRule:function(Y0g){if(Y0g==null){return false;}var w0g=false;var F0g=this.formatRuleForDeletion(Y0g);var D0g=this._sheet.cssRules.length;while(D0g>0){--D0g;var C0g=this._sheet.cssRules.item(D0g);var o0g=this.formateCssTextForDeletion(C0g.cssText);var c0g=this.formateCssTextForDeletion(C0g.cssText);var q0g=c0g.props;var R0g=function(t0g,G0g){if(t0g.length!=G0g.length){return false;}var l0g=0;var m0g=t0g.length;while(l0g<m0g){var K0g=l0g++;if(G0g.indexOf(t0g[K0g])==-1){return false;}}return true;};var U0g=R0g(F0g,q0g);if(c0g.selector==Y0g.selector&&U0g){w0g=this.doDeleteRuleByIndex(D0g);}}return w0g;},doDeleteRuleByIndex:function(N0g){try{this._sheet.deleteRule(N0g);return true;}catch(a0g){return false;}},formatRule:function(b0g){return[b0g.selector,"{",b0g.props,"}"].join(" ");},formatRuleForDeletion:function(x0g){var P0g=[];var g0g=0;var M0g=x0g.props.split("; ");while(g0g<M0g.length){var L0g=M0g[g0g];++g0g;P0g.push(L0g.split(":")[0]);}return P0g;},formateCssTextForDeletion:function(O0g){var T0g=" { ";var d0g=O0g.indexOf(T0g);var p0g=O0g.indexOf("; }");var v0g=O0g.substring(d0g+T0g.length,p0g).split("; ");var Z0g=Y4J.substr(O0g,0,d0g);var V0g=[];var H0g=0;while(H0g<v0g.length){var B0g=v0g[H0g];++H0g;V0g.push(B0g.split(":")[0]);}return{selector:Z0g,props:V0g};},getMainDocument:function(){return window.document;},byId:function(W0g){if(W0g==null){return null;}return this._doc.getElementById(W0g);},init:function(z0g){this.doInit(z0g);return this;},addRule:function(S0g,e0g){return this.doAddRule(S0g,e0g);},deleteRule:function(n0g){return this.doDeleteRule(n0g);},deleteRuleByIndex:function(s0g){return this.doDeleteRuleByIndex(s0g);},doc:function(){return this._doc;},styleEl:function(){return this._styleEl;},sheet:function(){return this._sheet;},__class__:Z7J};var N7J=e1J["com"]["turner"]["top"]["lib"]["platform"]["view"]["ViewElementHelper"]=function(){};O1J["com.turner.top.lib.platform.view.ViewElementHelper"]=N7J;N7J.__name__=["com","turner","top","lib","platform","view","ViewElementHelper"];N7J.create=function(J0g){var A0g=window.document.createElement("div");if(J0g!=null){if(J0g.id!=null){A0g.id=J0g.id;}}return A0g;};N7J.attach=function(k0g,j0g){var Q0g=k0g.appendChild(j0g);return Q0g==j0g;};N7J.detach=function(E0g,i0g){var I0g=E0g.removeChild(i0g);return I0g==i0g;};N7J.retrieve=function(y0g,r0g){return y0g.querySelector(r0g);};N7J.resize=function(h1g,u1g){var X1g=u1g.unit==null?"px":u1g.unit;if(u1g.width!=null){h1g.style.width=""+u1g.width+X1g;}if(u1g.height!=null){h1g.style.height=""+u1g.height+X1g;}return true;};var s3y=function(){this._document=window.document;this._pageListeners=[];};O1J["com.turner.top.lib.platform.visibility.PageVisibilityHelper"]=s3y;s3y.__name__=["com","turner","top","lib","platform","visibility","PageVisibilityHelper"];s3y.prototype={_document:null,_hiddenProp:null,_visibilityChangeEvent:null,_pageListeners:null,doInit:function(){this.setupPageVisibilityApiSuppot();},doDestroy:function(){var f1g=0;var D1g=this._pageListeners;while(f1g<D1g.length){var C1g=D1g[f1g];++f1g;this._document.removeEventListener(this._visibilityChangeEvent,C1g);}},setupPageVisibilityApiSuppot:function(){if(typeof this._document.hidden!="undefined"){this._hiddenProp="hidden";this._visibilityChangeEvent="visibilitychange";}else if(typeof this._document.msHidden!="undefined"){this._hiddenProp="msHidden";this._visibilityChangeEvent="msvisibilitychange";}else if(typeof this._document.msHidden!="undefined"){this._hiddenProp="webkitHidden";this._visibilityChangeEvent="webkitvisibilitychange";}},isPageHidden:function(){return this._document[this._hiddenProp];},doOnPageVisible:function(c1g){var Y1g=this;var w1g=function(){if(!Y1g.isPageHidden()){c1g();}return;};this._pageListeners.push(w1g);this._document.addEventListener(this._visibilityChangeEvent,w1g);},doOnPageHidden:function(U1g){var R1g=this;var F1g=function(){if(R1g.isPageHidden()){U1g();}return;};this._pageListeners.push(F1g);this._document.addEventListener(this._visibilityChangeEvent,F1g);},init:function(){this.doInit();return this;},destroy:function(){this.doDestroy();return this;},onPageVisible:function(q1g){this.doOnPageVisible(q1g);return this;},onPageHidden:function(o1g){this.doOnPageHidden(o1g);return this;},__class__:s3y};var J3y=function(){};O1J["com.turner.top.lib.registry.IRegistry"]=J3y;J3y.__name__=["com","turner","top","lib","registry","IRegistry"];J3y.prototype={init:null,add:null,has:null,get:null,remove:null,__class__:J3y};var H8J=function(){this._members=new b4J();};O1J["com.turner.top.lib.registry.Registry"]=H8J;H8J.__name__=["com","turner","top","lib","registry","Registry"];H8J.__interfaces__=[J3y];H8J.prototype={_members:null,doInit:function(){},doAdd:function(t1g,G1g){var l1g=this._members;if(E1J[t1g]!=null){l1g.setReserved(t1g,G1g);}else{l1g.h[t1g]=G1g;}},doGet:function(m1g){var K1g=this._members;if(!(E1J[m1g]!=null?K1g.existsReserved(m1g):K1g.h.hasOwnProperty(m1g))){return null;}var N1g=this._members;if(E1J[m1g]!=null){return N1g.getReserved(m1g);}else{return N1g.h[m1g];}},doRemove:function(a1g){var b1g=this._members;if(E1J[a1g]!=null?b1g.existsReserved(a1g):b1g.h.hasOwnProperty(a1g)){this._members.remove(a1g);}},init:function(){this.doInit();return this;},add:function(g1g,P1g){this.doAdd(g1g,P1g);return this;},has:function(M1g){return this.doGet(M1g)!=null;},get:function(L1g){return this.doGet(L1g);},remove:function(x1g){this.doRemove(x1g);return this;},__class__:H8J};var b9y=function(){};O1J["com.turner.top.lib.signals.ISignal2"]=b9y;b9y.__name__=["com","turner","top","lib","signals","ISignal2"];b9y.__interfaces__=[S8J];b9y.prototype={listen:null,once:null,hasListener:null,unlisten:null,dispatch:null,__class__:b9y};var N9y=function(){};O1J["com.turner.top.lib.signals.ISignal3"]=N9y;N9y.__name__=["com","turner","top","lib","signals","ISignal3"];N9y.__interfaces__=[S8J];N9y.prototype={listen:null,once:null,hasListener:null,unlisten:null,dispatch:null,__class__:N9y};var K9y=function(){};O1J["com.turner.top.lib.signals.ISignal4"]=K9y;K9y.__name__=["com","turner","top","lib","signals","ISignal4"];K9y.__interfaces__=[S8J];K9y.prototype={listen:null,once:null,hasListener:null,unlisten:null,dispatch:null,__class__:K9y};var V0y=function(){var O1g=new E8J();this._impl=O1g;this._listeners=[];};O1J["com.turner.top.lib.signals.Signal0"]=V0y;V0y.__name__=["com","turner","top","lib","signals","Signal0"];V0y.__interfaces__=[i3J];V0y.prototype={_impl:null,_listeners:null,once:function(v1g){var T1g=this;var H1g=null;H1g=function(){T1g.unlisten(H1g);v1g();};var V1g=H1g;var d1g=H1g;this.listen(d1g);},listen:function(p1g){this.addListener(p1g);},hasListener:function(Z1g){return u8J.hasListener(this._impl,Z1g);},unlisten:function(B1g){if(this.hasListener(B1g)){this.removeListener(B1g);}},observe:function(W1g){c4J.make(this._impl,null,W1g,1);},unobserve:function(z1g){c4J.make(this._impl,null,z1g,0);},dispatch:function(){try{var e1g=this._impl;if(e1g.enabled){var S1g=e1g.n;while(S1g){e1g.nextSendable=S1g.n;if((S1g.flags&4)!=0){S1g.disable();}S1g._handler();if((S1g.flags&4)!=0){S1g.dispose();}S1g=e1g.nextSendable;}e1g.nextSendable=null;}}catch(n1g){}},addListener:function(s1g){this.removeAllListeners();this._listeners.push(s1g);this.addAllListeners();},removeListener:function(A1g){var J1g=this._listeners.indexOf(A1g);if(J1g==-1){return;}this.removeAllListeners();this._listeners.splice(J1g,1);this.addAllListeners();},addAllListeners:function(){var Q1g=this._listeners.length;if(Q1g==0){return;}var j1g=Q1g-1;while(j1g>=0){c4J.make(this._impl,null,this._listeners[j1g],1);--j1g;}},removeAllListeners:function(){var k1g=0;var i1g=this._listeners;while(k1g<i1g.length){var I1g=i1g[k1g];++k1g;this._impl.unbind(null,I1g);}},__class__:V0y};var Q3y=function(){var E1g=new J3J();this._impl=E1g;this._listeners=[];};O1J["com.turner.top.lib.signals.Signal2"]=Q3y;Q3y.__name__=["com","turner","top","lib","signals","Signal2"];Q3y.__interfaces__=[b9y];Q3y.prototype={_impl:null,_listeners:null,once:function(X4g){var r1g=this;var y1g=null;y1g=function(f4g,D4g){r1g.unlisten(y1g);X4g(f4g,D4g);};var h4g=y1g;var u4g=y1g;this.listen(u4g);},listen:function(C4g){c4J.make(this._impl,null,C4g,1);},hasListener:function(w4g){return y9J.hasListener(this._impl,w4g);},unlisten:function(Y4g){if(this.hasListener(Y4g)){this._impl.unbind(null,Y4g);}},observe:function(c4g){c4J.make(this._impl,null,c4g,3);},unobserve:function(F4g){c4J.make(this._impl,null,F4g,2);},dispatch:function(q4g,o4g){try{var U4g=this._impl;if(U4g.enabled){var R4g=U4g.n;while(R4g){U4g.nextSendable=R4g.n;if((R4g.flags&4)!=0){R4g.disable();}if((R4g.flags&2)!=0){R4g._handler();}else{R4g._handler(q4g,o4g);}if((R4g.flags&4)!=0){R4g.dispose();}R4g=U4g.nextSendable;}U4g.nextSendable=null;}}catch(t4g){}},addListener:function(l4g){this.removeAllListeners();this._listeners.push(l4g);this.addAllListeners();},removeListener:function(m4g){var G4g=this._listeners.indexOf(m4g);if(G4g==-1){return;}this.removeAllListeners();this._listeners.splice(G4g,1);this.addAllListeners();},addAllListeners:function(){var N4g=this._listeners.length;if(N4g==0){return;}var K4g=N4g-1;while(K4g>=0){c4J.make(this._impl,null,this._listeners[K4g],1);--K4g;}},removeAllListeners:function(){var a4g=0;var b4g=this._listeners;while(a4g<b4g.length){var g4g=b4g[a4g];++a4g;this._impl.unbind(null,g4g);}},__class__:Q3y};var k3y=function(){var P4g=new S3J();this._impl=P4g;this._listeners=[];};O1J["com.turner.top.lib.signals.Signal3"]=k3y;k3y.__name__=["com","turner","top","lib","signals","Signal3"];k3y.__interfaces__=[N9y];k3y.prototype={_impl:null,_listeners:null,once:function(O4g){var L4g=this;var M4g=null;M4g=function(T4g,d4g,v4g){L4g.unlisten(M4g);O4g(T4g,d4g,v4g);};var H4g=M4g;var x4g=M4g;this.listen(x4g);},listen:function(V4g){c4J.make(this._impl,null,V4g,1);},hasListener:function(p4g){return E9J.hasListener(this._impl,p4g);},unlisten:function(Z4g){if(this.hasListener(Z4g)){this._impl.unbind(null,Z4g);}},observe:function(B4g){c4J.make(this._impl,null,B4g,3);},unobserve:function(W4g){c4J.make(this._impl,null,W4g,2);},dispatch:function(e4g,n4g,s4g){try{var S4g=this._impl;if(S4g.enabled){var z4g=S4g.n;while(z4g){S4g.nextSendable=z4g.n;if((z4g.flags&4)!=0){z4g.disable();}if((z4g.flags&2)!=0){z4g._handler();}else{z4g._handler(e4g,n4g,s4g);}if((z4g.flags&4)!=0){z4g.dispose();}z4g=S4g.nextSendable;}S4g.nextSendable=null;}}catch(J4g){}},addListener:function(A4g){this.removeAllListeners();this._listeners.push(A4g);this.addAllListeners();},removeListener:function(Q4g){var j4g=this._listeners.indexOf(Q4g);if(j4g==-1){return;}this.removeAllListeners();this._listeners.splice(j4g,1);this.addAllListeners();},addAllListeners:function(){var i4g=this._listeners.length;if(i4g==0){return;}var k4g=i4g-1;while(k4g>=0){c4J.make(this._impl,null,this._listeners[k4g],1);--k4g;}},removeAllListeners:function(){var I4g=0;var E4g=this._listeners;while(I4g<E4g.length){var y4g=E4g[I4g];++I4g;this._impl.unbind(null,y4g);}},__class__:k3y};var i3y=function(){var r4g=new H3J();this._impl=r4g;this._listeners=[];};O1J["com.turner.top.lib.signals.Signal4"]=i3y;i3y.__name__=["com","turner","top","lib","signals","Signal4"];i3y.__interfaces__=[K9y];i3y.prototype={_impl:null,_listeners:null,once:function(f6g){var X6g=this;var u6g=null;u6g=function(C6g,w6g,Y6g,c6g){X6g.unlisten(u6g);f6g(C6g,w6g,Y6g,c6g);};var D6g=u6g;var h6g=u6g;this.listen(h6g);},listen:function(F6g){c4J.make(this._impl,null,F6g,1);},hasListener:function(R6g){return I9J.hasListener(this._impl,R6g);},unlisten:function(U6g){if(this.hasListener(U6g)){this._impl.unbind(null,U6g);}},observe:function(q6g){c4J.make(this._impl,null,q6g,3);},unobserve:function(o6g){c4J.make(this._impl,null,o6g,2);},dispatch:function(G6g,m6g,K6g,N6g){try{var l6g=this._impl;if(l6g.enabled){var t6g=l6g.n;while(t6g){l6g.nextSendable=t6g.n;if((t6g.flags&4)!=0){t6g.disable();}if((t6g.flags&2)!=0){t6g._handler();}else{t6g._handler(G6g,m6g,K6g,N6g);}if((t6g.flags&4)!=0){t6g.dispose();}t6g=l6g.nextSendable;}l6g.nextSendable=null;}}catch(a6g){}},addListener:function(b6g){this.removeAllListeners();this._listeners.push(b6g);this.addAllListeners();},removeListener:function(P6g){var g6g=this._listeners.indexOf(P6g);if(g6g==-1){return;}this.removeAllListeners();this._listeners.splice(g6g,1);this.addAllListeners();},addAllListeners:function(){var L6g=this._listeners.length;if(L6g==0){return;}var M6g=L6g-1;while(M6g>=0){c4J.make(this._impl,null,this._listeners[M6g],1);--M6g;}},removeAllListeners:function(){var x6g=0;var O6g=this._listeners;while(x6g<O6g.length){var H6g=O6g[x6g];++x6g;this._impl.unbind(null,H6g);}},__class__:i3y};var u8J={};O1J["com.turner.top.lib.signals.impls.prime._PrimeSignal.PrimeSignal0Impl_Impl_"]=u8J;u8J.__name__=["com","turner","top","lib","signals","impls","prime","_PrimeSignal","PrimeSignal0Impl_Impl_"];u8J._new=function(){var T6g=new E8J();return T6g;};u8J.listen=function(d6g,v6g){c4J.make(d6g,null,v6g,1);};u8J.hasListener=function(B6g,Z6g){var V6g=B6g.n;var p6g=false;while(V6g)if(V6g.owner==null&&(Z6g==null||Z1J.compareMethods(Z6g,V6g._handler))){V6g=null;p6g=true;}else{V6g=V6g.n;}return p6g;};u8J.unlisten=function(W6g,z6g){W6g.unbind(null,z6g);};u8J.observe=function(S6g,e6g){c4J.make(S6g,null,e6g,1);};u8J.unobserve=function(n6g,s6g){c4J.make(n6g,null,s6g,0);};u8J.dispatch=function(A6g){if(A6g.enabled){var J6g=A6g.n;while(J6g){A6g.nextSendable=J6g.n;if((J6g.flags&4)!=0){J6g.disable();}J6g._handler();if((J6g.flags&4)!=0){J6g.dispose();}J6g=A6g.nextSendable;}A6g.nextSendable=null;}};var r9J={};O1J["com.turner.top.lib.signals.impls.prime._PrimeSignal.PrimeSignal1Impl_Impl_"]=r9J;r9J.__name__=["com","turner","top","lib","signals","impls","prime","_PrimeSignal","PrimeSignal1Impl_Impl_"];r9J._new=function(){var j6g=new u3J();return j6g;};r9J.listen=function(Q6g,k6g){c4J.make(Q6g,null,k6g,1);};r9J.hasListener=function(y6g,E6g){var i6g=y6g.n;var I6g=false;while(i6g)if(i6g.owner==null&&(E6g==null||Z1J.compareMethods(E6g,i6g._handler))){i6g=null;I6g=true;}else{i6g=i6g.n;}return I6g;};r9J.unlisten=function(r6g,u2g){r6g.unbind(null,u2g);};r9J.observe=function(X2g,h2g){c4J.make(X2g,null,h2g,3);};r9J.unobserve=function(f2g,D2g){c4J.make(f2g,null,D2g,2);};r9J.dispatch=function(w2g,Y2g){if(w2g.enabled){var C2g=w2g.n;while(C2g){w2g.nextSendable=C2g.n;if((C2g.flags&4)!=0){C2g.disable();}if((C2g.flags&2)!=0){C2g._handler();}else{C2g._handler(Y2g);}if((C2g.flags&4)!=0){C2g.dispose();}C2g=w2g.nextSendable;}w2g.nextSendable=null;}};var y9J={};O1J["com.turner.top.lib.signals.impls.prime._PrimeSignal.PrimeSignal2Impl_Impl_"]=y9J;y9J.__name__=["com","turner","top","lib","signals","impls","prime","_PrimeSignal","PrimeSignal2Impl_Impl_"];y9J._new=function(){var c2g=new J3J();return c2g;};y9J.listen=function(F2g,R2g){c4J.make(F2g,null,R2g,1);};y9J.hasListener=function(t2g,o2g){var U2g=t2g.n;var q2g=false;while(U2g)if(U2g.owner==null&&(o2g==null||Z1J.compareMethods(o2g,U2g._handler))){U2g=null;q2g=true;}else{U2g=U2g.n;}return q2g;};y9J.unlisten=function(l2g,G2g){l2g.unbind(null,G2g);};y9J.observe=function(m2g,K2g){c4J.make(m2g,null,K2g,3);};y9J.unobserve=function(N2g,a2g){c4J.make(N2g,null,a2g,2);};y9J.dispatch=function(g2g,P2g,M2g){if(g2g.enabled){var b2g=g2g.n;while(b2g){g2g.nextSendable=b2g.n;if((b2g.flags&4)!=0){b2g.disable();}if((b2g.flags&2)!=0){b2g._handler();}else{b2g._handler(P2g,M2g);}if((b2g.flags&4)!=0){b2g.dispose();}b2g=g2g.nextSendable;}g2g.nextSendable=null;}};var E9J={};O1J["com.turner.top.lib.signals.impls.prime._PrimeSignal.PrimeSignal3Impl_Impl_"]=E9J;E9J.__name__=["com","turner","top","lib","signals","impls","prime","_PrimeSignal","PrimeSignal3Impl_Impl_"];E9J._new=function(){var L2g=new S3J();return L2g;};E9J.listen=function(x2g,O2g){c4J.make(x2g,null,O2g,1);};E9J.hasListener=function(v2g,d2g){var H2g=v2g.n;var T2g=false;while(H2g)if(H2g.owner==null&&(d2g==null||Z1J.compareMethods(d2g,H2g._handler))){H2g=null;T2g=true;}else{H2g=H2g.n;}return T2g;};E9J.unlisten=function(V2g,p2g){V2g.unbind(null,p2g);};E9J.observe=function(Z2g,B2g){c4J.make(Z2g,null,B2g,3);};E9J.unobserve=function(W2g,z2g){c4J.make(W2g,null,z2g,2);};E9J.dispatch=function(e2g,n2g,s2g,J2g){if(e2g.enabled){var S2g=e2g.n;while(S2g){e2g.nextSendable=S2g.n;if((S2g.flags&4)!=0){S2g.disable();}if((S2g.flags&2)!=0){S2g._handler();}else{S2g._handler(n2g,s2g,J2g);}if((S2g.flags&4)!=0){S2g.dispose();}S2g=e2g.nextSendable;}e2g.nextSendable=null;}};var I9J={};O1J["com.turner.top.lib.signals.impls.prime._PrimeSignal.PrimeSignal4Impl_Impl_"]=I9J;I9J.__name__=["com","turner","top","lib","signals","impls","prime","_PrimeSignal","PrimeSignal4Impl_Impl_"];I9J._new=function(){var A2g=new H3J();return A2g;};I9J.listen=function(j2g,Q2g){c4J.make(j2g,null,Q2g,1);};I9J.hasListener=function(E2g,I2g){var k2g=E2g.n;var i2g=false;while(k2g)if(k2g.owner==null&&(I2g==null||Z1J.compareMethods(I2g,k2g._handler))){k2g=null;i2g=true;}else{k2g=k2g.n;}return i2g;};I9J.unlisten=function(y2g,r2g){y2g.unbind(null,r2g);};I9J.observe=function(u7g,X7g){c4J.make(u7g,null,X7g,3);};I9J.unobserve=function(h7g,f7g){c4J.make(h7g,null,f7g,2);};I9J.dispatch=function(C7g,w7g,Y7g,c7g,F7g){if(C7g.enabled){var D7g=C7g.n;while(D7g){C7g.nextSendable=D7g.n;if((D7g.flags&4)!=0){D7g.disable();}if((D7g.flags&2)!=0){D7g._handler();}else{D7g._handler(w7g,Y7g,c7g,F7g);}if((D7g.flags&4)!=0){D7g.dispose();}D7g=C7g.nextSendable;}C7g.nextSendable=null;}};var r3y=function(q7g){this._flag=0;this._flagCount=1;this._enumMap=new E2J();var U7g=q7g.__constructs__.slice();var R7g=0;while(R7g<U7g.length){var o7g=U7g[R7g];++R7g;this._enumMap.set(U4J.createEnum(q7g,o7g),this.makeFlag());}};O1J["com.turner.top.lib.states.StateFlags"]=r3y;r3y.__name__=["com","turner","top","lib","states","StateFlags"];r3y.prototype={_flag:null,_flagCount:null,_enumMap:null,makeFlag:function(){var t7g=C6J.hex(this._flagCount,6);this._flagCount*=2;return d1J.parseInt(t7g);},getIndex:function(l7g){return this._enumMap.get(l7g);},doSet:function(m7g){if(!this.doHas(m7g)){var G7g=this;G7g._flag|=this.getIndex(m7g);this._flag=G7g._flag;}},doSetAll:function(N7g){var K7g=0;while(K7g<N7g.length){var a7g=N7g[K7g];++K7g;this.doSet(a7g);}},doHas:function(b7g){return(this._flag&this.getIndex(b7g))>0;},doHasAll:function(P7g){var g7g=0;while(g7g<P7g.length){var M7g=P7g[g7g];++g7g;if(!this.doHas(M7g)){return false;}}return true;},doHasAny:function(x7g){var L7g=0;while(L7g<x7g.length){var O7g=x7g[L7g];++L7g;if(this.doHas(O7g)){return true;}}return false;},doRemove:function(H7g){if(this.doHas(H7g)){this._flag&=~this.getIndex(H7g);}},doRemoveAll:function(d7g){var T7g=0;while(T7g<d7g.length){var v7g=d7g[T7g];++T7g;this.doRemove(v7g);}},set:function(V7g){this.doSet(V7g);return this;},setAll:function(p7g){this.doSetAll(p7g);return this;},has:function(Z7g){return this.doHas(Z7g);},hasAll:function(B7g){return this.doHasAll(B7g);},hasAny:function(W7g){return this.doHasAny(W7g);},remove:function(z7g){this.doRemove(z7g);return this;},removeAll:function(S7g){this.doRemoveAll(S7g);return this;},__class__:r3y};var y6J=function(){this._events=new F2y();this._eventTransitions={};this._stateTransitions={};this._eventList={};};O1J["com.turner.top.lib.states.fsm.Fsm"]=y6J;y6J.__name__=["com","turner","top","lib","states","fsm","Fsm"];y6J.prototype={_events:null,_config:null,_eventTransitions:null,_stateTransitions:null,_eventList:null,_initialState:null,_finalState:null,_previousState:null,_currentState:null,_currentTransition:null,_currentTransitionCBs:null,doInit:function(I7g){this._config=I7g;this._initialState=this._config.initial;this._finalState=this._config.end;this.addEvent({name:this._initialState.name,from:[null],to:this._initialState.state},true);var n7g=0;var s7g=this._config.events;while(n7g<s7g.length){var k7g=s7g[n7g];++n7g;this.addEvent(k7g);}var e7g=0;var J7g=Z1J.fields(this._stateTransitions);while(e7g<J7g.length){var A7g=J7g[e7g];++e7g;var j7g=A7g;var i7g=Z1J.field(this._stateTransitions,A7g);var Q7g=this._eventList;Q7g[j7g]=this.buildEvent(j7g,i7g);}this._currentState=null;this.doFire(this._initialState.name);},doFire:function(E7g,r7g){if(Object.prototype.hasOwnProperty.call(this._eventList,E7g)){var y7g=Z1J.field(this._eventList,E7g);return y7g(r7g);}return 5;},doCanFire:function(u9g){var h9g;if(this._currentTransition==null&&Object.prototype.hasOwnProperty.call(this._stateTransitions,u9g)){var f9g=Z1J.field(this._stateTransitions,u9g);h9g=Object.prototype.hasOwnProperty.call(f9g,this._currentState);}else{h9g=false;}var X9g;if(!Object.prototype.hasOwnProperty.call(this._stateTransitions,"*")){if(Object.prototype.hasOwnProperty.call(this._stateTransitions,u9g)){var D9g=Z1J.field(this._stateTransitions,u9g);X9g=Object.prototype.hasOwnProperty.call(D9g,"*");}else{X9g=false;}}else{X9g=true;}if(!h9g){return X9g;}else{return true;}},doCannotFire:function(C9g){return!this.canFire(C9g);},addEvent:function(w9g,R9g){if(R9g==null){R9g=false;}var o9g=R9g?"__no_state__":"*";var Y9g=w9g.from!=null?w9g.from:[o9g];var c9g=w9g.to!=null?w9g.to:null;if(!Object.prototype.hasOwnProperty.call(this._stateTransitions,w9g.name)){var q9g=this._stateTransitions;q9g[w9g.name]={};}var U9g=0;var t9g=Y9g.length;while(U9g<t9g){var F9g=U9g++;if(!Object.prototype.hasOwnProperty.call(this._eventTransitions,Y9g[F9g])){var G9g=this._eventTransitions;G9g[Y9g[F9g]]=[];}var m9g=Z1J.field(this._eventTransitions,Y9g[F9g]);m9g.push(w9g.name);var l9g=Z1J.field(this._stateTransitions,w9g.name);l9g[Y9g[F9g]]={to:c9g!=null?c9g:Y9g[F9g],onBeforeEvent:w9g.onBeforeEvent,onStateEntered:w9g.onStateEntered,onStateChanged:w9g.onStateChanged,onAfterEvent:w9g.onAfterEvent,onError:w9g.onError};}if(c9g!=null){if(this._eventTransitions[c9g]==null){this._eventTransitions[c9g]=[];}}},buildEvent:function(N9g,a9g){var K9g=this;return function(P9g){var b9g=K9g._currentState;var x9g=b9g==null;var M9g=Z1J.field(a9g,b9g);var g9g=M9g!=null?M9g.to:null;if(g9g==null){g9g=Z1J.field(a9g,85>(7420,1696)?true:"*")!=null&&Z1J.field(a9g,"*").to!=null&&Z1J.field(a9g,"*").to!="*"?Z1J.field(a9g,"*").to:b9g;}if(K9g._currentTransition!=null){K9g.handleError(N9g,b9g,g9g,P9g,200,"event "+d1J.string(N9g)+" inappropriate because previous transition did not complete");return 5;}if(K9g.cannotFire(N9g)){K9g.handleError(N9g,b9g,g9g,P9g,100,"event "+d1J.string(N9g)+" inappropriate in current state "+d1J.string(b9g));return 5;}K9g._currentTransitionCBs=M9g;if(K9g.handleBeforeEvent(N9g,b9g,g9g,P9g)==false){return 3;}if(b9g==g9g){K9g.handleAfterEvent(N9g,b9g,g9g,P9g);return 2;}K9g._currentTransition=K9g.createTransition(N9g,b9g,g9g,P9g);var L9g=K9g.handleLeaveState(N9g,b9g,g9g,P9g);if(L9g==false){K9g._currentTransition=null;return 3;}else if("async"==L9g){return 4;}else if(K9g._currentTransition!=null){return K9g._currentTransition.execute();}return 5;};},createTransition:function(T9g,d9g,H9g,v9g){var O9g=this;return{execute:function(){O9g._currentTransition=null;O9g._previousState=O9g._currentState;O9g._currentState=H9g;O9g.handleStateEntered(T9g,d9g,H9g,v9g);O9g.handleStateChanged(T9g,d9g,H9g,v9g);O9g.handleAfterEvent(T9g,d9g,H9g,v9g);return 1;},cancel:function(){O9g._currentTransition=null;O9g.handleAfterEvent(T9g,d9g,H9g,v9g);}};},handleError:function(V9g,z9g,p9g,W9g,Z9g,B9g){if(y6J._debug){y6J._logger.debug("[handleError] trigger: "+d1J.string(V9g)+", from: "+d1J.string(this._previousState)+", to: "+d1J.string(p9g)+", errorType: "+d1J.string(Z9g)+", desc: "+B9g);}if(this._currentTransitionCBs!=null&&this._currentTransitionCBs.onError!=null){this._currentTransitionCBs.onError(V9g,this._previousState,p9g,W9g,Z9g,B9g);}this.notifyError(V9g,this._previousState,p9g,W9g,Z9g,B9g);},handleBeforeEvent:function(S9g,s9g,e9g,n9g){if(y6J._debug){y6J._logger.debug("[handleBeforeEvent] trigger: "+d1J.string(S9g)+", from: "+d1J.string(this._currentState)+", to: "+d1J.string(e9g));}if(this._currentTransitionCBs!=null&&this._currentTransitionCBs.onBeforeEvent!=null){return this._currentTransitionCBs.onBeforeEvent(S9g,this._currentState,e9g,n9g);}this.notifyBeforeEvent(S9g,this._currentState,e9g,n9g);return true;},handleLeaveState:function(J9g,A9g,j9g,Q9g){return true;},handleStateEntered:function(k9g,E9g,i9g,I9g){if(y6J._debug){y6J._logger.debug("[handleStateEntered] trigger: "+d1J.string(k9g)+", from: "+d1J.string(this._previousState)+", to: "+d1J.string(i9g));}if(this._currentTransitionCBs!=null&&this._currentTransitionCBs.onStateEntered!=null){this._currentTransitionCBs.onStateEntered(k9g,this._previousState,i9g,I9g);}this.notifyStateEntered(k9g,this._previousState,i9g,I9g);},handleStateChanged:function(y9g,X8g,r9g,u8g){if(y6J._debug){y6J._logger.debug("[handleStateChanged] trigger: "+d1J.string(y9g)+", from: "+d1J.string(this._previousState)+", to: "+d1J.string(r9g));}if(this._currentTransitionCBs!=null&&this._currentTransitionCBs.onStateChanged!=null){this._currentTransitionCBs.onStateChanged(y9g,this._previousState,r9g,u8g);}this.notifyStateChanged(y9g,this._previousState,r9g,u8g);},handleAfterEvent:function(h8g,C8g,f8g,D8g){if(y6J._debug){y6J._logger.debug("[handleAfterEvent] trigger: "+d1J.string(h8g)+", from: "+d1J.string(this._previousState)+", to: "+d1J.string(f8g));}if(this._currentTransitionCBs!=null&&this._currentTransitionCBs.onAfterEvent!=null){this._currentTransitionCBs.onAfterEvent(h8g,this._previousState,f8g,D8g);}this.notifyAfterEvent(h8g,this._previousState,f8g,D8g);},notifyBeforeEvent:function(Y8g,c8g,F8g,R8g){var w8g=new H2y(Y8g,c8g,F8g,R8g);this._events.beforeEvent.dispatch(w8g);},notifyStateEntered:function(q8g,o8g,t8g,l8g){var U8g=new O2y(q8g,o8g,t8g,l8g);this._events.stateEntered.dispatch(U8g);},notifyStateChanged:function(m8g,K8g,N8g,a8g){var G8g=new x2y(m8g,K8g,N8g,a8g);this._events.stateChanged.dispatch(G8g);},notifyAfterEvent:function(g8g,P8g,M8g,L8g){var b8g=new L2y(g8g,P8g,M8g,L8g);this._events.afterEvent.dispatch(b8g);},notifyError:function(O8g,H8g,T8g,d8g,v8g,V8g){var x8g=new O0y(O8g,H8g,T8g,d8g,v8g,V8g);this._events.error.dispatch(x8g);},init:function(p8g){this.doInit(p8g);return this;},fire:function(Z8g,B8g){return this.doFire(Z8g,B8g);},canFire:function(W8g){return this.doCanFire(W8g);},cannotFire:function(z8g){return!this.doCanFire(z8g);},isTransitioning:function(){return this._currentTransition!=null;},events:function(){return this._events;},previousState:function(){return this._previousState;},currentState:function(){return this._currentState;},__class__:y6J};var b2J=function(S8g,e8g,n8g,s8g){u4J.call(this);this.name=S8g;this.from=e8g;this.to=n8g;this.args=s8g;};O1J["com.turner.top.lib.states.fsm.events.FsmEventResult"]=b2J;b2J.__name__=["com","turner","top","lib","states","fsm","events","FsmEventResult"];b2J.__super__=u4J;b2J.prototype=v1J(u4J.prototype,{name:null,from:null,to:null,args:null,__class__:b2J});var H2y=function(J8g,A8g,j8g,Q8g){b2J.call(this,J8g,A8g,j8g,Q8g);};O1J["com.turner.top.lib.states.fsm.events.FsmBeforeEventResult"]=H2y;H2y.__name__=["com","turner","top","lib","states","fsm","events","FsmBeforeEventResult"];H2y.__super__=b2J;H2y.prototype=v1J(b2J.prototype,{__class__:H2y});var O2y=function(k8g,i8g,I8g,E8g){b2J.call(this,k8g,i8g,I8g,E8g);};O1J["com.turner.top.lib.states.fsm.events.FsmStateEnteredResult"]=O2y;O2y.__name__=["com","turner","top","lib","states","fsm","events","FsmStateEnteredResult"];O2y.__super__=b2J;O2y.prototype=v1J(b2J.prototype,{__class__:O2y});var x2y=function(y8g,r8g,u3g,X3g){b2J.call(this,y8g,r8g,u3g,X3g);};O1J["com.turner.top.lib.states.fsm.events.FsmStateChangedResult"]=x2y;x2y.__name__=["com","turner","top","lib","states","fsm","events","FsmStateChangedResult"];x2y.__super__=b2J;x2y.prototype=v1J(b2J.prototype,{__class__:x2y});var L2y=function(h3g,f3g,D3g,C3g){b2J.call(this,h3g,f3g,D3g,C3g);};O1J["com.turner.top.lib.states.fsm.events.FsmAfterEventResult"]=L2y;L2y.__name__=["com","turner","top","lib","states","fsm","events","FsmAfterEventResult"];L2y.__super__=b2J;L2y.prototype=v1J(b2J.prototype,{__class__:L2y});var O0y=function(w3g,Y3g,c3g,F3g,R3g,U3g){b2J.call(this,w3g,Y3g,c3g,F3g);this.errorType=R3g;this.errorDesc=U3g;};O1J["com.turner.top.lib.states.fsm.events.FsmErrorResult"]=O0y;O0y.__name__=["com","turner","top","lib","states","fsm","events","FsmErrorResult"];O0y.__super__=b2J;O0y.prototype=v1J(b2J.prototype,{errorType:null,errorDesc:null,__class__:O0y});var m6J=O1J["com.turner.top.lib.states.fsm.events.FsmEventType"]={__ename__:["com","turner","top","lib","states","fsm","events","FsmEventType"],__constructs__:["Before_Event","State_Entered","State_Changed","After_Event","Error"]};m6J.Before_Event=["Before_Event",0];m6J.Before_Event.toString=H1J;m6J.Before_Event.__enum__=m6J;m6J.State_Entered=["State_Entered",1];m6J.State_Entered.toString=H1J;m6J.State_Entered.__enum__=m6J;m6J.State_Changed=["State_Changed",2];m6J.State_Changed.toString=H1J;m6J.State_Changed.__enum__=m6J;m6J.After_Event=["After_Event",3];m6J.After_Event.toString=H1J;m6J.After_Event.__enum__=m6J;m6J.Error=["Error",4];m6J.Error.toString=H1J;m6J.Error.__enum__=m6J;m6J.__empty_constructs__=[m6J.Before_Event,m6J.State_Entered,m6J.State_Changed,m6J.After_Event,m6J.Error];var g2y=function(){V1J.call(this,m6J.Before_Event);};O1J["com.turner.top.lib.states.fsm.events.FsmBeforeEvent"]=g2y;g2y.__name__=["com","turner","top","lib","states","fsm","events","FsmBeforeEvent"];g2y.__super__=V1J;g2y.prototype=v1J(V1J.prototype,{__class__:g2y});var N2y=function(){V1J.call(this,m6J.State_Entered);};O1J["com.turner.top.lib.states.fsm.events.FsmStateEnteredEvent"]=N2y;N2y.__name__=["com","turner","top","lib","states","fsm","events","FsmStateEnteredEvent"];N2y.__super__=V1J;N2y.prototype=v1J(V1J.prototype,{__class__:N2y});var K2y=function(){V1J.call(this,m6J.State_Changed);};O1J["com.turner.top.lib.states.fsm.events.FsmStateChangedEvent"]=K2y;K2y.__name__=["com","turner","top","lib","states","fsm","events","FsmStateChangedEvent"];K2y.__super__=V1J;K2y.prototype=v1J(V1J.prototype,{__class__:K2y});var o2y=function(){V1J.call(this,m6J.After_Event);};O1J["com.turner.top.lib.states.fsm.events.FsmAfterEvent"]=o2y;o2y.__name__=["com","turner","top","lib","states","fsm","events","FsmAfterEvent"];o2y.__super__=V1J;o2y.prototype=v1J(V1J.prototype,{__class__:o2y});var R2y=function(){V1J.call(this,m6J.Error);};O1J["com.turner.top.lib.states.fsm.events.FsmErrorEvent"]=R2y;R2y.__name__=["com","turner","top","lib","states","fsm","events","FsmErrorEvent"];R2y.__super__=V1J;R2y.prototype=v1J(V1J.prototype,{__class__:R2y});var F2y=function(){G4J.call(this,[this.beforeEvent=new g2y(),this.stateEntered=new N2y(),this.stateChanged=new K2y(),this.afterEvent=new o2y(),this.error=new R2y()]);};O1J["com.turner.top.lib.states.fsm.events.FsmEvents"]=F2y;F2y.__name__=["com","turner","top","lib","states","fsm","events","FsmEvents"];F2y.__super__=G4J;F2y.prototype=v1J(G4J.prototype,{beforeEvent:null,stateEntered:null,stateChanged:null,afterEvent:null,error:null,__class__:F2y});var H7J=e1J["com"]["turner"]["top"]["lib"]["states"]["fsm"]["examples"]["FsmExample"]=function(){this.fsm=new y6J();this.fsm.events().listen(p1J(this,this.onFsmEvent));};O1J["com.turner.top.lib.states.fsm.examples.FsmExample"]=H7J;H7J.__name__=["com","turner","top","lib","states","fsm","examples","FsmExample"];H7J.create_simple=function(){var q3g=new H7J();return q3g.init({initial:{name:i4J.Start,state:J4J.None},events:[{name:i4J.Start,from:[J4J.None],to:J4J.Green,onStateEntered:function(o3g,t3g,l3g,G3g){H7J._logger.info("[onStateEntered] Green!");},onStateChanged:function(m3g,K3g,N3g,a3g){H7J._logger.info("[onStateChanged] Green!");},onError:function(P3g,M3g,L3g,x3g,b3g,g3g){H7J._logger.info("[onError] "+b3g+", "+g3g);}},{name:i4J.Warn,from:[J4J.Green],to:J4J.Yellow},{name:i4J.Panic,from:[J4J.Green],to:J4J.Red}]});};H7J.create_less_simple=function(){var O3g=new H7J();return O3g.init({initial:{name:i4J.Start,state:J4J.None},events:[{name:i4J.Start,from:[J4J.None],to:J4J.Green},{name:i4J.Warn,from:[J4J.Green],to:J4J.Yellow},{name:i4J.Panic,from:[J4J.Green],to:J4J.Red},{name:i4J.Panic,from:[J4J.Yellow],to:J4J.Red},{name:i4J.Calm,from:[J4J.Red],to:J4J.Yellow},{name:i4J.Clear,from:[J4J.Red],to:J4J.Green},{name:i4J.Clear,from:[J4J.Yellow],to:J4J.Green}]});};H7J.prototype={fsm:null,fsmConfig:null,init:function(H3g){this.fsmConfig=H3g;this.fsm.init(this.fsmConfig);return this;},onFsmEvent:function(T3g,d3g){H7J._logger.debug("[onFsmEvent] type: "+d1J.string(T3g)+", result: "+d1J.string(d3g));},start:function(){this.fsm.fire(i4J.Start);},warn:function(){this.fsm.fire(i4J.Warn);},panic:function(){this.fsm.fire(i4J.Panic);},calm:function(){this.fsm.fire(i4J.Calm);},clear:function(){this.fsm.fire(i4J.Clear);},__class__:H7J};var i4J=O1J["com.turner.top.lib.states.fsm.examples.TestEvent"]={__ename__:["com","turner","top","lib","states","fsm","examples","TestEvent"],__constructs__:["Start","Warn","Panic","Calm","Clear"]};i4J.Start=["Start",0];i4J.Start.toString=H1J;i4J.Start.__enum__=i4J;i4J.Warn=["Warn",1];i4J.Warn.toString=H1J;i4J.Warn.__enum__=i4J;i4J.Panic=["Panic",2];i4J.Panic.toString=H1J;i4J.Panic.__enum__=i4J;i4J.Calm=["Calm",3];i4J.Calm.toString=H1J;i4J.Calm.__enum__=i4J;i4J.Clear=["Clear",4];i4J.Clear.toString=H1J;i4J.Clear.__enum__=i4J;i4J.__empty_constructs__=[i4J.Start,i4J.Warn,i4J.Panic,i4J.Calm,i4J.Clear];var J4J=O1J["com.turner.top.lib.states.fsm.examples.TestState"]={__ename__:["com","turner","top","lib","states","fsm","examples","TestState"],__constructs__:["None","Green","Yellow","Red"]};J4J.None=["None",0];J4J.None.toString=H1J;J4J.None.__enum__=J4J;J4J.Green=["Green",1];J4J.Green.toString=H1J;J4J.Green.__enum__=J4J;J4J.Yellow=["Yellow",2];J4J.Yellow.toString=H1J;J4J.Yellow.__enum__=J4J;J4J.Red=["Red",3];J4J.Red.toString=H1J;J4J.Red.__enum__=J4J;J4J.__empty_constructs__=[J4J.None,J4J.Green,J4J.Yellow,J4J.Red];var G7J=function(V3g){this._logger=I1J.getLogger(S1J.getClass(this)).filter("lib.tasks");this._id=G7J.createTaskId();this._options=V3g==null?{}:V3g;var v3g=new E2J();v3g.set(E4J.Resolved,[]);v3g.set(E4J.Rejected,[]);v3g.set(E4J.Canceled_Resolve,[]);v3g.set(E4J.Canceled_Reject,[]);v3g.set(E4J.Completed,[]);this._handlers=v3g;};O1J["com.turner.top.lib.tasks.BaseTask"]=G7J;G7J.__name__=["com","turner","top","lib","tasks","BaseTask"];G7J.__interfaces__=[W9y];G7J.createTaskId=function(){return"task-"+G7J._taskId++;};G7J.prototype={_id:null,_running:null,_canceled:null,_resolved:null,_rejected:null,_completed:null,_logger:null,_options:null,_handlers:null,_result:null,_error:null,createResolver:function(){return{resolve:p1J(this,this.handleResolved),reject:p1J(this,this.handleRejected)};},handleResolved:function(p3g){this._running=false;this._resolved=true;this._completed=true;if(this._canceled){this.handleCanceledResolve();return;}this._result=p3g;if((l6J=this._options,p1J(l6J,l6J.onResolved))!=null){this._options.onResolved(this._result);}this.triggerHandlersFor(E4J.Resolved);this.handleCompleted();},handleRejected:function(Z3g){this._running=false;this._rejected=true;this._completed=true;if(this._canceled){this.handleCanceledReject();return;}this._error=Z3g;if((l6J=this._options,p1J(l6J,l6J.onRejected))!=null){this._options.onRejected(this._error);}this.triggerHandlersFor(E4J.Rejected);this.handleCompleted();},handleCanceledResolve:function(){if((l6J=this._options,p1J(l6J,l6J.onCanceledResolve))!=null){this._options.onCanceledResolve();}else{this._logger.warn("[onCanceledResolve] Task resolved after cancelation");}this.triggerHandlersFor(E4J.Canceled_Resolve);this.handleCompleted();},handleCanceledReject:function(){if((l6J=this._options,p1J(l6J,l6J.onCanceledResolve))!=null){this._options.onCanceledResolve();}else{this._logger.warn("[onCanceledReject] Task rejected after cancelation");}this.triggerHandlersFor(E4J.Canceled_Reject);this.handleCompleted();},handleCompleted:function(){if((l6J=this._options,p1J(l6J,l6J.onCompleted))!=null){this._options.onCompleted();}else{this._logger.warn("[onCompleted] Task completed");}this.triggerHandlersFor(E4J.Completed);},addHandler:function(B3g,W3g){switch(B3g[1]){case 0:if(this._resolved){this.triggerHandler(B3g,W3g);}else{this._handlers.get(B3g).push(W3g);}break;case 1:if(this._rejected){this.triggerHandler(B3g,W3g);}else{this._handlers.get(B3g).push(W3g);}break;case 2:if(this._resolved&&this._canceled){this.triggerHandler(B3g,W3g);}else{this._handlers.get(B3g).push(W3g);}break;case 3:if(this._rejected&&this._canceled){this.triggerHandler(B3g,W3g);}else{this._handlers.get(B3g).push(W3g);}break;case 4:if(this._resolved||this._rejected||this._canceled){this.triggerHandler(B3g,W3g);}else{this._handlers.get(B3g).push(W3g);}break;}},triggerHandlersFor:function(z3g){var S3g=this._handlers.get(z3g);while(S3g.length>0)this.triggerHandler(z3g,S3g.shift());this._handlers.set(z3g,[]);},triggerHandler:function(n3g,s3g){var e3g=s3g;switch(n3g[1]){case 0:e3g(this._result);break;case 1:e3g(this._error);break;case 2:case 3:e3g();break;case 4:e3g();break;}},cancel:function(){this._canceled=true;return this;},onResolved:function(J3g){this.addHandler(E4J.Resolved,J3g);return this;},onRejected:function(A3g){this.addHandler(E4J.Rejected,A3g);return this;},onCanceledResolve:function(j3g){this.addHandler(E4J.Canceled_Resolve,j3g);return this;},onCanceledReject:function(Q3g){this.addHandler(E4J.Canceled_Reject,Q3g);return this;},onCompleted:function(k3g){this.addHandler(E4J.Completed,k3g);return this;},id:function(){return this._id;},running:function(){return this._running;},canceled:function(){return this._canceled;},resolved:function(){return this._resolved;},rejected:function(){return this._rejected;},completed:function(){return this._completed;},__class__:G7J};var N2J=function(i3g){G7J.call(this,i3g);};O1J["com.turner.top.lib.tasks.BaseTask0"]=N2J;N2J.__name__=["com","turner","top","lib","tasks","BaseTask0"];N2J.__super__=G7J;N2J.prototype=v1J(G7J.prototype,{doExecute:function(){throw new j1J("abstract method, must override");},execute:function(){this._running=true;this.doExecute();return this;},__class__:N2J});var K2J=function(I3g){G7J.call(this,I3g);};O1J["com.turner.top.lib.tasks.BaseTask1"]=K2J;K2J.__name__=["com","turner","top","lib","tasks","BaseTask1"];K2J.__super__=G7J;K2J.prototype=v1J(G7J.prototype,{doExecute:function(E3g){throw new j1J("abstract method, must override");},execute:function(y3g){this._running=true;this.doExecute(y3g);return this;},__class__:K2J});var E4J=O1J["com.turner.top.lib.tasks.TaskEventType"]={__ename__:["com","turner","top","lib","tasks","TaskEventType"],__constructs__:["Resolved","Rejected","Canceled_Resolve","Canceled_Reject","Completed"]};E4J.Resolved=["Resolved",0];E4J.Resolved.toString=H1J;E4J.Resolved.__enum__=E4J;E4J.Rejected=["Rejected",1];E4J.Rejected.toString=H1J;E4J.Rejected.__enum__=E4J;E4J.Canceled_Resolve=["Canceled_Resolve",2];E4J.Canceled_Resolve.toString=H1J;E4J.Canceled_Resolve.__enum__=E4J;E4J.Canceled_Reject=["Canceled_Reject",3];E4J.Canceled_Reject.toString=H1J;E4J.Canceled_Reject.__enum__=E4J;E4J.Completed=["Completed",4];E4J.Completed.toString=H1J;E4J.Completed.__enum__=E4J;E4J.__empty_constructs__=[E4J.Resolved,E4J.Rejected,E4J.Canceled_Resolve,E4J.Canceled_Reject,E4J.Completed];var g2J=function(){};O1J["com.turner.top.lib.tasks.DefaultTask"]=g2J;g2J.__name__=["com","turner","top","lib","tasks","DefaultTask"];g2J.create0=function(r3g,u5g){return new c2y(r3g,u5g);};g2J.create1=function(X5g,h5g){return new Y2y(X5g,h5g);};g2J.createCustom0=function(f5g,D5g){return new f2y(f5g,D5g);};g2J.createSeq0=function(C5g,w5g){return new I6y(C5g,w5g);};g2J.createSeq1=function(Y5g,c5g,F5g){return new k6y(Y5g,c5g,F5g);};var c2y=function(R5g,U5g){N2J.call(this,U5g);this._taskHandler=R5g;};O1J["com.turner.top.lib.tasks.DefaultTask0"]=c2y;c2y.__name__=["com","turner","top","lib","tasks","DefaultTask0"];c2y.__super__=N2J;c2y.prototype=v1J(N2J.prototype,{_taskHandler:null,doExecute:function(){this._taskHandler(this.createResolver());},__class__:c2y});var Y2y=function(q5g,o5g){K2J.call(this,o5g);this._taskHandler=q5g;};O1J["com.turner.top.lib.tasks.DefaultTask1"]=Y2y;Y2y.__name__=["com","turner","top","lib","tasks","DefaultTask1"];Y2y.__super__=K2J;Y2y.prototype=v1J(K2J.prototype,{_taskHandler:null,doExecute:function(t5g){this._taskHandler(t5g,this.createResolver());},__class__:Y2y});var f2y=function(l5g,G5g){N2J.call(this,G5g);this._taskHandler=l5g;};O1J["com.turner.top.lib.tasks.CustomTask"]=f2y;f2y.__name__=["com","turner","top","lib","tasks","CustomTask"];f2y.__super__=N2J;f2y.prototype=v1J(N2J.prototype,{_taskHandler:null,doExecute:function(){this._taskHandler(this.createResolver());},__class__:f2y});var I6y=function(m5g,K5g){N2J.call(this,K5g);this._taskHandlers=m5g;};O1J["com.turner.top.lib.tasks.DefaultTaskSeq0"]=I6y;I6y.__name__=["com","turner","top","lib","tasks","DefaultTaskSeq0"];I6y.__super__=N2J;I6y.prototype=v1J(N2J.prototype,{_taskHandlers:null,_taskHandlerIndex:null,doExecute:function(){this._taskHandlerIndex=-1;this.executeNextHandler();},executeNextHandler:function(){var N5g=this;this._taskHandlerIndex++;var a5g=this._taskHandlers[this._taskHandlerIndex];a5g({resolve:function(b5g){if(N5g._taskHandlerIndex==N5g._taskHandlers.length-1){N5g.handleResolved();}else{N5g.executeNextHandler();}},reject:function(g5g){N5g.handleRejected(g5g);}});},__class__:I6y});var k6y=function(P5g,M5g,L5g){K2J.call(this,L5g);this._taskHandlers=P5g;this._pipe=M5g;};O1J["com.turner.top.lib.tasks.DefaultTaskSeq1"]=k6y;k6y.__name__=["com","turner","top","lib","tasks","DefaultTaskSeq1"];k6y.__super__=K2J;k6y.prototype=v1J(K2J.prototype,{_taskHandlers:null,_pipe:null,_taskHandlerIndex:null,doExecute:function(x5g){this._taskHandlerIndex=-1;this.executeNextHandler(x5g);},executeNextHandler:function(H5g){var O5g=this;this._taskHandlerIndex++;var T5g=this._taskHandlers[this._taskHandlerIndex];T5g(H5g,{resolve:function(v5g){if(O5g._taskHandlerIndex==O5g._taskHandlers.length-1){O5g.handleResolved();}else{var d5g=O5g._pipe(H5g);O5g.executeNextHandler(d5g);}},reject:function(V5g){O5g.handleRejected(V5g);}});},__class__:k6y});var g0y=function(){};O1J["com.turner.top.lib.timeline.IMarker"]=g0y;g0y.__name__=["com","turner","top","lib","timeline","IMarker"];g0y.prototype={_events:null,_options:null,_type:null,_enabled:null,_range:null,_startBuffer:null,updateTime:null,events:null,options:null,type:null,enabled:null,range:null,startBuffer:null,__class__:g0y};var d2J=function(Z5g,B5g,p5g){this._events=new O6y();this._type=Z5g;this._range=B5g;this._options=i1J.extend({startBuffer:0,approachingThreshold:10,finishingThreshold:10,activationLimit:0},p5g==null?{}:p5g);this._active=false;this._enabled=true;this._firedApproaching=false;this._firedFinishing=false;this._startBuffer=this._options.startBuffer;this._effectiveRange=this._startBuffer>0?U6J.create(this._range.begin-this._startBuffer,this._range.duration+this._startBuffer):this._range;this._approachingThreshold=this._options.approachingThreshold;this._finishingThreshold=this._options.finishingThreshold;this._approachingRange=U6J.create(this._effectiveRange.begin-this._approachingThreshold,this._approachingThreshold-0.1);this._finishingRange=U6J.create(this._effectiveRange.end-this._finishingThreshold,this._finishingThreshold-0.1);d2J._logger.debug("[constructor] created with a type of "+d1J.string(this._type)+" and range of "+d1J.string(this._range)+", with options: "+d1J.string(this._options));};O1J["com.turner.top.lib.timeline.BaseMarker"]=d2J;d2J.__name__=["com","turner","top","lib","timeline","BaseMarker"];d2J.__interfaces__=[g0y];d2J.prototype={_events:null,_options:null,_type:null,_enabled:null,_range:null,_startBuffer:null,_active:null,_currentTime:null,_effectiveRange:null,_firedApproaching:null,_firedFinishing:null,_approachingThreshold:null,_finishingThreshold:null,_approachingRange:null,_finishingRange:null,updateActiveState:function(){if(this._active){if(!this._effectiveRange.contains(this._currentTime)){this.handleDeactivation();}else if(this._finishingRange.contains(this._currentTime)){this.handleApproachingDeactivation();}}else if(this._effectiveRange.contains(this._currentTime)){this.handleActivation();}else if(this._approachingRange.contains(this._currentTime)){this.handleApproachingActivation();}},handleApproachingActivation:function(){if(this._approachingThreshold<=0){return;}if(this._firedApproaching){return;}d2J._logger.debug("[handleApproachingActivation] approaching activation; "+this._currentTime+" is within "+this._approachingThreshold+" of "+this._effectiveRange.begin);this._firedApproaching=true;this.notifyApproaching();},handleActivation:function(){d2J._logger.debug("[updateActiveState] setting active; "+this._currentTime+" is inside "+d1J.string(this._effectiveRange));this._firedApproaching=false;this._active=true;this.notifyActivated();},handleApproachingDeactivation:function(){if(this._finishingThreshold<=0){return;}if(this._firedFinishing){return;}d2J._logger.debug("[handleApproachingDeactivation] approaching deactivation; "+this._currentTime+" is within "+this._finishingThreshold+" of "+this._effectiveRange.end);this._firedFinishing=true;this.notifyFinishing();},handleDeactivation:function(){d2J._logger.debug("[handleDeactivation] reset active state; "+this._currentTime+" is outside "+d1J.string(this._effectiveRange));this._firedFinishing=false;this._active=false;this.notifyDeactivated();},notifyApproaching:function(){var W5g=new u9J(this);this._events.approaching.dispatch(W5g);},notifyActivated:function(){var z5g=new u9J(this);this._events.activated.dispatch(z5g);},notifyFinishing:function(){var S5g=new u9J(this);this._events.finishing.dispatch(S5g);},notifyDeactivated:function(){var e5g=new u9J(this);this._events.deactivated.dispatch(e5g);},updateTime:function(n5g){this._currentTime=n5g;this.updateActiveState();},toString:function(){var s5g=Z1J.isEnumValue(this._type)?this._type[0]:d1J.string(this._type);var J5g=this._range.toString();return"[Marker] "+s5g+" | "+J5g;},events:function(){return this._events;},options:function(){return this._options;},type:function(){return this._type;},enabled:function(){return this._enabled;},range:function(){return this._range;},startBuffer:function(){return this._startBuffer;},__class__:d2J};var e6y=function(){};O1J["com.turner.top.lib.timeline.ITimeline"]=e6y;e6y.__name__=["com","turner","top","lib","timeline","ITimeline"];e6y.prototype={_events:null,_activeMarkers:null,_currentTime:null,init:null,addMarker:null,removeMarker:null,hasMarker:null,nextMarker:null,previousMarker:null,markersForTime:null,markersForRange:null,isLastMarker:null,lastMarker:null,updateTime:null,reset:null,iterator:null,events:null,activeMarkers:null,currentTime:null,__class__:e6y};var K7J=function(){this._events=new D6y();this.resetData();};O1J["com.turner.top.lib.timeline.Timeline"]=K7J;K7J.__name__=["com","turner","top","lib","timeline","Timeline"];K7J.__interfaces__=[e6y];K7J.prototype={_events:null,_activeMarkers:null,_currentTime:null,_options:null,_markers:null,_markerCache:null,resetData:function(){this._markers=new E3y();this._activeMarkers=[];this._markerCache=new u7J();this._currentTime=0;},addMarkerListeners:function(A5g){A5g.events().listen(p1J(this,this.onMarkerEvent));},onMarkerEvent:function(Q5g,j5g){switch(Q5g[1]){case 0:this._events.markerApproaching.dispatch(j5g);break;case 1:this._activeMarkers.push(j5g.marker);this._events.markerActivated.dispatch(j5g);break;case 2:this._events.markerFinishing.dispatch(j5g);break;case 3:this._activeMarkers.splice(this._activeMarkers.indexOf(j5g.marker),1);this._events.markerDeactivated.dispatch(j5g);break;}},removeMarkerListeners:function(k5g){k5g.events().unlisten(p1J(this,this.onMarkerEvent));},notifyMarkerAdded:function(I5g){var i5g=new u9J(I5g);this._events.markerAdded.dispatch(i5g);},notifyMarkerRemoved:function(y5g){var E5g=new u9J(y5g);this._events.markerRemoved.dispatch(E5g);},isDuplicateMarker:function(h0v){var u0v=d1J.string(h0v);var r5g=this._markerCache.iterator();while(r5g.hasNext()){var X0v=r5g.next();if(u0v==X0v){return true;}}return false;},init:function(f0v){this._options=i1J.extend({exclusive:false,allowDuplicates:false},f0v==null?{}:f0v);},addMarker:function(D0v){if(!this._options.allowDuplicates&&this.isDuplicateMarker(D0v)){K7J._logger.warn("[addMarker] Marker is duplicate; skipping");return null;}if(this._markers.isEmpty()){this._markers.add(D0v);}else{var w0v=D0v.range();var F0v=this._markers.last();if(w0v.greaterThanRange(F0v.range())){this._markers.add(D0v);}else{var Y0v=null;var C0v=new B7J(this._markers.h);while(C0v.head!=null){var R0v=C0v.head.item;C0v.head=C0v.head.next;var c0v=R0v;Y0v=c0v;if(c0v.range().greaterThanRange(w0v)){break;}}this._markers.insertBefore(Y0v,D0v);}}this._markerCache.set(D0v,d1J.string(D0v));this.notifyMarkerAdded(D0v);this.addMarkerListeners(D0v);return D0v;},removeMarker:function(U0v){var q0v=this._markers.remove(U0v);if(!q0v){K7J._logger.warn("[removeMarker] Marker not found; skipping");return null;}this.removeMarkerListeners(U0v);this._markerCache.remove(U0v);this.notifyMarkerRemoved(U0v);return U0v;},hasMarker:function(o0v){return this._markers.find(o0v)!=null;},nextMarker:function(t0v){if(t0v==null){var l0v=this._activeMarkers;t0v=0<l0v.length?l0v[0]:null;}if(t0v!=null){return this._markers.peekAfter(t0v);}else{return null;}},previousMarker:function(G0v){if(G0v==null){var m0v=this._activeMarkers;G0v=0<m0v.length?m0v[0]:null;}if(G0v!=null){return this._markers.peekBefore(G0v);}else{return null;}},markersForTime:function(g0v){var N0v=[];var K0v=new B7J(this._markers.h);while(K0v.head!=null){var b0v=K0v.head.item;K0v.head=K0v.head.next;var a0v=b0v;if(a0v.range().contains(g0v)){N0v.push(a0v);}}return N0v;},markersForRange:function(O0v){var M0v=[];var P0v=new B7J(this._markers.h);while(P0v.head!=null){var x0v=P0v.head.item;P0v.head=P0v.head.next;var L0v=x0v;if(L0v.range().intersectsRange(O0v)){M0v.push(L0v);}}return M0v;},isLastMarker:function(H0v){if(H0v==null){var T0v=this._activeMarkers;H0v=0<T0v.length?T0v[0]:null;}if(H0v!=null){return H0v==this._markers.last();}else{return false;}},lastMarker:function(){return this._markers.last();},updateTime:function(p0v){this._currentTime=p0v;var d0v=new B7J(this._markers.h);while(d0v.head!=null){var v0v=d0v.head.item;d0v.head=d0v.head.next;var V0v=v0v;V0v.updateTime(this._currentTime);}},reset:function(){var Z0v=new B7J(this._markers.h);while(Z0v.head!=null){var B0v=Z0v.head.item;Z0v.head=Z0v.head.next;var W0v=B0v;this.removeMarkerListeners(W0v);}this.resetData();},iterator:function(){return new B7J(this._markers.h);},events:function(){return this._events;},activeMarkers:function(){return this._activeMarkers;},currentTime:function(){return this._currentTime;},__class__:K7J};var u9J=function(z0v){u4J.call(this);this.marker=z0v;};O1J["com.turner.top.lib.timeline.events.MarkerEventResult"]=u9J;u9J.__name__=["com","turner","top","lib","timeline","events","MarkerEventResult"];u9J.__super__=u4J;u9J.prototype=v1J(u4J.prototype,{marker:null,__class__:u9J});var k6J=O1J["com.turner.top.lib.timeline.events.MarkerEventType"]={__ename__:["com","turner","top","lib","timeline","events","MarkerEventType"],__constructs__:["Approaching","Activated","Finishing","Deactivated"]};k6J.Approaching=["Approaching",0];k6J.Approaching.toString=H1J;k6J.Approaching.__enum__=k6J;k6J.Activated=["Activated",1];k6J.Activated.toString=H1J;k6J.Activated.__enum__=k6J;k6J.Finishing=["Finishing",2];k6J.Finishing.toString=H1J;k6J.Finishing.__enum__=k6J;k6J.Deactivated=["Deactivated",3];k6J.Deactivated.toString=H1J;k6J.Deactivated.__enum__=k6J;k6J.__empty_constructs__=[k6J.Approaching,k6J.Activated,k6J.Finishing,k6J.Deactivated];var S6y=function(){V1J.call(this,k6J.Approaching);};O1J["com.turner.top.lib.timeline.events.MarkerApproachingEvent"]=S6y;S6y.__name__=["com","turner","top","lib","timeline","events","MarkerApproachingEvent"];S6y.__super__=V1J;S6y.prototype=v1J(V1J.prototype,{__class__:S6y});var d6y=function(){V1J.call(this,k6J.Activated);};O1J["com.turner.top.lib.timeline.events.MarkerActivatedEvent"]=d6y;d6y.__name__=["com","turner","top","lib","timeline","events","MarkerActivatedEvent"];d6y.__super__=V1J;d6y.prototype=v1J(V1J.prototype,{__class__:d6y});var T6y=function(){V1J.call(this,k6J.Finishing);};O1J["com.turner.top.lib.timeline.events.MarkerFinishingEvent"]=T6y;T6y.__name__=["com","turner","top","lib","timeline","events","MarkerFinishingEvent"];T6y.__super__=V1J;T6y.prototype=v1J(V1J.prototype,{__class__:T6y});var H6y=function(){V1J.call(this,k6J.Deactivated);};O1J["com.turner.top.lib.timeline.events.MarkerDeactivatedEvent"]=H6y;H6y.__name__=["com","turner","top","lib","timeline","events","MarkerDeactivatedEvent"];H6y.__super__=V1J;H6y.prototype=v1J(V1J.prototype,{__class__:H6y});var O6y=function(){G4J.call(this,[this.approaching=new S6y(),this.activated=new d6y(),this.finishing=new T6y(),this.deactivated=new H6y()]);};O1J["com.turner.top.lib.timeline.events.MarkerEvents"]=O6y;O6y.__name__=["com","turner","top","lib","timeline","events","MarkerEvents"];O6y.__super__=G4J;O6y.prototype=v1J(G4J.prototype,{approaching:null,activated:null,finishing:null,deactivated:null,__class__:O6y});var s4J=O1J["com.turner.top.lib.timeline.events.TimelineEventType"]={__ename__:["com","turner","top","lib","timeline","events","TimelineEventType"],__constructs__:["Marker_Added","Marker_Approaching","Marker_Activated","Marker_Finishing","Marker_Deactivated","Marker_Removed"]};s4J.Marker_Added=["Marker_Added",0];s4J.Marker_Added.toString=H1J;s4J.Marker_Added.__enum__=s4J;s4J.Marker_Approaching=["Marker_Approaching",1];s4J.Marker_Approaching.toString=H1J;s4J.Marker_Approaching.__enum__=s4J;s4J.Marker_Activated=["Marker_Activated",2];s4J.Marker_Activated.toString=H1J;s4J.Marker_Activated.__enum__=s4J;s4J.Marker_Finishing=["Marker_Finishing",3];s4J.Marker_Finishing.toString=H1J;s4J.Marker_Finishing.__enum__=s4J;s4J.Marker_Deactivated=["Marker_Deactivated",4];s4J.Marker_Deactivated.toString=H1J;s4J.Marker_Deactivated.__enum__=s4J;s4J.Marker_Removed=["Marker_Removed",5];s4J.Marker_Removed.toString=H1J;s4J.Marker_Removed.__enum__=s4J;s4J.__empty_constructs__=[s4J.Marker_Added,s4J.Marker_Approaching,s4J.Marker_Activated,s4J.Marker_Finishing,s4J.Marker_Deactivated,s4J.Marker_Removed];var L6y=function(){V1J.call(this,s4J.Marker_Added);};O1J["com.turner.top.lib.timeline.events.TimelineMarkerAddedEvent"]=L6y;L6y.__name__=["com","turner","top","lib","timeline","events","TimelineMarkerAddedEvent"];L6y.__super__=V1J;L6y.prototype=v1J(V1J.prototype,{__class__:L6y});var a6y=function(){V1J.call(this,s4J.Marker_Approaching);};O1J["com.turner.top.lib.timeline.events.TimelineMarkerApproachingEvent"]=a6y;a6y.__name__=["com","turner","top","lib","timeline","events","TimelineMarkerApproachingEvent"];a6y.__super__=V1J;a6y.prototype=v1J(V1J.prototype,{__class__:a6y});var K6y=function(){V1J.call(this,s4J.Marker_Activated);};O1J["com.turner.top.lib.timeline.events.TimelineMarkerActivatedEvent"]=K6y;K6y.__name__=["com","turner","top","lib","timeline","events","TimelineMarkerActivatedEvent"];K6y.__super__=V1J;K6y.prototype=v1J(V1J.prototype,{__class__:K6y});var o6y=function(){V1J.call(this,s4J.Marker_Finishing);};O1J["com.turner.top.lib.timeline.events.TimelineMarkerFinishingEvent"]=o6y;o6y.__name__=["com","turner","top","lib","timeline","events","TimelineMarkerFinishingEvent"];o6y.__super__=V1J;o6y.prototype=v1J(V1J.prototype,{__class__:o6y});var Y6y=function(){V1J.call(this,s4J.Marker_Deactivated);};O1J["com.turner.top.lib.timeline.events.TimelineMarkerDeactivatedEvent"]=Y6y;Y6y.__name__=["com","turner","top","lib","timeline","events","TimelineMarkerDeactivatedEvent"];Y6y.__super__=V1J;Y6y.prototype=v1J(V1J.prototype,{__class__:Y6y});var w6y=function(){V1J.call(this,s4J.Marker_Removed);};O1J["com.turner.top.lib.timeline.events.TimelineMarkerRemovedEvent"]=w6y;w6y.__name__=["com","turner","top","lib","timeline","events","TimelineMarkerRemovedEvent"];w6y.__super__=V1J;w6y.prototype=v1J(V1J.prototype,{__class__:w6y});var D6y=function(){G4J.call(this,[this.markerAdded=new L6y(),this.markerApproaching=new a6y(),this.markerActivated=new K6y(),this.markerFinishing=new o6y(),this.markerDeactivated=new Y6y(),this.markerRemoved=new w6y()]);};O1J["com.turner.top.lib.timeline.events.TimelineEvents"]=D6y;D6y.__name__=["com","turner","top","lib","timeline","events","TimelineEvents"];D6y.__super__=G4J;D6y.prototype=v1J(G4J.prototype,{markerAdded:null,markerApproaching:null,markerActivated:null,markerFinishing:null,markerDeactivated:null,markerRemoved:null,__class__:D6y});var a5y=function(){};O1J["com.turner.top.lib.triggers.ITrigger"]=a5y;a5y.__name__=["com","turner","top","lib","triggers","ITrigger"];a5y.prototype={events:null,init:null,reset:null,enable:null,disable:null,isEnabled:null,__class__:a5y};var l7J=function(){this._logger=I1J.getLogger(S1J.getClass(this));this._events=new g5y();this._options=null;this._enabled=false;};O1J["com.turner.top.lib.triggers.BaseTrigger"]=l7J;l7J.__name__=["com","turner","top","lib","triggers","BaseTrigger"];l7J.__interfaces__=[a5y];l7J.prototype={_logger:null,_events:null,_options:null,_enabled:null,doInit:function(S0v){this.doReset();},doReset:function(){this.doEnable();},doEnable:function(){this._enabled=true;},doDisable:function(){this._enabled=false;},fireTriggered:function(){this.doDisable();var e0v=new y4y(this);this._events.fired.dispatch(e0v);},events:function(){return this._events;},init:function(n0v){this.doInit(n0v);},reset:function(){this.doReset();},enable:function(){this.doEnable();},disable:function(){this.doDisable();},isEnabled:function(){return this._enabled;},__class__:l7J};var m2J=function(s0v,J0v){l7J.call(this);this._dataSource=s0v;this._propertyConditionals=J0v;this._expectedChangeCount=i7J.count(this._propertyConditionals);this._addedListeners=false;};O1J["com.turner.top.lib.triggers.DataSourceTrigger"]=m2J;m2J.__name__=["com","turner","top","lib","triggers","DataSourceTrigger"];m2J.__super__=l7J;m2J.prototype=v1J(l7J.prototype,{_dataSource:null,_propertyConditionals:null,_expectedChangeCount:null,_receivedChanges:null,_addedListeners:null,doReset:function(){l7J.prototype.doReset.call(this);this._receivedChanges=new b4J();this.checkDataSourceProperties();this.addDataSourceListeners();},checkDataSourceProperties:function(){var A0v=this._propertyConditionals.keys();while(A0v.hasNext()){var j0v=A0v.next();this.handlePropertyChanged(j0v,this._dataSource.getProperty(j0v));}},handlePropertyChanged:function(Q0v,u1v){if(!this._enabled){return;}var i0v=this._propertyConditionals;var r0v=E1J[Q0v]!=null?i0v.getReserved(Q0v):i0v.h[Q0v];if(!r0v(u1v)){return;}var I0v=this._receivedChanges;var k0v=E1J[Q0v]!=null?I0v.getReserved(Q0v):I0v.h[Q0v];if(k0v==null){k0v=0;}var E0v=this._receivedChanges;var y0v=k0v+1;if(E1J[Q0v]!=null){E0v.setReserved(Q0v,y0v);}else{E0v.h[Q0v]=y0v;}if(i7J.count(this._receivedChanges)==this._expectedChangeCount){this.fireTriggered();}},onPropertyChanged:function(X1v){this.handlePropertyChanged(X1v.property,X1v.currentValue);},addDataSourceListeners:function(){if(this._addedListeners){return;}var f1v=this._dataSource.events();var h1v=this._propertyConditionals.keys();while(h1v.hasNext()){var D1v=h1v.next();f1v.propertyChanged.listen(D1v,p1J(this,this.onPropertyChanged));}this._addedListeners=true;},removeDataSourceListeners:function(){if(!this._addedListeners){return;}var w1v=this._dataSource.events();var C1v=this._propertyConditionals.keys();while(C1v.hasNext()){var Y1v=C1v.next();w1v.propertyChanged.unlisten(Y1v,p1J(this,this.onPropertyChanged));}this._addedListeners=false;},__class__:m2J});var F0y=function(c1v){l7J.call(this);this._triggers=c1v;this._expectedChangeCount=c1v.length;this._addedListeners=false;};O1J["com.turner.top.lib.triggers.TriggerCollection"]=F0y;F0y.__name__=["com","turner","top","lib","triggers","TriggerCollection"];F0y.__super__=l7J;F0y.prototype=v1J(l7J.prototype,{_triggers:null,_expectedChangeCount:null,_receivedChangeCount:null,_addedListeners:null,doReset:function(){l7J.prototype.doReset.call(this);this._receivedChangeCount=0;this.addTriggerListeners();var F1v=0;var R1v=this._triggers;while(F1v<R1v.length){var U1v=R1v[F1v];++F1v;U1v.init();}},doEnable:function(){l7J.prototype.doEnable.call(this);var q1v=0;var o1v=this._triggers;while(q1v<o1v.length){var t1v=o1v[q1v];++q1v;t1v.enable();}},doDisable:function(){l7J.prototype.doDisable.call(this);var l1v=0;var G1v=this._triggers;while(l1v<G1v.length){var m1v=G1v[l1v];++l1v;m1v.disable();}},onTriggerFired:function(K1v){this._receivedChangeCount++;if(this._receivedChangeCount==this._expectedChangeCount){this.fireTriggered();}},addTriggerListeners:function(){if(this._addedListeners){return;}var N1v=0;var a1v=this._triggers;while(N1v<a1v.length){var b1v=a1v[N1v];++N1v;b1v.events().fired.listen(p1J(this,this.onTriggerFired));}this._addedListeners=true;},removeTriggerListeners:function(){if(!this._addedListeners){return;}var g1v=0;var P1v=this._triggers;while(g1v<P1v.length){var M1v=P1v[g1v];++g1v;M1v.events().fired.unlisten(p1J(this,this.onTriggerFired));}this._addedListeners=false;},__class__:F0y});var V9J=O1J["com.turner.top.lib.triggers.TriggerFrequency"]={__ename__:["com","turner","top","lib","triggers","TriggerFrequency"],__constructs__:["Default","Once"]};V9J.Default=["Default",0];V9J.Default.toString=H1J;V9J.Default.__enum__=V9J;V9J.Once=["Once",1];V9J.Once.toString=H1J;V9J.Once.__enum__=V9J;V9J.__empty_constructs__=[V9J.Default,V9J.Once];var y4y=function(L1v){u4J.call(this);this.trigger=L1v;};O1J["com.turner.top.lib.triggers.events.TriggerFiredResult"]=y4y;y4y.__name__=["com","turner","top","lib","triggers","events","TriggerFiredResult"];y4y.__super__=u4J;y4y.prototype=v1J(u4J.prototype,{trigger:null,__class__:y4y});var Y0y=O1J["com.turner.top.lib.triggers.events.TriggerEventType"]={__ename__:["com","turner","top","lib","triggers","events","TriggerEventType"],__constructs__:["Fired"]};Y0y.Fired=["Fired",0];Y0y.Fired.toString=H1J;Y0y.Fired.__enum__=Y0y;Y0y.__empty_constructs__=[Y0y.Fired];var j4y=function(){V1J.call(this,Y0y.Fired);};O1J["com.turner.top.lib.triggers.events.TriggerFiredEvent"]=j4y;j4y.__name__=["com","turner","top","lib","triggers","events","TriggerFiredEvent"];j4y.__super__=V1J;j4y.prototype=v1J(V1J.prototype,{__class__:j4y});var g5y=function(){this.fired=new j4y();};O1J["com.turner.top.lib.triggers.events.TriggerEvents"]=g5y;g5y.__name__=["com","turner","top","lib","triggers","events","TriggerEvents"];g5y.prototype={fired:null,__class__:g5y};var M2J=e1J["com"]["turner"]["top"]["lib"]["utils"]["Conditionals"]=function(){};O1J["com.turner.top.lib.utils.Conditionals"]=M2J;M2J.__name__=["com","turner","top","lib","utils","Conditionals"];M2J.createTaskId=function(){return"cond-task-"+M2J._taskId++;};M2J.createLogger=function(x1v){return function(O1v){M2J._logger.verbose("("+x1v+") - "+O1v);};};M2J.createTask=function(T1v,d1v,H1v){if(H1v==null){H1v=10;}return M2J.createTaskWith({condition:T1v,success:d1v,interval:H1v});};M2J.createInfiniteTask=function(V1v,p1v,v1v){if(v1v==null){v1v=10;}return M2J.createTaskWith({condition:V1v,success:p1v,interval:v1v,maxTries:0});};M2J.createTaskWith=function(Z1v){Z1v=i1J.extend({condition:null,success:null,error:null,interval:10,maxTries:500},Z1v);var j1v=M2J.createTaskId();var S1v=M2J.createLogger(j1v);var J1v=Z1v.condition;var A1v=Z1v.success;var e1v=Z1v.error;var z1v=Z1v.maxTries;var n1v=Z1v.interval;var s1v=0;var B1v=false;var W1v=null;W1v=function(){var I1v=J1v();if(I1v){S1v("condition met successfully!");A1v();}else if(z1v>0&&s1v>z1v){S1v("condition never met!");B1v=false;if(e1v!=null){e1v();}}else{s1v+=1;Z2J.delay(W1v,n1v);}};var k1v=W1v;var i1v=function(){B1v=true;Z2J.delay(k1v,n1v);};var Q1v=function(){B1v=false;};return{start:i1v,stop:Q1v};};var x04=function(){};O1J["com.turner.top.lib.utils.DebugUtils"]=x04;x04.__name__=["com","turner","top","lib","utils","DebugUtils"];x04.alert=function(E1v){M1y.alert(E1v);};var s8y=function(){};O1J["com.turner.top.lib.utils.IStringReplacer"]=s8y;s8y.__name__=["com","turner","top","lib","utils","IStringReplacer"];s8y.prototype={init:null,initConfigTokenReplacement:null,configTokenReplacement:null,__class__:s8y};var t7J=function(){};O1J["com.turner.top.lib.utils.StringReplacer"]=t7J;t7J.__name__=["com","turner","top","lib","utils","StringReplacer"];t7J.__interfaces__=[s8y];t7J.prototype={_playlistItem:null,_configMetadata:null,_contentMetadata:null,doConfigTokenReplacement:function(y1v,u4v){if(U4J["typeof"](y1v)==R4J.TObject&&!S1J.__instanceof(y1v,H6J)&&!S1J.__instanceof(y1v,M6J)){var h4v=0;var U4v=[];var f4v=0;var Y4v=Z1J.fields(y1v);while(f4v<Y4v.length){var c4v=Y4v[f4v];++f4v;U4v.push({key:c4v,value:Z1J.field(y1v,c4v)});}var q4v=U4v;while(h4v<q4v.length){var r1v=q4v[h4v];++h4v;var X4v=r1v.value;var D4v=r1v.value;if(U4J["typeof"](D4v)==R4J.TObject&&!S1J.__instanceof(D4v,H6J)&&!S1J.__instanceof(D4v,M6J)){X4v=this.doConfigTokenReplacement(r1v.value,u4v);}else{var F4v=r1v.value;if(F4v instanceof Array&&F4v.__enum__==null){X4v=this.doConfigTokenReplacement(r1v.value,u4v);}else{var o4v=r1v.value;if(typeof o4v=="string"){X4v=this.stringTokenReplacement(r1v.value,u4v);}}}y1v[r1v.key]=X4v;}return y1v;}else if(y1v instanceof Array&&y1v.__enum__==null){var R4v=[];var C4v=0;var w4v=!(y1v instanceof Array&&y1v.__enum__==null)?null:y1v;while(C4v<w4v.length){var t4v=w4v[C4v];++C4v;R4v.push(this.doConfigTokenReplacement(t4v,u4v));}return R4v;}else if(typeof y1v=="string"){return this.stringTokenReplacement(y1v,u4v);}return y1v;},stringTokenReplacement:function(a4v,P4v){var G4v=a4v;var m4v=this.getTokensMap(a4v,P4v);var K4v={pattern:"\\$\\{token\\}"};K4v=i1J.extend({pattern:"\\{token\\}"},K4v);var N4v=m4v.keys();while(N4v.hasNext()){var l4v=N4v.next();var b4v=new RegExp(K4v.pattern.split("token").join(l4v),"g".split("u").join(""));var g4v=E1J[l4v]!=null?m4v.getReserved(l4v):m4v.h[l4v];G4v=G4v.replace(b4v,g4v);}return G4v;},searchTheClient:function(L4v,O4v){var M4v=undefined;if(L4v==M4v){return M4v;}var stringReplacerRoot=L4v;if(stringReplacerRoot==null){stringReplacerRoot=window;}try{return eval('stringReplacerRoot.'+O4v);}catch(H4v){if(H4v instanceof j1J)H4v=H4v.val;t7J._logger.warn("[searchTheClient] unable to find path \""+O4v+"\" on object "+d1J.string(L4v)+", error: "+d1J.string(H4v));return M4v;}},getTokensMap:function(s4v,Z4v){Z4v=Z4v==null?{}:Z4v;var V4v=new b4J();var p4v=new m7J("\\$\\{(.+?)\\}","g");while(p4v.match(s4v)){var v4v=p4v.matched(1);var B4v=v4v.split(".");var J4v=B4v.shift();var d4v=B4v.join(".");var T4v;switch(J4v){case"config":var W4v=this._configMetadata;T4v=!Object.prototype.hasOwnProperty.call(W4v,d4v)?null:Z1J.field(W4v,d4v);break;case"content":if(d4v=="id"){T4v=this._playlistItem.contentEntry().id();}else{var z4v=this._contentMetadata;T4v=!Object.prototype.hasOwnProperty.call(z4v,d4v)?null:Z1J.field(z4v,d4v);}break;case"context":T4v=i1J.getPathOr(Z4v,d4v,null);break;case"javascript":T4v=this.searchTheClient(window,d4v);break;case"metadata":var S4v=this._contentMetadata;var e4v=this._configMetadata;var A4v=!Object.prototype.hasOwnProperty.call(e4v,d4v)?null:Z1J.field(e4v,d4v);T4v=!Object.prototype.hasOwnProperty.call(S4v,d4v)?A4v:Z1J.field(S4v,d4v);break;case"page":switch(d4v){case"domain":T4v=g9J.parse(d9J.pageUrl()).host;break;case"url":T4v=d9J.pageUrl();break;default:T4v=null;}break;case"random":var j4v=Math.random();var n4v=d1J.parseInt(null);T4v=Math.floor(j4v*(n4v==null?2000:n4v));break;default:T4v=null;}t7J._loggerConfig.verbose("[getTokensMap] value: "+T4v);if(T4v!=null){var Q4v=new RegExp("([\\(\\)])","g".split("u").join(""));v4v=v4v.replace(Q4v,"\\$1");if(E1J[v4v]!=null){V4v.setReserved(v4v,T4v);}else{V4v.h[v4v]=T4v;}}else{t7J._logger.warn("[getTokensMap] invalid token \""+v4v+"\"");}s4v=p4v.matchedRight();}return V4v;},init:function(i4v){this._playlistItem=i4v.playlistItem;this._configMetadata=i4v.configMetadata;var k4v=this._playlistItem.contentEntry().metadata();this._contentMetadata=k4v==null?{}:k4v;return this;},initConfigTokenReplacement:function(I4v,D6v){var E4v=0;var u6v=[];var y4v=0;var X6v=Z1J.fields(I4v);while(y4v<X6v.length){var h6v=X6v[y4v];++y4v;u6v.push({key:h6v,value:Z1J.field(I4v,h6v)});}var f6v=u6v;while(E4v<f6v.length){var r4v=f6v[E4v];++E4v;if(r4v.key!="ads"){I4v[r4v.key]=this.doConfigTokenReplacement(r4v.value,D6v);}}t7J._loggerConfig.debug("[initConfigTokenReplacement] config after string replacement: "+d1J.string(I4v));return this;},configTokenReplacement:function(C6v,w6v){this.doConfigTokenReplacement(C6v,w6v);t7J._loggerConfig.debug("[configTokenReplacement] config after string replacement: "+d1J.string(C6v));return this;},__class__:t7J};var U6J=function(R6v,U6v,F6v){var c6v=this;this._options=i1J.extend({round:true,precision:4},F6v==null?{}:F6v);var Y6v=function(t6v){if(c6v._options.round){var q6v=t6v;var o6v=c6v._options.precision;q6v*=Math.pow(10,o6v);return Math.round(q6v)/Math.pow(10,o6v);}else{return t6v;}};this.begin=Y6v(R6v);this.end=Y6v(U6v);this.duration=Y6v(this.end-this.begin);};O1J["com.turner.top.lib.utils.TimeRange"]=U6J;function p1J(c1P,Y1P){if(Y1P==null)return null;if(Y1P.__id__==null)Y1P.__id__=R14++;var w1P;if(c1P.hx__closures__==null)c1P.hx__closures__={};else w1P=c1P.hx__closures__[Y1P.__id__];if(w1P==null){w1P=function(){return w1P.method.apply(w1P.scope,arguments);};w1P.scope=c1P;w1P.method=Y1P;c1P.hx__closures__[Y1P.__id__]=w1P;}return w1P;}U6J.__name__=["com","turner","top","lib","utils","TimeRange"];U6J.create=function(l6v,G6v){return new U6J(l6v,l6v+G6v);};U6J.createWithEnd=function(m6v,K6v){return new U6J(m6v,K6v);};U6J.prototype={begin:null,end:null,duration:null,_options:null,contains:function(N6v){if(N6v>=this.begin){return N6v<=this.end;}else{return false;}},greaterThanRange:function(a6v,b6v){if(b6v==null){b6v=true;}if(this.begin==a6v.begin){return this.duration>a6v.duration;}if(b6v){return this.begin>=a6v.end;}else{return this.begin>a6v.end;}},lessThanRange:function(g6v,P6v){if(P6v==null){P6v=true;}if(this.begin==g6v.begin){return this.duration<g6v.duration;}if(P6v){return this.end<=g6v.begin;}else{return this.end<g6v.begin;}},intersectsRange:function(M6v){var L6v=this.begin<M6v.begin?this:M6v;var x6v=L6v==this?M6v:this;return x6v.begin<L6v.end;},outsideRange:function(O6v){return!this.contains(O6v.begin);},toString:function(){return"[Range] begin: "+this.begin+", end: "+this.end+", duration: "+this.duration;},__class__:U6J};var k2J=function(){};O1J["com.turner.top.lib.utils.helpers.ArrayHelpers"]=k2J;k2J.__name__=["com","turner","top","lib","utils","helpers","ArrayHelpers"];k2J.hasIndex=function(T6v,H6v){if(H6v>-1&&H6v<T6v.length){return true;}else{return false;}};k2J.get=function(d6v,v6v){return d6v[v6v];};k2J.getOr=function(p6v,V6v,Z6v){if(V6v>-1&&V6v<p6v.length){return p6v[V6v];}else{return Z6v;}};k2J.first=function(B6v){return B6v[0];};k2J.firstOr=function(W6v,z6v){return 0<W6v.length?W6v[0]:z6v;};k2J.lastIndex=function(S6v){return S6v.length-1;};k2J.last=function(e6v){return e6v[e6v.length-1];};k2J.lastOr=function(s6v,J6v){var n6v=s6v.length-1;if(n6v>-1&&n6v<s6v.length){return s6v[n6v];}else{return J6v;}};k2J.flatten=function(i6v){var Q6v=[];var A6v=0;while(A6v<i6v.length){var k6v=i6v[A6v];++A6v;var j6v=0;while(j6v<k6v.length){var I6v=k6v[j6v];++j6v;Q6v.push(I6v);}}return Q6v;};k2J.flatMap=function(E6v,y6v){return k2J.flatten(E6v.map(y6v));};k2J.mapToObj=function(X2v,f2v){var u2v={};var r6v=0;while(r6v<X2v.length){var h2v=X2v[r6v];++r6v;f2v(h2v,u2v);}return u2v;};var P04=function(){};O1J["com.turner.top.lib.utils.helpers.FloatHelpers"]=P04;P04.__name__=["com","turner","top","lib","utils","helpers","FloatHelpers"];P04.round=function(C2v,D2v){if(D2v==null){D2v=2;}C2v*=Math.pow(10,D2v);return Math.round(C2v)/Math.pow(10,D2v);};var e5y=function(){};O1J["com.turner.top.lib.utils.helpers.Function0Helpers"]=e5y;e5y.__name__=["com","turner","top","lib","utils","helpers","Function0Helpers"];e5y.when=function(w2v,Y2v,c2v){return M2J.createInfiniteTask(Y2v,w2v,c2v);};var p5y=function(){};O1J["com.turner.top.lib.utils.helpers.IntHelpers"]=p5y;p5y.__name__=["com","turner","top","lib","utils","helpers","IntHelpers"];var Z5y=function(){};O1J["com.turner.top.lib.utils.helpers.SerializeHelpers"]=Z5y;Z5y.__name__=["com","turner","top","lib","utils","helpers","SerializeHelpers"];Z5y.serialize=function(F2v){try{return t2J.run(F2v);}catch(R2v){return null;}};Z5y.unserialize=function(q2v){var U2v;try{U2v=Y2J.run(q2v);}catch(o2v){U2v=null;}return U2v;};Z5y.unserializeAs=function(t2v,l2v){try{return Y2J.run(t2v);}catch(G2v){return null;}};var V1y=function(){};O1J["com.turner.top.lib.utils.helpers.StringHelpers"]=V1y;V1y.__name__=["com","turner","top","lib","utils","helpers","StringHelpers"];V1y.appendQuery=function(m2v,K2v){var N2v=m2v.indexOf(1040<=(26.93,7670)?"?":7.81e+3);if(N2v==-1){return""+m2v+"?"+K2v;}else{return""+m2v+"&"+K2v;}};V1y.removeQuery=function(a2v){if(a2v==null){return null;}var b2v=a2v.indexOf("?");if(b2v==-1){return a2v;}a2v=Y4J.substr(a2v,0,b2v);return a2v;};V1y.extension=function(g2v){if(g2v==null){return null;}var P2v=g2v;if(P2v==null){g2v=null;}else{var M2v=P2v.indexOf("?");if(M2v==-1){g2v=P2v;}else{P2v=Y4J.substr(P2v,0,M2v);g2v=P2v;}}var L2v=g2v.substring(g2v.lastIndexOf(".")+1,g2v.length);return L2v;};V1y.replaceTokens=function(O2v,H2v,T2v){T2v=i1J.extend({pattern:"\\{token\\}"},T2v);var d2v=H2v.keys();while(d2v.hasNext()){var x2v=d2v.next();var v2v=new RegExp(T2v.pattern.split("token").join(x2v),"g".split("u").join(""));var V2v=E1J[x2v]!=null?H2v.getReserved(x2v):H2v.h[x2v];O2v=O2v.replace(v2v,V2v);}return O2v;};var O9J=function(){};O1J["com.turner.top.lib.utils.helpers.TypeHelpers"]=O9J;O9J.__name__=["com","turner","top","lib","utils","helpers","TypeHelpers"];O9J.className=function(B2v){var p2v=B2v;var Z2v=p2v==null?null:S1J.getClass(p2v);if(Z2v!=null){return U4J.getClassName(Z2v);}else{return null;}};O9J.is=function(W2v,z2v){return S1J.__instanceof(W2v,z2v);};O9J.isNot=function(S2v,e2v){return!S1J.__instanceof(S2v,e2v);};O9J.isAny=function(A2v,s2v){var n2v=0;while(n2v<s2v.length){var J2v=s2v[n2v];++n2v;if(S1J.__instanceof(A2v,J2v)){return true;}}return false;};O9J.isAll=function(i2v,Q2v){var j2v=0;while(j2v<Q2v.length){var k2v=Q2v[j2v];++j2v;if(!S1J.__instanceof(i2v,k2v)){return false;}}return true;};O9J.as=function(I2v,E2v){if(!S1J.__instanceof(I2v,E2v)){return null;}return I2v;};O9J.to=function(y2v,r2v){return y2v;};O9J.asE=function(u7v,X7v){if(!S1J.__instanceof(u7v,X7v)){return null;}return u7v;};O9J.toE=function(h7v,f7v){return h7v;};var z6J=function(){};O1J["com.turner.top.sdk.common.aliases.TOPAliases"]=z6J;z6J.__name__=["com","turner","top","sdk","common","aliases","TOPAliases"];z6J.adsAlias=function(){return{AdType:g4J,AdConsumerState:H4J,AdProviderState:k4J,AdEventType:s1J,utils:{CompanionAd:m9J}};};z6J.analyticsAlias=function(){return{AnalyticsErrorSeverity:o7J};};z6J.authAlias=function(){return{AuthTokenType:m3J,FreePreview:v6J};};z6J.captionsAlias=function(){return{CCTrack:a3J,CCSource:q6J,CCChannel:u6J,CCLang:W2J,CCEventType:F6J,CCDecoderState:I4J,settings:{Color:M4J,Edge:e4J,FontType:V4J,Opacity:y4J,Size:B6J}};};z6J.cmsAlias=function(){return{ContentEntryBuilder:p7J};};z6J.cueAlias=function(){return{CueType:P4J,CueEventType:N6J,CueMessageType:L2J,CueBuilder:Y7J,ScteMetadataHelpers:Y6J,ScteSegmentationType:B4J,ScteSpliceCommandType:n7J,ScteDescriptorType:I5J};};z6J.mediaAlias=function(){return{MediaState:r1J,MediaEventType:W1J};};z6J.playerAlias=function(){return{PlayerSdk:k5J,PlayerState:w4J,ContentState:A1J,PlayerEventType:T1J,timeline:{ContentMarkerType:E6J}};};z6J.utilsAlias=function(){return{Browser:S4J,FullscreenHelper:V3y,StorageHelper:U8J,Url:g9J};};z6J.loggingAlias=function(){return{Log:I1J,LogEventType:h6J};};z6J.versionAlias=function(){return R6J;};z6J.viewAlias=function(){return{ViewState:f4J,ViewEventType:C4J};};var g4J=O1J["com.turner.top.sdk.common.ads.AdType"]={__ename__:["com","turner","top","sdk","common","ads","AdType"],__constructs__:["Preroll","Midroll","Postroll","Overlay"]};g4J.Preroll=["Preroll",0];g4J.Preroll.toString=H1J;g4J.Preroll.__enum__=g4J;g4J.Midroll=["Midroll",1];g4J.Midroll.toString=H1J;g4J.Midroll.__enum__=g4J;g4J.Postroll=["Postroll",2];g4J.Postroll.toString=H1J;g4J.Postroll.__enum__=g4J;g4J.Overlay=["Overlay",3];g4J.Overlay.toString=H1J;g4J.Overlay.__enum__=g4J;g4J.__empty_constructs__=[g4J.Preroll,g4J.Midroll,g4J.Postroll,g4J.Overlay];var H4J=O1J["com.turner.top.sdk.common.ads.consumers.AdConsumerState"]={__ename__:["com","turner","top","sdk","common","ads","consumers","AdConsumerState"],__constructs__:["Pending","Ready","Starting","Loaded","Playing","Paused","Stopped","Finished","Error"]};H4J.Pending=["Pending",0];H4J.Pending.toString=H1J;H4J.Pending.__enum__=H4J;H4J.Ready=["Ready",1];H4J.Ready.toString=H1J;H4J.Ready.__enum__=H4J;H4J.Starting=["Starting",2];H4J.Starting.toString=H1J;H4J.Starting.__enum__=H4J;H4J.Loaded=["Loaded",3];H4J.Loaded.toString=H1J;H4J.Loaded.__enum__=H4J;H4J.Playing=["Playing",4];H4J.Playing.toString=H1J;H4J.Playing.__enum__=H4J;H4J.Paused=["Paused",5];H4J.Paused.toString=H1J;H4J.Paused.__enum__=H4J;H4J.Stopped=["Stopped",6];H4J.Stopped.toString=H1J;H4J.Stopped.__enum__=H4J;H4J.Finished=["Finished",7];H4J.Finished.toString=H1J;H4J.Finished.__enum__=H4J;H4J.Error=["Error",8];H4J.Error.toString=H1J;H4J.Error.__enum__=H4J;H4J.__empty_constructs__=[H4J.Pending,H4J.Ready,H4J.Starting,H4J.Loaded,H4J.Playing,H4J.Paused,H4J.Stopped,H4J.Finished,H4J.Error];var k4J=O1J["com.turner.top.sdk.common.ads.providers.AdProviderState"]={__ename__:["com","turner","top","sdk","common","ads","providers","AdProviderState"],__constructs__:["Pending","Ready","Requesting","Completed","Canceled","Error"]};k4J.Pending=["Pending",0];k4J.Pending.toString=H1J;k4J.Pending.__enum__=k4J;k4J.Ready=["Ready",1];k4J.Ready.toString=H1J;k4J.Ready.__enum__=k4J;k4J.Requesting=["Requesting",2];k4J.Requesting.toString=H1J;k4J.Requesting.__enum__=k4J;k4J.Completed=["Completed",3];k4J.Completed.toString=H1J;k4J.Completed.__enum__=k4J;k4J.Canceled=["Canceled",4];k4J.Canceled.toString=H1J;k4J.Canceled.__enum__=k4J;k4J.Error=["Error",5];k4J.Error.toString=H1J;k4J.Error.__enum__=k4J;k4J.__empty_constructs__=[k4J.Pending,k4J.Ready,k4J.Requesting,k4J.Completed,k4J.Canceled,k4J.Error];var s1J=O1J["com.turner.top.sdk.common.ads.events.AdEventType"]={__ename__:["com","turner","top","sdk","common","ads","events","AdEventType"],__constructs__:["Request_State_Changed","Requesting","Request_Completed","Request_Canceled","Request_Error","State_Changed","Starting","Blocked","Loaded","Slot_Started","Creative_Started","Started","Time_Changed","Paused","Resumed","Volume_Changed","Mute_Changed","Stopped","Creative_Ended","Slot_Ended","Finished","Error"]};s1J.Request_State_Changed=["Request_State_Changed",0];s1J.Request_State_Changed.toString=H1J;s1J.Request_State_Changed.__enum__=s1J;s1J.Requesting=["Requesting",1];s1J.Requesting.toString=H1J;s1J.Requesting.__enum__=s1J;s1J.Request_Completed=["Request_Completed",2];s1J.Request_Completed.toString=H1J;s1J.Request_Completed.__enum__=s1J;s1J.Request_Canceled=["Request_Canceled",3];s1J.Request_Canceled.toString=H1J;s1J.Request_Canceled.__enum__=s1J;s1J.Request_Error=["Request_Error",4];s1J.Request_Error.toString=H1J;s1J.Request_Error.__enum__=s1J;s1J.State_Changed=["State_Changed",5];s1J.State_Changed.toString=H1J;s1J.State_Changed.__enum__=s1J;s1J.Starting=["Starting",6];s1J.Starting.toString=H1J;s1J.Starting.__enum__=s1J;s1J.Blocked=["Blocked",7];s1J.Blocked.toString=H1J;s1J.Blocked.__enum__=s1J;s1J.Loaded=["Loaded",8];s1J.Loaded.toString=H1J;s1J.Loaded.__enum__=s1J;s1J.Slot_Started=["Slot_Started",9];s1J.Slot_Started.toString=H1J;s1J.Slot_Started.__enum__=s1J;s1J.Creative_Started=["Creative_Started",10];s1J.Creative_Started.toString=H1J;s1J.Creative_Started.__enum__=s1J;s1J.Started=["Started",11];s1J.Started.toString=H1J;s1J.Started.__enum__=s1J;s1J.Time_Changed=["Time_Changed",12];s1J.Time_Changed.toString=H1J;s1J.Time_Changed.__enum__=s1J;s1J.Paused=["Paused",13];s1J.Paused.toString=H1J;s1J.Paused.__enum__=s1J;s1J.Resumed=["Resumed",14];s1J.Resumed.toString=H1J;s1J.Resumed.__enum__=s1J;s1J.Volume_Changed=["Volume_Changed",15];s1J.Volume_Changed.toString=H1J;s1J.Volume_Changed.__enum__=s1J;s1J.Mute_Changed=["Mute_Changed",16];s1J.Mute_Changed.toString=H1J;s1J.Mute_Changed.__enum__=s1J;s1J.Stopped=["Stopped",17];s1J.Stopped.toString=H1J;s1J.Stopped.__enum__=s1J;s1J.Creative_Ended=["Creative_Ended",18];s1J.Creative_Ended.toString=H1J;s1J.Creative_Ended.__enum__=s1J;s1J.Slot_Ended=["Slot_Ended",19];s1J.Slot_Ended.toString=H1J;s1J.Slot_Ended.__enum__=s1J;s1J.Finished=["Finished",20];s1J.Finished.toString=H1J;s1J.Finished.__enum__=s1J;s1J.Error=["Error",21];s1J.Error.toString=H1J;s1J.Error.__enum__=s1J;s1J.__empty_constructs__=[s1J.Request_State_Changed,s1J.Requesting,s1J.Request_Completed,s1J.Request_Canceled,s1J.Request_Error,s1J.State_Changed,s1J.Starting,s1J.Blocked,s1J.Loaded,s1J.Slot_Started,s1J.Creative_Started,s1J.Started,s1J.Time_Changed,s1J.Paused,s1J.Resumed,s1J.Volume_Changed,s1J.Mute_Changed,s1J.Stopped,s1J.Creative_Ended,s1J.Slot_Ended,s1J.Finished,s1J.Error];var m9J=e1J["com"]["turner"]["top"]["sdk"]["common"]["ads"]["utils"]["CompanionAd"]=function(Y7v,w7v){this._data=Y7v;this._options=i1J.extend({wrap:true},w7v==null?{}:w7v);var D7v=this._data;this._width=!Object.prototype.hasOwnProperty.call(D7v,"width")?0:Z1J.field(D7v,"width");var C7v=this._data;this._height=!Object.prototype.hasOwnProperty.call(C7v,"height")?0:Z1J.field(C7v,"height");};O1J["com.turner.top.sdk.common.ads.utils.CompanionAd"]=m9J;m9J.__name__=["com","turner","top","sdk","common","ads","utils","CompanionAd"];m9J.create=function(c7v,F7v){return new m9J(c7v,F7v);};m9J.prototype={_data:null,_width:null,_height:null,_options:null,render:function(a7v){var R7v=this;var K7v=this._data;var N7v=!Object.prototype.hasOwnProperty.call(K7v,"resourceType")?"":Z1J.field(K7v,"resourceType");var l7v=this._data;var t7v=!Object.prototype.hasOwnProperty.call(l7v,"mimeType")?"":Z1J.field(l7v,"mimeType");var m7v=this._data;var q7v=!Object.prototype.hasOwnProperty.call(m7v,"url")?"":Z1J.field(m7v,"url");var o7v=function(g7v){try{if(R7v._options.wrap){var b7v=window.document.createElement("div");b7v.addEventListener("click",function(P7v){R7v.fireClickBeacon();});b7v.innerHTML=g7v;a7v.appendChild(b7v);}else{a7v.innerHTML=g7v;}return true;}catch(M7v){R7v.log("[insertAsMarkup] Unable to render companion");}return false;};var U7v;if(N7v=="iframe"){if(t7v=="text/html"){var G7v=this._data;this.log("[render] rendering: "+d1J.string(!Object.prototype.hasOwnProperty.call(G7v,"id")?null:Z1J.field(G7v,"id")));U7v=o7v(q7v);}else{this.log("[render] Warning - unsupported mime type: "+t7v+". Attempting to insert as markup...");U7v=o7v(q7v);}}else{this.log("[render] Warning - unsupported resource type: "+N7v+". Attempting to insert as markup...");U7v=o7v(q7v);}if(U7v){this.fireViewBeacon();}},fireViewBeacon:function(){var L7v=this._data;var H7v=!Object.prototype.hasOwnProperty.call(L7v,"trackingUrls")?[]:Z1J.field(L7v,"trackingUrls");var x7v=H7v.filter(function(T7v){return T7v.event=="creativeView";});var O7v=0<x7v.length?x7v[0]:null;if(O7v!=null){this.fireBeacon(O7v);}},fireClickBeacon:function(){var d7v=this._data;var p7v=!Object.prototype.hasOwnProperty.call(d7v,"trackingUrls")?[]:Z1J.field(d7v,"trackingUrls");var v7v=p7v.filter(function(Z7v){return Z7v.event=="clickThrough";});var V7v=0<v7v.length?v7v[0]:null;if(V7v!=null){this.fireBeacon(V7v);}},fireBeacon:function(W7v){this.log("[fireBeacon] beacon: "+d1J.string(W7v));try{var B7v=window.document.createElement("img");B7v.setAttribute("style","display: none;");B7v.addEventListener("load",function(z7v){if(B7v.parentNode!=null){B7v.parentNode.removeChild(B7v);}});B7v.src=W7v.url;window.document.body.appendChild(B7v);}catch(S7v){if(S7v instanceof j1J)S7v=S7v.val;this.log("[fireBeacon] error firing beacon: "+d1J.string(S7v));}},log:function(e7v){m9J._logger.debug(e7v);if(m9J._debug){try{window.console.debug("(CompanionAd) "+e7v);}catch(n7v){}}},data:function(){return this._data;},width:function(){return this._width;},height:function(){return this._height;},__class__:m9J};var o7J=O1J["com.turner.top.sdk.common.analytics.AnalyticsErrorSeverity"]={__ename__:["com","turner","top","sdk","common","analytics","AnalyticsErrorSeverity"],__constructs__:["Warning","Fatal"]};o7J.Warning=["Warning",0];o7J.Warning.toString=H1J;o7J.Warning.__enum__=o7J;o7J.Fatal=["Fatal",1];o7J.Fatal.toString=H1J;o7J.Fatal.__enum__=o7J;o7J.__empty_constructs__=[o7J.Warning,o7J.Fatal];var m3J=e1J["com"]["turner"]["top"]["sdk"]["common"]["auth"]["AuthTokenType"]=function(){};O1J["com.turner.top.sdk.common.auth.AuthTokenType"]=m3J;m3J.__name__=["com","turner","top","sdk","common","auth","AuthTokenType"];var a3J=e1J["com"]["turner"]["top"]["sdk"]["common"]["closedcaptions"]["CCTrack"]=function(J7v,A7v,j7v,Q7v,s7v){if(s7v==null){s7v=false;}this.source=J7v;this.channel=A7v;this.lang=j7v;this.label=Q7v;this.isDefault=s7v;};O1J["com.turner.top.sdk.common.closedcaptions.CCTrack"]=a3J;a3J.__name__=["com","turner","top","sdk","common","closedcaptions","CCTrack"];a3J.prototype={source:null,channel:null,lang:null,label:null,isDefault:null,toString:function(){var k7v=this.source[0];var i7v=this.channel[0];var I7v=this.lang[0];return"[CCTrack] "+k7v+" | "+i7v+" | "+I7v+" | "+this.label+" | Default: "+d1J.string(this.isDefault);},__class__:a3J};var q6J=O1J["com.turner.top.sdk.common.closedcaptions.CCSource"]={__ename__:["com","turner","top","sdk","common","closedcaptions","CCSource"],__constructs__:["CEA_608","CEA_708","WebVTT","Unknown"]};q6J.CEA_608=["CEA_608",0];q6J.CEA_608.toString=H1J;q6J.CEA_608.__enum__=q6J;q6J.CEA_708=["CEA_708",1];q6J.CEA_708.toString=H1J;q6J.CEA_708.__enum__=q6J;q6J.WebVTT=["WebVTT",2];q6J.WebVTT.toString=H1J;q6J.WebVTT.__enum__=q6J;q6J.Unknown=["Unknown",3];q6J.Unknown.toString=H1J;q6J.Unknown.__enum__=q6J;q6J.__empty_constructs__=[q6J.CEA_608,q6J.CEA_708,q6J.WebVTT,q6J.Unknown];var u6J=O1J["com.turner.top.sdk.common.closedcaptions.CCChannel"]={__ename__:["com","turner","top","sdk","common","closedcaptions","CCChannel"],__constructs__:["CC1","CC2","CC3","CC4","Unknown"]};u6J.CC1=["CC1",0];u6J.CC1.toString=H1J;u6J.CC1.__enum__=u6J;u6J.CC2=["CC2",1];u6J.CC2.toString=H1J;u6J.CC2.__enum__=u6J;u6J.CC3=["CC3",2];u6J.CC3.toString=H1J;u6J.CC3.__enum__=u6J;u6J.CC4=["CC4",3];u6J.CC4.toString=H1J;u6J.CC4.__enum__=u6J;u6J.Unknown=["Unknown",4];u6J.Unknown.toString=H1J;u6J.Unknown.__enum__=u6J;u6J.__empty_constructs__=[u6J.CC1,u6J.CC2,u6J.CC3,u6J.CC4,u6J.Unknown];var W2J=O1J["com.turner.top.sdk.common.closedcaptions.CCLang"]={__ename__:["com","turner","top","sdk","common","closedcaptions","CCLang"],__constructs__:["English","Unknown"]};W2J.English=["English",0];W2J.English.toString=H1J;W2J.English.__enum__=W2J;W2J.Unknown=["Unknown",1];W2J.Unknown.toString=H1J;W2J.Unknown.__enum__=W2J;W2J.__empty_constructs__=[W2J.English,W2J.Unknown];var F6J=O1J["com.turner.top.sdk.common.closedcaptions.events.CCEventType"]={__ename__:["com","turner","top","sdk","common","closedcaptions","events","CCEventType"],__constructs__:["Track_Availability_Changed","State_Changed","Track_Selected","Settings_Updated","Error"]};F6J.Track_Availability_Changed=["Track_Availability_Changed",0];F6J.Track_Availability_Changed.toString=H1J;F6J.Track_Availability_Changed.__enum__=F6J;F6J.State_Changed=["State_Changed",1];F6J.State_Changed.toString=H1J;F6J.State_Changed.__enum__=F6J;F6J.Track_Selected=["Track_Selected",2];F6J.Track_Selected.toString=H1J;F6J.Track_Selected.__enum__=F6J;F6J.Settings_Updated=["Settings_Updated",3];F6J.Settings_Updated.toString=H1J;F6J.Settings_Updated.__enum__=F6J;F6J.Error=["Error",4];F6J.Error.toString=H1J;F6J.Error.__enum__=F6J;F6J.__empty_constructs__=[F6J.Track_Availability_Changed,F6J.State_Changed,F6J.Track_Selected,F6J.Settings_Updated,F6J.Error];var I4J=O1J["com.turner.top.sdk.common.closedcaptions.decoders.CCDecoderState"]={__ename__:["com","turner","top","sdk","common","closedcaptions","decoders","CCDecoderState"],__constructs__:["Pending","Ready","Changing_Track","Showing_Track","Disabled"]};I4J.Pending=["Pending",0];I4J.Pending.toString=H1J;I4J.Pending.__enum__=I4J;I4J.Ready=["Ready",1];I4J.Ready.toString=H1J;I4J.Ready.__enum__=I4J;I4J.Changing_Track=["Changing_Track",2];I4J.Changing_Track.toString=H1J;I4J.Changing_Track.__enum__=I4J;I4J.Showing_Track=["Showing_Track",3];I4J.Showing_Track.toString=H1J;I4J.Showing_Track.__enum__=I4J;I4J.Disabled=["Disabled",4];I4J.Disabled.toString=H1J;I4J.Disabled.__enum__=I4J;I4J.__empty_constructs__=[I4J.Pending,I4J.Ready,I4J.Changing_Track,I4J.Showing_Track,I4J.Disabled];var M4J=O1J["com.turner.top.sdk.common.closedcaptions.Color"]={__ename__:["com","turner","top","sdk","common","closedcaptions","Color"],__constructs__:["Default","Black","Blue","Cyan","Green","Magenta","Red","White","Yellow"]};M4J.Default=["Default",0];M4J.Default.toString=H1J;M4J.Default.__enum__=M4J;M4J.Black=["Black",1];M4J.Black.toString=H1J;M4J.Black.__enum__=M4J;M4J.Blue=["Blue",2];M4J.Blue.toString=H1J;M4J.Blue.__enum__=M4J;M4J.Cyan=["Cyan",3];M4J.Cyan.toString=H1J;M4J.Cyan.__enum__=M4J;M4J.Green=["Green",4];M4J.Green.toString=H1J;M4J.Green.__enum__=M4J;M4J.Magenta=["Magenta",5];M4J.Magenta.toString=H1J;M4J.Magenta.__enum__=M4J;M4J.Red=["Red",6];M4J.Red.toString=H1J;M4J.Red.__enum__=M4J;M4J.White=["White",7];M4J.White.toString=H1J;M4J.White.__enum__=M4J;M4J.Yellow=["Yellow",8];M4J.Yellow.toString=H1J;M4J.Yellow.__enum__=M4J;M4J.__empty_constructs__=[M4J.Default,M4J.Black,M4J.Blue,M4J.Cyan,M4J.Green,M4J.Magenta,M4J.Red,M4J.White,M4J.Yellow];var e4J=O1J["com.turner.top.sdk.common.closedcaptions.Edge"]={__ename__:["com","turner","top","sdk","common","closedcaptions","Edge"],__constructs__:["Default","None","Raised","Depressed","Uniform","Drop_Shadow_Left","Drop_Shadow_Right"]};e4J.Default=["Default",0];e4J.Default.toString=H1J;e4J.Default.__enum__=e4J;e4J.None=["None",1];e4J.None.toString=H1J;e4J.None.__enum__=e4J;e4J.Raised=["Raised",2];e4J.Raised.toString=H1J;e4J.Raised.__enum__=e4J;e4J.Depressed=["Depressed",3];e4J.Depressed.toString=H1J;e4J.Depressed.__enum__=e4J;e4J.Uniform=["Uniform",4];e4J.Uniform.toString=H1J;e4J.Uniform.__enum__=e4J;e4J.Drop_Shadow_Left=["Drop_Shadow_Left",5];e4J.Drop_Shadow_Left.toString=H1J;e4J.Drop_Shadow_Left.__enum__=e4J;e4J.Drop_Shadow_Right=["Drop_Shadow_Right",6];e4J.Drop_Shadow_Right.toString=H1J;e4J.Drop_Shadow_Right.__enum__=e4J;e4J.__empty_constructs__=[e4J.Default,e4J.None,e4J.Raised,e4J.Depressed,e4J.Uniform,e4J.Drop_Shadow_Left,e4J.Drop_Shadow_Right];var V4J=O1J["com.turner.top.sdk.common.closedcaptions.FontType"]={__ename__:["com","turner","top","sdk","common","closedcaptions","FontType"],__constructs__:["Default","Monospaced_With_Serifs","Monospaced_Without_Serifs","Proportional_With_Serifs","Proportional_Without_Serifs","Casual","Cursive","Small_Capitals"]};V4J.Default=["Default",0];V4J.Default.toString=H1J;V4J.Default.__enum__=V4J;V4J.Monospaced_With_Serifs=["Monospaced_With_Serifs",1];V4J.Monospaced_With_Serifs.toString=H1J;V4J.Monospaced_With_Serifs.__enum__=V4J;V4J.Monospaced_Without_Serifs=["Monospaced_Without_Serifs",2];V4J.Monospaced_Without_Serifs.toString=H1J;V4J.Monospaced_Without_Serifs.__enum__=V4J;V4J.Proportional_With_Serifs=["Proportional_With_Serifs",3];V4J.Proportional_With_Serifs.toString=H1J;V4J.Proportional_With_Serifs.__enum__=V4J;V4J.Proportional_Without_Serifs=["Proportional_Without_Serifs",4];V4J.Proportional_Without_Serifs.toString=H1J;V4J.Proportional_Without_Serifs.__enum__=V4J;V4J.Casual=["Casual",5];V4J.Casual.toString=H1J;V4J.Casual.__enum__=V4J;V4J.Cursive=["Cursive",6];V4J.Cursive.toString=H1J;V4J.Cursive.__enum__=V4J;V4J.Small_Capitals=["Small_Capitals",7];V4J.Small_Capitals.toString=H1J;V4J.Small_Capitals.__enum__=V4J;V4J.__empty_constructs__=[V4J.Default,V4J.Monospaced_With_Serifs,V4J.Monospaced_Without_Serifs,V4J.Proportional_With_Serifs,V4J.Proportional_Without_Serifs,V4J.Casual,V4J.Cursive,V4J.Small_Capitals];var y4J=O1J["com.turner.top.sdk.common.closedcaptions.Opacity"]={__ename__:["com","turner","top","sdk","common","closedcaptions","Opacity"],__constructs__:["Default","Opacity_0","Opacity_25","Opacity_50","Opacity_75","Opacity_100"]};y4J.Default=["Default",0];y4J.Default.toString=H1J;y4J.Default.__enum__=y4J;y4J.Opacity_0=["Opacity_0",1];y4J.Opacity_0.toString=H1J;y4J.Opacity_0.__enum__=y4J;y4J.Opacity_25=["Opacity_25",2];y4J.Opacity_25.toString=H1J;y4J.Opacity_25.__enum__=y4J;y4J.Opacity_50=["Opacity_50",3];y4J.Opacity_50.toString=H1J;y4J.Opacity_50.__enum__=y4J;y4J.Opacity_75=["Opacity_75",4];y4J.Opacity_75.toString=H1J;y4J.Opacity_75.__enum__=y4J;y4J.Opacity_100=["Opacity_100",5];y4J.Opacity_100.toString=H1J;y4J.Opacity_100.__enum__=y4J;y4J.__empty_constructs__=[y4J.Default,y4J.Opacity_0,y4J.Opacity_25,y4J.Opacity_50,y4J.Opacity_75,y4J.Opacity_100];var B6J=O1J["com.turner.top.sdk.common.closedcaptions.Size"]={__ename__:["com","turner","top","sdk","common","closedcaptions","Size"],__constructs__:["Default","Small","Medium","Large"]};B6J.Default=["Default",0];B6J.Default.toString=H1J;B6J.Default.__enum__=B6J;B6J.Small=["Small",1];B6J.Small.toString=H1J;B6J.Small.__enum__=B6J;B6J.Medium=["Medium",2];B6J.Medium.toString=H1J;B6J.Medium.__enum__=B6J;B6J.Large=["Large",3];B6J.Large.toString=H1J;B6J.Large.__enum__=B6J;B6J.__empty_constructs__=[B6J.Default,B6J.Small,B6J.Medium,B6J.Large];var p7J=e1J["com"]["turner"]["top"]["sdk"]["common"]["cms"]["ContentEntryBuilder"]=function(){var E7v=b3J.contentEntryData();this._data=i1J.extend({},E7v);};O1J["com.turner.top.sdk.common.cms.ContentEntryBuilder"]=p7J;p7J.__name__=["com","turner","top","sdk","common","cms","ContentEntryBuilder"];p7J.create=function(){return new p7J();};p7J.fromPlaylistItem=function(u9v){var r7v=p7J.create();var y7v=u9v.contentEntry();if(y7v!=null){r7v.withContentEntryData(y7v.toData()).withId(y7v.id());}return r7v;};p7J.prototype={_data:null,withContentEntryData:function(X9v){this._data=i1J.extendDeep(this._data,X9v);return this;},withId:function(h9v){this._data.id=h9v;return this;},withMetadata:function(f9v){this._data.metadata=f9v==null?{}:f9v;return this;},addFile:function(D9v){this._data.files.push(i1J.extend(b3J.contentEntryFileData(),D9v));return this;},isLive:function(C9v){this._data.isLive=C9v;return this;},withTrt:function(w9v){this._data.trt=w9v;return this;},requireAuth:function(Y9v){this._data.auth={type:Y9v};return this;},addValidator:function(F9v,R9v){var c9v=this._data.validators;c9v[F9v]=R9v;return this;},addSegment:function(U9v){this._data.segments.push(U9v);return this;},addCaptionSource:function(q9v){this._data.captions.sources.push(i1J.extend(b3J.contentEntryCaptionSource(),q9v));return this;},addCaptionTrackEmbedded:function(o9v){var t9v={type:"embedded",format:!Object.prototype.hasOwnProperty.call(o9v,"format")?null:Z1J.field(o9v,"format"),platform:!Object.prototype.hasOwnProperty.call(o9v,"platform")?null:Z1J.field(o9v,"platform"),tracks:[]};var l9v={channel:!Object.prototype.hasOwnProperty.call(o9v,"channel")?"cc1":Z1J.field(o9v,"channel"),lang:!Object.prototype.hasOwnProperty.call(o9v,"lang")?"en":Z1J.field(o9v,"lang"),label:!Object.prototype.hasOwnProperty.call(o9v,"label")?"English":Z1J.field(o9v,"label")};if(this.hasExistingCaptionSource(t9v)){this.addCaptionTrackToSource(this.getExistingCaptionSource(t9v),l9v);}else{t9v.tracks.push(l9v);this.addCaptionSource(t9v);}return this;},getExistingCaptionSource:function(K9v){var m9v=0;var N9v=this._data.captions.sources;while(m9v<N9v.length){var G9v=N9v[m9v];++m9v;if(G9v.type==K9v.type&&G9v.format==K9v.format&&G9v.platform==K9v.platform){return G9v;}}return null;},hasExistingCaptionSource:function(a9v){return this.getExistingCaptionSource(a9v)!=null;},addCaptionTrackToSource:function(b9v,g9v){b9v.tracks.push(g9v);},build:function(){return this._data;},__class__:p7J};var P4J=O1J["com.turner.top.sdk.common.cues.CueType"]={__ename__:["com","turner","top","sdk","common","cues","CueType"],__constructs__:["Custom","SCTE","Ext_Cue_Out","Ext_Cue_Out_Cont","Ext_Cue_In","Ext_Asset","Ext_Discontinuity","ID3"]};P4J.Custom=["Custom",0];P4J.Custom.toString=H1J;P4J.Custom.__enum__=P4J;P4J.SCTE=["SCTE",1];P4J.SCTE.toString=H1J;P4J.SCTE.__enum__=P4J;P4J.Ext_Cue_Out=["Ext_Cue_Out",2];P4J.Ext_Cue_Out.toString=H1J;P4J.Ext_Cue_Out.__enum__=P4J;P4J.Ext_Cue_Out_Cont=["Ext_Cue_Out_Cont",3];P4J.Ext_Cue_Out_Cont.toString=H1J;P4J.Ext_Cue_Out_Cont.__enum__=P4J;P4J.Ext_Cue_In=["Ext_Cue_In",4];P4J.Ext_Cue_In.toString=H1J;P4J.Ext_Cue_In.__enum__=P4J;P4J.Ext_Asset=["Ext_Asset",5];P4J.Ext_Asset.toString=H1J;P4J.Ext_Asset.__enum__=P4J;P4J.Ext_Discontinuity=["Ext_Discontinuity",6];P4J.Ext_Discontinuity.toString=H1J;P4J.Ext_Discontinuity.__enum__=P4J;P4J.ID3=["ID3",7];P4J.ID3.toString=H1J;P4J.ID3.__enum__=P4J;P4J.__empty_constructs__=[P4J.Custom,P4J.SCTE,P4J.Ext_Cue_Out,P4J.Ext_Cue_Out_Cont,P4J.Ext_Cue_In,P4J.Ext_Asset,P4J.Ext_Discontinuity,P4J.ID3];var N6J=O1J["com.turner.top.sdk.common.cues.events.CueEventType"]={__ename__:["com","turner","top","sdk","common","cues","events","CueEventType"],__constructs__:["State_Changed","Processed","Activated","Message_Dispatched"]};N6J.State_Changed=["State_Changed",0];N6J.State_Changed.toString=H1J;N6J.State_Changed.__enum__=N6J;N6J.Processed=["Processed",1];N6J.Processed.toString=H1J;N6J.Processed.__enum__=N6J;N6J.Activated=["Activated",2];N6J.Activated.toString=H1J;N6J.Activated.__enum__=N6J;N6J.Message_Dispatched=["Message_Dispatched",3];N6J.Message_Dispatched.toString=H1J;N6J.Message_Dispatched.__enum__=N6J;N6J.__empty_constructs__=[N6J.State_Changed,N6J.Processed,N6J.Activated,N6J.Message_Dispatched];var L2J=O1J["com.turner.top.sdk.common.cues.CueMessageType"]={__ename__:["com","turner","top","sdk","common","cues","CueMessageType"],__constructs__:["Activated","During","Deactivated"]};L2J.Activated=["Activated",0];L2J.Activated.toString=H1J;L2J.Activated.__enum__=L2J;L2J.During=["During",1];L2J.During.toString=H1J;L2J.During.__enum__=L2J;L2J.Deactivated=["Deactivated",2];L2J.Deactivated.toString=H1J;L2J.Deactivated.__enum__=L2J;L2J.__empty_constructs__=[L2J.Activated,L2J.During,L2J.Deactivated];var Y7J=function(){this._config=new l5y();};O1J["com.turner.top.sdk.common.cues.CueBuilder"]=Y7J;Y7J.__name__=["com","turner","top","sdk","common","cues","CueBuilder"];Y7J.create=function(){return new Y7J();};Y7J.fromCue=function(P9v){return Y7J.create().applyConfig(P9v.toConfig());};Y7J.createCueId=function(){return"cue-"+Y7J._cueId++;};Y7J.prototype={_config:null,build:function(){if(this._config.id==null){this._config.id=Y7J.createCueId();}return new k9y(this._config);},toConfig:function(){return this._config;},applyConfig:function(M9v){this._config.id=M9v.id;this._config.type=M9v.type;this._config.subType=M9v.subType;this._config.source=M9v.source;this._config.options=M9v.options;this._config.data=M9v.data;this._config.transforms=M9v.transforms;this._config.triggers=M9v.triggers;this._config.behaviors=M9v.behaviors;this._config.actions=M9v.actions;this._config.retriggers=M9v.retriggers;return this;},withId:function(L9v){this._config.id=L9v;return this;},withType:function(x9v){this._config.type=x9v;return this;},withSubType:function(O9v){this._config.subType=O9v;return this;},withSource:function(H9v){this._config.source=H9v;return this;},withOptions:function(T9v){this._config.options=T9v;return this;},withData:function(d9v){this._config.data=d9v;return this;},withTransforms:function(v9v){this._config.transforms=v9v;return this;},withTriggers:function(V9v){this._config.triggers=V9v;return this;},withBehaviors:function(p9v){this._config.behaviors=p9v;return this;},withActions:function(Z9v){this._config.actions=Z9v;return this;},withRetriggers:function(B9v){this._config.retriggers=B9v;return this;},__class__:Y7J};var Y6J=e1J["com"]["turner"]["top"]["sdk"]["common"]["metadata"]["helpers"]["ScteMetadataHelpers"]=function(){};O1J["com.turner.top.sdk.common.metadata.helpers.ScteMetadataHelpers"]=Y6J;Y6J.__name__=["com","turner","top","sdk","common","metadata","helpers","ScteMetadataHelpers"];Y6J.containsSegmentationType=function(W9v,z9v){return Y6J.getSegmentationDescriptors(W9v,z9v).length>0;};Y6J.getSegmentationDescriptors=function(n9v,e9v){var S9v=n9v.splice_descriptors.filter(function(s9v){return s9v.type==I5J.Segmentation;});if(e9v!=null){S9v=S9v.filter(function(J9v){return J9v.segmentation_type_id==e9v;});}return S9v;};Y6J.getFirstSegmentationDescriptor=function(j9v,Q9v){var A9v=Y6J.getSegmentationDescriptors(j9v,Q9v);return 0<A9v.length?A9v[0]:null;};Y6J.isProgramStart=function(k9v){return Y6J.containsSegmentationType(k9v,B4J.Program_Start);};Y6J.isProgramEnd=function(i9v){return Y6J.containsSegmentationType(i9v,B4J.Program_End);};Y6J.isProgramOverlapStart=function(I9v){return Y6J.containsSegmentationType(I9v,B4J.Program_Overlap_Start);};Y6J.getProgramStart=function(E9v){return Y6J.getFirstSegmentationDescriptor(E9v,B4J.Program_Start);};Y6J.getProgramEnd=function(y9v){return Y6J.getFirstSegmentationDescriptor(y9v,B4J.Program_End);};Y6J.getProgramOverlapStart=function(r9v){return Y6J.getFirstSegmentationDescriptor(r9v,B4J.Program_Overlap_Start);};Y6J.getTypeIdProp=function(h8v){var u8v=h8v==null?{}:h8v;var X8v=e2J.Type_ID;if(!Object.prototype.hasOwnProperty.call(u8v,X8v)){return null;}else{return Z1J.field(u8v,X8v);}};Y6J.getRegionalBlackoutProp=function(w8v){var f8v=w8v==null?{}:w8v;var D8v=e2J.No_Regional_Blackout;var C8v=!Object.prototype.hasOwnProperty.call(f8v,D8v)?null:Z1J.field(f8v,D8v);if(C8v==null){return null;}return C8v==0;};Y6J.getWebDeliveryAllowedProp=function(R8v){var Y8v=R8v==null?{}:R8v;var c8v=e2J.Web_Delivery_Allowed;var F8v=!Object.prototype.hasOwnProperty.call(Y8v,c8v)?null:Z1J.field(Y8v,c8v);if(F8v==null){return null;}return F8v!=0;};Y6J.getAiringIdProp=function(o8v){var U8v=o8v==null?{}:o8v;var q8v=e2J.Airing_ID;if(!Object.prototype.hasOwnProperty.call(U8v,q8v)){return null;}else{return Z1J.field(U8v,q8v);}};Y6J.getDurationProp=function(G8v){var t8v=G8v==null?{}:G8v;var l8v=e2J.Duration;if(!Object.prototype.hasOwnProperty.call(t8v,l8v)){return null;}else{return Z1J.field(t8v,l8v);}};var B4J=e1J["com"]["turner"]["top"]["sdk"]["common"]["metadata"]["helpers"]["ScteSegmentationType"]=function(){};O1J["com.turner.top.sdk.common.metadata.helpers.ScteSegmentationType"]=B4J;B4J.__name__=["com","turner","top","sdk","common","metadata","helpers","ScteSegmentationType"];var n7J=e1J["com"]["turner"]["top"]["sdk"]["common"]["metadata"]["helpers"]["ScteSpliceCommandType"]=function(){};O1J["com.turner.top.sdk.common.metadata.helpers.ScteSpliceCommandType"]=n7J;n7J.__name__=["com","turner","top","sdk","common","metadata","helpers","ScteSpliceCommandType"];var I5J=e1J["com"]["turner"]["top"]["sdk"]["common"]["metadata"]["helpers"]["ScteDescriptorType"]=function(){};O1J["com.turner.top.sdk.common.metadata.helpers.ScteDescriptorType"]=I5J;I5J.__name__=["com","turner","top","sdk","common","metadata","helpers","ScteDescriptorType"];var r1J=O1J["com.turner.top.sdk.common.media.MediaState"]={__ename__:["com","turner","top","sdk","common","media","MediaState"],__constructs__:["Pending","Ready","Starting","Loaded","Playing","Paused","Buffering","Seeking","Stopped","Finished","Error"]};r1J.Pending=["Pending",0];r1J.Pending.toString=H1J;r1J.Pending.__enum__=r1J;r1J.Ready=["Ready",1];r1J.Ready.toString=H1J;r1J.Ready.__enum__=r1J;r1J.Starting=["Starting",2];r1J.Starting.toString=H1J;r1J.Starting.__enum__=r1J;r1J.Loaded=["Loaded",3];r1J.Loaded.toString=H1J;r1J.Loaded.__enum__=r1J;r1J.Playing=["Playing",4];r1J.Playing.toString=H1J;r1J.Playing.__enum__=r1J;r1J.Paused=["Paused",5];r1J.Paused.toString=H1J;r1J.Paused.__enum__=r1J;r1J.Buffering=["Buffering",6];r1J.Buffering.toString=H1J;r1J.Buffering.__enum__=r1J;r1J.Seeking=["Seeking",7];r1J.Seeking.toString=H1J;r1J.Seeking.__enum__=r1J;r1J.Stopped=["Stopped",8];r1J.Stopped.toString=H1J;r1J.Stopped.__enum__=r1J;r1J.Finished=["Finished",9];r1J.Finished.toString=H1J;r1J.Finished.__enum__=r1J;r1J.Error=["Error",10];r1J.Error.toString=H1J;r1J.Error.__enum__=r1J;r1J.__empty_constructs__=[r1J.Pending,r1J.Ready,r1J.Starting,r1J.Loaded,r1J.Playing,r1J.Paused,r1J.Buffering,r1J.Seeking,r1J.Stopped,r1J.Finished,r1J.Error];var W1J=O1J["com.turner.top.sdk.common.media.events.MediaEventType"]={__ename__:["com","turner","top","sdk","common","media","events","MediaEventType"],__constructs__:["Command_Received","Command_Rejected","State_Changed","Ready","Starting","Blocked","Loaded","Started","Buffering_Started","Buffering_Finished","Seeking_Started","Seeking_Finished","Request_Profile_Changed","Profile_Changing","Profile_Changed","Time_Changed","Paused","Resumed","Recovery_Started","Recovery_Finished","Volume_Changed","Mute_Changed","Resized","Stopped","Timed_Metadata_Received","Finished","Error","Stalled"]};W1J.Command_Received=["Command_Received",0];W1J.Command_Received.toString=H1J;W1J.Command_Received.__enum__=W1J;W1J.Command_Rejected=["Command_Rejected",1];W1J.Command_Rejected.toString=H1J;W1J.Command_Rejected.__enum__=W1J;W1J.State_Changed=["State_Changed",2];W1J.State_Changed.toString=H1J;W1J.State_Changed.__enum__=W1J;W1J.Ready=["Ready",3];W1J.Ready.toString=H1J;W1J.Ready.__enum__=W1J;W1J.Starting=["Starting",4];W1J.Starting.toString=H1J;W1J.Starting.__enum__=W1J;W1J.Blocked=["Blocked",5];W1J.Blocked.toString=H1J;W1J.Blocked.__enum__=W1J;W1J.Loaded=["Loaded",6];W1J.Loaded.toString=H1J;W1J.Loaded.__enum__=W1J;W1J.Started=["Started",7];W1J.Started.toString=H1J;W1J.Started.__enum__=W1J;W1J.Buffering_Started=["Buffering_Started",8];W1J.Buffering_Started.toString=H1J;W1J.Buffering_Started.__enum__=W1J;W1J.Buffering_Finished=["Buffering_Finished",9];W1J.Buffering_Finished.toString=H1J;W1J.Buffering_Finished.__enum__=W1J;W1J.Seeking_Started=["Seeking_Started",10];W1J.Seeking_Started.toString=H1J;W1J.Seeking_Started.__enum__=W1J;W1J.Seeking_Finished=["Seeking_Finished",11];W1J.Seeking_Finished.toString=H1J;W1J.Seeking_Finished.__enum__=W1J;W1J.Request_Profile_Changed=["Request_Profile_Changed",12];W1J.Request_Profile_Changed.toString=H1J;W1J.Request_Profile_Changed.__enum__=W1J;W1J.Profile_Changing=["Profile_Changing",13];W1J.Profile_Changing.toString=H1J;W1J.Profile_Changing.__enum__=W1J;W1J.Profile_Changed=["Profile_Changed",14];W1J.Profile_Changed.toString=H1J;W1J.Profile_Changed.__enum__=W1J;W1J.Time_Changed=["Time_Changed",15];W1J.Time_Changed.toString=H1J;W1J.Time_Changed.__enum__=W1J;W1J.Paused=["Paused",16];W1J.Paused.toString=H1J;W1J.Paused.__enum__=W1J;W1J.Resumed=["Resumed",17];W1J.Resumed.toString=H1J;W1J.Resumed.__enum__=W1J;W1J.Recovery_Started=["Recovery_Started",18];W1J.Recovery_Started.toString=H1J;W1J.Recovery_Started.__enum__=W1J;W1J.Recovery_Finished=["Recovery_Finished",19];W1J.Recovery_Finished.toString=H1J;W1J.Recovery_Finished.__enum__=W1J;W1J.Volume_Changed=["Volume_Changed",20];W1J.Volume_Changed.toString=H1J;W1J.Volume_Changed.__enum__=W1J;W1J.Mute_Changed=["Mute_Changed",21];W1J.Mute_Changed.toString=H1J;W1J.Mute_Changed.__enum__=W1J;W1J.Resized=["Resized",22];W1J.Resized.toString=H1J;W1J.Resized.__enum__=W1J;W1J.Stopped=["Stopped",23];W1J.Stopped.toString=H1J;W1J.Stopped.__enum__=W1J;W1J.Timed_Metadata_Received=["Timed_Metadata_Received",24];W1J.Timed_Metadata_Received.toString=H1J;W1J.Timed_Metadata_Received.__enum__=W1J;W1J.Finished=["Finished",25];W1J.Finished.toString=H1J;W1J.Finished.__enum__=W1J;W1J.Error=["Error",26];W1J.Error.toString=H1J;W1J.Error.__enum__=W1J;W1J.Stalled=["Stalled",27];W1J.Stalled.toString=H1J;W1J.Stalled.__enum__=W1J;W1J.__empty_constructs__=[W1J.Command_Received,W1J.Command_Rejected,W1J.State_Changed,W1J.Ready,W1J.Starting,W1J.Blocked,W1J.Loaded,W1J.Started,W1J.Buffering_Started,W1J.Buffering_Finished,W1J.Seeking_Started,W1J.Seeking_Finished,W1J.Request_Profile_Changed,W1J.Profile_Changing,W1J.Profile_Changed,W1J.Time_Changed,W1J.Paused,W1J.Resumed,W1J.Recovery_Started,W1J.Recovery_Finished,W1J.Volume_Changed,W1J.Mute_Changed,W1J.Resized,W1J.Stopped,W1J.Timed_Metadata_Received,W1J.Finished,W1J.Error,W1J.Stalled];var V5y=function(){};O1J["com.turner.top.sdk.core.IPlayerSdk"]=V5y;V5y.__name__=["com","turner","top","sdk","core","IPlayerSdk"];V5y.prototype={init:null,createPlayer:null,createPlugin:null,__class__:V5y};var k5J=e1J["com"]["turner"]["top"]["sdk"]["core"]["PlayerSdk"]=function(){this._manager=new W8y();};O1J["com.turner.top.sdk.core.PlayerSdk"]=k5J;k5J.__name__=["com","turner","top","sdk","core","PlayerSdk"];k5J.__interfaces__=[V5y];k5J.prototype={_manager:null,init:function(){this._manager.init();},createPlayer:function(m8v){return this._manager.createPlayer(m8v);},createPlugin:function(K8v){return this._manager.createPlugin(K8v);},__class__:k5J};var w4J=O1J["com.turner.top.sdk.core.player.PlayerState"]={__ename__:["com","turner","top","sdk","core","player","PlayerState"],__constructs__:["Pending","Initializing","Initialized","Attaching","Attached","Listening","Detaching","Detached","Destroying","Destroyed","Error"]};w4J.Pending=["Pending",0];w4J.Pending.toString=H1J;w4J.Pending.__enum__=w4J;w4J.Initializing=["Initializing",1];w4J.Initializing.toString=H1J;w4J.Initializing.__enum__=w4J;w4J.Initialized=["Initialized",2];w4J.Initialized.toString=H1J;w4J.Initialized.__enum__=w4J;w4J.Attaching=["Attaching",3];w4J.Attaching.toString=H1J;w4J.Attaching.__enum__=w4J;w4J.Attached=["Attached",4];w4J.Attached.toString=H1J;w4J.Attached.__enum__=w4J;w4J.Listening=["Listening",5];w4J.Listening.toString=H1J;w4J.Listening.__enum__=w4J;w4J.Detaching=["Detaching",6];w4J.Detaching.toString=H1J;w4J.Detaching.__enum__=w4J;w4J.Detached=["Detached",7];w4J.Detached.toString=H1J;w4J.Detached.__enum__=w4J;w4J.Destroying=["Destroying",8];w4J.Destroying.toString=H1J;w4J.Destroying.__enum__=w4J;w4J.Destroyed=["Destroyed",9];w4J.Destroyed.toString=H1J;w4J.Destroyed.__enum__=w4J;w4J.Error=["Error",10];w4J.Error.toString=H1J;w4J.Error.__enum__=w4J;w4J.__empty_constructs__=[w4J.Pending,w4J.Initializing,w4J.Initialized,w4J.Attaching,w4J.Attached,w4J.Listening,w4J.Detaching,w4J.Detached,w4J.Destroying,w4J.Destroyed,w4J.Error];var A1J=O1J["com.turner.top.sdk.core.player.PlayerTransactionState"]={__ename__:["com","turner","top","sdk","core","player","PlayerTransactionState"],__constructs__:["Pending","Initializing","Preparing","Configuring","Transforming","Initialized","Waiting","Validating","Validated","Ads_Beginning","Ads_Playback","Ads_Completed","Authorizing","Authorized","Media_Beginning","Media_Playback","Media_Completed","Interrupting","Interrupted","Finished","Error"]};A1J.Pending=["Pending",0];A1J.Pending.toString=H1J;A1J.Pending.__enum__=A1J;A1J.Initializing=["Initializing",1];A1J.Initializing.toString=H1J;A1J.Initializing.__enum__=A1J;A1J.Preparing=["Preparing",2];A1J.Preparing.toString=H1J;A1J.Preparing.__enum__=A1J;A1J.Configuring=["Configuring",3];A1J.Configuring.toString=H1J;A1J.Configuring.__enum__=A1J;A1J.Transforming=["Transforming",4];A1J.Transforming.toString=H1J;A1J.Transforming.__enum__=A1J;A1J.Initialized=["Initialized",5];A1J.Initialized.toString=H1J;A1J.Initialized.__enum__=A1J;A1J.Waiting=["Waiting",6];A1J.Waiting.toString=H1J;A1J.Waiting.__enum__=A1J;A1J.Validating=["Validating",7];A1J.Validating.toString=H1J;A1J.Validating.__enum__=A1J;A1J.Validated=["Validated",8];A1J.Validated.toString=H1J;A1J.Validated.__enum__=A1J;A1J.Ads_Beginning=["Ads_Beginning",9];A1J.Ads_Beginning.toString=H1J;A1J.Ads_Beginning.__enum__=A1J;A1J.Ads_Playback=["Ads_Playback",10];A1J.Ads_Playback.toString=H1J;A1J.Ads_Playback.__enum__=A1J;A1J.Ads_Completed=["Ads_Completed",11];A1J.Ads_Completed.toString=H1J;A1J.Ads_Completed.__enum__=A1J;A1J.Authorizing=["Authorizing",12];A1J.Authorizing.toString=H1J;A1J.Authorizing.__enum__=A1J;A1J.Authorized=["Authorized",13];A1J.Authorized.toString=H1J;A1J.Authorized.__enum__=A1J;A1J.Media_Beginning=["Media_Beginning",14];A1J.Media_Beginning.toString=H1J;A1J.Media_Beginning.__enum__=A1J;A1J.Media_Playback=["Media_Playback",15];A1J.Media_Playback.toString=H1J;A1J.Media_Playback.__enum__=A1J;A1J.Media_Completed=["Media_Completed",16];A1J.Media_Completed.toString=H1J;A1J.Media_Completed.__enum__=A1J;A1J.Interrupting=["Interrupting",17];A1J.Interrupting.toString=H1J;A1J.Interrupting.__enum__=A1J;A1J.Interrupted=["Interrupted",18];A1J.Interrupted.toString=H1J;A1J.Interrupted.__enum__=A1J;A1J.Finished=["Finished",19];A1J.Finished.toString=H1J;A1J.Finished.__enum__=A1J;A1J.Error=["Error",20];A1J.Error.toString=H1J;A1J.Error.__enum__=A1J;A1J.__empty_constructs__=[A1J.Pending,A1J.Initializing,A1J.Preparing,A1J.Configuring,A1J.Transforming,A1J.Initialized,A1J.Waiting,A1J.Validating,A1J.Validated,A1J.Ads_Beginning,A1J.Ads_Playback,A1J.Ads_Completed,A1J.Authorizing,A1J.Authorized,A1J.Media_Beginning,A1J.Media_Playback,A1J.Media_Completed,A1J.Interrupting,A1J.Interrupted,A1J.Finished,A1J.Error];var T1J=O1J["com.turner.top.sdk.core.api.events.PlayerEventType"]={__ename__:["com","turner","top","sdk","core","api","events","PlayerEventType"],__constructs__:["Player_State_Changed","Player_Initialized","Player_Ready","Player_Listening","Content_State_Changed","Content_Beginning","Content_Setup","Content_Waiting","Validation_Success","Validation_Error","Ad_Request_State_Changed","Ad_Requesting","Ad_Request_Completed","Ad_Request_Canceled","Ad_Request_Error","Ad_State_Changed","Ad_Starting","Ad_Blocked","Ad_Loaded","Ad_Slot_Started","Ad_Creative_Started","Ad_Started","Ad_Time_Changed","Ad_Paused","Ad_Resumed","Ad_Volume_Changed","Ad_Mute_Changed","Ad_Stopped","Ad_Creative_Ended","Ad_Slot_Ended","Ad_Finished","Ad_Error","Media_Command_Received","Media_State_Changed","Media_Starting","Media_Blocked","Media_Loaded","Media_Started","Media_Buffering_Started","Media_Buffering_Finished","Media_Seeking_Started","Media_Seeking_Finished","Media_Request_Profile_Changed","Media_Profile_Changing","Media_Profile_Changed","Media_Time_Changed","Media_Paused","Media_Resumed","Media_Recovery_Started","Media_Recovery_Finished","Media_Volume_Changed","Media_Mute_Changed","Media_Resized","Media_Timed_Metadata_Received","Media_Stopped","Media_Finished","Media_Error","Cue_State_Changed","Cue_Processed","Cue_Activated","Cue_Message_Dispatched","CC_Track_Availability_Changed","CC_State_Changed","CC_Track_Selected","CC_Settings_Updated","CC_Error","Timeline_Marker_Added","Timeline_Marker_Approaching","Timeline_Marker_Activated","Timeline_Marker_Finishing","Timeline_Marker_Deactivated","Timeline_Marker_Removed","Content_Interrupted","Content_Completed","Content_Error","Content_Ended","View_State_Changed","View_Fullscreen_Entered","View_Fullscreen_Exited"]};T1J.Player_State_Changed=["Player_State_Changed",0];T1J.Player_State_Changed.toString=H1J;T1J.Player_State_Changed.__enum__=T1J;T1J.Player_Initialized=["Player_Initialized",1];T1J.Player_Initialized.toString=H1J;T1J.Player_Initialized.__enum__=T1J;T1J.Player_Ready=["Player_Ready",2];T1J.Player_Ready.toString=H1J;T1J.Player_Ready.__enum__=T1J;T1J.Player_Listening=["Player_Listening",3];T1J.Player_Listening.toString=H1J;T1J.Player_Listening.__enum__=T1J;T1J.Content_State_Changed=["Content_State_Changed",4];T1J.Content_State_Changed.toString=H1J;T1J.Content_State_Changed.__enum__=T1J;T1J.Content_Beginning=["Content_Beginning",5];T1J.Content_Beginning.toString=H1J;T1J.Content_Beginning.__enum__=T1J;T1J.Content_Setup=["Content_Setup",6];T1J.Content_Setup.toString=H1J;T1J.Content_Setup.__enum__=T1J;T1J.Content_Waiting=["Content_Waiting",7];T1J.Content_Waiting.toString=H1J;T1J.Content_Waiting.__enum__=T1J;T1J.Validation_Success=["Validation_Success",8];T1J.Validation_Success.toString=H1J;T1J.Validation_Success.__enum__=T1J;T1J.Validation_Error=["Validation_Error",9];T1J.Validation_Error.toString=H1J;T1J.Validation_Error.__enum__=T1J;T1J.Ad_Request_State_Changed=["Ad_Request_State_Changed",10];T1J.Ad_Request_State_Changed.toString=H1J;T1J.Ad_Request_State_Changed.__enum__=T1J;T1J.Ad_Requesting=["Ad_Requesting",11];T1J.Ad_Requesting.toString=H1J;T1J.Ad_Requesting.__enum__=T1J;T1J.Ad_Request_Completed=["Ad_Request_Completed",12];T1J.Ad_Request_Completed.toString=H1J;T1J.Ad_Request_Completed.__enum__=T1J;T1J.Ad_Request_Canceled=["Ad_Request_Canceled",13];T1J.Ad_Request_Canceled.toString=H1J;T1J.Ad_Request_Canceled.__enum__=T1J;T1J.Ad_Request_Error=["Ad_Request_Error",14];T1J.Ad_Request_Error.toString=H1J;T1J.Ad_Request_Error.__enum__=T1J;T1J.Ad_State_Changed=["Ad_State_Changed",15];T1J.Ad_State_Changed.toString=H1J;T1J.Ad_State_Changed.__enum__=T1J;T1J.Ad_Starting=["Ad_Starting",16];T1J.Ad_Starting.toString=H1J;T1J.Ad_Starting.__enum__=T1J;T1J.Ad_Blocked=["Ad_Blocked",17];T1J.Ad_Blocked.toString=H1J;T1J.Ad_Blocked.__enum__=T1J;T1J.Ad_Loaded=["Ad_Loaded",18];T1J.Ad_Loaded.toString=H1J;T1J.Ad_Loaded.__enum__=T1J;T1J.Ad_Slot_Started=["Ad_Slot_Started",19];T1J.Ad_Slot_Started.toString=H1J;T1J.Ad_Slot_Started.__enum__=T1J;T1J.Ad_Creative_Started=["Ad_Creative_Started",20];T1J.Ad_Creative_Started.toString=H1J;T1J.Ad_Creative_Started.__enum__=T1J;T1J.Ad_Started=["Ad_Started",21];T1J.Ad_Started.toString=H1J;T1J.Ad_Started.__enum__=T1J;T1J.Ad_Time_Changed=["Ad_Time_Changed",22];T1J.Ad_Time_Changed.toString=H1J;T1J.Ad_Time_Changed.__enum__=T1J;T1J.Ad_Paused=["Ad_Paused",23];T1J.Ad_Paused.toString=H1J;T1J.Ad_Paused.__enum__=T1J;T1J.Ad_Resumed=["Ad_Resumed",24];T1J.Ad_Resumed.toString=H1J;T1J.Ad_Resumed.__enum__=T1J;T1J.Ad_Volume_Changed=["Ad_Volume_Changed",25];T1J.Ad_Volume_Changed.toString=H1J;T1J.Ad_Volume_Changed.__enum__=T1J;T1J.Ad_Mute_Changed=["Ad_Mute_Changed",26];T1J.Ad_Mute_Changed.toString=H1J;T1J.Ad_Mute_Changed.__enum__=T1J;T1J.Ad_Stopped=["Ad_Stopped",27];T1J.Ad_Stopped.toString=H1J;T1J.Ad_Stopped.__enum__=T1J;T1J.Ad_Creative_Ended=["Ad_Creative_Ended",28];T1J.Ad_Creative_Ended.toString=H1J;T1J.Ad_Creative_Ended.__enum__=T1J;T1J.Ad_Slot_Ended=["Ad_Slot_Ended",29];T1J.Ad_Slot_Ended.toString=H1J;T1J.Ad_Slot_Ended.__enum__=T1J;T1J.Ad_Finished=["Ad_Finished",30];T1J.Ad_Finished.toString=H1J;T1J.Ad_Finished.__enum__=T1J;T1J.Ad_Error=["Ad_Error",31];T1J.Ad_Error.toString=H1J;T1J.Ad_Error.__enum__=T1J;T1J.Media_Command_Received=["Media_Command_Received",32];T1J.Media_Command_Received.toString=H1J;T1J.Media_Command_Received.__enum__=T1J;T1J.Media_State_Changed=["Media_State_Changed",33];T1J.Media_State_Changed.toString=H1J;T1J.Media_State_Changed.__enum__=T1J;T1J.Media_Starting=["Media_Starting",34];T1J.Media_Starting.toString=H1J;T1J.Media_Starting.__enum__=T1J;T1J.Media_Blocked=["Media_Blocked",35];T1J.Media_Blocked.toString=H1J;T1J.Media_Blocked.__enum__=T1J;T1J.Media_Loaded=["Media_Loaded",36];T1J.Media_Loaded.toString=H1J;T1J.Media_Loaded.__enum__=T1J;T1J.Media_Started=["Media_Started",37];T1J.Media_Started.toString=H1J;T1J.Media_Started.__enum__=T1J;T1J.Media_Buffering_Started=["Media_Buffering_Started",38];T1J.Media_Buffering_Started.toString=H1J;T1J.Media_Buffering_Started.__enum__=T1J;T1J.Media_Buffering_Finished=["Media_Buffering_Finished",39];T1J.Media_Buffering_Finished.toString=H1J;T1J.Media_Buffering_Finished.__enum__=T1J;T1J.Media_Seeking_Started=["Media_Seeking_Started",40];T1J.Media_Seeking_Started.toString=H1J;T1J.Media_Seeking_Started.__enum__=T1J;T1J.Media_Seeking_Finished=["Media_Seeking_Finished",41];T1J.Media_Seeking_Finished.toString=H1J;T1J.Media_Seeking_Finished.__enum__=T1J;T1J.Media_Request_Profile_Changed=["Media_Request_Profile_Changed",42];T1J.Media_Request_Profile_Changed.toString=H1J;T1J.Media_Request_Profile_Changed.__enum__=T1J;T1J.Media_Profile_Changing=["Media_Profile_Changing",43];T1J.Media_Profile_Changing.toString=H1J;T1J.Media_Profile_Changing.__enum__=T1J;T1J.Media_Profile_Changed=["Media_Profile_Changed",44];T1J.Media_Profile_Changed.toString=H1J;T1J.Media_Profile_Changed.__enum__=T1J;T1J.Media_Time_Changed=["Media_Time_Changed",45];T1J.Media_Time_Changed.toString=H1J;T1J.Media_Time_Changed.__enum__=T1J;T1J.Media_Paused=["Media_Paused",46];T1J.Media_Paused.toString=H1J;T1J.Media_Paused.__enum__=T1J;T1J.Media_Resumed=["Media_Resumed",47];T1J.Media_Resumed.toString=H1J;T1J.Media_Resumed.__enum__=T1J;T1J.Media_Recovery_Started=["Media_Recovery_Started",48];T1J.Media_Recovery_Started.toString=H1J;T1J.Media_Recovery_Started.__enum__=T1J;T1J.Media_Recovery_Finished=["Media_Recovery_Finished",49];T1J.Media_Recovery_Finished.toString=H1J;T1J.Media_Recovery_Finished.__enum__=T1J;T1J.Media_Volume_Changed=["Media_Volume_Changed",50];T1J.Media_Volume_Changed.toString=H1J;T1J.Media_Volume_Changed.__enum__=T1J;T1J.Media_Mute_Changed=["Media_Mute_Changed",51];T1J.Media_Mute_Changed.toString=H1J;T1J.Media_Mute_Changed.__enum__=T1J;T1J.Media_Resized=["Media_Resized",52];T1J.Media_Resized.toString=H1J;T1J.Media_Resized.__enum__=T1J;T1J.Media_Timed_Metadata_Received=["Media_Timed_Metadata_Received",53];T1J.Media_Timed_Metadata_Received.toString=H1J;T1J.Media_Timed_Metadata_Received.__enum__=T1J;T1J.Media_Stopped=["Media_Stopped",54];T1J.Media_Stopped.toString=H1J;T1J.Media_Stopped.__enum__=T1J;T1J.Media_Finished=["Media_Finished",55];T1J.Media_Finished.toString=H1J;T1J.Media_Finished.__enum__=T1J;T1J.Media_Error=["Media_Error",56];T1J.Media_Error.toString=H1J;T1J.Media_Error.__enum__=T1J;T1J.Cue_State_Changed=["Cue_State_Changed",57];T1J.Cue_State_Changed.toString=H1J;T1J.Cue_State_Changed.__enum__=T1J;T1J.Cue_Processed=["Cue_Processed",58];T1J.Cue_Processed.toString=H1J;T1J.Cue_Processed.__enum__=T1J;T1J.Cue_Activated=["Cue_Activated",59];T1J.Cue_Activated.toString=H1J;T1J.Cue_Activated.__enum__=T1J;T1J.Cue_Message_Dispatched=["Cue_Message_Dispatched",60];T1J.Cue_Message_Dispatched.toString=H1J;T1J.Cue_Message_Dispatched.__enum__=T1J;T1J.CC_Track_Availability_Changed=["CC_Track_Availability_Changed",61];T1J.CC_Track_Availability_Changed.toString=H1J;T1J.CC_Track_Availability_Changed.__enum__=T1J;T1J.CC_State_Changed=["CC_State_Changed",62];T1J.CC_State_Changed.toString=H1J;T1J.CC_State_Changed.__enum__=T1J;T1J.CC_Track_Selected=["CC_Track_Selected",63];T1J.CC_Track_Selected.toString=H1J;T1J.CC_Track_Selected.__enum__=T1J;T1J.CC_Settings_Updated=["CC_Settings_Updated",64];T1J.CC_Settings_Updated.toString=H1J;T1J.CC_Settings_Updated.__enum__=T1J;T1J.CC_Error=["CC_Error",65];T1J.CC_Error.toString=H1J;T1J.CC_Error.__enum__=T1J;T1J.Timeline_Marker_Added=["Timeline_Marker_Added",66];T1J.Timeline_Marker_Added.toString=H1J;T1J.Timeline_Marker_Added.__enum__=T1J;T1J.Timeline_Marker_Approaching=["Timeline_Marker_Approaching",67];T1J.Timeline_Marker_Approaching.toString=H1J;T1J.Timeline_Marker_Approaching.__enum__=T1J;T1J.Timeline_Marker_Activated=["Timeline_Marker_Activated",68];T1J.Timeline_Marker_Activated.toString=H1J;T1J.Timeline_Marker_Activated.__enum__=T1J;T1J.Timeline_Marker_Finishing=["Timeline_Marker_Finishing",69];T1J.Timeline_Marker_Finishing.toString=H1J;T1J.Timeline_Marker_Finishing.__enum__=T1J;T1J.Timeline_Marker_Deactivated=["Timeline_Marker_Deactivated",70];T1J.Timeline_Marker_Deactivated.toString=H1J;T1J.Timeline_Marker_Deactivated.__enum__=T1J;T1J.Timeline_Marker_Removed=["Timeline_Marker_Removed",71];T1J.Timeline_Marker_Removed.toString=H1J;T1J.Timeline_Marker_Removed.__enum__=T1J;T1J.Content_Interrupted=["Content_Interrupted",72];T1J.Content_Interrupted.toString=H1J;T1J.Content_Interrupted.__enum__=T1J;T1J.Content_Completed=["Content_Completed",73];T1J.Content_Completed.toString=H1J;T1J.Content_Completed.__enum__=T1J;T1J.Content_Error=["Content_Error",74];T1J.Content_Error.toString=H1J;T1J.Content_Error.__enum__=T1J;T1J.Content_Ended=["Content_Ended",75];T1J.Content_Ended.toString=H1J;T1J.Content_Ended.__enum__=T1J;T1J.View_State_Changed=["View_State_Changed",76];T1J.View_State_Changed.toString=H1J;T1J.View_State_Changed.__enum__=T1J;T1J.View_Fullscreen_Entered=["View_Fullscreen_Entered",77];T1J.View_Fullscreen_Entered.toString=H1J;T1J.View_Fullscreen_Entered.__enum__=T1J;T1J.View_Fullscreen_Exited=["View_Fullscreen_Exited",78];T1J.View_Fullscreen_Exited.toString=H1J;T1J.View_Fullscreen_Exited.__enum__=T1J;T1J.__empty_constructs__=[T1J.Player_State_Changed,T1J.Player_Initialized,T1J.Player_Ready,T1J.Player_Listening,T1J.Content_State_Changed,T1J.Content_Beginning,T1J.Content_Setup,T1J.Content_Waiting,T1J.Validation_Success,T1J.Validation_Error,T1J.Ad_Request_State_Changed,T1J.Ad_Requesting,T1J.Ad_Request_Completed,T1J.Ad_Request_Canceled,T1J.Ad_Request_Error,T1J.Ad_State_Changed,T1J.Ad_Starting,T1J.Ad_Blocked,T1J.Ad_Loaded,T1J.Ad_Slot_Started,T1J.Ad_Creative_Started,T1J.Ad_Started,T1J.Ad_Time_Changed,T1J.Ad_Paused,T1J.Ad_Resumed,T1J.Ad_Volume_Changed,T1J.Ad_Mute_Changed,T1J.Ad_Stopped,T1J.Ad_Creative_Ended,T1J.Ad_Slot_Ended,T1J.Ad_Finished,T1J.Ad_Error,T1J.Media_Command_Received,T1J.Media_State_Changed,T1J.Media_Starting,T1J.Media_Blocked,T1J.Media_Loaded,T1J.Media_Started,T1J.Media_Buffering_Started,T1J.Media_Buffering_Finished,T1J.Media_Seeking_Started,T1J.Media_Seeking_Finished,T1J.Media_Request_Profile_Changed,T1J.Media_Profile_Changing,T1J.Media_Profile_Changed,T1J.Media_Time_Changed,T1J.Media_Paused,T1J.Media_Resumed,T1J.Media_Recovery_Started,T1J.Media_Recovery_Finished,T1J.Media_Volume_Changed,T1J.Media_Mute_Changed,T1J.Media_Resized,T1J.Media_Timed_Metadata_Received,T1J.Media_Stopped,T1J.Media_Finished,T1J.Media_Error,T1J.Cue_State_Changed,T1J.Cue_Processed,T1J.Cue_Activated,T1J.Cue_Message_Dispatched,T1J.CC_Track_Availability_Changed,T1J.CC_State_Changed,T1J.CC_Track_Selected,T1J.CC_Settings_Updated,T1J.CC_Error,T1J.Timeline_Marker_Added,T1J.Timeline_Marker_Approaching,T1J.Timeline_Marker_Activated,T1J.Timeline_Marker_Finishing,T1J.Timeline_Marker_Deactivated,T1J.Timeline_Marker_Removed,T1J.Content_Interrupted,T1J.Content_Completed,T1J.Content_Error,T1J.Content_Ended,T1J.View_State_Changed,T1J.View_Fullscreen_Entered,T1J.View_Fullscreen_Exited];var E6J=O1J["com.turner.top.sdk.common.player.timeline.ContentMarkerType"]={__ename__:["com","turner","top","sdk","common","player","timeline","ContentMarkerType"],__constructs__:["Media","Ad_Midroll"]};E6J.Media=["Media",0];E6J.Media.toString=H1J;E6J.Media.__enum__=E6J;E6J.Ad_Midroll=["Ad_Midroll",1];E6J.Ad_Midroll.toString=H1J;E6J.Ad_Midroll.__enum__=E6J;E6J.__empty_constructs__=[E6J.Media,E6J.Ad_Midroll];var f4J=O1J["com.turner.top.sdk.core.player.controllers.ViewState"]={__ename__:["com","turner","top","sdk","core","player","controllers","ViewState"],__constructs__:["Pending","Attaching","Attached","Windowed","Entering_Fullscreen","Fullscreen","Exiting_Fullscreen","Detaching","Detached","Destroying","Destroyed","Error"]};f4J.Pending=["Pending",0];f4J.Pending.toString=H1J;f4J.Pending.__enum__=f4J;f4J.Attaching=["Attaching",1];f4J.Attaching.toString=H1J;f4J.Attaching.__enum__=f4J;f4J.Attached=["Attached",2];f4J.Attached.toString=H1J;f4J.Attached.__enum__=f4J;f4J.Windowed=["Windowed",3];f4J.Windowed.toString=H1J;f4J.Windowed.__enum__=f4J;f4J.Entering_Fullscreen=["Entering_Fullscreen",4];f4J.Entering_Fullscreen.toString=H1J;f4J.Entering_Fullscreen.__enum__=f4J;f4J.Fullscreen=["Fullscreen",5];f4J.Fullscreen.toString=H1J;f4J.Fullscreen.__enum__=f4J;f4J.Exiting_Fullscreen=["Exiting_Fullscreen",6];f4J.Exiting_Fullscreen.toString=H1J;f4J.Exiting_Fullscreen.__enum__=f4J;f4J.Detaching=["Detaching",7];f4J.Detaching.toString=H1J;f4J.Detaching.__enum__=f4J;f4J.Detached=["Detached",8];f4J.Detached.toString=H1J;f4J.Detached.__enum__=f4J;f4J.Destroying=["Destroying",9];f4J.Destroying.toString=H1J;f4J.Destroying.__enum__=f4J;f4J.Destroyed=["Destroyed",10];f4J.Destroyed.toString=H1J;f4J.Destroyed.__enum__=f4J;f4J.Error=["Error",11];f4J.Error.toString=H1J;f4J.Error.__enum__=f4J;f4J.__empty_constructs__=[f4J.Pending,f4J.Attaching,f4J.Attached,f4J.Windowed,f4J.Entering_Fullscreen,f4J.Fullscreen,f4J.Exiting_Fullscreen,f4J.Detaching,f4J.Detached,f4J.Destroying,f4J.Destroyed,f4J.Error];var C4J=O1J["com.turner.top.sdk.core.player.controllers.ViewEvent"]={__ename__:["com","turner","top","sdk","core","player","controllers","ViewEvent"],__constructs__:["Start","Attach","Attached","Windowed","Enter_Fullscreen","Fullscreen","Exit_Fullscreen","Detach","Detached","Destroy","Destroyed","Error"]};C4J.Start=["Start",0];C4J.Start.toString=H1J;C4J.Start.__enum__=C4J;C4J.Attach=["Attach",1];C4J.Attach.toString=H1J;C4J.Attach.__enum__=C4J;C4J.Attached=["Attached",2];C4J.Attached.toString=H1J;C4J.Attached.__enum__=C4J;C4J.Windowed=["Windowed",3];C4J.Windowed.toString=H1J;C4J.Windowed.__enum__=C4J;C4J.Enter_Fullscreen=["Enter_Fullscreen",4];C4J.Enter_Fullscreen.toString=H1J;C4J.Enter_Fullscreen.__enum__=C4J;C4J.Fullscreen=["Fullscreen",5];C4J.Fullscreen.toString=H1J;C4J.Fullscreen.__enum__=C4J;C4J.Exit_Fullscreen=["Exit_Fullscreen",6];C4J.Exit_Fullscreen.toString=H1J;C4J.Exit_Fullscreen.__enum__=C4J;C4J.Detach=["Detach",7];C4J.Detach.toString=H1J;C4J.Detach.__enum__=C4J;C4J.Detached=["Detached",8];C4J.Detached.toString=H1J;C4J.Detached.__enum__=C4J;C4J.Destroy=["Destroy",9];C4J.Destroy.toString=H1J;C4J.Destroy.__enum__=C4J;C4J.Destroyed=["Destroyed",10];C4J.Destroyed.toString=H1J;C4J.Destroyed.__enum__=C4J;C4J.Error=["Error",11];C4J.Error.toString=H1J;C4J.Error.__enum__=C4J;C4J.__empty_constructs__=[C4J.Start,C4J.Attach,C4J.Attached,C4J.Windowed,C4J.Enter_Fullscreen,C4J.Fullscreen,C4J.Exit_Fullscreen,C4J.Detach,C4J.Detached,C4J.Destroy,C4J.Destroyed,C4J.Error];var T5y=function(){};O1J["com.turner.top.sdk.core.manager.IPlayerManager"]=T5y;T5y.__name__=["com","turner","top","sdk","core","manager","IPlayerManager"];T5y.prototype={init:null,createPlayer:null,createPlugin:null,__class__:T5y};var W8y=function(){this._sdkRegistry=new p8J();this._players=[];};O1J["com.turner.top.sdk.core.manager.PlayerManager"]=W8y;W8y.__name__=["com","turner","top","sdk","core","manager","PlayerManager"];W8y.__interfaces__=[T5y];W8y.prototype={_sdkRegistry:null,_players:null,init:function(){},createPlayer:function(N8v){N8v=i1J.extend({globalRegistry:this._sdkRegistry},N8v==null?{}:N8v);var a8v=new a7J(N8v);return a8v.api();},createPlugin:function(g8v){var b8v;var P8v=g8v.kind;switch(P8v){case"top.plugins.akamaiAnalytics":b8v=new z4J();break;case"top.plugins.conviva":b8v=new T4J();break;default:b8v=null;}b8v.init({},g8v);this._sdkRegistry.addComponent(b8v);return b8v;},__class__:W8y};var N5y=function(){};O1J["com.turner.top.sdk.core.registry.IPlayerSdkRegistry"]=N5y;N5y.__name__=["com","turner","top","sdk","core","registry","IPlayerSdkRegistry"];N5y.prototype={init:null,addComponent:null,getComponentById:null,removeComponent:null,__class__:N5y};var p8J=function(){this._compRegistry=new H8J();};O1J["com.turner.top.sdk.core.registry.PlayerSdkRegistry"]=p8J;p8J.__name__=["com","turner","top","sdk","core","registry","PlayerSdkRegistry"];p8J.__interfaces__=[N5y];p8J.prototype={_compRegistry:null,doInit:function(){},doAddComponent:function(M8v){this._compRegistry.add(M8v.id(),M8v);},doGetComponentById:function(L8v){return this._compRegistry.get(L8v);},doRemoveComponent:function(x8v){this._compRegistry.remove(x8v.id());},init:function(){this.doInit();return this;},addComponent:function(O8v){this.doAddComponent(O8v);return this;},getComponentById:function(H8v){return this.doGetComponentById(H8v);},removeComponent:function(T8v){this.doRemoveComponent(T8v);return this;},__class__:p8J};var J6J=function(){};O1J["com.turner.top.sdk.common.support.SupportUtilities"]=J6J;J6J.__name__=["com","turner","top","sdk","common","support","SupportUtilities"];J6J._supportCache=null;J6J.initCache=function(){J6J._supportCache={};};J6J.mse=function(){if(J6J._supportCache==null){J6J.initCache();}var d8v=Z1J.field(J6J._supportCache,"mse");if(d8v!=null){return d8v;}d8v=new Promise(function(p8v,Z8v){var V8v=window.MediaSource;p8v(V8v!=null);return;});var v8v=J6J._supportCache;v8v["mse"]=d8v;return d8v;};J6J.autoPlay=function(W8v,z8v){if(z8v==null){z8v=false;}if(J6J._supportCache==null){J6J.initCache();}var B8v=Z1J.field(J6J._supportCache,"autoPlay");if(B8v!=null&&!z8v){return B8v;}B8v=new Promise(function(e8v,n8v){W8v=i1J.extend({timeout:1000,muted:false},W8v==null?{}:W8v);return topCanAutoPlay.video(W8v).then(function(s8v){e8v(s8v.result);return;});});var S8v=J6J._supportCache;S8v["autoPlay"]=B8v;return B8v;};J6J.consent=function(A8v,j8v){if(j8v==null){j8v=false;}if(J6J._supportCache==null){J6J.initCache();}var J8v=Z1J.field(J6J._supportCache,"consent");if(J8v!=null&&!j8v){return J8v;}J8v=new Promise(function(I8v,i8v){var Q8v=S0y.create({interval:A8v!=null?A8v:1500,maxCount:1,onComplete:function(E8v,y8v){i8v("Request for the GDPR consent data timed out. Ensure to accept the prompt displayed by the CMP provider.");}});Q8v.start();var k8v=L1y.getConsentData(A8v);k8v.then(function(u3v){Q8v.stop();var r8v=J6J._supportCache;r8v["consent"]=k8v;I8v(u3v);})["catch"](function(X3v){Q8v.stop();i8v(X3v);});});return J8v;};var r4J=e1J["TOP"]=function(){};O1J["TOP"]=r4J;r4J.__name__=["TOP"];r4J._sdk=null;r4J.ads=null;r4J.analytics=null;r4J.auth=null;r4J.captions=null;r4J.cms=null;r4J.cues=null;r4J.logging=null;r4J.media=null;r4J.player=null;r4J.utils=null;r4J.Version=null;r4J.view=null;r4J.createPlayer=function(h3v){return r4J._sdk.createPlayer(h3v);};r4J.createPlugin=function(f3v){return r4J._sdk.createPlugin(f3v);};r4J.createAndInitPlayer=function(D3v){var w3v=r4J._sdk.createPlayer();var C3v={};if(Object.prototype.hasOwnProperty.call(D3v,"element")){C3v.element=D3v.element;}if(Object.prototype.hasOwnProperty.call(D3v,"id")){C3v.id=D3v.id;}if(Object.prototype.hasOwnProperty.call(D3v,"config")){C3v.config=D3v.config;}if(D3v.events!=null){w3v.events().listen(D3v.events);}else{r4J._logger.warn("[createAndInitPlayer] invalid events type");}Z2J.delay(function(){return w3v.init(C3v);},0);return w3v;};var G5y=function(){};O1J["com.turner.top.sdk.common.ads.AdDefaults"]=G5y;G5y.__name__=["com","turner","top","sdk","common","ads","AdDefaults"];G5y.opportunity=function(){return{time:0,minDuration:0,maxDuration:0,acceptContentTypes:[]};};var a9J=O1J["com.turner.top.sdk.common.ads.AdPlayMaxDurationMode"]={__ename__:["com","turner","top","sdk","common","ads","AdPlayMaxDurationMode"],__constructs__:["Normal","Conservative"]};a9J.Normal=["Normal",0];a9J.Normal.toString=H1J;a9J.Normal.__enum__=a9J;a9J.Conservative=["Conservative",1];a9J.Conservative.toString=H1J;a9J.Conservative.__enum__=a9J;a9J.__empty_constructs__=[a9J.Normal,a9J.Conservative];var O04=function(){};O1J["com.turner.top.sdk.common.ads.Exports"]=O04;O04.__name__=["com","turner","top","sdk","common","ads","Exports"];var y9y=function(){};O1J["com.turner.top.sdk.common.ads.config.IAdConfig"]=y9y;y9y.__name__=["com","turner","top","sdk","common","ads","config","IAdConfig"];y9y.__interfaces__=[P9J];y9y.prototype={_events:null,_volume:null,_muted:null,_serverBaseUrl:null,_networkId:null,_assetId:null,_profile:null,_section:null,_fallbackId:null,_kvps:null,_breakTimeout:null,_impressionTimeout:null,events:null,volume:null,muted:null,serverBaseUrl:null,networkId:null,assetId:null,profile:null,section:null,fallbackId:null,kvps:null,breakTimeout:null,impressionTimeout:null,__class__:y9y};var z7J=function(){t6J.call(this,t4J);this._events=new F5y();};O1J["com.turner.top.sdk.common.ads.config.AdConfig"]=z7J;z7J.__name__=["com","turner","top","sdk","common","ads","config","AdConfig"];z7J.__interfaces__=[y9y];z7J.extendBy=function(c3v,F3v){var Y3v=new z7J();Y3v.init(c3v.toData());Y3v.extend(F3v);return Y3v;};z7J.mergeBy=function(U3v,q3v){var R3v=new z7J();R3v.init(U3v.toData());R3v.extend(q3v.toData());return R3v;};z7J.__super__=t6J;z7J.prototype=v1J(t6J.prototype,{_events:null,_volume:null,_muted:null,_serverBaseUrl:null,_networkId:null,_assetId:null,_profile:null,_section:null,_fallbackId:null,_kvps:null,_breakTimeout:null,_impressionTimeout:null,doExtend:function(o3v){if(o3v==null){return;}if(o3v.volume!=null){this._setVolume(o3v.volume);}if(o3v.muted!=null){this._setMuted(o3v.muted);}if(o3v.serverBaseUrl!=null){this._setServerBaseUrl(o3v.serverBaseUrl);}if(o3v.networkId!=null){this._setNetworkId(o3v.networkId);}if(o3v.assetId!=null){this._setAssetId(o3v.assetId);}if(o3v.profile!=null){this._setProfile(o3v.profile);}if(o3v.section!=null){this._setSection(o3v.section);}if(o3v.fallbackId!=null){this._setFallbackId(o3v.fallbackId);}if(o3v.kvps!=null){this._setKvps(o3v.kvps);}if(o3v.breakTimeout!=null){this._setBreakTimeout(o3v.breakTimeout);}if(o3v.impressionTimeout!=null){this._setImpressionTimeout(o3v.impressionTimeout);}},dataSourceToData:function(t3v){var l3v={volume:t3v.getProperty(t4J.Volume),muted:t3v.getProperty(t4J.Muted),serverBaseUrl:t3v.getProperty(t4J.Server_Base_Url),networkId:t3v.getProperty(t4J.Network_Id),assetId:t3v.getProperty(t4J.Asset_Id),profile:t3v.getProperty(t4J.Profile),section:t3v.getProperty(t4J.Section),fallbackId:t3v.getProperty(t4J.Fallback_Id),kvps:t3v.getProperty(t4J.Kvps),breakTimeout:t3v.getProperty(t4J.BreakTimeout),impressionTimeout:t3v.getProperty(t4J.ImpressionTimeout)};return l3v;},firePropertyChanged:function(m3v,K3v,N3v){var G3v=new j9y(m3v,K3v,N3v);this._events.propertyChanged.dispatch(G3v);},_setVolume:function(a3v){this.doSetProperty(t4J.Volume,this._volume=a3v);},_setMuted:function(b3v){this.doSetProperty(t4J.Muted,this._muted=b3v);},_setServerBaseUrl:function(g3v){this.doSetProperty(t4J.Server_Base_Url,this._serverBaseUrl=g3v);},_setNetworkId:function(P3v){this.doSetProperty(t4J.Network_Id,this._networkId=P3v);},_setAssetId:function(M3v){this.doSetProperty(t4J.Asset_Id,this._assetId=M3v);},_setProfile:function(L3v){this.doSetProperty(t4J.Profile,this._profile=L3v);},_setSection:function(x3v){this.doSetProperty(t4J.Section,this._section=x3v);},_setFallbackId:function(O3v){this.doSetProperty(t4J.Fallback_Id,this._fallbackId=O3v);},_setKvps:function(H3v){this.doSetProperty(t4J.Kvps,this._kvps=H3v);},_setBreakTimeout:function(T3v){this.doSetProperty(t4J.BreakTimeout,this._breakTimeout=T3v);},_setImpressionTimeout:function(d3v){this.doSetProperty(t4J.ImpressionTimeout,this._impressionTimeout=d3v);},init:function(v3v){this.doInit(v3v);return this;},beginMode:function(V3v){this.doBeginMode(V3v);return this;},beginModes:function(p3v){this.doBeginModes(p3v);return this;},endMode:function(Z3v){this.doEndMode(Z3v);return this;},endModes:function(B3v){this.doEndModes(B3v);return this;},withMode:function(W3v,z3v){this.doWithMode(W3v,z3v);return this;},withModes:function(S3v,e3v){this.doWithModes(S3v,e3v);return this;},extend:function(n3v){this.doExtend(n3v);return this;},clearTransientData:function(){this.doClearTransientData();return this;},setData:function(s3v){this.doSetData(s3v);return this;},toData:function(){return this.doToData();},events:function(){return this._events;},volume:function(){return this._volume;},setVolume:function(J3v){this._setVolume(J3v);return this;},muted:function(){return this._muted;},setMuted:function(A3v){this._setMuted(A3v);return this;},serverBaseUrl:function(){return this._serverBaseUrl;},setServerBaseUrl:function(j3v){this._setServerBaseUrl(j3v);return this;},networkId:function(){return this._networkId;},setNetworkId:function(Q3v){this._setNetworkId(Q3v);return this;},assetId:function(){return this._assetId;},setAssetId:function(k3v){this._setAssetId(k3v);return this;},profile:function(){return this._profile;},setProfile:function(i3v){this._setProfile(i3v);return this;},section:function(){return this._section;},setSection:function(I3v){this._setSection(I3v);return this;},fallbackId:function(){return this._fallbackId;},setFallbackId:function(E3v){this._setFallbackId(E3v);return this;},kvps:function(){return this._kvps;},setKvps:function(y3v){this._setKvps(y3v);return this;},breakTimeout:function(){return this._breakTimeout;},setBreakTimeout:function(r3v){this._setBreakTimeout(r3v);return this;},impressionTimeout:function(){return this._impressionTimeout;},setImpressionTimeout:function(u5v){this._setImpressionTimeout(u5v);return this;},__class__:z7J});var t4J=O1J["com.turner.top.sdk.common.ads.config.AdConfigProperty"]={__ename__:["com","turner","top","sdk","common","ads","config","AdConfigProperty"],__constructs__:["Volume","Muted","Server_Base_Url","Network_Id","Asset_Id","Profile","Section","Fallback_Id","Kvps","BreakTimeout","ImpressionTimeout"]};t4J.Volume=["Volume",0];t4J.Volume.toString=H1J;t4J.Volume.__enum__=t4J;t4J.Muted=["Muted",1];t4J.Muted.toString=H1J;t4J.Muted.__enum__=t4J;t4J.Server_Base_Url=["Server_Base_Url",2];t4J.Server_Base_Url.toString=H1J;t4J.Server_Base_Url.__enum__=t4J;t4J.Network_Id=["Network_Id",3];t4J.Network_Id.toString=H1J;t4J.Network_Id.__enum__=t4J;t4J.Asset_Id=["Asset_Id",4];t4J.Asset_Id.toString=H1J;t4J.Asset_Id.__enum__=t4J;t4J.Profile=["Profile",5];t4J.Profile.toString=H1J;t4J.Profile.__enum__=t4J;t4J.Section=["Section",6];t4J.Section.toString=H1J;t4J.Section.__enum__=t4J;t4J.Fallback_Id=["Fallback_Id",7];t4J.Fallback_Id.toString=H1J;t4J.Fallback_Id.__enum__=t4J;t4J.Kvps=["Kvps",8];t4J.Kvps.toString=H1J;t4J.Kvps.__enum__=t4J;t4J.BreakTimeout=["BreakTimeout",9];t4J.BreakTimeout.toString=H1J;t4J.BreakTimeout.__enum__=t4J;t4J.ImpressionTimeout=["ImpressionTimeout",10];t4J.ImpressionTimeout.toString=H1J;t4J.ImpressionTimeout.__enum__=t4J;t4J.__empty_constructs__=[t4J.Volume,t4J.Muted,t4J.Server_Base_Url,t4J.Network_Id,t4J.Asset_Id,t4J.Profile,t4J.Section,t4J.Fallback_Id,t4J.Kvps,t4J.BreakTimeout,t4J.ImpressionTimeout];var j9y=function(X5v,h5v,f5v){u4J.call(this);this.property=X5v;this.oldValue=h5v;this.currentValue=f5v;};O1J["com.turner.top.sdk.common.ads.config.events.AdConfigPropertyChangedResult"]=j9y;j9y.__name__=["com","turner","top","sdk","common","ads","config","events","AdConfigPropertyChangedResult"];j9y.__super__=u4J;j9y.prototype=v1J(u4J.prototype,{property:null,oldValue:null,currentValue:null,__class__:j9y});var J5J=O1J["com.turner.top.sdk.common.ads.config.events.AdConfigEventType"]={__ename__:["com","turner","top","sdk","common","ads","config","events","AdConfigEventType"],__constructs__:["Property_Changed"]};J5J.Property_Changed=["Property_Changed",0];J5J.Property_Changed.toString=H1J;J5J.Property_Changed.__enum__=J5J;J5J.__empty_constructs__=[J5J.Property_Changed];var n9y=function(){V1J.call(this,J5J.Property_Changed);};O1J["com.turner.top.sdk.common.ads.config.events.AdConfigPropertyChangedEvent"]=n9y;n9y.__name__=["com","turner","top","sdk","common","ads","config","events","AdConfigPropertyChangedEvent"];n9y.__super__=V1J;n9y.prototype=v1J(V1J.prototype,{__class__:n9y});var F5y=function(){this.propertyChanged=new n9y();};O1J["com.turner.top.sdk.common.ads.config.events.AdConfigEvents"]=F5y;F5y.__name__=["com","turner","top","sdk","common","ads","config","events","AdConfigEvents"];F5y.prototype={propertyChanged:null,__class__:F5y};var Z04=function(){};O1J["com.turner.top.sdk.common.ads.consumers.Exports"]=Z04;Z04.__name__=["com","turner","top","sdk","common","ads","consumers","Exports"];var e3y=function(){};O1J["com.turner.top.sdk.common.ads.consumers.controllers.handlers.IAdConsumerEventNotifier"]=e3y;e3y.__name__=["com","turner","top","sdk","common","ads","consumers","controllers","handlers","IAdConsumerEventNotifier"];e3y.prototype={init:null,dispatchStateChange:null,dispatchStarting:null,dispatchBlocked:null,dispatchLoaded:null,dispatchSlotStarted:null,dispatchStarted:null,dispatchCreativeStarted:null,dispatchPaused:null,dispatchResumed:null,dispatchMuteChanged:null,dispatchVolumeChanged:null,dispatchTimeChanged:null,dispatchStopped:null,dispatchCreativeEnded:null,dispatchSlotEnded:null,dispatchFinished:null,dispatchError:null,__class__:e3y};var R8J=function(){};O1J["com.turner.top.sdk.common.ads.consumers.controllers.handlers.AdConsumerEventNotifier"]=R8J;R8J.__name__=["com","turner","top","sdk","common","ads","consumers","controllers","handlers","AdConsumerEventNotifier"];R8J.__interfaces__=[e3y];R8J.prototype={_events:null,doInit:function(D5v){this._events=D5v;},doDispatchStateChange:function(w5v,Y5v){var C5v=new d2y(w5v,Y5v);this._events.stateChanged.dispatch(C5v);},doDispatchStarting:function(F5v){var c5v=new M5J(F5v);this._events.starting.dispatch(c5v);},doDispatchBlocked:function(U5v){var R5v=new y6y(U5v);this._events.blocked.dispatch(R5v);},doDispatchLoaded:function(o5v,t5v){var q5v=new u6y(o5v,t5v);this._events.loaded.dispatch(q5v);},doDispatchSlotStarted:function(){var l5v=new A4J();this._events.slotStarted.dispatch(l5v);},doDispatchStarted:function(){var G5v=new A4J();this._events.started.dispatch(G5v);},doDispatchCreativeStarted:function(K5v){var m5v=new U1y(K5v);this._events.creativeStarted.dispatch(m5v);},doDispatchPaused:function(){var N5v=new A4J();this._events.paused.dispatch(N5v);},doDispatchResumed:function(){var a5v=new A4J();this._events.resumed.dispatch(a5v);},doDispatchMuteChanged:function(g5v){var b5v=new J1y(g5v);this._events.muteChanged.dispatch(b5v);},doDispatchVolumeChanged:function(M5v){var P5v=new b2y(M5v);this._events.volumeChanged.dispatch(P5v);},doDispatchTimeChanged:function(x5v,O5v){var L5v=new V2y(x5v,O5v);this._events.timeChanged.dispatch(L5v);},doDispatchCreativeEnded:function(){var H5v=new A4J();this._events.creativeEnded.dispatch(H5v);},doDispatchSlotEnded:function(){var T5v=new A4J();this._events.slotEnded.dispatch(T5v);},doDispatchStopped:function(){var d5v=new A4J();this._events.stopped.dispatch(d5v);},doDispatchFinished:function(){var v5v=new A4J();this._events.finished.dispatch(v5v);},doDispatchError:function(p5v){var V5v=new j9J(p5v);this._events.error.dispatch(V5v);},init:function(Z5v){this.doInit(Z5v);return this;},dispatchStateChange:function(B5v,W5v){this.doDispatchStateChange(B5v,W5v);return this;},dispatchStarting:function(z5v){this.doDispatchStarting(z5v);return this;},dispatchBlocked:function(S5v){this.doDispatchBlocked(S5v);return this;},dispatchLoaded:function(e5v,n5v){this.doDispatchLoaded(e5v,n5v);return this;},dispatchSlotStarted:function(){this.doDispatchSlotStarted();return this;},dispatchStarted:function(){this.doDispatchStarted();return this;},dispatchCreativeStarted:function(s5v){this.doDispatchCreativeStarted(s5v);return this;},dispatchPaused:function(){this.doDispatchPaused();return this;},dispatchResumed:function(){this.doDispatchResumed();return this;},dispatchMuteChanged:function(J5v){this.doDispatchMuteChanged(J5v);return this;},dispatchVolumeChanged:function(A5v){this.doDispatchVolumeChanged(A5v);return this;},dispatchTimeChanged:function(j5v,Q5v){this.doDispatchTimeChanged(j5v,Q5v);return this;},dispatchCreativeEnded:function(){this.doDispatchCreativeEnded();return this;},dispatchSlotEnded:function(){this.doDispatchSlotEnded();return this;},dispatchStopped:function(){this.doDispatchStopped();return this;},dispatchFinished:function(){this.doDispatchFinished();return this;},dispatchError:function(k5v){this.doDispatchError(k5v);return this;},__class__:R8J};var v3y=function(){};O1J["com.turner.top.sdk.common.ads.consumers.controllers.handlers.IAdConsumerModelUpdater"]=v3y;v3y.__name__=["com","turner","top","sdk","common","ads","consumers","controllers","handlers","IAdConsumerModelUpdater"];v3y.prototype={init:null,resetForPlay:null,setState:null,setStarting:null,setLoaded:null,setSlotStarted:null,setMuteChanged:null,setVolumeChanged:null,setTimeChanged:null,setError:null,__class__:v3y};var q8J=function(){};O1J["com.turner.top.sdk.common.ads.consumers.controllers.handlers.AdConsumerModelUpdater"]=q8J;q8J.__name__=["com","turner","top","sdk","common","ads","consumers","controllers","handlers","AdConsumerModelUpdater"];q8J.__interfaces__=[v3y];q8J.prototype={_model:null,doInit:function(i5v){this._model=i5v;},doResetForPlay:function(){this._model.clearTransientData();},doSetState:function(I5v){this.transient(function(E5v){E5v.setState(I5v);});},doSetStarting:function(y5v){this.transient(function(r5v){r5v.setType(y5v.type);});},doSetLoaded:function(u0d,X0d){this.transient(function(h0d){h0d.setDuration(u0d);h0d.setVolume(X0d);});},doSetSlotStarted:function(){},doSetMuteChanged:function(f0d){this.transient(function(D0d){D0d.setMuted(f0d);});},doSetVolumeChanged:function(C0d){this.transient(function(w0d){w0d.setVolume(C0d);});},doSetTimeChanged:function(Y0d,c0d){this.transient(function(F0d){F0d.setTime(Y0d);F0d.setDuration(c0d);});},doSetError:function(R0d){this.transient(function(U0d){U0d.setError(R0d);});},transient:function(q0d){this._model.withMode(Q6J.Transient,q0d);},init:function(o0d){this.doInit(o0d);return this;},resetForPlay:function(){this.doResetForPlay();return this;},setState:function(t0d){this.doSetState(t0d);return this;},setStarting:function(l0d){this.doSetStarting(l0d);return this;},setLoaded:function(G0d,m0d){this.doSetLoaded(G0d,m0d);return this;},setSlotStarted:function(){this.doSetSlotStarted();return this;},setMuteChanged:function(K0d){this.doSetMuteChanged(K0d);return this;},setVolumeChanged:function(N0d){this.doSetVolumeChanged(N0d);return this;},setTimeChanged:function(a0d,b0d){this.doSetTimeChanged(a0d,b0d);return this;},setError:function(g0d){this.doSetError(g0d);return this;},__class__:q8J};var O3y=function(){};O1J["com.turner.top.sdk.common.ads.consumers.controllers.handlers.IAdConsumerStateChangeHandler"]=O3y;O3y.__name__=["com","turner","top","sdk","common","ads","consumers","controllers","handlers","IAdConsumerStateChangeHandler"];O3y.prototype={init:null,handleStateChange:null,handleStarting:null,handleBlocked:null,handleLoaded:null,handleSlotStarted:null,handleStarted:null,handleCreativeStarted:null,handlePaused:null,handleResumed:null,handleMuteChanged:null,handleVolumeChanged:null,handleTimeChanged:null,handleCreativeEnded:null,handleSlotEnded:null,handleStopped:null,handleFinished:null,handleError:null,__class__:O3y};var o8J=function(){};O1J["com.turner.top.sdk.common.ads.consumers.controllers.handlers.AdConsumerStateChangeHandler"]=o8J;o8J.__name__=["com","turner","top","sdk","common","ads","consumers","controllers","handlers","AdConsumerStateChangeHandler"];o8J.__interfaces__=[O3y];o8J.prototype={_model:null,_updater:null,_notifier:null,doInit:function(P0d,M0d,L0d){this._model=P0d;this._updater=M0d;this._notifier=L0d;},doHandleStateChange:function(x0d){var O0d=this._model.state();this._updater.setState(x0d);this._notifier.dispatchStateChange(O0d,x0d);},doHandleStarting:function(H0d){this._updater.setStarting(H0d);this.doHandleStateChange(H4J.Starting);this._notifier.dispatchStarting(H0d);},doHandleBlocked:function(T0d){this._notifier.dispatchBlocked(T0d);},doHandleLoaded:function(d0d,v0d){this._updater.setLoaded(d0d,v0d);this.doHandleStateChange(H4J.Loaded);this._notifier.dispatchLoaded(d0d,v0d);},doHandleSlotStarted:function(){this._updater.setSlotStarted();this._notifier.dispatchSlotStarted();},doHandleStarted:function(){this.doHandleStateChange(H4J.Playing);this._notifier.dispatchStarted();},doHandleCreativeStarted:function(V0d){this._notifier.dispatchCreativeStarted(V0d);},doHandlePaused:function(){this.doHandleStateChange(H4J.Paused);this._notifier.dispatchPaused();},doHandleResumed:function(){this.doHandleStateChange(H4J.Playing);this._notifier.dispatchResumed();},doHandleMuteChanged:function(p0d){this._updater.setMuteChanged(p0d);this._notifier.dispatchMuteChanged(p0d);},doHandleVolumeChanged:function(Z0d){this._updater.setVolumeChanged(Z0d);this._notifier.dispatchVolumeChanged(Z0d);},doHandleTimeChanged:function(B0d,W0d){this._updater.setTimeChanged(B0d,W0d);this._notifier.dispatchTimeChanged(B0d,W0d);},doHandleStopped:function(){this.doHandleStateChange(H4J.Stopped);this._notifier.dispatchStopped();},doHandleCreativeEnded:function(){this._notifier.dispatchCreativeEnded();},doHandleSlotEnded:function(){this._notifier.dispatchSlotEnded();},doHandleFinished:function(){this.doHandleStateChange(H4J.Finished);this._notifier.dispatchFinished();},doHandleError:function(z0d){this._updater.setError(z0d);this.doHandleStateChange(H4J.Error);this._notifier.dispatchError(z0d);},init:function(S0d,e0d,n0d){this.doInit(S0d,e0d,n0d);return this;},handleStateChange:function(s0d){this.doHandleStateChange(s0d);return this;},handleStarting:function(J0d){this.doHandleStarting(J0d);return this;},handleBlocked:function(A0d){this.doHandleBlocked(A0d);return this;},handleLoaded:function(j0d,Q0d){this.doHandleLoaded(j0d,Q0d);return this;},handleSlotStarted:function(){this.doHandleSlotStarted();return this;},handleStarted:function(){this.doHandleStarted();return this;},handleCreativeStarted:function(k0d){this.doHandleCreativeStarted(k0d);return this;},handlePaused:function(){this.doHandlePaused();return this;},handleResumed:function(){this.doHandleResumed();return this;},handleMuteChanged:function(i0d){this.doHandleMuteChanged(i0d);return this;},handleVolumeChanged:function(I0d){this.doHandleVolumeChanged(I0d);return this;},handleTimeChanged:function(E0d,y0d){this.doHandleTimeChanged(E0d,y0d);return this;},handleStopped:function(){this.doHandleStopped();return this;},handleCreativeEnded:function(){this.doHandleCreativeEnded();return this;},handleSlotEnded:function(){this.doHandleSlotEnded();return this;},handleFinished:function(){this.doHandleFinished();return this;},handleError:function(r0d){this.doHandleError(r0d);return this;},__class__:o8J};var O3J=function(){G4J.call(this,[this.stateChanged=new D5J(),this.starting=new C5J(),this.blocked=new w5J(),this.loaded=new Y5J(),this.slotStarted=new c5J(),this.started=new F5J(),this.creativeStarted=new R5J(),this.timeChanged=new U5J(),this.paused=new q5J(),this.resumed=new o5J(),this.volumeChanged=new t5J(),this.muteChanged=new l5J(),this.stopped=new G5J(),this.creativeEnded=new m5J(),this.slotEnded=new K5J(),this.finished=new N5J(),this.error=new a5J()]);};O1J["com.turner.top.sdk.common.ads.consumers.events.AdConsumerEvents"]=O3J;O3J.__name__=["com","turner","top","sdk","common","ads","consumers","events","AdConsumerEvents"];O3J.__super__=G4J;O3J.prototype=v1J(G4J.prototype,{stateChanged:null,starting:null,blocked:null,loaded:null,slotStarted:null,started:null,creativeStarted:null,timeChanged:null,paused:null,resumed:null,volumeChanged:null,muteChanged:null,stopped:null,creativeEnded:null,slotEnded:null,finished:null,error:null,__class__:O3J});var Z6y=function(){};O1J["com.turner.top.sdk.common.ads.consumers.models.IAdConsumerModel"]=Z6y;Z6y.__name__=["com","turner","top","sdk","common","ads","consumers","models","IAdConsumerModel"];Z6y.__interfaces__=[P9J];Z6y.prototype={_events:null,_state:null,_type:null,_time:null,_duration:null,_volume:null,_muted:null,events:null,state:null,type:null,time:null,duration:null,volume:null,muted:null,__class__:Z6y};var X7J=function(){t6J.call(this,p4J);this._events=new x3y();};O1J["com.turner.top.sdk.common.ads.consumers.models.AdConsumerModel"]=X7J;X7J.__name__=["com","turner","top","sdk","common","ads","consumers","models","AdConsumerModel"];X7J.__interfaces__=[Z6y];X7J.extendBy=function(X1d,h1d){var u1d=new X7J();u1d.init(X1d.toData());u1d.extend(h1d);return u1d;};X7J.mergeBy=function(D1d,C1d){var f1d=new X7J();f1d.init(D1d.toData());f1d.extend(C1d.toData());return f1d;};X7J.__super__=t6J;X7J.prototype=v1J(t6J.prototype,{_events:null,_state:null,_type:null,_time:null,_duration:null,_volume:null,_muted:null,_error:null,doInit:function(w1d){t6J.prototype.doInit.call(this,w04.data());this.doExtend(w1d);},doExtend:function(Y1d){if(Y1d==null){return;}if(Y1d.state!=null){this._setState(Y1d.state);}if(Y1d.type!=null){this._setType(Y1d.type);}if(Y1d.time!=null){this._setTime(Y1d.time);}if(Y1d.duration!=null){this._setDuration(Y1d.duration);}if(Y1d.error!=null){this._setError(Y1d.error);}if(Y1d.volume!=null){this._setVolume(Y1d.volume);}if(Y1d.muted!=null){this._setMuted(Y1d.muted);}},dataSourceToData:function(c1d){var F1d={state:c1d.getProperty(p4J.State),type:c1d.getProperty(p4J.Type),time:c1d.getProperty(p4J.Time),duration:c1d.getProperty(p4J.Duration),error:c1d.getProperty(p4J.Error),volume:c1d.getProperty(p4J.Volume),muted:c1d.getProperty(p4J.Muted)};return F1d;},firePropertyChanged:function(U1d,q1d,o1d){var R1d=new C6y(U1d,q1d,o1d);this._events.propertyChanged.dispatch(R1d);},_setState:function(t1d){this.doSetProperty(p4J.State,this._state=t1d);},_setType:function(l1d){this.doSetProperty(p4J.Type,this._type=l1d);},_setTime:function(G1d){this.doSetProperty(p4J.Time,this._time=G1d);},_setDuration:function(m1d){this.doSetProperty(p4J.Duration,this._duration=m1d);},_setVolume:function(K1d){this.doSetProperty(p4J.Volume,this._volume=K1d);},_setMuted:function(N1d){this.doSetProperty(p4J.Muted,this._muted=N1d);},_setError:function(a1d){this.doSetProperty(p4J.Error,this._error=a1d);},init:function(b1d){this.doInit(b1d);return this;},beginMode:function(g1d){this.doBeginMode(g1d);return this;},beginModes:function(P1d){this.doBeginModes(P1d);return this;},endMode:function(M1d){this.doEndMode(M1d);return this;},endModes:function(L1d){this.doEndModes(L1d);return this;},withMode:function(x1d,O1d){this.doWithMode(x1d,O1d);return this;},withModes:function(H1d,T1d){this.doWithModes(H1d,T1d);return this;},extend:function(d1d){this.doExtend(d1d);return this;},clearTransientData:function(){this.doClearTransientData();return this;},setData:function(v1d){this.doSetData(v1d);return this;},toData:function(){return this.doToData();},events:function(){return this._events;},state:function(){return this._state;},setState:function(V1d){this._setState(V1d);return this;},type:function(){return this._type;},setType:function(p1d){this._setType(p1d);return this;},time:function(){return this._time;},setTime:function(Z1d){this._setTime(Z1d);return this;},duration:function(){return this._duration;},setDuration:function(B1d){this._setDuration(B1d);return this;},volume:function(){return this._volume;},setVolume:function(W1d){this._setVolume(W1d);return this;},muted:function(){return this._muted;},setMuted:function(z1d){this._setMuted(z1d);return this;},error:function(){return this._error;},setError:function(S1d){this._setError(S1d);return this;},__class__:X7J});var w04=function(){};O1J["com.turner.top.sdk.common.ads.consumers.models.AdConsumerModelDefaults"]=w04;w04.__name__=["com","turner","top","sdk","common","ads","consumers","models","AdConsumerModelDefaults"];w04.data=function(){var e1d=0;var n1d=e1d;var s1d=0;var J1d=s1d;var A1d=1;var j1d=A1d;return{state:H4J.Pending,type:null,time:n1d,duration:J1d,volume:j1d,muted:false,error:null};};var p4J=O1J["com.turner.top.sdk.common.ads.consumers.models.AdConsumerModelProperty"]={__ename__:["com","turner","top","sdk","common","ads","consumers","models","AdConsumerModelProperty"],__constructs__:["State","Type","Time","Duration","Volume","Muted","Error"]};p4J.State=["State",0];p4J.State.toString=H1J;p4J.State.__enum__=p4J;p4J.Type=["Type",1];p4J.Type.toString=H1J;p4J.Type.__enum__=p4J;p4J.Time=["Time",2];p4J.Time.toString=H1J;p4J.Time.__enum__=p4J;p4J.Duration=["Duration",3];p4J.Duration.toString=H1J;p4J.Duration.__enum__=p4J;p4J.Volume=["Volume",4];p4J.Volume.toString=H1J;p4J.Volume.__enum__=p4J;p4J.Muted=["Muted",5];p4J.Muted.toString=H1J;p4J.Muted.__enum__=p4J;p4J.Error=["Error",6];p4J.Error.toString=H1J;p4J.Error.__enum__=p4J;p4J.__empty_constructs__=[p4J.State,p4J.Type,p4J.Time,p4J.Duration,p4J.Volume,p4J.Muted,p4J.Error];var C6y=function(Q1d,k1d,i1d){u4J.call(this);this.property=Q1d;this.oldValue=k1d;this.currentValue=i1d;};O1J["com.turner.top.sdk.common.ads.consumers.models.events.AdConsumerModelPropertyChangedResult"]=C6y;C6y.__name__=["com","turner","top","sdk","common","ads","consumers","models","events","AdConsumerModelPropertyChangedResult"];C6y.__super__=u4J;C6y.prototype=v1J(u4J.prototype,{property:null,oldValue:null,currentValue:null,__class__:C6y});var H5J=O1J["com.turner.top.sdk.common.ads.consumers.models.events.AdConsumerModelEventType"]={__ename__:["com","turner","top","sdk","common","ads","consumers","models","events","AdConsumerModelEventType"],__constructs__:["Property_Changed"]};H5J.Property_Changed=["Property_Changed",0];H5J.Property_Changed.toString=H1J;H5J.Property_Changed.__enum__=H5J;H5J.__empty_constructs__=[H5J.Property_Changed];var n4y=function(){V1J.call(this,H5J.Property_Changed);};O1J["com.turner.top.sdk.common.ads.consumers.models.events.AdConsumerModelPropertyChangedEvent"]=n4y;n4y.__name__=["com","turner","top","sdk","common","ads","consumers","models","events","AdConsumerModelPropertyChangedEvent"];n4y.__super__=V1J;n4y.prototype=v1J(V1J.prototype,{__class__:n4y});var x3y=function(){this.propertyChanged=new n4y();};O1J["com.turner.top.sdk.common.ads.consumers.models.events.AdConsumerModelEvents"]=x3y;x3y.__name__=["com","turner","top","sdk","common","ads","consumers","models","events","AdConsumerModelEvents"];x3y.prototype={propertyChanged:null,__class__:x3y};var Q2J=function(){u4J.call(this);};O1J["com.turner.top.sdk.common.ads.events.AdEventResult"]=Q2J;Q2J.__name__=["com","turner","top","sdk","common","ads","events","AdEventResult"];Q2J.__super__=u4J;Q2J.prototype=v1J(u4J.prototype,{__class__:Q2J});var S2J=function(I1d){Q2J.call(this);this.request=I1d;};O1J["com.turner.top.sdk.common.ads.events.AdProviderResult"]=S2J;S2J.__name__=["com","turner","top","sdk","common","ads","events","AdProviderResult"];S2J.__super__=Q2J;S2J.prototype=v1J(Q2J.prototype,{request:null,__class__:S2J});var A4J=function(){Q2J.call(this);};O1J["com.turner.top.sdk.common.ads.events.AdConsumerResult"]=A4J;A4J.__name__=["com","turner","top","sdk","common","ads","events","AdConsumerResult"];A4J.__super__=Q2J;A4J.prototype=v1J(Q2J.prototype,{__class__:A4J});var H1y=function(E1d,y1d,r1d){S2J.call(this,E1d);this.previousState=y1d;this.currentState=r1d;};O1J["com.turner.top.sdk.common.ads.events.AdRequestStateChangedResult"]=H1y;H1y.__name__=["com","turner","top","sdk","common","ads","events","AdRequestStateChangedResult"];H1y.__super__=S2J;H1y.prototype=v1J(S2J.prototype,{previousState:null,currentState:null,__class__:H1y});var O1y=function(u4d){S2J.call(this,u4d);};O1J["com.turner.top.sdk.common.ads.events.AdRequestingResult"]=O1y;O1y.__name__=["com","turner","top","sdk","common","ads","events","AdRequestingResult"];O1y.__super__=S2J;O1y.prototype=v1J(S2J.prototype,{__class__:O1y});var s9y=function(X4d,h4d){S2J.call(this,X4d);this.response=h4d;};O1J["com.turner.top.sdk.common.ads.events.AdRequestCompletedResult"]=s9y;s9y.__name__=["com","turner","top","sdk","common","ads","events","AdRequestCompletedResult"];s9y.__super__=S2J;s9y.prototype=v1J(S2J.prototype,{response:null,__class__:s9y});var m9y=function(f4d,D4d){S2J.call(this,f4d);this.error=D4d;};O1J["com.turner.top.sdk.common.ads.events.AdRequestErrorResult"]=m9y;m9y.__name__=["com","turner","top","sdk","common","ads","events","AdRequestErrorResult"];m9y.__super__=S2J;m9y.prototype=v1J(S2J.prototype,{error:null,__class__:m9y});var d2y=function(C4d,w4d){A4J.call(this);this.previousState=C4d;this.currentState=w4d;};O1J["com.turner.top.sdk.common.ads.events.AdConsumerStateChangedResult"]=d2y;d2y.__name__=["com","turner","top","sdk","common","ads","events","AdConsumerStateChangedResult"];d2y.__super__=A4J;d2y.prototype=v1J(A4J.prototype,{previousState:null,currentState:null,__class__:d2y});var M5J=function(Y4d){A4J.call(this);this.adBreak=Y4d;};O1J["com.turner.top.sdk.common.ads.events.AdConsumerStartingResult"]=M5J;M5J.__name__=["com","turner","top","sdk","common","ads","events","AdConsumerStartingResult"];M5J.__super__=A4J;M5J.prototype=v1J(A4J.prototype,{adBreak:null,__class__:M5J});var y6y=function(c4d){A4J.call(this);this.reason=c4d;};O1J["com.turner.top.sdk.common.ads.events.AdConsumerBlockedResult"]=y6y;y6y.__name__=["com","turner","top","sdk","common","ads","events","AdConsumerBlockedResult"];y6y.__super__=A4J;y6y.prototype=v1J(A4J.prototype,{reason:null,__class__:y6y});var u6y=function(F4d,R4d){A4J.call(this);this.duration=F4d;this.volume=R4d;};O1J["com.turner.top.sdk.common.ads.events.AdConsumerLoadedResult"]=u6y;u6y.__name__=["com","turner","top","sdk","common","ads","events","AdConsumerLoadedResult"];u6y.__super__=A4J;u6y.prototype=v1J(A4J.prototype,{duration:null,volume:null,__class__:u6y});var U1y=function(U4d){A4J.call(this);this.metadata=U4d==null?{}:U4d;};O1J["com.turner.top.sdk.common.ads.events.AdConsumerCreativeChangedResult"]=U1y;U1y.__name__=["com","turner","top","sdk","common","ads","events","AdConsumerCreativeChangedResult"];U1y.__super__=A4J;U1y.prototype=v1J(A4J.prototype,{metadata:null,__class__:U1y});var V2y=function(q4d,o4d){A4J.call(this);this.time=q4d;this.duration=o4d;};O1J["com.turner.top.sdk.common.ads.events.AdConsumerTimeChangedResult"]=V2y;V2y.__name__=["com","turner","top","sdk","common","ads","events","AdConsumerTimeChangedResult"];V2y.__super__=A4J;V2y.prototype=v1J(A4J.prototype,{time:null,duration:null,__class__:V2y});var b2y=function(t4d){A4J.call(this);this.volume=t4d;};O1J["com.turner.top.sdk.common.ads.events.AdConsumerVolumeChangedResult"]=b2y;b2y.__name__=["com","turner","top","sdk","common","ads","events","AdConsumerVolumeChangedResult"];b2y.__super__=A4J;b2y.prototype=v1J(A4J.prototype,{volume:null,__class__:b2y});var J1y=function(l4d){A4J.call(this);this.muted=l4d;};O1J["com.turner.top.sdk.common.ads.events.AdConsumerMuteChangedResult"]=J1y;J1y.__name__=["com","turner","top","sdk","common","ads","events","AdConsumerMuteChangedResult"];J1y.__super__=A4J;J1y.prototype=v1J(A4J.prototype,{muted:null,__class__:J1y});var j9J=function(G4d){A4J.call(this);this.description=G4d;};O1J["com.turner.top.sdk.common.ads.events.AdConsumerErrorResult"]=j9J;j9J.__name__=["com","turner","top","sdk","common","ads","events","AdConsumerErrorResult"];j9J.__super__=A4J;j9J.prototype=v1J(A4J.prototype,{description:null,__class__:j9J});var v0y=function(){V1J.call(this,s1J.Request_State_Changed);};O1J["com.turner.top.sdk.common.ads.events.AdRequestStateChangedEvent"]=v0y;v0y.__name__=["com","turner","top","sdk","common","ads","events","AdRequestStateChangedEvent"];v0y.__super__=V1J;v0y.prototype=v1J(V1J.prototype,{__class__:v0y});var u0y=function(){V1J.call(this,s1J.Requesting);};O1J["com.turner.top.sdk.common.ads.events.AdRequestingEvent"]=u0y;u0y.__name__=["com","turner","top","sdk","common","ads","events","AdRequestingEvent"];u0y.__super__=V1J;u0y.prototype=v1J(V1J.prototype,{__class__:u0y});var X5J=function(){V1J.call(this,s1J.Request_Completed);};O1J["com.turner.top.sdk.common.ads.events.AdRequestCompletedEvent"]=X5J;X5J.__name__=["com","turner","top","sdk","common","ads","events","AdRequestCompletedEvent"];X5J.__super__=V1J;X5J.prototype=v1J(V1J.prototype,{__class__:X5J});var h5J=function(){V1J.call(this,s1J.Request_Canceled);};O1J["com.turner.top.sdk.common.ads.events.AdRequestCanceledEvent"]=h5J;h5J.__name__=["com","turner","top","sdk","common","ads","events","AdRequestCanceledEvent"];h5J.__super__=V1J;h5J.prototype=v1J(V1J.prototype,{__class__:h5J});var f5J=function(){V1J.call(this,s1J.Request_Error);};O1J["com.turner.top.sdk.common.ads.events.AdRequestErrorEvent"]=f5J;f5J.__name__=["com","turner","top","sdk","common","ads","events","AdRequestErrorEvent"];f5J.__super__=V1J;f5J.prototype=v1J(V1J.prototype,{__class__:f5J});var D5J=function(){V1J.call(this,s1J.State_Changed);};O1J["com.turner.top.sdk.common.ads.events.AdStateChangedEvent"]=D5J;D5J.__name__=["com","turner","top","sdk","common","ads","events","AdStateChangedEvent"];D5J.__super__=V1J;D5J.prototype=v1J(V1J.prototype,{__class__:D5J});var C5J=function(){V1J.call(this,s1J.Starting);};O1J["com.turner.top.sdk.common.ads.events.AdStartingEvent"]=C5J;C5J.__name__=["com","turner","top","sdk","common","ads","events","AdStartingEvent"];C5J.__super__=V1J;C5J.prototype=v1J(V1J.prototype,{__class__:C5J});var w5J=function(){V1J.call(this,s1J.Blocked);};O1J["com.turner.top.sdk.common.ads.events.AdBlockedEvent"]=w5J;w5J.__name__=["com","turner","top","sdk","common","ads","events","AdBlockedEvent"];w5J.__super__=V1J;w5J.prototype=v1J(V1J.prototype,{__class__:w5J});var Y5J=function(){V1J.call(this,s1J.Loaded);};O1J["com.turner.top.sdk.common.ads.events.AdLoadedEvent"]=Y5J;Y5J.__name__=["com","turner","top","sdk","common","ads","events","AdLoadedEvent"];Y5J.__super__=V1J;Y5J.prototype=v1J(V1J.prototype,{__class__:Y5J});var c5J=function(){V1J.call(this,s1J.Slot_Started);};O1J["com.turner.top.sdk.common.ads.events.AdSlotStartedEvent"]=c5J;c5J.__name__=["com","turner","top","sdk","common","ads","events","AdSlotStartedEvent"];c5J.__super__=V1J;c5J.prototype=v1J(V1J.prototype,{__class__:c5J});var F5J=function(){V1J.call(this,s1J.Started);};O1J["com.turner.top.sdk.common.ads.events.AdStartedEvent"]=F5J;F5J.__name__=["com","turner","top","sdk","common","ads","events","AdStartedEvent"];F5J.__super__=V1J;F5J.prototype=v1J(V1J.prototype,{__class__:F5J});var R5J=function(){V1J.call(this,s1J.Creative_Started);};O1J["com.turner.top.sdk.common.ads.events.AdCreativeStartedEvent"]=R5J;R5J.__name__=["com","turner","top","sdk","common","ads","events","AdCreativeStartedEvent"];R5J.__super__=V1J;R5J.prototype=v1J(V1J.prototype,{__class__:R5J});var U5J=function(){V1J.call(this,s1J.Time_Changed);};O1J["com.turner.top.sdk.common.ads.events.AdTimeChangedEvent"]=U5J;U5J.__name__=["com","turner","top","sdk","common","ads","events","AdTimeChangedEvent"];U5J.__super__=V1J;U5J.prototype=v1J(V1J.prototype,{__class__:U5J});var q5J=function(){V1J.call(this,s1J.Paused);};O1J["com.turner.top.sdk.common.ads.events.AdPausedEvent"]=q5J;q5J.__name__=["com","turner","top","sdk","common","ads","events","AdPausedEvent"];q5J.__super__=V1J;q5J.prototype=v1J(V1J.prototype,{__class__:q5J});var o5J=function(){V1J.call(this,s1J.Resumed);};O1J["com.turner.top.sdk.common.ads.events.AdResumedEvent"]=o5J;o5J.__name__=["com","turner","top","sdk","common","ads","events","AdResumedEvent"];o5J.__super__=V1J;o5J.prototype=v1J(V1J.prototype,{__class__:o5J});var t5J=function(){V1J.call(this,s1J.Volume_Changed);};O1J["com.turner.top.sdk.common.ads.events.AdVolumeChangedEvent"]=t5J;t5J.__name__=["com","turner","top","sdk","common","ads","events","AdVolumeChangedEvent"];t5J.__super__=V1J;t5J.prototype=v1J(V1J.prototype,{__class__:t5J});var l5J=function(){V1J.call(this,s1J.Mute_Changed);};O1J["com.turner.top.sdk.common.ads.events.AdMuteChangedEvent"]=l5J;l5J.__name__=["com","turner","top","sdk","common","ads","events","AdMuteChangedEvent"];l5J.__super__=V1J;l5J.prototype=v1J(V1J.prototype,{__class__:l5J});var G5J=function(){V1J.call(this,s1J.Stopped);};O1J["com.turner.top.sdk.common.ads.events.AdStoppedEvent"]=G5J;G5J.__name__=["com","turner","top","sdk","common","ads","events","AdStoppedEvent"];G5J.__super__=V1J;G5J.prototype=v1J(V1J.prototype,{__class__:G5J});var m5J=function(){V1J.call(this,s1J.Creative_Ended);};O1J["com.turner.top.sdk.common.ads.events.AdCreativeEndedEvent"]=m5J;m5J.__name__=["com","turner","top","sdk","common","ads","events","AdCreativeEndedEvent"];m5J.__super__=V1J;m5J.prototype=v1J(V1J.prototype,{__class__:m5J});var K5J=function(){V1J.call(this,s1J.Slot_Ended);};O1J["com.turner.top.sdk.common.ads.events.AdSlotEndedEvent"]=K5J;K5J.__name__=["com","turner","top","sdk","common","ads","events","AdSlotEndedEvent"];K5J.__super__=V1J;K5J.prototype=v1J(V1J.prototype,{__class__:K5J});var N5J=function(){V1J.call(this,s1J.Finished);};O1J["com.turner.top.sdk.common.ads.events.AdFinishedEvent"]=N5J;N5J.__name__=["com","turner","top","sdk","common","ads","events","AdFinishedEvent"];N5J.__super__=V1J;N5J.prototype=v1J(V1J.prototype,{__class__:N5J});var a5J=function(){V1J.call(this,s1J.Error);};O1J["com.turner.top.sdk.common.ads.events.AdErrorEvent"]=a5J;a5J.__name__=["com","turner","top","sdk","common","ads","events","AdErrorEvent"];a5J.__super__=V1J;a5J.prototype=v1J(V1J.prototype,{__class__:a5J});var b5J=function(){G4J.call(this,[this.requestStateChanged=new v0y(),this.requesting=new u0y(),this.requestCompleted=new X5J(),this.requestCanceled=new h5J(),this.requestError=new f5J(),this.stateChanged=new D5J(),this.starting=new C5J(),this.blocked=new w5J(),this.loaded=new Y5J(),this.slotStarted=new c5J(),this.started=new F5J(),this.creativeStarted=new R5J(),this.timeChanged=new U5J(),this.paused=new q5J(),this.resumed=new o5J(),this.volumeChanged=new t5J(),this.muteChanged=new l5J(),this.stopped=new G5J(),this.creativeEnded=new m5J(),this.slotEnded=new K5J(),this.finished=new N5J(),this.error=new a5J()]);};O1J["com.turner.top.sdk.common.ads.events.AdEvents"]=b5J;b5J.__name__=["com","turner","top","sdk","common","ads","events","AdEvents"];b5J.__super__=G4J;b5J.prototype=v1J(G4J.prototype,{requestStateChanged:null,requesting:null,requestCompleted:null,requestCanceled:null,requestError:null,stateChanged:null,starting:null,blocked:null,loaded:null,slotStarted:null,started:null,creativeStarted:null,timeChanged:null,paused:null,resumed:null,volumeChanged:null,muteChanged:null,stopped:null,creativeEnded:null,slotEnded:null,finished:null,error:null,__class__:b5J});var k8y=function(){};O1J["com.turner.top.sdk.common.ads.models.IAdModel"]=k8y;k8y.__name__=["com","turner","top","sdk","common","ads","models","IAdModel"];k8y.prototype={_events:null,init:null,setProviderModel:null,setConsumerModel:null,toData:null,events:null,requestState:null,request:null,response:null,requestError:null,state:null,type:null,time:null,duration:null,volume:null,muted:null,__class__:k8y};var P8J=function(){this._events=new P6y();};O1J["com.turner.top.sdk.common.ads.models.AdModel"]=P8J;P8J.__name__=["com","turner","top","sdk","common","ads","models","AdModel"];P8J.__interfaces__=[k8y];P8J.prototype={_events:null,_providerModel:null,_consumerModel:null,doInit:function(m4d,K4d){var N4d=m4d==null?new C7J().init(null):m4d;var a4d=K4d==null?new X7J().init(null):K4d;this.doSetProviderModel(N4d);this.doSetConsumerModel(a4d);},doSetProviderModel:function(b4d){this.changeProviderModel(b4d);},doSetConsumerModel:function(g4d){this.changeConsumerModel(g4d);},doToData:function(){var P4d=this._providerModel.toData();var M4d=this._consumerModel.toData();return i1J.extendWith({},[P4d,M4d]);},changeProviderModel:function(L4d){if(this._providerModel!=null){this.removeProviderModelListeners(this._providerModel);}this._providerModel=L4d;this.addProviderModelListeners(this._providerModel);},changeConsumerModel:function(x4d){if(this._consumerModel!=null){this.removeConsumerModelListeners(this._consumerModel);}this._consumerModel=x4d;this.addConsumerModelListeners(this._consumerModel);},addProviderModelListeners:function(O4d){O4d.events().propertyChanged.listen(p1J(this,this.onProviderModelChanged));},onProviderModelChanged:function(T4d){var H4d;var d4d=T4d.property;switch(d4d[1]){case 0:H4d=K4J.Request_State;break;case 1:H4d=K4J.Request;break;case 2:H4d=K4J.Response;break;case 3:H4d=K4J.Request_Error;break;}this.firePropertyChanged(H4d,T4d.oldValue,T4d.currentValue);},removeProviderModelListeners:function(v4d){v4d.events().propertyChanged.unlisten(p1J(this,this.onProviderModelChanged));},_getRequestState:function(){return this._providerModel.state();},_getRequest:function(){return this._providerModel.request();},_getResponse:function(){return this._providerModel.response();},_getRequestError:function(){return this._providerModel.error();},addConsumerModelListeners:function(V4d){V4d.events().propertyChanged.listen(p1J(this,this.onConsumerModelChanged));},onConsumerModelChanged:function(Z4d){var p4d;var B4d=Z4d.property;switch(B4d[1]){case 0:p4d=K4J.State;break;case 1:p4d=K4J.Type;break;case 2:p4d=K4J.Time;break;case 3:p4d=K4J.Duration;break;case 4:p4d=K4J.Volume;break;case 5:p4d=K4J.Muted;break;case 6:p4d=K4J.Error;break;}this.firePropertyChanged(p4d,Z4d.oldValue,Z4d.currentValue);},removeConsumerModelListeners:function(W4d){W4d.events().propertyChanged.unlisten(p1J(this,this.onConsumerModelChanged));},_getState:function(){return this._consumerModel.state();},_getType:function(){return this._consumerModel.type();},_getTime:function(){return this._consumerModel.time();},_getDuration:function(){return this._consumerModel.duration();},_getVolume:function(){return this._consumerModel.volume();},_getMuted:function(){return this._consumerModel.muted();},firePropertyChanged:function(S4d,e4d,n4d){var z4d=new g5J(S4d,e4d,n4d);this._events.propertyChanged.dispatch(z4d);},init:function(s4d,J4d){this.doInit(s4d,J4d);return this;},setProviderModel:function(A4d){this.doSetProviderModel(A4d);return this;},setConsumerModel:function(j4d){this.doSetConsumerModel(j4d);return this;},toData:function(){return this.doToData();},events:function(){return this._events;},requestState:function(){return this._getRequestState();},request:function(){return this._getRequest();},response:function(){return this._getResponse();},requestError:function(){return this._getRequestError();},state:function(){return this._getState();},type:function(){return this._getType();},time:function(){return this._getTime();},duration:function(){return this._getDuration();},volume:function(){return this._getVolume();},muted:function(){return this._getMuted();},__class__:P8J};var K4J=O1J["com.turner.top.sdk.common.ads.models.AdModelProperty"]={__ename__:["com","turner","top","sdk","common","ads","models","AdModelProperty"],__constructs__:["Request_State","Request","Response","Request_Error","State","Type","Time","Duration","Volume","Muted","Error"]};K4J.Request_State=["Request_State",0];K4J.Request_State.toString=H1J;K4J.Request_State.__enum__=K4J;K4J.Request=["Request",1];K4J.Request.toString=H1J;K4J.Request.__enum__=K4J;K4J.Response=["Response",2];K4J.Response.toString=H1J;K4J.Response.__enum__=K4J;K4J.Request_Error=["Request_Error",3];K4J.Request_Error.toString=H1J;K4J.Request_Error.__enum__=K4J;K4J.State=["State",4];K4J.State.toString=H1J;K4J.State.__enum__=K4J;K4J.Type=["Type",5];K4J.Type.toString=H1J;K4J.Type.__enum__=K4J;K4J.Time=["Time",6];K4J.Time.toString=H1J;K4J.Time.__enum__=K4J;K4J.Duration=["Duration",7];K4J.Duration.toString=H1J;K4J.Duration.__enum__=K4J;K4J.Volume=["Volume",8];K4J.Volume.toString=H1J;K4J.Volume.__enum__=K4J;K4J.Muted=["Muted",9];K4J.Muted.toString=H1J;K4J.Muted.__enum__=K4J;K4J.Error=["Error",10];K4J.Error.toString=H1J;K4J.Error.__enum__=K4J;K4J.__empty_constructs__=[K4J.Request_State,K4J.Request,K4J.Response,K4J.Request_Error,K4J.State,K4J.Type,K4J.Time,K4J.Duration,K4J.Volume,K4J.Muted,K4J.Error];var I8J=function(){u4J.call(this);};O1J["com.turner.top.sdk.common.ads.models.events.AdModelEventResult"]=I8J;I8J.__name__=["com","turner","top","sdk","common","ads","models","events","AdModelEventResult"];I8J.__super__=u4J;I8J.prototype=v1J(u4J.prototype,{__class__:I8J});var g5J=function(Q4d,k4d,i4d){I8J.call(this);this.property=Q4d;this.oldValue=k4d;this.currentValue=i4d;};O1J["com.turner.top.sdk.common.ads.models.events.AdModelPropertyChangedResult"]=g5J;g5J.__name__=["com","turner","top","sdk","common","ads","models","events","AdModelPropertyChangedResult"];g5J.__super__=I8J;g5J.prototype=v1J(I8J.prototype,{property:null,oldValue:null,currentValue:null,__class__:g5J});var k3J=O1J["com.turner.top.sdk.common.ads.models.events.AdModelEventType"]={__ename__:["com","turner","top","sdk","common","ads","models","events","AdModelEventType"],__constructs__:["Property_Changed"]};k3J.Property_Changed=["Property_Changed",0];k3J.Property_Changed.toString=H1J;k3J.Property_Changed.__enum__=k3J;k3J.__empty_constructs__=[k3J.Property_Changed];var F6y=function(){V1J.call(this,k3J.Property_Changed);};O1J["com.turner.top.sdk.common.ads.models.events.AdModelPropertyChangedEvent"]=F6y;F6y.__name__=["com","turner","top","sdk","common","ads","models","events","AdModelPropertyChangedEvent"];F6y.__super__=V1J;F6y.prototype=v1J(V1J.prototype,{__class__:F6y});var P6y=function(){G4J.call(this,[this.propertyChanged=new F6y()]);};O1J["com.turner.top.sdk.common.ads.models.events.AdModelEvents"]=P6y;P6y.__name__=["com","turner","top","sdk","common","ads","models","events","AdModelEvents"];P6y.__super__=G4J;P6y.prototype=v1J(G4J.prototype,{propertyChanged:null,__class__:P6y});var Q04=function(){};O1J["com.turner.top.sdk.common.ads.providers.Exports"]=Q04;Q04.__name__=["com","turner","top","sdk","common","ads","providers","Exports"];var t3y=function(){};O1J["com.turner.top.sdk.common.ads.providers.controllers.handlers.IAdProviderEventNotifier"]=t3y;t3y.__name__=["com","turner","top","sdk","common","ads","providers","controllers","handlers","IAdProviderEventNotifier"];t3y.prototype={init:null,dispatchStateChange:null,dispatchRequesting:null,dispatchRequestCompleted:null,dispatchRequestCanceled:null,dispatchRequestError:null,__class__:t3y};var i8J=function(){};O1J["com.turner.top.sdk.common.ads.providers.controllers.handlers.AdProviderEventNotifier"]=i8J;i8J.__name__=["com","turner","top","sdk","common","ads","providers","controllers","handlers","AdProviderEventNotifier"];i8J.__interfaces__=[t3y];i8J.prototype={_events:null,doInit:function(I4d){this._events=I4d;},doDispatchStateChange:function(y4d,r4d,u6d){var E4d=new H1y(y4d,r4d,u6d);this._events.requestStateChanged.dispatch(E4d);},doDispatchRequesting:function(h6d){var X6d=new O1y(h6d);this._events.requesting.dispatch(X6d);},doDispatchRequestCompleted:function(D6d,C6d){var f6d=new s9y(D6d,C6d);this._events.requestCompleted.dispatch(f6d);},doDispatchRequestCanceled:function(Y6d){var w6d=new S2J(Y6d);this._events.requestCanceled.dispatch(w6d);},doDispatchRequestError:function(F6d,R6d){var c6d=new m9y(F6d,R6d);this._events.requestError.dispatch(c6d);},init:function(U6d){this.doInit(U6d);return this;},dispatchStateChange:function(q6d,o6d,t6d){this.doDispatchStateChange(q6d,o6d,t6d);return this;},dispatchRequesting:function(l6d){this.doDispatchRequesting(l6d);return this;},dispatchRequestCompleted:function(G6d,m6d){this.doDispatchRequestCompleted(G6d,m6d);return this;},dispatchRequestCanceled:function(K6d){this.doDispatchRequestCanceled(K6d);return this;},dispatchRequestError:function(N6d,a6d){this.doDispatchRequestError(N6d,a6d);return this;},__class__:i8J};var l3y=function(){};O1J["com.turner.top.sdk.common.ads.providers.controllers.handlers.IAdProviderModelUpdater"]=l3y;l3y.__name__=["com","turner","top","sdk","common","ads","providers","controllers","handlers","IAdProviderModelUpdater"];l3y.prototype={init:null,setState:null,setRequesting:null,setRequestCompleted:null,setRequestError:null,__class__:l3y};var k8J=function(){};O1J["com.turner.top.sdk.common.ads.providers.controllers.handlers.AdProviderModelUpdater"]=k8J;k8J.__name__=["com","turner","top","sdk","common","ads","providers","controllers","handlers","AdProviderModelUpdater"];k8J.__interfaces__=[l3y];k8J.prototype={_model:null,doInit:function(b6d){this._model=b6d;},doSetState:function(g6d){this.transient(function(P6d){P6d.setState(g6d);});},doSetRequesting:function(M6d){this.transient(function(L6d){L6d.setRequest(M6d);});},doSetRequestCompleted:function(x6d){this.transient(function(O6d){O6d.setResponse(x6d);});},doSetRequestError:function(H6d){this.transient(function(T6d){T6d.setError(H6d);});},transient:function(d6d){this._model.withMode(Q6J.Transient,d6d);},init:function(v6d){this.doInit(v6d);return this;},setState:function(V6d){this.doSetState(V6d);return this;},setRequesting:function(p6d){this.doSetRequesting(p6d);return this;},setRequestCompleted:function(Z6d){this.doSetRequestCompleted(Z6d);return this;},setRequestError:function(B6d){this.doSetRequestError(B6d);return this;},__class__:k8J};var G3y=function(){};O1J["com.turner.top.sdk.common.ads.providers.controllers.handlers.IAdProviderStateChangeHandler"]=G3y;G3y.__name__=["com","turner","top","sdk","common","ads","providers","controllers","handlers","IAdProviderStateChangeHandler"];G3y.prototype={init:null,handleStateChange:null,handleRequesting:null,handleRequestCompleted:null,handleRequestCanceled:null,handleRequestError:null,__class__:G3y};var Q8J=function(){};O1J["com.turner.top.sdk.common.ads.providers.controllers.handlers.AdProviderStateChangeHandler"]=Q8J;Q8J.__name__=["com","turner","top","sdk","common","ads","providers","controllers","handlers","AdProviderStateChangeHandler"];Q8J.__interfaces__=[G3y];Q8J.prototype={_model:null,_updater:null,_notifier:null,doInit:function(W6d,z6d,S6d){this._model=W6d;this._updater=z6d;this._notifier=S6d;},doHandleStateChange:function(s6d,e6d){var n6d=this._model.state();this._updater.setState(e6d);this._notifier.dispatchStateChange(s6d,n6d,e6d);},doHandleRequesting:function(J6d){this._updater.setRequesting(J6d);this.doHandleStateChange(J6d,k4J.Requesting);this._notifier.dispatchRequesting(J6d);},doHandleRequestCompleted:function(A6d,j6d){this._updater.setRequestCompleted(j6d);this.doHandleStateChange(A6d,k4J.Completed);this._notifier.dispatchRequestCompleted(A6d,j6d);},doHandleRequestCanceled:function(Q6d){this.doHandleStateChange(Q6d,k4J.Canceled);this._notifier.dispatchRequestCanceled(Q6d);},doHandleRequestError:function(k6d,i6d){this._updater.setRequestError(i6d);this.doHandleStateChange(k6d,k4J.Error);this._notifier.dispatchRequestError(k6d,i6d);},init:function(I6d,E6d,y6d){this.doInit(I6d,E6d,y6d);return this;},handleStateChange:function(r6d,u2d){this.doHandleStateChange(r6d,u2d);return this;},handleRequesting:function(X2d){this.doHandleRequesting(X2d);return this;},handleRequestCompleted:function(h2d,f2d){this.doHandleRequestCompleted(h2d,f2d);return this;},handleRequestCanceled:function(D2d){this.doHandleRequestCanceled(D2d);return this;},handleRequestError:function(C2d,w2d){this.doHandleRequestError(C2d,w2d);return this;},__class__:Q8J};var L5J=function(){G4J.call(this,[this.requestStateChanged=new v0y(),this.requesting=new u0y(),this.requestCompleted=new X5J(),this.requestCanceled=new h5J(),this.requestError=new f5J()]);};O1J["com.turner.top.sdk.common.ads.providers.events.AdProviderEvents"]=L5J;L5J.__name__=["com","turner","top","sdk","common","ads","providers","events","AdProviderEvents"];L5J.__super__=G4J;L5J.prototype=v1J(G4J.prototype,{requestStateChanged:null,requesting:null,requestCompleted:null,requestCanceled:null,requestError:null,__class__:L5J});var z2y=function(){};O1J["com.turner.top.sdk.common.ads.providers.models.IAdProviderModel"]=z2y;z2y.__name__=["com","turner","top","sdk","common","ads","providers","models","IAdProviderModel"];z2y.__interfaces__=[P9J];z2y.prototype={_events:null,_state:null,_request:null,_response:null,_error:null,events:null,state:null,request:null,response:null,error:null,__class__:z2y};var C7J=function(){t6J.call(this,b6J);this._events=new M3y();};O1J["com.turner.top.sdk.common.ads.providers.models.AdProviderModel"]=C7J;C7J.__name__=["com","turner","top","sdk","common","ads","providers","models","AdProviderModel"];C7J.__interfaces__=[z2y];C7J.extendBy=function(c2d,F2d){var Y2d=new C7J();Y2d.init(c2d.toData());Y2d.extend(F2d);return Y2d;};C7J.mergeBy=function(U2d,q2d){var R2d=new C7J();R2d.init(U2d.toData());R2d.extend(q2d.toData());return R2d;};C7J.__super__=t6J;C7J.prototype=v1J(t6J.prototype,{_events:null,_state:null,_request:null,_response:null,_error:null,doInit:function(o2d){t6J.prototype.doInit.call(this,R04.data());this.doExtend(o2d);},doExtend:function(t2d){if(t2d==null){return;}if(t2d.state!=null){this._setState(t2d.state);}if(t2d.request!=null){this._setRequest(t2d.request);}if(t2d.response!=null){this._setResponse(t2d.response);}if(t2d.error!=null){this._setError(t2d.error);}},dataSourceToData:function(l2d){var G2d={state:l2d.getProperty(b6J.State),request:l2d.getProperty(b6J.Request),response:l2d.getProperty(b6J.Response),error:l2d.getProperty(b6J.Error)};return G2d;},firePropertyChanged:function(K2d,N2d,a2d){var m2d=new Y8y(K2d,N2d,a2d);this._events.propertyChanged.dispatch(m2d);},_setState:function(b2d){this.doSetProperty(b6J.State,this._state=b2d);},_setRequest:function(g2d){this.doSetProperty(b6J.Request,this._request=g2d);},_setResponse:function(P2d){this.doSetProperty(b6J.Response,this._response=P2d);},_setError:function(M2d){this.doSetProperty(b6J.Error,this._error=M2d);},init:function(L2d){this.doInit(L2d);return this;},beginMode:function(x2d){this.doBeginMode(x2d);return this;},beginModes:function(O2d){this.doBeginModes(O2d);return this;},endMode:function(H2d){this.doEndMode(H2d);return this;},endModes:function(T2d){this.doEndModes(T2d);return this;},withMode:function(d2d,v2d){this.doWithMode(d2d,v2d);return this;},withModes:function(V2d,p2d){this.doWithModes(V2d,p2d);return this;},extend:function(Z2d){this.doExtend(Z2d);return this;},clearTransientData:function(){this.doClearTransientData();return this;},setData:function(B2d){this.doSetData(B2d);return this;},toData:function(){return this.doToData();},events:function(){return this._events;},state:function(){return this._state;},setState:function(W2d){this._setState(W2d);return this;},request:function(){return this._request;},setRequest:function(z2d){this._setRequest(z2d);return this;},response:function(){return this._response;},setResponse:function(S2d){this._setResponse(S2d);return this;},error:function(){return this._error;},setError:function(e2d){this._setError(e2d);return this;},__class__:C7J});var R04=function(){};O1J["com.turner.top.sdk.common.ads.providers.models.AdProviderModelDefaults"]=R04;R04.__name__=["com","turner","top","sdk","common","ads","providers","models","AdProviderModelDefaults"];R04.data=function(){return{state:k4J.Pending,request:null,response:null,error:null};};var b6J=O1J["com.turner.top.sdk.common.ads.providers.models.AdProviderModelProperty"]={__ename__:["com","turner","top","sdk","common","ads","providers","models","AdProviderModelProperty"],__constructs__:["State","Request","Response","Error"]};b6J.State=["State",0];b6J.State.toString=H1J;b6J.State.__enum__=b6J;b6J.Request=["Request",1];b6J.Request.toString=H1J;b6J.Request.__enum__=b6J;b6J.Response=["Response",2];b6J.Response.toString=H1J;b6J.Response.__enum__=b6J;b6J.Error=["Error",3];b6J.Error.toString=H1J;b6J.Error.__enum__=b6J;b6J.__empty_constructs__=[b6J.State,b6J.Request,b6J.Response,b6J.Error];var Y8y=function(n2d,s2d,J2d){u4J.call(this);this.property=n2d;this.oldValue=s2d;this.currentValue=J2d;};O1J["com.turner.top.sdk.common.ads.providers.models.events.AdProviderModelPropertyChangedResult"]=Y8y;Y8y.__name__=["com","turner","top","sdk","common","ads","providers","models","events","AdProviderModelPropertyChangedResult"];Y8y.__super__=u4J;Y8y.prototype=v1J(u4J.prototype,{property:null,oldValue:null,currentValue:null,__class__:Y8y});var x5J=O1J["com.turner.top.sdk.common.ads.providers.models.events.AdProviderModelEventType"]={__ename__:["com","turner","top","sdk","common","ads","providers","models","events","AdProviderModelEventType"],__constructs__:["Property_Changed"]};x5J.Property_Changed=["Property_Changed",0];x5J.Property_Changed.toString=H1J;x5J.Property_Changed.__enum__=x5J;x5J.__empty_constructs__=[x5J.Property_Changed];var o1y=function(){V1J.call(this,x5J.Property_Changed);};O1J["com.turner.top.sdk.common.ads.providers.models.events.AdProviderModelPropertyChangedEvent"]=o1y;o1y.__name__=["com","turner","top","sdk","common","ads","providers","models","events","AdProviderModelPropertyChangedEvent"];o1y.__super__=V1J;o1y.prototype=v1J(V1J.prototype,{__class__:o1y});var M3y=function(){this.propertyChanged=new o1y();};O1J["com.turner.top.sdk.common.ads.providers.models.events.AdProviderModelEvents"]=M3y;M3y.__name__=["com","turner","top","sdk","common","ads","providers","models","events","AdProviderModelEvents"];M3y.prototype={propertyChanged:null,__class__:M3y};var x1y=function(){};O1J["com.turner.top.sdk.common.ads.resolvers.IAdFeatureResolver"]=x1y;x1y.__name__=["com","turner","top","sdk","common","ads","resolvers","IAdFeatureResolver"];x1y.prototype={init:null,execute:null,stop:null,__class__:x1y};var O7J=function(){this._a9CachedRequest=false;};O1J["com.turner.top.sdk.common.ads.resolvers.A9FeatureResolver"]=O7J;O7J.__name__=["com","turner","top","sdk","common","ads","resolvers","A9FeatureResolver"];O7J.__interfaces__=[x1y];O7J.prototype={_task:null,_config:null,_a9CachedRequest:null,_resolver:null,doInit:function(A2d){this._config=A2d;this._task=g2J.create0(p1J(this,this.a9BidRequestTaskHandler));},a9BidRequestTaskHandler:function(j2d){this._resolver=j2d;this.getA9TargetingData().then(p1J(this,this.handleA9RequestSuccess))["catch"](p1J(this,this.handleA9RequestFailure));},handleA9RequestSuccess:function(Q2d){O7J._logger.info("[handleA9RequestSuccess] A9 request success: "+d1J.string(Q2d));this._resolver.resolve({data:{kvps:Q2d}});},handleA9RequestFailure:function(k2d){O7J._logger.info("[handleA9RequestSuccess] A9 request failed: "+d1J.string(k2d));this._resolver.reject(k2d);},getA9TargetingData:function(I2d){O7J._logger.debug("[getA9TargetingData] use cached: "+d1J.string(this._a9CachedRequest));var i2d=null;if(I2d==null){I2d=this._config.midrollSlotName;}try{var E2d=null;i2d=this._a9CachedRequest?this._config.getTargetingData(E2d):this._config.getRefreshedTargetingData(I2d,E2d);}catch(r2d){if(r2d instanceof j1J)r2d=r2d.val;var y2d="An error occured when retrieving Amazon A9 targeting data "+d1J.string(r2d);i2d=Promise.reject(y2d);O7J._logger.error("[getA9TargetingData] "+y2d);}this._a9CachedRequest=false;return i2d;},executeTask:function(){this._task.execute();},doStop:function(){O7J._logger.info("[doStop] Stopping feature resolution.");this._task.cancel();if(!this._a9CachedRequest){O7J._logger.info("[cancel] triggering request for refreshed A9 targeting data");this.getA9TargetingData(this._config.initialSlotName);this._a9CachedRequest=true;}},init:function(u7d){this.doInit(u7d);return this._task;},execute:function(){this.executeTask();return this._task;},stop:function(){this.doStop();},__class__:O7J};var e7J=function(){};O1J["com.turner.top.sdk.common.ads.resolvers.GDPRFeatureResolver"]=e7J;e7J.__name__=["com","turner","top","sdk","common","ads","resolvers","GDPRFeatureResolver"];e7J.__interfaces__=[x1y];e7J.prototype={_task:null,_config:null,_resolver:null,doInit:function(X7d){this._config=X7d;this._task=g2J.create0(p1J(this,this.gdprConsentTaskHandler));},gdprConsentTaskHandler:function(f7d){this._resolver=f7d;var h7d=this._config.getConsent();h7d.then(p1J(this,this.handleConsentSuccess))["catch"](p1J(this,this.handleConsentFailure));},handleConsentSuccess:function(C7d){e7J._logger.info("[handleConsentSuccess] Success in retrieving consent data: "+d1J.string(C7d));var D7d=C7d.consentData;var w7d=C7d.gdprApplies;var Y7d={};if(D7d!=null&&typeof D7d=="string"){Y7d["_fw_gdpr_consent"]=D7d;}else{e7J._logger.warn("[handleConsentSuccess] The GDPR Consent data value is invalid: "+d1J.string(D7d));}if(w7d!=null&&typeof w7d=="boolean"){var c7d=C7d.gdprApplies?"1":3550>=5198?(0x76,"e"):"0";Y7d["_fw_gdpr"]=c7d;}else{e7J._logger.warn("[handleConsentSuccess]The GDPR Applies flag value is invalid: "+d1J.string(w7d));}this._resolver.resolve({data:{kvps:Y7d}});},handleConsentFailure:function(F7d){e7J._logger.warn("[handleConsentFailure] Unable to retrieve consent data: "+F7d);this._resolver.reject(F7d);},executeTask:function(){this._task.execute();},doStop:function(){e7J._logger.info("[doStop] Stopping feature resolution.");this._task.cancel();},init:function(R7d){this.doInit(R7d);return this._task;},execute:function(){this.executeTask();return this._task;},stop:function(){this.doStop();},__class__:e7J};var F04=function(){};O1J["com.turner.top.sdk.common.ads.utils.helpers.AdProviderEventHelpers"]=F04;F04.__name__=["com","turner","top","sdk","common","ads","utils","helpers","AdProviderEventHelpers"];F04.getPrimaryAdRequestType=function(U7d){return c04.getPrimaryAdType(U7d.request);};F04.getPrimaryAdResponseType=function(q7d){return n5y.getPrimaryAdType(q7d.response);};var c04=function(){};O1J["com.turner.top.sdk.common.ads.utils.helpers.AdProviderRequestHelpers"]=c04;c04.__name__=["com","turner","top","sdk","common","ads","utils","helpers","AdProviderRequestHelpers"];c04.getPrimaryAdType=function(t7d){var o7d=t7d.opportunities;if(o7d.length>0){return o7d[0].type;}else{return null;}};var n5y=function(){};O1J["com.turner.top.sdk.common.ads.utils.helpers.AdProviderResponseHelpers"]=n5y;n5y.__name__=["com","turner","top","sdk","common","ads","utils","helpers","AdProviderResponseHelpers"];n5y.getPrimaryAdType=function(G7d){var l7d=G7d.breaks;if(l7d.length>0){return l7d[0].type;}else{return null;}};var X14=function(){};O1J["com.turner.top.sdk.common.analytics.Exports"]=X14;X14.__name__=["com","turner","top","sdk","common","analytics","Exports"];var L3y=function(){};O1J["com.turner.top.sdk.common.analytics.IAnalyticsManager"]=L3y;L3y.__name__=["com","turner","top","sdk","common","analytics","IAnalyticsManager"];L3y.prototype={events:null,init:null,reset:null,reportEvent:null,reportError:null,destroy:null,__class__:L3y};var D9J=function(){u4J.call(this);};O1J["com.turner.top.sdk.common.analytics.events.AnalyticsEventResult"]=D9J;D9J.__name__=["com","turner","top","sdk","common","analytics","events","AnalyticsEventResult"];D9J.__super__=u4J;D9J.prototype=v1J(u4J.prototype,{__class__:D9J});var V4y=function(m7d){D9J.call(this);this.event=m7d;};O1J["com.turner.top.sdk.common.analytics.events.AnalyticsEventReportedResult"]=V4y;V4y.__name__=["com","turner","top","sdk","common","analytics","events","AnalyticsEventReportedResult"];V4y.__super__=D9J;V4y.prototype=v1J(D9J.prototype,{event:null,__class__:V4y});var W4y=function(K7d){D9J.call(this);this.event=K7d;};O1J["com.turner.top.sdk.common.analytics.events.AnalyticsErrorReportedResult"]=W4y;W4y.__name__=["com","turner","top","sdk","common","analytics","events","AnalyticsErrorReportedResult"];W4y.__super__=D9J;W4y.prototype=v1J(D9J.prototype,{event:null,__class__:W4y});var M7J=O1J["com.turner.top.sdk.common.analytics.events.AnalyticsEventType"]={__ename__:["com","turner","top","sdk","common","analytics","events","AnalyticsEventType"],__constructs__:["Event_Reported","Error_Reported"]};M7J.Event_Reported=["Event_Reported",0];M7J.Event_Reported.toString=H1J;M7J.Event_Reported.__enum__=M7J;M7J.Error_Reported=["Error_Reported",1];M7J.Error_Reported.toString=H1J;M7J.Error_Reported.__enum__=M7J;M7J.__empty_constructs__=[M7J.Event_Reported,M7J.Error_Reported];var Q4y=function(){V1J.call(this,M7J.Event_Reported);};O1J["com.turner.top.sdk.common.analytics.events.AnalyticsEventReported"]=Q4y;Q4y.__name__=["com","turner","top","sdk","common","analytics","events","AnalyticsEventReported"];Q4y.__super__=V1J;Q4y.prototype=v1J(V1J.prototype,{__class__:Q4y});var i4y=function(){V1J.call(this,M7J.Error_Reported);};O1J["com.turner.top.sdk.common.analytics.events.AnalyticsErrorReported"]=i4y;i4y.__name__=["com","turner","top","sdk","common","analytics","events","AnalyticsErrorReported"];i4y.__super__=V1J;i4y.prototype=v1J(V1J.prototype,{__class__:i4y});var r4y=function(){G4J.call(this,[this.eventReported=new Q4y(),this.errorReported=new i4y()]);};O1J["com.turner.top.sdk.common.analytics.events.AnalyticsEvents"]=r4y;r4y.__name__=["com","turner","top","sdk","common","analytics","events","AnalyticsEvents"];r4y.__super__=G4J;r4y.prototype=v1J(G4J.prototype,{eventReported:null,errorReported:null,__class__:r4y});var p3J=function(){this._events=new r4y();this.resetData();};O1J["com.turner.top.sdk.common.analytics.managers.AnalyticsManager"]=p3J;p3J.__name__=["com","turner","top","sdk","common","analytics","managers","AnalyticsManager"];p3J.__interfaces__=[L3y];p3J.prototype={_events:null,doInit:function(){},doReset:function(){},resetData:function(){},doReportEvent:function(N7d){this.notifyEventReported(N7d);},doReportError:function(a7d){this.notifyErrorReported(a7d);},doDestroy:function(){},notifyEventReported:function(g7d){var b7d=new V4y(g7d);this._events.eventReported.dispatch(b7d);},notifyErrorReported:function(M7d){var P7d=M7d.severity;var L7d=new W4y({data:M7d.data,severity:P7d==null?o7J.Fatal:P7d});this._events.errorReported.dispatch(L7d);},init:function(){this.doInit();return this;},reset:function(){this.doReset();return this;},reportEvent:function(x7d){this.doReportEvent(x7d);return this;},reportError:function(O7d){this.doReportError(O7d);return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},__class__:p3J};var B9J=function(){};O1J["com.turner.top.sdk.common.auth.AuthHandlerDefaults"]=B9J;B9J.__name__=["com","turner","top","sdk","common","auth","AuthHandlerDefaults"];B9J.handleTokenAuth=function(p7d,v7d){var A7d=p7d.url;var W7d=p7d.playlistItem;var j7d=p7d.config;var S7d=p7d.metadata;var s7d=S7d==null?{}:S7d;var T7d=W7d.options();var B7d=W7d.contentEntry().authType();var d7d=Q5y.getAuthForType(j7d,B7d);if(d7d==null){v7d.reject("Unable to find an auth service for the given auth type: "+B7d);return;}var V7d=d7d.serviceUrl;var z7d=g9J.parse(V7d).queryAsMap();var n7d=(!Object.prototype.hasOwnProperty.call(z7d,"appId")?null:Z1J.field(z7d,"appId"))!=null;var J7d=g9J.parse(A7d).directory+"*";var H7d={format:"json",path:J7d};if(d7d.profile!=null){H7d.profile=d7d.profile;}if(n7d){B9J._logger.warn("[handleTokenAuth] You have manually added the appId to the serviceUrl. Please add it to the player configuration instead.");}else if(s7d.appId!=null&&d7d.appId!=null){H7d.appId=d7d.appId;}if(Object.prototype.hasOwnProperty.call(T7d,"mvpdId")){H7d.mvpdId=T7d.mvpdId;}if(Object.prototype.hasOwnProperty.call(T7d,"accessTokenType")){H7d.accessTokenType=T7d.accessTokenType;}if(Object.prototype.hasOwnProperty.call(T7d,"accessToken")){H7d.accessToken=T7d.accessToken;}if(Object.prototype.hasOwnProperty.call(T7d,"tokenParams")){H7d=i1J.extend(H7d,T7d.tokenParams);}H7d=i1J.mapValues(H7d,function(I7d,i7d){return encodeURIComponent(i7d);});var e7d=i1J.toQueryStr(H7d);var Q7d=V7d.indexOf("?");var k7d=Q7d==-1?""+V7d+"?"+e7d:""+V7d+"&"+e7d;var Z7d=new r7J(k7d);Z7d.onData=function(y7d){var E7d=null;try{E7d=JSON.parse(y7d);}catch(r7d){B9J._logger.error("Token service response was not valid JSON!");v7d.reject("Token service response was not valid JSON");return;}if(E7d==null||!Object.prototype.hasOwnProperty.call(E7d,"auth")){B9J._logger.error("Token service response could not be parsed!");v7d.reject("Token service response could not be parsed");return;}if(Object.prototype.hasOwnProperty.call(E7d.auth,"error")){B9J._logger.error("Token service response contains an error: "+d1J.string(E7d.auth.error));v7d.reject("Token service response contains an error: "+d1J.string(E7d.auth.error));return;}if(!Object.prototype.hasOwnProperty.call(E7d.auth,"token")){B9J._logger.error("Token service response did not contain \"token\" data!");v7d.reject("Token service response did not contain token");return;}v7d.resolve(""+d7d.prefix+"="+d1J.string(E7d.auth.token));};Z7d.onError=function(u9d){v7d.reject("Token service request error");};Z7d.request();};var y04=function(){};O1J["com.turner.top.sdk.common.auth.Exports"]=y04;y04.__name__=["com","turner","top","sdk","common","auth","Exports"];var E04=function(){};O1J["com.turner.top.sdk.common.closedcaptions.SettingsExports"]=E04;E04.__name__=["com","turner","top","sdk","common","closedcaptions","SettingsExports"];var I04=function(){};O1J["com.turner.top.sdk.common.closedcaptions.Exports"]=I04;I04.__name__=["com","turner","top","sdk","common","closedcaptions","Exports"];var D6J=O1J["com.turner.top.sdk.common.closedcaptions.decoders.CCDecoderEvent"]={__ename__:["com","turner","top","sdk","common","closedcaptions","decoders","CCDecoderEvent"],__constructs__:["Start","Ready","Change_Track","Show_Track","Disable"]};D6J.Start=["Start",0];D6J.Start.toString=H1J;D6J.Start.__enum__=D6J;D6J.Ready=["Ready",1];D6J.Ready.toString=H1J;D6J.Ready.__enum__=D6J;D6J.Change_Track=["Change_Track",2];D6J.Change_Track.toString=H1J;D6J.Change_Track.__enum__=D6J;D6J.Show_Track=["Show_Track",3];D6J.Show_Track.toString=H1J;D6J.Show_Track.__enum__=D6J;D6J.Disable=["Disable",4];D6J.Disable.toString=H1J;D6J.Disable.__enum__=D6J;D6J.__empty_constructs__=[D6J.Start,D6J.Ready,D6J.Change_Track,D6J.Show_Track,D6J.Disable];var j04=function(){};O1J["com.turner.top.sdk.common.closedcaptions.decoders.Exports"]=j04;j04.__name__=["com","turner","top","sdk","common","closedcaptions","decoders","Exports"];var v5J=function(){G4J.call(this,[this.stateChanged=new W5J(),this.trackSelected=new z5J(),this.settingsUpdated=new S5J(),this.error=new e5J()]);};O1J["com.turner.top.sdk.common.closedcaptions.decoders.events.CCDecoderEvents"]=v5J;v5J.__name__=["com","turner","top","sdk","common","closedcaptions","decoders","events","CCDecoderEvents"];v5J.__super__=G4J;v5J.prototype=v1J(G4J.prototype,{stateChanged:null,trackSelected:null,settingsUpdated:null,error:null,__class__:v5J});var W9J=function(){u4J.call(this);};O1J["com.turner.top.sdk.common.closedcaptions.events.CCEventResult"]=W9J;W9J.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCEventResult"];W9J.__super__=u4J;W9J.prototype=v1J(u4J.prototype,{__class__:W9J});var L3J=function(){W9J.call(this);};O1J["com.turner.top.sdk.common.closedcaptions.events.CCProviderResult"]=L3J;L3J.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCProviderResult"];L3J.__super__=W9J;L3J.prototype=v1J(W9J.prototype,{__class__:L3J});var A2J=function(){W9J.call(this);};O1J["com.turner.top.sdk.common.closedcaptions.events.CCDecoderResult"]=A2J;A2J.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCDecoderResult"];A2J.__super__=W9J;A2J.prototype=v1J(W9J.prototype,{__class__:A2J});var V5J=function(X9d,h9d){L3J.call(this);this.track=X9d;this.added=h9d;};O1J["com.turner.top.sdk.common.closedcaptions.events.CCTrackAvailabilityChangedResult"]=V5J;V5J.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCTrackAvailabilityChangedResult"];V5J.__super__=L3J;V5J.prototype=v1J(L3J.prototype,{track:null,added:null,__class__:V5J});var j6y=function(f9d,D9d){A2J.call(this);this.previousState=f9d;this.currentState=D9d;};O1J["com.turner.top.sdk.common.closedcaptions.events.CCDecoderStateChangedResult"]=j6y;j6y.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCDecoderStateChangedResult"];j6y.__super__=A2J;j6y.prototype=v1J(A2J.prototype,{previousState:null,currentState:null,__class__:j6y});var p5J=function(C9d){A2J.call(this);this.track=C9d;};O1J["com.turner.top.sdk.common.closedcaptions.events.CCTrackSelectedResult"]=p5J;p5J.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCTrackSelectedResult"];p5J.__super__=A2J;p5J.prototype=v1J(A2J.prototype,{track:null,__class__:p5J});var Z5J=function(w9d){A2J.call(this);this.settings=w9d;};O1J["com.turner.top.sdk.common.closedcaptions.events.CCSettingsUpdatedResult"]=Z5J;Z5J.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCSettingsUpdatedResult"];Z5J.__super__=A2J;Z5J.prototype=v1J(A2J.prototype,{settings:null,__class__:Z5J});var B3y=function(Y9d){A2J.call(this);this.description=Y9d;};O1J["com.turner.top.sdk.common.closedcaptions.events.CCDecoderErrorResult"]=B3y;B3y.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCDecoderErrorResult"];B3y.__super__=A2J;B3y.prototype=v1J(A2J.prototype,{description:null,__class__:B3y});var B5J=function(){V1J.call(this,F6J.Track_Availability_Changed);};O1J["com.turner.top.sdk.common.closedcaptions.events.CCTrackAvailabilityChangedEvent"]=B5J;B5J.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCTrackAvailabilityChangedEvent"];B5J.__super__=V1J;B5J.prototype=v1J(V1J.prototype,{__class__:B5J});var W5J=function(){V1J.call(this,F6J.State_Changed);};O1J["com.turner.top.sdk.common.closedcaptions.events.CCStateChangedEvent"]=W5J;W5J.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCStateChangedEvent"];W5J.__super__=V1J;W5J.prototype=v1J(V1J.prototype,{__class__:W5J});var z5J=function(){V1J.call(this,F6J.Track_Selected);};O1J["com.turner.top.sdk.common.closedcaptions.events.CCTrackSelectedEvent"]=z5J;z5J.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCTrackSelectedEvent"];z5J.__super__=V1J;z5J.prototype=v1J(V1J.prototype,{__class__:z5J});var S5J=function(){V1J.call(this,F6J.Settings_Updated);};O1J["com.turner.top.sdk.common.closedcaptions.events.CCSettingsUpdatedEvent"]=S5J;S5J.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCSettingsUpdatedEvent"];S5J.__super__=V1J;S5J.prototype=v1J(V1J.prototype,{__class__:S5J});var e5J=function(){V1J.call(this,F6J.Error);};O1J["com.turner.top.sdk.common.closedcaptions.events.CCErrorEvent"]=e5J;e5J.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCErrorEvent"];e5J.__super__=V1J;e5J.prototype=v1J(V1J.prototype,{__class__:e5J});var w7y=function(){G4J.call(this,[this.trackAvailabilityChanged=new B5J(),this.stateChanged=new W5J(),this.trackSelected=new z5J(),this.settingsUpdated=new S5J(),this.error=new e5J()]);};O1J["com.turner.top.sdk.common.closedcaptions.events.CCEvents"]=w7y;w7y.__name__=["com","turner","top","sdk","common","closedcaptions","events","CCEvents"];w7y.__super__=G4J;w7y.prototype=v1J(G4J.prototype,{trackAvailabilityChanged:null,stateChanged:null,trackSelected:null,settingsUpdated:null,error:null,__class__:w7y});var n5J=function(){G4J.call(this,[this.trackAvailabilityChanged=new B5J()]);};O1J["com.turner.top.sdk.common.closedcaptions.providers.events.CCProviderEvents"]=n5J;n5J.__name__=["com","turner","top","sdk","common","closedcaptions","providers","events","CCProviderEvents"];n5J.__super__=G4J;n5J.prototype=v1J(G4J.prototype,{trackAvailabilityChanged:null,__class__:n5J});var b3J=function(){};O1J["com.turner.top.sdk.common.cms.CmsDefaults"]=b3J;b3J.__name__=["com","turner","top","sdk","common","cms","CmsDefaults"];b3J.contentEntryData=function(){return{id:null,metadata:{},files:[],validators:{},isLive:false,segments:[],captions:{enabled:true,sources:[]}};};b3J.contentEntryFileData=function(){return{url:null,key:null,type:"unknown",deliveryType:"unknown"};};b3J.contentEntryCaptionSource=function(){return{type:null,format:null,platform:null,tracks:[]};};var n3y=function(){};O1J["com.turner.top.sdk.common.cms.managers.ICmsManager"]=n3y;n3y.__name__=["com","turner","top","sdk","common","cms","managers","ICmsManager"];n3y.prototype={init:null,load:null,__class__:n3y};var F8J=function(){this._taskMap=new b4J();this._providerMap=new b4J();};O1J["com.turner.top.sdk.common.cms.managers.CmsManager"]=F8J;F8J.__name__=["com","turner","top","sdk","common","cms","managers","CmsManager"];F8J.__interfaces__=[n3y];F8J.prototype={_taskMap:null,_providerMap:null,registerProviders:function(c9d){this._providerMap=c9d;},createDefaultProviders:function(){return W4J.defaultProviderMap();},resolveEntry:function(o9d,t9d){F8J._logger.debug("[resolveEntry] resolving for data: "+i1J.toDebugStr(o9d)+" | config: "+d1J.string(t9d));var F9d=new M8J();F9d.init(this._providerMap,t9d,o9d);var R9d=F9d.load();var l9d=this._taskMap;var U9d=R9d.id();var q9d=l9d;if(E1J[U9d]!=null){q9d.setReserved(U9d,F9d);}else{q9d.h[U9d]=F9d;}this.addTaskHandlers(R9d);return R9d;},addTaskHandlers:function(G9d){var m9d=p1J(this,this.onTaskCompleted);var K9d=G9d;G9d.onResolved(function(N9d){m9d(K9d,N9d);});},onTaskCompleted:function(g9d,M9d){var P9d=this._taskMap;var a9d=g9d.id();var b9d=P9d;if(E1J[a9d]!=null?b9d.existsReserved(a9d):b9d.h.hasOwnProperty(a9d)){F8J._logger.debug("[onTaskCompleted] result: "+i1J.toDebugStr(M9d));this._taskMap.remove(g9d.id());}},init:function(L9d){if(L9d==null){L9d=this.createDefaultProviders();}this.registerProviders(L9d);return this;},load:function(x9d,O9d){return this.resolveEntry(x9d,O9d);},__class__:F8J};var I3y=function(){};O1J["com.turner.top.sdk.common.cms.models.playlist.IContentEntry"]=I3y;I3y.__name__=["com","turner","top","sdk","common","cms","models","playlist","IContentEntry"];I3y.prototype={_id:null,_metadata:null,_files:null,_isLive:null,_trt:null,_captionsEnabled:null,_captions:null,_authType:null,_validators:null,_segments:null,init:null,toData:null,id:null,metadata:null,files:null,isLive:null,trt:null,captionsEnabled:null,captions:null,authType:null,validators:null,segments:null,__class__:I3y};var N3J=function(){};O1J["com.turner.top.sdk.common.cms.models.playlist.ContentEntry"]=N3J;N3J.__name__=["com","turner","top","sdk","common","cms","models","playlist","ContentEntry"];N3J.__interfaces__=[I3y];N3J.prototype={_id:null,_metadata:null,_files:null,_isLive:null,_trt:null,_captionsEnabled:null,_captions:null,_authType:null,_validators:null,_segments:null,_entryData:null,doInit:function(H9d){this._entryData=H9d;var v9d;if(this._entryData.id==null){var d9d=[];var V9d=0;while(V9d<32){var T9d=V9d++;if(T9d==8||T9d==12||T9d==16||T9d==20){d9d.push("-");}d9d.push(C6J.hex(Math.floor(Math.random()*16)));}v9d="contentEntry-"+d9d.join("").toUpperCase();}else{v9d=this._entryData.id;}this._id=v9d;this._metadata=H9d.metadata;this._files=H9d.files;this._isLive=H9d.isLive;this._trt=H9d.trt;this._validators=H9d.validators;this._captionsEnabled=H9d.captions.enabled;this._captions=this.createTracksFromCaptionConfig(H9d.captions.sources);this._authType=H9d.auth!=null?H9d.auth.type:null;var p9d=function(Z9d,B9d){if(Z9d.start==B9d.start){return 0;}else if(Z9d.start>B9d.start){return 1;}else{return-1;}};V6J.sort(H9d.segments,p9d);this._segments=H9d.segments;},createTracksFromCaptionConfig:function(S9d){S9d=S9d.filter(function(k9d){return true;});var Q9d=function(i9d){switch(i9d){case"608":return q6J.CEA_608;case"708":return q6J.CEA_708;case"webvtt":return q6J.WebVTT;default:return q6J.Unknown;}};var j9d=function(I9d){switch(I9d){case"cc1":return u6J.CC1;case"cc2":return u6J.CC2;case"cc3":return u6J.CC3;case"cc4":return u6J.CC4;default:return u6J.Unknown;}};var A9d=function(E9d){if(E9d=="en"){return W2J.English;}else{return W2J.Unknown;}};var J9d=[];var e9d=0;while(e9d<S9d.length){var n9d=S9d[e9d];++e9d;var z9d=0;var s9d=n9d.tracks;while(z9d<s9d.length){var W9d=s9d[z9d];++z9d;J9d.push(new a3J(Q9d(n9d.format),j9d(W9d.channel),A9d(W9d.lang),W9d.label));}}return J9d;},init:function(y9d){this.doInit(y9d);return this;},toData:function(){return i1J.extendDeep({},this._entryData);},id:function(){return this._id;},metadata:function(){return this._metadata;},files:function(){return this._files;},isLive:function(){return this._isLive;},trt:function(){return this._trt;},captionsEnabled:function(){return this._captionsEnabled;},captions:function(){return this._captions;},authType:function(){return this._authType;},validators:function(){return this._validators;},segments:function(){return this._segments;},__class__:N3J};var R5y=function(){};O1J["com.turner.top.sdk.common.cms.models.playlist.IPlaylistItem"]=R5y;R5y.__name__=["com","turner","top","sdk","common","cms","models","playlist","IPlaylistItem"];R5y.prototype={_id:null,_contentEntry:null,_options:null,contentId:null,contentMetadata:null,contentFiles:null,contentIsLive:null,contentTrt:null,contentCaptionsEnabled:null,contentValidators:null,contentCaptions:null,contentAuthType:null,contentSegments:null,contentToData:null,init:null,id:null,contentEntry:null,options:null,__class__:R5y};var K3J=function(){};O1J["com.turner.top.sdk.common.cms.models.playlist.PlaylistItem"]=K3J;K3J.__name__=["com","turner","top","sdk","common","cms","models","playlist","PlaylistItem"];K3J.__interfaces__=[R5y];K3J.prototype={_id:null,_contentEntry:null,_options:null,_itemData:null,doInit:function(f8d){this._itemData=f8d;var X8d;if(this._itemData.id==null){var u8d=[];var h8d=0;while(h8d<32){var r9d=h8d++;if(r9d==8||r9d==12||r9d==16||r9d==20){u8d.push("-");}u8d.push(C6J.hex(Math.floor(Math.random()*16)));}X8d="item-"+u8d.join("").toUpperCase();}else{X8d=this._itemData.id;}this._id=X8d;this._contentEntry=new N3J().init(this._itemData.contentEntryData);this._options=this._itemData.options==null?{}:this._itemData.options;},init:function(D8d){this.doInit(D8d);return this;},id:function(){return this._id;},contentEntry:function(){return this._contentEntry;},options:function(){return this._options;},contentToData:function(){return this._contentEntry.toData();},contentId:function(){return this._contentEntry.id();},contentMetadata:function(){return this._contentEntry.metadata();},contentFiles:function(){return this._contentEntry.files();},contentIsLive:function(){return this._contentEntry.isLive();},contentTrt:function(){return this._contentEntry.trt();},contentCaptionsEnabled:function(){return this._contentEntry.captionsEnabled();},contentCaptions:function(){return this._contentEntry.captions();},contentAuthType:function(){return this._contentEntry.authType();},contentValidators:function(){return this._contentEntry.validators();},contentSegments:function(){return this._contentEntry.segments();},__class__:K3J};var W4J=function(){};O1J["com.turner.top.sdk.common.cms.providers.CmsProviderDefaults"]=W4J;W4J.__name__=["com","turner","top","sdk","common","cms","providers","CmsProviderDefaults"];W4J._http=null;W4J.normalizeProtocol=function(w8d){var C8d=new RegExp("^(https?:)?(.+)","".split("u").join(""));return w8d.replace(C8d,"$2");};W4J.defaultProviderMap=function(){var Y8d=new b4J();var c8d="top.cms.provider.url";var U8d=W4J.urlProvider;if(E1J[c8d]!=null){Y8d.setReserved(c8d,U8d);}else{Y8d.h[c8d]=U8d;}var F8d="top.cms.provider.mediaJson";var q8d=W4J.mediaJsonProvider;if(E1J[F8d]!=null){Y8d.setReserved(F8d,q8d);}else{Y8d.h[F8d]=q8d;}var R8d="top.cms.provider.contentXml";var o8d=W4J.contentXmlProvider;if(E1J[R8d]!=null){Y8d.setReserved(R8d,o8d);}else{Y8d.h[R8d]=o8d;}return Y8d;};W4J.urlProvider=function(t8d,l8d){W4J._loggerCms.debug("[urlProvider] data: "+d1J.string(t8d));l8d.resolve(p7J.create().addFile({url:t8d.playData}).build());};W4J.contentXmlProvider=function(K8d,m8d){W4J._loggerCms.debug("[contentXmlProvider] data: "+i1J.toDebugStr(K8d));var N8d=K8d.providerConfig;var G8d=i1J.extendDeepWith({parseC5asC4:true,selectFile:function(a8d){return true;}},[N8d==null?{}:N8d,K8d.playData]);W4J._loggerCms.debug("[contentXmlProvider] appliedPlayData: "+i1J.toDebugStr(G8d));if(!Object.prototype.hasOwnProperty.call(G8d,"url")){m8d.reject("\"url\" is required on the content xml provider");return;}if(W4J._http!=null){W4J._http.cancel();}W4J._http=new r7J(G8d.url);W4J._loggerCms.debug("[contentXmlProvider] url: "+W4J._http.url);W4J._http.onData=function(F3d){var b8d=null;try{var x8d=y1J.parse(F3d).firstElement();if(x8d.nodeType!=y1J.Document&&x8d.nodeType!=y1J.Element){throw new j1J("Invalid nodeType "+x8d.nodeType);}var D3d=x8d;b8d=D3d;}catch(R3d){if(R3d instanceof j1J)R3d=R3d.val;m8d.reject("Unable to parse content.xml: "+d1J.string(R3d));return;}W4J._loggerCms.verbose("[contentXmlProvider] result: "+d1J.string(b8d));if(!j6J.resolve(b8d,"files")){m8d.reject("\"files\" node required for content.xml");return;}var O8d=u2J.resolve(b8d,"files");var c3d=!Object.prototype.hasOwnProperty.call(G8d,"metadata")?{}:Z1J.field(G8d,"metadata");var k8d=i1J.extend({},c3d);var g8d=p7J.create();var z8d=function(t3d){var q3d=0;while(q3d<t3d.length){var U3d=t3d[q3d];++q3d;var o3d={url:W4J.normalizeProtocol(g3J.get_innerData(U3d)),key:q7J.resolve(U3d,"key")?h2J.resolve(U3d,"key"):q7J.resolve(U3d,"bitrate")?h2J.resolve(U3d,"bitrate"):null};if(G8d.selectFile(o3d)){g8d.addFile(o3d);}}};if(j6J.resolve(O8d,"groupFiles")){var v8d=0;var n8d=m8J.resolve(O8d,"groupFiles");while(v8d<n8d.length){var H8d=n8d[v8d];++v8d;if(q7J.resolve(H8d,"type")&&h2J.resolve(H8d,"type")=="hls"){z8d(m8J.resolve(H8d,"file"));}}}if(j6J.resolve(O8d,"file")){z8d(m8J.resolve(O8d,"file"));}if(q7J.resolve(b8d,"id")){var Y3d=h2J.resolve(b8d,"id");g8d.withId(Y3d);k8d.id=h2J.resolve(b8d,"id");}if(j6J.resolve(b8d,"isLive")){var w3d=g3J.get_innerData(u2J.resolve(b8d,"isLive"))=="true";g8d.isLive(w3d);}if(j6J.resolve(b8d,"trt")){var C3d=parseFloat(g3J.get_innerData(u2J.resolve(b8d,"trt")));g8d.withTrt(C3d);}if(j6J.resolve(b8d,"closedCaptions")&&j6J.resolve(u2J.resolve(b8d,"closedCaptions"),"source")){var d8d=0;var S8d=m8J.resolve(u2J.resolve(b8d,"closedCaptions"),"source");while(d8d<S8d.length){var P8d=S8d[d8d];++d8d;if(j6J.resolve(P8d,"track")){var V8d=0;var s8d=m8J.resolve(P8d,"track");while(V8d<s8d.length){var M8d=s8d[V8d];++V8d;if(q7J.resolve(P8d,"type")&&h2J.resolve(P8d,"type")=="embedded"&&q7J.resolve(P8d,"format")&&h2J.resolve(P8d,"format")!="webvtt"){var X3d=q7J.resolve(P8d,"format")?h2J.resolve(P8d,"format"):null;var r8d=q7J.resolve(P8d,"platform")?h2J.resolve(P8d,"platform"):null;var y8d=q7J.resolve(M8d,"channel")?h2J.resolve(M8d,"channel"):null;var f3d=q7J.resolve(M8d,"lang")?h2J.resolve(M8d,"lang"):null;var E8d=q7J.resolve(M8d,"label")?h2J.resolve(M8d,"label"):null;g8d.addCaptionTrackEmbedded({format:X3d,platform:r8d,channel:y8d,lang:f3d,label:E8d});}}}}}var L8d=function(G3d){var l3d=G3d.split(":").map(function(m3d){return parseFloat(m3d);});return(!Object.prototype.hasOwnProperty.call(l3d,0)?0:Z1J.field(l3d,0))*3600+(!Object.prototype.hasOwnProperty.call(l3d,1)?0:Z1J.field(l3d,1))*60+(!Object.prototype.hasOwnProperty.call(l3d,2)?0:Z1J.field(l3d,2));};if(j6J.resolve(b8d,"segments")&&j6J.resolve(u2J.resolve(b8d,"segments"),"segment")){var Z8d=0;var Q8d=m8J.resolve(u2J.resolve(b8d,"segments"),"segment");while(Z8d<Q8d.length){var j8d=Q8d[Z8d];++Z8d;var u3d=h2J.resolve(u2J.resolve(j8d,"start"),"time");var A8d=L8d(u3d);var h3d=h2J.resolve(u2J.resolve(j8d,"end"),"time");var I8d=L8d(h3d);g8d.addSegment({start:A8d,duration:I8d-A8d});}}else if(j6J.resolve(b8d,"adBlocks")&&j6J.resolve(u2J.resolve(b8d,"adBlocks"),"adBlock")){if(!G8d.parseC5asC4){m8d.reject("Unsupported C5 parsing mode");}var p8d=null;var W8d=function(b3d,g3d){var K3d;if(b3d!=null){var P3d=h2J.resolve(u2J.resolve(b3d,"end"),"time");K3d=L8d(P3d);}else{K3d=0;}var N3d;if(g3d!=null){var M3d=h2J.resolve(u2J.resolve(g3d,"start"),"time");N3d=L8d(M3d);}else{N3d=g8d.build().trt;}var a3d=N3d-K3d;g8d.addSegment({start:K3d,duration:a3d});return a3d;};var T8d=0;var B8d=0;var J8d=m8J.resolve(u2J.resolve(b8d,"adBlocks"),"adBlock");while(B8d<J8d.length){var i8d=J8d[B8d];++B8d;T8d+=W8d(p8d,i8d);p8d=i8d;}T8d+=W8d(p8d,null);g8d.withTrt(T8d);}if(j6J.resolve(b8d,"auth")&&j6J.resolve(u2J.resolve(b8d,"auth"),"akamaiSpe")||j6J.resolve(b8d,"akamai")&&j6J.resolve(u2J.resolve(b8d,"akamai"),"authTokenType")){g8d.requireAuth(m3J.Spe);}g8d.withMetadata(k8d);var e8d=g8d.build();W4J._loggerCms.debug("[contentXmlProvider] content entry data: "+d1J.string(e8d));m8d.resolve(e8d);};W4J._http.onError=function(L3d){m8d.reject(""+L3d);};W4J._http.request();};W4J.mediaJsonProvider=function(Z3d,H3d){W4J._loggerCms.debug("[mediaJsonProvider] data: "+i1J.toDebugStr(Z3d));var S3d=Z3d.providerConfig;var x3d=i1J.extendDeepWith({host:"//medium.ngtv.io/media",platform:"desktop",serviceUrl:"{host}/{mediaId}/{platform}"},[S3d==null?{}:S3d,Z3d.playData]);W4J._loggerCms.debug("[mediaJsonProvider] appliedPlayData: "+i1J.toDebugStr(x3d));var z3d;if(x3d.mediaTypes!=null){var B3d=x3d.mediaTypes;z3d=!(B3d instanceof Array&&B3d.__enum__==null);}else{z3d=true;}if(z3d){x3d.mediaTypes=["bulkaes","unprotected"];}if(!Object.prototype.hasOwnProperty.call(x3d,"mediaId")){H3d.reject("\"mediaId\" is required on the media json provider");return;}if(W4J._http!=null){W4J._http.cancel();}var d3d=x3d.serviceUrl;var O3d=new b4J();var n3d=x3d.host;if(E1J["host"]!=null){O3d.setReserved("host",n3d);}else{O3d.h["host"]=n3d;}var p3d=x3d.mediaId;if(E1J["mediaId"]!=null){O3d.setReserved("mediaId",p3d);}else{O3d.h["mediaId"]=p3d;}var W3d=x3d.platform;if(E1J["platform"]!=null){O3d.setReserved("platform",W3d);}else{O3d.h["platform"]=W3d;}var v3d=O3d;var V3d=null;V3d=i1J.extend({pattern:"\\{token\\}"},V3d);var e3d=v3d.keys();while(e3d.hasNext()){var T3d=e3d.next();var J3d=new RegExp(V3d.pattern.split("token").join(T3d),"g".split("u").join(""));var s3d=E1J[T3d]!=null?v3d.getReserved(T3d):v3d.h[T3d];d3d=d3d.replace(J3d,s3d);}W4J._http=new r7J(d3d);if(x3d.appId!=null){W4J._http.addParameter("appId",x3d.appId);}W4J._loggerCms.debug("[mediaJsonProvider] url: "+W4J._http.url);W4J._http.onData=function(m5d){var j3d=null;try{j3d=JSON.parse(m5d);}catch(K5d){if(K5d instanceof j1J)K5d=K5d.val;H3d.reject("Unable to parse media.json: "+d1J.string(K5d));return;}if(Object.prototype.hasOwnProperty.call(j3d,"error")){H3d.reject(""+d1J.string(j3d.error.error)+" - error code #"+d1J.string(j3d.error.code));return;}var Y5d=j3d.media;var X5d=x3d.platform;var C5d=!Object.prototype.hasOwnProperty.call(Y5d,X5d)?{}:Z1J.field(Y5d,X5d);var k3d=null;var i3d=0;var q5d=x3d.mediaTypes;while(i3d<q5d.length){var u5d=q5d[i3d];++i3d;if(Object.prototype.hasOwnProperty.call(C5d,u5d)){k3d=u5d;break;}}if(k3d==null){H3d.reject("unable to find configured mediaTypes "+d1J.string(x3d.mediaTypes));return;}var A3d=Z1J.field(C5d,k3d);var G5d=W4J.normalizeProtocol(A3d.url);var f5d=A3d.captions;var l5d=i1J.extend({mediaId:x3d.mediaId},!Object.prototype.hasOwnProperty.call(x3d,"metadata")?{}:Z1J.field(x3d,"metadata"));var Q3d=p7J.create().withId(j3d.mediaId).withMetadata(l5d).addFile({url:G5d}).isLive(j3d.type=="live");var E3d=0;while(E3d<f5d.length){var y3d=f5d[E3d];++E3d;Q3d.addCaptionTrackEmbedded({format:y3d.type,platform:x3d.platform,channel:y3d.location,lang:y3d.language});}if(Object.prototype.hasOwnProperty.call(A3d,"playlistProtection")){var c5d=W4J.AuthTokenTypes;var F5d=A3d.playlistProtection;var R5d=!Object.prototype.hasOwnProperty.call(c5d,F5d)?null:Z1J.field(c5d,F5d);if(R5d!=null){Q3d.requireAuth(R5d);}else{W4J._logger.warn("[mediaJsonProvider] unsupported playlistProtection type: "+d1J.string(A3d.playlistProtection));}}if(Object.prototype.hasOwnProperty.call(A3d,"contentSegments")&&A3d.contentSegments!=null){var U5d=A3d.contentSegments;var r3d=0;while(r3d<U5d.length){var t5d=U5d[r3d];++r3d;Q3d.addSegment(t5d);}}if(Object.prototype.hasOwnProperty.call(A3d,"totalRuntime")){Q3d.withTrt(A3d.totalRuntime);}if(Object.prototype.hasOwnProperty.call(j3d,"validation")){var o5d=j3d.validation;var I3d=0;var D5d=Z1J.fields(o5d);while(I3d<D5d.length){var h5d=D5d[I3d];++I3d;Q3d.addValidator(h5d,Z1J.field(o5d,h5d));}}var w5d=Q3d.build();W4J._loggerCms.debug("[mediaJsonProvider] content entry data: "+d1J.string(w5d));H3d.resolve(w5d);};W4J._http.onError=function(N5d){H3d.reject(""+N5d);};W4J._http.request();};var J9y=function(a5d,b5d){K2J.call(this,b5d);this._taskHandler=a5d;};O1J["com.turner.top.sdk.common.cms.providers.CmsProviderTask"]=J9y;J9y.__name__=["com","turner","top","sdk","common","cms","providers","CmsProviderTask"];J9y.__super__=K2J;J9y.prototype=v1J(K2J.prototype,{_taskHandler:null,doExecute:function(g5d){this._taskHandler(g5d,this.createResolver());},__class__:J9y});var t5y=function(){};O1J["com.turner.top.sdk.common.cms.resolvers.ICmsEntryResolver"]=t5y;t5y.__name__=["com","turner","top","sdk","common","cms","resolvers","ICmsEntryResolver"];t5y.prototype={init:null,load:null,__class__:t5y};var M8J=function(){this._providerMap=new b4J();};O1J["com.turner.top.sdk.common.cms.resolvers.CmsEntryResolver"]=M8J;M8J.__name__=["com","turner","top","sdk","common","cms","resolvers","CmsEntryResolver"];M8J.__interfaces__=[t5y];M8J.prototype={_providerMap:null,_config:null,_playData:null,_task:null,_resolver:null,_providerTask:null,createTask:function(){this._task=new Q9y(p1J(this,this.onTaskExecuted));},executeTask:function(){this._task.execute();},onTaskExecuted:function(P5d){this._resolver=P5d;this.nextProvider();},fireSuccess:function(M5d){this._resolver.resolve(M5d);},fireError:function(L5d){this._resolver.reject(L5d);},nextProvider:function(){if(this.needsResolution()){this._providerTask=this.createProviderTask();if(this._providerTask!=null){this.executeProviderTask();}else{this.fireError("Unable to find provider for "+i1J.toDebugStr(this._playData));}}else{var x5d=this.normalizePlayData(this._playData);if(this.isValidResult(x5d)){this.fireSuccess(x5d);}else{this.fireError("Invalid content entry result: "+i1J.toDebugStr(x5d));}}},needsResolution:function(){var H5d=this._playData;if(typeof H5d=="string"){return true;}else{var O5d=this._playData;if(U4J["typeof"](O5d)==R4J.TObject&&!S1J.__instanceof(O5d,H6J)&&!S1J.__instanceof(O5d,M6J)){return Object.prototype.hasOwnProperty.call(this._playData,"providerType");}else{return false;}}},createProviderTask:function(){var T5d=this.getProviderForData();if(T5d!=null){return new J9y(T5d);}else{return null;}},getProviderForData:function(){var d5d;var Z5d=this._playData;if(typeof Z5d=="string"){d5d="top.cms.provider.url";}else{var v5d=this._playData;d5d=!Object.prototype.hasOwnProperty.call(v5d,"providerType")?null:Z1J.field(v5d,"providerType");}M8J._logger.debug("[getProviderForData] using '"+d5d+"' to resolve data: "+this._playData);var V5d=this._providerMap;if(E1J[d5d]!=null?V5d.existsReserved(d5d):V5d.h.hasOwnProperty(d5d)){var p5d=this._providerMap;if(E1J[d5d]!=null){return p5d.getReserved(d5d);}else{return p5d.h[d5d];}}else{return null;}},executeProviderTask:function(){var B5d=this;var n5d=this._providerTask;var s5d=this._playData;var W5d=this._config;var z5d=!Object.prototype.hasOwnProperty.call(W5d,"providers")?{}:Z1J.field(W5d,"providers");var S5d=this._playData;var e5d=!Object.prototype.hasOwnProperty.call(S5d,"providerType")?null:Z1J.field(S5d,"providerType");n5d.execute({playData:s5d,providerConfig:!Object.prototype.hasOwnProperty.call(z5d,e5d)?{}:Z1J.field(z5d,e5d)}).onResolved(function(J5d){B5d._playData=J5d;B5d.nextProvider();return;}).onRejected(function(A5d){B5d.fireError(A5d);return;});},isValidResult:function(j5d){if(U4J["typeof"](j5d)==R4J.TObject&&!S1J.__instanceof(j5d,H6J)&&!S1J.__instanceof(j5d,M6J)){if(Object.prototype.hasOwnProperty.call(j5d,"files")){return j5d.files.length>0;}else{return false;}}else{return false;}},normalizePlayData:function(Q5d){Q5d=i1J.extendDeep({},Q5d);var r5d=!Object.prototype.hasOwnProperty.call(Q5d,"url")?null:Z1J.field(Q5d,"url");Z1J.deleteField(Q5d,"url");var E5d=r5d;var i5d=i1J.extendDeep(p7J.create().build(),Q5d);if(E5d!=null){i5d.files.push({url:E5d});}var I5d=0;var y5d=i5d.files;while(I5d<y5d.length){var k5d=y5d[I5d];++I5d;k5d.type=this.getMediaFileType(k5d.url);k5d.deliveryType=this.getMediaDeliveryType(k5d.type);}return i5d;},getMediaFileType:function(C0c){var u0c=C0c;var h0c;if(u0c==null){h0c=null;}else{var X0c=u0c;if(X0c==null){u0c=null;}else{var f0c=X0c.indexOf("?");if(f0c==-1){u0c=X0c;}else{X0c=Y4J.substr(X0c,0,f0c);u0c=X0c;}}var D0c=u0c.substring(u0c.lastIndexOf(".")+1,u0c.length);h0c=D0c;}switch(h0c){case"m3u8":return"m3u8";case"mp4":return"mp4";default:return"unknown";}},getMediaDeliveryType:function(w0c){switch(w0c){case"m3u8":return"streaming";case"mp4":return"progressive";default:return"unknown";}},init:function(Y0c,c0c,F0c){this._providerMap=Y0c;this._config=c0c;this._playData=F0c;this.createTask();return this;},load:function(){this.executeTask();return this._task;},__class__:M8J};var Q9y=function(R0c,U0c){N2J.call(this,U0c);this._taskHandler=R0c;};O1J["com.turner.top.sdk.common.cms.resolvers.CmsEntryResolverTask"]=Q9y;Q9y.__name__=["com","turner","top","sdk","common","cms","resolvers","CmsEntryResolverTask"];Q9y.__super__=N2J;Q9y.prototype=v1J(N2J.prototype,{_taskHandler:null,doExecute:function(){this._taskHandler(this.createResolver());},__class__:Q9y});var k9y=function(q0c){this.id=q0c.id;this.config=q0c;this.type=q0c.type;this.subType=q0c.subType;this.events=null;this.source=q0c.source;this.options=q0c.options;this.data=q0c.data;this.transforms=q0c.transforms;this.triggers=q0c.triggers;this.behaviors=q0c.behaviors;this.actions=q0c.actions;this.retriggers=q0c.retriggers;this.setState(n4J.Pending);};O1J["com.turner.top.sdk.common.cues.Cue"]=k9y;k9y.__name__=["com","turner","top","sdk","common","cues","Cue"];k9y.prototype={config:null,id:null,state:null,type:null,subType:null,events:null,source:null,options:null,data:null,transforms:null,triggers:null,behaviors:null,actions:null,retriggers:null,setState:function(o0c){this.state=o0c;},setEvents:function(t0c){this.events=t0c;},toConfig:function(){return this.config;},toString:function(){var N0c=this.type[0];var l0c=Z1J.fields(this.data);var a0c=function(b0c,g0c){if(b0c==g0c){return 0;}else if(b0c>g0c){return 1;}else{return-1;}};V6J.sort(l0c,a0c);var m0c="";var G0c=0;while(G0c<l0c.length){var K0c=l0c[G0c];++G0c;m0c+=""+K0c+": "+d1J.string(Z1J.field(this.data,K0c))+" |";}return"[Cue] "+N0c+" | "+m0c;},__class__:k9y};var d6J=O1J["com.turner.top.sdk.common.cues.CueSource"]={__ename__:["com","turner","top","sdk","common","cues","CueSource"],__constructs__:["Manifest","Stream","External","Unknown"]};d6J.Manifest=["Manifest",0];d6J.Manifest.toString=H1J;d6J.Manifest.__enum__=d6J;d6J.Stream=["Stream",1];d6J.Stream.toString=H1J;d6J.Stream.__enum__=d6J;d6J.External=["External",2];d6J.External.toString=H1J;d6J.External.__enum__=d6J;d6J.Unknown=["Unknown",3];d6J.Unknown.toString=H1J;d6J.Unknown.__enum__=d6J;d6J.__empty_constructs__=[d6J.Manifest,d6J.Stream,d6J.External,d6J.Unknown];var n4J=O1J["com.turner.top.sdk.common.cues.CueState"]={__ename__:["com","turner","top","sdk","common","cues","CueState"],__constructs__:["Pending","Processed","Listening","Triggered","Activated","Completed","Error"]};n4J.Pending=["Pending",0];n4J.Pending.toString=H1J;n4J.Pending.__enum__=n4J;n4J.Processed=["Processed",1];n4J.Processed.toString=H1J;n4J.Processed.__enum__=n4J;n4J.Listening=["Listening",2];n4J.Listening.toString=H1J;n4J.Listening.__enum__=n4J;n4J.Triggered=["Triggered",3];n4J.Triggered.toString=H1J;n4J.Triggered.__enum__=n4J;n4J.Activated=["Activated",4];n4J.Activated.toString=H1J;n4J.Activated.__enum__=n4J;n4J.Completed=["Completed",5];n4J.Completed.toString=H1J;n4J.Completed.__enum__=n4J;n4J.Error=["Error",6];n4J.Error.toString=H1J;n4J.Error.__enum__=n4J;n4J.__empty_constructs__=[n4J.Pending,n4J.Processed,n4J.Listening,n4J.Triggered,n4J.Activated,n4J.Completed,n4J.Error];var l5y=function(){this.id=null;this.type=P4J.Custom;this.subType="default";this.source=d6J.Unknown;this.options={};this.data={timeReceived:-1};this.transforms=[];this.triggers=[];this.behaviors=[];this.actions=[];this.retriggers=[];};O1J["com.turner.top.sdk.common.cues.CueConfig"]=l5y;l5y.__name__=["com","turner","top","sdk","common","cues","CueConfig"];l5y.prototype={id:null,type:null,subType:null,source:null,options:null,data:null,transforms:null,triggers:null,behaviors:null,actions:null,retriggers:null,__class__:l5y};var i04=function(){};O1J["com.turner.top.sdk.common.cues.Exports"]=i04;i04.__name__=["com","turner","top","sdk","common","cues","Exports"];var X9J=function(){};O1J["com.turner.top.sdk.common.cues.converters.CueConverter"]=X9J;X9J.__name__=["com","turner","top","sdk","common","cues","converters","CueConverter"];X9J.fromJson=function(P0c){var M0c=Y7J.create();if(P0c.type!=null){M0c.withType(X9J.toType(P0c.type));}if(P0c.source!=null){M0c.withSource(X9J.toSource(P0c.source));}if(P0c.data!=null){M0c.withData(X9J.toData(P0c.data));}return M0c.build();};X9J.toNotification=function(L0c){var x0c={id:L0c.id,type:L0c.type,subType:L0c.subType,events:L0c.events,timeReceived:L0c.data.timeReceived,time:L0c.data.time,duration:L0c.data.duration,offset:L0c.data.offset,data:L0c.data.result,raw:L0c.data.content,metadata:L0c.data.metadata};return x0c;};X9J.toType=function(O0c){switch(O0c){case"cueIn":return P4J.Ext_Cue_In;case"cueOut":return P4J.Ext_Cue_Out;case"cueOutCont":return P4J.Ext_Cue_Out_Cont;case"scte":return P4J.SCTE;default:return P4J.Custom;}};X9J.toSource=function(H0c){switch(H0c){case"external":return d6J.External;case"manifest":return d6J.Manifest;case"stream":return d6J.Stream;default:return d6J.Unknown;}};X9J.toData=function(T0c){return T0c;};var n2J=function(d0c){u4J.call(this);this.cue=d0c;};O1J["com.turner.top.sdk.common.cues.events.CueEventResult"]=n2J;n2J.__name__=["com","turner","top","sdk","common","cues","events","CueEventResult"];n2J.__super__=u4J;n2J.prototype=v1J(u4J.prototype,{cue:null,__class__:n2J});var j2J=function(v0c){u4J.call(this);this.cue=v0c;};O1J["com.turner.top.sdk.common.cues.events.CueAPIEventResult"]=j2J;j2J.__name__=["com","turner","top","sdk","common","cues","events","CueAPIEventResult"];j2J.__super__=u4J;j2J.prototype=v1J(u4J.prototype,{cue:null,__class__:j2J});var S8y=function(V0c,p0c,Z0c){n2J.call(this,V0c);this.previousState=p0c;this.currentState=Z0c;};O1J["com.turner.top.sdk.common.cues.events.CueStateChangedResult"]=S8y;S8y.__name__=["com","turner","top","sdk","common","cues","events","CueStateChangedResult"];S8y.__super__=n2J;S8y.prototype=v1J(n2J.prototype,{previousState:null,currentState:null,__class__:S8y});var h1y=function(B0c,W0c,z0c){n2J.call(this,B0c);this.messageType=W0c;this.message=z0c;};O1J["com.turner.top.sdk.common.cues.events.CueMessageDispatchedEventResult"]=h1y;h1y.__name__=["com","turner","top","sdk","common","cues","events","CueMessageDispatchedEventResult"];h1y.__super__=n2J;h1y.prototype=v1J(n2J.prototype,{messageType:null,message:null,__class__:h1y});var f1y=function(S0c,e0c,n0c){j2J.call(this,S0c);this.previousState=e0c;this.currentState=n0c;};O1J["com.turner.top.sdk.common.cues.events.CueStateChangedAPIEventResult"]=f1y;f1y.__name__=["com","turner","top","sdk","common","cues","events","CueStateChangedAPIEventResult"];f1y.__super__=j2J;f1y.prototype=v1J(j2J.prototype,{previousState:null,currentState:null,__class__:f1y});var D1y=function(s0c){j2J.call(this,s0c);};O1J["com.turner.top.sdk.common.cues.events.CueProcessedAPIEventResult"]=D1y;D1y.__name__=["com","turner","top","sdk","common","cues","events","CueProcessedAPIEventResult"];D1y.__super__=j2J;D1y.prototype=v1J(j2J.prototype,{__class__:D1y});var C1y=function(J0c){j2J.call(this,J0c);};O1J["com.turner.top.sdk.common.cues.events.CueActivatedAPIEventResult"]=C1y;C1y.__name__=["com","turner","top","sdk","common","cues","events","CueActivatedAPIEventResult"];C1y.__super__=j2J;C1y.prototype=v1J(j2J.prototype,{__class__:C1y});var w1y=function(A0c,j0c,Q0c){j2J.call(this,A0c);this.messageType=j0c;this.message=Q0c;};O1J["com.turner.top.sdk.common.cues.events.CueMessageDispatchedAPIEventResult"]=w1y;w1y.__name__=["com","turner","top","sdk","common","cues","events","CueMessageDispatchedAPIEventResult"];w1y.__super__=j2J;w1y.prototype=v1J(j2J.prototype,{messageType:null,message:null,__class__:w1y});var Y1y=function(){V1J.call(this,N6J.State_Changed);};O1J["com.turner.top.sdk.common.cues.events.CueStateChangedEvent"]=Y1y;Y1y.__name__=["com","turner","top","sdk","common","cues","events","CueStateChangedEvent"];Y1y.__super__=V1J;Y1y.prototype=v1J(V1J.prototype,{__class__:Y1y});var c1y=function(){V1J.call(this,N6J.Processed);};O1J["com.turner.top.sdk.common.cues.events.CueProcessedEvent"]=c1y;c1y.__name__=["com","turner","top","sdk","common","cues","events","CueProcessedEvent"];c1y.__super__=V1J;c1y.prototype=v1J(V1J.prototype,{__class__:c1y});var F1y=function(){V1J.call(this,N6J.Activated);};O1J["com.turner.top.sdk.common.cues.events.CueActivatedEvent"]=F1y;F1y.__name__=["com","turner","top","sdk","common","cues","events","CueActivatedEvent"];F1y.__super__=V1J;F1y.prototype=v1J(V1J.prototype,{__class__:F1y});var R1y=function(){V1J.call(this,N6J.Message_Dispatched);};O1J["com.turner.top.sdk.common.cues.events.CueMessageDispatchedEvent"]=R1y;R1y.__name__=["com","turner","top","sdk","common","cues","events","CueMessageDispatchedEvent"];R1y.__super__=V1J;R1y.prototype=v1J(V1J.prototype,{__class__:R1y});var j5J=function(){G4J.call(this,[this.stateChanged=new Y1y(),this.processed=new c1y(),this.activated=new F1y(),this.messageDispatched=new R1y()]);};O1J["com.turner.top.sdk.common.cues.events.CueEvents"]=j5J;j5J.__name__=["com","turner","top","sdk","common","cues","events","CueEvents"];j5J.__super__=G4J;j5J.prototype=v1J(G4J.prototype,{stateChanged:null,processed:null,activated:null,messageDispatched:null,__class__:j5J});var M5y=function(){};O1J["com.turner.top.sdk.common.cues.handlers.ICueHandler"]=M5y;M5y.__name__=["com","turner","top","sdk","common","cues","handlers","ICueHandler"];M5y.prototype={cue:null,events:null,init:null,stop:null,__class__:M5y};var x6J=function(){this._logger=I1J.getLogger(S1J.getClass(this)).filter("cues");this._events=new j5J();var k0c=[];var i0c=[];var I0c=[];this._handlerData={data:{timeReceived:0},transforms:k0c,triggers:i0c,actions:I0c,retriggers:[]};};O1J["com.turner.top.sdk.common.cues.handlers.BaseCueHandler"]=x6J;x6J.__name__=["com","turner","top","sdk","common","cues","handlers","BaseCueHandler"];x6J.__interfaces__=[M5y];x6J.prototype={_cue:null,_events:null,_logger:null,_dataSource:null,_handlerData:null,_triggerColl:null,_reTriggerColl:null,doInit:function(y0c,E0c){this._dataSource=y0c;this._cue=E0c;this._handlerData.data=i1J.extend(this._handlerData.data,E0c.data);this._handlerData.transforms=this._cue.transforms;this._handlerData.triggers=this._cue.triggers;this._handlerData.actions=this._cue.actions;this._handlerData.retriggers=this._cue.retriggers;this._handlerData=this.addHandlerDefaults(this._handlerData);this._triggerColl=new F0y(this._handlerData.triggers);this._reTriggerColl=new F0y(this._handlerData.retriggers);this.switchState(n4J.Pending);},doStop:function(){this._logger.debug("[doStop] Stopping handler...");this.removeTriggerListeners();this.removeReTriggerListeners();this._triggerColl.disable();this._reTriggerColl.disable();this.switchState(n4J.Completed);},addHandlerDefaults:function(r0c){return r0c;},inState:function(X1c){var u1c=0;while(u1c<X1c.length){var h1c=X1c[u1c];++u1c;if(this._cue.state==h1c){return true;}}this._logger.debug("[inState] Unable to find "+d1J.string(this._cue.state)+" in "+d1J.string(X1c));return false;},switchState:function(f1c){var D1c=this._cue.state;this._cue.setState(f1c);this.notifyStateChanged(D1c,f1c);this.processState();},processState:function(){var C1c=this;var w1c=this._cue.state;switch(w1c[1]){case 0:this.toProcessing();break;case 1:this.notifyProcessed();this.toListening();break;case 2:this._logger.info("[processState] Listening...");break;case 3:this.toActivated();break;case 4:Z2J.delay(function(){C1c.handleActionsCompleted();},10);break;case 5:this._logger.info("[processState] Completed.");break;default:this._logger.warn("[processState] Invalid state: "+d1J.string(this._cue.state));}},toProcessing:function(){this._handlerData.data=this.applyTransforms(this._handlerData.transforms,this._handlerData.data);this.switchState(n4J.Processed);},toListening:function(){this.addTriggerListeners();this._triggerColl.init();this.switchState(n4J.Listening);},toTriggered:function(){this.switchState(n4J.Triggered);},toActivated:function(){this.notifyMessageDispatched(L2J.Activated);this.processActions(this._handlerData.actions);this.notifyActivated();this.switchState(n4J.Activated);},handleActionsCompleted:function(){if(!this.inState([n4J.Activated])){this._logger.warn("[handleActionsCompleted] Invalid actions complete state; skipping");return;}if(this._handlerData.retriggers.length>0){this._logger.debug("[handleActionsCompleted] Enabling retriggers");this.addReTriggerListeners();this._reTriggerColl.init();}else{this.toListening();}},applyTransforms:function(F1c,c1c){var Y1c=0;while(Y1c<F1c.length){var R1c=F1c[Y1c];++Y1c;c1c=R1c(c1c);}return c1c;},addTriggerListeners:function(){this._triggerColl.events().fired.listen(p1J(this,this.onTriggerFired));},onTriggerFired:function(U1c){this._logger.debug("[onTriggerFired] triggers fired");this.removeTriggerListeners();this.toTriggered();},removeTriggerListeners:function(){this._triggerColl.events().fired.unlisten(p1J(this,this.onTriggerFired));},processActions:function(o1c){var t1c=this;var l1c={fireMessage:function(m1c,K1c){t1c.notifyMessageDispatched(m1c,K1c);}};var q1c=0;while(q1c<o1c.length){var G1c=o1c[q1c];++q1c;G1c.call(l1c,this._cue);}},addReTriggerListeners:function(){this._reTriggerColl.events().fired.listen(p1J(this,this.onReTriggerFired));},onReTriggerFired:function(N1c){this._logger.debug("[onReTriggerFired] Retriggered - moving to listening");this.removeReTriggerListeners();this.toListening();this.notifyMessageDispatched(L2J.Deactivated);},removeReTriggerListeners:function(){this._reTriggerColl.events().fired.unlisten(p1J(this,this.onReTriggerFired));},buildCurrentCue:function(){var a1c=Y7J.fromCue(this._cue).withData(this._handlerData.data).withTransforms(this._handlerData.transforms).withTriggers(this._handlerData.triggers).withActions(this._handlerData.actions).withRetriggers(this._handlerData.retriggers).build();a1c.setEvents(this._events);return a1c;},notifyStateChanged:function(g1c,P1c){var b1c=new S8y(this.buildCurrentCue(),g1c,P1c);this._events.stateChanged.dispatch(b1c);},notifyProcessed:function(){var M1c=new n2J(this.buildCurrentCue());this._events.processed.dispatch(M1c);},notifyActivated:function(){var L1c=new n2J(this.buildCurrentCue());this._events.activated.dispatch(L1c);},notifyMessageDispatched:function(O1c,H1c){var x1c=new h1y(this.buildCurrentCue(),O1c,H1c);this._events.messageDispatched.dispatch(x1c);},init:function(T1c,d1c){this.doInit(T1c,d1c);},stop:function(){this.doStop();},cue:function(){return this._cue;},events:function(){return this._events;},__class__:x6J};var J5y=function(){};O1J["com.turner.top.sdk.common.cues.handlers.CueHandlerFactory"]=J5y;J5y.__name__=["com","turner","top","sdk","common","cues","handlers","CueHandlerFactory"];J5y.createForCue=function(V1c){var v1c=V1c.type;switch(v1c[1]){case 0:return new l1y();case 1:return new g1y();case 2:return new N1y();case 3:return new K1y();case 4:return new m1y();case 5:return new G1y();case 6:return new a1y();case 7:return new b1y();}};var l1y=function(){x6J.call(this);};O1J["com.turner.top.sdk.common.cues.handlers.custom.CustomCueHandler"]=l1y;l1y.__name__=["com","turner","top","sdk","common","cues","handlers","custom","CustomCueHandler"];l1y.__super__=x6J;l1y.prototype=v1J(x6J.prototype,{addHandlerDefaults:function(z1c){var A1c=i1J.mapKeys(z1c.data,["time","duration","offset"]);var W1c=i1J.extend({time:-1,duration:1,offset:1},A1c);var n1c=W1c.offset;var S1c=W1c.time;var e1c=W1c.duration;var p1c=U6J.create(S1c-n1c,e1c);var s1c=z1c.triggers;var J1c=this._dataSource;var B1c=new b4J();if(E1J["state.media.playhead"]!=null){B1c.setReserved("state.media.playhead",function(k1c){return p1c.contains(k1c);});}else{B1c.h["state.media.playhead"]=function(i1c){return p1c.contains(i1c);};}s1c.push(new m2J(J1c,B1c));var j1c=z1c.retriggers;var Q1c=this._dataSource;var Z1c=new b4J();if(E1J["state.media.playhead"]!=null){Z1c.setReserved("state.media.playhead",function(I1c){return!p1c.contains(I1c);});}else{Z1c.h["state.media.playhead"]=function(E1c){return!p1c.contains(E1c);};}j1c.push(new m2J(Q1c,Z1c));return z1c;},__class__:l1y});var G1y=function(){x6J.call(this);};O1J["com.turner.top.sdk.common.cues.handlers.ext.ExtAssetHandler"]=G1y;G1y.__name__=["com","turner","top","sdk","common","cues","handlers","ext","ExtAssetHandler"];G1y.__super__=x6J;G1y.prototype=v1J(x6J.prototype,{addHandlerDefaults:function(y1c){var f4c=new m0y();f4c.init();var C4c=i1J.mapKeys(y1c.data,["time","duration","offset"]);var X4c=i1J.extend({time:-1,duration:1,offset:1},C4c);y1c.transforms.push(function(q4c){q4c.result=f4c.parse(q4c.content);return q4c;});var F4c=X4c.offset;var D4c=X4c.time;var w4c=X4c.duration;var r1c=U6J.create(D4c-F4c,w4c);var Y4c=y1c.triggers;var c4c=this._dataSource;var h4c=new b4J();if(E1J["state.media.playhead"]!=null){h4c.setReserved("state.media.playhead",function(o4c){return r1c.contains(o4c);});}else{h4c.h["state.media.playhead"]=function(t4c){return r1c.contains(t4c);};}Y4c.push(new m2J(c4c,h4c));var R4c=y1c.retriggers;var U4c=this._dataSource;var u4c=new b4J();if(E1J["state.media.playhead"]!=null){u4c.setReserved("state.media.playhead",function(l4c){return!r1c.contains(l4c);});}else{u4c.h["state.media.playhead"]=function(G4c){return!r1c.contains(G4c);};}R4c.push(new m2J(U4c,u4c));return y1c;},__class__:G1y});var m1y=function(){x6J.call(this);};O1J["com.turner.top.sdk.common.cues.handlers.ext.ExtCueInHandler"]=m1y;m1y.__name__=["com","turner","top","sdk","common","cues","handlers","ext","ExtCueInHandler"];m1y.__super__=x6J;m1y.prototype=v1J(x6J.prototype,{addHandlerDefaults:function(m4c){var g4c=new V6y();g4c.init();var M4c=i1J.mapKeys(m4c.data,["time","duration","offset"]);var a4c=i1J.extend({time:-1,duration:1,offset:1},M4c);m4c.transforms.push(function(v4c){v4c.result=g4c.parse(v4c.content);return v4c;});var H4c=a4c.offset;var P4c=a4c.time;var L4c=a4c.duration;var K4c=U6J.create(P4c-H4c,L4c);var x4c=m4c.triggers;var O4c=this._dataSource;var b4c=new b4J();if(E1J["state.media.playhead"]!=null){b4c.setReserved("state.media.playhead",function(V4c){return K4c.contains(V4c);});}else{b4c.h["state.media.playhead"]=function(p4c){return K4c.contains(p4c);};}x4c.push(new m2J(O4c,b4c));var T4c=m4c.retriggers;var d4c=this._dataSource;var N4c=new b4J();if(E1J["state.media.playhead"]!=null){N4c.setReserved("state.media.playhead",function(Z4c){return!K4c.contains(Z4c);});}else{N4c.h["state.media.playhead"]=function(B4c){return!K4c.contains(B4c);};}T4c.push(new m2J(d4c,N4c));return m4c;},__class__:m1y});var K1y=function(){x6J.call(this);};O1J["com.turner.top.sdk.common.cues.handlers.ext.ExtCueOutContHandler"]=K1y;K1y.__name__=["com","turner","top","sdk","common","cues","handlers","ext","ExtCueOutContHandler"];K1y.__super__=x6J;K1y.prototype=v1J(x6J.prototype,{addHandlerDefaults:function(W4c){var s4c=new p6y();s4c.init();W4c.transforms.push(function(y4c){y4c.result=s4c.parse(y4c.content);return y4c;});var A4c=i1J.mapKeys(W4c.data,["time","duration","offset"]);var e4c=i1J.extend({time:-1,duration:1,offset:1},A4c);var i4c=e4c.offset;var J4c=e4c.time;var j4c=e4c.duration;var z4c=U6J.create(J4c-i4c,j4c);var Q4c=W4c.triggers;var k4c=this._dataSource;var n4c=new b4J();if(E1J["state.media.playhead"]!=null){n4c.setReserved("state.media.playhead",function(r4c){return z4c.contains(r4c);});}else{n4c.h["state.media.playhead"]=function(u6c){return z4c.contains(u6c);};}Q4c.push(new m2J(k4c,n4c));var I4c=W4c.retriggers;var E4c=this._dataSource;var S4c=new b4J();if(E1J["state.media.playhead"]!=null){S4c.setReserved("state.media.playhead",function(X6c){return!z4c.contains(X6c);});}else{S4c.h["state.media.playhead"]=function(h6c){return!z4c.contains(h6c);};}I4c.push(new m2J(E4c,S4c));return W4c;},__class__:K1y});var N1y=function(){x6J.call(this);};O1J["com.turner.top.sdk.common.cues.handlers.ext.ExtCueOutHandler"]=N1y;N1y.__name__=["com","turner","top","sdk","common","cues","handlers","ext","ExtCueOutHandler"];N1y.__super__=x6J;N1y.prototype=v1J(x6J.prototype,{addHandlerDefaults:function(f6c){var c6c=new K0y();c6c.init();var R6c=i1J.mapKeys(f6c.data,["time","duration","offset"]);var w6c=i1J.extend({time:-1,duration:1,offset:1},R6c);f6c.transforms.push(function(m6c){m6c.result=c6c.parse(m6c.content);return m6c;});var t6c=w6c.offset;var F6c=w6c.time;var U6c=w6c.duration;var D6c=U6J.create(F6c-t6c,U6c);var q6c=f6c.triggers;var o6c=this._dataSource;var Y6c=new b4J();if(E1J["state.media.playhead"]!=null){Y6c.setReserved("state.media.playhead",function(K6c){return D6c.contains(K6c);});}else{Y6c.h["state.media.playhead"]=function(N6c){return D6c.contains(N6c);};}q6c.push(new m2J(o6c,Y6c));var l6c=f6c.retriggers;var G6c=this._dataSource;var C6c=new b4J();if(E1J["state.media.playhead"]!=null){C6c.setReserved("state.media.playhead",function(a6c){return!D6c.contains(a6c);});}else{C6c.h["state.media.playhead"]=function(b6c){return!D6c.contains(b6c);};}l6c.push(new m2J(G6c,C6c));return f6c;},__class__:N1y});var a1y=function(){x6J.call(this);};O1J["com.turner.top.sdk.common.cues.handlers.ext.ExtDiscontinuityHandler"]=a1y;a1y.__name__=["com","turner","top","sdk","common","cues","handlers","ext","ExtDiscontinuityHandler"];a1y.__super__=x6J;a1y.prototype=v1J(x6J.prototype,{addHandlerDefaults:function(x6c){var V6c=i1J.mapKeys(x6c.data,["time","duration","offset"]);var L6c=i1J.extend({time:-1,duration:1,offset:1},V6c);var T6c=L6c.offset;var O6c=L6c.time;var H6c=L6c.duration;var g6c=U6J.create(O6c-T6c,H6c);var d6c=x6c.triggers;var v6c=this._dataSource;var M6c=new b4J();if(E1J["state.media.playhead"]!=null){M6c.setReserved("state.media.playhead",function(B6c){return g6c.contains(B6c);});}else{M6c.h["state.media.playhead"]=function(W6c){return g6c.contains(W6c);};}d6c.push(new m2J(v6c,M6c));var p6c=x6c.retriggers;var Z6c=this._dataSource;var P6c=new b4J();if(E1J["state.media.playhead"]!=null){P6c.setReserved("state.media.playhead",function(z6c){return!g6c.contains(z6c);});}else{P6c.h["state.media.playhead"]=function(S6c){return!g6c.contains(S6c);};}p6c.push(new m2J(Z6c,P6c));return x6c;},__class__:a1y});var b1y=function(){x6J.call(this);};O1J["com.turner.top.sdk.common.cues.handlers.id3.ID3CueHandler"]=b1y;b1y.__name__=["com","turner","top","sdk","common","cues","handlers","id3","ID3CueHandler"];b1y.__super__=x6J;b1y.prototype=v1J(x6J.prototype,{addHandlerDefaults:function(e6c){var k6c=this;e6c.transforms.push(function(h2c){if(h2c.content instanceof Array&&h2c.content.__enum__==null){var Y2c=h2c.content;var c2c=[];var f2c=0;while(f2c<Y2c.length){var D2c=Y2c[f2c];++f2c;try{var X2c;if(typeof D2c.data!="string"){var w2c=D2c.data;var F2c=[];var C2c=0;var R2c=Z1J.fields(w2c);while(C2c<R2c.length){var q2c=R2c[C2c];++C2c;F2c.push(Z1J.field(w2c,q2c));}var o2c=F2c;var U2c=o2c.map(function(t2c){return String.fromCharCode(t2c);});X2c=C6J.trim(U2c.join(""));}else{X2c=D2c.data;}X2c=C6J.replace(X2c,"\x00","");X2c=C6J.replace(X2c,"\n","");if(X2c.indexOf("{")>0){X2c=Y4J.substr(X2c,X2c.indexOf("{"),null);}c2c.push(X2c);}catch(l2c){k6c._logger.warn("[transform] Unable to parse ID3 payload");}}h2c.result=c2c;}return h2c;});var i6c=i1J.mapKeys(e6c.data,["time","duration","offset"]);var J6c=i1J.extend({time:-1,duration:1,offset:1},i6c);var j6c=J6c.offset;var Q6c=J6c.time;var y6c=J6c.duration;var n6c=U6J.create(Q6c-j6c,y6c);var I6c=e6c.triggers;var E6c=this._dataSource;var A6c=new b4J();if(E1J["state.media.playhead"]!=null){A6c.setReserved("state.media.playhead",function(G2c){return n6c.contains(G2c);});}else{A6c.h["state.media.playhead"]=function(m2c){return n6c.contains(m2c);};}I6c.push(new m2J(E6c,A6c));var r6c=e6c.retriggers;var u2c=this._dataSource;var s6c=new b4J();if(E1J["state.media.playhead"]!=null){s6c.setReserved("state.media.playhead",function(K2c){return!n6c.contains(K2c);});}else{s6c.h["state.media.playhead"]=function(N2c){return!n6c.contains(N2c);};}r6c.push(new m2J(u2c,s6c));return e6c;},__class__:b1y});var g1y=function(){x6J.call(this);};O1J["com.turner.top.sdk.common.cues.handlers.scte.ScteCueHandler"]=g1y;g1y.__name__=["com","turner","top","sdk","common","cues","handlers","scte","ScteCueHandler"];g1y.__super__=x6J;g1y.prototype=v1J(x6J.prototype,{addHandlerDefaults:function(a2c){var L2c=new W6y();L2c.init();var O2c=i1J.mapKeys(a2c.data,["time","duration","offset"]);var P2c=i1J.extend({time:-1,duration:1,offset:1},O2c);a2c.transforms.push(function(Z2c){Z2c.result=L2c.parse(Z2c.content);return Z2c;});var v2c=P2c.offset;var x2c=P2c.time;var H2c=P2c.duration;var b2c=U6J.create(x2c-v2c,H2c);var T2c=a2c.triggers;var d2c=this._dataSource;var M2c=new b4J();if(E1J["state.media.playhead"]!=null){M2c.setReserved("state.media.playhead",function(B2c){return b2c.contains(B2c);});}else{M2c.h["state.media.playhead"]=function(W2c){return b2c.contains(W2c);};}T2c.push(new m2J(d2c,M2c));var V2c=a2c.retriggers;var p2c=this._dataSource;var g2c=new b4J();if(E1J["state.media.playhead"]!=null){g2c.setReserved("state.media.playhead",function(z2c){return!b2c.contains(z2c);});}else{g2c.h["state.media.playhead"]=function(S2c){return!b2c.contains(S2c);};}V2c.push(new m2J(p2c,g2c));return a2c;},__class__:g1y});var d5y=function(){};O1J["com.turner.top.sdk.common.cues.managers.ICueManager"]=d5y;d5y.__name__=["com","turner","top","sdk","common","cues","managers","ICueManager"];d5y.prototype={events:null,init:null,normalize:null,add:null,remove:null,reset:null,getCues:null,getAllCues:null,prune:null,__class__:d5y};var h7J=function(){this._events=new j5J();this.resetData();};O1J["com.turner.top.sdk.common.cues.managers.CueManager"]=h7J;h7J.__name__=["com","turner","top","sdk","common","cues","managers","CueManager"];h7J.__interfaces__=[d5y];h7J.prototype={_events:null,_dataSource:null,_handlers:null,_cues:null,_cueRegistry:null,_cueHashRegistry:null,doInit:function(e2c){this._dataSource=e2c;},doReset:function(){var n2c=0;var s2c=this._handlers;while(n2c<s2c.length){var J2c=s2c[n2c];++n2c;this.removeHandlerListeners(J2c);J2c.stop();}this.resetData();},resetData:function(){this._handlers=[];this._cues=[];this._cueRegistry=new b4J();this._cueHashRegistry=new b4J();},doNormalize:function(Q2c){if(S1J.__instanceof(Q2c,k9y)){return Q2c;}var k2c={type:P4J.Custom,source:d6J.External};var A2c=i1J.extendDeep(k2c,Q2c);var j2c=Y7J.create().withType(A2c.type).withSource(A2c.source);if(A2c.id!=null){j2c.withId(A2c.id);}if(A2c.data!=null){j2c.withData(A2c.data);}return j2c.build();},doAdd:function(i2c){var I2c=this.cueToStr(i2c);h7J._logger.debug("[doAdd] cue-id: "+i2c.id+" / "+I2c);var y2c=i2c.id;var X7c=this._cueRegistry;var D7c=E1J[y2c]!=null?X7c.existsReserved(y2c):X7c.h.hasOwnProperty(y2c);if(D7c){h7J._logger.warn("[doAdd] Duplicate cue received: "+I2c);return;}var E2c=J5y.createForCue(i2c);if(E2c==null){h7J._logger.warn("[doAdd] Unable to find handler for cue: "+I2c);return;}this.addHandlerListeners(E2c);E2c.init(this._dataSource,i2c);this._cues.push(i2c);this._handlers.push(E2c);var r2c=i2c.id;var h7c=this._cueRegistry;if(E1J[r2c]!=null){h7c.setReserved(r2c,i2c);}else{h7c.h[r2c]=i2c;}var f7c=i2c.id;var u7c=this._cueHashRegistry;if(E1J[I2c]!=null){u7c.setReserved(I2c,f7c);}else{u7c.h[I2c]=f7c;}},doRemove:function(c7c){var Y7c=this.cueToStr(c7c);h7J._logger.debug("[doRemove] cue hash: "+Y7c);var U7c=this._cueHashRegistry;var t7c=E1J[Y7c]!=null?U7c.getReserved(Y7c):U7c.h[Y7c];var w7c;if(t7c!=null){w7c=t7c;}else{var F7c=c7c.id;var q7c=this._cueRegistry;w7c=(E1J[F7c]!=null?q7c.existsReserved(F7c):q7c.h.hasOwnProperty(F7c))?c7c.id:null;}if(w7c==null){h7J._logger.warn("[doRemove] Cannot find cue in registry by id/hash: "+c7c.id+" / "+Y7c);return;}var o7c=this._cueRegistry;var C7c={cue:E1J[w7c]!=null?o7c.getReserved(w7c):o7c.h[w7c],handler:null};var R7c=this._handlers.filter(function(l7c){return l7c.cue().id==c7c.id;});if(R7c.length!=1){h7J._logger.warn("[doRemove] Could not locate cue handler with cue id: "+c7c.id);return;}C7c.handler=R7c[0];C7c.handler.stop();this.removeHandlerListeners(C7c.handler);Y4J.remove(this._handlers,C7c.handler);Y4J.remove(this._cues,C7c.cue);this._cueRegistry.remove(C7c.cue.id);this._cueHashRegistry.remove(this.cueToStr(C7c.cue));h7J._logger.debug("[doRemove] Successfully removed cue and handler for: "+d1J.string(C7c.cue.id));},doPrune:function(K7c){var G7c=this._cues.filter(function(a7c){return K7c.contains(a7c.data.time);});var m7c=0;while(m7c<G7c.length){var N7c=G7c[m7c];++m7c;this.doRemove(N7c);}h7J._logger.info("[doPrune] pruned "+G7c.length+" cues contained within range "+d1J.string(K7c));},addHandlerListeners:function(g7c){var b7c=g7c.events();b7c.stateChanged.listen(p1J(this,this.onCueStateChanged));b7c.processed.listen(p1J(this,this.onCueProcessed));b7c.activated.listen(p1J(this,this.onCueActivated));b7c.messageDispatched.listen(p1J(this,this.onCueMessageDispatched));},onCueStateChanged:function(P7c){this.notifyStateChanged(P7c);},onCueProcessed:function(M7c){this.notifyProcessed(M7c);},onCueActivated:function(L7c){this.notifyActivated(L7c);},onCueMessageDispatched:function(x7c){this.notifyMessageDispatched(x7c);},removeHandlerListeners:function(H7c){var O7c=H7c.events();O7c.stateChanged.unlisten(p1J(this,this.onCueStateChanged));O7c.processed.unlisten(p1J(this,this.onCueProcessed));O7c.activated.unlisten(p1J(this,this.onCueActivated));O7c.messageDispatched.unlisten(p1J(this,this.onCueMessageDispatched));},cueToStr:function(T7c){return d1J.string(T7c);},notifyStateChanged:function(d7c){this._events.stateChanged.dispatch(d7c);},notifyProcessed:function(v7c){this._events.processed.dispatch(v7c);},notifyActivated:function(V7c){this._events.activated.dispatch(V7c);},notifyMessageDispatched:function(p7c){this._events.messageDispatched.dispatch(p7c);},init:function(Z7c){this.doInit(Z7c);return this;},normalize:function(B7c){return this.doNormalize(B7c);},add:function(W7c){this.doAdd(W7c);return this;},remove:function(z7c){this.doRemove(z7c);return this;},reset:function(){this.doReset();return this;},getCues:function(){return this._cues.filter(function(S7c){return S7c.state!=n4J.Completed;});},getAllCues:function(){return this._cues;},prune:function(e7c){this.doPrune(e7c);return this;},events:function(){return this._events;},__class__:h7J};var L1y=function(){};O1J["com.turner.top.sdk.common.support.gdpr.GDPRConsentManagementProvider"]=L1y;L1y.__name__=["com","turner","top","sdk","common","support","gdpr","GDPRConsentManagementProvider"];L1y.getCMP=function(){var n7c=window.__cmp;if(n7c!=null&&typeof n7c=="function"){return n7c;}else{return null;}};L1y.getConsentData=function(s7c){return new Promise(function(j7c,A7c){var J7c=L1y.getCMP();if(J7c==null){A7c("The GDPR Transparency and Consent Framework does not exist in the global scope.");return;}J7c("addEventListener","isLoaded",function(){J7c("getConsentData",null,function(Q7c,k7c){if(k7c){j7c(Q7c);}else{A7c("There was an error when retrieving the GDPR consent data.");}});});});};var W7J=e1J["com"]["turner"]["top"]["sdk"]["common"]["features"]["FeatureDefaults"]=function(){};O1J["com.turner.top.sdk.common.features.FeatureDefaults"]=W7J;W7J.__name__=["com","turner","top","sdk","common","features","FeatureDefaults"];var q4J=O1J["com.turner.top.sdk.common.media.MediaCommand"]={__ename__:["com","turner","top","sdk","common","media","MediaCommand"],__constructs__:["Play","Pause","Resume","Seek","Seek_To_Live","Set_Volume","Mute","Unmute","Resize","Stop"]};q4J.Play=["Play",0];q4J.Play.toString=H1J;q4J.Play.__enum__=q4J;q4J.Pause=["Pause",1];q4J.Pause.toString=H1J;q4J.Pause.__enum__=q4J;q4J.Resume=["Resume",2];q4J.Resume.toString=H1J;q4J.Resume.__enum__=q4J;q4J.Seek=["Seek",3];q4J.Seek.toString=H1J;q4J.Seek.__enum__=q4J;q4J.Seek_To_Live=["Seek_To_Live",4];q4J.Seek_To_Live.toString=H1J;q4J.Seek_To_Live.__enum__=q4J;q4J.Set_Volume=["Set_Volume",5];q4J.Set_Volume.toString=H1J;q4J.Set_Volume.__enum__=q4J;q4J.Mute=["Mute",6];q4J.Mute.toString=H1J;q4J.Mute.__enum__=q4J;q4J.Unmute=["Unmute",7];q4J.Unmute.toString=H1J;q4J.Unmute.__enum__=q4J;q4J.Resize=["Resize",8];q4J.Resize.toString=H1J;q4J.Resize.__enum__=q4J;q4J.Stop=["Stop",9];q4J.Stop.toString=H1J;q4J.Stop.__enum__=q4J;q4J.__empty_constructs__=[q4J.Play,q4J.Pause,q4J.Resume,q4J.Seek,q4J.Seek_To_Live,q4J.Set_Volume,q4J.Mute,q4J.Unmute,q4J.Resize,q4J.Stop];var e04=function(){};O1J["com.turner.top.sdk.common.media.Exports"]=e04;e04.__name__=["com","turner","top","sdk","common","media","Exports"];var z5y=function(){};O1J["com.turner.top.sdk.common.media.controllers.handlers.IMediaEventNotifier"]=z5y;z5y.__name__=["com","turner","top","sdk","common","media","controllers","handlers","IMediaEventNotifier"];z5y.prototype={init:null,dispatchCommandReceived:null,dispatchCommandRejected:null,dispatchStateChange:null,dispatchStarting:null,dispatchBlocked:null,dispatchLoaded:null,dispatchTimedMetadataReceived:null,dispatchRequestProfileChanged:null,dispatchProfileChanging:null,dispatchProfileChanged:null,dispatchBufferingStarting:null,dispatchBufferingFinished:null,dispatchStarted:null,dispatchPaused:null,dispatchResumed:null,dispatchRecoveryStarted:null,dispatchRecoveryFinished:null,dispatchTimeChanged:null,dispatchSeekStarted:null,dispatchSeekFinished:null,dispatchVolumeChanged:null,dispatchMuteChanged:null,dispatchResized:null,dispatchStopped:null,dispatchFinished:null,dispatchInitError:null,dispatchError:null,__class__:z5y};var W5y=function(){};O1J["com.turner.top.sdk.common.media.controllers.handlers.IMediaModelUpdater"]=W5y;W5y.__name__=["com","turner","top","sdk","common","media","controllers","handlers","IMediaModelUpdater"];W5y.prototype={init:null,resetForPlay:null,setState:null,setStarting:null,setLoaded:null,setTimedMetadataReceived:null,setProfileChanged:null,setTimeChanged:null,setSeekFinished:null,setVolume:null,setMute:null,setResized:null,setError:null,setAppliedConfigData:null,__class__:W5y};var B5y=function(){};O1J["com.turner.top.sdk.common.media.controllers.handlers.IStateChangeHandler"]=B5y;B5y.__name__=["com","turner","top","sdk","common","media","controllers","handlers","IStateChangeHandler"];B5y.prototype={init:null,handleCommandReceived:null,handleCommandRejected:null,handleStateChange:null,handleStarting:null,handleBlocked:null,handleLoaded:null,handleTimedMetadataReceived:null,handleRequestProfileChanged:null,handleProfileChanging:null,handleProfileChanged:null,handleBufferingStarted:null,handleBufferingFinished:null,handleStarted:null,handlePaused:null,handleResumed:null,handleRecoveryStarted:null,handleRecoveryFinished:null,handleTimeChanged:null,handleSeekStarted:null,handleSeekFinished:null,handleVolumeChanged:null,handleMuteChanged:null,handleResize:null,handleStopped:null,handleFinished:null,handleInitError:null,handleError:null,handleAppliedConfigData:null,__class__:B5y};var T8J=function(){};O1J["com.turner.top.sdk.common.media.controllers.handlers.MediaEventNotifier"]=T8J;T8J.__name__=["com","turner","top","sdk","common","media","controllers","handlers","MediaEventNotifier"];T8J.__interfaces__=[z5y];T8J.prototype={_events:null,doInit:function(i7c){this._events=i7c;},doDispatchCommandReceived:function(E7c,y7c){var I7c=new e1y(E7c,y7c);this._events.commandReceived.dispatch(I7c);},doDispatchCommandRejected:function(u9c,X9c){var r7c=new n1y(u9c,X9c);this._events.commandRejected.dispatch(r7c);},doDispatchStateChange:function(f9c,D9c){var h9c=new r5J(f9c,D9c);this._events.stateChanged.dispatch(h9c);},doDispatchStarting:function(w9c,Y9c){var C9c=new A1y(w9c,Y9c);this._events.starting.dispatch(C9c);},doDispatchBlocked:function(F9c){var c9c=new j1y(F9c);this._events.blocked.dispatch(c9c);},doDispatchLoaded:function(U9c){var R9c=new s1y(U9c);this._events.loaded.dispatch(R9c);},doDispatchTimedMetadataReceived:function(o9c,t9c,l9c,G9c,m9c,K9c){var q9c=new X0y(o9c,t9c,l9c,G9c,m9c,K9c);this._events.timedMetadataReceived.dispatch(q9c);},doDispatchRequestProfileChanged:function(a9c,b9c,g9c,P9c){var N9c=new k1y(a9c,b9c,g9c,P9c);this._events.requestProfileChanged.dispatch(N9c);},doDispatchProfileChanging:function(L9c,x9c,O9c,H9c){var M9c=new i1y(L9c,x9c,O9c,H9c);this._events.profileChanging.dispatch(M9c);},doDispatchProfileChanged:function(d9c,v9c,V9c,p9c){var T9c=new I1y(d9c,v9c,V9c,p9c);this._events.profileChanged.dispatch(T9c);},doDispatchBufferingStarting:function(){var Z9c=new m4J();this._events.bufferingStarted.dispatch(Z9c);},doDispatchBufferingFinished:function(){var B9c=new m4J();this._events.bufferingFinished.dispatch(B9c);},doDispatchStarted:function(){var W9c=new m4J();this._events.started.dispatch(W9c);},doDispatchPaused:function(){var z9c=new m4J();this._events.paused.dispatch(z9c);},doDispatchResumed:function(){var S9c=new m4J();this._events.resumed.dispatch(S9c);},doDispatchRecoveryStarted:function(n9c){var e9c=new f0y(n9c);this._events.recoveryStarted.dispatch(e9c);},doDispatchRecoveryFinished:function(J9c){var s9c=new f0y(J9c);this._events.recoveryFinished.dispatch(s9c);},doDispatchTimeChanged:function(j9c){var A9c=new D3J(j9c);this._events.timeChanged.dispatch(A9c);},doDispatchSeekStarted:function(){var Q9c=new m4J();this._events.seekingStarted.dispatch(Q9c);},doDispatchSeekFinished:function(i9c,I9c){var k9c=new r3J(i9c,I9c);this._events.seekingFinished.dispatch(k9c);},doDispatchVolumeChanged:function(y9c){var E9c=new y1y(y9c);this._events.volumeChanged.dispatch(E9c);},doDispatchMuteChanged:function(u8c){var r9c=new r1y(u8c);this._events.muteChanged.dispatch(r9c);},doDispatchResized:function(h8c,f8c,D8c,C8c){var X8c=new u4y(h8c,f8c,D8c,C8c);this._events.resized.dispatch(X8c);},doDispatchStopped:function(){var w8c=new m4J();this._events.stopped.dispatch(w8c);},doDispatchFinished:function(){var Y8c=new m4J();this._events.finished.dispatch(Y8c);},doDispatchInitError:function(F8c){var c8c=new h0y(F8c);this._events.error.dispatch(c8c);},doDispatchError:function(U8c){var R8c=new h0y(U8c);this._events.error.dispatch(R8c);},init:function(q8c){this.doInit(q8c);return this;},dispatchCommandReceived:function(o8c,t8c){this.doDispatchCommandReceived(o8c,t8c);return this;},dispatchCommandRejected:function(l8c,G8c){this.doDispatchCommandRejected(l8c,G8c);return this;},dispatchStateChange:function(m8c,K8c){this.doDispatchStateChange(m8c,K8c);return this;},dispatchStarting:function(N8c,a8c){this.doDispatchStarting(N8c,a8c);return this;},dispatchBlocked:function(b8c){this.doDispatchBlocked(b8c);return this;},dispatchLoaded:function(g8c){this.doDispatchLoaded(g8c);return this;},dispatchTimedMetadataReceived:function(P8c,M8c,L8c,x8c,O8c,H8c){this.doDispatchTimedMetadataReceived(P8c,M8c,L8c,x8c,O8c,H8c);return this;},dispatchRequestProfileChanged:function(T8c,d8c,v8c,V8c){this.doDispatchRequestProfileChanged(T8c,d8c,v8c,V8c);return this;},dispatchProfileChanging:function(p8c,Z8c,B8c,W8c){this.doDispatchProfileChanging(p8c,Z8c,B8c,W8c);return this;},dispatchProfileChanged:function(z8c,S8c,e8c,n8c){this.doDispatchProfileChanged(z8c,S8c,e8c,n8c);return this;},dispatchBufferingStarting:function(){this.doDispatchBufferingStarting();return this;},dispatchBufferingFinished:function(){this.doDispatchBufferingFinished();return this;},dispatchStarted:function(){this.doDispatchStarted();return this;},dispatchPaused:function(){this.doDispatchPaused();return this;},dispatchResumed:function(){this.doDispatchResumed();return this;},dispatchRecoveryStarted:function(s8c){this.doDispatchRecoveryStarted(s8c);return this;},dispatchRecoveryFinished:function(J8c){this.doDispatchRecoveryFinished(J8c);return this;},dispatchTimeChanged:function(A8c){this.doDispatchTimeChanged(A8c);return this;},dispatchSeekStarted:function(){this.doDispatchSeekStarted();return this;},dispatchSeekFinished:function(j8c,Q8c){this.doDispatchSeekFinished(j8c,Q8c);return this;},dispatchVolumeChanged:function(k8c){this.doDispatchVolumeChanged(k8c);return this;},dispatchMuteChanged:function(i8c){this.doDispatchMuteChanged(i8c);return this;},dispatchResized:function(I8c,E8c,y8c,r8c){this.doDispatchResized(I8c,E8c,y8c,r8c);return this;},dispatchStopped:function(){this.doDispatchStopped();return this;},dispatchFinished:function(){this.doDispatchFinished();return this;},dispatchInitError:function(u3c){this.doDispatchInitError(u3c);return this;},dispatchError:function(X3c){this.doDispatchError(X3c);return this;},__class__:T8J};var J8J=function(){};O1J["com.turner.top.sdk.common.media.controllers.handlers.MediaModelUpdater"]=J8J;J8J.__name__=["com","turner","top","sdk","common","media","controllers","handlers","MediaModelUpdater"];J8J.__interfaces__=[W5y];J8J.prototype={_model:null,doInit:function(h3c){this._model=h3c;},doResetForPlay:function(){this._model.clearTransientData();},doSetState:function(f3c){this.transient(function(D3c){D3c.setState(f3c);});},doSetStarting:function(C3c){this.transient(function(w3c){w3c.setUrl(C3c);});},doSetLoaded:function(q3c,F3c,R3c,U3c,Y3c,o3c,t3c,l3c,G3c,c3c){this.transient(function(m3c){m3c.setIsLive(q3c);m3c.setIsProtected(F3c);m3c.setIsDynamic(R3c);m3c.setProfiles(o3c);var K3c=t3c;var N3c=K3c;m3c.setDuration(N3c);m3c.setPlayableRange(G3c);m3c.setSeekableRange(c3c);});this.doSetAppliedConfigData(l3c);this._model.setViewWidth(U3c);this._model.setViewHeight(Y3c);},doSetAppliedConfigData:function(a3c){this.transient(function(b3c){if(a3c.startIndex!=null){b3c.setStartIndex(a3c.startIndex);}if(a3c.startBitrate!=null){b3c.setStartBitrate(a3c.startBitrate);}if(a3c.minBitrate!=null){b3c.setMinBitrate(a3c.minBitrate);}if(a3c.maxBitrate!=null){b3c.setMaxBitrate(a3c.maxBitrate);}if(a3c.initialBuffer!=null){b3c.setInitialBufferLength(a3c.initialBuffer);}if(a3c.playBuffer!=null){b3c.setPlayBufferLength(a3c.playBuffer);}});},doSetTimedMetadataReceived:function(g3c,P3c,M3c,L3c,x3c){},doSetProfileChanged:function(O3c,H3c,T3c,d3c){this.transient(function(v3c){v3c.setProfileIndex(O3c);v3c.setBitrate(H3c);v3c.setCalculatedMediaWidth(T3c);v3c.setCalculatedMediaHeight(d3c);});},doSetTimeChanged:function(V3c,p3c,Z3c,B3c,W3c){this.transient(function(z3c){z3c.setTime(V3c);z3c.setPlayableRange(p3c);z3c.setSeekableRange(Z3c);z3c.setAbsoluteTime(B3c);var S3c=W3c;var e3c=S3c;z3c.setDuration(e3c);});},doSetSeekFinished:function(n3c,s3c){},doSetVolume:function(J3c){this._model.setVolume(J3c);},doSetMute:function(A3c){this._model.setMuted(A3c);},doSetResized:function(j3c,Q3c,k3c,i3c){this._model.setViewWidth(j3c);this._model.setViewHeight(Q3c);this.transient(function(I3c){I3c.setCalculatedMediaWidth(k3c);I3c.setCalculatedMediaHeight(i3c);});},doSetError:function(E3c){this.transient(function(y3c){y3c.setError(E3c);});},transient:function(r3c){this._model.withMode(Q6J.Transient,r3c);},init:function(u5c){this.doInit(u5c);return this;},resetForPlay:function(){this.doResetForPlay();return this;},setState:function(X5c){this.doSetState(X5c);return this;},setStarting:function(h5c){this.doSetStarting(h5c);return this;},setLoaded:function(c5c,C5c,w5c,Y5c,f5c,F5c,R5c,U5c,q5c,D5c){this.doSetLoaded(c5c,C5c,w5c,Y5c,f5c,F5c,R5c,U5c,q5c,D5c);return this;},setTimedMetadataReceived:function(o5c,t5c,l5c,G5c,m5c){this.doSetTimedMetadataReceived(o5c,t5c,l5c,G5c,m5c);return this;},setProfileChanged:function(K5c,N5c,a5c,b5c){this.doSetProfileChanged(K5c,N5c,a5c,b5c);return this;},setTimeChanged:function(g5c,P5c,M5c,L5c,x5c){this.doSetTimeChanged(g5c,P5c,M5c,L5c,x5c);return this;},setSeekFinished:function(O5c,H5c){this.doSetSeekFinished(O5c,H5c);return this;},setVolume:function(T5c){this.doSetVolume(T5c);return this;},setMute:function(d5c){this.doSetMute(d5c);return this;},setResized:function(v5c,V5c,p5c,Z5c){this.doSetResized(v5c,V5c,p5c,Z5c);return this;},setError:function(B5c){this.doSetError(B5c);return this;},setAppliedConfigData:function(W5c){this.doSetAppliedConfigData(W5c);return this;},__class__:J8J};var n8J=function(){};O1J["com.turner.top.sdk.common.media.controllers.handlers.StateChangeHandler"]=n8J;n8J.__name__=["com","turner","top","sdk","common","media","controllers","handlers","StateChangeHandler"];n8J.__interfaces__=[B5y];n8J.prototype={_model:null,_updater:null,_notifier:null,_stateBeforeSeeking:null,doInit:function(z5c,S5c,e5c){this._model=z5c;this._updater=S5c;this._notifier=e5c;this._stateBeforeSeeking=null;},doHandleCommandReceived:function(n5c,s5c){if(n5c[1]==0){this._updater.resetForPlay();}this._notifier.dispatchCommandReceived(n5c,s5c);},doHandleCommandRejected:function(J5c,A5c){this._notifier.dispatchCommandRejected(J5c,A5c);},doHandleStateChange:function(j5c){var Q5c=this._model.state();this._updater.setState(j5c);this._notifier.dispatchStateChange(Q5c,j5c);},doHandleBlocked:function(k5c){this._notifier.dispatchBlocked(k5c);},doHandleStarting:function(i5c,I5c){this._updater.setStarting(i5c);this.doHandleStateChange(r1J.Starting);this._notifier.dispatchStarting(i5c,I5c);},doHandleLoaded:function(f08,r5c,u08,X08,h08,E5c,D08,C08,w08,Y08,y5c){this._updater.setLoaded(f08,r5c,u08,X08,h08,E5c,D08,C08,Y08,y5c);this.doHandleStateChange(r1J.Loaded);this._notifier.dispatchLoaded(w08);},doHandleTimedMetadataReceived:function(c08,F08,R08,U08,o08,q08){this._updater.setTimedMetadataReceived(c08,F08,R08,U08,q08);this._notifier.dispatchTimedMetadataReceived(c08,F08,R08,U08,o08,q08);},doHandleRequestProfileChanged:function(t08,b08,g08){var G08=-1;var m08=this._model.profiles();var K08=0;var a08=m08.length;while(K08<a08){var N08=K08++;var l08=m08[N08];if(l08.bitrate==t08.bitrate&&l08.width==t08.width&&l08.height==t08.height){G08=N08;break;}}this._notifier.dispatchRequestProfileChanged(G08,t08,b08,g08);},doHandleProfileChanging:function(P08,d08,v08){var L08=-1;var x08=this._model.profiles();var O08=0;var T08=x08.length;while(O08<T08){var H08=O08++;var M08=x08[H08];if(M08.bitrate==P08.bitrate&&M08.width==P08.width&&M08.height==P08.height){L08=H08;break;}}this._notifier.dispatchProfileChanging(L08,P08,d08,v08);},doHandleProfileChanged:function(V08,S08,e08){var p08=-1;var B08=this._model.profiles();var W08=0;var n08=B08.length;while(W08<n08){var z08=W08++;var Z08=B08[z08];if(Z08.bitrate==V08.bitrate&&Z08.width==V08.width&&Z08.height==V08.height){p08=z08;break;}}this._updater.setProfileChanged(p08,V08.bitrate,S08,e08);this._notifier.dispatchProfileChanged(p08,V08,S08,e08);},doHandleBufferingStarted:function(){this.doHandleStateChange(r1J.Buffering);this._notifier.dispatchBufferingStarting();},doHandleBufferingFinished:function(){this._notifier.dispatchBufferingFinished();},canChangeStateToPlaying:function(){if(this._model.state()!=r1J.Seeking){return this._model.state()!=r1J.Playing;}else{return false;}},doHandleStarted:function(){this.doHandleStateChange(r1J.Playing);this._notifier.dispatchStarted();},doHandlePaused:function(){this.doHandleStateChange(r1J.Paused);this._notifier.dispatchPaused();},doHandleResumed:function(){this.doHandleStateChange(r1J.Playing);this._notifier.dispatchResumed();},doHandleRecoveryStarted:function(s08){this._notifier.dispatchRecoveryStarted(s08);},doHandleRecoveryFinished:function(J08,A08){if(A08){this.doHandleStateChange(r1J.Paused);}this._notifier.dispatchRecoveryFinished(J08);},doHandleTimeChanged:function(j08,Q08,k08,i08,I08){this._updater.setTimeChanged(j08,Q08,k08,i08,I08);this._notifier.dispatchTimeChanged(j08);},doHandleSeekStarted:function(){if(this._model.state()==r1J.Playing||this._model.state()==r1J.Paused||this._model.state()==r1J.Buffering){this._stateBeforeSeeking=this._model.state();this.doHandleStateChange(r1J.Seeking);this._notifier.dispatchSeekStarted();}},doHandleSeekFinished:function(E08,y08){if(this._model.state()==r1J.Seeking){this._updater.setSeekFinished(E08,y08);var r08=this._stateBeforeSeeking==r1J.Paused;if(r08){this.doHandleStateChange(r1J.Paused);}else{this.doHandleStateChange(r1J.Playing);}this._notifier.dispatchSeekFinished(E08,y08);}},doHandleVolumeChanged:function(u18){this._updater.setVolume(u18);this._notifier.dispatchVolumeChanged(u18);},doHandleMuteChanged:function(X18){this._updater.setMute(X18);this._notifier.dispatchMuteChanged(X18);},doHandleResize:function(h18,f18,D18,C18){this._updater.setResized(h18,f18,D18,C18);this._notifier.dispatchResized(h18,f18,D18,C18);},doHandleStopped:function(){this.doHandleStateChange(r1J.Stopped);this._notifier.dispatchStopped();},doHandleFinished:function(){this.doHandleStateChange(r1J.Finished);this._notifier.dispatchFinished();},doHandleInitError:function(w18){this._updater.setError(w18);this._notifier.dispatchInitError(w18);},doHandleError:function(Y18){this._updater.setError(Y18);this.doHandleStateChange(r1J.Error);this._notifier.dispatchError(Y18);},doHandleAppliedConfigData:function(c18){this._updater.setAppliedConfigData(c18);},init:function(F18,R18,U18){this.doInit(F18,R18,U18);return this;},handleCommandReceived:function(q18,o18){this.doHandleCommandReceived(q18,o18);return this;},handleCommandRejected:function(t18,l18){this.doHandleCommandRejected(t18,l18);return this;},handleStateChange:function(G18){this.doHandleStateChange(G18);return this;},handleStarting:function(m18,K18){this.doHandleStarting(m18,K18);return this;},handleBlocked:function(N18){this.doHandleBlocked(N18);return this;},handleLoaded:function(x18,g18,P18,M18,L18,a18,O18,H18,T18,d18,b18){this.doHandleLoaded(x18,g18,P18,M18,L18,a18,O18,H18,T18,d18,b18);return this;},handleTimedMetadataReceived:function(v18,V18,p18,Z18,B18,W18){this.doHandleTimedMetadataReceived(v18,V18,p18,Z18,B18,W18);return this;},handleRequestProfileChanged:function(z18,S18,e18){this.doHandleRequestProfileChanged(z18,S18,e18);return this;},handleProfileChanging:function(n18,s18,J18){this.doHandleProfileChanging(n18,s18,J18);return this;},handleProfileChanged:function(A18,j18,Q18){this.doHandleProfileChanged(A18,j18,Q18);return this;},handleBufferingStarted:function(){this.doHandleBufferingStarted();return this;},handleBufferingFinished:function(){this.doHandleBufferingFinished();return this;},handleStarted:function(){this.doHandleStarted();return this;},handlePaused:function(){this.doHandlePaused();return this;},handleResumed:function(){this.doHandleResumed();return this;},handleRecoveryStarted:function(k18){this.doHandleRecoveryStarted(k18);return this;},handleRecoveryFinished:function(i18,I18){this.doHandleRecoveryFinished(i18,I18);return this;},handleTimeChanged:function(E18,y18,r18,u48,X48){this.doHandleTimeChanged(E18,y18,r18,u48,X48);return this;},handleSeekStarted:function(){this.doHandleSeekStarted();return this;},handleSeekFinished:function(h48,f48){this.doHandleSeekFinished(h48,f48);return this;},handleVolumeChanged:function(D48){this.doHandleVolumeChanged(D48);return this;},handleMuteChanged:function(C48){this.doHandleMuteChanged(C48);return this;},handleResize:function(w48,Y48,c48,F48){this.doHandleResize(w48,Y48,c48,F48);return this;},handleStopped:function(){this.doHandleStopped();return this;},handleFinished:function(){this.doHandleFinished();return this;},handleInitError:function(R48){this.doHandleInitError(R48);return this;},handleError:function(U48){this.doHandleError(U48);return this;},handleAppliedConfigData:function(q48){this.doHandleAppliedConfigData(q48);return this;},__class__:n8J};var B1y={};O1J["com.turner.top.sdk.common.media.converters._ApiTypes.ApiTimeValue_Impl_"]=B1y;B1y.__name__=["com","turner","top","sdk","common","media","converters","_ApiTypes","ApiTimeValue_Impl_"];B1y._new=function(t48){var o48=t48;return o48;};B1y.fromFloat=function(m48){var l48=m48;var G48=l48;return G48;};B1y.fromValueInSeconds=function(N48){var K48=N48;return K48;};B1y.toFloat=function(a48){return a48;};var W1y={};O1J["com.turner.top.sdk.common.media.converters._ApiTypes.ApiVolumeValue_Impl_"]=W1y;W1y.__name__=["com","turner","top","sdk","common","media","converters","_ApiTypes","ApiVolumeValue_Impl_"];W1y._new=function(g48){var b48=g48;return b48;};W1y.fromFloat=function(L48){var P48=L48;var M48=P48;return M48;};W1y.fromValueBetween0and1=function(O48){var x48=O48;return x48;};W1y.toFloat=function(H48){return H48;};var z1y={};O1J["com.turner.top.sdk.common.media.converters._ApiTypes.ApiBitrateValue_Impl_"]=z1y;z1y.__name__=["com","turner","top","sdk","common","media","converters","_ApiTypes","ApiBitrateValue_Impl_"];z1y._new=function(d48){var T48=d48;return T48;};z1y.fromInt=function(p48){var v48=p48;var V48=v48;return V48;};z1y.fromValueInKBps=function(B48){var Z48=B48;return Z48;};z1y.toInt=function(W48){return W48;};var m4J=function(){u4J.call(this);};O1J["com.turner.top.sdk.common.media.events.MediaEventResult"]=m4J;m4J.__name__=["com","turner","top","sdk","common","media","events","MediaEventResult"];m4J.__super__=u4J;m4J.prototype=v1J(u4J.prototype,{__class__:m4J});var e1y=function(z48,S48){m4J.call(this);this.command=z48;this.args=S48;};O1J["com.turner.top.sdk.common.media.events.MediaCommandReceivedResult"]=e1y;e1y.__name__=["com","turner","top","sdk","common","media","events","MediaCommandReceivedResult"];e1y.__super__=m4J;e1y.prototype=v1J(m4J.prototype,{command:null,args:null,__class__:e1y});var n1y=function(e48,n48){m4J.call(this);this.command=e48;this.args=n48;};O1J["com.turner.top.sdk.common.media.events.MediaCommandRejectedResult"]=n1y;n1y.__name__=["com","turner","top","sdk","common","media","events","MediaCommandRejectedResult"];n1y.__super__=m4J;n1y.prototype=v1J(m4J.prototype,{command:null,args:null,__class__:n1y});var s1y=function(s48){m4J.call(this);this.initialTimedMetadata=s48;};O1J["com.turner.top.sdk.common.media.events.MediaLoadedResult"]=s1y;s1y.__name__=["com","turner","top","sdk","common","media","events","MediaLoadedResult"];s1y.__super__=m4J;s1y.prototype=v1J(m4J.prototype,{initialTimedMetadata:null,__class__:s1y});var r5J=function(J48,A48){m4J.call(this);this.previousState=J48;this.currentState=A48;};O1J["com.turner.top.sdk.common.media.events.MediaStateChangedResult"]=r5J;r5J.__name__=["com","turner","top","sdk","common","media","events","MediaStateChangedResult"];r5J.__super__=m4J;r5J.prototype=v1J(m4J.prototype,{previousState:null,currentState:null,__class__:r5J});var A1y=function(j48,Q48){m4J.call(this);this.url=j48;this.config=Q48;};O1J["com.turner.top.sdk.common.media.events.MediaStartingResult"]=A1y;A1y.__name__=["com","turner","top","sdk","common","media","events","MediaStartingResult"];A1y.__super__=m4J;A1y.prototype=v1J(m4J.prototype,{url:null,config:null,__class__:A1y});var j1y=function(k48){m4J.call(this);this.reason=k48;};O1J["com.turner.top.sdk.common.media.events.MediaBlockedResult"]=j1y;j1y.__name__=["com","turner","top","sdk","common","media","events","MediaBlockedResult"];j1y.__super__=m4J;j1y.prototype=v1J(m4J.prototype,{reason:null,__class__:j1y});var D3J=function(i48){m4J.call(this);this.time=i48;};O1J["com.turner.top.sdk.common.media.events.MediaTimeChangedResult"]=D3J;D3J.__name__=["com","turner","top","sdk","common","media","events","MediaTimeChangedResult"];D3J.__super__=m4J;D3J.prototype=v1J(m4J.prototype,{time:null,__class__:D3J});var k1y=function(I48,E48,y48,r48){m4J.call(this);this.index=I48;this.profile=E48;this.mediaWidth=y48;this.mediaHeight=r48;};O1J["com.turner.top.sdk.common.media.events.MediaRequestProfileChangedResult"]=k1y;k1y.__name__=["com","turner","top","sdk","common","media","events","MediaRequestProfileChangedResult"];k1y.__super__=m4J;k1y.prototype=v1J(m4J.prototype,{index:null,profile:null,mediaWidth:null,mediaHeight:null,__class__:k1y});var i1y=function(u68,X68,h68,f68){m4J.call(this);this.index=u68;this.profile=X68;this.mediaWidth=h68;this.mediaHeight=f68;};O1J["com.turner.top.sdk.common.media.events.MediaProfileChangingResult"]=i1y;i1y.__name__=["com","turner","top","sdk","common","media","events","MediaProfileChangingResult"];i1y.__super__=m4J;i1y.prototype=v1J(m4J.prototype,{index:null,profile:null,mediaWidth:null,mediaHeight:null,__class__:i1y});var I1y=function(D68,C68,w68,Y68){m4J.call(this);this.index=D68;this.profile=C68;this.mediaWidth=w68;this.mediaHeight=Y68;};O1J["com.turner.top.sdk.common.media.events.MediaProfileChangedResult"]=I1y;I1y.__name__=["com","turner","top","sdk","common","media","events","MediaProfileChangedResult"];I1y.__super__=m4J;I1y.prototype=v1J(m4J.prototype,{index:null,profile:null,mediaWidth:null,mediaHeight:null,__class__:I1y});var r3J=function(c68,F68){m4J.call(this);this.requestedTime=c68;this.time=F68;};O1J["com.turner.top.sdk.common.media.events.MediaSeekingFinishedResult"]=r3J;r3J.__name__=["com","turner","top","sdk","common","media","events","MediaSeekingFinishedResult"];r3J.__super__=m4J;r3J.prototype=v1J(m4J.prototype,{requestedTime:null,time:null,__class__:r3J});var y1y=function(R68){m4J.call(this);this.volume=R68;};O1J["com.turner.top.sdk.common.media.events.MediaVolumeChangedResult"]=y1y;y1y.__name__=["com","turner","top","sdk","common","media","events","MediaVolumeChangedResult"];y1y.__super__=m4J;y1y.prototype=v1J(m4J.prototype,{volume:null,__class__:y1y});var r1y=function(U68){m4J.call(this);this.muted=U68;};O1J["com.turner.top.sdk.common.media.events.MediaMuteChangedResult"]=r1y;r1y.__name__=["com","turner","top","sdk","common","media","events","MediaMuteChangedResult"];r1y.__super__=m4J;r1y.prototype=v1J(m4J.prototype,{muted:null,__class__:r1y});var u4y=function(q68,o68,t68,l68){m4J.call(this);this.viewWidth=q68;this.viewHeight=o68;this.mediaWidth=t68;this.mediaHeight=l68;};O1J["com.turner.top.sdk.common.media.events.MediaResizedResult"]=u4y;u4y.__name__=["com","turner","top","sdk","common","media","events","MediaResizedResult"];u4y.__super__=m4J;u4y.prototype=v1J(m4J.prototype,{viewWidth:null,viewHeight:null,mediaWidth:null,mediaHeight:null,__class__:u4y});var X0y=function(G68,m68,K68,N68,a68,b68){m4J.call(this);this.timeReceived=G68;this.timeToTrigger=m68;this.source=K68;this.metadataType=N68;this.streamMetadata=a68;this.content=b68;};O1J["com.turner.top.sdk.common.media.events.MediaTimedMetadataReceivedResult"]=X0y;X0y.__name__=["com","turner","top","sdk","common","media","events","MediaTimedMetadataReceivedResult"];X0y.__super__=m4J;X0y.prototype=v1J(m4J.prototype,{timeReceived:null,timeToTrigger:null,source:null,metadataType:null,streamMetadata:null,content:null,__class__:X0y});var h0y=function(g68){m4J.call(this);this.description=g68;};O1J["com.turner.top.sdk.common.media.events.MediaErrorResult"]=h0y;h0y.__name__=["com","turner","top","sdk","common","media","events","MediaErrorResult"];h0y.__super__=m4J;h0y.prototype=v1J(m4J.prototype,{description:null,__class__:h0y});var f4y=function(P68){m4J.call(this);this.description=P68;};O1J["com.turner.top.sdk.common.media.events.MediaStalledResult"]=f4y;f4y.__name__=["com","turner","top","sdk","common","media","events","MediaStalledResult"];f4y.__super__=m4J;f4y.prototype=v1J(m4J.prototype,{description:null,__class__:f4y});var f0y=function(M68){m4J.call(this);this.reason=M68;};O1J["com.turner.top.sdk.common.media.events.MediaRecoveryResult"]=f0y;f0y.__name__=["com","turner","top","sdk","common","media","events","MediaRecoveryResult"];f0y.__super__=m4J;f0y.prototype=v1J(m4J.prototype,{reason:null,__class__:f0y});var C4y=function(){V1J.call(this,W1J.Command_Received);};O1J["com.turner.top.sdk.common.media.events.MediaCommandReceivedEvent"]=C4y;C4y.__name__=["com","turner","top","sdk","common","media","events","MediaCommandReceivedEvent"];C4y.__super__=V1J;C4y.prototype=v1J(V1J.prototype,{__class__:C4y});var w4y=function(){V1J.call(this,W1J.Command_Rejected);};O1J["com.turner.top.sdk.common.media.events.MediaCommandRejectedEvent"]=w4y;w4y.__name__=["com","turner","top","sdk","common","media","events","MediaCommandRejectedEvent"];w4y.__super__=V1J;w4y.prototype=v1J(V1J.prototype,{__class__:w4y});var Y4y=function(){V1J.call(this,W1J.State_Changed);};O1J["com.turner.top.sdk.common.media.events.MediaStateChangedEvent"]=Y4y;Y4y.__name__=["com","turner","top","sdk","common","media","events","MediaStateChangedEvent"];Y4y.__super__=V1J;Y4y.prototype=v1J(V1J.prototype,{__class__:Y4y});var c4y=function(){V1J.call(this,W1J.Starting);};O1J["com.turner.top.sdk.common.media.events.MediaStartingEvent"]=c4y;c4y.__name__=["com","turner","top","sdk","common","media","events","MediaStartingEvent"];c4y.__super__=V1J;c4y.prototype=v1J(V1J.prototype,{__class__:c4y});var F4y=function(){V1J.call(this,W1J.Blocked);};O1J["com.turner.top.sdk.common.media.events.MediaBlockedEvent"]=F4y;F4y.__name__=["com","turner","top","sdk","common","media","events","MediaBlockedEvent"];F4y.__super__=V1J;F4y.prototype=v1J(V1J.prototype,{__class__:F4y});var R4y=function(){V1J.call(this,W1J.Loaded);};O1J["com.turner.top.sdk.common.media.events.MediaLoadedEvent"]=R4y;R4y.__name__=["com","turner","top","sdk","common","media","events","MediaLoadedEvent"];R4y.__super__=V1J;R4y.prototype=v1J(V1J.prototype,{__class__:R4y});var U4y=function(){V1J.call(this,W1J.Started);};O1J["com.turner.top.sdk.common.media.events.MediaStartedEvent"]=U4y;U4y.__name__=["com","turner","top","sdk","common","media","events","MediaStartedEvent"];U4y.__super__=V1J;U4y.prototype=v1J(V1J.prototype,{__class__:U4y});var q4y=function(){V1J.call(this,W1J.Buffering_Started);};O1J["com.turner.top.sdk.common.media.events.MediaBufferingStartedEvent"]=q4y;q4y.__name__=["com","turner","top","sdk","common","media","events","MediaBufferingStartedEvent"];q4y.__super__=V1J;q4y.prototype=v1J(V1J.prototype,{__class__:q4y});var o4y=function(){V1J.call(this,W1J.Buffering_Finished);};O1J["com.turner.top.sdk.common.media.events.MediaBufferingFinishedEvent"]=o4y;o4y.__name__=["com","turner","top","sdk","common","media","events","MediaBufferingFinishedEvent"];o4y.__super__=V1J;o4y.prototype=v1J(V1J.prototype,{__class__:o4y});var t4y=function(){V1J.call(this,W1J.Seeking_Started);};O1J["com.turner.top.sdk.common.media.events.MediaSeekingStartedEvent"]=t4y;t4y.__name__=["com","turner","top","sdk","common","media","events","MediaSeekingStartedEvent"];t4y.__super__=V1J;t4y.prototype=v1J(V1J.prototype,{__class__:t4y});var l4y=function(){V1J.call(this,W1J.Seeking_Finished);};O1J["com.turner.top.sdk.common.media.events.MediaSeekingFinishedEvent"]=l4y;l4y.__name__=["com","turner","top","sdk","common","media","events","MediaSeekingFinishedEvent"];l4y.__super__=V1J;l4y.prototype=v1J(V1J.prototype,{__class__:l4y});var G4y=function(){V1J.call(this,W1J.Request_Profile_Changed);};O1J["com.turner.top.sdk.common.media.events.MediaRequestProfileChangedEvent"]=G4y;G4y.__name__=["com","turner","top","sdk","common","media","events","MediaRequestProfileChangedEvent"];G4y.__super__=V1J;G4y.prototype=v1J(V1J.prototype,{__class__:G4y});var m4y=function(){V1J.call(this,W1J.Profile_Changing);};O1J["com.turner.top.sdk.common.media.events.MediaProfileChangingEvent"]=m4y;m4y.__name__=["com","turner","top","sdk","common","media","events","MediaProfileChangingEvent"];m4y.__super__=V1J;m4y.prototype=v1J(V1J.prototype,{__class__:m4y});var K4y=function(){V1J.call(this,W1J.Profile_Changed);};O1J["com.turner.top.sdk.common.media.events.MediaProfileChangedEvent"]=K4y;K4y.__name__=["com","turner","top","sdk","common","media","events","MediaProfileChangedEvent"];K4y.__super__=V1J;K4y.prototype=v1J(V1J.prototype,{__class__:K4y});var N4y=function(){V1J.call(this,W1J.Time_Changed);};O1J["com.turner.top.sdk.common.media.events.MediaTimeChangedEvent"]=N4y;N4y.__name__=["com","turner","top","sdk","common","media","events","MediaTimeChangedEvent"];N4y.__super__=V1J;N4y.prototype=v1J(V1J.prototype,{__class__:N4y});var a4y=function(){V1J.call(this,W1J.Paused);};O1J["com.turner.top.sdk.common.media.events.MediaPausedEvent"]=a4y;a4y.__name__=["com","turner","top","sdk","common","media","events","MediaPausedEvent"];a4y.__super__=V1J;a4y.prototype=v1J(V1J.prototype,{__class__:a4y});var b4y=function(){V1J.call(this,W1J.Resumed);};O1J["com.turner.top.sdk.common.media.events.MediaResumedEvent"]=b4y;b4y.__name__=["com","turner","top","sdk","common","media","events","MediaResumedEvent"];b4y.__super__=V1J;b4y.prototype=v1J(V1J.prototype,{__class__:b4y});var g4y=function(){V1J.call(this,W1J.Recovery_Started);};O1J["com.turner.top.sdk.common.media.events.MediaRecoveryStartedEvent"]=g4y;g4y.__name__=["com","turner","top","sdk","common","media","events","MediaRecoveryStartedEvent"];g4y.__super__=V1J;g4y.prototype=v1J(V1J.prototype,{__class__:g4y});var P4y=function(){V1J.call(this,W1J.Recovery_Finished);};O1J["com.turner.top.sdk.common.media.events.MediaRecoveryFinishedEvent"]=P4y;P4y.__name__=["com","turner","top","sdk","common","media","events","MediaRecoveryFinishedEvent"];P4y.__super__=V1J;P4y.prototype=v1J(V1J.prototype,{__class__:P4y});var M4y=function(){V1J.call(this,W1J.Volume_Changed);};O1J["com.turner.top.sdk.common.media.events.MediaVolumeChangedEvent"]=M4y;M4y.__name__=["com","turner","top","sdk","common","media","events","MediaVolumeChangedEvent"];M4y.__super__=V1J;M4y.prototype=v1J(V1J.prototype,{__class__:M4y});var L4y=function(){V1J.call(this,W1J.Mute_Changed);};O1J["com.turner.top.sdk.common.media.events.MediaMuteChangedEvent"]=L4y;L4y.__name__=["com","turner","top","sdk","common","media","events","MediaMuteChangedEvent"];L4y.__super__=V1J;L4y.prototype=v1J(V1J.prototype,{__class__:L4y});var x4y=function(){V1J.call(this,W1J.Resized);};O1J["com.turner.top.sdk.common.media.events.MediaResizedEvent"]=x4y;x4y.__name__=["com","turner","top","sdk","common","media","events","MediaResizedEvent"];x4y.__super__=V1J;x4y.prototype=v1J(V1J.prototype,{__class__:x4y});var O4y=function(){V1J.call(this,W1J.Timed_Metadata_Received);};O1J["com.turner.top.sdk.common.media.events.MediaTimedMetadataRecievedEvent"]=O4y;O4y.__name__=["com","turner","top","sdk","common","media","events","MediaTimedMetadataRecievedEvent"];O4y.__super__=V1J;O4y.prototype=v1J(V1J.prototype,{__class__:O4y});var H4y=function(){V1J.call(this,W1J.Stopped);};O1J["com.turner.top.sdk.common.media.events.MediaStoppedEvent"]=H4y;H4y.__name__=["com","turner","top","sdk","common","media","events","MediaStoppedEvent"];H4y.__super__=V1J;H4y.prototype=v1J(V1J.prototype,{__class__:H4y});var T4y=function(){V1J.call(this,W1J.Finished);};O1J["com.turner.top.sdk.common.media.events.MediaFinishedEvent"]=T4y;T4y.__name__=["com","turner","top","sdk","common","media","events","MediaFinishedEvent"];T4y.__super__=V1J;T4y.prototype=v1J(V1J.prototype,{__class__:T4y});var d4y=function(){V1J.call(this,W1J.Error);};O1J["com.turner.top.sdk.common.media.events.MediaErrorEvent"]=d4y;d4y.__name__=["com","turner","top","sdk","common","media","events","MediaErrorEvent"];d4y.__super__=V1J;d4y.prototype=v1J(V1J.prototype,{__class__:d4y});var H5y=function(){V1J.call(this,W1J.Stalled);};O1J["com.turner.top.sdk.common.media.events.MediaStalledEvent"]=H5y;H5y.__name__=["com","turner","top","sdk","common","media","events","MediaStalledEvent"];H5y.__super__=V1J;H5y.prototype=v1J(V1J.prototype,{__class__:H5y});var D0y=function(){G4J.call(this,[this.commandReceived=new C4y(),this.commandRejected=new w4y(),this.stateChanged=new Y4y(),this.starting=new c4y(),this.blocked=new F4y(),this.loaded=new R4y(),this.started=new U4y(),this.bufferingStarted=new q4y(),this.bufferingFinished=new o4y(),this.seekingStarted=new t4y(),this.seekingFinished=new l4y(),this.requestProfileChanged=new G4y(),this.profileChanging=new m4y(),this.profileChanged=new K4y(),this.timeChanged=new N4y(),this.paused=new a4y(),this.resumed=new b4y(),this.recoveryStarted=new g4y(),this.recoveryFinished=new P4y(),this.volumeChanged=new M4y(),this.muteChanged=new L4y(),this.resized=new x4y(),this.stopped=new H4y(),this.timedMetadataReceived=new O4y(),this.finished=new T4y(),this.error=new d4y()]);};O1J["com.turner.top.sdk.common.media.events.MediaEvents"]=D0y;D0y.__name__=["com","turner","top","sdk","common","media","events","MediaEvents"];D0y.__super__=G4J;D0y.prototype=v1J(G4J.prototype,{commandReceived:null,commandRejected:null,stateChanged:null,starting:null,blocked:null,loaded:null,started:null,bufferingStarted:null,bufferingFinished:null,seekingStarted:null,seekingFinished:null,requestProfileChanged:null,profileChanging:null,profileChanged:null,timeChanged:null,paused:null,resumed:null,recoveryStarted:null,recoveryFinished:null,volumeChanged:null,muteChanged:null,resized:null,stopped:null,timedMetadataReceived:null,finished:null,error:null,__class__:D0y});var p4y=e1J["com"]["turner"]["top"]["sdk"]["common"]["media"]["metrics"]["MediaMetricsAggregator"]=function(L68){this._engine=L68;this._events=new x5y();};O1J["com.turner.top.sdk.common.media.metrics.MediaMetricsAggregator"]=p4y;p4y.__name__=["com","turner","top","sdk","common","media","metrics","MediaMetricsAggregator"];p4y.prototype={_engine:null,_events:null,_receivedPlayCommand:null,_timeToFirstFrame:null,_bufferStartTime:null,_initialBufferTime:null,_lastBufferTime:null,_lowestBitrate:null,_highestBitrate:null,_numOfSwitches:null,_seekStartTime:null,_lastSeekTime:null,doInit:function(){this.addEngineListeners();},resetForPlay:function(){this._receivedPlayCommand=-1;this._timeToFirstFrame=-1;this._bufferStartTime=-1;this._initialBufferTime=-1;this._lastBufferTime=-1;this._lowestBitrate=-1;this._highestBitrate=-1;this._numOfSwitches=0;this._seekStartTime=-1;this._lastSeekTime=-1;},addEngineListeners:function(){var x68=this._engine.events();var H68=p1J(this,this.onEngineEvent1);var T68=function(Q68){H68(W1J.Command_Received,Q68);};x68.commandReceived.listen(T68);var d68=p1J(this,this.onEngineEvent1);var v68=function(k68){d68(W1J.State_Changed,k68);};x68.stateChanged.listen(v68);var V68=p1J(this,this.onEngineEvent1);var p68=function(i68){V68(W1J.Starting,i68);};x68.starting.listen(p68);var Z68=p1J(this,this.onEngineEvent1);var B68=function(I68){Z68(W1J.Started,I68);};x68.started.listen(B68);var O68=p1J(this,this.onEngineEvent1);var z68=function(E68){O68(W1J.Buffering_Started,E68);};x68.bufferingStarted.listen(z68);var S68=p1J(this,this.onEngineEvent1);var e68=function(y68){S68(W1J.Buffering_Finished,y68);};x68.bufferingFinished.listen(e68);var n68=p1J(this,this.onEngineEvent1);var s68=function(r68){n68(W1J.Profile_Changed,r68);};x68.profileChanged.listen(s68);var J68=p1J(this,this.onEngineEvent1);var A68=function(u28){J68(W1J.Seeking_Started,u28);};x68.seekingStarted.listen(A68);var j68=p1J(this,this.onEngineEvent1);var W68=function(X28){j68(W1J.Seeking_Finished,X28);};x68.seekingFinished.listen(W68);},onEngineEvent1:function(h28,f28){this.onEngineEvent(h28,f28);},onEngineEvent:function(c28,D28){switch(c28[1]){case 0:var Y28=D28.command;if(Y28[1]==0){this.resetForPlay();this._receivedPlayCommand=this.getTime();}break;case 2:break;case 7:this._timeToFirstFrame=this.getTime()-this._receivedPlayCommand;this.notifyPropertyChanged(Q4J.Time_To_First_Frame,null,this._timeToFirstFrame);break;case 8:this._bufferStartTime=this.getTime();break;case 9:if(this._initialBufferTime==-1){this._initialBufferTime=this.getTime()-this._bufferStartTime;this.notifyPropertyChanged(Q4J.Initial_Buffer_Time,null,this._initialBufferTime);}else{var C28=this.getTime()-this._bufferStartTime;this.notifyPropertyChanged(Q4J.Last_Buffer_Time,this._lastBufferTime,C28);this._lastBufferTime=C28;}break;case 10:this._seekStartTime=this.getTime();break;case 11:var w28=this.getTime()-this._seekStartTime;this.notifyPropertyChanged(Q4J.Last_Seek_Time,this._lastSeekTime,w28);this._lastSeekTime=w28;break;case 14:if(this._lowestBitrate==-1||D28.profile.bitrate<this._lowestBitrate){this.notifyPropertyChanged(Q4J.Lowest_Bitrate,this._lowestBitrate,D28.profile.bitrate);this._lowestBitrate=D28.profile.bitrate;}if(this._highestBitrate==-1||D28.profile.bitrate>this._highestBitrate){this.notifyPropertyChanged(Q4J.Highest_Bitrate,this._highestBitrate,D28.profile.bitrate);this._highestBitrate=D28.profile.bitrate;}this.notifyPropertyChanged(Q4J.Num_Of_Switches,this._numOfSwitches,this._numOfSwitches+1);this._numOfSwitches++;break;default:}},removeEngineListeners:function(){var F28=this._engine.events();var U28=p1J(this,this.onEngineEvent1);var q28=function(H28){U28(W1J.Command_Received,H28);};F28.commandReceived.unlisten(q28);var o28=p1J(this,this.onEngineEvent1);var t28=function(T28){o28(W1J.State_Changed,T28);};F28.stateChanged.unlisten(t28);var l28=p1J(this,this.onEngineEvent1);var G28=function(d28){l28(W1J.Starting,d28);};F28.starting.unlisten(G28);var m28=p1J(this,this.onEngineEvent1);var K28=function(v28){m28(W1J.Started,v28);};F28.started.unlisten(K28);var R28=p1J(this,this.onEngineEvent1);var a28=function(V28){R28(W1J.Buffering_Started,V28);};F28.bufferingStarted.unlisten(a28);var b28=p1J(this,this.onEngineEvent1);var g28=function(p28){b28(W1J.Buffering_Finished,p28);};F28.bufferingFinished.unlisten(g28);var P28=p1J(this,this.onEngineEvent1);var M28=function(Z28){P28(W1J.Profile_Changed,Z28);};F28.profileChanged.unlisten(M28);var L28=p1J(this,this.onEngineEvent1);var x28=function(B28){L28(W1J.Seeking_Started,B28);};F28.seekingStarted.unlisten(x28);var O28=p1J(this,this.onEngineEvent1);var N28=function(W28){O28(W1J.Seeking_Finished,W28);};F28.seekingFinished.unlisten(N28);},getTime:function(){return new Date().getTime();},notifyPropertyChanged:function(S28,e28,n28){var z28=new B4y(S28,e28,n28);this._events.propertyChanged.dispatch(z28);},init:function(){this.doInit();return this;},events:function(){return this._events;},__class__:p4y};var Q4J=O1J["com.turner.top.sdk.common.media.metrics.MediaMetricsAggregatorProperty"]={__ename__:["com","turner","top","sdk","common","media","metrics","MediaMetricsAggregatorProperty"],__constructs__:["Time_To_First_Frame","Initial_Buffer_Time","Lowest_Bitrate","Highest_Bitrate","Num_Of_Switches","Last_Buffer_Time","Last_Seek_Time"]};Q4J.Time_To_First_Frame=["Time_To_First_Frame",0];Q4J.Time_To_First_Frame.toString=H1J;Q4J.Time_To_First_Frame.__enum__=Q4J;Q4J.Initial_Buffer_Time=["Initial_Buffer_Time",1];Q4J.Initial_Buffer_Time.toString=H1J;Q4J.Initial_Buffer_Time.__enum__=Q4J;Q4J.Lowest_Bitrate=["Lowest_Bitrate",2];Q4J.Lowest_Bitrate.toString=H1J;Q4J.Lowest_Bitrate.__enum__=Q4J;Q4J.Highest_Bitrate=["Highest_Bitrate",3];Q4J.Highest_Bitrate.toString=H1J;Q4J.Highest_Bitrate.__enum__=Q4J;Q4J.Num_Of_Switches=["Num_Of_Switches",4];Q4J.Num_Of_Switches.toString=H1J;Q4J.Num_Of_Switches.__enum__=Q4J;Q4J.Last_Buffer_Time=["Last_Buffer_Time",5];Q4J.Last_Buffer_Time.toString=H1J;Q4J.Last_Buffer_Time.__enum__=Q4J;Q4J.Last_Seek_Time=["Last_Seek_Time",6];Q4J.Last_Seek_Time.toString=H1J;Q4J.Last_Seek_Time.__enum__=Q4J;Q4J.__empty_constructs__=[Q4J.Time_To_First_Frame,Q4J.Initial_Buffer_Time,Q4J.Lowest_Bitrate,Q4J.Highest_Bitrate,Q4J.Num_Of_Switches,Q4J.Last_Buffer_Time,Q4J.Last_Seek_Time];var B4y=function(s28,J28,A28){u4J.call(this);this.property=s28;this.oldValue=J28;this.currentValue=A28;};O1J["com.turner.top.sdk.common.media.metrics.events.MediaMetricsAggregatorPropertyChangedResult"]=B4y;B4y.__name__=["com","turner","top","sdk","common","media","metrics","events","MediaMetricsAggregatorPropertyChangedResult"];B4y.__super__=u4J;B4y.prototype=v1J(u4J.prototype,{property:null,oldValue:null,currentValue:null,__class__:B4y});var C0y=O1J["com.turner.top.sdk.common.media.metrics.events.MediaMetricsAggregatorEventType"]={__ename__:["com","turner","top","sdk","common","media","metrics","events","MediaMetricsAggregatorEventType"],__constructs__:["Property_Changed"]};C0y.Property_Changed=["Property_Changed",0];C0y.Property_Changed.toString=H1J;C0y.Property_Changed.__enum__=C0y;C0y.__empty_constructs__=[C0y.Property_Changed];var z4y=function(){V1J.call(this,C0y.Property_Changed);};O1J["com.turner.top.sdk.common.media.metrics.events.MediaMetricsAggregatorPropertyChangedEvent"]=z4y;z4y.__name__=["com","turner","top","sdk","common","media","metrics","events","MediaMetricsAggregatorPropertyChangedEvent"];z4y.__super__=V1J;z4y.prototype=v1J(V1J.prototype,{__class__:z4y});var x5y=function(){this.propertyChanged=new z4y();};O1J["com.turner.top.sdk.common.media.metrics.events.MediaMetricsAggregatorEvents"]=x5y;x5y.__name__=["com","turner","top","sdk","common","media","metrics","events","MediaMetricsAggregatorEvents"];x5y.prototype={propertyChanged:null,__class__:x5y};var e4y=function(){};O1J["com.turner.top.sdk.common.media.models.IMediaEngineModel"]=e4y;e4y.__name__=["com","turner","top","sdk","common","media","models","IMediaEngineModel"];e4y.__interfaces__=[P9J];e4y.prototype={_events:null,_state:null,_viewWidth:null,_viewHeight:null,_volume:null,_muted:null,_url:null,_isLive:null,_isProtected:null,_isDynamic:null,_profiles:null,_absoluteTime:null,_time:null,_duration:null,_playableRange:null,_seekableRange:null,_profileIndex:null,_bitrate:null,_calculatedMediaWidth:null,_calculatedMediaHeight:null,_initialBufferLength:null,_playBufferLength:null,_startIndex:null,_startBitrate:null,_minBitrate:null,_maxBitrate:null,_streamInfo:null,_error:null,events:null,state:null,viewWidth:null,viewHeight:null,volume:null,muted:null,url:null,isLive:null,isProtected:null,isDynamic:null,profiles:null,absoluteTime:null,time:null,duration:null,playableRange:null,seekableRange:null,profileIndex:null,bitrate:null,calculatedMediaWidth:null,calculatedMediaHeight:null,initialBufferLength:null,playBufferLength:null,startIndex:null,startBitrate:null,minBitrate:null,maxBitrate:null,streamInfo:null,error:null,__class__:e4y};var P7J=function(){t6J.call(this,z1J);this._events=new h6y();this._streamInfo=new s7J();this._streamInfo.events().propertyChanged.listen(p1J(this,this.onStreamInfoChanged));};O1J["com.turner.top.sdk.common.media.models.MediaEngineModel"]=P7J;P7J.__name__=["com","turner","top","sdk","common","media","models","MediaEngineModel"];P7J.__interfaces__=[e4y];P7J.extendBy=function(Q28,k28){var j28=new P7J();j28.init(Q28.toData());j28.extend(k28);return j28;};P7J.mergeBy=function(I28,E28){var i28=new P7J();i28.init(I28.toData());i28.extend(E28.toData());return i28;};P7J.__super__=t6J;P7J.prototype=v1J(t6J.prototype,{_events:null,_state:null,_viewWidth:null,_viewHeight:null,_volume:null,_muted:null,_url:null,_isLive:null,_isProtected:null,_isDynamic:null,_profiles:null,_absoluteTime:null,_time:null,_duration:null,_playableRange:null,_seekableRange:null,_profileIndex:null,_bitrate:null,_calculatedMediaWidth:null,_calculatedMediaHeight:null,_initialBufferLength:null,_playBufferLength:null,_startIndex:null,_startBitrate:null,_minBitrate:null,_maxBitrate:null,_capBitrateToSize:null,_streamInfo:null,_error:null,doInit:function(y28){t6J.prototype.doInit.call(this,k5y.data());this._streamInfo.init(null);this.doExtend(y28);},doExtend:function(r28){if(r28==null){return;}if(r28.state!=null){this._setState(r28.state);}if(r28.viewWidth!=null){this._setViewWidth(r28.viewWidth);}if(r28.viewHeight!=null){this._setViewHeight(r28.viewHeight);}if(r28.volume!=null){this._setVolume(r28.volume);}if(r28.muted!=null){this._setMuted(r28.muted);}if(r28.url!=null){this._setUrl(r28.url);}if(r28.isLive!=null){this._setIsLive(r28.isLive);}if(r28.isProtected!=null){this._setIsProtected(r28.isProtected);}if(r28.isDynamic!=null){this._setIsDynamic(r28.isDynamic);}if(r28.profiles!=null){this._setProfiles(r28.profiles);}if(r28.absoluteTime!=null){this._setAbsoluteTime(r28.absoluteTime);}if(r28.time!=null){this._setTime(r28.time);}if(r28.duration!=null){this._setDuration(r28.duration);}if(r28.playableRange!=null){this._setPlayableRange(r28.playableRange);}if(r28.seekableRange!=null){this._setSeekableRange(r28.seekableRange);}if(r28.profileIndex!=null){this._setProfileIndex(r28.profileIndex);}if(r28.bitrate!=null){this._setBitrate(r28.bitrate);}if(r28.calculatedMediaWidth!=null){this._setCalculatedMediaWidth(r28.calculatedMediaWidth);}if(r28.calculatedMediaHeight!=null){this._setCalculatedMediaHeight(r28.calculatedMediaHeight);}if(r28.initialBufferLength!=null){this._setInitialBufferLength(r28.initialBufferLength);}if(r28.playBufferLength!=null){this._setPlayBufferLength(r28.playBufferLength);}if(r28.startIndex!=null){this._setStartIndex(r28.startIndex);}if(r28.startBitrate!=null){this._setStartBitrate(r28.startBitrate);}if(r28.minBitrate!=null){this._setMinBitrate(r28.minBitrate);}if(r28.maxBitrate!=null){this._setMaxBitrate(r28.maxBitrate);}if(r28.capBitrateToSize!=null){this._setCapBitrateToSize(r28.capBitrateToSize);}if(r28.streamInfo!=null){this._setStreamInfo(r28.streamInfo);}if(r28.error!=null){this._setError(r28.error);}},dataSourceToData:function(u78){var X78={state:u78.getProperty(z1J.State),viewWidth:u78.getProperty(z1J.View_Width),viewHeight:u78.getProperty(z1J.View_Height),volume:u78.getProperty(z1J.Volume),muted:u78.getProperty(z1J.Muted),url:u78.getProperty(z1J.Url),isLive:u78.getProperty(z1J.Is_Live),isProtected:u78.getProperty(z1J.Is_Protected),isDynamic:u78.getProperty(z1J.Is_Dynamic),profiles:u78.getProperty(z1J.Profiles),absoluteTime:u78.getProperty(z1J.Absolute_Time),time:u78.getProperty(z1J.Time),duration:u78.getProperty(z1J.Duration),playableRange:u78.getProperty(z1J.Playable_Range),seekableRange:u78.getProperty(z1J.Seekable_Range),profileIndex:u78.getProperty(z1J.Profile_Index),bitrate:u78.getProperty(z1J.Bitrate),calculatedMediaWidth:u78.getProperty(z1J.Calculated_Media_Width),calculatedMediaHeight:u78.getProperty(z1J.Calculated_Media_Height),initialBufferLength:u78.getProperty(z1J.Initial_Buffer_Length),playBufferLength:u78.getProperty(z1J.Play_Buffer_Length),startIndex:u78.getProperty(z1J.Start_Index),startBitrate:u78.getProperty(z1J.Start_Bitrate),minBitrate:u78.getProperty(z1J.Min_Bitrate),maxBitrate:u78.getProperty(z1J.Max_Bitrate),capBitrateToSize:u78.getProperty(z1J.Cap_Bitrate_To_Size),streamInfo:u78.getProperty(z1J.Stream_Info),error:u78.getProperty(z1J.Error)};return X78;},onStreamInfoChanged:function(h78){this.firePropertyChanged(z1J.Stream_Info,null,this._streamInfo);},firePropertyChanged:function(D78,C78,w78){var f78=new o9J(D78,C78,w78);this._events.propertyChanged.dispatch(f78);},_setState:function(Y78){this.doSetProperty(z1J.State,this._state=Y78);},_setViewWidth:function(c78){this.doSetProperty(z1J.View_Width,this._viewWidth=c78);},_setViewHeight:function(F78){this.doSetProperty(z1J.View_Height,this._viewHeight=F78);},_setVolume:function(R78){this.doSetProperty(z1J.Volume,this._volume=R78);},_setMuted:function(U78){this.doSetProperty(z1J.Muted,this._muted=U78);},_setUrl:function(q78){this.doSetProperty(z1J.Url,this._url=q78);},_setIsLive:function(o78){this.doSetProperty(z1J.Is_Live,this._isLive=o78);},_setIsProtected:function(t78){this.doSetProperty(z1J.Is_Protected,this._isProtected=t78);},_setIsDynamic:function(l78){this.doSetProperty(z1J.Is_Dynamic,this._isDynamic=l78);},_setProfiles:function(G78){this.doSetProperty(z1J.Profiles,this._profiles=G78);},_setAbsoluteTime:function(m78){this.doSetProperty(z1J.Absolute_Time,this._absoluteTime=m78);},_setTime:function(K78){this.doSetProperty(z1J.Time,this._time=K78);},_setDuration:function(N78){this.doSetProperty(z1J.Duration,this._duration=N78);},_setPlayableRange:function(a78){this.doSetProperty(z1J.Playable_Range,this._playableRange=a78);},_setSeekableRange:function(b78){this.doSetProperty(z1J.Seekable_Range,this._seekableRange=b78);},_setProfileIndex:function(g78){this.doSetProperty(z1J.Profile_Index,this._profileIndex=g78);},_setBitrate:function(P78){this.doSetProperty(z1J.Bitrate,this._bitrate=P78);},_setCalculatedMediaWidth:function(M78){this.doSetProperty(z1J.Calculated_Media_Width,this._calculatedMediaWidth=M78);},_setCalculatedMediaHeight:function(L78){this.doSetProperty(z1J.Calculated_Media_Height,this._calculatedMediaHeight=L78);},_setInitialBufferLength:function(x78){this.doSetProperty(z1J.Initial_Buffer_Length,this._initialBufferLength=x78);},_setPlayBufferLength:function(O78){this.doSetProperty(z1J.Play_Buffer_Length,this._playBufferLength=O78);},_setStartIndex:function(H78){this.doSetProperty(z1J.Start_Index,this._startIndex=H78);},_setStartBitrate:function(T78){this.doSetProperty(z1J.Start_Bitrate,this._startBitrate=T78);},_setMinBitrate:function(d78){this.doSetProperty(z1J.Min_Bitrate,this._minBitrate=d78);},_setMaxBitrate:function(v78){this.doSetProperty(z1J.Max_Bitrate,this._maxBitrate=v78);},_setCapBitrateToSize:function(V78){this.doSetProperty(z1J.Cap_Bitrate_To_Size,this._capBitrateToSize=V78);},_setStreamInfo:function(p78){this.doSetProperty(z1J.Stream_Info,this._streamInfo=p78);},_setError:function(Z78){this.doSetProperty(z1J.Error,this._error=Z78);},init:function(B78){this.doInit(B78);return this;},beginMode:function(W78){this.doBeginMode(W78);return this;},beginModes:function(z78){this.doBeginModes(z78);return this;},endMode:function(S78){this.doEndMode(S78);return this;},endModes:function(e78){this.doEndModes(e78);return this;},withMode:function(n78,s78){this.doWithMode(n78,s78);return this;},withModes:function(J78,A78){this.doWithModes(J78,A78);return this;},extend:function(j78){this.doExtend(j78);return this;},clearTransientData:function(){this.doClearTransientData();return this;},setData:function(Q78){this.doSetData(Q78);return this;},toData:function(){return this.doToData();},events:function(){return this._events;},state:function(){return this._state;},setState:function(k78){this._setState(k78);return this;},viewWidth:function(){return this._viewWidth;},setViewWidth:function(i78){this._setViewWidth(i78);return this;},viewHeight:function(){return this._viewHeight;},setViewHeight:function(I78){this._setViewHeight(I78);return this;},volume:function(){return this._volume;},setVolume:function(E78){this._setVolume(E78);return this;},muted:function(){return this._muted;},setMuted:function(y78){this._setMuted(y78);return this;},url:function(){return this._url;},setUrl:function(r78){this._setUrl(r78);return this;},isLive:function(){return this._isLive;},setIsLive:function(u98){this._setIsLive(u98);return this;},isProtected:function(){return this._isProtected;},setIsProtected:function(X98){this._setIsProtected(X98);return this;},isDynamic:function(){return this._isDynamic;},setIsDynamic:function(h98){this._setIsDynamic(h98);return this;},profiles:function(){return this._profiles;},setProfiles:function(f98){this._setProfiles(f98);return this;},absoluteTime:function(){return this._absoluteTime;},setAbsoluteTime:function(D98){this._setAbsoluteTime(D98);return this;},time:function(){return this._time;},setTime:function(C98){this._setTime(C98);return this;},duration:function(){return this._duration;},setDuration:function(w98){this._setDuration(w98);return this;},playableRange:function(){return this._playableRange;},setPlayableRange:function(Y98){this._setPlayableRange(Y98);return this;},seekableRange:function(){return this._seekableRange;},setSeekableRange:function(c98){this._setSeekableRange(c98);return this;},profileIndex:function(){return this._profileIndex;},setProfileIndex:function(F98){this._setProfileIndex(F98);return this;},bitrate:function(){return this._bitrate;},setBitrate:function(R98){this._setBitrate(R98);return this;},calculatedMediaWidth:function(){return this._calculatedMediaWidth;},setCalculatedMediaWidth:function(U98){this._setCalculatedMediaWidth(U98);return this;},calculatedMediaHeight:function(){return this._calculatedMediaHeight;},setCalculatedMediaHeight:function(q98){this._setCalculatedMediaHeight(q98);return this;},initialBufferLength:function(){return this._initialBufferLength;},setInitialBufferLength:function(o98){this._setInitialBufferLength(o98);return this;},playBufferLength:function(){return this._playBufferLength;},setPlayBufferLength:function(t98){this._setPlayBufferLength(t98);return this;},startIndex:function(){return this._startIndex;},setStartIndex:function(l98){this._setStartIndex(l98);return this;},startBitrate:function(){return this._startBitrate;},setStartBitrate:function(G98){this._setStartBitrate(G98);return this;},minBitrate:function(){return this._minBitrate;},setMinBitrate:function(m98){this._setMinBitrate(m98);return this;},maxBitrate:function(){return this._maxBitrate;},setMaxBitrate:function(K98){this._setMaxBitrate(K98);return this;},capBitrateToSize:function(){return this._capBitrateToSize;},setCapBitrateToSize:function(N98){this._setCapBitrateToSize(N98);return this;},streamInfo:function(){return this._streamInfo;},setStreamInfo:function(a98){this._setStreamInfo(a98);return this;},error:function(){return this._error;},setError:function(b98){this._setError(b98);return this;},__class__:P7J});var k5y=function(){};O1J["com.turner.top.sdk.common.media.models.MediaEngineModelDefaults"]=k5y;k5y.__name__=["com","turner","top","sdk","common","media","models","MediaEngineModelDefaults"];k5y.data=function(){var T98=1;var M98=T98;var L98=0;var x98=L98;var O98=0;var H98=O98;var g98=0;var d98=g98;var v98=-1;var V98=v98;var p98=-1;var Z98=p98;var B98=-1;var P98=B98;return{state:r1J.Pending,viewWidth:0,viewHeight:0,volume:M98,muted:false,url:null,isLive:false,isProtected:false,isDynamic:false,profiles:[],absoluteTime:0,time:x98,duration:H98,playableRange:U6J.create(0,0),seekableRange:U6J.create(0,0),profileIndex:0,bitrate:d98,calculatedMediaWidth:0,calculatedMediaHeight:0,initialBufferLength:0,playBufferLength:0,startIndex:-1,startBitrate:V98,minBitrate:Z98,maxBitrate:P98,capBitrateToSize:true,error:null};};var z1J=O1J["com.turner.top.sdk.common.media.models.MediaEngineModelProperty"]={__ename__:["com","turner","top","sdk","common","media","models","MediaEngineModelProperty"],__constructs__:["State","View_Height","View_Width","Volume","Muted","Url","Is_Live","Is_Protected","Is_Dynamic","Profiles","Absolute_Time","Time","Duration","Playable_Range","Seekable_Range","Profile_Index","Bitrate","Calculated_Media_Height","Calculated_Media_Width","Initial_Buffer_Length","Play_Buffer_Length","Start_Index","Start_Bitrate","Min_Bitrate","Max_Bitrate","Cap_Bitrate_To_Size","Stream_Info","Error"]};z1J.State=["State",0];z1J.State.toString=H1J;z1J.State.__enum__=z1J;z1J.View_Height=["View_Height",1];z1J.View_Height.toString=H1J;z1J.View_Height.__enum__=z1J;z1J.View_Width=["View_Width",2];z1J.View_Width.toString=H1J;z1J.View_Width.__enum__=z1J;z1J.Volume=["Volume",3];z1J.Volume.toString=H1J;z1J.Volume.__enum__=z1J;z1J.Muted=["Muted",4];z1J.Muted.toString=H1J;z1J.Muted.__enum__=z1J;z1J.Url=["Url",5];z1J.Url.toString=H1J;z1J.Url.__enum__=z1J;z1J.Is_Live=["Is_Live",6];z1J.Is_Live.toString=H1J;z1J.Is_Live.__enum__=z1J;z1J.Is_Protected=["Is_Protected",7];z1J.Is_Protected.toString=H1J;z1J.Is_Protected.__enum__=z1J;z1J.Is_Dynamic=["Is_Dynamic",8];z1J.Is_Dynamic.toString=H1J;z1J.Is_Dynamic.__enum__=z1J;z1J.Profiles=["Profiles",9];z1J.Profiles.toString=H1J;z1J.Profiles.__enum__=z1J;z1J.Absolute_Time=["Absolute_Time",10];z1J.Absolute_Time.toString=H1J;z1J.Absolute_Time.__enum__=z1J;z1J.Time=["Time",11];z1J.Time.toString=H1J;z1J.Time.__enum__=z1J;z1J.Duration=["Duration",12];z1J.Duration.toString=H1J;z1J.Duration.__enum__=z1J;z1J.Playable_Range=["Playable_Range",13];z1J.Playable_Range.toString=H1J;z1J.Playable_Range.__enum__=z1J;z1J.Seekable_Range=["Seekable_Range",14];z1J.Seekable_Range.toString=H1J;z1J.Seekable_Range.__enum__=z1J;z1J.Profile_Index=["Profile_Index",15];z1J.Profile_Index.toString=H1J;z1J.Profile_Index.__enum__=z1J;z1J.Bitrate=["Bitrate",16];z1J.Bitrate.toString=H1J;z1J.Bitrate.__enum__=z1J;z1J.Calculated_Media_Height=["Calculated_Media_Height",17];z1J.Calculated_Media_Height.toString=H1J;z1J.Calculated_Media_Height.__enum__=z1J;z1J.Calculated_Media_Width=["Calculated_Media_Width",18];z1J.Calculated_Media_Width.toString=H1J;z1J.Calculated_Media_Width.__enum__=z1J;z1J.Initial_Buffer_Length=["Initial_Buffer_Length",19];z1J.Initial_Buffer_Length.toString=H1J;z1J.Initial_Buffer_Length.__enum__=z1J;z1J.Play_Buffer_Length=["Play_Buffer_Length",20];z1J.Play_Buffer_Length.toString=H1J;z1J.Play_Buffer_Length.__enum__=z1J;z1J.Start_Index=["Start_Index",21];z1J.Start_Index.toString=H1J;z1J.Start_Index.__enum__=z1J;z1J.Start_Bitrate=["Start_Bitrate",22];z1J.Start_Bitrate.toString=H1J;z1J.Start_Bitrate.__enum__=z1J;z1J.Min_Bitrate=["Min_Bitrate",23];z1J.Min_Bitrate.toString=H1J;z1J.Min_Bitrate.__enum__=z1J;z1J.Max_Bitrate=["Max_Bitrate",24];z1J.Max_Bitrate.toString=H1J;z1J.Max_Bitrate.__enum__=z1J;z1J.Cap_Bitrate_To_Size=["Cap_Bitrate_To_Size",25];z1J.Cap_Bitrate_To_Size.toString=H1J;z1J.Cap_Bitrate_To_Size.__enum__=z1J;z1J.Stream_Info=["Stream_Info",26];z1J.Stream_Info.toString=H1J;z1J.Stream_Info.__enum__=z1J;z1J.Error=["Error",27];z1J.Error.toString=H1J;z1J.Error.__enum__=z1J;z1J.__empty_constructs__=[z1J.State,z1J.View_Height,z1J.View_Width,z1J.Volume,z1J.Muted,z1J.Url,z1J.Is_Live,z1J.Is_Protected,z1J.Is_Dynamic,z1J.Profiles,z1J.Absolute_Time,z1J.Time,z1J.Duration,z1J.Playable_Range,z1J.Seekable_Range,z1J.Profile_Index,z1J.Bitrate,z1J.Calculated_Media_Height,z1J.Calculated_Media_Width,z1J.Initial_Buffer_Length,z1J.Play_Buffer_Length,z1J.Start_Index,z1J.Start_Bitrate,z1J.Min_Bitrate,z1J.Max_Bitrate,z1J.Cap_Bitrate_To_Size,z1J.Stream_Info,z1J.Error];var A4y=function(){};O1J["com.turner.top.sdk.common.media.models.config.IMediaEngineConfig"]=A4y;A4y.__name__=["com","turner","top","sdk","common","media","models","config","IMediaEngineConfig"];A4y.__interfaces__=[P9J];A4y.prototype={_events:null,events:null,volume:null,muted:null,offset:null,setStartIndex:null,startIndex:null,setStartBitrate:null,startBitrate:null,setMinBitrate:null,minBitrate:null,setMaxBitrate:null,maxBitrate:null,setCapBitrateToSize:null,capBitrateToSize:null,setInitialBuffer:null,initialBuffer:null,setPlayBuffer:null,playBuffer:null,setStallTimeout:null,stallTimeout:null,__class__:A4y};var x7J=function(){t6J.call(this,D4J);this._events=new b5y();};O1J["com.turner.top.sdk.common.media.models.config.MediaEngineConfig"]=x7J;x7J.__name__=["com","turner","top","sdk","common","media","models","config","MediaEngineConfig"];x7J.__interfaces__=[A4y];x7J.extendBy=function(z98,S98){var W98=new x7J();W98.init(z98.toData());W98.extend(S98);return W98;};x7J.mergeBy=function(n98,s98){var e98=new x7J();e98.init(n98.toData());e98.extend(s98.toData());return e98;};x7J.__super__=t6J;x7J.prototype=v1J(t6J.prototype,{_events:null,doExtend:function(J98){if(J98==null){return;}if(J98.volume!=null){this._setVolume(J98.volume);}if(J98.muted!=null){this._setMuted(J98.muted);}if(J98.offset!=null){this._setOffset(J98.offset);}if(J98.startIndex!=null){this._setStartIndex(J98.startIndex);}if(J98.startBitrate!=null){this._setStartBitrate(J98.startBitrate);}if(J98.minBitrate!=null){this._setMinBitrate(J98.minBitrate);}if(J98.maxBitrate!=null){this._setMaxBitrate(J98.maxBitrate);}if(J98.capBitrateToSize!=null){this._setCapBitrateToSize(J98.capBitrateToSize);}if(J98.initialBuffer!=null){this._setInitialBuffer(J98.initialBuffer);}if(J98.playBuffer!=null){this._setPlayBuffer(J98.playBuffer);}if(J98.stallTimeout!=null){this._setStallTimeout(J98.stallTimeout);}},dataSourceToData:function(A98){var j98={volume:A98.getProperty(D4J.Volume),muted:A98.getProperty(D4J.Muted),offset:A98.getProperty(D4J.Offset),startIndex:A98.getProperty(D4J.Start_Index),startBitrate:A98.getProperty(D4J.Start_Bitrate),minBitrate:A98.getProperty(D4J.Min_Bitrate),maxBitrate:A98.getProperty(D4J.Max_Bitrate),capBitrateToSize:A98.getProperty(D4J.Cap_Bitrate_To_Size),initialBuffer:A98.getProperty(D4J.Initial_Buffer),playBuffer:A98.getProperty(D4J.Play_Buffer),stallTimeout:A98.getProperty(D4J.Stall_Timeout)};return j98;},firePropertyChanged:function(k98,i98,I98){var Q98=new k4y(k98,i98,I98);this._events.propertyChanged.dispatch(Q98);},_getVolume:function(){return this.doGetProperty(D4J.Volume);},_setVolume:function(E98){this.doSetProperty(D4J.Volume,E98);},_getMuted:function(){return this.doGetProperty(D4J.Muted);},_setMuted:function(y98){this.doSetProperty(D4J.Muted,y98);},_getOffset:function(){return this.doGetProperty(D4J.Offset);},_setOffset:function(r98){this.doSetProperty(D4J.Offset,r98);},_getStartIndex:function(){return this.doGetProperty(D4J.Start_Index);},_setStartIndex:function(u88){this.doSetProperty(D4J.Start_Index,u88);},_getStartBitrate:function(){return this.doGetProperty(D4J.Start_Bitrate);},_setStartBitrate:function(X88){this.doSetProperty(D4J.Start_Bitrate,X88);},_getMinBitrate:function(){return this.doGetProperty(D4J.Min_Bitrate);},_setMinBitrate:function(h88){this.doSetProperty(D4J.Min_Bitrate,h88);},_getMaxBitrate:function(){return this.doGetProperty(D4J.Max_Bitrate);},_setMaxBitrate:function(f88){this.doSetProperty(D4J.Max_Bitrate,f88);},_getCapBitrateToSize:function(){return this.doGetProperty(D4J.Cap_Bitrate_To_Size);},_setCapBitrateToSize:function(D88){this.doSetProperty(D4J.Cap_Bitrate_To_Size,D88);},_getInitialBuffer:function(){return this.doGetProperty(D4J.Initial_Buffer);},_setInitialBuffer:function(C88){this.doSetProperty(D4J.Initial_Buffer,C88);},_getPlayBuffer:function(){return this.doGetProperty(D4J.Play_Buffer);},_setPlayBuffer:function(w88){this.doSetProperty(D4J.Play_Buffer,w88);},_getStallTimeout:function(){return this.doGetProperty(D4J.Stall_Timeout);},_setStallTimeout:function(Y88){this.doSetProperty(D4J.Stall_Timeout,Y88);},init:function(c88){this.doInit(c88);return this;},beginMode:function(F88){this.doBeginMode(F88);return this;},beginModes:function(R88){this.doBeginModes(R88);return this;},endMode:function(U88){this.doEndMode(U88);return this;},endModes:function(q88){this.doEndModes(q88);return this;},withMode:function(o88,t88){this.doWithMode(o88,t88);return this;},withModes:function(l88,G88){this.doWithModes(l88,G88);return this;},extend:function(m88){this.doExtend(m88);return this;},clearTransientData:function(){this.doClearTransientData();return this;},setData:function(K88){this.doSetData(K88);return this;},toData:function(){return this.doToData();},events:function(){return this._events;},volume:function(){return this._getVolume();},setVolume:function(N88){this._setVolume(N88);return this;},muted:function(){return this._getMuted();},setMuted:function(a88){this._setMuted(a88);return this;},offset:function(){return this._getOffset();},setOffset:function(b88){this._setOffset(b88);return this;},startIndex:function(){return this._getStartIndex();},setStartIndex:function(g88){this._setStartIndex(g88);return this;},startBitrate:function(){return this._getStartBitrate();},setStartBitrate:function(P88){this._setStartBitrate(P88);return this;},minBitrate:function(){return this._getMinBitrate();},setMinBitrate:function(M88){this._setMinBitrate(M88);return this;},maxBitrate:function(){return this._getMaxBitrate();},setMaxBitrate:function(L88){this._setMaxBitrate(L88);return this;},capBitrateToSize:function(){return this._getCapBitrateToSize();},setCapBitrateToSize:function(x88){this._setCapBitrateToSize(x88);return this;},initialBuffer:function(){return this._getInitialBuffer();},setInitialBuffer:function(O88){this._setInitialBuffer(O88);return this;},playBuffer:function(){return this._getPlayBuffer();},setPlayBuffer:function(H88){this._setPlayBuffer(H88);return this;},stallTimeout:function(){return this._getStallTimeout();},setStallTimeout:function(T88){this._setStallTimeout(T88);return this;},__class__:x7J});var D4J=O1J["com.turner.top.sdk.common.media.models.config.MediaEngineConfigProperty"]={__ename__:["com","turner","top","sdk","common","media","models","config","MediaEngineConfigProperty"],__constructs__:["Volume","Muted","Offset","Start_Index","Start_Bitrate","Min_Bitrate","Max_Bitrate","Cap_Bitrate_To_Size","Initial_Buffer","Play_Buffer","Stall_Timeout"]};D4J.Volume=["Volume",0];D4J.Volume.toString=H1J;D4J.Volume.__enum__=D4J;D4J.Muted=["Muted",1];D4J.Muted.toString=H1J;D4J.Muted.__enum__=D4J;D4J.Offset=["Offset",2];D4J.Offset.toString=H1J;D4J.Offset.__enum__=D4J;D4J.Start_Index=["Start_Index",3];D4J.Start_Index.toString=H1J;D4J.Start_Index.__enum__=D4J;D4J.Start_Bitrate=["Start_Bitrate",4];D4J.Start_Bitrate.toString=H1J;D4J.Start_Bitrate.__enum__=D4J;D4J.Min_Bitrate=["Min_Bitrate",5];D4J.Min_Bitrate.toString=H1J;D4J.Min_Bitrate.__enum__=D4J;D4J.Max_Bitrate=["Max_Bitrate",6];D4J.Max_Bitrate.toString=H1J;D4J.Max_Bitrate.__enum__=D4J;D4J.Cap_Bitrate_To_Size=["Cap_Bitrate_To_Size",7];D4J.Cap_Bitrate_To_Size.toString=H1J;D4J.Cap_Bitrate_To_Size.__enum__=D4J;D4J.Initial_Buffer=["Initial_Buffer",8];D4J.Initial_Buffer.toString=H1J;D4J.Initial_Buffer.__enum__=D4J;D4J.Play_Buffer=["Play_Buffer",9];D4J.Play_Buffer.toString=H1J;D4J.Play_Buffer.__enum__=D4J;D4J.Stall_Timeout=["Stall_Timeout",10];D4J.Stall_Timeout.toString=H1J;D4J.Stall_Timeout.__enum__=D4J;D4J.__empty_constructs__=[D4J.Volume,D4J.Muted,D4J.Offset,D4J.Start_Index,D4J.Start_Bitrate,D4J.Min_Bitrate,D4J.Max_Bitrate,D4J.Cap_Bitrate_To_Size,D4J.Initial_Buffer,D4J.Play_Buffer,D4J.Stall_Timeout];var k4y=function(d88,v88,V88){u4J.call(this);this.property=d88;this.oldValue=v88;this.currentValue=V88;};O1J["com.turner.top.sdk.common.media.models.config.events.MediaConfigPropertyChangedResult"]=k4y;k4y.__name__=["com","turner","top","sdk","common","media","models","config","events","MediaConfigPropertyChangedResult"];k4y.__super__=u4J;k4y.prototype=v1J(u4J.prototype,{property:null,oldValue:null,currentValue:null,__class__:k4y});var c0y=O1J["com.turner.top.sdk.common.media.models.config.events.MediaConfigEventType"]={__ename__:["com","turner","top","sdk","common","media","models","config","events","MediaConfigEventType"],__constructs__:["Property_Changed"]};c0y.Property_Changed=["Property_Changed",0];c0y.Property_Changed.toString=H1J;c0y.Property_Changed.__enum__=c0y;c0y.__empty_constructs__=[c0y.Property_Changed];var I4y=function(){V1J.call(this,c0y.Property_Changed);};O1J["com.turner.top.sdk.common.media.models.config.events.MediaConfigPropertyChangedEvent"]=I4y;I4y.__name__=["com","turner","top","sdk","common","media","models","config","events","MediaConfigPropertyChangedEvent"];I4y.__super__=V1J;I4y.prototype=v1J(V1J.prototype,{__class__:I4y});var b5y=function(){this.propertyChanged=new I4y();};O1J["com.turner.top.sdk.common.media.models.config.events.MediaConfigEvents"]=b5y;b5y.__name__=["com","turner","top","sdk","common","media","models","config","events","MediaConfigEvents"];b5y.prototype={propertyChanged:null,__class__:b5y};var x8J=function(){u4J.call(this);};O1J["com.turner.top.sdk.common.media.models.events.MediaModelEventResult"]=x8J;x8J.__name__=["com","turner","top","sdk","common","media","models","events","MediaModelEventResult"];x8J.__super__=u4J;x8J.prototype=v1J(u4J.prototype,{__class__:x8J});var o9J=function(p88,Z88,B88){x8J.call(this);this.property=p88;this.oldValue=Z88;this.currentValue=B88;};O1J["com.turner.top.sdk.common.media.models.events.MediaModelPropertyChangedResult"]=o9J;o9J.__name__=["com","turner","top","sdk","common","media","models","events","MediaModelPropertyChangedResult"];o9J.__super__=x8J;o9J.prototype=v1J(x8J.prototype,{property:null,oldValue:null,currentValue:null,__class__:o9J});var Y8J=O1J["com.turner.top.sdk.common.media.models.events.MediaModelEventType"]={__ename__:["com","turner","top","sdk","common","media","models","events","MediaModelEventType"],__constructs__:["Property_Changed"]};Y8J.Property_Changed=["Property_Changed",0];Y8J.Property_Changed.toString=H1J;Y8J.Property_Changed.__enum__=Y8J;Y8J.__empty_constructs__=[Y8J.Property_Changed];var X6y=function(){V1J.call(this,Y8J.Property_Changed);};O1J["com.turner.top.sdk.common.media.models.events.MediaModelPropertyChangedEvent"]=X6y;X6y.__name__=["com","turner","top","sdk","common","media","models","events","MediaModelPropertyChangedEvent"];X6y.__super__=V1J;X6y.prototype=v1J(V1J.prototype,{__class__:X6y});var h6y=function(){G4J.call(this,[this.propertyChanged=new X6y()]);};O1J["com.turner.top.sdk.common.media.models.events.MediaModelEvents"]=h6y;h6y.__name__=["com","turner","top","sdk","common","media","models","events","MediaModelEvents"];h6y.__super__=G4J;h6y.prototype=v1J(G4J.prototype,{propertyChanged:null,__class__:h6y});var f6y=function(){};O1J["com.turner.top.sdk.common.media.models.streamInfo.IMediaStreamInfoModel"]=f6y;f6y.__name__=["com","turner","top","sdk","common","media","models","streamInfo","IMediaStreamInfoModel"];f6y.__interfaces__=[P9J];f6y.prototype={_events:null,_programDateTime:null,_currentLevel:null,_fragments:null,_currentFragmentId:null,events:null,programDateTime:null,currentLevel:null,fragments:null,currentFragmentId:null,__class__:f6y};var s7J=function(){t6J.call(this,P6J);this._events=new U6y();};O1J["com.turner.top.sdk.common.media.models.streamInfo.MediaStreamInfoModel"]=s7J;s7J.__name__=["com","turner","top","sdk","common","media","models","streamInfo","MediaStreamInfoModel"];s7J.__interfaces__=[f6y];s7J.extendBy=function(z88,S88){var W88=new s7J();W88.init(z88.toData());W88.extend(S88);return W88;};s7J.mergeBy=function(n88,s88){var e88=new s7J();e88.init(n88.toData());e88.extend(s88.toData());return e88;};s7J.__super__=t6J;s7J.prototype=v1J(t6J.prototype,{_events:null,_programDateTime:null,_currentLevel:null,_fragments:null,_currentFragmentId:null,doInit:function(J88){t6J.prototype.doInit.call(this,I5y.data());this.doExtend(J88);},doExtend:function(A88){if(A88==null){return;}if(A88.programDateTime!=null){this._setProgramDateTime(A88.programDateTime);}if(A88.currentLevel!=null){this._setCurrentLevel(A88.currentLevel);}if(A88.fragments!=null){this._setFragments(A88.fragments);}if(A88.currentFragmentId!=null){this._setCurrentFragmentId(A88.currentFragmentId);}},dataSourceToData:function(j88){var Q88={programDateTime:j88.getProperty(P6J.Program_Date_Time),currentLevel:j88.getProperty(P6J.Current_Level),fragments:j88.getProperty(P6J.Fragments),currentFragmentId:j88.getProperty(P6J.Current_Fragment_Id)};return Q88;},firePropertyChanged:function(i88,I88,E88){var k88=new c6y(i88,I88,E88);this._events.propertyChanged.dispatch(k88);},_setProgramDateTime:function(y88){this.doSetProperty(P6J.Program_Date_Time,this._programDateTime=y88);},_setCurrentLevel:function(r88){this.doSetProperty(P6J.Current_Level,this._currentLevel=r88);},_setFragments:function(u38){this.doSetProperty(P6J.Fragments,this._fragments=u38);},_setCurrentFragmentId:function(X38){this.doSetProperty(P6J.Current_Fragment_Id,this._currentFragmentId=X38);},init:function(h38){this.doInit(h38);return this;},beginMode:function(f38){this.doBeginMode(f38);return this;},beginModes:function(D38){this.doBeginModes(D38);return this;},endMode:function(C38){this.doEndMode(C38);return this;},endModes:function(w38){this.doEndModes(w38);return this;},withMode:function(Y38,c38){this.doWithMode(Y38,c38);return this;},withModes:function(F38,R38){this.doWithModes(F38,R38);return this;},extend:function(U38){this.doExtend(U38);return this;},clearTransientData:function(){this.doClearTransientData();return this;},setData:function(q38){this.doSetData(q38);return this;},toData:function(){return this.doToData();},events:function(){return this._events;},programDateTime:function(){return this._programDateTime;},setProgramDateTime:function(o38){this._setProgramDateTime(o38);return this;},currentLevel:function(){return this._currentLevel;},setCurrentLevel:function(t38){this._setCurrentLevel(t38);return this;},fragments:function(){return this._fragments;},setFragments:function(l38){this._setFragments(l38);return this;},currentFragmentId:function(){return this._currentFragmentId;},setCurrentFragmentId:function(G38){this._setCurrentFragmentId(G38);return this;},__class__:s7J});var I5y=function(){};O1J["com.turner.top.sdk.common.media.models.streamInfo.MediaStreamInfoModelDefaults"]=I5y;I5y.__name__=["com","turner","top","sdk","common","media","models","streamInfo","MediaStreamInfoModelDefaults"];I5y.data=function(){return{programDateTime:null,currentLevel:null,fragments:[],currentFragmentId:-1};};var P6J=O1J["com.turner.top.sdk.common.media.models.streamInfo.MediaStreamInfoModelProperty"]={__ename__:["com","turner","top","sdk","common","media","models","streamInfo","MediaStreamInfoModelProperty"],__constructs__:["Program_Date_Time","Current_Level","Fragments","Current_Fragment_Id"]};P6J.Program_Date_Time=["Program_Date_Time",0];P6J.Program_Date_Time.toString=H1J;P6J.Program_Date_Time.__enum__=P6J;P6J.Current_Level=["Current_Level",1];P6J.Current_Level.toString=H1J;P6J.Current_Level.__enum__=P6J;P6J.Fragments=["Fragments",2];P6J.Fragments.toString=H1J;P6J.Fragments.__enum__=P6J;P6J.Current_Fragment_Id=["Current_Fragment_Id",3];P6J.Current_Fragment_Id.toString=H1J;P6J.Current_Fragment_Id.__enum__=P6J;P6J.__empty_constructs__=[P6J.Program_Date_Time,P6J.Current_Level,P6J.Fragments,P6J.Current_Fragment_Id];var W3J=function(){u4J.call(this);};O1J["com.turner.top.sdk.common.media.models.streamInfo.events.MediaStreamInfoModelEventResult"]=W3J;W3J.__name__=["com","turner","top","sdk","common","media","models","streamInfo","events","MediaStreamInfoModelEventResult"];W3J.__super__=u4J;W3J.prototype=v1J(u4J.prototype,{__class__:W3J});var c6y=function(m38,K38,N38){W3J.call(this);this.property=m38;this.oldValue=K38;this.currentValue=N38;};O1J["com.turner.top.sdk.common.media.models.streamInfo.events.MediaStreamInfoModelPropertyChangedResult"]=c6y;c6y.__name__=["com","turner","top","sdk","common","media","models","streamInfo","events","MediaStreamInfoModelPropertyChangedResult"];c6y.__super__=W3J;c6y.prototype=v1J(W3J.prototype,{property:null,oldValue:null,currentValue:null,__class__:c6y});var q0y=O1J["com.turner.top.sdk.common.media.models.streamInfo.events.MediaStreamInfoModelEventType"]={__ename__:["com","turner","top","sdk","common","media","models","streamInfo","events","MediaStreamInfoModelEventType"],__constructs__:["Property_Changed"]};q0y.Property_Changed=["Property_Changed",0];q0y.Property_Changed.toString=H1J;q0y.Property_Changed.__enum__=q0y;q0y.__empty_constructs__=[q0y.Property_Changed];var R6y=function(){V1J.call(this,q0y.Property_Changed);};O1J["com.turner.top.sdk.common.media.models.streamInfo.events.MediaStreamInfoModelPropertyChangedEvent"]=R6y;R6y.__name__=["com","turner","top","sdk","common","media","models","streamInfo","events","MediaStreamInfoModelPropertyChangedEvent"];R6y.__super__=V1J;R6y.prototype=v1J(V1J.prototype,{__class__:R6y});var U6y=function(){G4J.call(this,[this.propertyChanged=new R6y()]);};O1J["com.turner.top.sdk.common.media.models.streamInfo.events.MediaStreamInfoModelEvents"]=U6y;U6y.__name__=["com","turner","top","sdk","common","media","models","streamInfo","events","MediaStreamInfoModelEvents"];U6y.__super__=G4J;U6y.prototype=v1J(G4J.prototype,{propertyChanged:null,__class__:U6y});var K5y=function(){};O1J["com.turner.top.sdk.common.media.monitors.IMediaMonitor"]=K5y;K5y.__name__=["com","turner","top","sdk","common","media","monitors","IMediaMonitor"];K5y.prototype={_events:null,_running:null,_state:null,setEngine:null,start:null,stop:null,events:null,running:null,state:null,__class__:K5y};var L9J=function(){this.reset();this._events=new m6y();};O1J["com.turner.top.sdk.common.media.monitors.ConnectionLossMonitor"]=L9J;L9J.__name__=["com","turner","top","sdk","common","media","monitors","ConnectionLossMonitor"];L9J.__interfaces__=[K5y];L9J.prototype={_events:null,_running:null,_state:null,_engine:null,_timeoutPeriod:null,_interval:null,_timeout:null,_mediaTime:null,_timeoutScheduledAt:null,_currentTimestamp:null,onMediaEvent:function(g38,P38){if(g38[1]==2){var a38=P38.currentState;switch(a38[1]){case 0:case 1:case 2:case 3:case 7:case 8:case 9:this.clearTickInterval();break;case 10:var b38=this._timeout!=null;if(b38){this.stop();this.onInterruptTimeout();}break;default:this.startTickInterval();}}},onTick:function(){var L38=this._engine.model();var x38=L38.time();var M38=L38.state();var O38=M38==r1J.Playing||M38==r1J.Buffering;var H38=this._mediaTime;var T38=H38;var d38=T38!=x38;this._mediaTime=x38;this._currentTimestamp=this.getCurrentTimestamp();if(O38){if(d38){this.clearInterruptTimeout();L9J._logger.verbose("Playback is not stalled, ensuring no timeout is scheduled");}else{this.scheduleInterruptTimeout();L9J._logger.warn("Potential dead connection detected, waiting "+this.getTimeUntilTimeout()+"s before interrupting");}}else{if(this._timeout!=null){this.clearInterruptTimeout();}L9J._logger.debug("Skipping dead connection evaluation, not in playing state. State is "+d1J.string(M38));}},onInterruptTimeout:function(){this.clearTickInterval();this.clearInterruptTimeout();this.setState(W6J.Disconnected);this.notifyConnectionLossError();},clearTickInterval:function(){if(this._interval==null){return;}this._interval.stop();this._interval=null;},startTickInterval:function(){if(this._interval!=null){return;}this._interval=new Z2J(1000);this._interval.run=p1J(this,this.onTick);},scheduleInterruptTimeout:function(){if(this._timeout!=null){return;}this._timeout=Z2J.delay(p1J(this,this.onInterruptTimeout),this._timeoutPeriod);this._timeoutScheduledAt=this.getCurrentTimestamp()+this._timeoutPeriod/1000;this.setState(W6J.Stalled);},clearInterruptTimeout:function(){if(this._timeout==null){return;}this._timeout.stop();this._timeout=null;this._timeoutScheduledAt=-1;this.setState(W6J.Connected);},notifyConnectionLossError:function(){this._events.connectionLoss.dispatch(new l6y());},setState:function(v38){var V38=v38!=this._state;if(V38){this._state=v38;}},getCurrentTimestamp:function(){return new Date().getTime()/1000;},getTimeUntilTimeout:function(){return this._timeoutScheduledAt-this._currentTimestamp;},reset:function(){this._timeoutPeriod=-1;this._interval=null;this._timeout=null;this._mediaTime=-1;this._timeoutScheduledAt=-1;this._currentTimestamp=-1;this._running=false;this._state=W6J.Inactive;},_setEngine:function(p38){this._engine=p38;return this;},start:function(Z38){this._timeoutPeriod=Z38;this._engine.events().listen(p1J(this,this.onMediaEvent));this._running=true;return this;},stop:function(){this._engine.events().unlisten(p1J(this,this.onMediaEvent));this.clearTickInterval();this.clearInterruptTimeout();this.reset();return this;},events:function(){return this._events;},running:function(){return this._running;},state:function(){return this._state;},engine:function(){return this._engine;},setEngine:function(B38){this._setEngine(B38);return this;},__class__:L9J};var o0y=O1J["com.turner.top.sdk.common.media.monitors.MediaMonitorEventType"]={__ename__:["com","turner","top","sdk","common","media","monitors","MediaMonitorEventType"],__constructs__:["Connection_Loss"]};o0y.Connection_Loss=["Connection_Loss",0];o0y.Connection_Loss.toString=H1J;o0y.Connection_Loss.__enum__=o0y;o0y.__empty_constructs__=[o0y.Connection_Loss];var l6y=function(){u4J.call(this);};O1J["com.turner.top.sdk.common.media.monitors.MediaMonitorEventResult"]=l6y;l6y.__name__=["com","turner","top","sdk","common","media","monitors","MediaMonitorEventResult"];l6y.__super__=u4J;l6y.prototype=v1J(u4J.prototype,{__class__:l6y});var G6y=function(){V1J.call(this,o0y.Connection_Loss);};O1J["com.turner.top.sdk.common.media.monitors.MediaMonitorConnectionLossEvent"]=G6y;G6y.__name__=["com","turner","top","sdk","common","media","monitors","MediaMonitorConnectionLossEvent"];G6y.__super__=V1J;G6y.prototype=v1J(V1J.prototype,{__class__:G6y});var m6y=function(){G4J.call(this,[this.connectionLoss=new G6y()]);};O1J["com.turner.top.sdk.common.media.monitors.MediaMonitorEvents"]=m6y;m6y.__name__=["com","turner","top","sdk","common","media","monitors","MediaMonitorEvents"];m6y.__super__=G4J;m6y.prototype=v1J(G4J.prototype,{connectionLoss:null,__class__:m6y});var W6J=O1J["com.turner.top.sdk.common.media.monitors.MediaMonitorState"]={__ename__:["com","turner","top","sdk","common","media","monitors","MediaMonitorState"],__constructs__:["Connected","Stalled","Disconnected","Inactive"]};W6J.Connected=["Connected",0];W6J.Connected.toString=H1J;W6J.Connected.__enum__=W6J;W6J.Stalled=["Stalled",1];W6J.Stalled.toString=H1J;W6J.Stalled.__enum__=W6J;W6J.Disconnected=["Disconnected",2];W6J.Disconnected.toString=H1J;W6J.Disconnected.__enum__=W6J;W6J.Inactive=["Inactive",3];W6J.Inactive.toString=H1J;W6J.Inactive.__enum__=W6J;W6J.__empty_constructs__=[W6J.Connected,W6J.Stalled,W6J.Disconnected,W6J.Inactive];var L04=function(){};O1J["com.turner.top.sdk.common.media.utils.MediaValidationHelpers"]=L04;L04.__name__=["com","turner","top","sdk","common","media","utils","MediaValidationHelpers"];L04.verifyVideoPlayed=function(W38,z38,S38){if(W38!=null){W38["catch"](function(e38){z38(e38);return;}).then(function(n38){S38();return;});}};var Q9J=function(){};O1J["com.turner.top.sdk.common.media.utils.VideoElementHelpers"]=Q9J;Q9J.__name__=["com","turner","top","sdk","common","media","utils","VideoElementHelpers"];Q9J.setPrimed=function(J38,s38){J38.dataset.primed=s38==null?"null":""+s38;};Q9J.isPrimed=function(A38){if(A38.dataset.primed=="true"){return true;}else{return false;}};var b6y=function(j38,Q38,k38,i38){this.url=j38;this.bitrate=Q38;this.width=k38;this.height=i38;};O1J["com.turner.top.sdk.common.media.vo.MediaProfile"]=b6y;b6y.__name__=["com","turner","top","sdk","common","media","vo","MediaProfile"];b6y.__interfaces__=[l04];b6y.prototype={url:null,bitrate:null,width:null,height:null,__class__:b6y};var y5y=function(){};O1J["com.turner.top.sdk.common.metadata.converters.ExtAssetMetadataConverter"]=y5y;y5y.__name__=["com","turner","top","sdk","common","metadata","converters","ExtAssetMetadataConverter"];y5y.fromHLSAttributeList=function(I38){return{caid:I38["caid"]};};var r5y=function(){};O1J["com.turner.top.sdk.common.metadata.converters.ExtCueInMetadataConverter"]=r5y;r5y.__name__=["com","turner","top","sdk","common","metadata","converters","ExtCueInMetadataConverter"];r5y.fromHLSAttributeList=function(E38){return{};};var u04=function(){};O1J["com.turner.top.sdk.common.metadata.converters.ExtCueOutContMetadataConverter"]=u04;u04.__name__=["com","turner","top","sdk","common","metadata","converters","ExtCueOutContMetadataConverter"];u04.fromHLSAttributeList=function(y38){var r38=parseFloat(y38["elapsedtime"]);var u58=parseFloat(y38["duration"]);return{caid:y38["caid"],elapsed:r38,duration:u58};};var v3J=function(){};O1J["com.turner.top.sdk.common.metadata.converters.ExtCueOutMetadataConverter"]=v3J;v3J.__name__=["com","turner","top","sdk","common","metadata","converters","ExtCueOutMetadataConverter"];v3J.fromHLSAttributeList=function(X58){return{duration:parseFloat(X58["duration"])};};v3J.isNumber=function(h58){return d1J.parseInt(h58)!=null;};v3J.fromNumber=function(f58){return{duration:parseFloat(f58)};};var G0y=function(){};O1J["com.turner.top.sdk.common.metadata.converters.ExtGenericMetadataConverter"]=G0y;G0y.__name__=["com","turner","top","sdk","common","metadata","converters","ExtGenericMetadataConverter"];G0y.isHLSAttributeList=function(D58){if(D58!=null){if(U4J["typeof"](D58)==R4J.TObject&&!S1J.__instanceof(D58,H6J)){return!S1J.__instanceof(D58,M6J);}else{return false;}}else{return false;}};var t9J=function(){};O1J["com.turner.top.sdk.common.metadata.converters.HLSAttributeConverter"]=t9J;t9J.__name__=["com","turner","top","sdk","common","metadata","converters","HLSAttributeConverter"];t9J.isAttributeList=function(C58){if(d1J.parseInt(C58)!=null){return false;}return t9J.HLS_ATTR_LIST_REGEX.match(C58);};t9J.fromString=function(c58){var Y58={};var w58=t9J.HLS_ATTR_LIST_REGEX;while(w58.match(c58)){var F58=w58.matched(1).toLowerCase();var R58=w58.matched(2)!=null?w58.matched(2):w58.matched(3);Y58[F58]=R58;c58=w58.matchedRight();}return Y58;};var a6J=function(){};O1J["com.turner.top.sdk.common.metadata.converters.ScteMetadataConverter"]=a6J;a6J.__name__=["com","turner","top","sdk","common","metadata","converters","ScteMetadataConverter"];a6J.isJsonObj=function(q58){var U58=q58;if(U58==null){return false;}if(U4J["typeof"](U58)==R4J.TObject&&!S1J.__instanceof(U58,H6J)&&!S1J.__instanceof(U58,M6J)){return!Object.prototype.hasOwnProperty.call(U58,"payload");}else{return false;}};a6J.fromJsonObj=function(t58){var o58=t58;return{splice_command_type:o58["splice_command_type"],splice_descriptors:o58["splice_descriptors"]};};a6J.isBase64=function(N58){var l58=true;var G58=N58;var m58=G58["payload"];try{var K58=window;K58.atob(m58);}catch(a58){a6J._logger.warn("[isBase64] Could not decode given value as base64, therefore not base64 encoded data");l58=false;}return l58;};a6J.fromBase64=function(M58){var b58=null;var g58=M58;var P58=g58["payload"];try{b58=SCTE35.SpliceInfo.FromBase64(P58);}catch(L58){if(L58 instanceof j1J)L58=L58.val;a6J._logger.warn("[fromBase64] could not parse SCTE base64 payload, returning empty data. "+d1J.string(L58));b58=a6J.createEmptyScteMetadata();}return b58;};a6J.normalizeScteMetadata=function(x58){var O58=x58.splice_command_type!=null;var H58=x58.splice_descriptors!=null&&(x58.splice_descriptors instanceof Array&&x58.splice_descriptors.__enum__==null);if(!O58){a6J._logger.warn("[normalizeScteMetadata] no command type found, inserting default value");x58.splice_command_type=n7J.Null;}if(!H58){a6J._logger.warn("[normalizeScteMetadata] no descriptors list found, inserting default value");x58.splice_descriptors=[];}return x58;};a6J.normalizeScteSourceData=function(T58){var V58=T58==null;var p58=!V58&&(U4J["typeof"](T58)==R4J.TObject&&!S1J.__instanceof(T58,H6J)&&!S1J.__instanceof(T58,M6J));var z58=!V58&&!p58&&a6J.isBase64({payload:T58});var A58=!V58&&!p58&&!z58&&t9J.isAttributeList(T58);if(p58){a6J._logger.debug("[normalizeScteSourceData] source is an object, no normalization needed");return T58;}if(z58){a6J._logger.debug("[normalizeScteSourceData] source is a raw base64 encoded string, using as payload");return{payload:T58};}if(A58){a6J._logger.debug("[normalizeScteSourceData] source is an hls attribute list, normalizing and finding payload...");var n58=new N0y();n58.init();var v58=n58.parse(T58);var d58=null;var Z58=0;var e58=[];var B58=0;var s58=Z1J.fields(v58);while(B58<s58.length){var J58=s58[B58];++B58;e58.push(Z1J.field(v58,J58));}var S58=e58;while(Z58<S58.length){var W58=S58[Z58];++Z58;if(a6J.isBase64({payload:W58})){d58=W58;break;}}if(d58==null){a6J._logger.warn("[parse] could not find decodable base64 string");}else{a6J._logger.debug("[parse] found decodable base64 string in attr list: "+d58);}v58["payload"]=d58;return v58;}a6J._logger.warn("[normalizeScteSourceData] given source was not identifiable, no normalization possible");return{payload:null};};a6J.createEmptyScteMetadata=function(){return{splice_command_type:n7J.Null,splice_descriptors:[]};};var e2J=function(){};O1J["com.turner.top.sdk.common.metadata.helpers.ScteSegmentationProperties"]=e2J;e2J.__name__=["com","turner","top","sdk","common","metadata","helpers","ScteSegmentationProperties"];var o2J=function(){r2J.call(this);this._hlsParser=new N0y();};O1J["com.turner.top.sdk.common.metadata.parsers.BaseExtCueMetadataParser"]=o2J;o2J.__name__=["com","turner","top","sdk","common","metadata","parsers","BaseExtCueMetadataParser"];o2J.__super__=r2J;o2J.prototype=v1J(r2J.prototype,{_hlsParser:null,init:function(j58){r2J.prototype.init.call(this,j58);this._hlsParser.init();},parse:function(Q58,i58){var k58=function(E58){try{var I58=S1J.__cast(Q58,String);if(d1J.parseInt(I58)!=null){return false;}return true;}catch(y58){return false;}};if(k58(Q58)){this._logger.debug("[parse] String detected; parsing to HLSAttributeList");Q58=this._hlsParser.parse(Q58);}return this.doParse(Q58,i58);},__class__:o2J});var m0y=function(){o2J.call(this);var r58=new b4J();var u0L="hlsAttributeList";var X0L={select:G0y.isHLSAttributeList,transform:y5y.fromHLSAttributeList};if(E1J[u0L]!=null){r58.setReserved(u0L,X0L);}else{r58.h[u0L]=X0L;}this._defaultRules=r58;};O1J["com.turner.top.sdk.common.metadata.parsers.ExtAssetMetadataParser"]=m0y;m0y.__name__=["com","turner","top","sdk","common","metadata","parsers","ExtAssetMetadataParser"];m0y.__super__=o2J;m0y.prototype=v1J(o2J.prototype,{_defaultRules:null,init:function(h0L){o2J.prototype.init.call(this,h0L==null?this._defaultRules:h0L);},__class__:m0y});var V6y=function(){o2J.call(this);var f0L=new b4J();var D0L="hlsAttributeList";var C0L={select:G0y.isHLSAttributeList,transform:r5y.fromHLSAttributeList};if(E1J[D0L]!=null){f0L.setReserved(D0L,C0L);}else{f0L.h[D0L]=C0L;}this._defaultRules=f0L;};O1J["com.turner.top.sdk.common.metadata.parsers.ExtCueInMetadataParser"]=V6y;V6y.__name__=["com","turner","top","sdk","common","metadata","parsers","ExtCueInMetadataParser"];V6y.__super__=o2J;V6y.prototype=v1J(o2J.prototype,{_defaultRules:null,init:function(w0L){o2J.prototype.init.call(this,w0L==null?this._defaultRules:w0L);},__class__:V6y});var p6y=function(){o2J.call(this);var Y0L=new b4J();var c0L="hlsAttributeList";var F0L={select:G0y.isHLSAttributeList,transform:u04.fromHLSAttributeList};if(E1J[c0L]!=null){Y0L.setReserved(c0L,F0L);}else{Y0L.h[c0L]=F0L;}this._defaultRules=Y0L;};O1J["com.turner.top.sdk.common.metadata.parsers.ExtCueOutContMetadataParser"]=p6y;p6y.__name__=["com","turner","top","sdk","common","metadata","parsers","ExtCueOutContMetadataParser"];p6y.__super__=o2J;p6y.prototype=v1J(o2J.prototype,{_defaultRules:null,init:function(R0L){o2J.prototype.init.call(this,R0L==null?this._defaultRules:R0L);},__class__:p6y});var K0y=function(){o2J.call(this);var U0L=new b4J();var q0L="string";var t0L={select:v3J.isNumber,transform:v3J.fromNumber};if(E1J[q0L]!=null){U0L.setReserved(q0L,t0L);}else{U0L.h[q0L]=t0L;}var o0L="hlsAttributeList";var l0L={select:G0y.isHLSAttributeList,transform:v3J.fromHLSAttributeList};if(E1J[o0L]!=null){U0L.setReserved(o0L,l0L);}else{U0L.h[o0L]=l0L;}this._defaultRules=U0L;};O1J["com.turner.top.sdk.common.metadata.parsers.ExtCueOutMetadataParser"]=K0y;K0y.__name__=["com","turner","top","sdk","common","metadata","parsers","ExtCueOutMetadataParser"];K0y.__super__=o2J;K0y.prototype=v1J(o2J.prototype,{_defaultRules:null,init:function(G0L){o2J.prototype.init.call(this,G0L==null?this._defaultRules:G0L);},__class__:K0y});var N0y=function(){r2J.call(this);var m0L=new b4J();var K0L="string";var N0L={select:t9J.isAttributeList,transform:t9J.fromString};if(E1J[K0L]!=null){m0L.setReserved(K0L,N0L);}else{m0L.h[K0L]=N0L;}this._defaultHLSRules=m0L;};O1J["com.turner.top.sdk.common.metadata.parsers.HLSMetadataParser"]=N0y;N0y.__name__=["com","turner","top","sdk","common","metadata","parsers","HLSMetadataParser"];N0y.__super__=r2J;N0y.prototype=v1J(r2J.prototype,{_defaultHLSRules:null,init:function(a0L){r2J.prototype.init.call(this,a0L==null?this._defaultHLSRules:a0L);},__class__:N0y});var W6y=function(){r2J.call(this);var b0L=new b4J();var g0L="string_base64";var M0L={select:a6J.isBase64,transform:a6J.fromBase64,normalize:a6J.normalizeScteMetadata};if(E1J[g0L]!=null){b0L.setReserved(g0L,M0L);}else{b0L.h[g0L]=M0L;}var P0L="jsonObj";var L0L={select:a6J.isJsonObj,transform:a6J.fromJsonObj,normalize:a6J.normalizeScteMetadata};if(E1J[P0L]!=null){b0L.setReserved(P0L,L0L);}else{b0L.h[P0L]=L0L;}this._defaultScteRules=b0L;};O1J["com.turner.top.sdk.common.metadata.parsers.ScteMetadataParser"]=W6y;W6y.__name__=["com","turner","top","sdk","common","metadata","parsers","ScteMetadataParser"];W6y.__super__=r2J;W6y.prototype=v1J(r2J.prototype,{_defaultScteRules:null,init:function(x0L){r2J.prototype.init.call(this,x0L==null?this._defaultScteRules:x0L);},parse:function(H0L,T0L){var O0L;try{O0L=a6J.normalizeScteSourceData(H0L);}catch(d0L){if(d0L instanceof j1J)d0L=d0L.val;this._logger.warn("[parse] an unexpected error occured when normalizating SCTE source data: "+d1J.string(d0L));O0L={};}return this.doParse(O0L,T0L);},__class__:W6y});var o5y=function(){};O1J["com.turner.top.sdk.common.monitors.prune.IPruneMonitor"]=o5y;o5y.__name__=["com","turner","top","sdk","common","monitors","prune","IPruneMonitor"];o5y.prototype={_events:null,init:null,handleModuleNotification:null,events:null,__class__:o5y};var w7J=function(){this._events=new A6y();this._isSliding=false;};O1J["com.turner.top.sdk.common.monitors.prune.PruneMonitor"]=w7J;w7J.__name__=["com","turner","top","sdk","common","monitors","prune","PruneMonitor"];w7J.__interfaces__=[o5y];w7J.prototype={_events:null,_slidingWindowBuffer:null,_slidingWindowThreshold:null,_currentTime:null,_slidingWindowStart:null,_minTime:null,_pruneTriggerTime:null,_isSliding:null,doInit:function(v0L){this._slidingWindowBuffer=v0L.slidingWindowBuffer;this._slidingWindowThreshold=v0L.slidingWindowThreshold;this._currentTime=0;},doHandleModuleNotification:function(V0L){var p0L=V0L.eventCategory;switch(p0L[1]){case 1:var Z0L=V0L.moduleType;if(Z0L[1]==0){this.handleMediaEvent(V0L.eventType,V0L.eventResult);}break;case 2:var B0L=V0L.moduleType;if(B0L[1]==0){this.handleMediaModelUpdate(V0L.eventType,V0L.eventResult);}break;default:}},handleMediaModelUpdate:function(e0L,S0L){var W0L=S0L;var z0L=W0L.property;if(z0L==z1J.Playable_Range){this.handlePlayableRangeUpdate(W0L.currentValue);}},handlePlayableRangeUpdate:function(s0L){var n0L=s0L.begin;if(n0L!=this._slidingWindowStart){this._isSliding=true;this._slidingWindowStart=n0L;w7J._logger.debug("[handlePlayableRangeUpdate] Sliding window start updated: "+this._slidingWindowStart);}},handleMediaEvent:function(A0L,J0L){switch(A0L[1]){case 4:this._isSliding=false;break;case 15:this.handleMediaTimeChanged(J0L);break;case 18:this.handleMediaRecoveryStarted(J0L);break;default:}},handleMediaTimeChanged:function(j0L){this._currentTime=j0L.time;if(this._pruneTriggerTime==null){this.handleFirstTimeChanged();}if(this._currentTime>this._pruneTriggerTime){this.handlePruneTrigger();}},handleFirstTimeChanged:function(){this._pruneTriggerTime=this._currentTime+this._slidingWindowThreshold;w7J._logger.debug("[handleFirstTimeChanged] First pruning will trigger at: "+this._pruneTriggerTime);},handlePruneTrigger:function(){if(this._slidingWindowStart==null){w7J._logger.warn("[handlePruneTrigger] The sliding window has no start.");return;}w7J._logger.debug("[handlePruneTrigger] Pruning triggered with time of: "+this._pruneTriggerTime+".");this._pruneTriggerTime+=this._slidingWindowThreshold;this._minTime=this._slidingWindowStart-this._slidingWindowBuffer;if(this._minTime<=0){w7J._logger.info("[handlePruneTrigger] There is nothing to prune.");return;}this.notifySlidingWindowPrune();},handleMediaRecoveryStarted:function(Q0L){if(this._isSliding){this.notifySlidingWindowReset(Q0L.reason);}else{w7J._logger.info("[handleMediaRecoveryStarted] skipping sliding window reset notification as window is not sliding");}},notifySlidingWindowPrune:function(){w7J._logger.info("[notifySlidingWindowPrune] Pruning is available for the current sliding window with min time of: "+this._minTime+".");var k0L=new a0y(T2J.Sliding_Window_Change,{minTime:this._minTime});this._events.prune.dispatch(k0L);},notifySlidingWindowReset:function(E0L){w7J._logger.info("[notifySlidingWindowReset] sliding window has been reset");var i0L={reason:E0L};var I0L=new a0y(T2J.Sliding_Window_Reset,i0L);this._events.prune.dispatch(I0L);},init:function(y0L){this.doInit(y0L);},handleModuleNotification:function(r0L){this.doHandleModuleNotification(r0L);},events:function(){return this._events;},__class__:w7J};var T2J=O1J["com.turner.top.sdk.common.monitors.prune.PruneType"]={__ename__:["com","turner","top","sdk","common","monitors","prune","PruneType"],__constructs__:["Sliding_Window_Change","Sliding_Window_Reset"]};T2J.Sliding_Window_Change=["Sliding_Window_Change",0];T2J.Sliding_Window_Change.toString=H1J;T2J.Sliding_Window_Change.__enum__=T2J;T2J.Sliding_Window_Reset=["Sliding_Window_Reset",1];T2J.Sliding_Window_Reset.toString=H1J;T2J.Sliding_Window_Reset.__enum__=T2J;T2J.__empty_constructs__=[T2J.Sliding_Window_Change,T2J.Sliding_Window_Reset];var a0y=function(u1L,X1L){u4J.call(this);this.pruneType=u1L;this.data=X1L;};O1J["com.turner.top.sdk.common.monitors.prune.events.PruneEventResult"]=a0y;a0y.__name__=["com","turner","top","sdk","common","monitors","prune","events","PruneEventResult"];a0y.__super__=u4J;a0y.prototype=v1J(u4J.prototype,{pruneType:null,data:null,__class__:a0y});var b0y=O1J["com.turner.top.sdk.common.monitors.prune.events.PruneEventType"]={__ename__:["com","turner","top","sdk","common","monitors","prune","events","PruneEventType"],__constructs__:["Prune"]};b0y.Prune=["Prune",0];b0y.Prune.toString=H1J;b0y.Prune.__enum__=b0y;b0y.__empty_constructs__=[b0y.Prune];var J6y=function(){V1J.call(this,b0y.Prune);};O1J["com.turner.top.sdk.common.monitors.prune.events.PruneEvent"]=J6y;J6y.__name__=["com","turner","top","sdk","common","monitors","prune","events","PruneEvent"];J6y.__super__=V1J;J6y.prototype=v1J(V1J.prototype,{__class__:J6y});var A6y=function(){G4J.call(this,[this.prune=new J6y()]);};O1J["com.turner.top.sdk.common.monitors.prune.events.PruneEvents"]=A6y;A6y.__name__=["com","turner","top","sdk","common","monitors","prune","events","PruneEvents"];A6y.__super__=G4J;A6y.prototype=v1J(G4J.prototype,{prune:null,__class__:A6y});var q3J=function(){};O1J["com.turner.top.sdk.common.player.handlers.PlayerHandlerDefaults"]=q3J;q3J.__name__=["com","turner","top","sdk","common","player","handlers","PlayerHandlerDefaults"];q3J.handleContentSelection=function(C1L,f1L){var D1L=C1L.playlistItem;var h1L=D1L.contentEntry().files();if(h1L.length>0){f1L.resolve(h1L[0]);}else{f1L.reject("Unable to complete content selection");}};q3J.handleContentTransform=function(w1L,Y1L){Y1L.resolve(w1L.contentFileData);};var J04=function(){};O1J["com.turner.top.sdk.common.player.timeline.Exports"]=J04;J04.__name__=["com","turner","top","sdk","common","player","timeline","Exports"];var k9J=function(){};O1J["com.turner.top.sdk.common.player.timeline.ContentMarkers"]=k9J;k9J.__name__=["com","turner","top","sdk","common","player","timeline","ContentMarkers"];k9J.createMedia=function(c1L,F1L,R1L){return new M0y(U6J.create(c1L,F1L),R1L);};k9J.createAdMidroll=function(U1L,q1L,o1L,t1L){return new P0y(U6J.create(U1L,q1L),o1L,t1L);};var i6y=function(){};O1J["com.turner.top.sdk.common.player.timeline.IContentTimeline"]=i6y;i6y.__name__=["com","turner","top","sdk","common","player","timeline","IContentTimeline"];i6y.__interfaces__=[e6y];i6y.prototype={markerForVirtualTime:null,markerForGrossTime:null,virtualTimeToGross:null,grossTimeToVirtual:null,virtualDuration:null,grossDuration:null,prune:null,__class__:i6y};var C2J=function(){K7J.call(this);this._positionMap=new u7J();};O1J["com.turner.top.sdk.common.player.timeline.ContentTimeline"]=C2J;C2J.__name__=["com","turner","top","sdk","common","player","timeline","ContentTimeline"];C2J.__interfaces__=[i6y];C2J.__super__=K7J;C2J.prototype=v1J(K7J.prototype,{_contentOptions:null,_positionMap:null,init:function(l1L){K7J.prototype.init.call(this,{exclusive:true,allowDuplicates:false});this._contentOptions=i1J.extend({},l1L==null?{}:l1L);},notifyMarkerAdded:function(G1L){this.calculateStartPositions();K7J.prototype.notifyMarkerAdded.call(this,G1L);},notifyMarkerRemoved:function(m1L){this.calculateStartPositions();K7J.prototype.notifyMarkerRemoved.call(this,m1L);},calculateStartPositions:function(){this._positionMap=new u7J();var a1L=0;var K1L=new B7J(this._markers.h);while(K1L.head!=null){var b1L=K1L.head.item;K1L.head=K1L.head.next;var N1L=b1L;this._positionMap.set(N1L,a1L);C2J._timeLogger.info("[calculateStartPositions] startPosition: "+a1L+" | "+d1J.string(N1L));var g1L=N1L.type();if(g1L[1]==0){a1L+=N1L.range().duration;}}},convertVirtualTimeToGross:function(P1L){var M1L=this.markerForVirtualTime(P1L);if(M1L==null){C2J._timeLogger.warn("[convertVirtualTimeToGross] unable to find marker for time: "+P1L);return P1L;}var x1L=this._positionMap.h[M1L.__id__];var L1L=P1L>0?P1L-x1L:0;C2J._timeLogger.debug("[convertVirtualTimeToGross] virtual time: "+P1L+" | gross time: "+M1L.range().begin+" + "+L1L+"}");return M1L.range().begin+L1L;},convertGrossTimeToVirtual:function(O1L){var H1L=this.markerForGrossTime(O1L);if(H1L==null){C2J._timeLogger.warn("[convertGrossTimeToVirtual] unable to find marker for time: "+O1L);return O1L;}var T1L=O1L>0?O1L-H1L.range().begin:0;var d1L=this._positionMap.h[H1L.__id__];C2J._timeLogger.debug("[convertGrossTimeToVirtual] gross time: "+O1L+" | virtual time: "+d1L+" + "+T1L+"}");return d1L+T1L;},doPrune:function(p1L){var v1L=this.markersForRange(p1L);var V1L=0;while(V1L<v1L.length){var Z1L=v1L[V1L];++V1L;this.removeMarker(Z1L);}C2J._logger.info("[doPrune] pruned "+v1L.length+" markers within time range "+d1J.string(p1L));},markerForVirtualTime:function(W1L){var B1L=null;var s1L=0;var S1L=0;var n1L=0;var J1L=0;var A1L=this._positionMap.keys();while(A1L.hasNext()){var z1L=A1L.next();s1L=J1L==0?this._positionMap.h[z1L.__id__]:n1L;S1L=this._positionMap.h[z1L.__id__]+z1L.range().duration;if(W1L>=s1L&&W1L<=S1L){B1L=z1L;break;}n1L=S1L;++J1L;}if(B1L==null){C2J._timeLogger.warn("[getMarkerForVirtualTime] Unable to find marker for time: "+W1L+".");var e1L=this._markers.last();var j1L=this._positionMap.h[e1L.__id__]+e1L.range().duration;if(W1L>j1L){C2J._timeLogger.debug("[getMarkerForVirtualTime] Time is greater then the available segments; using the last marker");B1L=e1L;}}C2J._timeLogger.debug("[getMarkerForVirtualTime] time: "+W1L+" | marker: "+d1J.string(B1L));return B1L;},markerForGrossTime:function(k1L){var Q1L=null;var E1L=null;var y1L=0;var r1L=0;var i1L=new B7J(this._markers.h);while(i1L.head!=null){var X4L=i1L.head.item;i1L.head=i1L.head.next;var I1L=X4L;y1L=r1L==0?I1L.range().begin:E1L.range().end;if(k1L>=y1L&&k1L<=I1L.range().end){Q1L=I1L;break;}E1L=I1L;++r1L;}if(Q1L==null){C2J._timeLogger.warn("[getMarkerForGrossTime] Unable to find marker for time: "+k1L+".");var u4L=this._markers.last();if(k1L>u4L.range().end){C2J._timeLogger.debug("[getMarkerForGrossTime] Time is greater then the available segments; using the last marker");Q1L=u4L;}}C2J._timeLogger.debug("[getMarkerForGrossTime] time: "+k1L+" | marker: "+d1J.string(Q1L));return Q1L;},virtualTimeToGross:function(h4L){return this.convertVirtualTimeToGross(h4L);},grossTimeToVirtual:function(f4L){return this.convertGrossTimeToVirtual(f4L);},virtualDuration:function(){var C4L=0;var D4L=new B7J(this._markers.h);while(D4L.head!=null){var Y4L=D4L.head.item;D4L.head=D4L.head.next;var w4L=Y4L;if(w4L.type()==E6J.Media){C4L+=w4L.range().duration;}}return C4L;},grossDuration:function(){return-1;},prune:function(c4L){this.doPrune(c4L);return this;},__class__:C2J});var E6y=function(){};O1J["com.turner.top.sdk.common.player.timeline.markers.IContentAdMarker"]=E6y;E6y.__name__=["com","turner","top","sdk","common","player","timeline","markers","IContentAdMarker"];E6y.__interfaces__=[g0y];E6y.prototype={_metadata:null,metadata:null,__class__:E6y};var P0y=function(F4L,R4L,U4L){d2J.call(this,E6J.Ad_Midroll,F4L,U4L);this._metadata=R4L;};O1J["com.turner.top.sdk.common.player.timeline.markers.ContentAdMidrollMarker"]=P0y;P0y.__name__=["com","turner","top","sdk","common","player","timeline","markers","ContentAdMidrollMarker"];P0y.__interfaces__=[E6y];P0y.__super__=d2J;P0y.prototype=v1J(d2J.prototype,{_metadata:null,metadata:function(){return this._metadata;},__class__:P0y});var X04=function(){};O1J["com.turner.top.sdk.common.player.timeline.markers.IContentMediaMarker"]=X04;X04.__name__=["com","turner","top","sdk","common","player","timeline","markers","IContentMediaMarker"];X04.__interfaces__=[g0y];var M0y=function(q4L,o4L){d2J.call(this,E6J.Media,q4L,o4L);};O1J["com.turner.top.sdk.common.player.timeline.markers.ContentMediaMarker"]=M0y;M0y.__name__=["com","turner","top","sdk","common","player","timeline","markers","ContentMediaMarker"];M0y.__interfaces__=[X04];M0y.__super__=d2J;M0y.prototype=v1J(d2J.prototype,{__class__:M0y});var M04=function(){};O1J["com.turner.top.sdk.common.support.development.DevModeManager"]=M04;M04.__name__=["com","turner","top","sdk","common","support","development","DevModeManager"];M04.init=function(){I1J.setEnabled(true);I1J.updateLevels({dev:true});var t4L=R6J.toVersionString();var l4L=R6J.buildTimeStr;var G4L=window.TopUiVersion;var m4L=s5y.version;var K4L=window.tv.freewheel.SDK.version;var N4L="\n        ---------------------------------------------------------\n                             Module Versions\n        ---------------------------------------------------------\n         TOP Core  : "+t4L+"\n         TOP UI    : "+G4L+"\n         hls.js    : "+m4L+"\n         FreeWheel : "+K4L+"\n        ---------------------------------------------------------\n         Timestamp : "+l4L+"\n        ";var a4L="\n         _____ ___  ___   ___  _____   __  __  __  ___  ___  ___\n        |_   _/ _ \\| _ \\ |   \\| __\\ \\ / / |  \\/  |/ _ \\|   \\| __|\n          | || (_) |  _/ | |) | _| \\ V /  | |\\/| | (_) | |) | _|\n          |_| \\___/|_|   |___/|___| \\_/   |_|  |_|\\___/|___/|___|\n    "+N4L;window.console.log("%c "+a4L,"font-family:monospace");};var f04=function(){};O1J["com.turner.top.sdk.common.support.development.mocking.IMockHelper"]=f04;f04.__name__=["com","turner","top","sdk","common","support","development","mocking","IMockHelper"];f04.prototype={init:null,start:null,stop:null,reset:null,__class__:f04};var F3J=function(){};O1J["com.turner.top.sdk.common.support.development.mocking.ads.generators.Id3CueDataGenerator"]=F3J;F3J.__name__=["com","turner","top","sdk","common","support","development","mocking","ads","generators","Id3CueDataGenerator"];F3J.mediaData=function(){return["{\"adListI\":\"00010v\",\"gameId\":\"207\",\"programState\":\"Started\"}","{\"clock\":\"00:00\",\"gameState\":\"Started\",\"per\":1,\"ptsH\":20,\"ptsV\":41,\"tc\":\"1518285787\"}","{\"event\":\"PODEND\"}"];};F3J.adData=function(){return["{\"adListI\":\"00010v\",\"gameId\":\"207\",\"programState\":\"Started\"}","{\"clock\":\"00:00\",\"gameState\":\"HalfTime\",\"per\":1,\"ptsH\":20,\"ptsV\":41,\"tc\":\"1518285741\"}","{\"adId\":\"21398648\",\"adListId\":\"00010v\",\"breakId\":\"BEFOREHALF\",\"duration\":15,\"event\":\"ADPLAY\"}","{\"attr\":{\"absoluteIndex\":\"8\",\"podDuration\":\"150\",\"podPosition\":\"Mid-roll\"},\"name\":\"Conviva.PodStart\"}"];};F3J.errorData=function(){return["{\"adListI\":\"00010v\",\"gameId\":\"207\",\"programState\":\"Started\"}"];};F3J.parseErrorData=function(){return["{\"badParse\":\"test\",}"];};F3J.nullData=function(){return null;};F3J.invalidRootData=function(){return{};};var L0y=function(){};O1J["com.turner.top.sdk.common.support.development.mocking.validation.generators.ScteCueDataGenerator"]=L0y;L0y.__name__=["com","turner","top","sdk","common","support","development","mocking","validation","generators","ScteCueDataGenerator"];L0y.programStartBlackoutEnabled=function(){var b4L=L0y.baseSegmentDescriptor();var g4L=i1J.extendDeepWith({},[b4L,{segmentation_type_id:B4J.Program_Start,segmentation_type_id_name:"Program Start",no_regional_blackout_flag:0,web_delivery_allowed_flag:1}]);return{splice_command_type:n7J.TimeSignal,splice_descriptors:[g4L]};};L0y.programEndBlackoutEnabled=function(){var P4L=L0y.baseSegmentDescriptor();var M4L=i1J.extendDeepWith({},[P4L,{segmentation_type_id:B4J.Program_End,segmentation_type_id_name:"Program End",no_regional_blackout_flag:0,web_delivery_allowed_flag:1}]);return{splice_command_type:n7J.TimeSignal,splice_descriptors:[M4L]};};L0y.baseSegmentDescriptor=function(){return{type:I5J.Segmentation,type_name:"SegmentationDescriptor",identifier:1234567990,archive_allowed_flag:0,delivery_not_restricted_flag:0,device_restrictions:0,no_regional_blackout_flag:0,program_segmentation_flag:0,segment_num:0,segmentation_duration:0,segmentation_duration_flag:0,segmentation_event_id:0,segmentation_event_cancel_indicator:0,segmentation_type_id:B4J.Not_Indicated,segmentation_type_id_name:"Not Indicated",segmentation_upid:12345678,segmentation_upid_length:0,segmentation_upid_type:0,segments_expected:0,web_delivery_allowed_flag:1};};var w5y=function(){};O1J["com.turner.top.sdk.common.ui.IUI"]=w5y;w5y.__name__=["com","turner","top","sdk","common","ui","IUI"];w5y.prototype={init:null,attachPlayer:null,attachToDom:null,__class__:w5y};var C5y=function(){};O1J["com.turner.top.sdk.common.validation.IValidationManager"]=C5y;C5y.__name__=["com","turner","top","sdk","common","validation","IValidationManager"];C5y.prototype={_config:null,_events:null,init:null,validate:null,handleEvent:null,stop:null,destroy:null,updateConfig:null,config:null,events:null,__class__:C5y};var c3J=e1J["com"]["turner"]["top"]["sdk"]["common"]["validation"]["ValidationDefaults"]=function(){};O1J["com.turner.top.sdk.common.validation.ValidationDefaults"]=c3J;c3J.__name__=["com","turner","top","sdk","common","validation","ValidationDefaults"];c3J.baseValidator=function(){return{enabled:false,serviceUrl:null,prePlay:false,inPlay:false};};c3J.simpleValidator=function(){return{prePlay:true};};c3J.blackoutValidator=function(){return{prePlay:true,inPlay:true,feed:null};};var L6J=function(){this._events=new G2y();this._validators=[];this._resolverQueue=[];};O1J["com.turner.top.sdk.common.validation.ValidationManager"]=L6J;L6J.__name__=["com","turner","top","sdk","common","validation","ValidationManager"];L6J.__interfaces__=[C5y];L6J.prototype={_config:null,_events:null,_playlistItem:null,_activeResolver:null,_resolverQueue:null,_validators:null,_activeInPlayEvent:null,doInit:function(L4L,x4L){this._config=x4L;this._playlistItem=L4L;this.initValidators();L6J._logger.info("[doInit] "+this._validators.length+" validator(s) initialized.");},initValidators:function(){var O4L=Z1J.fields(this._config.validators);L6J._logger.info("[initValidatorFor] Attempting to initialize "+O4L.length+" validator(s).");var T4L=[];var H4L=0;while(H4L<O4L.length){var d4L=O4L[H4L];++H4L;T4L.push(this.initValidatorFor(d4L));}this._validators=T4L;},initValidatorFor:function(v4L){var V4L=Z1J.field(this._config.validators,v4L);L6J._logger.info("[initValidatorFor] Initializing validator ["+v4L+"] with config: "+d1J.string(V4L));var p4L=this.getValidatorFor(v4L);p4L.init(this._playlistItem,V4L,v4L);return p4L;},getValidatorFor:function(B4L){var Z4L=X5y.normalize(B4L);if(Z4L=="top.validator.blackout"){return new K6J();}else{return new X2J();}},doValidate:function(z4L){if(z4L.length==0){this.handleEmptyValidation();return;}L6J._logger.info("[doValidate] Validation session beginning.");var W4L=new B2J();W4L.init(this._config,z4L);this._resolverQueue.push(W4L);this.processNextResolver();},handleEmptyValidation:function(){L6J._logger.info("[handleEmptyValidation] There are no active validators. Continuing with execution.");if(!this.isInPlayValidationSession()){this.notifyValidationSuccess({validators:[]});}},processNextResolver:function(){if(this._activeResolver!=null){L6J._logger.info("[processNextResolver] There is currently an active validation session. Deferring until finished.");return;}else if(this._resolverQueue.length==0){L6J._logger.info("[processNextResolver] There are no validation sessions to resolve.");return;}L6J._logger.info("[processNextResolver] Processing the next validation session.");this._activeResolver=this._resolverQueue.shift();var S4L=this._activeResolver.execute();this.addValidationTaskHandlers(S4L);},addValidationTaskHandlers:function(e4L){e4L.onResolved(p1J(this,this.handleValidationResolved)).onRejected(p1J(this,this.handleValidationRejected)).onCompleted(p1J(this,this.handleValidationCompleted));},handleValidationResolved:function(n4L){if(this.isInPlayValidationSession()){L6J._logger.info("[handleValidationResolved] In-play validation successful, playback should continue.");return;}L6J._logger.info("[handleValidationResolved] Validation execution resolved. Notifying of success.");this.notifyValidationSuccess(n4L);},isInPlayValidationSession:function(){return this._activeInPlayEvent!=null;},handleValidationRejected:function(s4L){this.notifyValidationError(s4L);},handleValidationCompleted:function(){L6J._logger.info("[handleValidationCompleted] Validation execution completed.");this._activeResolver=null;this.processNextResolver();},doHandleEvent:function(j4L,Q4L){L6J._logger.debug("[doHandleEvent] Checking if event of type "+d1J.string(j4L)+" will trigger in-play validation.");var J4L=this.prepareInPlayValidatorsForEventType(j4L,Q4L);var A4L=J4L.length>0;if(A4L){this._activeInPlayEvent=Q4L;this.doValidate(J4L);}return A4L;},prepareInPlayValidatorsForEventType:function(r4L,u6L){var i4L=[];var I4L=0;var E4L=this._validators;while(I4L<E4L.length){var k4L=E4L[I4L];++I4L;var y4L=k4L.respondsTo(r4L,u6L);L6J._logger.debug("[prepareInPlayValidatorsForEventType] Attempting to prepare in-play validator: "+k4L.id());if(k4L.enabled()&&k4L.supports(F9J.In_Play)&&y4L){i4L.push(k4L);}}L6J._logger.debug("[prepareInPlayValidatorsForEventType] Prepared "+i4L.length+" in-play validator(s).");return i4L;},preparePrePlayValidators:function(){var h6L=[];var f6L=0;var D6L=this._validators;while(f6L<D6L.length){var X6L=D6L[f6L];++f6L;L6J._logger.debug("[preparePrePlayValidators] Attempting to prepare pre-play validator: "+d1J.string(X6L));if(X6L.enabled()&&X6L.supports(F9J.Pre_Play)){h6L.push(X6L);}}L6J._logger.debug("[preparePrePlayValidators] Prepared "+h6L.length+" pre-play validator(s).");return h6L;},doStop:function(){if(this._activeResolver!=null){L6J._logger.info("[doStop] Stopping active validation session.");this._activeResolver.stop();}else{L6J._logger.info("[doStop] There is no active validation session to stop.");}this._resolverQueue=[];},doDestroy:function(){L6J._logger.info("[doDestroy] Destroying the current validation manager instance.");this.doStop();this.reset();},reset:function(){this._validators=[];this._resolverQueue=[];this._activeResolver=null;this._activeInPlayEvent=null;},doUpdateConfig:function(C6L){if(C6L==null){return;}i1J.extendDeep(this._config,C6L);var Y6L=!Object.prototype.hasOwnProperty.call(C6L,"validators")?{}:Z1J.field(C6L,"validators");var w6L=0;var c6L=this._validators;while(w6L<c6L.length){var F6L=c6L[w6L];++w6L;var R6L=F6L.id();var U6L=!Object.prototype.hasOwnProperty.call(Y6L,R6L)?null:Z1J.field(Y6L,R6L);if(U6L!=null){F6L.updateConfig(U6L);}}},notifyValidationSuccess:function(q6L){L6J._logger.debug("[notifyValidationSuccess] Validation was successful for: ["+d1J.string(q6L.validators)+"]");var o6L=new U2y(q6L);this._events.success.dispatch(o6L);},notifyValidationError:function(t6L){L6J._logger.debug("[notifyValidationError] Validation failed for: ["+t6L.validatorType+"]");var l6L=new q2y(t6L);this._events.error.dispatch(l6L);},init:function(G6L,m6L){this.doInit(G6L,m6L);},validate:function(){var K6L=this.preparePrePlayValidators();this.doValidate(K6L);},handleEvent:function(N6L,a6L){return this.doHandleEvent(N6L,a6L);},stop:function(){this.doStop();},destroy:function(){this.doDestroy();},updateConfig:function(b6L){this.doUpdateConfig(b6L);},config:function(){return this._config;},events:function(){return this._events;},__class__:L6J};var F9J=O1J["com.turner.top.sdk.common.validation.ValidationType"]={__ename__:["com","turner","top","sdk","common","validation","ValidationType"],__constructs__:["Pre_Play","In_Play"]};F9J.Pre_Play=["Pre_Play",0];F9J.Pre_Play.toString=H1J;F9J.Pre_Play.__enum__=F9J;F9J.In_Play=["In_Play",1];F9J.In_Play.toString=H1J;F9J.In_Play.__enum__=F9J;F9J.__empty_constructs__=[F9J.Pre_Play,F9J.In_Play];var G9J=function(){u4J.call(this);};O1J["com.turner.top.sdk.common.validation.events.ValidationEventResult"]=G9J;G9J.__name__=["com","turner","top","sdk","common","validation","events","ValidationEventResult"];G9J.__super__=u4J;G9J.prototype=v1J(u4J.prototype,{__class__:G9J});var U2y=function(g6L){G9J.call(this);this.successResponse=g6L;};O1J["com.turner.top.sdk.common.validation.events.ValidationSuccessResult"]=U2y;U2y.__name__=["com","turner","top","sdk","common","validation","events","ValidationSuccessResult"];U2y.__super__=G9J;U2y.prototype=v1J(G9J.prototype,{successResponse:null,__class__:U2y});var q2y=function(P6L){G9J.call(this);this.errorResponse=P6L;};O1J["com.turner.top.sdk.common.validation.events.ValidationErrorResult"]=q2y;q2y.__name__=["com","turner","top","sdk","common","validation","events","ValidationErrorResult"];q2y.__super__=G9J;q2y.prototype=v1J(G9J.prototype,{errorResponse:null,__class__:q2y});var L7J=O1J["com.turner.top.sdk.common.validation.events.ValidationEventType"]={__ename__:["com","turner","top","sdk","common","validation","events","ValidationEventType"],__constructs__:["Success","Error"]};L7J.Success=["Success",0];L7J.Success.toString=H1J;L7J.Success.__enum__=L7J;L7J.Error=["Error",1];L7J.Error.toString=H1J;L7J.Error.__enum__=L7J;L7J.__empty_constructs__=[L7J.Success,L7J.Error];var t2y=function(){V1J.call(this,L7J.Success);};O1J["com.turner.top.sdk.common.validation.events.ValidationSuccessEvent"]=t2y;t2y.__name__=["com","turner","top","sdk","common","validation","events","ValidationSuccessEvent"];t2y.__super__=V1J;t2y.prototype=v1J(V1J.prototype,{__class__:t2y});var l2y=function(){V1J.call(this,L7J.Error);};O1J["com.turner.top.sdk.common.validation.events.ValidationErrorEvent"]=l2y;l2y.__name__=["com","turner","top","sdk","common","validation","events","ValidationErrorEvent"];l2y.__super__=V1J;l2y.prototype=v1J(V1J.prototype,{__class__:l2y});var G2y=function(){G4J.call(this,[this.success=new t2y(),this.error=new l2y()]);};O1J["com.turner.top.sdk.common.validation.events.ValidationEvents"]=G2y;G2y.__name__=["com","turner","top","sdk","common","validation","events","ValidationEvents"];G2y.__super__=G4J;G2y.prototype=v1J(G4J.prototype,{success:null,error:null,__class__:G2y});var f5y=function(){};O1J["com.turner.top.sdk.common.validation.resolvers.IValidationEntryResolver"]=f5y;f5y.__name__=["com","turner","top","sdk","common","validation","resolvers","IValidationEntryResolver"];f5y.prototype={init:null,execute:null,stop:null,__class__:f5y};var B2J=function(){this._validators=[];this._successfulValidatorIds=[];};O1J["com.turner.top.sdk.common.validation.resolvers.ValidationEntryResolver"]=B2J;B2J.__name__=["com","turner","top","sdk","common","validation","resolvers","ValidationEntryResolver"];B2J.__interfaces__=[f5y];B2J.prototype={_task:null,_validators:null,_successfulValidatorIds:null,_config:null,_validationTimeoutHandler:null,_resolver:null,doInit:function(M6L,L6L){this._validators=L6L;this._config=M6L;this.createTask();this.addTaskHandlers();this.initValidationTimeoutHandler();},createTask:function(){this._task=g2J.createCustom0(p1J(this,this.handleTask));},addTaskHandlers:function(){this._task.onCompleted(p1J(this,this.handleResolverTaskCompleted));},executeTask:function(){B2J._logger.debug("[handleTask] Executing session for "+this._validators.length+" active validator(s).");this.prepareValidatorsForSession();this._task.execute();this.startValidationTimeout();},prepareValidatorsForSession:function(){var x6L=0;var O6L=this._validators;while(x6L<O6L.length){var H6L=O6L[x6L];++x6L;H6L.clearForNextSession();}},handleTask:function(V6L){this._resolver=V6L;B2J._logger.debug("[handleTask] Commencing validation for "+this._validators.length+" active validator(s).");var T6L=0;var d6L=this._validators;while(T6L<d6L.length){var v6L=d6L[T6L];++T6L;this.processValidatorTask(v6L);}},processValidatorTask:function(Z6L){var p6L=Z6L.validate();if(p6L==null){B2J._logger.warn("[processValidatorTask] Current validator task does not exist.");return;}p6L.onResolved(p1J(this,this.handleValidatorResolved)).onRejected(p1J(this,this.handleValidatorRejected));},handleValidatorResolved:function(B6L){this._successfulValidatorIds.push(B6L.id);B2J._logger.debug("[handleValidatorResolved] Validation successful for: ["+B6L.id+"]");this.checkIfValidationSessionComplete();},checkIfValidationSessionComplete:function(){if(this._successfulValidatorIds.length!=this._validators.length){return;}var W6L={validators:this._successfulValidatorIds};B2J._logger.debug("[checkIfValidationSessionComplete] "+this._successfulValidatorIds.length+" validator(s) completed successfully.");this._resolver.resolve(W6L);},handleValidatorRejected:function(z6L){B2J._logger.debug("[handleValidatorRejected] Validation failed for: "+z6L.validatorType);this._resolver.reject(z6L);},handleResolverTaskCompleted:function(){B2J._logger.info("[stopValidationTimeout] Validation task completed.");this.stopValidationTimeout();},initValidationTimeoutHandler:function(){this._validationTimeoutHandler=S0y.create({interval:this._config.maxTimeout,maxCount:1,onComplete:p1J(this,this.onValidationTimeout)});},onValidationTimeout:function(S6L,e6L){B2J._logger.info("[onValidationTimeout] Validation has timed out.");if(this._resolver!=null){this._resolver.reject(h5y.timeout());}},startValidationTimeout:function(){this._validationTimeoutHandler.start();},stopValidationTimeout:function(){this._validationTimeoutHandler.stop();B2J._logger.info("[stopValidationTimeout] Validation timeout was canceled.");},doStop:function(){B2J._logger.info("[doStop] Stopping validation resolution.");this.stopValidationTimeout();this._task.cancel();var n6L=0;var s6L=this._validators;while(n6L<s6L.length){var J6L=s6L[n6L];++n6L;J6L.stop();}},init:function(A6L,j6L){this.doInit(A6L,j6L);return this;},execute:function(){this.executeTask();return this._task;},stop:function(){this.doStop();},__class__:B2J};var i9J=function(){};O1J["com.turner.top.sdk.common.validation.utils.ValidationHelpers"]=i9J;i9J.__name__=["com","turner","top","sdk","common","validation","utils","ValidationHelpers"];i9J.normalize=function(r6L){var k6L={};var i6L=0;var y6L=Z1J.fields(r6L);while(i6L<y6L.length){var I6L=y6L[i6L];++i6L;var Q6L=Z1J.field(r6L,I6L);var E6L=i9J.getConfigFor(X5y.normalize(I6L));var u2L=U4J["typeof"](Q6L)==R4J.TObject&&!S1J.__instanceof(Q6L,H6J)&&!S1J.__instanceof(Q6L,M6J)?i1J.extend(E6L,Q6L):Q6L==true?i1J.extend(E6L,{enabled:true}):E6L;k6L[I6L]=u2L;}k6L=i9J.expandWithUnusedDefaults(k6L);return k6L;};i9J.expandWithUnusedDefaults=function(X2L){if(!Object.prototype.hasOwnProperty.call(X2L,"top.validator.simple")){X2L["top.validator.simple"]=i9J.getConfigFor("top.validator.simple");}if(!(Object.prototype.hasOwnProperty.call(X2L,"top.validator.blackout")||Object.prototype.hasOwnProperty.call(X2L,"val0"))){X2L["top.validator.blackout"]=i9J.getConfigFor("top.validator.blackout");}return X2L;};i9J.getConfigFor=function(C2L){var h2L=c3J.baseValidator();switch(C2L){case"top.validator.blackout":var f2L=c3J.blackoutValidator();return i1J.extend(h2L,f2L);case"top.validator.simple":var D2L=c3J.simpleValidator();return i1J.extend(h2L,D2L);default:return h2L;}};var a2y=function(){};O1J["com.turner.top.sdk.common.validation.validators.IValidator"]=a2y;a2y.__name__=["com","turner","top","sdk","common","validation","validators","IValidator"];a2y.prototype={_enabled:null,_serviceUrl:null,_state:null,_id:null,init:null,validate:null,respondsTo:null,supports:null,clearForNextSession:null,stop:null,destroy:null,updateConfig:null,enabled:null,serviceUrl:null,state:null,id:null,__class__:a2y};var h5y=function(){};O1J["com.turner.top.sdk.common.validation.validators.ValidatorResponses"]=h5y;h5y.__name__=["com","turner","top","sdk","common","validation","validators","ValidatorResponses"];h5y.canceled=function(){return{type:"canceled",code:50,desc:"The request to the service was canceled."};};h5y.timeout=function(){return{type:"timeout",code:51,desc:"The request to the service timed out"};};var a4J=O1J["com.turner.top.sdk.common.validation.validators.ValidatorState"]={__ename__:["com","turner","top","sdk","common","validation","validators","ValidatorState"],__constructs__:["Pending","Initialized","Idle","Validating","Valid","Invalid","Error"]};a4J.Pending=["Pending",0];a4J.Pending.toString=H1J;a4J.Pending.__enum__=a4J;a4J.Initialized=["Initialized",1];a4J.Initialized.toString=H1J;a4J.Initialized.__enum__=a4J;a4J.Idle=["Idle",2];a4J.Idle.toString=H1J;a4J.Idle.__enum__=a4J;a4J.Validating=["Validating",3];a4J.Validating.toString=H1J;a4J.Validating.__enum__=a4J;a4J.Valid=["Valid",4];a4J.Valid.toString=H1J;a4J.Valid.__enum__=a4J;a4J.Invalid=["Invalid",5];a4J.Invalid.toString=H1J;a4J.Invalid.__enum__=a4J;a4J.Error=["Error",6];a4J.Error.toString=H1J;a4J.Error.__enum__=a4J;a4J.__empty_constructs__=[a4J.Pending,a4J.Initialized,a4J.Idle,a4J.Validating,a4J.Valid,a4J.Invalid,a4J.Error];var X5y=function(){};O1J["com.turner.top.sdk.common.validation.validators.ValidatorUri"]=X5y;X5y.__name__=["com","turner","top","sdk","common","validation","validators","ValidatorUri"];X5y.normalize=function(w2L){if(w2L=="val0"){return"top.validator.blackout";}else{return w2L;}};var K6J=function(){this._enabled=false;this._prePlay=false;this._inPlay=false;this._serviceUrl=null;this._id=null;this.setState(a4J.Pending);};O1J["com.turner.top.sdk.common.validation.validators.blackout.BlackoutValidator"]=K6J;K6J.__name__=["com","turner","top","sdk","common","validation","validators","blackout","BlackoutValidator"];K6J.__interfaces__=[a2y];K6J.prototype={_enabled:null,_serviceUrl:null,_state:null,_id:null,_inPlay:null,_prePlay:null,_feed:null,_airingId:null,_requestParams:null,_playlistItem:null,_activeTask:null,_activeValidationRequest:null,_response:null,_resolver:null,_inPlayDescriptor:null,_overlapDescriptor:null,setState:function(Y2L){if(this._state!=Y2L){this._state=Y2L;}},doInit:function(F2L,c2L,R2L){this._id=R2L;this._feed=c2L.feed;this._inPlay=c2L.inPlay;this._prePlay=c2L.prePlay;this._playlistItem=F2L;this._serviceUrl=c2L.serviceUrl;this._requestParams=c2L.requestParams;this._enabled=c2L.enabled&&this.isEnabledForContent();this.setState(a4J.Idle);K6J._logger.info("[doInit] Blackout validator initialized : "+this._id);},isEnabledForContent:function(){var U2L=this._playlistItem.contentValidators();if(Object.prototype.hasOwnProperty.call(U2L,"top.validator.blackout")){var q2L="top.validator.blackout";if(!Object.prototype.hasOwnProperty.call(U2L,q2L)){return false;}else{return Z1J.field(U2L,q2L);}}else if(Object.prototype.hasOwnProperty.call(U2L,"val0")){var o2L="val0";if(!Object.prototype.hasOwnProperty.call(U2L,o2L)){return false;}else{return Z1J.field(U2L,o2L);}}else{return false;}},doRespondsTo:function(b2L,g2L){K6J._logger.info("[doRespondsTo] Checking if event should trigger validation for : "+this._id);var t2L=g2L.cue;var K2L=b2L;var l2L=t2L.data.result;var m2L=false;if(t2L==null){K6J._logger.warn("[doRespondsTo] No cue present in event result.");return false;}var N2L=K2L==N6J.Activated&&t2L.type==P4J.SCTE;var a2L=l2L!=null&&Object.prototype.hasOwnProperty.call(l2L,"splice_descriptors");if(N2L&&a2L){K6J._logger.debug("[doRespondsTo] Metadata is valid, and SCTE cue is actived for : "+this._id);this._inPlayDescriptor=this.getDescriptorForProperValidationTrigger(l2L);if(this.shouldTriggerValidation()){this._airingId=E7J.airingId(this._inPlayDescriptor);var G2L=this._airingId;K6J._logger.info("[doRespondsTo] Re-validating with airing id of ["+d1J.string(G2L<0?4294967296.0+G2L:G2L+0.0)+"] for : "+this._id);m2L=true;}}return m2L;},getDescriptorForProperValidationTrigger:function(P2L){var M2L=null;if(Y6J.isProgramOverlapStart(P2L)){K6J._logger.debug("[getDescriptorForProperValidationTrigger] Program overlap descriptor detected for : "+this._id);this._overlapDescriptor=Y6J.getFirstSegmentationDescriptor(P2L,B4J.Program_Overlap_Start);}if(Y6J.isProgramStart(P2L)){K6J._logger.debug("[getDescriptorForProperValidationTrigger] Program start descriptor detected for : "+this._id);M2L=Y6J.getFirstSegmentationDescriptor(P2L,B4J.Program_Start);this._overlapDescriptor=null;}else if(Y6J.isProgramEnd(P2L)){K6J._logger.debug("[getDescriptorForProperValidationTrigger] Program end descriptor detected for : "+this._id);var L2L=Y6J.getFirstSegmentationDescriptor(P2L,B4J.Program_End);if(this._overlapDescriptor!=null){M2L=i1J.extend(this._overlapDescriptor,{web_delivery_allowed_flag:Z1J.field(L2L,e2J.Web_Delivery_Allowed),no_regional_blackout_flag:Z1J.field(L2L,e2J.No_Regional_Blackout)});}this._overlapDescriptor=null;}else if(E7J.isNotIndicated(P2L)){M2L=Y6J.getFirstSegmentationDescriptor(P2L,B4J.Not_Indicated);this._overlapDescriptor=null;}return M2L;},shouldTriggerValidation:function(){if(this._inPlayDescriptor!=null&&E7J.isWebDeliveryAllowed(this._inPlayDescriptor)){return E7J.regionalBlackoutEnabled(this._inPlayDescriptor);}else{return false;}},doValidate:function(){if(this._activeTask!=null){K6J._logger.warn("[doValidate] There is already an active validation process for: "+this._id);return null;}this.setState(a4J.Validating);this._activeTask=g2J.createCustom0(p1J(this,this.handleValidatorTask));this._activeTask.execute();K6J._logger.info("[doValidate] Validation beginning for: "+this._id);return this._activeTask;},handleValidatorTask:function(x2L){this._resolver=x2L;this._activeValidationRequest=new r7J(this.generateRequestUrl());this.addBlackoutServiceParams();this.addRequestParams();this._activeValidationRequest.onData=p1J(this,this.onValidationRequestData);this._activeValidationRequest.onError=p1J(this,this.onValidationRequestError);this._activeValidationRequest.request();},generateRequestUrl:function(){var O2L=this._serviceUrl!=null&&this._serviceUrl.length>0;if(O2L){return this._serviceUrl;}else{return" ";}},addBlackoutServiceParams:function(){if(this._feed!=null){this._activeValidationRequest.addParameter("feed",this._feed);}if(this._airingId!=null){var H2L=this._airingId;this._activeValidationRequest.addParameter("airingId",d1J.string(H2L<0?4294967296.0+H2L:H2L+0.0));}this._activeValidationRequest.addParameter("platform","web");},addRequestParams:function(){if(this._requestParams==null){return;}var d2L=Z1J.fields(this._requestParams);var T2L=0;while(T2L<d2L.length){var v2L=d2L[T2L];++T2L;var V2L=d1J.string(Z1J.field(this._requestParams,v2L));this._activeValidationRequest.addParameter(v2L,V2L);}},onValidationRequestData:function(p2L){K6J._logger.debug("[onValidationRequestData] Validation service request successful: "+p2L);this._response=null;try{this._response=JSON.parse(p2L);}catch(Z2L){this.handleResponseParsingError();return;}if(!this.responseChecksumVerified()){this.handleResponseVerificationFailure();}else if(this._response.type=="error"){this.handleServiceError();}else if(this.isEnabledBlackout()){this.handleEnabledBlackout();}else if(this._response.enabled==false){this.handleDisabledBlackout();}else{this.handleUnrecognizedResponse();}},responseChecksumVerified:function(){var B2L=["secret",d1J.string(this._response.enabled),d1J.string(this._response.server_time)].join("");var W2L=this._response.checksum;var z2L=L8J.encode(B2L);return z2L==W2L;},isEnabledBlackout:function(){if(this._response.enabled==true){if(!(this._response.type=="regional"||this._response.type=="global")){return this._response.type=="network";}else{return true;}}else{return false;}},handleResponseParsingError:function(){K6J._logger.debug("[handleResponseParsingError] Unable to parse request JSON response.");this.setState(a4J.Error);this._resolver.reject(I7J.parsingError(this._id));},handleResponseVerificationFailure:function(){K6J._logger.debug("[handleResponseVerificationFailure] Response could not be verified.");this.setState(a4J.Error);this._resolver.reject(I7J.securityError(this._id));},handleServiceError:function(){K6J._logger.debug("[handleServiceError] Service error received.");this.setState(a4J.Error);this._resolver.reject(I7J.serviceError(this._id));},handleEnabledBlackout:function(){K6J._logger.debug("[handleEnabledBlackout] Blackout in effect.");this.setState(a4J.Invalid);this._resolver.reject(I7J.blackout(this._id,this._response.type));},handleDisabledBlackout:function(){K6J._logger.debug("[handleDisabledBlackout] Validation successful.");this.setState(a4J.Valid);this._resolver.resolve({id:this._id});},handleUnrecognizedResponse:function(){K6J._logger.debug("[handleUnrecognizedResponse] Unknown response format for: "+this._id);this.setState(a4J.Error);this._resolver.reject(I7J.communicationError(this._id));},onValidationRequestError:function(e2L){var S2L=this.handleErrorResponseFromHttpStatus(e2L);if(S2L!=null){this._resolver.reject(S2L);}},handleErrorResponseFromHttpStatus:function(n2L){if(n2L=="Http Error #0"){K6J._logger.debug("[handleErrorResponseFromHttpStatus] Http request canceled for: "+this._id);this.setState(a4J.Idle);return q9J.canceled(this._id);}else{K6J._logger.warn("[handleErrorResponseFromHttpStatus] Http request failed for ["+this._id+"] with status of ["+n2L+"]");this.setState(a4J.Error);return I7J.communicationError(this._id);}},doStop:function(){K6J._logger.info("[doStop] Validation stopped for: "+this._id);this.cancelActiveValidation();},doDestroy:function(){K6J._logger.info("[doDestroy] Validator ["+this._id+"] destroyed.");this.cancelActiveValidation();this.doReset();},doClearForNextSession:function(){K6J._logger.info("[cleanupActiveValidation] Clearing active validation sessions for: "+this._id);this._activeTask=null;this._activeValidationRequest=null;this._response=null;this._resolver=null;},cancelActiveValidation:function(){K6J._logger.info("[cancelActiveValidation] Cancelling active validation session for: "+this._id);this.setState(a4J.Idle);if(this._activeTask!=null){this._activeTask.cancel();}if(this._activeValidationRequest!=null){this._activeValidationRequest.cancel();}},doReset:function(){this.setState(a4J.Initialized);this._enabled=false;this._prePlay=false;this._inPlay=false;this._serviceUrl=null;this._id=null;this._response=null;this._resolver=null;this._activeTask=null;this._activeValidationRequest=null;},doUpdateConfig:function(s2L){if(Object.prototype.hasOwnProperty.call(s2L,"feed")){this._feed=s2L.feed;}if(Object.prototype.hasOwnProperty.call(s2L,"inPlay")){this._inPlay=s2L.inPlay;}if(Object.prototype.hasOwnProperty.call(s2L,"prePlay")){this._prePlay=s2L.prePlay;}if(Object.prototype.hasOwnProperty.call(s2L,"serviceUrl")){this._serviceUrl=s2L.serviceUrl;}if(Object.prototype.hasOwnProperty.call(s2L,"requestParams")){this._requestParams=s2L.requestParams;}},init:function(J2L,A2L,j2L){this.doInit(J2L,A2L,j2L);},validate:function(){return this.doValidate();},clearForNextSession:function(){this.doClearForNextSession();},respondsTo:function(Q2L,k2L){return this.doRespondsTo(Q2L,k2L);},supports:function(i2L){switch(i2L[1]){case 0:return this._prePlay;case 1:return this._inPlay;}},stop:function(){this.doStop();},destroy:function(){this.doDestroy();},updateConfig:function(I2L){this.doUpdateConfig(I2L);},enabled:function(){return this._enabled;},serviceUrl:function(){return this._serviceUrl;},state:function(){return this._state;},id:function(){return this._id;},__class__:K6J};var E7J=function(){};O1J["com.turner.top.sdk.common.validation.validators.blackout.BlackoutValidatorHelpers"]=E7J;E7J.__name__=["com","turner","top","sdk","common","validation","validators","blackout","BlackoutValidatorHelpers"];E7J.isProgramStart=function(E2L){return Y6J.containsSegmentationType(E2L,B4J.Program_Start);};E7J.isProgramEnd=function(y2L){return Y6J.containsSegmentationType(y2L,B4J.Program_End);};E7J.isNotIndicated=function(r2L){return Y6J.containsSegmentationType(r2L,B4J.Not_Indicated);};E7J.isProgramOverlapStart=function(u7L){return Y6J.containsSegmentationType(u7L,B4J.Program_Overlap_Start);};E7J.airingId=function(X7L){return Z1J.field(X7L,e2J.Airing_ID);};E7J.isWebDeliveryAllowed=function(f7L){var h7L=Z1J.field(f7L,e2J.Web_Delivery_Allowed);return h7L==1;};E7J.regionalBlackoutEnabled=function(C7L){var D7L=Z1J.field(C7L,e2J.No_Regional_Blackout);return D7L==0;};var I7J=function(){};O1J["com.turner.top.sdk.common.validation.validators.blackout.BlackoutValidatorResponses"]=I7J;I7J.__name__=["com","turner","top","sdk","common","validation","validators","blackout","BlackoutValidatorResponses"];I7J.blackout=function(w7L,Y7L){return{validatorType:w7L,type:Y7L,code:0,desc:"User is in blacked out region."};};I7J.serviceError=function(c7L){return{validatorType:c7L,type:"error",code:4,desc:"Blackout service had an error communicating with another service."};};I7J.securityError=function(F7L){return{validatorType:F7L,type:"error",code:6,desc:"A security failure occurred during communication with blackout service."};};I7J.parsingError=function(R7L){return{validatorType:R7L,type:"error",code:5,desc:"Blackout service returned an unexpected result."};};I7J.communicationError=function(U7L){return{validatorType:U7L,type:"error",code:3,desc:"Connection error with blackout services."};};var X2J=function(){this._enabled=false;this._prePlay=false;this._inPlay=false;this._serviceUrl=null;this._id=null;this._eventResponseMap=new E2J();this.setState(a4J.Pending);};O1J["com.turner.top.sdk.common.validation.validators.simple.SimpleValidator"]=X2J;X2J.__name__=["com","turner","top","sdk","common","validation","validators","simple","SimpleValidator"];X2J.__interfaces__=[a2y];X2J.prototype={_enabled:null,_serviceUrl:null,_state:null,_id:null,_prePlay:null,_inPlay:null,_requestParams:null,_activeTask:null,_activeValidationRequest:null,_eventResponseMap:null,_response:null,_resolver:null,setState:function(q7L){if(this._state!=q7L){this._state=q7L;}},doInit:function(l7L,o7L,t7L){this._prePlay=o7L.prePlay;this._inPlay=o7L.inPlay;this._serviceUrl=o7L.serviceUrl;this._requestParams=o7L.requestParams;this._id=t7L;this._enabled=o7L.enabled;this.setState(a4J.Idle);X2J._logger.info("[doInit] Simple validator initialized : "+this._id);},doValidate:function(){if(this._activeTask!=null){X2J._logger.warn("[doValidate] There is already an active validation process for: "+this._id);return null;}this.setState(a4J.Validating);this._activeTask=g2J.createCustom0(p1J(this,this.handleValidatorTask));this._activeTask.execute();X2J._logger.info("[doValidate] Validation beginning for: "+this._id);return this._activeTask;},handleValidatorTask:function(G7L){this._resolver=G7L;this._activeValidationRequest=new r7J(this.generateRequestUrl());this.addRequestParams();this._activeValidationRequest.onData=p1J(this,this.onValidationRequestData);this._activeValidationRequest.onError=p1J(this,this.onValidationRequestError);this._activeValidationRequest.request();},generateRequestUrl:function(){var m7L=this._serviceUrl!=null&&this._serviceUrl.length>0;if(m7L){return this._serviceUrl;}else{return" ";}},addRequestParams:function(){if(this._requestParams==null){return;}var N7L=Z1J.fields(this._requestParams);var K7L=0;while(K7L<N7L.length){var a7L=N7L[K7L];++K7L;var b7L=d1J.string(Z1J.field(this._requestParams,a7L));this._activeValidationRequest.addParameter(a7L,b7L);}},onValidationRequestData:function(g7L){X2J._logger.debug("[onValidationRequestData] Validation service request successful: "+g7L);this._response=null;try{this._response=JSON.parse(g7L);}catch(P7L){this.handleResponseParsingError();return;}X2J._logger.debug("[onValidationRequestData] Validation service response successfully parsed.");if(this.isValidResponse()){if(this._response.success){this.handleSuccessfulResponse();}else{this.handleFailedResponse();}}else{this.handleInvalidResponse();}},isValidResponse:function(){if(this._response!=null){return this._response.success!=null;}else{return false;}},handleResponseParsingError:function(){X2J._logger.warn("[handleResponseParsingError] Unable to parse request JSON response.");this.setState(a4J.Error);this._resolver.reject(q9J.parsingError(this._id));},handleSuccessfulResponse:function(){X2J._logger.debug("[handleValidatorTask] Validation successul for: "+this._id);this.setState(a4J.Valid);this._resolver.resolve({id:this._id});},handleFailedResponse:function(){X2J._logger.debug("[handleFailedResponse] Validation failed for: "+this._id);this.setState(a4J.Invalid);var M7L=q9J.blocked(this._id);if(this._response.error!=null){M7L.desc+=this._response.error;}this._resolver.reject(M7L);},handleInvalidResponse:function(){X2J._logger.warn("[handleInvalidResponse] Unknown response format for: "+this._id);this.setState(a4J.Error);this._resolver.reject(q9J.communicationError(this._id));},onValidationRequestError:function(x7L){var L7L=this.handleErrorResponseFromHttpStatus(x7L);if(L7L!=null){this._resolver.reject(L7L);}},handleErrorResponseFromHttpStatus:function(O7L){if(O7L=="Http Error #0"){X2J._logger.debug("[handleErrorResponseFromHttpStatus] Http request canceled for: "+this._id);this.setState(a4J.Idle);return q9J.canceled(this._id);}else{X2J._logger.warn("[handleErrorResponseFromHttpStatus] Http request failed for ["+this._id+"] with status of ["+O7L+((8160,268)>=8280?("D",5.57e+3):"]"));this.setState(a4J.Error);return q9J.communicationError(this._id);}},doStop:function(){X2J._logger.info("[doStop] Validation stopped for: "+this._id);this.cancelActiveValidation();},doDestroy:function(){X2J._logger.info("[doDestroy] Validator ["+this._id+"] destroyed.");this.cancelActiveValidation();this.doReset();},doClearForNextSession:function(){X2J._logger.info("[doClear] Clearing active validation sessions for: "+this._id);this._activeTask=null;this._activeValidationRequest=null;this._response=null;this._resolver=null;},cancelActiveValidation:function(){X2J._logger.info("[cancelActiveValidation] Cancelling active validation session for: "+this._id);this.setState(a4J.Idle);if(this._activeTask!=null){this._activeTask.cancel();}if(this._activeValidationRequest!=null){this._activeValidationRequest.cancel();}},doReset:function(){this.setState(a4J.Initialized);this._enabled=false;this._prePlay=false;this._inPlay=false;this._serviceUrl=null;this._id=null;this._response=null;this._activeTask=null;this._activeValidationRequest=null;this._resolver=null;this._eventResponseMap=new E2J();},doUpdateConfig:function(H7L){if(Object.prototype.hasOwnProperty.call(H7L,"inPlay")){this._inPlay=H7L.inPlay;}if(Object.prototype.hasOwnProperty.call(H7L,"prePlay")){this._prePlay=H7L.prePlay;}if(Object.prototype.hasOwnProperty.call(H7L,"serviceUrl")){this._serviceUrl=H7L.serviceUrl;}if(Object.prototype.hasOwnProperty.call(H7L,"requestParams")){this._requestParams=H7L.requestParams;}},init:function(T7L,d7L,v7L){this.doInit(T7L,d7L,v7L);},validate:function(){return this.doValidate();},respondsTo:function(V7L,p7L){return this._eventResponseMap.get(V7L)!=null;},supports:function(Z7L){switch(Z7L[1]){case 0:return this._prePlay;case 1:return this._inPlay;}},clearForNextSession:function(){this.doClearForNextSession();},stop:function(){this.doStop();},destroy:function(){this.doDestroy();},updateConfig:function(B7L){this.doUpdateConfig(B7L);},enabled:function(){return this._enabled;},serviceUrl:function(){return this._serviceUrl;},state:function(){return this._state;},id:function(){return this._id;},__class__:X2J};var q9J=function(){};O1J["com.turner.top.sdk.common.validation.validators.simple.SimpleValidatorResponses"]=q9J;q9J.__name__=["com","turner","top","sdk","common","validation","validators","simple","SimpleValidatorResponses"];q9J.blocked=function(W7L){return{validatorType:W7L,type:"blocked",code:40,desc:"Generic service is blocking playback."};};q9J.canceled=function(z7L){return{validatorType:z7L,type:"error",code:41,desc:"The request to the service was canceled."};};q9J.timeout=function(S7L){return{validatorType:S7L,type:"error",code:42,desc:"The request to the service timed out"};};q9J.communicationError=function(e7L){return{validatorType:e7L,type:"error",code:44,desc:"Connection issues with service or network request."};};q9J.parsingError=function(n7L){return{validatorType:n7L,type:"error",code:43,desc:"Service returned an unexpected result."};};var u5y=function(){};O1J["com.turner.top.sdk.core.api.IPlayerApi"]=u5y;u5y.__name__=["com","turner","top","sdk","core","api","IPlayerApi"];u5y.prototype={_events:null,_model:null,init:null,ready:null,element:null,uniqueId:null,userAction:null,canAutoPlay:null,attach:null,detach:null,updateConfig:null,play:null,playByMediaJson:null,playByContentXml:null,proceed:null,pause:null,resume:null,seek:null,seekToLive:null,setVolume:null,mute:null,unmute:null,resize:null,enterFullscreen:null,exitFullscreen:null,stop:null,replay:null,selectCaptionTrack:null,selectCaptionTrackByLang:null,setCaptionsEnabled:null,updateCaptionSettings:null,addCue:null,removeCue:null,reportEvent:null,reportError:null,isInitialized:null,isReady:null,isFullscreen:null,isContentActive:null,isAdActive:null,isMediaActive:null,destroy:null,events:null,model:null,__class__:u5y};var c6J=function(s7L){this._player=s7L;this._events=new l9y(this);this._modelWritable=new b7J();this._model=this._modelWritable;this._appContext=null;this._firedReady=false;this._readyQueue=[];};O1J["com.turner.top.sdk.core.api.PlayerApiAdapter"]=c6J;c6J.__name__=["com","turner","top","sdk","core","api","PlayerApiAdapter"];c6J.__interfaces__=[u5y];c6J.prototype={_events:null,_model:null,_modelWritable:null,_player:null,_appContext:null,_firedReady:null,_readyQueue:null,doAddReadyListener:function(J7L){if(this._model.playerState()==w4J.Listening){this.invokeFnWithAPICtx(J7L);}else{this._readyQueue.push(J7L);}},doInit:function(j7L){if(this._model.playerState()==w4J.Destroyed){c6J._logger.warn("[doInit] player is destroyed, must re-create player");return;}if(this.isInitialized()){c6J._logger.warn("[doInit] player already initialized, must destroy first");return;}var A7L={onPlayerStateChanged:p1J(this,this.onPlayerStateChanged),onViewStateChanged:p1J(this,this.onViewStateChanged),onModuleNotification:p1J(this,this.onModuleNotification),onTransactionStateChanged:p1J(this,this.onTransactionStateChanged)};this._modelWritable.init();this._player.init(A7L,j7L);},doGetUniqueIdentifier:function(){var Q7L=this._appContext!=null;if(!Q7L){c6J._logger.warn("[uniqueId] app context is not yet available");}if(Q7L){return this._appContext.uniqueId;}else{return null;}},doGetElement:function(){var k7L=this._appContext!=null?this._appContext.hostContainer:null;if(k7L==null){c6J._logger.warn("[element] Player element is not yet available.");}return k7L;},doCheckCanAutoPlay:function(){var i7L=this;return new Promise(function(I7L,E7L){if(i7L._appContext!=null){if(i7L._appContext.verifyAutoPlay!=null){i7L._appContext.verifyAutoPlay().then(function(y7L){I7L(y7L);});}else{I7L(false);}}else{J6J.autoPlay().then(function(r7L){I7L(r7L);});}});},doCheckIsInitialized:function(){var X9L=this._model.playerState();if(X9L==null){return false;}var h9L=[w4J.Pending,w4J.Initializing,w4J.Destroying,w4J.Destroyed];var f9L=false;var u9L=0;while(u9L<h9L.length){var D9L=h9L[u9L];++u9L;if(X9L==D9L){f9L=true;break;}}return!f9L;},doCheckIsReady:function(){return this._model.playerState()==w4J.Listening;},doCheckIsFullscreen:function(){return this._model.viewState()==f4J.Fullscreen;},doCheckIsAdActive:function(){var C9L=this._model.contentState();if(!(C9L==A1J.Ads_Beginning||C9L==A1J.Ads_Playback)){return C9L==A1J.Ads_Completed;}else{return true;}},doCheckIsMediaActive:function(){var w9L=this._model.contentState();if(!(w9L==A1J.Media_Beginning||w9L==A1J.Media_Playback)){return w9L==A1J.Media_Completed;}else{return true;}},doCheckIsContentActive:function(){var Y9L=this._model.contentState();if(this._model.contentState()!=null){return this._model.contentState()!=A1J.Pending;}else{return false;}},doUserAction:function(F9L){var c9L=new p0y(F9L);this.processCommand(c9L);},doAttach:function(U9L){var R9L=new R3J(U9L);this.processCommand(R9L);},doDetach:function(){var q9L=new g9y();this.processCommand(q9L);},doUpdateConfig:function(t9L){var o9L=new P9y(t9L);this.processCommand(o9L);},doPlay:function(G9L,m9L){var l9L=new w3J(null,G9L,m9L);this.processCommand(l9L);},doProceed:function(){var K9L=new L9y();this.processCommand(K9L);},doPause:function(){var N9L=new x9y();this.processCommand(N9L);},doResume:function(){var a9L=new O9y();this.processCommand(a9L);},doSeek:function(g9L){var b9L=new B0y(g9L);this.processCommand(b9L);},doSeekToLive:function(){var P9L=new T9y();this.processCommand(P9L);},doSetVolume:function(L9L){var M9L=new d9y(L9L);this.processCommand(M9L);},doMute:function(){var x9L=new v9y();this.processCommand(x9L);},doUnmute:function(){var O9L=new V9y();this.processCommand(O9L);},doResize:function(T9L,d9L){var H9L=new x9J(T9L,d9L);this.processCommand(H9L);},doEnterFullscreen:function(){var v9L=new Z9y();this.processCommand(v9L);},doExitFullscreen:function(){var V9L=new B9y();this.processCommand(V9L);},doStop:function(){var p9L=new z0y();this.processCommand(p9L);},doReplay:function(){var Z9L=new z9y();this.processCommand(Z9L);},doSelectCaptionTrack:function(W9L){var B9L=new y3J(W9L);this.processCommand(B9L);},doSelectCaptionTrackByLang:function(S9L){var z9L=new E3J(S9L);this.processCommand(z9L);},doSetCaptionsEnabled:function(n9L){var e9L=new n0y(n9L);this.processCommand(e9L);},doUpdateCaptionSettings:function(J9L){var s9L=new s0y(J9L);this.processCommand(s9L);},doAddCue:function(j9L){var A9L=new J0y(j9L);this.processCommand(A9L);},doRemoveCue:function(k9L){var Q9L=new A0y(k9L);this.processCommand(Q9L);},doReportEvent:function(I9L){var i9L=new j0y(I9L);this.processCommand(i9L);},doReportError:function(y9L){var E9L=new Q0y(y9L);this.processCommand(E9L);},doDestroy:function(){var r9L=new i9y();this.processCommand(r9L);},processCommand:function(u8L){c6J._commandLogger.info("[processCommand] "+d1J.string(u8L));this._player.processCommand(u8L);},invokeFnWithAPICtx:function(X8L){if(U4J["typeof"](X8L)==R4J.TFunction){X8L.call(this);}},onPlayerStateChanged:function(h8L){c6J._eventLogger.verbose("[onPlayerStateChange] old: "+d1J.string(h8L.previousState)+", current: "+d1J.string(h8L.currentState));this._modelWritable.handlePlayerStateChange(h8L);this.notifyPlayerStateChanged(h8L.previousState,h8L.currentState);var Y8L=h8L.currentState;switch(Y8L[1]){case 2:var C8L=h8L.args;if(C8L!=null){var f8L=C8L[0];if(f8L!=null&&f8L.appContext!=null){this._appContext=f8L.appContext;}}this.notifyPlayerInitialized();break;case 5:if(!this._firedReady){this.notifyPlayerReady();}if(this._readyQueue.length>0){var D8L=0;var w8L=this._readyQueue;while(D8L<w8L.length){var c8L=w8L[D8L];++D8L;this.invokeFnWithAPICtx(c8L);}}this._readyQueue=[];this.notifyPlayerListening();break;default:}},onViewStateChanged:function(F8L){c6J._eventLogger.verbose("[onViewStateChanged] old: "+d1J.string(F8L.previousState)+", current: "+d1J.string(F8L.currentState));this._modelWritable.handleViewStateChange(F8L);this.notifyViewStateChanged(F8L.previousState,F8L.currentState);var R8L=null;if(F8L.args!=null&&F8L.args.length>0){var U8L=0;var q8L=F8L.args;while(U8L<q8L.length){var o8L=q8L[U8L];++U8L;if(Object.prototype.hasOwnProperty.call(o8L,"viewElement")){R8L=o8L;}}}var t8L=F8L.currentState;switch(t8L[1]){case 4:this.notifyViewFullscreenEntered(R8L);break;case 6:this.notifyViewFullscreenExited(R8L);break;default:}},onTransactionStateChanged:function(l8L){c6J._eventLogger.verbose("[onTransactionStateChanged] old: "+d1J.string(l8L.previousState)+", current: "+d1J.string(l8L.currentState));this._modelWritable.handleTransactionStateChange(l8L);this.notifyContentStateChanged(l8L.previousState,l8L.currentState);var G8L=l8L.currentState;switch(G8L[1]){case 1:this.notifyContentBeginning();break;case 5:this.notifyContentSetup();break;case 6:this.notifyContentWaiting();break;case 18:case 19:case 20:switch(G8L[1]){case 18:this.notifyContentInterrupted();break;case 19:this.notifyContentCompleted();break;case 20:var m8L="An unexpected error occurred";if(l8L.args!=null&&l8L.args.length>0){var K8L=l8L.args[0];if(Object.prototype.hasOwnProperty.call(K8L,"description")){m8L=K8L.description;}}this.notifyContentError(m8L);break;default:}this.notifyContentEnded();break;default:}},onModuleNotification:function(N8L){var a8L=I1J.data().categories;if(I1J.data().levels.verbose&&Z1J.field(a8L,"api.events")){c6J._eventLogger.verbose("[onModuleNotification] result: "+d1J.string(N8L));}this._modelWritable.handleModuleNotification(N8L);var b8L=N8L.eventCategory;switch(b8L[1]){case 0:break;case 1:var g8L=N8L.moduleType;switch(g8L[1]){case 0:this.handleMediaEvent(S1J.__cast(N8L.eventType,W1J),N8L.eventResult);break;case 1:this.handleAdEvent(S1J.__cast(N8L.eventType,s1J),N8L.eventResult);break;case 2:this.handleCuesEvent(S1J.__cast(N8L.eventType,N6J),S1J.__cast(N8L.eventResult,n2J));break;case 3:this.handleCCEvent(S1J.__cast(N8L.eventType,F6J),N8L.eventResult);break;case 4:break;case 5:this.handleTimelineEvent(N8L.eventType,N8L.eventResult);break;case 6:break;case 7:this.handleValidationEvent(N8L.eventType,N8L.eventResult);break;}break;case 2:break;}},handleMediaEvent:function(M8L,P8L){c6J._eventLogger.verbose("[handleMediaEvent] "+d1J.string(M8L));switch(M8L[1]){case 0:this.notifyMediaCommandReceived(P8L);break;case 2:this.notifyMediaStateChanged(P8L);break;case 4:this.notifyMediaStarting(P8L);break;case 5:this.notifyMediaBlocked(P8L);break;case 6:this.notifyMediaLoaded(P8L);break;case 7:this.notifyMediaStarted(P8L);break;case 8:this.notifyMediaBufferingStarted(P8L);break;case 9:this.notifyMediaBufferingFinished(P8L);break;case 10:this.notifyMediaSeekingStarted(P8L);break;case 11:this.notifyMediaSeekingFinished(P8L);break;case 12:this.notifyMediaRequestProfileChanged(P8L);break;case 13:this.notifyMediaProfileChanging(P8L);break;case 14:this.notifyMediaProfileChanged(P8L);break;case 15:this.notifyMediaTimeChanged(P8L);break;case 16:this.notifyMediaPaused(P8L);break;case 17:this.notifyMediaResumed(P8L);break;case 18:this.notifyMediaRecoveryStarted(P8L);break;case 19:this.notifyMediaRecoveryFinished(P8L);break;case 20:this.notifyMediaVolumeChanged(P8L);break;case 21:this.notifyMediaMuteChanged(P8L);break;case 22:this.notifyMediaResized(P8L);break;case 23:this.notifyMediaStopped(P8L);break;case 24:this.notifyMediaTimedMetadataReceived(P8L);break;case 25:this.notifyMediaFinished(P8L);break;case 26:this.notifyMediaError(P8L);break;default:}},handleAdEvent:function(x8L,L8L){c6J._eventLogger.verbose("[handleAdEvent] "+d1J.string(x8L));switch(x8L[1]){case 0:this.notifyAdRequestStateChanged(L8L);break;case 1:this.notifyAdRequesting(L8L);break;case 2:this.notifyAdRequestCompleted(L8L);break;case 3:this.notifyAdRequestCanceled(L8L);break;case 4:this.notifyAdRequestError(L8L);break;case 5:this.notifyAdStateChanged(L8L);break;case 6:this.notifyAdStarting(L8L);break;case 7:this.notifyAdBlocked(L8L);break;case 8:this.notifyAdLoaded(L8L);break;case 9:this.notifyAdSlotStarted(L8L);break;case 10:this.notifyAdCreativeStarted(L8L);break;case 11:this.notifyAdStarted(L8L);break;case 12:this.notifyAdTimeChanged(L8L);break;case 13:this.notifyAdPaused(L8L);break;case 14:this.notifyAdResumed(L8L);break;case 15:this.notifyAdVolumeChanged(L8L);break;case 16:this.notifyAdMuteChanged(L8L);break;case 17:this.notifyAdStopped(L8L);break;case 18:this.notifyAdCreativeEnded(L8L);break;case 19:this.notifyAdSlotEnded(L8L);break;case 20:this.notifyAdFinished(L8L);break;case 21:this.notifyAdError(L8L);break;}},handleCuesEvent:function(T8L,O8L){c6J._eventLogger.verbose("[handleCuesEvent] "+d1J.string(T8L));var d8L=O8L.cue;var H8L=X9J.toNotification(d8L);switch(T8L[1]){case 0:this.notifyCueStateChanged(new f1y(H8L,O8L.previousState,O8L.currentState));break;case 1:this.notifyCueProcessed(new D1y(H8L));break;case 2:this.notifyCueActivated(new C1y(H8L));break;case 3:this.notifyCueMessageDispatched(new w1y(H8L,O8L.messageType,O8L.message));break;}},handleCCEvent:function(V8L,v8L){c6J._eventLogger.verbose("[handleCCEvent] "+d1J.string(V8L));switch(V8L[1]){case 0:this.notifyCaptionsTrackAvailabilityChanged(v8L);break;case 1:this.notifyCaptionsStateChanged(v8L);break;case 2:this.notifyCaptionsTrackSelected(v8L);break;case 3:this.notifyCaptionsSettingsUpdated(v8L);break;case 4:this.notifyCaptionsError(v8L);break;}},handleTimelineEvent:function(Z8L,p8L){c6J._eventLogger.verbose("[handleTimelineEvent] type: "+d1J.string(Z8L)+", result: "+d1J.string(p8L));switch(Z8L[1]){case 0:this.notifyTimelineMarkerAdded(p8L);break;case 1:this.notifyTimelineMarkerApproaching(p8L);break;case 2:this.notifyTimelineMarkerActivated(p8L);break;case 3:this.notifyTimelineMarkerFinishing(p8L);break;case 4:this.notifyTimelineMarkerDeactivated(p8L);break;case 5:this.notifyTimelineMarkerRemoved(p8L);break;}},handleValidationEvent:function(W8L,B8L){c6J._eventLogger.verbose("[handleValidationEvent] type: "+d1J.string(W8L)+", result: "+d1J.string(B8L));switch(W8L[1]){case 0:this.notifyValidationSuccess(B8L);break;case 1:this.notifyValidationError(B8L);break;}},notifyPlayerStateChanged:function(z8L,S8L){c6J._eventLogger.info("[notifyPlayerStateChanged] old: "+d1J.string(z8L)+", current: "+d1J.string(S8L));var e8L=new p2y(z8L,S8L);this._events.playerStateChanged.dispatch(e8L);},notifyPlayerInitialized:function(){var n8L=new S6J();this._events.playerInitialized.dispatch(n8L);},notifyPlayerReady:function(){this._firedReady=true;var s8L=new S6J();this._events.playerReady.dispatch(s8L);},notifyPlayerListening:function(){var J8L=new S6J();this._events.playerListening.dispatch(J8L);},notifyContentStateChanged:function(A8L,j8L){c6J._eventLogger.info("[notifyContentStateChanged] old: "+d1J.string(A8L)+", current: "+d1J.string(j8L));var Q8L=new Z2y(A8L,j8L);this._events.contentStateChanged.dispatch(Q8L);},notifyContentBeginning:function(){var k8L=new Z9J();this._events.contentBeginning.dispatch(k8L);},notifyContentSetup:function(){var i8L=new Z9J();this._events.contentSetup.dispatch(i8L);},notifyContentWaiting:function(){var I8L=new Z9J();this._events.contentWaiting.dispatch(I8L);},notifyAdRequestStateChanged:function(E8L){c6J._eventLogger.info("[onAdRequestStateChanged] old: "+d1J.string(E8L.previousState)+", current: "+d1J.string(E8L.currentState));this._events.adRequestStateChanged.dispatch(E8L);},notifyAdRequesting:function(y8L){this._events.adRequesting.dispatch(y8L);},notifyAdRequestCompleted:function(r8L){this._events.adRequestCompleted.dispatch(r8L);},notifyAdRequestCanceled:function(u3L){this._events.adRequestCanceled.dispatch(u3L);},notifyAdRequestError:function(X3L){this._events.adRequestError.dispatch(X3L);},notifyAdStateChanged:function(h3L){c6J._eventLogger.info("[onAdStateChanged] old: "+d1J.string(h3L.previousState)+", current: "+d1J.string(h3L.currentState));this._events.adStateChanged.dispatch(h3L);},notifyAdStarting:function(f3L){this._events.adStarting.dispatch(f3L);},notifyAdBlocked:function(D3L){this._events.adBlocked.dispatch(D3L);},notifyAdLoaded:function(C3L){this._events.adLoaded.dispatch(C3L);},notifyAdSlotStarted:function(w3L){this._events.adSlotStarted.dispatch(w3L);},notifyAdCreativeStarted:function(Y3L){this._events.adCreativeStarted.dispatch(Y3L);},notifyAdStarted:function(c3L){this._events.adStarted.dispatch(c3L);},notifyAdTimeChanged:function(F3L){this._events.adTimeChanged.dispatch(F3L);},notifyAdPaused:function(R3L){this._events.adPaused.dispatch(R3L);},notifyAdResumed:function(U3L){this._events.adResumed.dispatch(U3L);},notifyAdVolumeChanged:function(q3L){this._events.adVolumeChanged.dispatch(q3L);},notifyAdMuteChanged:function(o3L){this._events.adMuteChanged.dispatch(o3L);},notifyAdStopped:function(t3L){this._events.adStopped.dispatch(t3L);},notifyAdCreativeEnded:function(l3L){this._events.adCreativeEnded.dispatch(l3L);},notifyAdSlotEnded:function(G3L){this._events.adSlotEnded.dispatch(G3L);},notifyAdFinished:function(m3L){this._events.adFinished.dispatch(m3L);},notifyAdError:function(K3L){this._events.adError.dispatch(K3L);},notifyMediaCommandReceived:function(N3L){this._events.mediaCommandReceived.dispatch(N3L);},notifyMediaStateChanged:function(a3L){c6J._eventLogger.info("[onMediaStateChanged] old: "+d1J.string(a3L.previousState)+", current: "+d1J.string(a3L.currentState));this._events.mediaStateChanged.dispatch(a3L);},notifyMediaStarting:function(b3L){this._events.mediaStarting.dispatch(b3L);},notifyMediaBlocked:function(g3L){this._events.mediaBlocked.dispatch(g3L);},notifyMediaLoaded:function(P3L){this._events.mediaLoaded.dispatch(P3L);},notifyMediaStarted:function(M3L){this._events.mediaStarted.dispatch(M3L);},notifyMediaBufferingStarted:function(L3L){this._events.mediaBufferingStarted.dispatch(L3L);},notifyMediaBufferingFinished:function(x3L){this._events.mediaBufferingFinished.dispatch(x3L);},notifyMediaSeekingStarted:function(O3L){this._events.mediaSeekingStarted.dispatch(O3L);},notifyMediaSeekingFinished:function(H3L){this._events.mediaSeekingFinished.dispatch(H3L);},notifyMediaRequestProfileChanged:function(T3L){this._events.mediaRequestProfileChanged.dispatch(T3L);},notifyMediaProfileChanging:function(d3L){this._events.mediaProfileChanging.dispatch(d3L);},notifyMediaProfileChanged:function(v3L){this._events.mediaProfileChanged.dispatch(v3L);},notifyMediaTimeChanged:function(V3L){this._events.mediaTimeChanged.dispatch(V3L);},notifyMediaPaused:function(p3L){this._events.mediaPaused.dispatch(p3L);},notifyMediaResumed:function(Z3L){this._events.mediaResumed.dispatch(Z3L);},notifyMediaRecoveryStarted:function(B3L){this._events.mediaRecoveryStarted.dispatch(B3L);},notifyMediaRecoveryFinished:function(W3L){this._events.mediaRecoveryFinished.dispatch(W3L);},notifyMediaVolumeChanged:function(z3L){this._events.mediaVolumeChanged.dispatch(z3L);},notifyMediaMuteChanged:function(S3L){this._events.mediaMuteChanged.dispatch(S3L);},notifyMediaResized:function(e3L){this._events.mediaResized.dispatch(e3L);},notifyMediaTimedMetadataReceived:function(n3L){this._events.mediaTimedMetadataReceived.dispatch(n3L);},notifyMediaStopped:function(s3L){this._events.mediaStopped.dispatch(s3L);},notifyMediaFinished:function(J3L){this._events.mediaFinished.dispatch(J3L);},notifyMediaError:function(A3L){this._events.mediaError.dispatch(A3L);},notifyCueStateChanged:function(j3L){this._events.cueStateChanged.dispatch(j3L);},notifyCueProcessed:function(Q3L){this._events.cueProcessed.dispatch(Q3L);},notifyCueActivated:function(k3L){this._events.cueActivated.dispatch(k3L);},notifyCueMessageDispatched:function(i3L){this._events.cueMessageDispatched.dispatch(i3L);},notifyCaptionsTrackAvailabilityChanged:function(I3L){this._events.captionsTrackAvailabilityChanged.dispatch(I3L);},notifyCaptionsStateChanged:function(E3L){c6J._eventLogger.info("[onCaptionStateChanged] old: "+d1J.string(E3L.previousState)+", current: "+d1J.string(E3L.currentState));this._events.captionsStateChanged.dispatch(E3L);},notifyCaptionsTrackSelected:function(y3L){this._events.captionsTrackSelected.dispatch(y3L);},notifyCaptionsSettingsUpdated:function(r3L){this._events.captionSettingsUpdated.dispatch(r3L);},notifyCaptionsError:function(u5L){this._events.captionsError.dispatch(u5L);},notifyTimelineMarkerAdded:function(X5L){this._events.timelineMarkerAdded.dispatch(X5L);},notifyTimelineMarkerApproaching:function(h5L){this._events.timelineMarkerApproaching.dispatch(h5L);},notifyTimelineMarkerActivated:function(f5L){this._events.timelineMarkerActivated.dispatch(f5L);},notifyTimelineMarkerFinishing:function(D5L){this._events.timelineMarkerFinishing.dispatch(D5L);},notifyTimelineMarkerDeactivated:function(C5L){this._events.timelineMarkerDeactivated.dispatch(C5L);},notifyTimelineMarkerRemoved:function(w5L){this._events.timelineMarkerRemoved.dispatch(w5L);},notifyValidationSuccess:function(Y5L){this._events.validationSuccess.dispatch(Y5L);},notifyValidationError:function(c5L){this._events.validationError.dispatch(c5L);},notifyContentInterrupted:function(){var F5L=new Z9J();this._events.contentInterrupted.dispatch(F5L);},notifyContentCompleted:function(){var R5L=new Z9J();this._events.contentCompleted.dispatch(R5L);},notifyContentError:function(q5L){var U5L=new B2y(q5L);this._events.contentError.dispatch(U5L);},notifyContentEnded:function(){var o5L=new Z9J();this._events.contentEnded.dispatch(o5L);},notifyViewStateChanged:function(t5L,l5L){c6J._eventLogger.info("[notifyViewStateChanged] old: "+d1J.string(t5L)+", current: "+d1J.string(l5L));var G5L=new W2y(t5L,l5L);this._events.viewStateChanged.dispatch(G5L);},notifyViewFullscreenEntered:function(K5L){var m5L=new d0y(K5L);this._events.viewFullscreenEntered.dispatch(m5L);},notifyViewFullscreenExited:function(a5L){var N5L=new d0y(a5L);this._events.viewFullscreenExited.dispatch(N5L);},init:function(b5L){this.doInit(b5L);return this;},ready:function(g5L){this.doAddReadyListener(g5L);return this;},element:function(){return this.doGetElement();},uniqueId:function(){return this.doGetUniqueIdentifier();},userAction:function(P5L){this.doUserAction(P5L);return this;},canAutoPlay:function(){return this.doCheckCanAutoPlay();},attach:function(M5L){this.doAttach(M5L);return this;},detach:function(){this.doDetach();return this;},updateConfig:function(L5L){this.doUpdateConfig(L5L);return this;},play:function(x5L,O5L){this.doPlay(x5L,O5L);return this;},playByMediaJson:function(H5L,d5L){var T5L=i1J.extendWith({},[H5L==null?{}:H5L,{providerType:"top.cms.provider.mediaJson"}]);this.doPlay(T5L,d5L);return this;},playByContentXml:function(v5L,p5L){var V5L=i1J.extendWith({},[v5L==null?{}:v5L,{providerType:"top.cms.provider.contentXml"}]);this.doPlay(V5L,p5L);return this;},proceed:function(){this.doProceed();return this;},pause:function(){this.doPause();return this;},resume:function(){this.doResume();return this;},seek:function(Z5L){this.doSeek(Z5L);return this;},seekToLive:function(){this.doSeekToLive();return this;},setVolume:function(B5L){this.doSetVolume(B5L);return this;},mute:function(){this.doMute();return this;},unmute:function(){this.doUnmute();return this;},resize:function(W5L,z5L){this.doResize(W5L,z5L);return this;},enterFullscreen:function(){this.doEnterFullscreen();return this;},exitFullscreen:function(){this.doExitFullscreen();return this;},stop:function(){this.doStop();return this;},replay:function(){this.doReplay();return this;},selectCaptionTrack:function(S5L){this.doSelectCaptionTrack(S5L);return this;},selectCaptionTrackByLang:function(e5L){this.doSelectCaptionTrackByLang(e5L);return this;},setCaptionsEnabled:function(n5L){this.doSetCaptionsEnabled(n5L);return this;},updateCaptionSettings:function(s5L){this.doUpdateCaptionSettings(s5L);return this;},addCue:function(J5L){this.doAddCue(J5L);return this;},removeCue:function(A5L){this.doRemoveCue(A5L);return this;},reportEvent:function(j5L){this.doReportEvent(j5L);return this;},reportError:function(Q5L){this.doReportError(Q5L);return this;},isInitialized:function(){return this.doCheckIsInitialized();},isReady:function(){return this.doCheckIsReady();},isFullscreen:function(){return this.doCheckIsFullscreen();},isAdActive:function(){return this.doCheckIsAdActive();},isMediaActive:function(){return this.doCheckIsMediaActive();},isContentActive:function(){return this.doCheckIsContentActive();},destroy:function(){this.doDestroy();},events:function(){return this._events;},model:function(){return this._model;},modelWritable:function(){return this._modelWritable;},__class__:c6J};var S6J=function(){u4J.call(this);};O1J["com.turner.top.sdk.core.api.events.PlayerEventResult"]=S6J;S6J.__name__=["com","turner","top","sdk","core","api","events","PlayerEventResult"];S6J.__super__=u4J;S6J.prototype=v1J(u4J.prototype,{__class__:S6J});var Z9J=function(){S6J.call(this);};O1J["com.turner.top.sdk.core.api.events.ContentEventResult"]=Z9J;Z9J.__name__=["com","turner","top","sdk","core","api","events","ContentEventResult"];Z9J.__super__=S6J;Z9J.prototype=v1J(S6J.prototype,{__class__:Z9J});var p2y=function(k5L,i5L){S6J.call(this);this.previousState=k5L;this.currentState=i5L;};O1J["com.turner.top.sdk.core.api.events.PlayerStateChangedResult"]=p2y;p2y.__name__=["com","turner","top","sdk","core","api","events","PlayerStateChangedResult"];p2y.__super__=S6J;p2y.prototype=v1J(S6J.prototype,{previousState:null,currentState:null,__class__:p2y});var Z2y=function(I5L,E5L){S6J.call(this);this.previousState=I5L;this.currentState=E5L;};O1J["com.turner.top.sdk.core.api.events.ContentStateChangedResult"]=Z2y;Z2y.__name__=["com","turner","top","sdk","core","api","events","ContentStateChangedResult"];Z2y.__super__=S6J;Z2y.prototype=v1J(S6J.prototype,{previousState:null,currentState:null,__class__:Z2y});var B2y=function(y5L){S6J.call(this);this.description=y5L;};O1J["com.turner.top.sdk.core.api.events.ContentErrorResult"]=B2y;B2y.__name__=["com","turner","top","sdk","core","api","events","ContentErrorResult"];B2y.__super__=S6J;B2y.prototype=v1J(S6J.prototype,{description:null,__class__:B2y});var W2y=function(r5L,u0f){S6J.call(this);this.previousState=r5L;this.currentState=u0f;};O1J["com.turner.top.sdk.core.api.events.ViewStateChangedResult"]=W2y;W2y.__name__=["com","turner","top","sdk","core","api","events","ViewStateChangedResult"];W2y.__super__=S6J;W2y.prototype=v1J(S6J.prototype,{previousState:null,currentState:null,__class__:W2y});var d0y=function(X0f){S6J.call(this);this.fullscreenData=X0f;};O1J["com.turner.top.sdk.core.api.events.ViewFullscreenResult"]=d0y;d0y.__name__=["com","turner","top","sdk","core","api","events","ViewFullscreenResult"];d0y.__super__=S6J;d0y.prototype=v1J(S6J.prototype,{fullscreenData:null,__class__:d0y});var B1J=e1J["com"]["turner"]["top"]["sdk"]["core"]["api"]["events"]["PlayerEvent1"]=function(h0f,f0f){this._context=f0f;this._fnPairs=[];V1J.call(this,h0f);};O1J["com.turner.top.sdk.core.api.events.PlayerEvent1"]=B1J;B1J.__name__=["com","turner","top","sdk","core","api","events","PlayerEvent1"];B1J.__super__=V1J;B1J.prototype=v1J(V1J.prototype,{_context:null,_fnPairs:null,listen:function(w0f){var D0f=w0f;var C0f=null;if(this._context!=null){C0f=D0f.bind(this._context);}this._fnPairs.push({callback:D0f,signalFn:C0f});if(C0f!=null){D0f=C0f;}V1J.prototype.listen.call(this,D0f);},unlisten:function(R0f){var Y0f=R0f;var c0f=this._fnPairs.filter(function(U0f){return U0f.callback==R0f;})[0];var F0f=c0f.signalFn;if(F0f!=null){Y0f=F0f;}Y4J.remove(this._fnPairs,c0f);V1J.prototype.unlisten.call(this,Y0f);},__class__:B1J});var e2y=function(q0f){B1J.call(this,T1J.Player_State_Changed,q0f);};O1J["com.turner.top.sdk.core.api.events.PlayerStateChangedEvent"]=e2y;e2y.__name__=["com","turner","top","sdk","core","api","events","PlayerStateChangedEvent"];e2y.__super__=B1J;e2y.prototype=v1J(B1J.prototype,{__class__:e2y});var n2y=function(o0f){B1J.call(this,T1J.Player_Initialized,o0f);};O1J["com.turner.top.sdk.core.api.events.PlayerInitializedEvent"]=n2y;n2y.__name__=["com","turner","top","sdk","core","api","events","PlayerInitializedEvent"];n2y.__super__=B1J;n2y.prototype=v1J(B1J.prototype,{__class__:n2y});var s2y=function(t0f){B1J.call(this,T1J.Player_Ready,t0f);};O1J["com.turner.top.sdk.core.api.events.PlayerReadyEvent"]=s2y;s2y.__name__=["com","turner","top","sdk","core","api","events","PlayerReadyEvent"];s2y.__super__=B1J;s2y.prototype=v1J(B1J.prototype,{__class__:s2y});var J2y=function(l0f){B1J.call(this,T1J.Player_Listening,l0f);};O1J["com.turner.top.sdk.core.api.events.PlayerListeningEvent"]=J2y;J2y.__name__=["com","turner","top","sdk","core","api","events","PlayerListeningEvent"];J2y.__super__=B1J;J2y.prototype=v1J(B1J.prototype,{__class__:J2y});var A2y=function(G0f){B1J.call(this,T1J.Content_State_Changed,G0f);};O1J["com.turner.top.sdk.core.api.events.ContentStateChangedEvent"]=A2y;A2y.__name__=["com","turner","top","sdk","core","api","events","ContentStateChangedEvent"];A2y.__super__=B1J;A2y.prototype=v1J(B1J.prototype,{__class__:A2y});var j2y=function(m0f){B1J.call(this,T1J.Content_Beginning,m0f);};O1J["com.turner.top.sdk.core.api.events.ContentBeginningEvent"]=j2y;j2y.__name__=["com","turner","top","sdk","core","api","events","ContentBeginningEvent"];j2y.__super__=B1J;j2y.prototype=v1J(B1J.prototype,{__class__:j2y});var Q2y=function(K0f){B1J.call(this,T1J.Content_Setup,K0f);};O1J["com.turner.top.sdk.core.api.events.ContentSetupEvent"]=Q2y;Q2y.__name__=["com","turner","top","sdk","core","api","events","ContentSetupEvent"];Q2y.__super__=B1J;Q2y.prototype=v1J(B1J.prototype,{__class__:Q2y});var k2y=function(N0f){B1J.call(this,T1J.Content_Waiting,N0f);};O1J["com.turner.top.sdk.core.api.events.ContentWaitingEvent"]=k2y;k2y.__name__=["com","turner","top","sdk","core","api","events","ContentWaitingEvent"];k2y.__super__=B1J;k2y.prototype=v1J(B1J.prototype,{__class__:k2y});var i2y=function(a0f){B1J.call(this,T1J.Validation_Success,a0f);};O1J["com.turner.top.sdk.core.api.events.ValidationSuccessEvent"]=i2y;i2y.__name__=["com","turner","top","sdk","core","api","events","ValidationSuccessEvent"];i2y.__super__=B1J;i2y.prototype=v1J(B1J.prototype,{__class__:i2y});var I2y=function(b0f){B1J.call(this,T1J.Validation_Error,b0f);};O1J["com.turner.top.sdk.core.api.events.ValidationErrorEvent"]=I2y;I2y.__name__=["com","turner","top","sdk","core","api","events","ValidationErrorEvent"];I2y.__super__=B1J;I2y.prototype=v1J(B1J.prototype,{__class__:I2y});var E2y=function(g0f){B1J.call(this,T1J.Ad_Request_State_Changed,g0f);};O1J["com.turner.top.sdk.core.api.events.AdRequestStateChangedEvent"]=E2y;E2y.__name__=["com","turner","top","sdk","core","api","events","AdRequestStateChangedEvent"];E2y.__super__=B1J;E2y.prototype=v1J(B1J.prototype,{__class__:E2y});var y2y=function(P0f){B1J.call(this,T1J.Ad_Requesting,P0f);};O1J["com.turner.top.sdk.core.api.events.AdRequestingEvent"]=y2y;y2y.__name__=["com","turner","top","sdk","core","api","events","AdRequestingEvent"];y2y.__super__=B1J;y2y.prototype=v1J(B1J.prototype,{__class__:y2y});var r2y=function(M0f){B1J.call(this,T1J.Ad_Request_Completed,M0f);};O1J["com.turner.top.sdk.core.api.events.AdRequestCompletedEvent"]=r2y;r2y.__name__=["com","turner","top","sdk","core","api","events","AdRequestCompletedEvent"];r2y.__super__=B1J;r2y.prototype=v1J(B1J.prototype,{__class__:r2y});var u7y=function(L0f){B1J.call(this,T1J.Ad_Request_Canceled,L0f);};O1J["com.turner.top.sdk.core.api.events.AdRequestCanceledEvent"]=u7y;u7y.__name__=["com","turner","top","sdk","core","api","events","AdRequestCanceledEvent"];u7y.__super__=B1J;u7y.prototype=v1J(B1J.prototype,{__class__:u7y});var X7y=function(x0f){B1J.call(this,T1J.Ad_Request_Error,x0f);};O1J["com.turner.top.sdk.core.api.events.AdRequestErrorEvent"]=X7y;X7y.__name__=["com","turner","top","sdk","core","api","events","AdRequestErrorEvent"];X7y.__super__=B1J;X7y.prototype=v1J(B1J.prototype,{__class__:X7y});var h7y=function(O0f){B1J.call(this,T1J.Ad_State_Changed,O0f);};O1J["com.turner.top.sdk.core.api.events.AdStateChangedEvent"]=h7y;h7y.__name__=["com","turner","top","sdk","core","api","events","AdStateChangedEvent"];h7y.__super__=B1J;h7y.prototype=v1J(B1J.prototype,{__class__:h7y});var f7y=function(H0f){B1J.call(this,T1J.Ad_Starting,H0f);};O1J["com.turner.top.sdk.core.api.events.AdStartingEvent"]=f7y;f7y.__name__=["com","turner","top","sdk","core","api","events","AdStartingEvent"];f7y.__super__=B1J;f7y.prototype=v1J(B1J.prototype,{__class__:f7y});var D7y=function(T0f){B1J.call(this,T1J.Ad_Blocked,T0f);};O1J["com.turner.top.sdk.core.api.events.AdBlockedEvent"]=D7y;D7y.__name__=["com","turner","top","sdk","core","api","events","AdBlockedEvent"];D7y.__super__=B1J;D7y.prototype=v1J(B1J.prototype,{__class__:D7y});var C7y=function(d0f){B1J.call(this,T1J.Ad_Loaded,d0f);};O1J["com.turner.top.sdk.core.api.events.AdLoadedEvent"]=C7y;C7y.__name__=["com","turner","top","sdk","core","api","events","AdLoadedEvent"];C7y.__super__=B1J;C7y.prototype=v1J(B1J.prototype,{__class__:C7y});var X1y=function(v0f){B1J.call(this,T1J.Ad_Slot_Started,v0f);};O1J["com.turner.top.sdk.core.api.events.AdSlotStartedEvent"]=X1y;X1y.__name__=["com","turner","top","sdk","core","api","events","AdSlotStartedEvent"];X1y.__super__=B1J;X1y.prototype=v1J(B1J.prototype,{__class__:X1y});var Y7y=function(V0f){B1J.call(this,T1J.Ad_Started,V0f);};O1J["com.turner.top.sdk.core.api.events.AdStartedEvent"]=Y7y;Y7y.__name__=["com","turner","top","sdk","core","api","events","AdStartedEvent"];Y7y.__super__=B1J;Y7y.prototype=v1J(B1J.prototype,{__class__:Y7y});var c7y=function(p0f){B1J.call(this,T1J.Ad_Creative_Started,p0f);};O1J["com.turner.top.sdk.core.api.events.AdCreativeStartedEvent"]=c7y;c7y.__name__=["com","turner","top","sdk","core","api","events","AdCreativeStartedEvent"];c7y.__super__=B1J;c7y.prototype=v1J(B1J.prototype,{__class__:c7y});var F7y=function(Z0f){B1J.call(this,T1J.Ad_Time_Changed,Z0f);};O1J["com.turner.top.sdk.core.api.events.AdTimeChangedEvent"]=F7y;F7y.__name__=["com","turner","top","sdk","core","api","events","AdTimeChangedEvent"];F7y.__super__=B1J;F7y.prototype=v1J(B1J.prototype,{__class__:F7y});var R7y=function(B0f){B1J.call(this,T1J.Ad_Paused,B0f);};O1J["com.turner.top.sdk.core.api.events.AdPausedEvent"]=R7y;R7y.__name__=["com","turner","top","sdk","core","api","events","AdPausedEvent"];R7y.__super__=B1J;R7y.prototype=v1J(B1J.prototype,{__class__:R7y});var U7y=function(W0f){B1J.call(this,T1J.Ad_Resumed,W0f);};O1J["com.turner.top.sdk.core.api.events.AdResumedEvent"]=U7y;U7y.__name__=["com","turner","top","sdk","core","api","events","AdResumedEvent"];U7y.__super__=B1J;U7y.prototype=v1J(B1J.prototype,{__class__:U7y});var q7y=function(z0f){B1J.call(this,T1J.Ad_Volume_Changed,z0f);};O1J["com.turner.top.sdk.core.api.events.AdVolumeChangedEvent"]=q7y;q7y.__name__=["com","turner","top","sdk","core","api","events","AdVolumeChangedEvent"];q7y.__super__=B1J;q7y.prototype=v1J(B1J.prototype,{__class__:q7y});var o7y=function(S0f){B1J.call(this,T1J.Ad_Mute_Changed,S0f);};O1J["com.turner.top.sdk.core.api.events.AdMuteChangedEvent"]=o7y;o7y.__name__=["com","turner","top","sdk","core","api","events","AdMuteChangedEvent"];o7y.__super__=B1J;o7y.prototype=v1J(B1J.prototype,{__class__:o7y});var t7y=function(e0f){B1J.call(this,T1J.Ad_Stopped,e0f);};O1J["com.turner.top.sdk.core.api.events.AdStoppedEvent"]=t7y;t7y.__name__=["com","turner","top","sdk","core","api","events","AdStoppedEvent"];t7y.__super__=B1J;t7y.prototype=v1J(B1J.prototype,{__class__:t7y});var l7y=function(n0f){B1J.call(this,T1J.Ad_Creative_Ended,n0f);};O1J["com.turner.top.sdk.core.api.events.AdCreativeEndedEvent"]=l7y;l7y.__name__=["com","turner","top","sdk","core","api","events","AdCreativeEndedEvent"];l7y.__super__=B1J;l7y.prototype=v1J(B1J.prototype,{__class__:l7y});var G7y=function(s0f){B1J.call(this,T1J.Ad_Slot_Ended,s0f);};O1J["com.turner.top.sdk.core.api.events.AdSlotEndedEvent"]=G7y;G7y.__name__=["com","turner","top","sdk","core","api","events","AdSlotEndedEvent"];G7y.__super__=B1J;G7y.prototype=v1J(B1J.prototype,{__class__:G7y});var m7y=function(J0f){B1J.call(this,T1J.Ad_Finished,J0f);};O1J["com.turner.top.sdk.core.api.events.AdFinishedEvent"]=m7y;m7y.__name__=["com","turner","top","sdk","core","api","events","AdFinishedEvent"];m7y.__super__=B1J;m7y.prototype=v1J(B1J.prototype,{__class__:m7y});var K7y=function(A0f){B1J.call(this,T1J.Ad_Error,A0f);};O1J["com.turner.top.sdk.core.api.events.AdErrorEvent"]=K7y;K7y.__name__=["com","turner","top","sdk","core","api","events","AdErrorEvent"];K7y.__super__=B1J;K7y.prototype=v1J(B1J.prototype,{__class__:K7y});var N7y=function(j0f){B1J.call(this,T1J.Media_Command_Received,j0f);};O1J["com.turner.top.sdk.core.api.events.MediaCommandReceivedEvent"]=N7y;N7y.__name__=["com","turner","top","sdk","core","api","events","MediaCommandReceivedEvent"];N7y.__super__=B1J;N7y.prototype=v1J(B1J.prototype,{__class__:N7y});var a7y=function(Q0f){B1J.call(this,T1J.Media_State_Changed,Q0f);};O1J["com.turner.top.sdk.core.api.events.MediaStateChangedEvent"]=a7y;a7y.__name__=["com","turner","top","sdk","core","api","events","MediaStateChangedEvent"];a7y.__super__=B1J;a7y.prototype=v1J(B1J.prototype,{__class__:a7y});var b7y=function(k0f){B1J.call(this,T1J.Media_Starting,k0f);};O1J["com.turner.top.sdk.core.api.events.MediaStartingEvent"]=b7y;b7y.__name__=["com","turner","top","sdk","core","api","events","MediaStartingEvent"];b7y.__super__=B1J;b7y.prototype=v1J(B1J.prototype,{__class__:b7y});var g7y=function(i0f){B1J.call(this,T1J.Media_Blocked,i0f);};O1J["com.turner.top.sdk.core.api.events.MediaBlockedEvent"]=g7y;g7y.__name__=["com","turner","top","sdk","core","api","events","MediaBlockedEvent"];g7y.__super__=B1J;g7y.prototype=v1J(B1J.prototype,{__class__:g7y});var P7y=function(I0f){B1J.call(this,T1J.Media_Loaded,I0f);};O1J["com.turner.top.sdk.core.api.events.MediaLoadedEvent"]=P7y;P7y.__name__=["com","turner","top","sdk","core","api","events","MediaLoadedEvent"];P7y.__super__=B1J;P7y.prototype=v1J(B1J.prototype,{__class__:P7y});var M7y=function(E0f){B1J.call(this,T1J.Media_Started,E0f);};O1J["com.turner.top.sdk.core.api.events.MediaStartedEvent"]=M7y;M7y.__name__=["com","turner","top","sdk","core","api","events","MediaStartedEvent"];M7y.__super__=B1J;M7y.prototype=v1J(B1J.prototype,{__class__:M7y});var L7y=function(y0f){B1J.call(this,T1J.Media_Buffering_Started,y0f);};O1J["com.turner.top.sdk.core.api.events.MediaBufferingStartedEvent"]=L7y;L7y.__name__=["com","turner","top","sdk","core","api","events","MediaBufferingStartedEvent"];L7y.__super__=B1J;L7y.prototype=v1J(B1J.prototype,{__class__:L7y});var x7y=function(r0f){B1J.call(this,T1J.Media_Buffering_Finished,r0f);};O1J["com.turner.top.sdk.core.api.events.MediaBufferingFinishedEvent"]=x7y;x7y.__name__=["com","turner","top","sdk","core","api","events","MediaBufferingFinishedEvent"];x7y.__super__=B1J;x7y.prototype=v1J(B1J.prototype,{__class__:x7y});var O7y=function(u1f){B1J.call(this,T1J.Media_Seeking_Started,u1f);};O1J["com.turner.top.sdk.core.api.events.MediaSeekingStartedEvent"]=O7y;O7y.__name__=["com","turner","top","sdk","core","api","events","MediaSeekingStartedEvent"];O7y.__super__=B1J;O7y.prototype=v1J(B1J.prototype,{__class__:O7y});var H7y=function(X1f){B1J.call(this,T1J.Media_Seeking_Finished,X1f);};O1J["com.turner.top.sdk.core.api.events.MediaSeekingFinishedEvent"]=H7y;H7y.__name__=["com","turner","top","sdk","core","api","events","MediaSeekingFinishedEvent"];H7y.__super__=B1J;H7y.prototype=v1J(B1J.prototype,{__class__:H7y});var T7y=function(h1f){B1J.call(this,T1J.Media_Request_Profile_Changed,h1f);};O1J["com.turner.top.sdk.core.api.events.MediaRequestProfileChangedEvent"]=T7y;T7y.__name__=["com","turner","top","sdk","core","api","events","MediaRequestProfileChangedEvent"];T7y.__super__=B1J;T7y.prototype=v1J(B1J.prototype,{__class__:T7y});var d7y=function(f1f){B1J.call(this,T1J.Media_Profile_Changing,f1f);};O1J["com.turner.top.sdk.core.api.events.MediaProfileChangingEvent"]=d7y;d7y.__name__=["com","turner","top","sdk","core","api","events","MediaProfileChangingEvent"];d7y.__super__=B1J;d7y.prototype=v1J(B1J.prototype,{__class__:d7y});var v7y=function(D1f){B1J.call(this,T1J.Media_Profile_Changed,D1f);};O1J["com.turner.top.sdk.core.api.events.MediaProfileChangedEvent"]=v7y;v7y.__name__=["com","turner","top","sdk","core","api","events","MediaProfileChangedEvent"];v7y.__super__=B1J;v7y.prototype=v1J(B1J.prototype,{__class__:v7y});var V7y=function(C1f){B1J.call(this,T1J.Media_Time_Changed,C1f);};O1J["com.turner.top.sdk.core.api.events.MediaTimeChangedEvent"]=V7y;V7y.__name__=["com","turner","top","sdk","core","api","events","MediaTimeChangedEvent"];V7y.__super__=B1J;V7y.prototype=v1J(B1J.prototype,{__class__:V7y});var p7y=function(w1f){B1J.call(this,T1J.Media_Paused,w1f);};O1J["com.turner.top.sdk.core.api.events.MediaPausedEvent"]=p7y;p7y.__name__=["com","turner","top","sdk","core","api","events","MediaPausedEvent"];p7y.__super__=B1J;p7y.prototype=v1J(B1J.prototype,{__class__:p7y});var Z7y=function(Y1f){B1J.call(this,T1J.Media_Resumed,Y1f);};O1J["com.turner.top.sdk.core.api.events.MediaResumedEvent"]=Z7y;Z7y.__name__=["com","turner","top","sdk","core","api","events","MediaResumedEvent"];Z7y.__super__=B1J;Z7y.prototype=v1J(B1J.prototype,{__class__:Z7y});var B7y=function(c1f){B1J.call(this,T1J.Media_Recovery_Started,c1f);};O1J["com.turner.top.sdk.core.api.events.MediaRecoveryStartedEvent"]=B7y;B7y.__name__=["com","turner","top","sdk","core","api","events","MediaRecoveryStartedEvent"];B7y.__super__=B1J;B7y.prototype=v1J(B1J.prototype,{__class__:B7y});var W7y=function(F1f){B1J.call(this,T1J.Media_Recovery_Finished,F1f);};O1J["com.turner.top.sdk.core.api.events.MediaRecoveryFinishedEvent"]=W7y;W7y.__name__=["com","turner","top","sdk","core","api","events","MediaRecoveryFinishedEvent"];W7y.__super__=B1J;W7y.prototype=v1J(B1J.prototype,{__class__:W7y});var z7y=function(R1f){B1J.call(this,T1J.Media_Volume_Changed,R1f);};O1J["com.turner.top.sdk.core.api.events.MediaVolumeChangedEvent"]=z7y;z7y.__name__=["com","turner","top","sdk","core","api","events","MediaVolumeChangedEvent"];z7y.__super__=B1J;z7y.prototype=v1J(B1J.prototype,{__class__:z7y});var S7y=function(U1f){B1J.call(this,T1J.Media_Mute_Changed,U1f);};O1J["com.turner.top.sdk.core.api.events.MediaMuteChangedEvent"]=S7y;S7y.__name__=["com","turner","top","sdk","core","api","events","MediaMuteChangedEvent"];S7y.__super__=B1J;S7y.prototype=v1J(B1J.prototype,{__class__:S7y});var e7y=function(q1f){B1J.call(this,T1J.Media_Resized,q1f);};O1J["com.turner.top.sdk.core.api.events.MediaResizedEvent"]=e7y;e7y.__name__=["com","turner","top","sdk","core","api","events","MediaResizedEvent"];e7y.__super__=B1J;e7y.prototype=v1J(B1J.prototype,{__class__:e7y});var n7y=function(o1f){B1J.call(this,T1J.Media_Timed_Metadata_Received,o1f);};O1J["com.turner.top.sdk.core.api.events.MediaTimedMetadataRecievedEvent"]=n7y;n7y.__name__=["com","turner","top","sdk","core","api","events","MediaTimedMetadataRecievedEvent"];n7y.__super__=B1J;n7y.prototype=v1J(B1J.prototype,{__class__:n7y});var s7y=function(t1f){B1J.call(this,T1J.Media_Stopped,t1f);};O1J["com.turner.top.sdk.core.api.events.MediaStoppedEvent"]=s7y;s7y.__name__=["com","turner","top","sdk","core","api","events","MediaStoppedEvent"];s7y.__super__=B1J;s7y.prototype=v1J(B1J.prototype,{__class__:s7y});var J7y=function(l1f){B1J.call(this,T1J.Media_Finished,l1f);};O1J["com.turner.top.sdk.core.api.events.MediaFinishedEvent"]=J7y;J7y.__name__=["com","turner","top","sdk","core","api","events","MediaFinishedEvent"];J7y.__super__=B1J;J7y.prototype=v1J(B1J.prototype,{__class__:J7y});var A7y=function(G1f){B1J.call(this,T1J.Media_Error,G1f);};O1J["com.turner.top.sdk.core.api.events.MediaErrorEvent"]=A7y;A7y.__name__=["com","turner","top","sdk","core","api","events","MediaErrorEvent"];A7y.__super__=B1J;A7y.prototype=v1J(B1J.prototype,{__class__:A7y});var j7y=function(m1f){B1J.call(this,T1J.Cue_State_Changed,m1f);};O1J["com.turner.top.sdk.core.api.events.CueStateChangedEvent"]=j7y;j7y.__name__=["com","turner","top","sdk","core","api","events","CueStateChangedEvent"];j7y.__super__=B1J;j7y.prototype=v1J(B1J.prototype,{__class__:j7y});var Q7y=function(K1f){B1J.call(this,T1J.Cue_Processed,K1f);};O1J["com.turner.top.sdk.core.api.events.CueProcessedEvent"]=Q7y;Q7y.__name__=["com","turner","top","sdk","core","api","events","CueProcessedEvent"];Q7y.__super__=B1J;Q7y.prototype=v1J(B1J.prototype,{__class__:Q7y});var k7y=function(N1f){B1J.call(this,T1J.Cue_Activated,N1f);};O1J["com.turner.top.sdk.core.api.events.CueActivatedEvent"]=k7y;k7y.__name__=["com","turner","top","sdk","core","api","events","CueActivatedEvent"];k7y.__super__=B1J;k7y.prototype=v1J(B1J.prototype,{__class__:k7y});var i7y=function(a1f){B1J.call(this,T1J.Cue_Message_Dispatched,a1f);};O1J["com.turner.top.sdk.core.api.events.CueMessageDispatchedEvent"]=i7y;i7y.__name__=["com","turner","top","sdk","core","api","events","CueMessageDispatchedEvent"];i7y.__super__=B1J;i7y.prototype=v1J(B1J.prototype,{__class__:i7y});var I7y=function(b1f){B1J.call(this,T1J.CC_Track_Availability_Changed,b1f);};O1J["com.turner.top.sdk.core.api.events.CCTrackAvailabilityChangedEvent"]=I7y;I7y.__name__=["com","turner","top","sdk","core","api","events","CCTrackAvailabilityChangedEvent"];I7y.__super__=B1J;I7y.prototype=v1J(B1J.prototype,{__class__:I7y});var E7y=function(g1f){B1J.call(this,T1J.CC_State_Changed,g1f);};O1J["com.turner.top.sdk.core.api.events.CCStateChangedEvent"]=E7y;E7y.__name__=["com","turner","top","sdk","core","api","events","CCStateChangedEvent"];E7y.__super__=B1J;E7y.prototype=v1J(B1J.prototype,{__class__:E7y});var y7y=function(P1f){B1J.call(this,T1J.CC_Track_Selected,P1f);};O1J["com.turner.top.sdk.core.api.events.CCTrackSelectedEvent"]=y7y;y7y.__name__=["com","turner","top","sdk","core","api","events","CCTrackSelectedEvent"];y7y.__super__=B1J;y7y.prototype=v1J(B1J.prototype,{__class__:y7y});var r7y=function(M1f){B1J.call(this,T1J.CC_Settings_Updated,M1f);};O1J["com.turner.top.sdk.core.api.events.CCSettingsUpdatedEvent"]=r7y;r7y.__name__=["com","turner","top","sdk","core","api","events","CCSettingsUpdatedEvent"];r7y.__super__=B1J;r7y.prototype=v1J(B1J.prototype,{__class__:r7y});var u9y=function(L1f){B1J.call(this,T1J.CC_Error,L1f);};O1J["com.turner.top.sdk.core.api.events.CCErrorEvent"]=u9y;u9y.__name__=["com","turner","top","sdk","core","api","events","CCErrorEvent"];u9y.__super__=B1J;u9y.prototype=v1J(B1J.prototype,{__class__:u9y});var X9y=function(x1f){B1J.call(this,T1J.Timeline_Marker_Added,x1f);};O1J["com.turner.top.sdk.core.api.events.TimelineMarkerAddedEvent"]=X9y;X9y.__name__=["com","turner","top","sdk","core","api","events","TimelineMarkerAddedEvent"];X9y.__super__=B1J;X9y.prototype=v1J(B1J.prototype,{__class__:X9y});var h9y=function(O1f){B1J.call(this,T1J.Timeline_Marker_Approaching,O1f);};O1J["com.turner.top.sdk.core.api.events.TimelineMarkerApproachingEvent"]=h9y;function v1J(m14,o14){G14.prototype=m14;var t14=new G14();function G14(){}for(var l14 in o14)t14[l14]=o14[l14];if(o14.toString!==Object.prototype.toString)t14.toString=o14.toString;return t14;}h9y.__name__=["com","turner","top","sdk","core","api","events","TimelineMarkerApproachingEvent"];h9y.__super__=B1J;h9y.prototype=v1J(B1J.prototype,{__class__:h9y});var f9y=function(H1f){B1J.call(this,T1J.Timeline_Marker_Activated,H1f);};O1J["com.turner.top.sdk.core.api.events.TimelineMarkerActivatedEvent"]=f9y;f9y.__name__=["com","turner","top","sdk","core","api","events","TimelineMarkerActivatedEvent"];f9y.__super__=B1J;f9y.prototype=v1J(B1J.prototype,{__class__:f9y});var D9y=function(T1f){B1J.call(this,T1J.Timeline_Marker_Finishing,T1f);};O1J["com.turner.top.sdk.core.api.events.TimelineMarkerFinishingEvent"]=D9y;D9y.__name__=["com","turner","top","sdk","core","api","events","TimelineMarkerFinishingEvent"];D9y.__super__=B1J;D9y.prototype=v1J(B1J.prototype,{__class__:D9y});var C9y=function(d1f){B1J.call(this,T1J.Timeline_Marker_Deactivated,d1f);};O1J["com.turner.top.sdk.core.api.events.TimelineMarkerDeactivatedEvent"]=C9y;C9y.__name__=["com","turner","top","sdk","core","api","events","TimelineMarkerDeactivatedEvent"];C9y.__super__=B1J;C9y.prototype=v1J(B1J.prototype,{__class__:C9y});var w9y=function(v1f){B1J.call(this,T1J.Timeline_Marker_Removed,v1f);};O1J["com.turner.top.sdk.core.api.events.TimelineMarkerRemovedEvent"]=w9y;w9y.__name__=["com","turner","top","sdk","core","api","events","TimelineMarkerRemovedEvent"];w9y.__super__=B1J;w9y.prototype=v1J(B1J.prototype,{__class__:w9y});var Y9y=function(V1f){B1J.call(this,T1J.Content_Interrupted,V1f);};O1J["com.turner.top.sdk.core.api.events.ContentInterruptedEvent"]=Y9y;Y9y.__name__=["com","turner","top","sdk","core","api","events","ContentInterruptedEvent"];Y9y.__super__=B1J;Y9y.prototype=v1J(B1J.prototype,{__class__:Y9y});var c9y=function(p1f){B1J.call(this,T1J.Content_Completed,p1f);};O1J["com.turner.top.sdk.core.api.events.ContentCompletedEvent"]=c9y;c9y.__name__=["com","turner","top","sdk","core","api","events","ContentCompletedEvent"];c9y.__super__=B1J;c9y.prototype=v1J(B1J.prototype,{__class__:c9y});var F9y=function(Z1f){B1J.call(this,T1J.Content_Error,Z1f);};O1J["com.turner.top.sdk.core.api.events.ContentErrorEvent"]=F9y;F9y.__name__=["com","turner","top","sdk","core","api","events","ContentErrorEvent"];F9y.__super__=B1J;F9y.prototype=v1J(B1J.prototype,{__class__:F9y});var R9y=function(B1f){B1J.call(this,T1J.Content_Ended,B1f);};O1J["com.turner.top.sdk.core.api.events.ContentEndedEvent"]=R9y;R9y.__name__=["com","turner","top","sdk","core","api","events","ContentEndedEvent"];R9y.__super__=B1J;R9y.prototype=v1J(B1J.prototype,{__class__:R9y});var U9y=function(W1f){B1J.call(this,T1J.View_State_Changed,W1f);};O1J["com.turner.top.sdk.core.api.events.ViewStateChangedEvent"]=U9y;U9y.__name__=["com","turner","top","sdk","core","api","events","ViewStateChangedEvent"];U9y.__super__=B1J;U9y.prototype=v1J(B1J.prototype,{__class__:U9y});var q9y=function(z1f){B1J.call(this,T1J.View_Fullscreen_Entered,z1f);};O1J["com.turner.top.sdk.core.api.events.ViewFullscreenEnteredEvent"]=q9y;q9y.__name__=["com","turner","top","sdk","core","api","events","ViewFullscreenEnteredEvent"];q9y.__super__=B1J;q9y.prototype=v1J(B1J.prototype,{__class__:q9y});var o9y=function(S1f){B1J.call(this,T1J.View_Fullscreen_Exited,S1f);};O1J["com.turner.top.sdk.core.api.events.ViewFullscreenExitedEvent"]=o9y;o9y.__name__=["com","turner","top","sdk","core","api","events","ViewFullscreenExitedEvent"];o9y.__super__=B1J;o9y.prototype=v1J(B1J.prototype,{__class__:o9y});var B04=function(){};O1J["com.turner.top.sdk.core.api.events.Exports"]=B04;B04.__name__=["com","turner","top","sdk","core","api","events","Exports"];var l9y=function(e1f){G4J.call(this,[this.playerStateChanged=new e2y(e1f),this.playerInitialized=new n2y(e1f),this.playerReady=new s2y(e1f),this.playerListening=new J2y(e1f),this.contentStateChanged=new A2y(e1f),this.contentBeginning=new j2y(e1f),this.contentSetup=new Q2y(e1f),this.contentWaiting=new k2y(e1f),this.validationSuccess=new i2y(e1f),this.validationError=new I2y(e1f),this.adRequestStateChanged=new E2y(e1f),this.adRequesting=new y2y(e1f),this.adRequestCompleted=new r2y(e1f),this.adRequestCanceled=new u7y(e1f),this.adRequestError=new X7y(e1f),this.adStateChanged=new h7y(e1f),this.adStarting=new f7y(e1f),this.adBlocked=new D7y(e1f),this.adLoaded=new C7y(e1f),this.adSlotStarted=new X1y(e1f),this.adCreativeStarted=new c7y(e1f),this.adStarted=new Y7y(e1f),this.adTimeChanged=new F7y(e1f),this.adPaused=new R7y(e1f),this.adResumed=new U7y(e1f),this.adVolumeChanged=new q7y(e1f),this.adMuteChanged=new o7y(e1f),this.adStopped=new t7y(e1f),this.adCreativeEnded=new l7y(e1f),this.adSlotEnded=new G7y(e1f),this.adFinished=new m7y(e1f),this.adError=new K7y(e1f),this.mediaCommandReceived=new N7y(e1f),this.mediaStateChanged=new a7y(e1f),this.mediaStarting=new b7y(e1f),this.mediaBlocked=new g7y(e1f),this.mediaLoaded=new P7y(e1f),this.mediaStarted=new M7y(e1f),this.mediaBufferingStarted=new L7y(e1f),this.mediaBufferingFinished=new x7y(e1f),this.mediaSeekingStarted=new O7y(e1f),this.mediaSeekingFinished=new H7y(e1f),this.mediaRequestProfileChanged=new T7y(e1f),this.mediaProfileChanging=new d7y(e1f),this.mediaProfileChanged=new v7y(e1f),this.mediaTimeChanged=new V7y(e1f),this.mediaPaused=new p7y(e1f),this.mediaResumed=new Z7y(e1f),this.mediaRecoveryStarted=new B7y(e1f),this.mediaRecoveryFinished=new W7y(e1f),this.mediaVolumeChanged=new z7y(e1f),this.mediaMuteChanged=new S7y(e1f),this.mediaResized=new e7y(e1f),this.mediaTimedMetadataReceived=new n7y(e1f),this.mediaStopped=new s7y(e1f),this.mediaFinished=new J7y(e1f),this.mediaError=new A7y(e1f),this.cueStateChanged=new j7y(e1f),this.cueProcessed=new Q7y(e1f),this.cueActivated=new k7y(e1f),this.cueMessageDispatched=new i7y(e1f),this.captionsTrackAvailabilityChanged=new I7y(e1f),this.captionsStateChanged=new E7y(e1f),this.captionsTrackSelected=new y7y(e1f),this.captionSettingsUpdated=new r7y(e1f),this.captionsError=new u9y(e1f),this.timelineMarkerAdded=new X9y(e1f),this.timelineMarkerApproaching=new h9y(e1f),this.timelineMarkerActivated=new f9y(e1f),this.timelineMarkerFinishing=new D9y(e1f),this.timelineMarkerDeactivated=new C9y(e1f),this.timelineMarkerRemoved=new w9y(e1f),this.contentInterrupted=new Y9y(e1f),this.contentCompleted=new c9y(e1f),this.contentError=new F9y(e1f),this.contentEnded=new R9y(e1f),this.viewStateChanged=new U9y(e1f),this.viewFullscreenEntered=new q9y(e1f),this.viewFullscreenExited=new o9y(e1f)]);};O1J["com.turner.top.sdk.core.api.events.PlayerApiEvents"]=l9y;l9y.__name__=["com","turner","top","sdk","core","api","events","PlayerApiEvents"];l9y.__super__=G4J;l9y.prototype=v1J(G4J.prototype,{playerStateChanged:null,playerInitialized:null,playerReady:null,playerListening:null,contentStateChanged:null,contentBeginning:null,contentSetup:null,contentWaiting:null,validationSuccess:null,validationError:null,adRequestStateChanged:null,adRequesting:null,adRequestCompleted:null,adRequestCanceled:null,adRequestError:null,adStateChanged:null,adStarting:null,adBlocked:null,adLoaded:null,adSlotStarted:null,adCreativeStarted:null,adStarted:null,adTimeChanged:null,adPaused:null,adResumed:null,adVolumeChanged:null,adMuteChanged:null,adStopped:null,adCreativeEnded:null,adSlotEnded:null,adFinished:null,adError:null,mediaCommandReceived:null,mediaStateChanged:null,mediaStarting:null,mediaBlocked:null,mediaLoaded:null,mediaStarted:null,mediaBufferingStarted:null,mediaBufferingFinished:null,mediaSeekingStarted:null,mediaSeekingFinished:null,mediaRequestProfileChanged:null,mediaProfileChanging:null,mediaProfileChanged:null,mediaTimeChanged:null,mediaPaused:null,mediaResumed:null,mediaRecoveryStarted:null,mediaRecoveryFinished:null,mediaVolumeChanged:null,mediaMuteChanged:null,mediaResized:null,mediaTimedMetadataReceived:null,mediaStopped:null,mediaFinished:null,mediaError:null,cueStateChanged:null,cueProcessed:null,cueActivated:null,cueMessageDispatched:null,captionsTrackAvailabilityChanged:null,captionsStateChanged:null,captionsTrackSelected:null,captionSettingsUpdated:null,captionsError:null,timelineMarkerAdded:null,timelineMarkerApproaching:null,timelineMarkerActivated:null,timelineMarkerFinishing:null,timelineMarkerDeactivated:null,timelineMarkerRemoved:null,contentInterrupted:null,contentCompleted:null,contentError:null,contentEnded:null,viewStateChanged:null,viewFullscreenEntered:null,viewFullscreenExited:null,__class__:l9y});var A3y=function(){};O1J["com.turner.top.sdk.core.player.IPlayerCore"]=A3y;A3y.__name__=["com","turner","top","sdk","core","player","IPlayerCore"];A3y.prototype={init:null,processCommand:null,__class__:A3y};var A6J=function(n1f,s1f){this.type=n1f;this.data=s1f;};O1J["com.turner.top.sdk.core.player.PlayerCommand"]=A6J;A6J.__name__=["com","turner","top","sdk","core","player","PlayerCommand"];A6J.prototype={type:null,data:null,__class__:A6J};var k1J=O1J["com.turner.top.sdk.core.player.ApiCommandType"]={__ename__:["com","turner","top","sdk","core","player","ApiCommandType"],__constructs__:["Attach","Detach","Update_Config","Play","Proceed","Pause","Resume","Seek","Seek_To_Live","Volume","Mute","Unmute","Resize","Enter_Fullscreen","Exit_Fullscreen","Stop","Replay","Captions_Select_Track","Captions_Set_Enabled","Captions_Update_Settings","Cue_Add","Cue_Remove","Analytics_Report_Event","Analytics_Report_Error","Destroy","User_Action"]};k1J.Attach=["Attach",0];k1J.Attach.toString=H1J;k1J.Attach.__enum__=k1J;k1J.Detach=["Detach",1];k1J.Detach.toString=H1J;k1J.Detach.__enum__=k1J;k1J.Update_Config=["Update_Config",2];k1J.Update_Config.toString=H1J;k1J.Update_Config.__enum__=k1J;k1J.Play=["Play",3];k1J.Play.toString=H1J;k1J.Play.__enum__=k1J;k1J.Proceed=["Proceed",4];k1J.Proceed.toString=H1J;k1J.Proceed.__enum__=k1J;k1J.Pause=["Pause",5];k1J.Pause.toString=H1J;k1J.Pause.__enum__=k1J;k1J.Resume=["Resume",6];k1J.Resume.toString=H1J;k1J.Resume.__enum__=k1J;k1J.Seek=["Seek",7];k1J.Seek.toString=H1J;k1J.Seek.__enum__=k1J;k1J.Seek_To_Live=["Seek_To_Live",8];k1J.Seek_To_Live.toString=H1J;k1J.Seek_To_Live.__enum__=k1J;k1J.Volume=["Volume",9];k1J.Volume.toString=H1J;k1J.Volume.__enum__=k1J;k1J.Mute=["Mute",10];k1J.Mute.toString=H1J;k1J.Mute.__enum__=k1J;k1J.Unmute=["Unmute",11];k1J.Unmute.toString=H1J;k1J.Unmute.__enum__=k1J;k1J.Resize=["Resize",12];k1J.Resize.toString=H1J;k1J.Resize.__enum__=k1J;k1J.Enter_Fullscreen=["Enter_Fullscreen",13];k1J.Enter_Fullscreen.toString=H1J;k1J.Enter_Fullscreen.__enum__=k1J;k1J.Exit_Fullscreen=["Exit_Fullscreen",14];k1J.Exit_Fullscreen.toString=H1J;k1J.Exit_Fullscreen.__enum__=k1J;k1J.Stop=["Stop",15];k1J.Stop.toString=H1J;k1J.Stop.__enum__=k1J;k1J.Replay=["Replay",16];k1J.Replay.toString=H1J;k1J.Replay.__enum__=k1J;k1J.Captions_Select_Track=["Captions_Select_Track",17];k1J.Captions_Select_Track.toString=H1J;k1J.Captions_Select_Track.__enum__=k1J;k1J.Captions_Set_Enabled=["Captions_Set_Enabled",18];k1J.Captions_Set_Enabled.toString=H1J;k1J.Captions_Set_Enabled.__enum__=k1J;k1J.Captions_Update_Settings=["Captions_Update_Settings",19];k1J.Captions_Update_Settings.toString=H1J;k1J.Captions_Update_Settings.__enum__=k1J;k1J.Cue_Add=["Cue_Add",20];k1J.Cue_Add.toString=H1J;k1J.Cue_Add.__enum__=k1J;k1J.Cue_Remove=["Cue_Remove",21];k1J.Cue_Remove.toString=H1J;k1J.Cue_Remove.__enum__=k1J;k1J.Analytics_Report_Event=["Analytics_Report_Event",22];k1J.Analytics_Report_Event.toString=H1J;k1J.Analytics_Report_Event.__enum__=k1J;k1J.Analytics_Report_Error=["Analytics_Report_Error",23];k1J.Analytics_Report_Error.toString=H1J;k1J.Analytics_Report_Error.__enum__=k1J;k1J.Destroy=["Destroy",24];k1J.Destroy.toString=H1J;k1J.Destroy.__enum__=k1J;k1J.User_Action=["User_Action",25];k1J.User_Action.toString=H1J;k1J.User_Action.__enum__=k1J;k1J.__empty_constructs__=[k1J.Attach,k1J.Detach,k1J.Update_Config,k1J.Play,k1J.Proceed,k1J.Pause,k1J.Resume,k1J.Seek,k1J.Seek_To_Live,k1J.Volume,k1J.Mute,k1J.Unmute,k1J.Resize,k1J.Enter_Fullscreen,k1J.Exit_Fullscreen,k1J.Stop,k1J.Replay,k1J.Captions_Select_Track,k1J.Captions_Set_Enabled,k1J.Captions_Update_Settings,k1J.Cue_Add,k1J.Cue_Remove,k1J.Analytics_Report_Event,k1J.Analytics_Report_Error,k1J.Destroy,k1J.User_Action];var F4J=function(J1f,A1f){A6J.call(this,J1f,A1f);};O1J["com.turner.top.sdk.core.player.ApiCommand"]=F4J;F4J.__name__=["com","turner","top","sdk","core","player","ApiCommand"];F4J.__super__=A6J;F4J.prototype=v1J(A6J.prototype,{__class__:F4J});var p0y=function(j1f){F4J.call(this,k1J.User_Action);this.result=j1f;};O1J["com.turner.top.sdk.core.player.ApiUserActionCommand"]=p0y;p0y.__name__=["com","turner","top","sdk","core","player","ApiUserActionCommand"];p0y.__super__=F4J;p0y.prototype=v1J(F4J.prototype,{result:null,__class__:p0y});var R3J=function(Q1f){F4J.call(this,k1J.Attach);this.viewElement=Q1f;};O1J["com.turner.top.sdk.core.player.ApiAttachCommand"]=R3J;R3J.__name__=["com","turner","top","sdk","core","player","ApiAttachCommand"];R3J.__super__=F4J;R3J.prototype=v1J(F4J.prototype,{viewElement:null,__class__:R3J});var g9y=function(){F4J.call(this,k1J.Detach);};O1J["com.turner.top.sdk.core.player.ApiDetachCommand"]=g9y;g9y.__name__=["com","turner","top","sdk","core","player","ApiDetachCommand"];g9y.__super__=F4J;g9y.prototype=v1J(F4J.prototype,{__class__:g9y});var P9y=function(k1f){F4J.call(this,k1J.Update_Config);this.configData=k1f;};O1J["com.turner.top.sdk.core.player.ApiUpdateConfigCommand"]=P9y;P9y.__name__=["com","turner","top","sdk","core","player","ApiUpdateConfigCommand"];P9y.__super__=F4J;P9y.prototype=v1J(F4J.prototype,{configData:null,__class__:P9y});var w3J=function(i1f,I1f,E1f){F4J.call(this,k1J.Play);this.contentId=i1f;this.contentData=I1f;this.playOptions=E1f;};O1J["com.turner.top.sdk.core.player.ApiPlayCommand"]=w3J;w3J.__name__=["com","turner","top","sdk","core","player","ApiPlayCommand"];w3J.__super__=F4J;w3J.prototype=v1J(F4J.prototype,{contentId:null,contentData:null,playOptions:null,__class__:w3J});var L9y=function(){F4J.call(this,k1J.Proceed);};O1J["com.turner.top.sdk.core.player.ApiProceedCommand"]=L9y;L9y.__name__=["com","turner","top","sdk","core","player","ApiProceedCommand"];L9y.__super__=F4J;L9y.prototype=v1J(F4J.prototype,{__class__:L9y});var x9y=function(){F4J.call(this,k1J.Pause);};O1J["com.turner.top.sdk.core.player.ApiPauseCommand"]=x9y;x9y.__name__=["com","turner","top","sdk","core","player","ApiPauseCommand"];x9y.__super__=F4J;x9y.prototype=v1J(F4J.prototype,{__class__:x9y});var O9y=function(){F4J.call(this,k1J.Resume);};O1J["com.turner.top.sdk.core.player.ApiResumeCommand"]=O9y;O9y.__name__=["com","turner","top","sdk","core","player","ApiResumeCommand"];O9y.__super__=F4J;O9y.prototype=v1J(F4J.prototype,{__class__:O9y});var B0y=function(y1f){F4J.call(this,k1J.Seek);this.time=y1f;};O1J["com.turner.top.sdk.core.player.ApiSeekCommand"]=B0y;B0y.__name__=["com","turner","top","sdk","core","player","ApiSeekCommand"];B0y.__super__=F4J;B0y.prototype=v1J(F4J.prototype,{time:null,__class__:B0y});var T9y=function(){F4J.call(this,k1J.Seek_To_Live);};O1J["com.turner.top.sdk.core.player.ApiSeekToLiveCommand"]=T9y;T9y.__name__=["com","turner","top","sdk","core","player","ApiSeekToLiveCommand"];T9y.__super__=F4J;T9y.prototype=v1J(F4J.prototype,{__class__:T9y});var d9y=function(r1f){F4J.call(this,k1J.Volume);this.volume=r1f;};O1J["com.turner.top.sdk.core.player.ApiVolumeCommand"]=d9y;d9y.__name__=["com","turner","top","sdk","core","player","ApiVolumeCommand"];d9y.__super__=F4J;d9y.prototype=v1J(F4J.prototype,{volume:null,__class__:d9y});var v9y=function(){F4J.call(this,k1J.Mute);};O1J["com.turner.top.sdk.core.player.ApiMuteCommand"]=v9y;v9y.__name__=["com","turner","top","sdk","core","player","ApiMuteCommand"];v9y.__super__=F4J;v9y.prototype=v1J(F4J.prototype,{__class__:v9y});var V9y=function(){F4J.call(this,k1J.Unmute);};O1J["com.turner.top.sdk.core.player.ApiUnmuteCommand"]=V9y;V9y.__name__=["com","turner","top","sdk","core","player","ApiUnmuteCommand"];V9y.__super__=F4J;V9y.prototype=v1J(F4J.prototype,{__class__:V9y});var x9J=function(u4f,X4f){F4J.call(this,k1J.Resize);this.width=u4f;this.height=X4f;};O1J["com.turner.top.sdk.core.player.ApiResizeCommand"]=x9J;x9J.__name__=["com","turner","top","sdk","core","player","ApiResizeCommand"];x9J.__super__=F4J;x9J.prototype=v1J(F4J.prototype,{width:null,height:null,__class__:x9J});var Z9y=function(){F4J.call(this,k1J.Enter_Fullscreen);};O1J["com.turner.top.sdk.core.player.ApiEnterFullscreenCommand"]=Z9y;Z9y.__name__=["com","turner","top","sdk","core","player","ApiEnterFullscreenCommand"];Z9y.__super__=F4J;Z9y.prototype=v1J(F4J.prototype,{__class__:Z9y});var B9y=function(){F4J.call(this,k1J.Exit_Fullscreen);};O1J["com.turner.top.sdk.core.player.ApiExitFullscreenCommand"]=B9y;B9y.__name__=["com","turner","top","sdk","core","player","ApiExitFullscreenCommand"];B9y.__super__=F4J;B9y.prototype=v1J(F4J.prototype,{__class__:B9y});var z0y=function(){F4J.call(this,k1J.Stop);};O1J["com.turner.top.sdk.core.player.ApiStopCommand"]=z0y;z0y.__name__=["com","turner","top","sdk","core","player","ApiStopCommand"];z0y.__super__=F4J;z0y.prototype=v1J(F4J.prototype,{__class__:z0y});var z9y=function(){F4J.call(this,k1J.Replay);};O1J["com.turner.top.sdk.core.player.ApiReplayCommand"]=z9y;z9y.__name__=["com","turner","top","sdk","core","player","ApiReplayCommand"];z9y.__super__=F4J;z9y.prototype=v1J(F4J.prototype,{__class__:z9y});var J9J=function(){F4J.call(this,k1J.Captions_Select_Track);};O1J["com.turner.top.sdk.core.player.ApiCaptionsSelectTrackCommand"]=J9J;J9J.__name__=["com","turner","top","sdk","core","player","ApiCaptionsSelectTrackCommand"];J9J.__super__=F4J;J9J.prototype=v1J(F4J.prototype,{__class__:J9J});var y3J=function(h4f){J9J.call(this);this.track=h4f;};O1J["com.turner.top.sdk.core.player.ApiCaptionsSelectTrackByInstanceCommand"]=y3J;y3J.__name__=["com","turner","top","sdk","core","player","ApiCaptionsSelectTrackByInstanceCommand"];y3J.__super__=J9J;y3J.prototype=v1J(J9J.prototype,{track:null,__class__:y3J});var E3J=function(f4f){J9J.call(this);this.lang=f4f;};O1J["com.turner.top.sdk.core.player.ApiCaptionsSelectTrackByLangCommand"]=E3J;E3J.__name__=["com","turner","top","sdk","core","player","ApiCaptionsSelectTrackByLangCommand"];E3J.__super__=J9J;E3J.prototype=v1J(J9J.prototype,{lang:null,__class__:E3J});var n0y=function(D4f){F4J.call(this,k1J.Captions_Set_Enabled);this.enabled=D4f;};O1J["com.turner.top.sdk.core.player.ApiCaptionsSetEnabledCommand"]=n0y;n0y.__name__=["com","turner","top","sdk","core","player","ApiCaptionsSetEnabledCommand"];n0y.__super__=F4J;n0y.prototype=v1J(F4J.prototype,{enabled:null,__class__:n0y});var s0y=function(C4f){F4J.call(this,k1J.Captions_Update_Settings);this.settings=C4f;};O1J["com.turner.top.sdk.core.player.ApiCaptionsUpdateSettingsCommand"]=s0y;s0y.__name__=["com","turner","top","sdk","core","player","ApiCaptionsUpdateSettingsCommand"];s0y.__super__=F4J;s0y.prototype=v1J(F4J.prototype,{settings:null,__class__:s0y});var J0y=function(w4f){F4J.call(this,k1J.Cue_Add);this.cue=w4f;};O1J["com.turner.top.sdk.core.player.ApiCueAddCommand"]=J0y;J0y.__name__=["com","turner","top","sdk","core","player","ApiCueAddCommand"];J0y.__super__=F4J;J0y.prototype=v1J(F4J.prototype,{cue:null,__class__:J0y});var A0y=function(Y4f){F4J.call(this,k1J.Cue_Remove);this.cue=Y4f;};O1J["com.turner.top.sdk.core.player.ApiCueRemoveCommand"]=A0y;A0y.__name__=["com","turner","top","sdk","core","player","ApiCueRemoveCommand"];A0y.__super__=F4J;A0y.prototype=v1J(F4J.prototype,{cue:null,__class__:A0y});var j0y=function(c4f){F4J.call(this,k1J.Analytics_Report_Event);this.event=c4f;};O1J["com.turner.top.sdk.core.player.ApiAnalyticsReportEventCommand"]=j0y;j0y.__name__=["com","turner","top","sdk","core","player","ApiAnalyticsReportEventCommand"];j0y.__super__=F4J;j0y.prototype=v1J(F4J.prototype,{event:null,__class__:j0y});var Q0y=function(F4f){F4J.call(this,k1J.Analytics_Report_Error);this.event=F4f;};O1J["com.turner.top.sdk.core.player.ApiAnalyticsReportErrorCommand"]=Q0y;Q0y.__name__=["com","turner","top","sdk","core","player","ApiAnalyticsReportErrorCommand"];Q0y.__super__=F4J;Q0y.prototype=v1J(F4J.prototype,{event:null,__class__:Q0y});var i9y=function(){F4J.call(this,k1J.Destroy);};O1J["com.turner.top.sdk.core.player.ApiDestroyCommand"]=i9y;i9y.__name__=["com","turner","top","sdk","core","player","ApiDestroyCommand"];i9y.__super__=F4J;i9y.prototype=v1J(F4J.prototype,{__class__:i9y});var a7J=function(R4f){this._sdkConfigData=R4f;this._api=new c6J(this);};O1J["com.turner.top.sdk.core.player.PlayerCore"]=a7J;a7J.__name__=["com","turner","top","sdk","core","player","PlayerCore"];a7J.__interfaces__=[A3y];a7J.prototype={_api:null,_sdkConfigData:null,_initConfigData:null,_poorMansListener:null,_playerController:null,doInit:function(U4f,q4f){this._poorMansListener=U4f;this._initConfigData=q4f;this._playerController=new v4J(this._api);this.addControllerListeners(this._playerController);this._playerController.init(this._sdkConfigData,this._initConfigData);},doProcessCommand:function(o4f){if(this._playerController==null){a7J._logger.error("[doProcessCommand] player controller is unavailable");return;}this._playerController.processCommand(o4f);},addControllerListeners:function(t4f){t4f.events().playerStateChanged.listen(p1J(this,this.onPlayerStateChanged));t4f.events().viewStateChanged.listen(p1J(this,this.onViewStateChanged));t4f.events().moduleNotification.listen(p1J(this,this.onModuleNotification));t4f.events().transactionStateChanged.listen(p1J(this,this.onTransactionStateChanged));},onPlayerStateChanged:function(l4f){a7J._logger.debug("[onPlayerStateChanged] result: "+d1J.string(l4f));if(this._poorMansListener.onPlayerStateChanged!=null){this._poorMansListener.onPlayerStateChanged(l4f);}},onViewStateChanged:function(G4f){a7J._logger.debug("[onViewStateChanged] result: "+d1J.string(G4f));if(this._poorMansListener.onViewStateChanged!=null){this._poorMansListener.onViewStateChanged(G4f);}},onModuleNotification:function(m4f){var K4f=I1J.data().categories;if(I1J.data().levels.verbose&&Z1J.field(K4f,"api.events")){a7J._notificationsLogger.verbose("[onModuleNotification] result: "+d1J.string(m4f));}if(this._poorMansListener.onModuleNotification!=null){this._poorMansListener.onModuleNotification(m4f);}},onTransactionStateChanged:function(N4f){a7J._logger.debug("[onTransactionStateChanged] result: "+d1J.string(N4f));if(this._poorMansListener.onTransactionStateChanged!=null){this._poorMansListener.onTransactionStateChanged(N4f);}},init:function(a4f,b4f){this.doInit(a4f,b4f);return this;},processCommand:function(g4f){this.doProcessCommand(g4f);return this;},api:function(){return this._api;},__class__:a7J};var D04=function(){};O1J["com.turner.top.sdk.core.player.PlayerDefaults"]=D04;D04.__name__=["com","turner","top","sdk","core","player","PlayerDefaults"];D04.appContext=function(){return{uniqueId:null,playerIndex:null,sdkConfigData:null,initConfigData:null,hostContainer:null,playerContainer:null,adContainer:null,mediaVideoEl:null,adsVideoEl:null,verifyAutoPlay:null,model:null,comps:{}};};var s04=function(){};O1J["com.turner.top.sdk.core.player.Exports"]=s04;s04.__name__=["com","turner","top","sdk","core","player","Exports"];var Z3y=e1J["com"]["turner"]["top"]["sdk"]["core"]["player"]["config"]["PlayerConfigDefaults"]=function(){};O1J["com.turner.top.sdk.core.player.config.PlayerConfigDefaults"]=Z3y;Z3y.__name__=["com","turner","top","sdk","core","player","config","PlayerConfigDefaults"];Z3y.initConfig=function(){return{id:null,config:{validation:{maxTimeout:5000,validators:{}},features:{},ads:{breakTimeout:5000,impressionTimeout:5000},media:{capBitrateToSize:true,stallTimeout:30000},cms:{providers:{}},player:{useNativeControls:false,autoPlay:true,autoPlayOptions:{forceAds:false,forceMedia:false,listenForAction:true,preCheckAutoPlay:true},persist:["volume","mute","bitrate"]},sdk:{},plugins:[],captions:{forceNative:true},auth:[{type:m3J.Spe,serviceUrl:"//token.ngtv.io/token/token_spe",prefix:"hdnts",appId:"${metadata.appId}"}],ui:{enabled:true,autoAttachToDom:false,injectStyles:true},metadata:{}}};};var v4J=function(P4f){this._api=P4f;this._events=new L8y();this._playerFsm=new y6J();this._playerFsm.events().listen(p1J(this,this.onPlayerFsmEvent));this._transactionFsm=new y6J();this._transactionFsm.events().listen(p1J(this,this.onTransactionFsmEvent));this._isIos=S4J.ios();this._initializedAt=null;};O1J["com.turner.top.sdk.core.player.controllers.PlayerController"]=v4J;v4J.__name__=["com","turner","top","sdk","core","player","controllers","PlayerController"];v4J.createOpId=function(){return"op-"+v4J._opId++;};v4J.prototype={_events:null,_api:null,_sdkConfigData:null,_initConfigData:null,_playerFsm:null,_transactionFsm:null,_opQueue:null,_currentOps:null,_opQueueSignals:null,_isIos:null,_initializedAt:null,_appContext:null,_model:null,_initController:null,_viewController:null,_uiController:null,_transactionController:null,_transactionTransforms:null,doInit:function(M4f,L4f){this._initializedAt=new Date();this._sdkConfigData=M4f;this._initConfigData=L4f;this.preCheckGDPRConsent();this._opQueue=[];this._currentOps=[];this._opQueueSignals=new p3y();this._model=new b7J();this._model.init();this._appContext=D04.appContext();this._appContext.playerIndex=++v4J._playerIndex;this._appContext.model=this._model;this._appContext.uniqueId=this.getUniqueIdentifierForApp();v4J._logger.debug("[doInit] generated unique identifier: "+this._appContext.uniqueId);this._initController=new X8J();this._initController.events().stateChanged.listen(p1J(this,this.onInitStateChanged));this._viewController=new F7J();this._viewController.events().stateChanged.listen(p1J(this,this.onViewStateChanged));this._uiController=new T7J();this._uiController.events().stateChanged.listen(function(x4f){v4J._logger.debug("[onUIStateChanged] "+d1J.string(x4f.currentState));});this._transactionController=new X4J();this._transactionController.events().stateChanged.listen(p1J(this,this.onTransactionStateChanged));this._transactionController.events().moduleNotification.listen(p1J(this,this.onTransactionModuleNotification));this._playerFsm.init(X8y.playerState());this._transactionFsm.init(X8y.transaction());this._initController.init(this._sdkConfigData,this._initConfigData);},preCheckGDPRConsent:function(){var O4f=i1J.getPath(this._initConfigData,"config.features.gdpr");var H4f=typeof O4f=="boolean"&&O4f||U4J["typeof"](O4f)==R4J.TObject&&!S1J.__instanceof(O4f,H6J)&&!S1J.__instanceof(O4f,M6J)&&O4f.enabled;var T4f=O4f!=null&&(O4f.preCheckConsent==null||O4f.preCheckConsent);if(O4f==null||H4f&&T4f){J6J.consent()["catch"](function(d4f){v4J._logger.warn(d4f);});}},getUniqueIdentifierForApp:function(){var v4f=d9J.pageUrl();var V4f=v4J._playerIndex;var p4f=R2J.format(this._initializedAt,"%Y-%m-%d %H.%M.%S");var Z4f=[v4f,V4f,p4f];return Z4f.join(" / ").toLowerCase();},resetDataForPlay:function(){this._transactionTransforms=null;},doProcessCommand:function(W4f){var B4f=this._playerFsm.currentState();if(B4f==w4J.Pending||B4f==w4J.Initializing||B4f==w4J.Destroyed){v4J._logger.warn("[doProcessCommand] Invalid player state for any API request");return;}var z4f=W4f.type;switch(z4f[1]){case 3:if(!this._transactionController.isRunning()){this._viewController.attemptToPrimeVideoElements();}break;case 4:if(this._transactionFsm.currentState()==A1J.Waiting){this._viewController.primeVideoElements();}break;case 25:if(this._viewController==null){v4J._logger.warn("[doProcessCommand] Invalid state for user action");return;}if(!this._transactionController.isRunning()){this._viewController.primeVideoElements();this.removeUserActionListener();}break;default:}this.queueCommandOp(p1J(this,this.handleCommandOp),W4f);},handleCommandOp:function(S4f,e4f){var A4f=this;e4f=this.applyApiTransforms(e4f);var j4f=e4f.type;switch(j4f[1]){case 0:if(!this._viewController.canAttach()){v4J._logger.warn("[doProcessCommand] Invalid state to attach to a container");S4f.cancel();return;}this._viewController.attach(S1J.__cast(e4f,R3J).viewElement);S4f.complete();break;case 1:if(!this._viewController.isAttached()){v4J._logger.warn("[doProcessCommand] Invalid state to detach from a container");S4f.cancel();return;}if(this._transactionController.isRunning()){v4J._logger.info("[doProcessCommand] Detach request - Interrupting current transaction");this.interruptAndQueueCommand(S4f,e4f);return;}if(this._viewController.isFullscreen()){this.handleExitFullscreen(this._transactionController.currentState());S4f.cancel();Z2J.delay(function(){return A4f.processCommand(e4f);},0);return;}this._viewController.detach();S4f.complete();break;case 3:if(this._playerFsm.currentState()!=w4J.Listening){v4J._logger.warn("[doProcessCommand] Invalid state for a play request");S4f.cancel();return;}if(this._transactionController.isRunning()){v4J._logger.info("[doProcessCommand] Play request - Interrupting current transaction");this.interruptAndQueueCommand(S4f,e4f);return;}this.resetDataForPlay();this._transactionController.start(S1J.__cast(e4f,w3J));S4f.complete();break;case 4:this._transactionController.processCommand(e4f);S4f.complete();break;case 12:this._viewController.handleResizeCommand(S1J.__cast(e4f,x9J));this._transactionController.processCommand(e4f);S4f.complete();break;case 13:if(!this._viewController.isAttached()||this._viewController.isFullscreen()){v4J._logger.warn("[doProcessCommand] Invalid state to enter fullscreen");S4f.cancel();return;}var n4f=this._transactionController.currentState();if(n4f==J1J.Pending||n4f==J1J.Waiting){v4J._logger.warn("[doProcessCommand] Invalid transaction state to enter fullscreen");S4f.cancel();}this.handleEnterFullscreen(n4f);S4f.complete();break;case 14:if(!this._viewController.isAttached()||!this._viewController.isFullscreen()){v4J._logger.warn("[doProcessCommand] Invalid state to exit fullscreen");S4f.cancel();return;}var s4f=this._transactionController.currentState();if(s4f==J1J.Pending||s4f==J1J.Waiting){v4J._logger.warn("[doProcessCommand] Invalid transaction state to exit fullscreen");S4f.cancel();}this.handleExitFullscreen(s4f);S4f.complete();break;case 15:if(this._playerFsm.currentState()!=w4J.Listening){v4J._logger.warn("[doProcessCommand] Invalid state for a stop request");S4f.cancel();return;}if(!this._transactionController.isRunning()){v4J._logger.warn("[doProcessCommand] No transaction to stop. Invalid command");S4f.cancel();return;}var Q4f=this.createTransactionFinishedCond();e5y.when(S4f.complete,Q4f).start();this._transactionController.stop();break;case 16:var J4f=this._model.playlistItem();if(J4f==null){v4J._logger.warn("[doProcessCommand] no previous playlist item to replay");S4f.cancel();return;}this.doProcessCommand(new w3J(null,p7J.fromPlaylistItem(J4f).build(),J4f.options()));S4f.complete();break;case 24:if(this._transactionController.isRunning()){v4J._logger.info("[doProcessCommand] Destroy request - Interrupting current transaction");this._transactionController.stop();}this._transactionController.events().moduleNotification.unlisten(p1J(this,this.onTransactionModuleNotification));this._viewController.destroy();this._transactionController.destroy();this._viewController=null;this._transactionController=null;this._opQueue=[];v4J._logger.info("[doProcessCommand] Player has been destroyed");S4f.complete();break;case 25:S4f.complete();break;default:this._transactionController.processCommand(e4f);S4f.complete();}},handleEnterFullscreen:function(k4f){switch(k4f[1]){case 9:case 10:case 11:if(this._isIos){this._viewController.enterAdsFullscreen();}else{this._viewController.enterContainerFullscreen();}break;default:if(this._isIos){this._viewController.enterMediaFullscreen();}else{this._viewController.enterContainerFullscreen();}}},handleExitFullscreen:function(i4f){switch(i4f[1]){case 9:case 10:case 11:if(this._isIos){this._viewController.exitAdsFullscreen();}else{this._viewController.exitContainerFullscreen();}break;default:if(this._isIos){this._viewController.exitMediaFullscreen();}else{this._viewController.exitContainerFullscreen();}}},interruptAndQueueCommand:function(I4f,E4f){I4f.cancel();this.doProcessCommand(new z0y());this.doProcessCommand(E4f);},createTransactionFinishedCond:function(){var u6f=this;var r4f=false;var y4f=null;y4f=function(f6f){var h6f=f6f.to;if(h6f[1]==0){u6f._transactionFsm.events().stateChanged.unlisten(y4f);r4f=true;}};var X6f=y4f;this._transactionFsm.events().stateChanged.listen(X6f);return function(){return r4f;};},processNextOp:function(){if(this._opQueue.length==0){return;}var C6f=this._opQueue[0];var w6f=this._currentOps.filter(function(Y6f){if(!Y6f.completed()){return!Y6f.allow(C6f.type,C6f.args);}else{return false;}});if(w6f.length>0){if(v4J._debugOps){v4J._logger.debug("[processNextOp] still executing current ops: "+d1J.string(this._currentOps));}return;}var D6f=this._opQueue.shift();this._currentOps.push(D6f);if(v4J._debugOps){v4J._logger.debug("[processNextOp] executing: "+(D6f.id==null?"null":""+D6f.id));}D6f.exec({complete:D6f.complete,cancel:D6f.cancel});},queueOp:function(N6f,a6f,K6f,o6f){var F6f=this;var c6f=v4J.createOpId();var R6f=false;var q6f=function(){F6f._opQueueSignals.completed.dispatch(F6f._currentOps.filter(function(b6f){return c6f==b6f.id;})[0]);F6f._currentOps=F6f._currentOps.filter(function(g6f){return c6f!=g6f.id;});F6f.processNextOp();};var t6f=function(){if(v4J._debugOps){v4J._logger.debug("[op] completed: "+c6f);}R6f=true;q6f();};var l6f=function(){if(v4J._debugOps){v4J._logger.debug("[op] canceled: "+c6f);}R6f=true;q6f();};var G6f=function(P6f){a6f(P6f);};var m6f=function(M6f,L6f){switch(M6f[1]){case 0:return false;case 1:return true;}};var U6f={id:c6f,type:N6f,args:K6f,completed:function(){return R6f;},complete:t6f,cancel:l6f,exec:G6f,allow:o6f==null?m6f:o6f};if(v4J._debugOps){v4J._logger.debug("[queueOp] queued: "+d1J.string(U6f));}this._opQueue.push(U6f);this.processNextOp();},queueCommandOp:function(d6f,x6f){var O6f=d6f;var H6f=x6f;var T6f=function(v6f){O6f(v6f,H6f);};this.queueOp(R9J.Command,T6f,[x6f]);this.processNextOp();},queueTransactionNotificationOp:function(W6f,V6f){var p6f=W6f;var Z6f=V6f;var B6f=function(z6f){p6f(z6f,Z6f);};this.queueOp(R9J.Notification,B6f,[V6f]);this.processNextOp();},onPlayerFsmEvent:function(e6f,S6f){var J6f=S6f.from;var n6f=S6f.to;switch(e6f[1]){case 1:switch(n6f[1]){case 2:this._sdkConfigData=this._initController.sdkConfigData();this._initConfigData=this._initController.initConfigData();this._initController.events().stateChanged.unlisten(p1J(this,this.onInitStateChanged));this._initController=null;this._viewController.init(v4J._playerIndex,this._initConfigData);if(this._initConfigData.config.player.autoPlayOptions.listenForAction){this.addUserActionListener();}if(!this._initConfigData.config.player.useNativeControls&&this._initConfigData.config.ui.enabled&&this._uiController.canInitialize()){this._uiController.init(this._initConfigData.config.ui);}break;case 4:if(this._uiController.canAttach()){this._uiController.attach(this._api,this._viewController.uiContainer(),this._viewController.hostContainer());}break;case 5:this._appContext.sdkConfigData=this._sdkConfigData;this._appContext.initConfigData=this._initConfigData;this._appContext.hostContainer=this._viewController.hostContainer();this._appContext.playerContainer=this._viewController.playerContainer();this._appContext.adContainer=this._viewController.adContainer();this._appContext.mediaVideoEl=this._viewController.mediaVideoEl();this._appContext.adsVideoEl=this._viewController.adsVideoEl();if(this._initConfigData.config.player.autoPlay&&!this._initConfigData.config.player.autoPlayOptions.forceAds&&!this._initConfigData.config.player.autoPlayOptions.forceMedia&&this._initConfigData.config.player.autoPlayOptions.preCheckAutoPlay){this._appContext.verifyAutoPlay=(l6J=this._viewController,p1J(l6J,l6J.verifyAutoPlay));}if(this._transactionController.currentState()==null){this._transactionController.init(this._appContext);}break;case 6:if(this._uiController.isAttached()){this._uiController.detach();}break;default:}break;case 2:v4J._logger.debug("[onPlayerFsmEvent] stateChanged - type: "+d1J.string(e6f)+", result: "+d1J.string(S6f));this.notifyPlayerStateChanged(S6f.from,S6f.to,S6f.args);switch(n6f[1]){case 2:if(this._initConfigData.element!=null){v4J._logger.info("[onPlayerFsmEvent] attempting to auto-attach player");var s6f=new R3J(this._initConfigData.element);this.doProcessCommand(s6f);}else{v4J._logger.info("[onPlayerFsmEvent] element not specified; player must be manually attached");}break;case 4:this._playerFsm.fire(l4J.Listen);break;case 5:break;default:}break;case 4:v4J._logger.error("[onPlayerFsmEvent] error - type: "+d1J.string(e6f)+", result: "+d1J.string(S6f));break;default:}},addUserActionListener:function(){window.document.body.addEventListener("click",p1J(this,this.doUserAction));},removeUserActionListener:function(){window.document.body.removeEventListener("click",p1J(this,this.doUserAction));},doUserAction:function(j6f){var A6f=new p0y(j6f);this.doProcessCommand(A6f);},onTransactionFsmEvent:function(k6f,Q6f){var u2f=Q6f.from;var i6f=Q6f.to;var I6f=Q6f.args;var E6f=I6f==null?[]:I6f;var y6f=0<E6f.length?E6f[0]:{};switch(k6f[1]){case 2:v4J._logger.debug("[onTransactionFsmEvent] stateChanged - type: "+d1J.string(k6f)+", result: "+d1J.string(Q6f));switch(i6f[1]){case 4:var r6f=!Object.prototype.hasOwnProperty.call(y6f,"transforms")?null:Z1J.field(y6f,"transforms");if(r6f!=null){this._transactionTransforms=new i5J(r6f);}break;case 8:this.removeUserActionListener();break;case 11:if(this._viewController.isFullscreen()&&this._isIos){this.handleExitFullscreen(i6f);}break;default:}this.notifyPlayerTransactionStateChanged(Q6f.from,Q6f.to,Q6f.args);break;case 4:v4J._logger.debug("[onTransactionFsmEvent] error - type: "+d1J.string(k6f)+", result: "+d1J.string(Q6f));break;default:}},onInitStateChanged:function(h2f){var X2f=h2f.currentState;switch(X2f[1]){case 0:break;case 1:this._playerFsm.fire(l4J.Initialize);break;case 2:this._playerFsm.fire(l4J.Initialized,[{appContext:this._appContext}]);break;case 3:this._playerFsm.fire(l4J.Error);break;}},onViewStateChanged:function(f2f){this.notifyViewStateChanged(f2f);var D2f=f2f.currentState;switch(D2f[1]){case 0:break;case 1:this._playerFsm.fire(l4J.Attach);break;case 2:this._playerFsm.fire(l4J.Attached);break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:this._playerFsm.fire(l4J.Detach);break;case 8:this._playerFsm.fire(l4J.Detached);break;case 9:this._playerFsm.fire(l4J.Destroy);break;case 10:this._playerFsm.fire(l4J.Destroyed);break;case 11:this._playerFsm.fire(l4J.Error);break;}},onTransactionStateChanged:function(C2f){var w2f=C2f.previousState;var F2f=C2f.currentState;var Y2f=C2f.currentState;switch(Y2f[1]){case 0:var c2f=[J1J.Finished,J1J.Interrupted,J1J.Error];if(c2f.indexOf(w2f)>-1){this._transactionFsm.fire(Q1J.Idle,C2f.args);}break;case 1:this._transactionFsm.fire(Q1J.Initialize,C2f.args);break;case 2:this._transactionFsm.fire(Q1J.Prepare,C2f.args);break;case 3:this._transactionFsm.fire(Q1J.Configure,C2f.args);break;case 4:this._transactionFsm.fire(Q1J.Transform,C2f.args);break;case 5:this._transactionFsm.fire(Q1J.Initialized,C2f.args);break;case 6:this._transactionFsm.fire(Q1J.Wait,C2f.args);break;case 7:this._transactionFsm.fire(Q1J.Validate,C2f.args);break;case 8:this._transactionFsm.fire(Q1J.Validated,C2f.args);break;case 9:this._transactionFsm.fire(Q1J.Ads_Begin,C2f.args);break;case 10:this._transactionFsm.fire(Q1J.Ads_Playback,C2f.args);break;case 11:this._transactionFsm.fire(Q1J.Ads_Complete,C2f.args);break;case 12:this._transactionFsm.fire(Q1J.Authorize,C2f.args);break;case 13:this._transactionFsm.fire(Q1J.Authorized,C2f.args);break;case 14:this._transactionFsm.fire(Q1J.Media_Begin,C2f.args);break;case 15:this._transactionFsm.fire(Q1J.Media_Playback,C2f.args);break;case 16:this._transactionFsm.fire(Q1J.Media_Complete,C2f.args);break;case 17:this._transactionFsm.fire(Q1J.Stop,C2f.args);break;case 18:this._transactionFsm.fire(Q1J.Interrupted,C2f.args);break;case 19:this._transactionFsm.fire(Q1J.Finish,C2f.args);break;case 20:this._transactionFsm.fire(Q1J.Error,C2f.args);break;}},onTransactionModuleNotification:function(R2f){this.queueTransactionNotificationOp(p1J(this,this.handleTransactionModuleNotificationOp),R2f);},handleTransactionModuleNotificationOp:function(q2f,U2f){this._model.handleModuleNotification(U2f);this._transactionController.propagateCurrentNotification();this.notifyPlayerModuleNotificationEvent(U2f);this._transactionController.completeCurrentNotification();q2f.complete();},notifyViewStateChanged:function(o2f){if(this._model!=null){this._model.handleViewStateChange(o2f);}this._events.viewStateChanged.dispatch(o2f);},notifyPlayerStateChanged:function(l2f,G2f,m2f){var t2f=new S9J(l2f,G2f,m2f);this._events.playerStateChanged.dispatch(t2f);},notifyPlayerModuleNotificationEvent:function(K2f){K2f=this.applyNotificationTransforms(K2f);this._events.moduleNotification.dispatch(K2f);},notifyPlayerTransactionStateChanged:function(b2f,g2f,P2f){var N2f=new S9J(b2f,g2f,P2f);if(this._model!=null){this._model.handleTransactionStateChange(N2f);}var a2f=new x8y(w2J.Transaction,N9J.State_Changed,G3J.State_Changed,N2f);this.propagatePlayerNotification(a2f);this._events.transactionStateChanged.dispatch(N2f);},propagatePlayerNotification:function(M2f){if(M2f==null){v4J._logger.warn("[propagatePlayerNotification] No current notification");return;}this._transactionController.handlePlayerNotification(M2f);},applyApiTransforms:function(L2f){if(this._transactionTransforms==null){return L2f;}return this._transactionTransforms.transformApiCommand(L2f);},applyNotificationTransforms:function(x2f){if(this._transactionTransforms==null){return x2f;}return this._transactionTransforms.transformModuleNotification(x2f);},init:function(O2f,H2f){this.doInit(O2f,H2f);return this;},processCommand:function(T2f){this.doProcessCommand(T2f);return this;},events:function(){return this._events;},__class__:v4J};var X8y=function(){};O1J["com.turner.top.sdk.core.player.controllers.PlayerControllerFsmConfigs"]=X8y;X8y.__name__=["com","turner","top","sdk","core","player","controllers","PlayerControllerFsmConfigs"];X8y.playerState=function(){return{initial:{name:l4J.Start,state:w4J.Pending},events:[{name:l4J.Initialize,from:[w4J.Pending],to:w4J.Initializing},{name:l4J.Initialized,from:[w4J.Initializing],to:w4J.Initialized},{name:l4J.Attach,from:[w4J.Initialized,w4J.Detached],to:w4J.Attaching},{name:l4J.Attached,from:[w4J.Attaching],to:w4J.Attached},{name:l4J.Listen,from:[w4J.Attached],to:w4J.Listening},{name:l4J.Detach,from:[w4J.Listening],to:w4J.Detaching},{name:l4J.Detached,to:w4J.Detached},{name:l4J.Destroy,to:w4J.Destroying},{name:l4J.Destroyed,from:[w4J.Destroying],to:w4J.Destroyed},{name:l4J.Error,to:w4J.Error}]};};X8y.transaction=function(){return{initial:{name:Q1J.Start,state:A1J.Pending},events:[{name:Q1J.Idle,from:[A1J.Finished,A1J.Interrupted,A1J.Error],to:A1J.Pending},{name:Q1J.Initialize,from:[A1J.Pending],to:A1J.Initializing},{name:Q1J.Prepare,from:[A1J.Initializing],to:A1J.Preparing},{name:Q1J.Configure,from:[A1J.Preparing],to:A1J.Configuring},{name:Q1J.Transform,from:[A1J.Configuring],to:A1J.Transforming},{name:Q1J.Initialized,from:[A1J.Transforming],to:A1J.Initialized},{name:Q1J.Wait,from:[A1J.Initialized],to:A1J.Waiting},{name:Q1J.Validate,from:[A1J.Waiting,A1J.Initialized],to:A1J.Validating},{name:Q1J.Validated,from:[A1J.Validating],to:A1J.Validated},{name:Q1J.Ads_Begin,from:[A1J.Validated],to:A1J.Ads_Beginning},{name:Q1J.Ads_Playback,from:[A1J.Ads_Beginning],to:A1J.Ads_Playback},{name:Q1J.Ads_Complete,from:[A1J.Ads_Beginning,A1J.Ads_Playback],to:A1J.Ads_Completed},{name:Q1J.Authorize,from:[A1J.Validated,A1J.Ads_Completed],to:A1J.Authorizing},{name:Q1J.Authorized,from:[A1J.Authorizing],to:A1J.Authorized},{name:Q1J.Media_Begin,from:[A1J.Authorized,A1J.Ads_Completed],to:A1J.Media_Beginning},{name:Q1J.Media_Playback,from:[A1J.Media_Beginning],to:A1J.Media_Playback},{name:Q1J.Media_Complete,from:[A1J.Media_Beginning,A1J.Media_Playback],to:A1J.Media_Completed},{name:Q1J.Finish,from:[A1J.Media_Completed],to:A1J.Finished},{name:Q1J.Stop,to:A1J.Interrupting},{name:Q1J.Interrupted,from:[A1J.Interrupting],to:A1J.Interrupted},{name:Q1J.Error,to:A1J.Error},{name:Q1J.Ads_Begin,from:[A1J.Media_Playback],to:A1J.Ads_Beginning},{name:Q1J.Media_Playback,from:[A1J.Ads_Completed],to:A1J.Media_Playback},{name:Q1J.Ads_Begin,from:[A1J.Media_Completed],to:A1J.Ads_Beginning},{name:Q1J.Finish,from:[A1J.Ads_Completed],to:A1J.Finished}]};};var R9J=O1J["com.turner.top.sdk.core.player.controllers.PlayerOperationType"]={__ename__:["com","turner","top","sdk","core","player","controllers","PlayerOperationType"],__constructs__:["Command","Notification"]};R9J.Command=["Command",0];R9J.Command.toString=H1J;R9J.Command.__enum__=R9J;R9J.Notification=["Notification",1];R9J.Notification.toString=H1J;R9J.Notification.__enum__=R9J;R9J.__empty_constructs__=[R9J.Command,R9J.Notification];var p3y=function(){this.added=new z8J();this.completed=new z8J();};O1J["com.turner.top.sdk.core.player.controllers.PlayerOperationSignals"]=p3y;p3y.__name__=["com","turner","top","sdk","core","player","controllers","PlayerOperationSignals"];p3y.prototype={added:null,completed:null,__class__:p3y};var l4J=O1J["com.turner.top.sdk.core.player.controllers.PlayerStateTrigger"]={__ename__:["com","turner","top","sdk","core","player","controllers","PlayerStateTrigger"],__constructs__:["Start","Initialize","Initialized","Attach","Attached","Listen","Detach","Detached","Destroy","Destroyed","Error"]};l4J.Start=["Start",0];l4J.Start.toString=H1J;l4J.Start.__enum__=l4J;l4J.Initialize=["Initialize",1];l4J.Initialize.toString=H1J;l4J.Initialize.__enum__=l4J;l4J.Initialized=["Initialized",2];l4J.Initialized.toString=H1J;l4J.Initialized.__enum__=l4J;l4J.Attach=["Attach",3];l4J.Attach.toString=H1J;l4J.Attach.__enum__=l4J;l4J.Attached=["Attached",4];l4J.Attached.toString=H1J;l4J.Attached.__enum__=l4J;l4J.Listen=["Listen",5];l4J.Listen.toString=H1J;l4J.Listen.__enum__=l4J;l4J.Detach=["Detach",6];l4J.Detach.toString=H1J;l4J.Detach.__enum__=l4J;l4J.Detached=["Detached",7];l4J.Detached.toString=H1J;l4J.Detached.__enum__=l4J;l4J.Destroy=["Destroy",8];l4J.Destroy.toString=H1J;l4J.Destroy.__enum__=l4J;l4J.Destroyed=["Destroyed",9];l4J.Destroyed.toString=H1J;l4J.Destroyed.__enum__=l4J;l4J.Error=["Error",10];l4J.Error.toString=H1J;l4J.Error.__enum__=l4J;l4J.__empty_constructs__=[l4J.Start,l4J.Initialize,l4J.Initialized,l4J.Attach,l4J.Attached,l4J.Listen,l4J.Detach,l4J.Detached,l4J.Destroy,l4J.Destroyed,l4J.Error];var Q1J=O1J["com.turner.top.sdk.core.player.controllers.PlayerTransactionTrigger"]={__ename__:["com","turner","top","sdk","core","player","controllers","PlayerTransactionTrigger"],__constructs__:["Start","Idle","Initialize","Prepare","Configure","Transform","Initialized","Wait","Validate","Validated","Ads_Begin","Ads_Playback","Ads_Complete","Authorize","Authorized","Media_Begin","Media_Playback","Media_Complete","Stop","Interrupted","Finish","Error"]};Q1J.Start=["Start",0];Q1J.Start.toString=H1J;Q1J.Start.__enum__=Q1J;Q1J.Idle=["Idle",1];Q1J.Idle.toString=H1J;Q1J.Idle.__enum__=Q1J;Q1J.Initialize=["Initialize",2];Q1J.Initialize.toString=H1J;Q1J.Initialize.__enum__=Q1J;Q1J.Prepare=["Prepare",3];Q1J.Prepare.toString=H1J;Q1J.Prepare.__enum__=Q1J;Q1J.Configure=["Configure",4];Q1J.Configure.toString=H1J;Q1J.Configure.__enum__=Q1J;Q1J.Transform=["Transform",5];Q1J.Transform.toString=H1J;Q1J.Transform.__enum__=Q1J;Q1J.Initialized=["Initialized",6];Q1J.Initialized.toString=H1J;Q1J.Initialized.__enum__=Q1J;Q1J.Wait=["Wait",7];Q1J.Wait.toString=H1J;Q1J.Wait.__enum__=Q1J;Q1J.Validate=["Validate",8];Q1J.Validate.toString=H1J;Q1J.Validate.__enum__=Q1J;Q1J.Validated=["Validated",9];Q1J.Validated.toString=H1J;Q1J.Validated.__enum__=Q1J;Q1J.Ads_Begin=["Ads_Begin",10];Q1J.Ads_Begin.toString=H1J;Q1J.Ads_Begin.__enum__=Q1J;Q1J.Ads_Playback=["Ads_Playback",11];Q1J.Ads_Playback.toString=H1J;Q1J.Ads_Playback.__enum__=Q1J;Q1J.Ads_Complete=["Ads_Complete",12];Q1J.Ads_Complete.toString=H1J;Q1J.Ads_Complete.__enum__=Q1J;Q1J.Authorize=["Authorize",13];Q1J.Authorize.toString=H1J;Q1J.Authorize.__enum__=Q1J;Q1J.Authorized=["Authorized",14];Q1J.Authorized.toString=H1J;Q1J.Authorized.__enum__=Q1J;Q1J.Media_Begin=["Media_Begin",15];Q1J.Media_Begin.toString=H1J;Q1J.Media_Begin.__enum__=Q1J;Q1J.Media_Playback=["Media_Playback",16];Q1J.Media_Playback.toString=H1J;Q1J.Media_Playback.__enum__=Q1J;Q1J.Media_Complete=["Media_Complete",17];Q1J.Media_Complete.toString=H1J;Q1J.Media_Complete.__enum__=Q1J;Q1J.Stop=["Stop",18];Q1J.Stop.toString=H1J;Q1J.Stop.__enum__=Q1J;Q1J.Interrupted=["Interrupted",19];Q1J.Interrupted.toString=H1J;Q1J.Interrupted.__enum__=Q1J;Q1J.Finish=["Finish",20];Q1J.Finish.toString=H1J;Q1J.Finish.__enum__=Q1J;Q1J.Error=["Error",21];Q1J.Error.toString=H1J;Q1J.Error.__enum__=Q1J;Q1J.__empty_constructs__=[Q1J.Start,Q1J.Idle,Q1J.Initialize,Q1J.Prepare,Q1J.Configure,Q1J.Transform,Q1J.Initialized,Q1J.Wait,Q1J.Validate,Q1J.Validated,Q1J.Ads_Begin,Q1J.Ads_Playback,Q1J.Ads_Complete,Q1J.Authorize,Q1J.Authorized,Q1J.Media_Begin,Q1J.Media_Playback,Q1J.Media_Complete,Q1J.Stop,Q1J.Interrupted,Q1J.Finish,Q1J.Error];var w2J=O1J["com.turner.top.sdk.core.player.controllers.PlayerNotificationSourceType"]={__ename__:["com","turner","top","sdk","core","player","controllers","PlayerNotificationSourceType"],__constructs__:["Init","View","Transaction","Player"]};w2J.Init=["Init",0];w2J.Init.toString=H1J;w2J.Init.__enum__=w2J;w2J.View=["View",1];w2J.View.toString=H1J;w2J.View.__enum__=w2J;w2J.Transaction=["Transaction",2];w2J.Transaction.toString=H1J;w2J.Transaction.__enum__=w2J;w2J.Player=["Player",3];w2J.Player.toString=H1J;w2J.Player.__enum__=w2J;w2J.__empty_constructs__=[w2J.Init,w2J.View,w2J.Transaction,w2J.Player];var N9J=O1J["com.turner.top.sdk.core.player.controllers.PlayerNotificationEventCategory"]={__ename__:["com","turner","top","sdk","core","player","controllers","PlayerNotificationEventCategory"],__constructs__:["Command","State_Changed"]};N9J.Command=["Command",0];N9J.Command.toString=H1J;N9J.Command.__enum__=N9J;N9J.State_Changed=["State_Changed",1];N9J.State_Changed.toString=H1J;N9J.State_Changed.__enum__=N9J;N9J.__empty_constructs__=[N9J.Command,N9J.State_Changed];var Z3J=function(){};O1J["com.turner.top.sdk.core.player.controllers.SubControllerFsmConfigs"]=Z3J;Z3J.__name__=["com","turner","top","sdk","core","player","controllers","SubControllerFsmConfigs"];Z3J.init=function(){return{initial:{name:Z6J.Start,state:O6J.Pending},events:[{name:Z6J.Initialize,from:[O6J.Pending],to:O6J.Initializing},{name:Z6J.Initialized,from:[O6J.Initializing],to:O6J.Initialized},{name:Z6J.Error,from:[O6J.Initializing],to:O6J.Error}]};};Z3J.view=function(){return{initial:{name:C4J.Start,state:f4J.Pending},events:[{name:C4J.Attach,from:[f4J.Pending,f4J.Detached],to:f4J.Attaching},{name:C4J.Attached,from:[f4J.Attaching],to:f4J.Attached},{name:C4J.Windowed,from:[f4J.Attached,f4J.Exiting_Fullscreen],to:f4J.Windowed},{name:C4J.Enter_Fullscreen,from:[f4J.Windowed],to:f4J.Entering_Fullscreen},{name:C4J.Fullscreen,from:[f4J.Entering_Fullscreen],to:f4J.Fullscreen},{name:C4J.Exit_Fullscreen,from:[f4J.Fullscreen],to:f4J.Exiting_Fullscreen},{name:C4J.Detach,from:[f4J.Windowed,f4J.Fullscreen],to:f4J.Detaching},{name:C4J.Detached,from:[f4J.Detaching],to:f4J.Detached},{name:C4J.Destroy,from:[f4J.Detached,f4J.Pending],to:f4J.Destroying},{name:C4J.Destroyed,from:[f4J.Destroying],to:f4J.Destroyed},{name:C4J.Error,to:f4J.Error}]};};Z3J.transaction=function(){return{initial:{name:n1J.Start,state:J1J.Pending},events:[{name:n1J.Idle,from:[J1J.Finished,J1J.Interrupted,J1J.Error],to:J1J.Pending},{name:n1J.Initialize,from:[J1J.Pending],to:J1J.Initializing},{name:n1J.Prepare,from:[J1J.Initializing],to:J1J.Preparing},{name:n1J.Configure,from:[J1J.Preparing],to:J1J.Configuring},{name:n1J.Transform,from:[J1J.Configuring],to:J1J.Transforming},{name:n1J.Initialized,from:[J1J.Transforming],to:J1J.Initialized},{name:n1J.Wait,from:[J1J.Initialized],to:J1J.Waiting},{name:n1J.Validate,from:[J1J.Waiting,J1J.Initialized],to:J1J.Validating},{name:n1J.Validated,from:[J1J.Validating],to:J1J.Validated},{name:n1J.Ads_Begin,from:[J1J.Validated],to:J1J.Ads_Beginning},{name:n1J.Ads_Playback,from:[J1J.Ads_Beginning],to:J1J.Ads_Playback},{name:n1J.Ads_Complete,from:[J1J.Ads_Beginning,J1J.Ads_Playback],to:J1J.Ads_Completed},{name:n1J.Authorize,from:[J1J.Validated,J1J.Ads_Completed],to:J1J.Authorizing},{name:n1J.Authorized,from:[J1J.Authorizing],to:J1J.Authorized},{name:n1J.Media_Begin,from:[J1J.Authorized,J1J.Ads_Completed],to:J1J.Media_Beginning},{name:n1J.Media_Playback,from:[J1J.Media_Beginning],to:J1J.Media_Playback},{name:n1J.Media_Complete,from:[J1J.Media_Beginning,J1J.Media_Playback],to:J1J.Media_Completed},{name:n1J.Finish,from:[J1J.Media_Completed],to:J1J.Finished},{name:n1J.Stop,to:J1J.Interrupting},{name:n1J.Interrupted,from:[J1J.Interrupting],to:J1J.Interrupted},{name:n1J.Error,to:J1J.Error},{name:n1J.Ads_Begin,from:[J1J.Media_Playback],to:J1J.Ads_Beginning},{name:n1J.Media_Playback,from:[J1J.Ads_Completed],to:J1J.Media_Playback},{name:n1J.Ads_Begin,from:[J1J.Media_Completed],to:J1J.Ads_Beginning},{name:n1J.Finish,from:[J1J.Ads_Completed],to:J1J.Finished}]};};var Z6J=O1J["com.turner.top.sdk.core.player.controllers.InitEvent"]={__ename__:["com","turner","top","sdk","core","player","controllers","InitEvent"],__constructs__:["Start","Initialize","Initialized","Error"]};Z6J.Start=["Start",0];Z6J.Start.toString=H1J;Z6J.Start.__enum__=Z6J;Z6J.Initialize=["Initialize",1];Z6J.Initialize.toString=H1J;Z6J.Initialize.__enum__=Z6J;Z6J.Initialized=["Initialized",2];Z6J.Initialized.toString=H1J;Z6J.Initialized.__enum__=Z6J;Z6J.Error=["Error",3];Z6J.Error.toString=H1J;Z6J.Error.__enum__=Z6J;Z6J.__empty_constructs__=[Z6J.Start,Z6J.Initialize,Z6J.Initialized,Z6J.Error];var O6J=O1J["com.turner.top.sdk.core.player.controllers.InitState"]={__ename__:["com","turner","top","sdk","core","player","controllers","InitState"],__constructs__:["Pending","Initializing","Initialized","Error"]};O6J.Pending=["Pending",0];O6J.Pending.toString=H1J;O6J.Pending.__enum__=O6J;O6J.Initializing=["Initializing",1];O6J.Initializing.toString=H1J;O6J.Initializing.__enum__=O6J;O6J.Initialized=["Initialized",2];O6J.Initialized.toString=H1J;O6J.Initialized.__enum__=O6J;O6J.Error=["Error",3];O6J.Error.toString=H1J;O6J.Error.__enum__=O6J;O6J.__empty_constructs__=[O6J.Pending,O6J.Initializing,O6J.Initialized,O6J.Error];var L4J=O1J["com.turner.top.sdk.core.player.controllers.UIEvent"]={__ename__:["com","turner","top","sdk","core","player","controllers","UIEvent"],__constructs__:["Start","Initialize","Initialized","Attach","Attached","Detach","Detached","Error"]};L4J.Start=["Start",0];L4J.Start.toString=H1J;L4J.Start.__enum__=L4J;L4J.Initialize=["Initialize",1];L4J.Initialize.toString=H1J;L4J.Initialize.__enum__=L4J;L4J.Initialized=["Initialized",2];L4J.Initialized.toString=H1J;L4J.Initialized.__enum__=L4J;L4J.Attach=["Attach",3];L4J.Attach.toString=H1J;L4J.Attach.__enum__=L4J;L4J.Attached=["Attached",4];L4J.Attached.toString=H1J;L4J.Attached.__enum__=L4J;L4J.Detach=["Detach",5];L4J.Detach.toString=H1J;L4J.Detach.__enum__=L4J;L4J.Detached=["Detached",6];L4J.Detached.toString=H1J;L4J.Detached.__enum__=L4J;L4J.Error=["Error",7];L4J.Error.toString=H1J;L4J.Error.__enum__=L4J;L4J.__empty_constructs__=[L4J.Start,L4J.Initialize,L4J.Initialized,L4J.Attach,L4J.Attached,L4J.Detach,L4J.Detached,L4J.Error];var O4J=O1J["com.turner.top.sdk.core.player.controllers.UIState"]={__ename__:["com","turner","top","sdk","core","player","controllers","UIState"],__constructs__:["Pending","Initializing","Initialized","Attaching","Attached","Detaching","Detached","Error"]};O4J.Pending=["Pending",0];O4J.Pending.toString=H1J;O4J.Pending.__enum__=O4J;O4J.Initializing=["Initializing",1];O4J.Initializing.toString=H1J;O4J.Initializing.__enum__=O4J;O4J.Initialized=["Initialized",2];O4J.Initialized.toString=H1J;O4J.Initialized.__enum__=O4J;O4J.Attaching=["Attaching",3];O4J.Attaching.toString=H1J;O4J.Attaching.__enum__=O4J;O4J.Attached=["Attached",4];O4J.Attached.toString=H1J;O4J.Attached.__enum__=O4J;O4J.Detaching=["Detaching",5];O4J.Detaching.toString=H1J;O4J.Detaching.__enum__=O4J;O4J.Detached=["Detached",6];O4J.Detached.toString=H1J;O4J.Detached.__enum__=O4J;O4J.Error=["Error",7];O4J.Error.toString=H1J;O4J.Error.__enum__=O4J;O4J.__empty_constructs__=[O4J.Pending,O4J.Initializing,O4J.Initialized,O4J.Attaching,O4J.Attached,O4J.Detaching,O4J.Detached,O4J.Error];var n1J=O1J["com.turner.top.sdk.core.player.controllers.TransactionEvent"]={__ename__:["com","turner","top","sdk","core","player","controllers","TransactionEvent"],__constructs__:["Start","Idle","Initialize","Prepare","Configure","Transform","Initialized","Wait","Validate","Validated","Ads_Begin","Ads_Playback","Ads_Complete","Authorize","Authorized","Media_Begin","Media_Playback","Media_Complete","Stop","Interrupted","Finish","Error"]};n1J.Start=["Start",0];n1J.Start.toString=H1J;n1J.Start.__enum__=n1J;n1J.Idle=["Idle",1];n1J.Idle.toString=H1J;n1J.Idle.__enum__=n1J;n1J.Initialize=["Initialize",2];n1J.Initialize.toString=H1J;n1J.Initialize.__enum__=n1J;n1J.Prepare=["Prepare",3];n1J.Prepare.toString=H1J;n1J.Prepare.__enum__=n1J;n1J.Configure=["Configure",4];n1J.Configure.toString=H1J;n1J.Configure.__enum__=n1J;n1J.Transform=["Transform",5];n1J.Transform.toString=H1J;n1J.Transform.__enum__=n1J;n1J.Initialized=["Initialized",6];n1J.Initialized.toString=H1J;n1J.Initialized.__enum__=n1J;n1J.Wait=["Wait",7];n1J.Wait.toString=H1J;n1J.Wait.__enum__=n1J;n1J.Validate=["Validate",8];n1J.Validate.toString=H1J;n1J.Validate.__enum__=n1J;n1J.Validated=["Validated",9];n1J.Validated.toString=H1J;n1J.Validated.__enum__=n1J;n1J.Ads_Begin=["Ads_Begin",10];n1J.Ads_Begin.toString=H1J;n1J.Ads_Begin.__enum__=n1J;n1J.Ads_Playback=["Ads_Playback",11];n1J.Ads_Playback.toString=H1J;n1J.Ads_Playback.__enum__=n1J;n1J.Ads_Complete=["Ads_Complete",12];n1J.Ads_Complete.toString=H1J;n1J.Ads_Complete.__enum__=n1J;n1J.Authorize=["Authorize",13];n1J.Authorize.toString=H1J;n1J.Authorize.__enum__=n1J;n1J.Authorized=["Authorized",14];n1J.Authorized.toString=H1J;n1J.Authorized.__enum__=n1J;n1J.Media_Begin=["Media_Begin",15];n1J.Media_Begin.toString=H1J;n1J.Media_Begin.__enum__=n1J;n1J.Media_Playback=["Media_Playback",16];n1J.Media_Playback.toString=H1J;n1J.Media_Playback.__enum__=n1J;n1J.Media_Complete=["Media_Complete",17];n1J.Media_Complete.toString=H1J;n1J.Media_Complete.__enum__=n1J;n1J.Stop=["Stop",18];n1J.Stop.toString=H1J;n1J.Stop.__enum__=n1J;n1J.Interrupted=["Interrupted",19];n1J.Interrupted.toString=H1J;n1J.Interrupted.__enum__=n1J;n1J.Finish=["Finish",20];n1J.Finish.toString=H1J;n1J.Finish.__enum__=n1J;n1J.Error=["Error",21];n1J.Error.toString=H1J;n1J.Error.__enum__=n1J;n1J.__empty_constructs__=[n1J.Start,n1J.Idle,n1J.Initialize,n1J.Prepare,n1J.Configure,n1J.Transform,n1J.Initialized,n1J.Wait,n1J.Validate,n1J.Validated,n1J.Ads_Begin,n1J.Ads_Playback,n1J.Ads_Complete,n1J.Authorize,n1J.Authorized,n1J.Media_Begin,n1J.Media_Playback,n1J.Media_Complete,n1J.Stop,n1J.Interrupted,n1J.Finish,n1J.Error];var J1J=O1J["com.turner.top.sdk.core.player.controllers.TransactionState"]={__ename__:["com","turner","top","sdk","core","player","controllers","TransactionState"],__constructs__:["Pending","Initializing","Preparing","Configuring","Transforming","Initialized","Waiting","Validating","Validated","Ads_Beginning","Ads_Playback","Ads_Completed","Authorizing","Authorized","Media_Beginning","Media_Playback","Media_Completed","Interrupting","Interrupted","Finished","Error"]};J1J.Pending=["Pending",0];J1J.Pending.toString=H1J;J1J.Pending.__enum__=J1J;J1J.Initializing=["Initializing",1];J1J.Initializing.toString=H1J;J1J.Initializing.__enum__=J1J;J1J.Preparing=["Preparing",2];J1J.Preparing.toString=H1J;J1J.Preparing.__enum__=J1J;J1J.Configuring=["Configuring",3];J1J.Configuring.toString=H1J;J1J.Configuring.__enum__=J1J;J1J.Transforming=["Transforming",4];J1J.Transforming.toString=H1J;J1J.Transforming.__enum__=J1J;J1J.Initialized=["Initialized",5];J1J.Initialized.toString=H1J;J1J.Initialized.__enum__=J1J;J1J.Waiting=["Waiting",6];J1J.Waiting.toString=H1J;J1J.Waiting.__enum__=J1J;J1J.Validating=["Validating",7];J1J.Validating.toString=H1J;J1J.Validating.__enum__=J1J;J1J.Validated=["Validated",8];J1J.Validated.toString=H1J;J1J.Validated.__enum__=J1J;J1J.Ads_Beginning=["Ads_Beginning",9];J1J.Ads_Beginning.toString=H1J;J1J.Ads_Beginning.__enum__=J1J;J1J.Ads_Playback=["Ads_Playback",10];J1J.Ads_Playback.toString=H1J;J1J.Ads_Playback.__enum__=J1J;J1J.Ads_Completed=["Ads_Completed",11];J1J.Ads_Completed.toString=H1J;J1J.Ads_Completed.__enum__=J1J;J1J.Authorizing=["Authorizing",12];J1J.Authorizing.toString=H1J;J1J.Authorizing.__enum__=J1J;J1J.Authorized=["Authorized",13];J1J.Authorized.toString=H1J;J1J.Authorized.__enum__=J1J;J1J.Media_Beginning=["Media_Beginning",14];J1J.Media_Beginning.toString=H1J;J1J.Media_Beginning.__enum__=J1J;J1J.Media_Playback=["Media_Playback",15];J1J.Media_Playback.toString=H1J;J1J.Media_Playback.__enum__=J1J;J1J.Media_Completed=["Media_Completed",16];J1J.Media_Completed.toString=H1J;J1J.Media_Completed.__enum__=J1J;J1J.Interrupting=["Interrupting",17];J1J.Interrupting.toString=H1J;J1J.Interrupting.__enum__=J1J;J1J.Interrupted=["Interrupted",18];J1J.Interrupted.toString=H1J;J1J.Interrupted.__enum__=J1J;J1J.Finished=["Finished",19];J1J.Finished.toString=H1J;J1J.Finished.__enum__=J1J;J1J.Error=["Error",20];J1J.Error.toString=H1J;J1J.Error.__enum__=J1J;J1J.__empty_constructs__=[J1J.Pending,J1J.Initializing,J1J.Preparing,J1J.Configuring,J1J.Transforming,J1J.Initialized,J1J.Waiting,J1J.Validating,J1J.Validated,J1J.Ads_Beginning,J1J.Ads_Playback,J1J.Ads_Completed,J1J.Authorizing,J1J.Authorized,J1J.Media_Beginning,J1J.Media_Playback,J1J.Media_Completed,J1J.Interrupting,J1J.Interrupted,J1J.Finished,J1J.Error];var P3J=function(){u4J.call(this);};O1J["com.turner.top.sdk.core.player.controllers.events.ControllerEventResult"]=P3J;P3J.__name__=["com","turner","top","sdk","core","player","controllers","events","ControllerEventResult"];P3J.__super__=u4J;P3J.prototype=v1J(u4J.prototype,{__class__:P3J});var S9J=function(d2f,v2f,V2f){P3J.call(this);this.previousState=d2f;this.currentState=v2f;this.args=V2f;};O1J["com.turner.top.sdk.core.player.controllers.events.ControllerStateChangedResult"]=S9J;S9J.__name__=["com","turner","top","sdk","core","player","controllers","events","ControllerStateChangedResult"];S9J.__super__=P3J;S9J.prototype=v1J(P3J.prototype,{previousState:null,currentState:null,args:null,__class__:S9J});var G3J=O1J["com.turner.top.sdk.core.player.controllers.events.ControllerEventType"]={__ename__:["com","turner","top","sdk","core","player","controllers","events","ControllerEventType"],__constructs__:["State_Changed"]};G3J.State_Changed=["State_Changed",0];G3J.State_Changed.toString=H1J;G3J.State_Changed.__enum__=G3J;G3J.__empty_constructs__=[G3J.State_Changed];var K8y=function(){V1J.call(this,G3J.State_Changed);};O1J["com.turner.top.sdk.core.player.controllers.events.ControllerStateChangedEvent"]=K8y;K8y.__name__=["com","turner","top","sdk","core","player","controllers","events","ControllerStateChangedEvent"];K8y.__super__=V1J;K8y.prototype=v1J(V1J.prototype,{__class__:K8y});var l3J=function(){G4J.call(this,[this.stateChanged=new K8y()]);};O1J["com.turner.top.sdk.core.player.controllers.events.ControllerEvents"]=l3J;l3J.__name__=["com","turner","top","sdk","core","player","controllers","events","ControllerEvents"];l3J.__super__=G4J;l3J.prototype=v1J(G4J.prototype,{stateChanged:null,__class__:l3J});var i6J=O1J["com.turner.top.sdk.core.player.controllers.events.PlayerControllerEventType"]={__ename__:["com","turner","top","sdk","core","player","controllers","events","PlayerControllerEventType"],__constructs__:["Player_State_Changed","View_State_Changed","Module_Notification","Transaction_State_Changed"]};i6J.Player_State_Changed=["Player_State_Changed",0];i6J.Player_State_Changed.toString=H1J;i6J.Player_State_Changed.__enum__=i6J;i6J.View_State_Changed=["View_State_Changed",1];i6J.View_State_Changed.toString=H1J;i6J.View_State_Changed.__enum__=i6J;i6J.Module_Notification=["Module_Notification",2];i6J.Module_Notification.toString=H1J;i6J.Module_Notification.__enum__=i6J;i6J.Transaction_State_Changed=["Transaction_State_Changed",3];i6J.Transaction_State_Changed.toString=H1J;i6J.Transaction_State_Changed.__enum__=i6J;i6J.__empty_constructs__=[i6J.Player_State_Changed,i6J.View_State_Changed,i6J.Module_Notification,i6J.Transaction_State_Changed];var b8y=function(){V1J.call(this,i6J.Player_State_Changed);};O1J["com.turner.top.sdk.core.player.controllers.events.PlayerControllerStateChangedEvent"]=b8y;b8y.__name__=["com","turner","top","sdk","core","player","controllers","events","PlayerControllerStateChangedEvent"];b8y.__super__=V1J;b8y.prototype=v1J(V1J.prototype,{__class__:b8y});var g8y=function(){V1J.call(this,i6J.View_State_Changed);};O1J["com.turner.top.sdk.core.player.controllers.events.ViewStateChangedEvent"]=g8y;g8y.__name__=["com","turner","top","sdk","core","player","controllers","events","ViewStateChangedEvent"];g8y.__super__=V1J;g8y.prototype=v1J(V1J.prototype,{__class__:g8y});var P8y=function(){V1J.call(this,i6J.Module_Notification);};O1J["com.turner.top.sdk.core.player.controllers.events.PlayerControllerModuleNotificationEvent"]=P8y;P8y.__name__=["com","turner","top","sdk","core","player","controllers","events","PlayerControllerModuleNotificationEvent"];P8y.__super__=V1J;P8y.prototype=v1J(V1J.prototype,{__class__:P8y});var M8y=function(){V1J.call(this,i6J.Transaction_State_Changed);};O1J["com.turner.top.sdk.core.player.controllers.events.PlayerControllerTransactionStateChangedEvent"]=M8y;M8y.__name__=["com","turner","top","sdk","core","player","controllers","events","PlayerControllerTransactionStateChangedEvent"];M8y.__super__=V1J;M8y.prototype=v1J(V1J.prototype,{__class__:M8y});var L8y=function(){G4J.call(this,[this.playerStateChanged=new b8y(),this.viewStateChanged=new g8y(),this.moduleNotification=new P8y(),this.transactionStateChanged=new M8y()]);};O1J["com.turner.top.sdk.core.player.controllers.events.PlayerControllerEvents"]=L8y;L8y.__name__=["com","turner","top","sdk","core","player","controllers","events","PlayerControllerEvents"];L8y.__super__=G4J;L8y.prototype=v1J(G4J.prototype,{playerStateChanged:null,viewStateChanged:null,moduleNotification:null,transactionStateChanged:null,__class__:L8y});var x8y=function(p2f,Z2f,B2f,W2f){u4J.call(this);this.sourceType=p2f;this.eventCategory=Z2f;this.eventType=B2f;this.eventResult=W2f;};O1J["com.turner.top.sdk.core.player.controllers.events.PlayerNotificationResult"]=x8y;x8y.__name__=["com","turner","top","sdk","core","player","controllers","events","PlayerNotificationResult"];x8y.__super__=u4J;x8y.prototype=v1J(u4J.prototype,{sourceType:null,eventCategory:null,eventType:null,eventResult:null,__class__:x8y});var g7J=O1J["com.turner.top.sdk.core.player.controllers.events.TransactionControllerEventType"]={__ename__:["com","turner","top","sdk","core","player","controllers","events","TransactionControllerEventType"],__constructs__:["State_Changed","Module_Notification"]};g7J.State_Changed=["State_Changed",0];g7J.State_Changed.toString=H1J;g7J.State_Changed.__enum__=g7J;g7J.Module_Notification=["Module_Notification",1];g7J.Module_Notification.toString=H1J;g7J.Module_Notification.__enum__=g7J;g7J.__empty_constructs__=[g7J.State_Changed,g7J.Module_Notification];var H8y=function(){V1J.call(this,g7J.State_Changed);};O1J["com.turner.top.sdk.core.player.controllers.events.TransactionControllerStateChangedEvent"]=H8y;H8y.__name__=["com","turner","top","sdk","core","player","controllers","events","TransactionControllerStateChangedEvent"];H8y.__super__=V1J;H8y.prototype=v1J(V1J.prototype,{__class__:H8y});var T8y=function(){V1J.call(this,g7J.Module_Notification);};O1J["com.turner.top.sdk.core.player.controllers.events.TransactionControllerModuleNotificationEvent"]=T8y;T8y.__name__=["com","turner","top","sdk","core","player","controllers","events","TransactionControllerModuleNotificationEvent"];T8y.__super__=V1J;T8y.prototype=v1J(V1J.prototype,{__class__:T8y});var d8y=function(){G4J.call(this,[this.stateChanged=new H8y(),this.moduleNotification=new T8y()]);};O1J["com.turner.top.sdk.core.player.controllers.events.TransactionControllerEvents"]=d8y;d8y.__name__=["com","turner","top","sdk","core","player","controllers","events","TransactionControllerEvents"];d8y.__super__=G4J;d8y.prototype=v1J(G4J.prototype,{stateChanged:null,moduleNotification:null,__class__:d8y});var X8J=function(){this._events=new l3J();this._fsm=new y6J();this._fsm.events().listen(p1J(this,this.onFsmEvent));};O1J["com.turner.top.sdk.core.player.controllers.init.InitController"]=X8J;X8J.__name__=["com","turner","top","sdk","core","player","controllers","init","InitController"];X8J.prototype={_events:null,_origSdkConfigData:null,_sdkConfigData:null,_origInitConfigData:null,_initConfigData:null,_fsm:null,doInit:function(z2f,S2f){this._sdkConfigData=this._origSdkConfigData=z2f;this._initConfigData=this._origInitConfigData=S2f;this._fsm.init(Z3J.init());this._fsm.fire(Z6J.Initialize);},onFsmEvent:function(n2f,e2f){if(X8J._debug){X8J._logger.debug("[onFsmEvent] type: "+d1J.string(n2f)+", result: "+d1J.string(e2f));}switch(n2f[1]){case 2:this.notifyStateChanged(e2f.from,e2f.to);var s2f=e2f.to;if(s2f[1]==1){this._initConfigData=this.normalizeInitConfigData(this._initConfigData);this._fsm.fire(Z6J.Initialized);}break;case 4:this.notifyStateChanged(this._fsm.currentState(),O6J.Error);break;default:}},normalizeInitConfigData:function(J2f){J2f=J2f==null?{}:J2f;var A2f=Z3y.initConfig();var j2f=i1J.extendDeepWith({},[A2f,J2f]);var Q2f=Object.prototype.hasOwnProperty.call(J2f,"config")&&J2f.config!=null?J2f.config:{};j2f.config=N4J.extend(A2f.config,Q2f);return j2f;},notifyStateChanged:function(i2f,I2f){var k2f=new S9J(i2f,I2f);this._events.stateChanged.dispatch(k2f);},init:function(E2f,y2f){this.doInit(E2f,y2f);return this;},events:function(){return this._events;},sdkConfigData:function(){return this._sdkConfigData;},initConfigData:function(){return this._initConfigData;},__class__:X8J};var X4J=function(){this._ssaiTriggeredBreak=false;this._ssaiBreakCues=[];this._events=new d8y();this._fsm=new y6J();this._fsm.events().listen(p1J(this,this.onFsmEvent));this._possibleModules=[];this._activeModules=[];this._strategies=[];this._notificationQueue=[];this._monitors={};};O1J["com.turner.top.sdk.core.player.controllers.transaction.TransactionController"]=X4J;X4J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","TransactionController"];X4J.prototype={_events:null,_fsm:null,_possibleModules:null,_activeModules:null,_appContext:null,_playerModel:null,_cmsManager:null,_mediaModule:null,_adsModule:null,_cuesModule:null,_ccModule:null,_analyticsModule:null,_validationModule:null,_akamaiAnalyticsModule:null,_convivaModule:null,_linearAdsModule:null,_playCommand:null,_userPlayerConfig:null,_appliedPlayerConfig:null,_playlistItem:null,_replacer:null,_contentFileData:null,_timeline:null,_handlers:null,_monitors:null,_tasks:null,_interruptResponses:null,_adType:null,_mediaResumeTime:null,_waitingSeekTime:null,_strategies:null,_timelineStrategy:null,_adPlayStrategy:null,_adMidrollStrategy:null,_mediaStrategy:null,_notificationQueue:null,_currentNotification:null,_ssaiBreakCues:null,_ssaiTriggeredBreak:null,_interruptMode:null,_interruptDesc:null,_endingSegmentedContent:null,_lastNonZeroVolumeValue:null,doInit:function(D7f){var u7f=this;this._appContext=D7f;this._playerModel=this._appContext.model;this._fsm.init(Z3J.transaction());var h7f=function(C7f){u7f.addModuleListeners(C7f);C7f.init();C7f.handleModuleSetup(u7f._appContext,null,null);};this._cmsManager=new F8J();this._cmsManager.init();this._mediaModule=new R0y();this._adsModule=new E0y();this._cuesModule=new x0y();this._ccModule=new T0y();this._analyticsModule=new k0y();this._validationModule=new y5J();this._akamaiAnalyticsModule=new W8J("top.plugins.akamaiAnalytics");this._convivaModule=new W8J("top.plugins.conviva");this._linearAdsModule=new W8J("top.plugins.mml.linearAds");this._possibleModules=[this._mediaModule,this._adsModule,this._cuesModule,this._ccModule,this._analyticsModule,this._validationModule,this._akamaiAnalyticsModule,this._convivaModule,this._linearAdsModule];var r2f=0;var X7f=this._possibleModules;while(r2f<X7f.length){var f7f=X7f[r2f];++r2f;h7f(f7f);}},doStart:function(w7f){if(!this._fsm.canFire(n1J.Initialize)){X4J._logger.warn("[doStart] Unable to start transaction: "+d1J.string(this._fsm.currentState()));this.fireTransition(n1J.Error);return;}this._activeModules=[this._mediaModule,this._adsModule,this._cuesModule,this._ccModule,this._analyticsModule,this._validationModule,this._akamaiAnalyticsModule,this._convivaModule,this._linearAdsModule];this._handlers={};this._strategies=[];this._interruptResponses=[];this._playCommand=w7f;this._endingSegmentedContent=false;this.fireTransition(n1J.Initialize);},doHandlePlayerNotification:function(R7f){var Y7f=0;var c7f=this._activeModules;while(Y7f<c7f.length){var F7f=c7f[Y7f];++Y7f;X4J._notificationsLogger.info("[doHandlePlayerNotification] Propagating to module: "+d1J.string(F7f.type()));F7f.handlePlayerNotification(R7f);}},doPropagateCurrentNotification:function(){if(this._currentNotification==null){X4J._logger.warn("[doPropagateCurrentNotification] No current notification");return;}var q7f=0;var t7f=Z1J.fields(this._monitors);while(q7f<t7f.length){var G7f=t7f[q7f];++q7f;Z1J.field(this._monitors,G7f).handleModuleNotification(this._currentNotification);}var o7f=0;var l7f=this._activeModules;while(o7f<l7f.length){var U7f=l7f[o7f];++o7f;if(U7f.type()!=this._currentNotification.moduleType||U7f.type()==o4J.Plugin){if(X4J._debug){X4J._notificationsLogger.info("[doPropagateCurrentNotification] Propagating to module: "+d1J.string(U7f.type()));}U7f.handleModuleNotification(this._currentNotification);}}},doCompleteCurrentNotification:function(){if(this._currentNotification==null){X4J._logger.warn("[doCompleteCurrentNotification] No current notification");return;}var m7f=this._currentNotification;this._currentNotification=null;this.processModuleNotification(m7f);this.processNotificationQueue();},doProcessCommand:function(K7f){var N7f=this._fsm.currentState();var H7f=K7f.type;switch(H7f[1]){case 2:var V7f=K7f.configData;this.processConfigUpdate(V7f);break;case 4:if(N7f[1]==6){this.fireTransition(n1J.Validate);}break;case 5:switch(N7f[1]){case 10:var p7f=new l8y();this._adsModule.processAdCommand(p7f);break;case 15:var B7f=new l0y();this._mediaStrategy.processMediaCommand(B7f);break;default:}break;case 6:switch(N7f[1]){case 10:var s7f=new t8y();this._adsModule.processAdCommand(s7f);break;case 15:var x7f=new t0y();this._mediaStrategy.processMediaCommand(x7f);break;default:}break;case 7:if(N7f[1]==15){this._waitingSeekTime=null;var g7f=K7f.time;var P7f=this.isSeekAllowedByTimeline(g7f);switch(P7f[1]){case 0:var T7f=P7f[2];var d7f=new B8J(T7f);this._mediaStrategy.processMediaCommand(d7f);break;case 1:X4J._logger.debug("[processCommand] Seek to "+g7f+" suppressed");break;}}break;case 8:if(N7f[1]==15){var v7f=new N6y();this._mediaStrategy.processMediaCommand(v7f);}break;case 9:var a7f=K7f.volume;if(a7f>0.1){this._lastNonZeroVolumeValue=a7f;}var L7f=a7f;var Z7f=L7f;var b7f={player:{volume:Z7f}};if(a7f==0){b7f.player.muted=true;}if(this._appliedPlayerConfig.player.muted&&a7f>0){b7f.player.muted=false;}this.processConfigUpdate(b7f);break;case 10:this.processConfigUpdate({player:{muted:true}});break;case 11:var W7f=this._lastNonZeroVolumeValue==null?this._appliedPlayerConfig.player.volume:this._lastNonZeroVolumeValue;var z7f=W7f;var S7f=z7f;this.processConfigUpdate({player:{volume:S7f,muted:false}});break;case 12:if(this._mediaModule!=null){var e7f=new C3J(S1J.__cast(K7f,x9J).width,S1J.__cast(K7f,x9J).height);this._mediaStrategy.processMediaCommand(e7f);}if(this._adsModule!=null){var n7f=new o8y(S1J.__cast(K7f,x9J).width,S1J.__cast(K7f,x9J).height);this._adsModule.processAdCommand(n7f);}break;case 0:case 1:case 3:case 13:case 14:case 15:case 16:case 24:case 25:X4J._logger.error("[doProcessCommand] "+d1J.string(K7f.type)+" should not be passed through");break;case 17:if(this._ccModule!=null){var M7f=S1J.__instanceof(K7f,y3J)?new W0y(S1J.__cast(K7f,y3J).track):S1J.__instanceof(K7f,E3J)?new Z0y(S1J.__cast(K7f,E3J).lang):null;if(M7f!=null){this._ccModule.processCCCommand(M7f);}}break;case 18:if(this._ccModule!=null){var J7f=new G9y(S1J.__cast(K7f,n0y).enabled);this._ccModule.processCCCommand(J7f);}break;case 19:if(this._ccModule!=null){var A7f=new t9y(S1J.__cast(K7f,s0y).settings);this._ccModule.processCCCommand(A7f);}break;case 20:if(this._cuesModule!=null){var j7f=new H0y(S1J.__cast(K7f,J0y).cue);this._cuesModule.processCueCommand(j7f);}break;case 21:if(this._cuesModule!=null){var Q7f=new T2y(S1J.__cast(K7f,A0y).cue);this._cuesModule.processCueCommand(Q7f);}break;case 22:if(this._analyticsModule!=null){var k7f=new D8y(S1J.__cast(K7f,j0y).event);this._analyticsModule.processAnalyticsCommand(k7f);}break;case 23:if(this._analyticsModule!=null){var O7f=new f8y(S1J.__cast(K7f,Q0y).event);this._analyticsModule.processAnalyticsCommand(O7f);}break;}},processConfigUpdate:function(i7f){if(this._replacer!=null){this._replacer.initConfigTokenReplacement(i7f);}if(Object.prototype.hasOwnProperty.call(i7f,"features")){i7f=N4J.normalizeFeatures(i7f);}var I7f=i1J.extendDeep({},i7f);if(i7f.player!=null&&Object.prototype.hasOwnProperty.call(i7f.player,"volume")){if(I7f.ads==null){I7f.ads={};}if(I7f.media==null){I7f.media={};}I7f.ads.volume=i7f.player.volume;I7f.media.volume=i7f.player.volume;}if(i7f.player!=null&&Object.prototype.hasOwnProperty.call(i7f.player,"muted")){if(I7f.ads==null){I7f.ads={};}if(I7f.media==null){I7f.media={};}I7f.ads.muted=i7f.player.muted;I7f.media.muted=i7f.player.muted;}var y7f=0;var Y9f=this._activeModules;while(y7f<Y9f.length){var U9f=Y9f[y7f];++y7f;U9f.handleUpdateConfig(I7f);}var r7f=0;var f9f=this._strategies;while(r7f<f9f.length){var F9f=f9f[r7f];++r7f;F9f.updateConfig(I7f);}var h9f=this._userPlayerConfig;this._userPlayerConfig=N4J.extendSelective(h9f==null?{}:h9f,i7f);var c9f=[];var u9f=0;var D9f=Z1J.fields(i7f);while(u9f<D9f.length){var C9f=D9f[u9f];++u9f;c9f.push({key:C9f,value:Z1J.field(i7f,C9f)});}var w9f=c9f;var X9f=0;while(X9f<w9f.length){var E7f=w9f[X9f];++X9f;if(E7f.value==null){var R9f=this._userPlayerConfig;R9f[E7f.key]=E7f.value;}}this.updateAppliedConfig(i7f);},updateAppliedConfig:function(q9f){if(this._appliedPlayerConfig==null){return;}this._appliedPlayerConfig=N4J.extend(this._appliedPlayerConfig,q9f);},doStop:function(){this.fireTransition(n1J.Stop);},doDestroy:function(){this._possibleModules=null;this._activeModules=null;this._mediaModule=null;this._adsModule=null;this._cuesModule=null;},fireTransition:function(o9f,l9f){if(!this._fsm.canFire(o9f)){var t9f="Unable to fire "+d1J.string(o9f)+" from current state: "+d1J.string(this._fsm.currentState());X4J._logger.error("[fireTransition] errMsg: "+t9f);this._fsm.fire(n1J.Error,[{description:t9f}]);}else{this._fsm.fire(o9f,l9f);}},attemptToFireTransition:function(G9f,m9f){if(!this._fsm.canFire(G9f)){X4J._logger.warn("[attemptToFireTransition] Unable to fire "+d1J.string(G9f)+" from current state: "+d1J.string(this._fsm.currentState()));return;}this._fsm.fire(G9f,m9f);},onFsmEvent:function(e9f,a9f){var K9f=this;if(X4J._debug){X4J._logger.debug("[onFsmEvent] type: "+d1J.string(e9f)+", result: "+d1J.string(a9f));}var s9f=a9f.from;var A9f=a9f.to;var x9f=a9f.args;var H9f=x9f==null?[]:x9f;var N9f=0<H9f.length?H9f[0]:{};switch(e9f[1]){case 0:break;case 1:break;case 2:this.notifyStateChanged(a9f.from,a9f.to,a9f.args);switch(A9f[1]){case 1:this._tasks=[];var E9f=this.addTask(new h8J(v9J.handleInitialize));var y9f={initConfigData:this._appContext.initConfigData,userConfigData:this._userPlayerConfig,playOptions:this._playCommand.playOptions};E9f.execute(y9f).onResolved(function(c8f){K9f._appliedPlayerConfig=c8f.playerConfig;K9f._handlers=c8f.handlers;var F8f=K9f._cmsManager.load(K9f._playCommand.contentData,K9f._appliedPlayerConfig.cms);K9f.addTask(F8f).onResolved(function(R8f){var U8f="playlist-item-"+R8f.id;K9f._playlistItem=new K3J().init({id:U8f,contentEntryData:R8f,options:K9f._playCommand.playOptions});var q8f=K9f.addTask(new h8J(K9f._handlers.contentSelection));q8f.execute({playlistItem:K9f._playlistItem}).onResolved(function(o8f){K9f._contentFileData=o8f;K9f.fireTransition(n1J.Prepare);return;}).onRejected(function(t8f){K9f.fireTransition(n1J.Error,[{description:"Unable to select content: "+t8f}]);return;});return;}).onRejected(function(l8f){K9f.fireTransition(n1J.Error,[{description:"Unable to select content: "+l8f}]);return;});}).onRejected(function(G8f){K9f.fireTransition(n1J.Error,[{description:"Unable to initialize transaction: "+G8f}]);});break;case 2:var r9f=this.addTask(new h8J(v9J.handlePrepare));var u8f={playlistItem:this._playlistItem,contentFileData:this._contentFileData,playerConfig:this._appliedPlayerConfig,handlers:this._handlers};r9f.execute(u8f).onResolved(function(m8f){K9f._appliedPlayerConfig=m8f.playerConfig;K9f._handlers=m8f.handlers;K9f.fireTransition(n1J.Configure);}).onRejected(function(K8f){K9f.fireTransition(n1J.Error,[{description:"Unable to prepare transaction: "+K8f}]);});break;case 3:var h8f=this.addTask(new h8J(v9J.handleConfigure));var V9f=new w7J();V9f.init({slidingWindowThreshold:60,slidingWindowBuffer:10});var Y8f=this._monitors;Y8f["pruning"]=V9f;var Z9f={modules:this._activeModules,playlistItem:this._playlistItem,playerConfig:this._appliedPlayerConfig,contentFileData:this._contentFileData,monitors:this._monitors};h8f.execute(Z9f).onResolved(function(a8f){K9f._appliedPlayerConfig=a8f.playerConfig;K9f._timeline=a8f.timeline;K9f._replacer=a8f.replacer;var N8f=a8f.strategies;var M8f=[];var b8f=0;var P8f=Z1J.fields(N8f);while(b8f<P8f.length){var L8f=P8f[b8f];++b8f;M8f.push(Z1J.field(N8f,L8f));}K9f._strategies=M8f;K9f.addStrategyListeners();var g8f=N8f.adRequest!=null?N8f.adRequest.init({config:K9f._appliedPlayerConfig,playlistItem:K9f._playlistItem,adsModule:K9f._adsModule,replacer:K9f._replacer}):null;K9f._timelineStrategy=N8f.timeline.init({config:K9f._appliedPlayerConfig,playlistItem:K9f._playlistItem,timeline:K9f._timeline,adRequestStrategy:g8f,monitors:K9f._monitors});var O8f=N8f.adPlay!=null?N8f.adPlay.init({config:K9f._appliedPlayerConfig,playlistItem:K9f._playlistItem,adRequestStrategy:g8f,adsModule:K9f._adsModule}):null;K9f._adPlayStrategy=O8f;var H8f=N8f.adMidroll!=null?N8f.adMidroll.init({config:K9f._appliedPlayerConfig,playlistItem:K9f._playlistItem,adRequestStrategy:g8f,adsModule:K9f._adsModule,replacer:K9f._replacer}):null;K9f._adMidrollStrategy=H8f;K9f._mediaStrategy=N8f.media;K9f._mediaStrategy.init(K9f._mediaModule,K9f._appliedPlayerConfig.media,K9f._playlistItem);var x8f=a8f.transforms;K9f.fireTransition(n1J.Transform,[{transforms:x8f.external}]);}).onRejected(function(T8f){K9f.fireTransition(n1J.Error,[{description:"Unable to configure transaction: "+T8f}]);});break;case 4:var B9f=this.addTask(new B8y(this._handlers.contentTransforms));B9f.execute({contentFileData:this._contentFileData}).onResolved(function(V8f){K9f._contentFileData=V8f;var d8f=[];d8f.push(function(p8f){X4J._logger.debug("[Transforming] Populating the timeline...");return K9f._timelineStrategy.populateTimeline().onCompleted(function(){var B8f=K9f._playlistItem.contentEntry().segments();if(B8f.length>0){var W8f=K9f._appliedPlayerConfig;var z8f=!Object.prototype.hasOwnProperty.call(W8f,"media")?{}:Z1J.field(W8f,"media");var S8f=!Object.prototype.hasOwnProperty.call(z8f,"offset")?0:Z1J.field(z8f,"offset");var Z8f=S8f>0?K9f._timeline.virtualTimeToGross(S8f):B8f[0].start;if(Z8f>0){var e8f=Z8f;var n8f=e8f;K9f.updateAppliedConfig({media:{offset:n8f}});X4J._logger.info("[Transforming] One or more segments have been specified. Setting the initial offset to: "+Z8f);}}X4J._logger.debug("[Transforming] Timeline population complete");p8f.resolve();return;});});d8f.push(function(j8f){var s8f=K9f._playlistItem.contentMetadata().cues;if(s8f!=null&&s8f.length>0){var J8f=0;while(J8f<s8f.length){var A8f=s8f[J8f];++J8f;K9f._cuesModule.processCueCommand(new H0y(A8f));}}X4J._logger.debug("[Transforming] Cues processed");j8f.resolve();return;});if(K9f._appContext.verifyAutoPlay!=null){d8f.push(function(Q8f){return K9f._appContext.verifyAutoPlay().then(function(k8f){X4J._logger.info("[Configuring] overriding applied autoplay config");K9f._appliedPlayerConfig.player.autoPlay=k8f;Q8f.resolve();return;});});}var v8f=g2J.createSeq0(d8f).execute().onResolved(function(E8f){X4J._logger.debug("[Configuring] firing initialized");var i8f=K9f._playlistItem;var I8f=N4J.extend({},K9f._appliedPlayerConfig);K9f.fireTransition(n1J.Initialized,[{playlistItem:i8f,appliedPlayerConfig:I8f}]);return;}).onRejected(function(y8f){K9f.fireTransition(n1J.Error,[{description:"Unable to complete initializations: "+y8f}]);return;});K9f.addTask(v8f);}).onRejected(function(r8f){K9f.fireTransition(n1J.Error,[{description:"Unable to apply content transforms: "+r8f}]);});break;case 5:X4J._logger.info("[Initialized] with strategies: "+this._strategies.map(function(h3f){var u3f=h3f;var X3f=u3f==null?null:S1J.getClass(u3f);if(X3f!=null){return U4J.getClassName(X3f);}else{return null;}}).join("\n"));X4J._logger.info("[Initialized] with config: "+d1J.string(this._appliedPlayerConfig));X4J._logger.info("[Initialized] with content file data: "+d1J.string(this._contentFileData));X4J._logger.info("[Initialized] with autoPlay: "+d1J.string(this._appliedPlayerConfig.player.autoPlay)+((892.09,433)<(900.86,155.16)?(650.32,0x7a0):" "));if(this._appContext.initConfigData.config.player.autoPlay==false){this._appContext.initConfigData.config.player.autoPlay=true;}if(this._appliedPlayerConfig.player.autoPlay){this.fireTransition(n1J.Validate);}else{this.fireTransition(n1J.Wait);}break;case 6:this._convivaModule.handleModuleNotification(new g6J(o4J.Plugin,w6J.Component_Event,g7J.State_Changed,u4J.createFor({state:J1J.Waiting})));X4J._logger.info("[onFsmEvent] waiting for proceed command");break;case 7:this._convivaModule.handleModuleNotification(new g6J(o4J.Plugin,w6J.Component_Event,g7J.State_Changed,u4J.createFor({state:J1J.Validating})));X4J._logger.info("[onFsmEvent] commencing validation");var W9f=new p1y();this._validationModule.processValidationCommand(W9f);break;case 8:if(N4J.validAds(this._appliedPlayerConfig)){this.fireTransition(n1J.Ads_Begin,[{type:g4J.Preroll}]);}else{this.fireTransition(n1J.Authorize);}break;case 9:this._ssaiTriggeredBreak=false;this._adType=!Object.prototype.hasOwnProperty.call(N9f,"type")?g4J.Preroll:Z1J.field(N9f,"type");X4J._logger.debug("[Ads_Beginning] ad type: "+d1J.string(this._adType));var z9f=this._adType;switch(z9f[1]){case 0:this._adPlayStrategy.playAdsByType(g4J.Preroll);break;case 1:var S9f=N9f.marker;var p9f=N9f.currentTime;this._mediaResumeTime=!Object.prototype.hasOwnProperty.call(N9f,"mediaResumeTime")?null:Z1J.field(N9f,"mediaResumeTime");if(N4J.isClientSideSSAI(this._appliedPlayerConfig)){this._ssaiTriggeredBreak=true;var n9f=new D8J(g4J.Midroll,{custom:{fragmentId:N9f.fragmentId}});this._adsModule.processAdCommand(n9f);}else{this._adMidrollStrategy.playAdsByMarker(p9f,S9f);}break;case 2:this._adPlayStrategy.playAdsByType(g4J.Postroll);break;case 3:var L9f="Overlay ads should not change content state";X4J._logger.error("[Ads_Beginning] "+L9f);this.fireTransition(n1J.Error,[{description:L9f}]);break;}break;case 11:var J9f=this._adType;switch(J9f[1]){case 0:this.fireTransition(n1J.Authorize);break;case 1:this.fireTransition(n1J.Media_Begin,[{type:d4J.Resume}]);break;case 2:this.fireTransition(n1J.Finish);break;default:}break;case 12:this.fireTransition(n1J.Authorized);break;case 13:this.fireTransition(n1J.Media_Begin,[{type:d4J.Play}]);break;case 14:var v9f=!Object.prototype.hasOwnProperty.call(N9f,"type")?null:Z1J.field(N9f,"type");X4J._logger.debug("[Media_Beginning] media command type: "+d1J.string(v9f));switch(v9f[1]){case 0:var j9f=this._playlistItem.contentEntry().authType();if(j9f!=null){X4J._logger.info("[Media_Beginning] Token auth required; executing auth flow");var Q9f={url:this._contentFileData.url,playlistItem:this._playlistItem,config:this._appliedPlayerConfig.auth,metadata:this._appliedPlayerConfig.metadata};var k9f=this.addTask(new h8J(this._handlers.tokenAuth));k9f.execute(Q9f).onResolved(function(D3f){X4J._logger.info("[Media_Beginning:Auth] Token auth success; playing media");var f3f=K9f._contentFileData.url;var C3f=f3f.indexOf("?");var w3f=C3f==-1?""+f3f+"?"+D3f:""+f3f+"&"+D3f;var Y3f=K9f._appliedPlayerConfig.media==null?null:K9f._appliedPlayerConfig.media;var c3f=new U3J(w3f,Y3f);K9f._mediaStrategy.processMediaCommand(c3f);}).onRejected(function(F3f){X4J._logger.error("[Media_Beginning:Auth] Token auth error: "+F3f);K9f.fireTransition(n1J.Error,[{description:F3f}]);});}else{X4J._logger.info("[Media_Beginning] No token auth required; playing media");var i9f=K9f._appliedPlayerConfig.media==null?null:K9f._appliedPlayerConfig.media;var I9f=new U3J(this._contentFileData.url,i9f);K9f._mediaStrategy.processMediaCommand(I9f);}break;case 2:var O9f={};if(this._mediaResumeTime!=null){var M9f=this._mediaResumeTime+0.1;var T9f=this._timeline.lastMarker().range().end;var d9f=T9f==null?M9f:T9f;var X8f=d9f<M9f;O9f.jumpTo=X8f?d9f:M9f;}this._mediaStrategy.goActive(O9f).onResolved(function(R3f){K9f.fireTransition(n1J.Media_Playback);return;});break;default:X4J._logger.error("[Media_Beginning] Unsupported command type for media beginning");}break;case 16:if(N4J.validAds(this._appliedPlayerConfig)){this.fireTransition(n1J.Ads_Begin,[{type:g4J.Postroll}]);}else{this.fireTransition(n1J.Finish);}break;case 17:this.stopAllTasksAndStrategies();switch(s9f[1]){case 0:case 1:case 2:case 3:break;default:this._validationModule.processValidationCommand(new v1y());}var b9f=[];var g9f=false;var D8f=K9f._playerModel.adRequestState();if(D8f[1]==2){K9f._interruptResponses.push(s1J.Request_Canceled);if(!g9f){b9f.push(function(){var U3f=new y0y();return K9f._adsModule.processAdCommand(U3f);});g9f=true;}}var C8f=K9f._playerModel.adState();switch(C8f[1]){case 0:case 1:case 6:case 7:case 8:break;default:K9f._interruptResponses.push(s1J.Stopped);if(!g9f){b9f.push(function(){var q3f=new y0y();return K9f._adsModule.processAdCommand(q3f);});g9f=true;}}var w8f=K9f._playerModel.mediaState();switch(w8f[1]){case 0:case 1:case 8:case 9:case 10:break;default:K9f._interruptResponses.push(W1J.Stopped);b9f.push(function(){var o3f=new U0y();return K9f._mediaStrategy.processMediaCommand(o3f);});}if(Object.prototype.hasOwnProperty.call(N9f,"interruptMode")){this._interruptMode=N9f.interruptMode;}else{this._interruptMode="interrupt";}if(Object.prototype.hasOwnProperty.call(N9f,"description")){this._interruptDesc=N9f.description;}X4J._logger.debug("[Interrupting] waiting for: "+d1J.string(this._interruptResponses));if(b9f.length>0){var P9f=0;while(P9f<b9f.length){var f8f=b9f[P9f];++P9f;f8f();}}else{this.completeInterrupt();}break;case 18:X4J._logger.debug("[onFsmEvent] state changed - interrupted");this.destroyAllTasksAndStrategies();this.fireTransition(n1J.Idle);break;case 19:X4J._logger.debug("[onFsmEvent] state changed - finished");this.stopAllTasksAndStrategies();this.fireTransition(n1J.Idle);break;case 20:X4J._logger.debug("[onFsmEvent] state changed - error");this.stopAllTasksAndStrategies();this.fireTransition(n1J.Idle);break;default:}break;case 4:this.notifyStateChanged(this._fsm.currentState(),J1J.Error);break;default:}},stopAllTasksAndStrategies:function(){this.cancelAllTasks();this.cancelAllStrategies();},destroyAllTasksAndStrategies:function(){this.destroyAllStrategies();},checkAndCompleteInterrupt:function(l3f){var t3f=this._interruptResponses.indexOf(l3f);if(t3f>-1){this._interruptResponses.splice(t3f,1);}if(this._interruptResponses.length==0){this.completeInterrupt();}},completeInterrupt:function(){var G3f=this._interruptMode;switch(G3f){case"error":this.fireTransition(n1J.Error,[{description:this._interruptDesc}]);break;case"interrupt":this.fireTransition(n1J.Interrupted);break;}},addModuleListeners:function(m3f){m3f.events().listen(p1J(this,this.onModuleEvent));},onModuleEvent:function(a3f,K3f){if(X4J._debug){X4J._logger.info("[onModuleEvent] type: "+d1J.string(a3f)+", result: "+d1J.string(K3f));}var N3f=S1J.__cast(K3f,g6J);this.queueModuleNotification(N3f);this.processNotificationQueue();},removeModuleListeners:function(b3f){b3f.events().unlisten(p1J(this,this.onModuleEvent));},queueModuleNotification:function(g3f){this._notificationQueue.push(g3f);},processNotificationQueue:function(){if(this._notificationQueue.length==0){return;}if(this._currentNotification!=null){if(X4J._debug){X4J._logger.debug("[processNotificationQueue] Can't process next notification until current is completed");}return;}var M3f=this._notificationQueue.shift();var P3f=null;if(this._endingSegmentedContent){P3f=this.transformSegmentedFinishNotification(M3f);if(P3f==null){X4J._logger.warn("[processNotificationQueue] did not transform notification");}else{X4J._logger.debug("[processNotificationQueue] transformed notification in response to _endingSegmentedContent being "+d1J.string(this._endingSegmentedContent));}}if(P3f!=null){this._currentNotification=P3f;}else{this._currentNotification=M3f;}if(X4J._debug){X4J._logger.info("[processNotificationQueue] processing next: "+d1J.string(this._currentNotification));}this.notifyModuleNotificationEvent(this._currentNotification);},transformSegmentedFinishNotification:function(L3f){var x3f=L3f.eventCategory==w6J.Model_Update&&L3f.eventType==Y8J.Property_Changed&&L3f.eventResult.property==z1J.State&&L3f.eventResult.currentValue==r1J.Stopped;var O3f=L3f.eventCategory==w6J.Component_Event&&L3f.eventType==W1J.State_Changed&&L3f.eventResult.currentState==r1J.Stopped;var H3f=L3f.eventCategory==w6J.Component_Event&&L3f.eventType==W1J.Stopped;if(x3f){return new g6J(o4J.Media,w6J.Model_Update,Y8J.Property_Changed,new o9J(z1J.State,L3f.eventResult.oldValue,r1J.Finished));}if(O3f){return new g6J(o4J.Media,w6J.Component_Event,W1J.State_Changed,new r5J(L3f.eventResult.previousState,r1J.Finished));}if(H3f){return new g6J(o4J.Media,w6J.Component_Event,W1J.Finished,L3f.eventResult);}return null;},addStrategyListeners:function(){if(this._timeline!=null){this._timeline.events().listen(p1J(this,this.onTimelineEvent));}},isSeekAllowedByTimeline:function(T3f){X4J._logger.info("[isSeekAllowedByTimeline] checking if seek time is allowed: "+T3f);var W3f=this._appliedPlayerConfig.features.tve.enabled;if(W3f&&!this._playlistItem.contentEntry().isLive()&&N4J.validAds(this._appliedPlayerConfig)){var z3f=this._appliedPlayerConfig.features.tve.trapDuration;var V3f=this._timeline.lastMarker().range().end;if(V3f!=null&&V3f<T3f){T3f=V3f;}var Z3f=this._timeline.markersForTime(T3f).filter(function(S3f){return S3f.type()==E6J.Media;});var d3f=0<Z3f.length?Z3f[0]:null;X4J._logger.info("[isSeekAllowedByTimeline] checking markers for time: "+T3f+" | mediaMarker: "+d1J.string(d3f));if(d3f!=null){var B3f=T3f-d3f.range().begin;var p3f=B3f<=z3f;X4J._logger.info("[isSeekAllowedByTimeline] trapped: "+(p3f==null?"null":""+p3f)+", delta: "+B3f);if(p3f){var v3f=this._timeline.previousMarker(d3f);if(v3f!=null&&v3f.type()==E6J.Ad_Midroll){X4J._logger.info("[isSeekAllowedByTimeline] Attempted seek got trapped by midroll - triggering: "+d1J.string(v3f));this._waitingSeekTime=T3f;return l8J.Some(v3f.range().begin);}}}}return l8J.Some(T3f);},onTimelineEvent:function(E3f,n3f){var e3f=n3f.marker;var s3f=this._timeline.currentTime();switch(E3f[1]){case 0:X4J._logger.info("[onTimelineEvent] marker added: "+d1J.string(n3f.marker));var h5f=n3f.marker.type();if(h5f[1]==1){this._adMidrollStrategy.addOpportunity(n3f.marker);}break;case 1:break;case 2:X4J._logger.info("[onTimelineEvent] media time: "+s3f+" | marker activated: "+d1J.string(e3f));var D5f=e3f.type();if(D5f[1]==1){var k3f=true;var i3f=s3f;var I3f=i3f-e3f.range().begin;if(I3f<=1.0||k3f){this._mediaStrategy.goPassive();var J3f=this._timeline.nextMarker(e3f);var A3f;if(J3f!=null&&J3f.type()==E6J.Media){if(this._waitingSeekTime!=null){X4J._logger.debug("[onTimelineEvent] Resuming at waiting seek time: "+this._waitingSeekTime);A3f=this._waitingSeekTime;}else{A3f=J3f.range().begin;}}else{A3f=e3f.range().end+e3f.startBuffer();}this._waitingSeekTime=null;this.attemptToFireTransition(n1J.Ads_Begin,[{type:g4J.Midroll,marker:n3f.marker,currentTime:s3f,mediaResumeTime:A3f}]);}else{X4J._logger.warn("[onTimelineEvent] Ad continuations disabled; ignoring activation");}}break;case 3:break;case 4:X4J._logger.info("[onTimelineEvent] media time: "+s3f+" | marker deactivated: "+d1J.string(e3f));var r3f=e3f.type();if(r3f[1]==0){X4J._logger.debug("[onTimelineEvent] markersForTime: "+d1J.string(this._timeline.markersForTime(s3f)));var u5f=Math.abs(s3f-e3f.range().end);if(u5f<0.5){if(this._timeline.isLastMarker(e3f)){X4J._logger.debug("[onTimelineEvent] last marker detected - completing media");this._endingSegmentedContent=true;var X5f=new U0y();this._mediaStrategy.processMediaCommand(X5f);}else{var j3f=this._timeline.nextMarker(e3f);if(j3f.type()==E6J.Media){X4J._logger.debug("[onTimelineEvent] next media marker transitioning to: "+d1J.string(j3f));this.seekToMarkerIfNecessary(j3f);}}}else{var f5f=this._timeline.markersForTime(s3f).filter(function(w5f){return w5f.type()==E6J.Media;}).filter(function(Y5f){return Y5f!=e3f;}).length>0;if(!f5f){var Q3f=this._timeline.markerForGrossTime(s3f);if(Q3f.type()==E6J.Media){X4J._logger.debug("[onTimelineEvent] marker interrupted; transitioning to: "+d1J.string(Q3f));this.seekToMarkerIfNecessary(Q3f);}}}}break;case 5:X4J._logger.info("[onTimelineEvent] marker removed: "+d1J.string(n3f.marker));var C5f=n3f.marker.type();if(C5f[1]==1){this._adMidrollStrategy.removeOpportunity(n3f.marker);}break;}var y3f=new g6J(o4J.Timeline,w6J.Component_Event,E3f,n3f);this.onModuleEvent(x3J.Notification,y3f);},seekToMarkerIfNecessary:function(q5f){var F5f=this._timeline.currentTime();var c5f=q5f.range().begin;var R5f=Math.abs(c5f-F5f);if(Math.floor(F5f)==Math.floor(c5f)||R5f<=0.5){return;}var U5f=new B8J(c5f);this._mediaStrategy.processMediaCommand(U5f);},removeStrategyListeners:function(){if(this._timeline!=null){this._timeline.events().unlisten(p1J(this,this.onTimelineEvent));}},cancelAllStrategies:function(){this.removeStrategyListeners();var o5f=0;var t5f=this._strategies;while(o5f<t5f.length){var l5f=t5f[o5f];++o5f;l5f.cancel();}},destroyAllStrategies:function(){var G5f=0;var m5f=this._strategies;while(G5f<m5f.length){var K5f=m5f[G5f];++G5f;K5f.destroy();}this._strategies=[];},processModuleNotification:function(N5f){var a5f=0;var b5f=this._strategies;while(a5f<b5f.length){var g5f=b5f[a5f];++a5f;g5f.processModuleNotification(N5f);}var P5f=N5f.eventCategory;switch(P5f[1]){case 0:break;case 1:var M5f=N5f.moduleType;switch(M5f[1]){case 0:this.handleMediaEvent(S1J.__cast(N5f.eventType,W1J),S1J.__cast(N5f.eventResult,m4J));break;case 1:this.handleAdEvent(S1J.__cast(N5f.eventType,s1J),S1J.__cast(N5f.eventResult,Q2J));break;case 2:this.handleCueEvent(S1J.__cast(N5f.eventType,N6J),S1J.__cast(N5f.eventResult,n2J));break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:this.handleValidationEvent(S1J.__cast(N5f.eventType,L7J),S1J.__cast(N5f.eventResult,G9J));break;}break;case 2:break;}},handleMediaEvent:function(x5f,L5f){var O5f=this._fsm.currentState();if(x5f==W1J.Time_Changed||x5f==W1J.Timed_Metadata_Received){X4J._mediaEventLogger.verbose("type: "+d1J.string(x5f)+", state: "+d1J.string(O5f)+", result: "+d1J.string(L5f));}else{X4J._mediaEventLogger.info("type: "+d1J.string(x5f)+", state: "+d1J.string(O5f)+", result: "+d1J.string(L5f));}switch(x5f[1]){case 4:this.attemptToFireTransition(n1J.Media_Playback);break;case 5:X4J._logger.debug("[handleMediaEvent] Media playback blocked.");this.attemptToFireTransition(n1J.Stop,[{interruptMode:"error",description:"Media playback blocked"}]);break;case 14:var T5f=L5f.profile.bitrate;D2J.persistValue(this._appliedPlayerConfig,"bitrate",T5f);break;case 20:var H5f=L5f.volume;var v5f=H5f;var V5f=v5f;D2J.persistValue(this._appliedPlayerConfig,"volume",V5f);break;case 21:var p5f=L5f.muted;D2J.persistValue(this._appliedPlayerConfig,"mute",p5f);break;case 23:var Z5f=this._fsm.currentState();switch(Z5f[1]){case 15:X4J._logger.debug("[handleMediaEvent] Media interrupted via internal stop; transitioning to complete");this.attemptToFireTransition(n1J.Media_Complete);break;case 17:X4J._logger.debug("[handleMediaEvent] Media successfully interrupted");this.checkAndCompleteInterrupt(x5f);break;default:X4J._logger.warn("[handleMediaEvent] Media interrupted in an unexpected state.");}break;case 25:var d5f=this._fsm.currentState();switch(d5f[1]){case 0:case 17:case 18:X4J._logger.debug("[handleMediaEvent] The transaction was stopped before media complete was received - skipping");break;default:this.attemptToFireTransition(n1J.Media_Complete);}break;case 26:this.attemptToFireTransition(n1J.Error,[{description:L5f.description}]);break;case 27:this.attemptToFireTransition(n1J.Stop,[{interruptMode:"error",description:L5f.description}]);break;default:}},handleAdEvent:function(B5f,W5f){var z5f=this._fsm.currentState();if(B5f==s1J.Time_Changed){X4J._adEventLogger.verbose("type: "+d1J.string(B5f)+", state: "+d1J.string(z5f)+", result: "+d1J.string(W5f));}else{X4J._adEventLogger.info("type: "+d1J.string(B5f)+", state: "+d1J.string(z5f)+", result: "+d1J.string(W5f));}switch(B5f[1]){case 3:var S5f=this._fsm.currentState();if(S5f[1]==17){X4J._logger.debug("[handleAdEvent] Ad request successfully interrupted");this.checkAndCompleteInterrupt(B5f);}else{X4J._logger.warn("[handleAdEvent] Ad request interrupted in an unexpected state.");}break;case 4:var e5f=this._fsm.currentState();if(e5f[1]==9){X4J._logger.warn("[handleAdEvent] Ad request error received");this.attemptToFireTransition(n1J.Ads_Complete);}else{X4J._logger.warn("[handleAdEvent] Ad request error in an unexpected state.");}break;case 6:this.attemptToFireTransition(n1J.Ads_Playback);break;case 7:X4J._logger.debug("[handleAdEvent] Ad playback blocked");this.attemptToFireTransition(n1J.Stop,[{interruptMode:"error",description:"Ad playback blocked"}]);break;case 15:var n5f=W5f.volume;D2J.persistValue(this._appliedPlayerConfig,"volume",n5f);break;case 16:var s5f=W5f.muted;D2J.persistValue(this._appliedPlayerConfig,"mute",s5f);break;case 17:var J5f=this._fsm.currentState();switch(J5f[1]){case 10:X4J._logger.debug("[handleAdEvent] Ad interrupted via internal stop; transitioning to complete.");this.attemptToFireTransition(n1J.Ads_Complete);break;case 17:X4J._logger.debug("[handleAdEvent] Ad playback successfully interrupted");this.checkAndCompleteInterrupt(B5f);break;default:X4J._logger.warn("[handleAdEvent] Ad playback interrupted in an unexpected state.");}break;case 20:var A5f=this._fsm.currentState();switch(A5f[1]){case 0:case 17:case 18:X4J._logger.debug("[handleAdEvent] The transaction was stopped before ad complete was received - skipping");break;default:this.attemptToFireTransition(n1J.Ads_Complete);}break;case 21:this.attemptToFireTransition(n1J.Ads_Complete);break;default:}},handleCueEvent:function(Y0E,j5f){switch(Y0E[1]){case 0:break;case 1:var w0E=j5f.cue.type;if(w0E[1]==6){if(N4J.isClientSideSSAI(this._appliedPlayerConfig)){var r5f=this._playerModel.media().streamInfo();var I5f=j5f.cue.data.metadata.stream.fragmentId;var Q5f=r5f.fragments();var k5f=-1;var i5f=0;var X0E=Q5f.length;while(i5f<X0E){var E5f=i5f++;if(Q5f[E5f].sn==I5f){k5f=E5f;}}var f0E=k5f-1;var D0E=Q5f[k5f].relurl;var C0E=Q5f[f0E].relurl;var y5f=new m7J("auditude\\.com|primetime-[^.]\\.akamaihd\\.net","");if(y5f.match(D0E)&&!y5f.match(C0E)){if(this._ssaiBreakCues.indexOf(j5f.cue.id)==-1){this._ssaiBreakCues.push(j5f.cue.id);}this.fireSSAIMidrollRequest(I5f);}}}break;case 2:var u0E=j5f.cue.type;if(u0E[1]==6){if(N4J.isClientSideSSAI(this._appliedPlayerConfig)){if(this._ssaiBreakCues.indexOf(j5f.cue.id)>-1){X4J._logger.info("SSAI break start activated: "+this._playerModel.media().time());var h0E=j5f.cue.data.metadata.stream.fragmentId;this.playSSAIMidroll(h0E);}}}break;case 3:break;}},handleValidationEvent:function(c0E,F0E){switch(c0E[1]){case 0:X4J._validationEventLogger.info("[handleValidationEvent] Validation success, transaction controller proceeding.");this.attemptToFireTransition(n1J.Validated);break;case 1:X4J._validationEventLogger.info("[handleValidationEvent] Validation failed, stopping playback.");this.attemptToFireTransition(n1J.Stop,[{interruptMode:"error",description:F0E.errorResponse.desc}]);break;}},fireSSAIMidrollRequest:function(U0E){var R0E=this._fsm.currentState();if(R0E==J1J.Ads_Beginning||R0E==J1J.Ads_Playback){X4J._logger.info("[fireSSAIMidrollRequest] Already in an ad break; skipping midroll request");return;}X4J._logger.info("[fireSSAIMidrollRequest] fragmentId: "+U0E);var q0E=[{type:g4J.Midroll,custom:{fragmentId:U0E}}];var o0E=new r0y("ssai-temp-refactor-me-id",q0E,this._appliedPlayerConfig.ads,{isLive:this._playlistItem.contentEntry().isLive()});this._adsModule.processAdCommand(o0E);},playSSAIMidroll:function(l0E){var t0E=this._fsm.currentState();if(t0E==J1J.Ads_Beginning||t0E==J1J.Ads_Playback){X4J._logger.info("[playSSAIMidroll] Already in an ad break; skipping midroll play request");return;}X4J._logger.info("[playSSAIMidroll] fragmentId: "+l0E);this.attemptToFireTransition(n1J.Ads_Begin,[{type:g4J.Midroll,fragmentId:l0E}]);},addTask:function(G0E){var m0E=p1J(this,this.removeTask);var K0E=G0E;G0E.onCompleted(function(){m0E(K0E);});this._tasks.push(G0E);return G0E;},removeTask:function(N0E){this._tasks=this._tasks.filter(function(a0E){return a0E.id()!=N0E.id();});},cancelAllTasks:function(){while(this._tasks.length>0)this._tasks.shift().cancel();},notifyStateChanged:function(g0E,P0E,M0E){var b0E=new S9J(g0E,P0E,M0E);this._events.stateChanged.dispatch(b0E);},notifyModuleNotificationEvent:function(L0E){this._events.moduleNotification.dispatch(L0E);},init:function(x0E){this.doInit(x0E);return this;},currentState:function(){return this._fsm.currentState();},isRunning:function(){var O0E=this.currentState()!=null;var H0E=this._fsm.cannotFire(n1J.Initialize);var T0E=O0E&&H0E;return T0E;},start:function(d0E){this.doStart(d0E);return this;},handlePlayerNotification:function(v0E){this.doHandlePlayerNotification(v0E);return this;},propagateCurrentNotification:function(){this.doPropagateCurrentNotification();return this;},completeCurrentNotification:function(){this.doCompleteCurrentNotification();return this;},processCommand:function(V0E){this.doProcessCommand(V0E);return this;},stop:function(){this.doStop();return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},__class__:X4J};var v9J=function(){};O1J["com.turner.top.sdk.core.player.controllers.transaction.TransactionHandlers"]=v9J;v9J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","TransactionHandlers"];v9J.handleInitialize=function(z0E,A0E){var Z0E=z0E.initConfigData;var B0E=z0E.userConfigData;var W0E=z0E.playOptions;var p0E=W0E==null?{}:W0E;var n0E=!Object.prototype.hasOwnProperty.call(Z0E,"config")?{}:Z1J.field(Z0E,"config");var s0E=B0E==null?{}:B0E;var J0E=!Object.prototype.hasOwnProperty.call(p0E,"config")?{}:Z1J.field(p0E,"config");var e0E=N4J.createConfig({},[n0E,s0E,J0E]);var S0E={contentSelection:q3J.handleContentSelection,contentTransforms:[q3J.handleContentTransform],tokenAuth:B9J.handleTokenAuth};A0E.resolve({playerConfig:e0E,handlers:S0E});};v9J.handlePrepare=function(Q0E,X1E){var u1E=Q0E.playlistItem;var y0E=Q0E.contentFileData;var j0E=Q0E.playerConfig;var I0E=Q0E.handlers;var E0E=g9J.parse(y0E.url);var i0E=E0E.queryAsMap();if(E0E.host=="manifest.auditude.com"){var k0E=(!Object.prototype.hasOwnProperty.call(i0E,"pttrackingversion")?null:Z1J.field(i0E,"pttrackingversion"))=="v2"?"v2":"v1";j0E.features=N4J.setSSAIFeature(j0E.features,true);j0E.features.ssai.version=k0E;if(k0E=="v2"){var r0E=function(C1E,D1E){var h1E=C1E.contentFileData;var f1E=new r7J(h1E.url);f1E.onData=function(c1E){try{var w1E=JSON.parse(c1E);var Y1E=Z1J.field(w1E,"Master-M3U8");h1E.url=Y1E;D1E.resolve(h1E);}catch(F1E){D1E.reject("Unable to parse SSAI v2 manifest response");}};f1E.onError=function(R1E){D1E.reject("Unable to retrieve SSAI v2 master manifest");};f1E.request();};I0E.contentTransforms.push(r0E);}}if(j0E.player!=null){if(j0E.player.useNativeControls){j0E.ads.useNativeControls=true;j0E.media.useNativeControls=true;}}X1E.resolve({playerConfig:j0E,handlers:I0E});};v9J.handleConfigure=function(o1E,Q1E){var g1E=o1E.modules;var t1E=o1E.playlistItem;var T1E=o1E.contentFileData;var q1E=o1E.playerConfig;var L1E=o1E.monitors;var U1E=q1E.features;var m1E=t1E.contentEntry().isLive();var l1E=new C2J();l1E.init();var K1E={};var a1E={external:new s8J(),internal:new s8J()};var j1E=t1E.contentEntry().segments();var b1E=j1E.length>0;var x1E=C9J.get(U1E,"mediaAcceleration")==null;var O1E=C9J.get(U1E,"tve")==null;var H1E=C9J.get(U1E,"ssai")==null;var M1E=C9J.get(U1E,"dai")==null;var d1E=C9J.get(U1E,"amazona9")==null;var v1E=C9J.get(U1E,"gdpr")==null;if(x1E){N4J.setMediaAccelerationFeature(U1E,true);}if(M1E){N4J.setDAIFeature(U1E,m1E);}if(O1E){N4J.setTVEFeature(U1E,b1E&&!m1E);}if(H1E){N4J.setSSAIFeature(U1E,false);}if(d1E){N4J.setAmazonA9Feature(U1E,false);}if(v1E){N4J.setGDPRFeature(U1E,true);}if(m1E){var V1E=new F2J();var p1E=new s6J();var Z1E=new f8J();var B1E=new q2J();var W1E=new o6J();K1E={timeline:V1E,adRequest:p1E,adPlay:Z1E,adMidroll:B1E,media:W1E};}else{var z1E=new G2J();var S1E=new s6J();var e1E=new f8J();var n1E=new h9J();var s1E=new o6J();K1E={timeline:z1E,adRequest:S1E,adPlay:e1E,adMidroll:n1E,media:s1E};if(b1E){c8J.addSegmentingTransforms(a1E.external,l1E);}}var P1E=new t7J().init({playlistItem:t1E,configMetadata:q1E.metadata});P1E.initConfigTokenReplacement(q1E);var A1E={playlistItem:t1E,playerConfig:q1E,contentFileData:T1E,monitors:L1E};var G1E=0;while(G1E<g1E.length){var N1E=[g1E[G1E]];++G1E;var J1E=function(k1E){return function(i1E){v9J._logger.info("[handleComponentSetup] "+d1J.string(k1E[0].type())+" - cb fired");};}(N1E);N1E[0].handleComponentSetup(A1E,J1E);}Q1E.resolve({playerConfig:q1E,timeline:l1E,strategies:K1E,transforms:a1E,replacer:P1E});};var h3J=function(I1E,E1E,y1E){K2J.call(this,y1E);this._taskHandlers=I1E;this._pipe=E1E;};O1J["com.turner.top.sdk.core.player.controllers.transaction.BaseTransactionTaskArray1"]=h3J;h3J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","BaseTransactionTaskArray1"];h3J.__super__=K2J;h3J.prototype=v1J(K2J.prototype,{_taskHandlers:null,_pipe:null,_taskHandlerIndex:null,doExecute:function(r1E){this._taskHandlerIndex=-1;this.executeNextHandler(r1E);},executeNextHandler:function(X4E){var u4E=this;this._taskHandlerIndex++;var h4E=this._taskHandlers[this._taskHandlerIndex];h4E(X4E,{resolve:function(f4E){if(u4E._taskHandlerIndex==u4E._taskHandlers.length-1){u4E.handleResolved(f4E);}else{var D4E=u4E._pipe(X4E,f4E);u4E.executeNextHandler(D4E);}},reject:function(C4E){u4E.handleRejected(C4E);}});},__class__:h3J});var B8y=function(w4E,Y4E){h3J.call(this,w4E,this.createPipe(),Y4E);};O1J["com.turner.top.sdk.core.player.controllers.transaction.ContentTransformTask"]=B8y;B8y.__name__=["com","turner","top","sdk","core","player","controllers","transaction","ContentTransformTask"];B8y.__super__=h3J;B8y.prototype=v1J(h3J.prototype,{createPipe:function(){return function(c4E,F4E){c4E.contentFileData=F4E;return c4E;};},__class__:B8y});var y8y=function(R4E,U4E){N2J.call(this,U4E);this._taskHandler=R4E;};O1J["com.turner.top.sdk.core.player.controllers.transaction.BaseTransactionTask0"]=y8y;y8y.__name__=["com","turner","top","sdk","core","player","controllers","transaction","BaseTransactionTask0"];y8y.__super__=N2J;y8y.prototype=v1J(N2J.prototype,{_taskHandler:null,doExecute:function(){this._taskHandler(this.createResolver());},__class__:y8y});var h8J=function(q4E,o4E){K2J.call(this,o4E);this._taskHandler=q4E;};O1J["com.turner.top.sdk.core.player.controllers.transaction.BaseTransactionTask1"]=h8J;h8J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","BaseTransactionTask1"];h8J.__super__=K2J;h8J.prototype=v1J(K2J.prototype,{_taskHandler:null,doExecute:function(t4E){this._taskHandler(t4E,this.createResolver());},__class__:h8J});var A8J=function(){};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.ITransactionStrategy"]=A8J;A8J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","ITransactionStrategy"];A8J.prototype={processModuleNotification:null,updateConfig:null,cancel:null,destroy:null,__class__:A8J};var O5y=function(){this._requestIndex=0;this._cuepointSequence=1;};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.ads.AdRequestUtils"]=O5y;O5y.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","ads","AdRequestUtils"];O5y.prototype={_requestIndex:null,_cuepointSequence:null,requestId:function(){return"request-"+this._requestIndex++;},resetForPlay:function(){this._cuepointSequence=1;},cuepointSequence:function(){return this._cuepointSequence++;},__class__:O5y};var n8y=function(){};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.ads.IContentAdPlayStrategy"]=n8y;n8y.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","ads","IContentAdPlayStrategy"];n8y.__interfaces__=[A8J];n8y.prototype={init:null,playAdsByType:null,__class__:n8y};var f8J=function(){this.resetData();};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.ads.DefaultContentAdPlayStrategy"]=f8J;f8J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","ads","DefaultContentAdPlayStrategy"];f8J.__interfaces__=[n8y];f8J.prototype={_adsConfig:null,_playlistItem:null,_adsRequestStrategy:null,_adsModule:null,resetData:function(){},doUpdateConfig:function(l4E){i1J.extend(this._adsConfig,l4E.ads);},doPlayAdsByType:function(G4E){f8J._logger.debug("[doPlayAdsByType] Attempting to play ad with type: "+d1J.string(G4E));var m4E=new D8J(G4E);this._adsModule.processAdCommand(m4E);},doProcessModuleNotification:function(K4E){},init:function(N4E){this._adsConfig=N4E.config.ads;this._playlistItem=N4E.playlistItem;this._adsRequestStrategy=N4E.adRequestStrategy;this._adsModule=N4E.adsModule;return this;},updateConfig:function(a4E){this.doUpdateConfig(a4E);return this;},processModuleNotification:function(b4E){this.doProcessModuleNotification(b4E);},playAdsByType:function(g4E){this.doPlayAdsByType(g4E);},cancel:function(){this.resetData();},destroy:function(){this.cancel();this._adsConfig=null;this._playlistItem=null;this._adsRequestStrategy=null;this._adsModule=null;},__class__:f8J};var e8y=function(){};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.ads.IContentAdRequestStrategy"]=e8y;e8y.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","ads","IContentAdRequestStrategy"];e8y.__interfaces__=[A8J];e8y.prototype={init:null,requestAds:null,__class__:e8y};var s6J=function(){this._requestUtils=new O5y();this.resetData();};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.ads.DefaultContentAdRequestStrategy"]=s6J;s6J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","ads","DefaultContentAdRequestStrategy"];s6J.__interfaces__=[e8y];s6J.prototype={_requestMap:null,_adsModule:null,_adsConfig:null,_playlistItem:null,_replacer:null,_requestUtils:null,_featuresConfig:null,_enabledFeatureKeys:null,_activeFeatureResolvers:null,_canceled:null,resetData:function(){this._requestUtils.resetForPlay();this._requestMap=new b4J();this._enabledFeatureKeys=[];this._activeFeatureResolvers=new b4J();},doInit:function(P4E){this._adsConfig=P4E.config.ads;this._featuresConfig=P4E.config.features;this._playlistItem=P4E.playlistItem;this._adsModule=P4E.adsModule;this._replacer=P4E.replacer;this.setEnabledFeatures();},setEnabledFeatures:function(){if(this._featuresConfig.amazona9.enabled){this._enabledFeatureKeys.push("amazona9");}if(this._featuresConfig.gdpr.enabled){this._enabledFeatureKeys.push("gdpr");}},doUpdateConfig:function(M4E){i1J.extend(this._adsConfig,M4E.ads);},doRequestAds:function(d4E,H4E){var x4E=i1J.extendWith({},[this._adsConfig,H4E==null?{}:H4E]);this._replacer.configTokenReplacement(x4E);var L4E={isLive:this._playlistItem.contentEntry().isLive()};L4E.duration=L4E.isLive?9999999:this._playlistItem.contentEntry().trt();var O4E=new r0y(this._requestUtils.requestId(),this.normalizeOpportunities(d4E),x4E,L4E);s6J._logger.debug("[doRequestAds] Firing ad request: "+O4E.id);var T4E=g2J.create0(this.queueRequest(O4E)).execute();return T4E;},normalizeOpportunities:function(p4E){var v4E=0;while(v4E<p4E.length){var V4E=p4E[v4E];++v4E;if(V4E.type==g4J.Midroll){if(V4E.cuepointSequence==null){var Z4E=this._requestUtils.cuepointSequence();s6J._logger.debug("[normalizeOpportunities] adding a cuepointSequence of "+Z4E);V4E.cuepointSequence=Z4E;}}}return p4E;},queueRequest:function(W4E){var B4E=this;return function(Q4E){var z4E=W4E.id;var e4E=B4E._requestMap;if(E1J[z4E]!=null){e4E.setReserved(z4E,Q4E);}else{e4E.h[z4E]=Q4E;}if(B4E._enabledFeatureKeys.length==0){s6J._logger.debug("[queueRequest] There are no enabled features. Ad request proceeding.");if(B4E._canceled){s6J._logger.info("[sendAdRequest] request canceled");}else{B4E._adsModule.processAdCommand(W4E);}return;}s6J._logger.debug("[queueRequest] Enabled features: "+d1J.string(B4E._enabledFeatureKeys));var n4E=W4E.configData;var s4E=!Object.prototype.hasOwnProperty.call(n4E,"kvps")?{}:Z1J.field(n4E,"kvps");var j4E=function(I4E){var r4E=Z1J.field(B4E._featuresConfig,I4E);var E4E=B4E.getResolverForFeature(I4E);if(E4E==null){s6J._logger.warn("[queueRequest] Unknown feature type: "+I4E);return null;}s6J._logger.debug("[queueRequest] Initializing feature resolver: "+I4E);E4E.init(r4E).onResolved(function(u6E){s6J._logger.debug("[queueRequest] Feature resolved successfully: "+d1J.string(u6E));if(u6E!=null&&u6E.data!=null&&u6E.data.kvps!=null){i1J.extend(s4E,u6E.data.kvps);}return;}).onCompleted(function(){B4E._activeFeatureResolvers.remove(I4E);if(!B4E._activeFeatureResolvers.keys().hasNext()){s6J._logger.debug("[queueRequest] All feature tasks complete, sending request.");W4E.configData.kvps=s4E;if(B4E._canceled){s6J._logger.info("[sendAdRequest] request canceled");}else{B4E._adsModule.processAdCommand(W4E);}}return;});var y4E=B4E._activeFeatureResolvers;if(E1J[I4E]!=null){y4E.setReserved(I4E,E4E);}else{y4E.h[I4E]=E4E;}return E4E;};var J4E=[];var S4E=0;var A4E=B4E._enabledFeatureKeys;while(S4E<A4E.length){var i4E=A4E[S4E];++S4E;J4E.push(j4E(i4E));}var k4E=J4E;k4E.filter(function(h6E){var X6E=h6E!=null;s6J._logger.debug("[queueRequest] Checking if feature resolver exists: "+(X6E==null?"null":""+X6E)+".");return X6E;}).map(function(f6E){s6J._logger.debug("[queueRequest] Executing feature resolver.");return f6E.execute();});};},getResolverForFeature:function(D6E){switch(D6E){case"amazona9":return new O7J();case"gdpr":return new e7J();default:return null;}},handleAdRequestSuccess:function(c6E){var C6E=c6E.response.id;var w6E=this._requestMap;if(!(E1J[C6E]!=null?w6E.existsReserved(C6E):w6E.h.hasOwnProperty(C6E))){s6J._logger.warn("[handleAdRequestSuccess] Unable to find request for id: "+C6E);return;}var Y6E=this._requestMap;var F6E=E1J[C6E]!=null?Y6E.getReserved(C6E):Y6E.h[C6E];this._requestMap.remove(C6E);s6J._logger.debug("[handleAdRequestSuccess] Successfully resolved request: "+C6E);F6E.resolve(c6E.response);},handleAdRequestError:function(o6E){var R6E=o6E.request.id;var U6E=this._requestMap;if(!(E1J[R6E]!=null?U6E.existsReserved(R6E):U6E.h.hasOwnProperty(R6E))){s6J._logger.warn("[handleAdRequestError] Unable to find request for id: "+R6E);return;}var q6E=this._requestMap;var t6E=E1J[R6E]!=null?q6E.getReserved(R6E):q6E.h[R6E];this._requestMap.remove(R6E);s6J._logger.warn("[handleAdRequestSuccess] Unable to resolve request: "+R6E);t6E.reject(o6E.error);},doProcessModuleNotification:function(l6E){var G6E=l6E.eventCategory;if(G6E[1]==1){var m6E=l6E.moduleType;if(m6E[1]==1){this.handleAdEvent(S1J.__cast(l6E.eventType,s1J),S1J.__cast(l6E.eventResult,Q2J));}}},handleAdEvent:function(N6E,K6E){switch(N6E[1]){case 2:this.handleAdRequestSuccess(K6E);break;case 4:this.handleAdRequestError(K6E);break;default:}},init:function(a6E){this.doInit(a6E);return this;},updateConfig:function(b6E){this.doUpdateConfig(b6E);return this;},processModuleNotification:function(g6E){this.doProcessModuleNotification(g6E);},requestAds:function(P6E,M6E){return this.doRequestAds(P6E,M6E);},cancel:function(){this.resetData();this._canceled=true;var x6E=this._activeFeatureResolvers.keys();while(x6E.hasNext()){var L6E=x6E.next();var O6E=this._activeFeatureResolvers;var H6E=E1J[L6E]!=null?O6E.getReserved(L6E):O6E.h[L6E];H6E.stop();}},destroy:function(){this.cancel();this._adsModule=null;this._adsConfig=null;this._playlistItem=null;},__class__:s6J};var u5J=function(){};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.ads.IContentAdMidrollStrategy"]=u5J;u5J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","ads","IContentAdMidrollStrategy"];u5J.__interfaces__=[A8J];u5J.prototype={init:null,addOpportunity:null,removeOpportunity:null,playAdsByMarker:null,__class__:u5J};var q2J=function(){this.resetData();};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.ads.LiveContentAdMidrollStrategy"]=q2J;q2J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","ads","LiveContentAdMidrollStrategy"];q2J.__interfaces__=[u5J];q2J.prototype={_opportunityMap:null,_requestingMap:null,_activeOpportunity:null,_activeOpportunityCond:null,_replacer:null,_playerConfig:null,_playlistItem:null,_adsRequestStrategy:null,_adsModule:null,_expectedAdBreakDuration:null,_adBreakStart:null,_actualAdBreakDuration:null,resetData:function(){this._opportunityMap=new u7J();this._requestingMap=[];this.resetActiveOpportunity();},doUpdateConfig:function(T6E){i1J.extendDeep(this._playerConfig,T6E);},resetActiveOpportunity:function(){this._activeOpportunity=null;if(this._activeOpportunityCond!=null){this._activeOpportunityCond.stop();}this._activeOpportunityCond=null;},doRequestAds:function(d6E){if(this._opportunityMap.h.__keys__[d6E.__id__]==null){q2J._logger.warn("[doRequestAds] Opportunity does not exist: "+d1J.string(d6E));return false;}var J6E=this._opportunityMap.h[d6E.__id__].fulfilled;if(!J6E&&this._requestingMap.indexOf(d6E)==-1){this._requestingMap.push(d6E);var V6E=d6E.range().begin;var p6E=d6E.range().duration;q2J._logger.info("[doRequestAds] time: "+V6E+", duration: "+p6E);var Q6E=[{type:g4J.Midroll,time:V6E,minDuration:p6E,maxDuration:p6E,persist:true,custom:{time:V6E}}];var W6E=p1J(this,this.handleAdRequestSuccess);var z6E=d6E;var B6E=function(k6E){W6E(z6E,k6E);};var e6E=p1J(this,this.handleAdRequestError);var n6E=d6E;var s6E=function(i6E){e6E(n6E,i6E);};var Z6E={};var A6E=this._playerConfig.features.dai.streamAssetId;var j6E=this._playerConfig.features.dai.useStreamAssetId&&d6E.metadata()!=null&&d6E.metadata().streamMetadata!=null;var v6E;if(j6E){var S6E=d6E.metadata().streamMetadata.assetId;Z6E["caid"]=S6E;v6E={assetId:A6E};}else{v6E=null;}this._replacer.configTokenReplacement(v6E,Z6E);q2J._logger.debug("[doRequestAds] Request strategy config override: "+d1J.string(v6E));this._adsRequestStrategy.requestAds(Q6E,v6E).onResolved(B6E).onRejected(s6E);}return true;},handleAdRequestSuccess:function(I6E,E6E){if(I6E!=null&&this._opportunityMap.h.__keys__[I6E.__id__]!=null){q2J._logger.info("[handleAdRequestSuccess] marking opportunity as fulfilled, with success: "+d1J.string(I6E));Y4J.remove(this._requestingMap,I6E);this._opportunityMap.set(I6E,{fulfilled:true,success:true});}},handleAdRequestError:function(y6E,r6E){if(y6E!=null&&this._opportunityMap.h.__keys__[y6E.__id__]!=null){q2J._logger.info("[handleAdRequestError] marking opportunity as fulfilled, with error: "+d1J.string(y6E));Y4J.remove(this._requestingMap,y6E);this._opportunityMap.set(y6E,{fulfilled:true,success:false});}},doPlayAdsByMarker:function(h2E,u2E){var X2E=this;if(this._activeOpportunity!=null){q2J._logger.error("[doPlayAds] Attempting to play an ad with an opportunity already active");return;}this._activeOpportunity=u2E;q2J._logger.info("[doPlayAds] opportunity: "+d1J.string(this._activeOpportunity));if(this._opportunityMap.h[u2E.__id__].fulfilled){this.sendPlayAdsCommand(h2E,u2E);}else{this._activeOpportunityCond=M2J.createTaskWith({condition:function(){return X2E._opportunityMap.h[u2E.__id__].fulfilled;},success:function(){X2E.sendPlayAdsCommand(h2E,u2E);return;},error:function(){X2E.sendPlayAdsCommand(h2E,u2E);return;},interval:20,maxTries:500});this._activeOpportunityCond.start();}},sendPlayAdsCommand:function(w2E,Y2E){var D2E=Y2E.range().begin;var c2E=Y2E.range().duration;var C2E={custom:{time:D2E}};var f2E=w2E-D2E;q2J._logger.info("[sendPlayAdsCommand] "+w2E+" | "+D2E+" | "+f2E);if(f2E>1.0){q2J._logger.info("[sendPlayAdsCommand] continuation detected - delta: "+f2E);var F2E=true;if(F2E){C2E.maxDuration=c2E-f2E;q2J._logger.info("[sendPlayAdsCommand] using max duration of "+C2E.maxDuration);}}var R2E=new D8J(g4J.Midroll,C2E);this._adsModule.processAdCommand(R2E);},handleAdConsumerCompleted:function(){this.resetActiveOpportunity();},doProcessModuleNotification:function(U2E){var q2E=U2E.eventCategory;if(q2E[1]==1){var o2E=U2E.moduleType;if(o2E[1]==1){this.handleAdEvent(S1J.__cast(U2E.eventType,s1J),S1J.__cast(U2E.eventResult,Q2J));}}},handleAdEvent:function(t2E,l2E){switch(t2E[1]){case 6:this._expectedAdBreakDuration=-1;this._adBreakStart=-1;this._actualAdBreakDuration=-1;break;case 11:this._adBreakStart=new Date().getTime()/1000;break;case 12:if(this._expectedAdBreakDuration==-1){this._expectedAdBreakDuration=l2E.duration;}break;case 20:case 21:this._actualAdBreakDuration=new Date().getTime()/1000-this._adBreakStart;if(this._activeOpportunity!=null){q2J._logger.info("[handleAdEvent] Finished: ad duration - expected: "+this._activeOpportunity.range().duration+", returned: "+this._expectedAdBreakDuration+", actual: "+this._actualAdBreakDuration);}this.handleAdConsumerCompleted();break;default:}},init:function(G2E){this._playerConfig=G2E.config;this._playlistItem=G2E.playlistItem;this._adsRequestStrategy=G2E.adRequestStrategy;this._adsModule=G2E.adsModule;this._replacer=G2E.replacer;return this;},updateConfig:function(m2E){this.doUpdateConfig(m2E);return this;},processModuleNotification:function(K2E){this.doProcessModuleNotification(K2E);},addOpportunity:function(N2E){if(this._opportunityMap.h.__keys__[N2E.__id__]!=null){q2J._logger.warn("[addOpportunity] Opportunity already exists: "+d1J.string(N2E));return;}this._opportunityMap.set(N2E,{fulfilled:false,success:false});this.doRequestAds(N2E);},removeOpportunity:function(a2E){if(this._opportunityMap.h.__keys__[a2E.__id__]==null){q2J._logger.warn("[removeOpportunity] Opportunity does not exist: "+d1J.string(a2E));return;}this._opportunityMap.remove(a2E);},playAdsByMarker:function(b2E,g2E){this.doPlayAdsByMarker(b2E,g2E);},cancel:function(){this.resetData();},destroy:function(){this.cancel();this._playerConfig=null;this._playlistItem=null;this._adsRequestStrategy=null;this._adsModule=null;},__class__:q2J};var h9J=function(){this.resetData();};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.ads.VodContentAdMidrollStrategy"]=h9J;h9J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","ads","VodContentAdMidrollStrategy"];h9J.__interfaces__=[u5J];h9J.prototype={_opportunityMap:null,_activeOpportunity:null,_adsConfig:null,_playlistItem:null,_adsRequestStrategy:null,_adsModule:null,_expectedAdBreakDuration:null,_adBreakStart:null,_actualAdBreakDuration:null,resetData:function(){this._opportunityMap=new u7J();this.resetActiveOpportunity();},doUpdateConfig:function(P2E){i1J.extend(this._adsConfig,P2E.ads);},resetActiveOpportunity:function(){this._activeOpportunity=null;},doPlayAdsByMarker:function(L2E,M2E){if(this._activeOpportunity!=null){h9J._logger.error("[doPlayAds] Attempting to play an ad with an opportunity already active");return;}this._activeOpportunity=M2E;h9J._logger.info("[doPlayAds] opportunity: "+d1J.string(this._activeOpportunity));this.sendPlayAdsCommand(M2E);},sendPlayAdsCommand:function(O2E){var x2E=new D8J(g4J.Midroll,{custom:{time:O2E.range().begin}});this._adsModule.processAdCommand(x2E);},handleAdConsumerCompleted:function(){this.resetActiveOpportunity();},doProcessModuleNotification:function(H2E){var T2E=H2E.eventCategory;if(T2E[1]==1){var d2E=H2E.moduleType;if(d2E[1]==1){this.handleAdEvent(S1J.__cast(H2E.eventType,s1J),S1J.__cast(H2E.eventResult,Q2J));}}},handleAdEvent:function(v2E,V2E){switch(v2E[1]){case 6:this._expectedAdBreakDuration=-1;this._adBreakStart=-1;this._actualAdBreakDuration=-1;break;case 11:this._adBreakStart=new Date().getTime()/1000;break;case 12:if(this._expectedAdBreakDuration==-1){this._expectedAdBreakDuration=V2E.duration;}break;case 20:case 21:this._actualAdBreakDuration=new Date().getTime()/1000-this._adBreakStart;if(this._activeOpportunity!=null){h9J._logger.info("[handleAdEvent] Finished: ad duration - expected: "+this._activeOpportunity.range().duration+", returned: "+this._expectedAdBreakDuration+", actual: "+this._actualAdBreakDuration);}this.handleAdConsumerCompleted();break;default:}},init:function(p2E){this._adsConfig=p2E.config.ads;this._playlistItem=p2E.playlistItem;this._adsRequestStrategy=p2E.adRequestStrategy;this._adsModule=p2E.adsModule;return this;},updateConfig:function(Z2E){this.doUpdateConfig(Z2E);return this;},processModuleNotification:function(B2E){this.doProcessModuleNotification(B2E);},addOpportunity:function(W2E){if(this._opportunityMap.h.__keys__[W2E.__id__]!=null){h9J._logger.warn("[addOpportunity] Opportunity already exists: "+d1J.string(W2E));return;}this._opportunityMap.set(W2E,{fulfilled:true,success:true});},removeOpportunity:function(z2E){if(this._opportunityMap.h.__keys__[z2E.__id__]==null){h9J._logger.warn("[removeOpportunity] Opportunity does not exist: "+d1J.string(z2E));return;}this._opportunityMap.remove(z2E);},playAdsByMarker:function(S2E,e2E){this.doPlayAdsByMarker(S2E,e2E);},cancel:function(){this.resetData();},destroy:function(){this.cancel();this._adsConfig=null;this._playlistItem=null;this._adsRequestStrategy=null;this._adsModule=null;},__class__:h9J};var c2J=O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.media.ContentMediaMode"]={__ename__:["com","turner","top","sdk","core","player","controllers","transaction","strategies","media","ContentMediaMode"],__constructs__:["Pending","Active","Passive"]};c2J.Pending=["Pending",0];c2J.Pending.toString=H1J;c2J.Pending.__enum__=c2J;c2J.Active=["Active",1];c2J.Active.toString=H1J;c2J.Active.__enum__=c2J;c2J.Passive=["Passive",2];c2J.Passive.toString=H1J;c2J.Passive.__enum__=c2J;c2J.__empty_constructs__=[c2J.Pending,c2J.Active,c2J.Passive];var z8y=function(){};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.media.IContentMediaStrategy"]=z8y;z8y.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","media","IContentMediaStrategy"];z8y.__interfaces__=[A8J];z8y.prototype={init:null,processMediaCommand:null,goPassive:null,goActive:null,__class__:z8y};var o6J=function(){this.resetData();};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.media.DefaultContentMediaStrategy"]=o6J;o6J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","media","DefaultContentMediaStrategy"];o6J.__interfaces__=[z8y];o6J.prototype={_mediaMode:null,_resolverMap:null,_taskLookup:null,_tasks:null,_activeTask:null,_mediaModule:null,_mediaConfig:null,_playlistItem:null,resetData:function(){this._resolverMap=new t3J();this._taskLookup=new b4J();if(this._mediaMode==c2J.Passive){this._mediaModule.show();}this._mediaMode=c2J.Active;if(this._tasks!=null){var n2E=0;var s2E=this._tasks;while(n2E<s2E.length){var J2E=s2E[n2E];++n2E;J2E.cancel();}}if(this._activeTask!=null){this._activeTask.cancel();}this._tasks=[];this._activeTask=null;},doUpdateConfig:function(A2E){i1J.extend(this._mediaConfig,A2E.media);},doProcessMediaCommand:function(j2E){var Q2E=j2E.type;switch(Q2E[1]){case 0:case 1:case 2:case 3:case 4:return this.createAndQueueCommandTask(j2E);default:return this.createAndResolveCommandTask(j2E);}},invokePassiveMode:function(k2E){var E2E=this;if(this._mediaMode==c2J.Passive){var I2E="media mode is already passive";o6J._logger.warn("[invokePassiveMode] "+I2E);return this.createFailedTask(I2E);}this._mediaMode=c2J.Passive;k2E=i1J.extend({pause:true,downshift:true,hide:true},k2E==null?{}:k2E);var i2E=[];if(k2E.hide){var y2E=p1J(this,this.createImmediateQueueResolver);var r2E=function(){return E2E._mediaModule.hide();};i2E.push(function(f7E){return y2E(f7E,r2E);});}if(k2E.pause){var u7E=p1J(this,this.createCommandResolver);var X7E=this.createMediaPauseCommand();i2E.push(function(D7E){return u7E(D7E,X7E);});}o6J._logger.debug("[invokePassiveMode] Sequence - queueing with options: "+d1J.string(k2E));var h7E=this.createAndQueueSeqTask(i2E);return h7E;},invokeActiveMode:function(C7E){var F7E=this;if(this._mediaMode==c2J.Active){var Y7E="media mode is already active";o6J._logger.warn("[invokeActiveMode] "+Y7E);return this.createFailedTask(Y7E);}this._mediaMode=c2J.Active;C7E=i1J.extend({jumpOver:-1,jumpTo:-1,upshift:true,resume:true,show:true},C7E==null?{}:C7E);var w7E=[];if(C7E.jumpTo>-1){var R7E=p1J(this,this.createCommandResolver);var c7E=this.createMediaSeekCommand(C7E.jumpTo);w7E.push(function(G7E){return R7E(G7E,c7E);});}if(C7E.resume){var q7E=p1J(this,this.createCommandResolver);var o7E=this.createMediaResumeCommand();w7E.push(function(m7E){return q7E(m7E,o7E);});}if(C7E.show){var t7E=p1J(this,this.createImmediateQueueResolver);var l7E=function(){return F7E._mediaModule.show();};w7E.push(function(K7E){return t7E(K7E,l7E);});}o6J._logger.debug("[invokeActiveMode] Sequence - queueing with options: "+d1J.string(C7E));var U7E=this.createAndQueueSeqTask(w7E);return U7E;},processNextTask:function(){if(this._activeTask!=null){return;}if(this._tasks.length==0){return;}this._activeTask=this._tasks.shift();this._activeTask.onCompleted(p1J(this,this.handleTaskCompleted));o6J._logger.debug("[processNextTask] Executing next task - id: "+this._activeTask.id());this._activeTask.execute();},handleTaskCompleted:function(){o6J._logger.debug("[handleTaskCompleted] id: "+this._activeTask.id());var g7E=this._taskLookup;var N7E=this._activeTask.id();var a7E=g7E;var b7E=E1J[N7E]!=null?a7E.getReserved(N7E):a7E.h[N7E];if(b7E!=null){this._taskLookup.remove(this._activeTask.id());this._resolverMap.remove(b7E);}this._activeTask=null;this.processNextTask();},queueTask:function(P7E){this._tasks.push(P7E);this.processNextTask();return P7E;},createAndQueueCommandTask:function(H7E){o6J._taskLogger.debug("[createAndQueueCommandTask] creating and queuing task for command: "+d1J.string(H7E));var T7E=this.createCommandResolver(o6J._queueId,H7E);var M7E=g2J.create0(T7E);var d7E=this._taskLookup;var L7E=M7E.id();var x7E=o6J._queueId;var O7E=d7E;if(E1J[L7E]!=null){O7E.setReserved(L7E,x7E);}else{O7E.h[L7E]=x7E;}o6J._queueId++;this.queueTask(M7E);return M7E;},createAndQueueSeqTask:function(n7E){var B7E=[];var v7E=0;while(v7E<n7E.length){var e7E=n7E[v7E];++v7E;B7E.push(e7E(o6J._queueId));}var z7E=B7E;var V7E=g2J.createSeq0(z7E);var S7E=this._taskLookup;var p7E=V7E.id();var W7E=o6J._queueId;var Z7E=S7E;if(E1J[p7E]!=null){Z7E.setReserved(p7E,W7E);}else{Z7E.h[p7E]=W7E;}o6J._queueId++;this.queueTask(V7E);return V7E;},createAndResolveCommandTask:function(J7E){var A7E=this;o6J._taskLogger.debug("[createAndResolveCommandTask] creating and executing task for command: "+d1J.string(J7E));var j7E=function(Q7E){A7E.runCommand(J7E);Q7E.resolve();return;};var s7E=g2J.create0(j7E);s7E.execute();return s7E;},createImmediateQueueResolver:function(i7E,k7E){return function(I7E){k7E();I7E.resolve();return;};},createFailedTask:function(y7E){var E7E=g2J.create0(function(r7E){r7E.reject(y7E);return;});return E7E.execute();},createCommandResolver:function(X9E,h9E){var u9E=this;return function(w9E){if(!u9E._resolverMap.h.hasOwnProperty(X9E)){var D9E=u9E._resolverMap;var C9E=new E2J();D9E.h[X9E]=C9E;}var f9E=u9E._resolverMap.h[X9E];f9E.set(h9E.type,w9E);u9E._resolverMap.h[X9E]=f9E;u9E.runCommand(h9E);return;};},runCommand:function(Y9E){o6J._taskLogger.debug("[runCommand] "+d1J.string(Y9E));this._mediaModule.processMediaCommand(Y9E);},createMediaPauseCommand:function(){var c9E=new l0y();return c9E;},createMediaSeekCommand:function(R9E){var F9E=new B8J(R9E);return F9E;},createMediaResumeCommand:function(){var U9E=new t0y();return U9E;},resolveCommand:function(q9E){o6J._taskLogger.debug("[resolveCommand] attempting to resolve - "+d1J.string(q9E));if(this._activeTask==null){return false;}o6J._taskLogger.debug("[resolveCommand] resolving "+d1J.string(q9E)+" against active task: "+this._activeTask.id());var m9E=this._taskLookup;var t9E=this._activeTask.id();var G9E=m9E;var l9E=E1J[t9E]!=null?G9E.getReserved(t9E):G9E.h[t9E];if(!this._resolverMap.h.hasOwnProperty(l9E)){return false;}var o9E=this._resolverMap.h[l9E];if(o9E==null||!o9E.exists(q9E)){return false;}var K9E=o9E.get(q9E);o9E.remove(q9E);this._resolverMap.h[l9E]=o9E;o6J._taskLogger.debug("[resolveCommand] "+d1J.string(q9E)+" resolved");K9E.resolve();return true;},doProcessModuleNotification:function(N9E){var a9E=N9E.eventCategory;if(a9E[1]==1){var b9E=N9E.moduleType;if(b9E[1]==0){this.handleMediaEvent(S1J.__cast(N9E.eventType,W1J),S1J.__cast(N9E.eventResult,m4J));}}},handleMediaEvent:function(M9E,g9E){switch(M9E[1]){case 1:this.handleCommandRejected(g9E.command);break;case 7:this.resolveCommand(d4J.Play);break;case 11:o6J._logger.info("[handleMediaEvent] Seeking finished: "+d1J.string(g9E));var P9E=this.resolveCommand(d4J.Seek);if(!P9E){this.resolveCommand(d4J.Seek_To_Live);}break;case 16:this.resolveCommand(d4J.Pause);break;case 17:this.resolveCommand(d4J.Resume);break;default:}},handleCommandRejected:function(x9E){o6J._logger.warn("[handleCommandRejected] command rejected: "+d1J.string(x9E));var L9E;switch(x9E[1]){case 1:L9E=d4J.Pause;break;case 2:L9E=d4J.Resume;break;case 3:L9E=d4J.Seek;break;case 4:L9E=d4J.Seek_To_Live;break;case 9:L9E=d4J.Stop;break;default:L9E=null;}if(L9E!=null){this.resolveCommand(L9E);}},init:function(O9E,H9E,T9E){this._mediaModule=O9E;this._mediaConfig=H9E;this._playlistItem=T9E;},updateConfig:function(d9E){this.doUpdateConfig(d9E);},processModuleNotification:function(v9E){this.doProcessModuleNotification(v9E);},processMediaCommand:function(V9E){return this.doProcessMediaCommand(V9E);},goPassive:function(p9E){return this.invokePassiveMode(p9E);},goActive:function(Z9E){return this.invokeActiveMode(Z9E);},cancel:function(){this.resetData();},destroy:function(){this.cancel();this._mediaModule=null;this._mediaConfig=null;this._playlistItem=null;},__class__:o6J};var u1y=function(){};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.timeline.IContentTimelineStrategy"]=u1y;u1y.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","timeline","IContentTimelineStrategy"];u1y.__interfaces__=[A8J];u1y.prototype={init:null,populateTimeline:null,__class__:u1y};var F2J=function(){this._pruneMonitor=null;this._lastMediaTime=0;this._lastTimeUpdate=0;};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.timeline.LiveContentTimelineStrategy"]=F2J;F2J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","timeline","LiveContentTimelineStrategy"];F2J.__interfaces__=[u1y];F2J.prototype={_config:null,_timeline:null,_playlistItem:null,_adsRequestStrategy:null,_timer:null,_pruneMonitor:null,_mediaState:null,_lastMediaTime:null,_markerApproaching:null,_lastTimeUpdate:null,_cueOutMetadata:null,_assetIdMetadata:null,doInit:function(B9E){this._config=B9E.config;this._playlistItem=B9E.playlistItem;this._timeline=B9E.timeline;this._adsRequestStrategy=B9E.adRequestStrategy;var W9E=B9E.monitors;var z9E="pruning";this._pruneMonitor=!Object.prototype.hasOwnProperty.call(W9E,z9E)?null:Z1J.field(W9E,z9E);if(this._pruneMonitor!=null){this.setPruningListeners(true);}else{F2J._logger.debug("[doInit] no prune monitor found");}this.addStrategyListeners();},onPruneEvent:function(J9E){var S9E=J9E.pruneType;if(S9E[1]==1){var e9E=0;var n9E=Infinity;var s9E=new U6J(e9E,n9E);this._timeline.prune(s9E);}},doUpdateConfig:function(A9E){i1J.extendDeep(this._config,A9E);},doPopulateTimeline:function(j9E){if(N4J.validAds(this._config)){this.makeInitialAdRequest(j9E);}else{j9E.resolve();}},setPruningListeners:function(k9E){var Q9E=this._pruneMonitor;if(Q9E==null){return;}if(k9E){Q9E.events().prune.listen(p1J(this,this.onPruneEvent));}else{Q9E.events().prune.unlisten(p1J(this,this.onPruneEvent));}},makeInitialAdRequest:function(I9E){var i9E=[{type:g4J.Preroll}];this._adsRequestStrategy.requestAds(i9E).onCompleted(function(){I9E.resolve();return;});},doProcessModuleNotification:function(E9E){var y9E=E9E.eventCategory;if(y9E[1]==1){var r9E=E9E.moduleType;switch(r9E[1]){case 0:this.handleMediaEvent(S1J.__cast(E9E.eventType,W1J),S1J.__cast(E9E.eventResult,m4J));break;case 2:this.handleCueEvent(S1J.__cast(E9E.eventType,N6J),S1J.__cast(E9E.eventResult,n2J));break;default:}}},handleMediaEvent:function(f8E,u8E){switch(f8E[1]){case 2:this._mediaState=u8E.currentState;this.checkAndToggleTimer();break;case 6:var X8E=u8E.initialTimedMetadata;this._cueOutMetadata=this.filterToCueOutMetadata(X8E);this._assetIdMetadata=this.filterToAssetIdMetadata(X8E);break;case 11:this._lastTimeUpdate=0;var h8E=u8E.time;this.updateTimelineTime(h8E);break;case 15:this._lastMediaTime=u8E.time;this.updateTimelineTime(this._lastMediaTime);break;default:}},handleCueEvent:function(K8E,N8E){var D8E=N8E.cue;if(K8E[1]==1){var q8E=D8E.type;switch(q8E[1]){case 2:F2J._logger.info("[handleCueEvent] adding marker for "+d1J.string(D8E));var o8E=this.findAssetId(D8E.data.time);var l8E=D8E.data.result;this._timeline.addMarker(k9J.createAdMidroll(D8E.data.time,l8E.duration,{streamMetadata:{fragmentId:this.getFragmentIdFromCueData(D8E.data),assetId:this.parseAssetId(o8E)}},{startBuffer:0.250}));break;case 3:var w8E=D8E.data.time;var G8E=U6J.create(w8E-0.5,1);var U8E=this._timeline.markersForRange(G8E).filter(function(a8E){return a8E.type()==E6J.Ad_Midroll;});var t8E=0<U8E.length?U8E[0]:null;if(t8E==null){var Y8E=this.findCueOut(w8E);var c8E=D8E.data.result;var m8E=c8E.elapsed;var R8E=Y8E!=null?Y8E.time:w8E-m8E;var F8E=Y8E!=null?Y8E.data.duration:c8E.duration;var C8E=c8E.caid;if(C8E==null){F2J._logger.warn("[handleCueEvent] caid is not on the continuation cue; scanning for the asset id");C8E=this.findAssetId(w8E);}F2J._logger.info("[handleCueEvent] adding marker from cont at: "+R8E+" | duration: "+F8E+" | caid: "+C8E);this._timeline.addMarker(k9J.createAdMidroll(R8E,F8E,{streamMetadata:{fragmentId:this.getFragmentIdFromCueData(D8E.data),assetId:this.parseAssetId(C8E)}},{startBuffer:0.250}));}break;case 5:this._assetIdMetadata.push({time:D8E.data.time,data:D8E.data.result});break;default:}}},parseAssetId:function(b8E){if(b8E!=null&&!new m7J("^0x","i").match(b8E)){b8E="0x"+b8E;}var g8E=d9J.hexToIntStr(b8E);F2J._logger.debug("[parseAssetId] given: "+b8E+", parsed: "+g8E);if(g8E!=null){return g8E;}else{return"";}},findCueOut:function(x8E){if(this._cueOutMetadata==null){return null;}var M8E=0;var L8E=this._cueOutMetadata;while(M8E<L8E.length){var P8E=L8E[M8E];++M8E;if(x8E>=P8E.time&&x8E<=P8E.time+P8E.data.duration){return P8E;}}return null;},filterToCueOutMetadata:function(v8E){var T8E=[];var d8E=new K0y();d8E.init();var O8E=0;while(O8E<v8E.length){var H8E=v8E[O8E];++O8E;var V8E=new RegExp("^#","".split("u").join(""));var p8E=H8E.metadataType.toLowerCase().replace(V8E,"");if(p8E=="ext-x-cue-out"){T8E.push({time:H8E.timeToTrigger,data:d8E.parse(H8E.content)});}}return T8E;},findAssetId:function(S8E){if(this._assetIdMetadata==null){return null;}var B8E=null;var Z8E=0;var W8E=this._assetIdMetadata;while(Z8E<W8E.length){var z8E=W8E[Z8E];++Z8E;B8E=z8E.data.caid;if(z8E.time>=S8E){break;}}return B8E;},filterToAssetIdMetadata:function(A8E){var s8E=[];var J8E=new m0y();J8E.init();var e8E=0;while(e8E<A8E.length){var n8E=A8E[e8E];++e8E;var j8E=new RegExp("^#","".split("u").join(""));var Q8E=n8E.metadataType.toLowerCase().replace(j8E,"");if(Q8E=="ext-x-asset"){s8E.push({time:n8E.timeToTrigger,data:J8E.parse(n8E.content)});}}return s8E;},getFragmentIdFromCueData:function(i8E){var k8E=i8E.metadata;if(k8E!=null){return Z1J.field(!Object.prototype.hasOwnProperty.call(k8E,"stream")?{}:Z1J.field(k8E,"stream"),"fragmentId");}else{return null;}},addStrategyListeners:function(){this._timeline.events().listen(p1J(this,this.onTimelineEvent));},onTimelineEvent:function(I8E,E8E){switch(I8E[1]){case 1:this._markerApproaching=true;this.createTimer();this.checkAndToggleTimer();break;case 2:F2J._logger.info("[onTimelineEvent] activated at "+this._lastTimeUpdate+", for range: "+E8E.marker.range());this._markerApproaching=false;this.checkAndToggleTimer();break;default:}},updateTimelineTime:function(y8E){F2J._timeLogger.debug("[updateTimelineTime] time: "+y8E);if(y8E>this._lastTimeUpdate){this._lastTimeUpdate=y8E;this._timeline.updateTime(y8E);}else{F2J._timeLogger.warn("[updateTimelineTime] Time update value is in the past; skipping");}},removeStrategyListeners:function(){this._timeline.events().unlisten(p1J(this,this.onTimelineEvent));},createTimer:function(){if(this._timer!=null){this._timer.stop();}this._timer=S0y.create({interval:10,maxCount:24,onTick:p1J(this,this.onTimerTick)});},onTimerTick:function(u3E,X3E){var r8E=this._lastMediaTime+u3E*X3E/1000;this.updateTimelineTime(r8E);},checkAndToggleTimer:function(){if(this._timer==null){return;}if(this._markerApproaching&&this._mediaState==r1J.Playing){if(!this._timer.running()){F2J._timeLogger.info("[checkAndToggleTimer] timer started");this._timer.start();}}else if(this._timer.running()){F2J._timeLogger.info("[checkAndToggleTimer] timer stopped");this._timer.stop();}},init:function(h3E){this.doInit(h3E);return this;},updateConfig:function(f3E){this.doUpdateConfig(f3E);return this;},populateTimeline:function(){return g2J.create0(p1J(this,this.doPopulateTimeline)).execute();},processModuleNotification:function(D3E){this.doProcessModuleNotification(D3E);},cancel:function(){this.setPruningListeners(false);this.removeStrategyListeners();if(this._timer!=null){this._timer.stop();}},destroy:function(){this.cancel();this._pruneMonitor=null;this._timeline=null;this._timer=null;},__class__:F2J};var G2J=function(){this._lastMediaTime=0;this._lastTimeUpdate=0;};O1J["com.turner.top.sdk.core.player.controllers.transaction.strategies.timeline.VodContentTimelineStrategy"]=G2J;G2J.__name__=["com","turner","top","sdk","core","player","controllers","transaction","strategies","timeline","VodContentTimelineStrategy"];G2J.__interfaces__=[u1y];G2J.prototype={_config:null,_timeline:null,_playlistItem:null,_adsRequestStrategy:null,_timer:null,_mediaState:null,_lastMediaTime:null,_markerFinishing:null,_lastTimeUpdate:null,doUpdateConfig:function(C3E){i1J.extendDeep(this._config,C3E);},doPopulateTimeline:function(w3E){this.addSegmentingMarkers();if(N4J.validAds(this._config)){this.makeInitialAdRequest(w3E);}else{w3E.resolve();}},addSegmentingMarkers:function(){var Y3E=this._playlistItem.contentEntry().segments();if(Y3E.length>0){var c3E=0;while(c3E<Y3E.length){var F3E=Y3E[c3E];++c3E;var R3E=k9J.createMedia(F3E.start,F3E.duration,{finishingThreshold:5});this._timeline.addMarker(R3E);G2J._logger.info("[addSegmentingMarkers] created media segment: "+d1J.string(R3E));}}},makeInitialAdRequest:function(a3E){var o3E=[{type:g4J.Preroll}];var N3E=this._config.features.tve.enabled;var q3E=this._playlistItem.contentEntry().segments();if(N3E&&q3E.length>1){var l3E=1;var m3E=q3E.length;while(l3E<m3E){var K3E=l3E++;var G3E=q3E[K3E-1];var t3E=G3E.start+G3E.duration;t3E*=Math.pow(10,4);var U3E=Math.round(t3E)/Math.pow(10,4);G2J._logger.info("[makeInitialAdRequest] Adding midroll with start time: "+U3E);this.addMidrollMarker(U3E);o3E.push({type:g4J.Midroll,time:U3E,custom:{time:U3E}});}}this._adsRequestStrategy.requestAds(o3E).onCompleted(function(){a3E.resolve();return;});},addMidrollMarker:function(g3E){var b3E=1;this._timeline.addMarker(k9J.createAdMidroll(g3E,b3E));},removeMidrollMarker:function(P3E){G2J._logger.debug("[removeMidrollMarker] Removing: "+d1J.string(P3E));this._timeline.removeMarker(P3E);},doProcessModuleNotification:function(M3E){var L3E=M3E.eventCategory;if(L3E[1]==1){var x3E=M3E.moduleType;if(x3E[1]==0){this.handleMediaEvent(S1J.__cast(M3E.eventType,W1J),S1J.__cast(M3E.eventResult,m4J));}}},handleMediaEvent:function(T3E,O3E){switch(T3E[1]){case 2:this._mediaState=O3E.currentState;this.checkAndToggleTimer();break;case 11:this._lastTimeUpdate=0;var H3E=O3E.time;this.updateTimelineTime(H3E);break;case 15:this._lastMediaTime=O3E.time;this.updateTimelineTime(this._lastMediaTime);break;default:}},addStrategyListeners:function(){this._timeline.events().listen(p1J(this,this.onTimelineEvent));},onTimelineEvent:function(V3E,d3E){switch(V3E[1]){case 3:this._markerFinishing=true;this.createTimer();this.checkAndToggleTimer();break;case 4:G2J._timelineLogger.debug("[onTimelineEvent] deactivated at "+this._lastTimeUpdate+", for range: "+d3E.marker.range());this._markerFinishing=false;this.checkAndToggleTimer();var v3E=d3E.marker.type();if(v3E[1]==1){this.removeMidrollMarker(d3E.marker);}break;default:}},updateTimelineTime:function(p3E){G2J._timeLogger.debug("[updateTimelineTime] time: "+p3E);if(p3E>this._lastTimeUpdate){this._lastTimeUpdate=p3E;this._timeline.updateTime(p3E);}else{G2J._timeLogger.warn("[updateTimelineTime] Time update value is in the past; skipping");}},removeStrategyListeners:function(){this._timeline.events().unlisten(p1J(this,this.onTimelineEvent));},createTimer:function(){if(this._timer!=null){this._timer.stop();}this._timer=S0y.create({interval:10,maxCount:24,onTick:p1J(this,this.onTimerTick),onComplete:p1J(this,this.onTimerComplete)});},onTimerTick:function(B3E,W3E){var Z3E=this._lastMediaTime+B3E*W3E/1000;G2J._timeLogger.debug("[onTimerTick] updatedTime: "+Z3E);this.updateTimelineTime(Z3E);},onTimerComplete:function(z3E,S3E){if(this._markerFinishing){this.createTimer();this.checkAndToggleTimer();}},checkAndToggleTimer:function(){if(this._timer==null){return;}if(this._markerFinishing&&this._mediaState==r1J.Playing){if(!this._timer.running()){G2J._timeLogger.info("[checkAndToggleTimer] timer started");this._timer.start();}}else if(this._timer.running()){G2J._timeLogger.info("[checkAndToggleTimer] timer stopped");this._timer.stop();}},init:function(e3E){this._config=e3E.config;this._playlistItem=e3E.playlistItem;this._timeline=e3E.timeline;this._adsRequestStrategy=e3E.adRequestStrategy;this.addStrategyListeners();return this;},updateConfig:function(n3E){this.doUpdateConfig(n3E);return this;},populateTimeline:function(){return g2J.create0(p1J(this,this.doPopulateTimeline)).execute();},processModuleNotification:function(s3E){this.doProcessModuleNotification(s3E);},cancel:function(){this.removeStrategyListeners();if(this._timer!=null){this._timer.stop();}},destroy:function(){this.cancel();this._timeline=null;this._timer=null;},__class__:G2J};var T7J=function(){this._events=new l3J();this._fsm=new y6J();this._fsm.events().listen(p1J(this,this.onFsmEvent));this._fsm.init({initial:{name:L4J.Start,state:O4J.Pending},events:[{name:L4J.Initialize,from:[O4J.Pending],to:O4J.Initializing},{name:L4J.Initialized,from:[O4J.Initializing],to:O4J.Initialized},{name:L4J.Attach,from:[O4J.Initialized,O4J.Detached],to:O4J.Attaching},{name:L4J.Attached,from:[O4J.Attaching],to:O4J.Attached},{name:L4J.Detach,from:[O4J.Attached],to:O4J.Detaching},{name:L4J.Detached,from:[O4J.Detaching],to:O4J.Detached},{name:L4J.Error,to:O4J.Error}]});};O1J["com.turner.top.sdk.core.player.controllers.ui.UIController"]=T7J;T7J.__name__=["com","turner","top","sdk","core","player","controllers","ui","UIController"];T7J.attemptToFireTransition=function(J3E,A3E,j3E){if(!J3E.canFire(A3E)){T7J._logger.warn("[attemptToFireTransition] Unable to fire "+d1J.string(A3E)+" from current state: "+d1J.string(J3E.currentState()));return;}J3E.fire(A3E,j3E);};T7J.prototype={fireTransition:function(Q3E,k3E,I3E){if(!Q3E.canFire(k3E)){var i3E="Unable to fire "+d1J.string(k3E)+" from current state: "+d1J.string(Q3E.currentState());T7J._logger.error("[fireTransition] errMsg: "+i3E);Q3E.fire(L4J.Error,[{description:i3E}]);}else{Q3E.fire(k3E,I3E);}},_events:null,_fsm:null,_ui:null,_api:null,_playerConfigUIData:null,_containerElement:null,_wrappingElement:null,onFsmEvent:function(X5E,y3E){var u5E=y3E.from;var E3E=y3E.to;if(X5E[1]==2){T7J._logger.debug("[onFsmEvent] "+d1J.string(E3E));this.notifyStateChanged(u5E,E3E);switch(E3E[1]){case 0:break;case 1:this._ui=new q1y();this._ui.init(this._playerConfigUIData);this.fireTransition(this._fsm,L4J.Initialized);break;case 2:break;case 3:if(this._api==null){T7J._logger.warn("[onFsmEvent] no specified player api");return;}this._ui.attachPlayer(this._api);if(!this._playerConfigUIData.autoAttachToDom){if(this._containerElement==null){T7J._logger.warn("[onFsmEvent] no specified container element");return;}this._ui.attachToDom(this._containerElement,this._wrappingElement);}this.fireTransition(this._fsm,L4J.Attached);break;case 4:break;case 5:this.fireTransition(this._fsm,L4J.Detached);break;case 6:break;case 7:var r3E=y3E.to(O0y);T7J._logger.error("[onFsmEvent] type: "+r3E.errorType+", desc: "+r3E.errorDesc);break;}}},notifyStateChanged:function(f5E,D5E){var h5E=new S9J(f5E,D5E);this._events.stateChanged.dispatch(h5E);},doInit:function(C5E){this._playerConfigUIData=C5E;this.fireTransition(this._fsm,L4J.Initialize);},doAttach:function(w5E,Y5E,c5E){this._api=w5E;this._containerElement=Y5E;this._wrappingElement=c5E;this.fireTransition(this._fsm,L4J.Attach);},doDetach:function(){this.fireTransition(this._fsm,L4J.Detach);},canInitialize:function(){return this._fsm.canFire(L4J.Initialize);},canAttach:function(){return this._fsm.canFire(L4J.Attach);},isAttached:function(){return this._fsm.currentState()==O4J.Attached;},init:function(F5E){this.doInit(F5E);return this;},attach:function(R5E,U5E,q5E){this.doAttach(R5E,U5E,q5E);return this;},detach:function(){this.doDetach();return this;},events:function(){return this._events;},__class__:T7J};var F7J=function(){this._events=new l3J();this._isAttached=false;this._fsm=new y6J();this._fsm.events().listen(p1J(this,this.onFsmEvent));};O1J["com.turner.top.sdk.core.player.controllers.view.ViewController"]=F7J;F7J.__name__=["com","turner","top","sdk","core","player","controllers","view","ViewController"];F7J.prototype={_events:null,_playerIndex:null,_isAttached:null,_initConfigData:null,_fsm:null,_hostContainer:null,_topContainer:null,_playerContainer:null,_adContainer:null,_uiContainer:null,_mediaVideoEl:null,_adsVideoEl:null,_testVideoEl:null,_mediaFullscreenHelper:null,_adsFullscreenHelper:null,_containerFullscreenHelper:null,doInit:function(o5E,t5E){this._playerIndex=o5E;this._initConfigData=t5E;this._fsm.init(Z3J.view());},doAttach:function(l5E){F7J._logger.debug("[doAttach] hostContainer: "+d1J.string(l5E));if(l5E==null){F7J._logger.warn("[doAttach] no specified hostContainer to attach to");return;}if(!S1J.__instanceof(l5E,Element)){var G5E=U4J.getClassName(l5E==null?null:S1J.getClass(l5E));F7J._logger.warn("[doAttach] hostContainer is type \""+G5E+"\"; \"DOMElement\" is required");return;}this._hostContainer=l5E;this._fsm.fire(C4J.Attach);},doHandleResizeCommand:function(m5E){if(this._topContainer==null){return;}N7J.resize(this._topContainer,{width:m5E.width,height:m5E.height});},doEnterMediaFullscreen:function(){this._mediaFullscreenHelper.enter();},doExitMediaFullscreen:function(){this._mediaFullscreenHelper.exit();},doEnterAdsFullscreen:function(){this._adsFullscreenHelper.enter();},doExitAdsFullscreen:function(){this._adsFullscreenHelper.exit();},doEnterContainerFullscreen:function(){this._containerFullscreenHelper.enter();},doExitContainerFullscreen:function(){this._containerFullscreenHelper.exit();},doDetach:function(){this.attemptToFireTransition(C4J.Detach);},doDestroy:function(){this.doDetach();this.attemptToFireTransition(C4J.Destroy);},doAttemptToPrimeVideoElements:function(){F7J._logger.info("[primeVideoElement] attempting to prime video elements.");this._testVideoEl.load();this._mediaVideoEl.load();this._adsVideoEl.load();},doPrimeVideoElements:function(){this.primeVideoElement(this._mediaVideoEl);this.primeVideoElement(this._adsVideoEl);},primeVideoElement:function(K5E){if(Q9J.isPrimed(K5E)){F7J._logger.info("[primeVideoElement] video element is already primed: "+K5E.id);return;}F7J._logger.info("[primeVideoElement] priming video element: "+K5E.id);K5E.load();Q9J.setPrimed(K5E,true);},doVerifyAutoPlay:function(){var a5E=this;if(Q9J.isPrimed(this._mediaVideoEl)&&Q9J.isPrimed(this._adsVideoEl)){return new Promise(function(P5E,M5E){P5E(true);return;});}var b5E={element:this._testVideoEl};var g5E=true;var N5E=J6J.autoPlay(b5E,g5E);N5E.then(function(L5E){if(L5E){a5E.doPrimeVideoElements();}return;});return N5E;},attemptToFireTransition:function(x5E,O5E){if(!this._fsm.canFire(x5E)){F7J._logger.warn("[attemptToFireTransition] Unable to fire "+d1J.string(x5E)+" from current state: "+d1J.string(this._fsm.currentState()));return;}this._fsm.fire(x5E,O5E);},onFsmEvent:function(v5E,H5E){F7J._logger.debug("[onFsmEvent] type: "+d1J.string(v5E)+", result: "+d1J.string(H5E));var V5E=H5E.from;var d5E=H5E.to;switch(v5E[1]){case 2:this.notifyStateChanged(V5E,d5E,H5E.args);switch(d5E[1]){case 0:this._topContainer=this.createTopContainer();this._playerContainer=this.createPlayerContainer();this._uiContainer=this.createUIContainer();this._mediaVideoEl=this.createMediaVideoElement();this._adsVideoEl=this.createAdsVideoElement();this._testVideoEl=this.createTestVideoElement();if(S4J.ios()){this._adsFullscreenHelper=this.createAndInitFullscreenHelper(this._adsVideoEl);this._mediaFullscreenHelper=this.createAndInitFullscreenHelper(this._mediaVideoEl);}else{this._containerFullscreenHelper=this.createAndInitFullscreenHelper(this._topContainer);}this._adContainer=this._playerContainer;break;case 1:var T5E=N7J.attach(this._hostContainer,this._topContainer)&&N7J.attach(this._topContainer,this._uiContainer)&&N7J.attach(this._topContainer,this._playerContainer);F7J._logger.info("[onFsmEvent] Attaching - attachSuccess: "+(T5E==null?"null":""+T5E));if(T5E){this._fsm.fire(C4J.Attached);}else{this._fsm.fire(C4J.Error);}break;case 2:this._isAttached=true;this._fsm.fire(C4J.Windowed);break;case 4:this._fsm.fire(C4J.Fullscreen);break;case 6:this.clearNativeIosControls();this._fsm.fire(C4J.Windowed);break;case 7:var p5E=N7J.detach(this._hostContainer,this._topContainer);this._hostContainer=null;if(p5E){this._fsm.fire(C4J.Detached);}else{this._fsm.fire(C4J.Error);}break;case 8:this._isAttached=false;break;case 9:if(this._containerFullscreenHelper!=null){this._containerFullscreenHelper.destroy();}if(this._mediaFullscreenHelper!=null){this._mediaFullscreenHelper.destroy();}if(this._adsFullscreenHelper!=null){this._adsFullscreenHelper.destroy();}this._topContainer=null;this._fsm.fire(C4J.Destroyed);break;default:}break;case 4:this.notifyStateChanged(this._fsm.currentState(),f4J.Error);break;default:}},onFullscreenEntered:function(Z5E){this._fsm.fire(C4J.Enter_Fullscreen,[Z5E]);},onFullscreenExited:function(B5E){this._fsm.fire(C4J.Exit_Fullscreen,[B5E]);},clearNativeIosControls:function(){if(!this._initConfigData.config.player.useNativeControls&&S4J.ios()){this._adsVideoEl.removeAttribute("controls");this._mediaVideoEl.removeAttribute("controls");}},createVideoElement:function(z5E){var W5E=window.document.createElement("video");W5E.id=z5E;return W5E;},createTestVideoElement:function(){var S5E=this.createVideoElement("top-test-element");S5E.setAttribute("playsinline","");return S5E;},createMediaVideoElement:function(){var e5E=this.createVideoElement("top-media-element-"+this._playerIndex);e5E.className="top-media-element";Q9J.setPrimed(e5E,false);e5E.style.width="100%";e5E.style.height="100%";e5E.style.float="left";e5E.style.marginRight="-100%";return e5E;},createAdsVideoElement:function(){var n5E=this.createVideoElement("top-ads-element-"+this._playerIndex);n5E.className="top-ads-element";Q9J.setPrimed(n5E,false);n5E.style.width="100%";n5E.style.height="100%";n5E.style.float="left";n5E.style.visibility="hidden";n5E.style.opacity="0";return n5E;},createContainer:function(A5E){var J5E=this._initConfigData.id!=null?this._initConfigData.id:""+A5E;var s5E=N7J.create({id:J5E});s5E.style.overflow="hidden";return s5E;},createTopContainer:function(){var j5E=this.createContainer("top-container-"+this._playerIndex);j5E.className="top-container";j5E.style.position="relative";j5E.style.width="100%";j5E.style.height="100%";j5E.style.overflow="visible";j5E.style.zIndex="0";j5E.style.backgroundColor="#000";return j5E;},createPlayerContainer:function(){var Q5E=this.createContainer("top-player-container-"+this._playerIndex);Q5E.className="top-player-container";Q5E.style.position="relative";Q5E.style.width="100%";Q5E.style.height="100%";Q5E.style.float="left";return Q5E;},createUIContainer:function(){var k5E=this.createContainer("top-ui-container-"+this._playerIndex);k5E.className="top-ui-container";k5E.style.position="relative";k5E.style.width="100%";k5E.style.height="100%";k5E.style.float="left";k5E.style.marginRight="-100%";return k5E;},createAndInitFullscreenHelper:function(I5E){var i5E=V3y.create(I5E);i5E.init();i5E.events().entered.listen(p1J(this,this.onFullscreenEntered));i5E.events().exited.listen(p1J(this,this.onFullscreenExited));return i5E;},notifyStateChanged:function(y5E,r5E,u0T){var E5E=new S9J(y5E,r5E,u0T);this._events.stateChanged.dispatch(E5E);},init:function(X0T,h0T){this.doInit(X0T,h0T);return this;},canAttach:function(){return this._fsm.canFire(C4J.Attach);},canDetach:function(){return this._fsm.canFire(C4J.Detach);},isAttached:function(){return this._isAttached;},isFullscreen:function(){return this._fsm.currentState()==f4J.Fullscreen;},attach:function(f0T){this.doAttach(f0T);return this;},handleResizeCommand:function(D0T){this.doHandleResizeCommand(D0T);return this;},enterMediaFullscreen:function(){this.doEnterMediaFullscreen();return this;},exitMediaFullscreen:function(){this.doExitMediaFullscreen();return this;},enterAdsFullscreen:function(){this.doEnterAdsFullscreen();return this;},exitAdsFullscreen:function(){this.doExitAdsFullscreen();return this;},enterContainerFullscreen:function(){this.doEnterContainerFullscreen();return this;},exitContainerFullscreen:function(){this.doExitContainerFullscreen();return this;},detach:function(){this.doDetach();return this;},destroy:function(){this.doDestroy();},attemptToPrimeVideoElements:function(){this.doAttemptToPrimeVideoElements();},primeVideoElements:function(){this.doPrimeVideoElements();},verifyAutoPlay:function(){return this.doVerifyAutoPlay();},events:function(){return this._events;},hostContainer:function(){return this._hostContainer;},topContainer:function(){return this._topContainer;},playerContainer:function(){return this._playerContainer;},adContainer:function(){return this._adContainer;},uiContainer:function(){return this._uiContainer;},mediaVideoEl:function(){return this._mediaVideoEl;},adsVideoEl:function(){return this._adsVideoEl;},testVideoEl:function(){return this._testVideoEl;},__class__:F7J};var f3y=function(){};O1J["com.turner.top.sdk.core.player.model.IPlayerModel"]=f3y;f3y.__name__=["com","turner","top","sdk","core","player","model","IPlayerModel"];f3y.prototype={_ads:null,_media:null,_playlistItem:null,_config:null,_contentState:null,_viewState:null,_playerState:null,adEvents:null,adRequestState:null,adRequest:null,adResponse:null,adRequestError:null,adState:null,adTime:null,adType:null,adDuration:null,adVolume:null,adMuted:null,mediaEvents:null,mediaState:null,mediaViewWidth:null,mediaViewHeight:null,mediaVolume:null,mediaMuted:null,mediaUrl:null,mediaIsLive:null,mediaIsProtected:null,mediaProfiles:null,mediaTime:null,mediaDuration:null,mediaPlayableRange:null,mediaProfileIndex:null,mediaBitrate:null,mediaCalculatedMediaWidth:null,mediaCalculatedMediaHeight:null,mediaInitialBufferLength:null,mediaPlayBufferLength:null,mediaStartIndex:null,mediaStartBitrate:null,mediaMinBitrate:null,mediaMaxBitrate:null,mediaStreamInfo:null,mediaError:null,ads:null,media:null,playlistItem:null,config:null,contentState:null,viewState:null,playerState:null,__class__:f3y};var b7J=function(){this._timeline=new O8J();this.createModelsForPlay();};O1J["com.turner.top.sdk.core.player.model.PlayerModel"]=b7J;b7J.__name__=["com","turner","top","sdk","core","player","model","PlayerModel"];b7J.__interfaces__=[f3y];b7J.prototype={_playlistItem:null,_config:null,_timeline:null,_contentState:null,_viewState:null,_playerState:null,_media:null,_mediaWritable:null,_ads:null,_adsWritable:null,_adProviderModel:null,_adConsumerModel:null,doInit:function(){this.initModelsForPlay();},createModelsForPlay:function(){this._mediaWritable=new P7J();this._media=this._mediaWritable;this._adsWritable=new P8J();this._ads=this._adsWritable;},initModelsForPlay:function(){this._mediaWritable.init(null);this._adProviderModel=new C7J().init(null);this._adConsumerModel=new X7J().init(null);this._adsWritable.init(this._adProviderModel,this._adConsumerModel);},doHandleTransactionStateChange:function(C0T){this._contentState=C0T.currentState;var w0T=C0T.currentState;switch(w0T[1]){case 1:this.resetForPlay();break;case 5:this._playlistItem=C0T.args[0].playlistItem;this._config=C0T.args[0].appliedPlayerConfig;break;default:}},resetForPlay:function(){this._timeline=new O8J();this.createModelsForPlay();this.initModelsForPlay();},doHandleViewStateChange:function(Y0T){this._viewState=Y0T.currentState;},doHandlePlayerStateChange:function(c0T){this._playerState=c0T.currentState;},doHandleModuleEvent:function(R0T,F0T){b7J._logger.debug("[onModuleEvent] type: "+d1J.string(R0T)+", result: "+d1J.string(F0T));this.handleModuleNotification(S1J.__cast(F0T,g6J));},doHandleModuleNotification:function(U0T){var q0T=U0T.eventCategory;switch(q0T[1]){case 0:break;case 1:var o0T=U0T.moduleType;if(o0T[1]==5){this._timeline.handleTimelineEvent(U0T.eventType,U0T.eventResult);}break;case 2:var t0T=U0T.moduleType;switch(t0T[1]){case 0:this.handleMediaModelUpdate(S1J.__cast(U0T.eventType,Y8J),S1J.__cast(U0T.eventResult,x8J));break;case 1:this.handleAdModelUpdate(S1J.__cast(U0T.eventType,k3J),S1J.__cast(U0T.eventResult,I8J));break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:break;}break;}},handleMediaModelUpdate:function(K0T,m0T){var l0T=S1J.__cast(m0T,o9J);if(b7J._debugMedia){b7J._logger.info("[handleMediaModelUpdate] prop: "+d1J.string(l0T.property));}var G0T=l0T.property;switch(G0T[1]){case 0:this._mediaWritable.setState(l0T.currentValue);break;case 1:this._mediaWritable.setViewHeight(l0T.currentValue);break;case 2:this._mediaWritable.setViewWidth(l0T.currentValue);break;case 3:this._mediaWritable.setVolume(l0T.currentValue);break;case 4:this._mediaWritable.setMuted(l0T.currentValue);break;case 5:this._mediaWritable.setUrl(l0T.currentValue);break;case 6:this._mediaWritable.setIsLive(l0T.currentValue);break;case 7:this._mediaWritable.setIsProtected(l0T.currentValue);break;case 8:this._mediaWritable.setIsDynamic(l0T.currentValue);break;case 9:this._mediaWritable.setProfiles(l0T.currentValue);break;case 10:this._mediaWritable.setAbsoluteTime(l0T.currentValue);break;case 11:this._mediaWritable.setTime(l0T.currentValue);break;case 12:this._mediaWritable.setDuration(l0T.currentValue);break;case 13:this._mediaWritable.setPlayableRange(l0T.currentValue);break;case 14:this._mediaWritable.setSeekableRange(l0T.currentValue);break;case 15:this._mediaWritable.setProfileIndex(l0T.currentValue);break;case 16:this._mediaWritable.setBitrate(l0T.currentValue);break;case 17:this._mediaWritable.setCalculatedMediaHeight(l0T.currentValue);break;case 18:this._mediaWritable.setCalculatedMediaWidth(l0T.currentValue);break;case 19:this._mediaWritable.setInitialBufferLength(l0T.currentValue);break;case 20:this._mediaWritable.setPlayBufferLength(l0T.currentValue);break;case 21:this._mediaWritable.setStartIndex(l0T.currentValue);break;case 22:this._mediaWritable.setStartBitrate(l0T.currentValue);break;case 23:this._mediaWritable.setMinBitrate(l0T.currentValue);break;case 24:this._mediaWritable.setMaxBitrate(l0T.currentValue);break;case 25:this._mediaWritable.setCapBitrateToSize(l0T.currentValue);break;case 26:this._mediaWritable.setStreamInfo(l0T.currentValue);break;case 27:this._mediaWritable.setError(l0T.currentValue);break;}},handleAdModelUpdate:function(g0T,b0T){var N0T=S1J.__cast(b0T,g5J);if(b7J._debugMedia){b7J._logger.info("[handleAdModelUpdate] prop: "+d1J.string(N0T.property));}var a0T=N0T.property;switch(a0T[1]){case 0:this._adProviderModel.setState(N0T.currentValue);break;case 1:this._adProviderModel.setRequest(N0T.currentValue);break;case 2:this._adProviderModel.setResponse(N0T.currentValue);break;case 3:this._adProviderModel.setError(N0T.currentValue);break;case 4:this._adConsumerModel.setState(N0T.currentValue);break;case 5:this._adConsumerModel.setType(N0T.currentValue);break;case 6:this._adConsumerModel.setTime(N0T.currentValue);break;case 7:this._adConsumerModel.setDuration(N0T.currentValue);break;case 8:this._adConsumerModel.setVolume(N0T.currentValue);break;case 9:this._adConsumerModel.setMuted(N0T.currentValue);break;case 10:this._adConsumerModel.setState(N0T.currentValue);break;}},init:function(){this.doInit();return this;},handleTransactionStateChange:function(P0T){this.doHandleTransactionStateChange(P0T);return this;},handleModuleNotification:function(M0T){this.doHandleModuleNotification(M0T);return this;},handleViewStateChange:function(L0T){this.doHandleViewStateChange(L0T);return this;},handlePlayerStateChange:function(x0T){this.doHandlePlayerStateChange(x0T);return this;},playlistItem:function(){return this._playlistItem;},config:function(){return this._config;},timeline:function(){return this._timeline;},contentState:function(){return this._contentState;},viewState:function(){return this._viewState;},playerState:function(){return this._playerState;},media:function(){return this._media;},ads:function(){return this._ads;},mediaEvents:function(){return this._media.events();},mediaState:function(){return this._media.state();},mediaViewWidth:function(){return this._media.viewWidth();},mediaViewHeight:function(){return this._media.viewHeight();},mediaVolume:function(){return this._media.volume();},mediaMuted:function(){return this._media.muted();},mediaUrl:function(){return this._media.url();},mediaIsLive:function(){return this._media.isLive();},mediaIsProtected:function(){return this._media.isProtected();},mediaIsDynamic:function(){return this._media.isDynamic();},mediaProfiles:function(){return this._media.profiles();},mediaAbsoluteTime:function(){return this._media.absoluteTime();},mediaTime:function(){return this._media.time();},mediaDuration:function(){return this._media.duration();},mediaPlayableRange:function(){return this._media.playableRange();},mediaSeekableRange:function(){return this._media.seekableRange();},mediaProfileIndex:function(){return this._media.profileIndex();},mediaBitrate:function(){return this._media.bitrate();},mediaCalculatedMediaWidth:function(){return this._media.calculatedMediaWidth();},mediaCalculatedMediaHeight:function(){return this._media.calculatedMediaHeight();},mediaInitialBufferLength:function(){return this._media.initialBufferLength();},mediaPlayBufferLength:function(){return this._media.playBufferLength();},mediaStartIndex:function(){return this._media.startIndex();},mediaStartBitrate:function(){return this._media.startBitrate();},mediaMinBitrate:function(){return this._media.minBitrate();},mediaMaxBitrate:function(){return this._media.maxBitrate();},mediaStreamInfo:function(){return this._media.streamInfo();},mediaError:function(){return this._media.error();},mediaToData:function(){return this._media.toData();},adToData:function(){return this._ads.toData();},adEvents:function(){return this._ads.events();},adRequestState:function(){return this._ads.requestState();},adRequest:function(){return this._ads.request();},adResponse:function(){return this._ads.response();},adRequestError:function(){return this._ads.requestError();},adState:function(){return this._ads.state();},adType:function(){return this._ads.type();},adTime:function(){return this._ads.time();},adDuration:function(){return this._ads.duration();},adVolume:function(){return this._ads.volume();},adMuted:function(){return this._ads.muted();},__class__:b7J};var C3y=function(){};O1J["com.turner.top.sdk.core.player.model.timeline.IPlayerTimelineWrapper"]=C3y;C3y.__name__=["com","turner","top","sdk","core","player","model","timeline","IPlayerTimelineWrapper"];C3y.prototype={handleTimelineEvent:null,markersForType:null,adMidrollStartTimes:null,__class__:C3y};var O8J=function(){this._markers=[];};O1J["com.turner.top.sdk.core.player.model.timeline.PlayerTimelineWrapper"]=O8J;O8J.__name__=["com","turner","top","sdk","core","player","model","timeline","PlayerTimelineWrapper"];O8J.__interfaces__=[C3y];O8J.prototype={_markers:null,handleTimelineEvent:function(T0T,d0T){var O0T=d0T.marker;switch(T0T[1]){case 0:this._markers.push(O0T);break;case 5:var H0T=this._markers.indexOf(O0T);if(H0T>-1){this._markers.splice(H0T,1);}break;default:}},markersForType:function(v0T){return this._markers.filter(function(V0T){return V0T.type()==v0T;});},adMidrollStartTimes:function(){var p0T=this.markersForType(E6J.Ad_Midroll);return p0T.map(function(Z0T){return Z0T.range().begin;});},__class__:O8J};var b9J=function(){};O1J["com.turner.top.sdk.core.player.modules.IPlayerModule"]=b9J;b9J.__name__=["com","turner","top","sdk","core","player","modules","IPlayerModule"];b9J.prototype={_events:null,_type:null,init:null,handleModuleSetup:null,handleComponentSetup:null,handleUpdateConfig:null,handlePlayerNotification:null,handleModuleNotification:null,show:null,hide:null,events:null,type:null,__class__:b9J};var p6J=function(B0T){this._logger=I1J.getLogger(S1J.getClass(this));this._events=new f7J();this._type=B0T;};O1J["com.turner.top.sdk.core.player.modules.BasePlayerModule"]=p6J;p6J.__name__=["com","turner","top","sdk","core","player","modules","BasePlayerModule"];p6J.__interfaces__=[b9J,W9y];p6J.prototype={_events:null,_type:null,_logger:null,_controller:null,doInit:function(){},doHandleModuleSetup:function(W0T,z0T,S0T){this._controller=this.createController();this._controller.init(W0T);this.addControllerListeners(this._controller);},createController:function(){throw new j1J("abstract method, must override");},doHandleComponentSetup:function(e0T,n0T){if(this._controller==null){this._logger.error("[doHandleComponentSetup] No controller found");return;}this._controller.handleComponentSetup(e0T,n0T);},doHandleUpdateConfig:function(s0T){if(this._controller==null){this._logger.error("[doHandleUpdateConfig] No controller found");return;}this._controller.handleUpdateConfig(s0T);},doHandlePlayerNotification:function(J0T){if(this._controller==null){this._logger.error("[doHandleModuleNotification] No controller found");return;}this._controller.handlePlayerNotification(J0T);},doHandleModuleNotification:function(A0T){if(this._controller==null){this._logger.error("[doHandleModuleNotification] No controller found");return;}this._controller.handleModuleNotification(A0T);},doShow:function(){if(this._controller==null){return;}this._logger.debug("[doShow] Showing "+d1J.string(this._type)+" component");this._controller.show();},doHide:function(){if(this._controller==null){return;}this._logger.debug("[doHide] Hiding "+d1J.string(this._type)+" component");this._controller.hide();},addControllerListeners:function(j0T){j0T.events().listen(p1J(this,this.onControllerEvent));},onControllerEvent:function(k0T,Q0T){this.notifyModuleNotificationEvent(S1J.__cast(Q0T,g6J));},removeControllerListeners:function(i0T){i0T.events().unlisten(p1J(this,this.onControllerEvent));},notifyModuleNotificationEvent:function(I0T){this._events.notification.dispatch(I0T);},init:function(){this.doInit();return this;},handleModuleSetup:function(E0T,y0T,r0T){this.doHandleModuleSetup(E0T,y0T,r0T);return this;},handleComponentSetup:function(u1T,X1T){this.doHandleComponentSetup(u1T,X1T);return this;},handleUpdateConfig:function(h1T){this.doHandleUpdateConfig(h1T);return this;},handlePlayerNotification:function(f1T){this.doHandlePlayerNotification(f1T);return this;},handleModuleNotification:function(D1T){this.doHandleModuleNotification(D1T);return this;},show:function(){this.doShow();return this;},hide:function(){this.doHide();return this;},events:function(){return this._events;},type:function(){return this._type;},__class__:p6J};var M9J=function(){};O1J["com.turner.top.sdk.core.player.modules.IModuleController"]=M9J;M9J.__name__=["com","turner","top","sdk","core","player","modules","IModuleController"];M9J.prototype={_events:null,init:null,handleComponentSetup:null,handleUpdateConfig:null,handlePlayerNotification:null,handleModuleNotification:null,show:null,hide:null,events:null,__class__:M9J};var o4J=O1J["com.turner.top.sdk.core.player.modules.ModuleType"]={__ename__:["com","turner","top","sdk","core","player","modules","ModuleType"],__constructs__:["Media","Ads","Cues","Captions","Analytics","Timeline","Plugin","Validation"]};o4J.Media=["Media",0];o4J.Media.toString=H1J;o4J.Media.__enum__=o4J;o4J.Ads=["Ads",1];o4J.Ads.toString=H1J;o4J.Ads.__enum__=o4J;o4J.Cues=["Cues",2];o4J.Cues.toString=H1J;o4J.Cues.__enum__=o4J;o4J.Captions=["Captions",3];o4J.Captions.toString=H1J;o4J.Captions.__enum__=o4J;o4J.Analytics=["Analytics",4];o4J.Analytics.toString=H1J;o4J.Analytics.__enum__=o4J;o4J.Timeline=["Timeline",5];o4J.Timeline.toString=H1J;o4J.Timeline.__enum__=o4J;o4J.Plugin=["Plugin",6];o4J.Plugin.toString=H1J;o4J.Plugin.__enum__=o4J;o4J.Validation=["Validation",7];o4J.Validation.toString=H1J;o4J.Validation.__enum__=o4J;o4J.__empty_constructs__=[o4J.Media,o4J.Ads,o4J.Cues,o4J.Captions,o4J.Analytics,o4J.Timeline,o4J.Plugin,o4J.Validation];var w6J=O1J["com.turner.top.sdk.core.player.modules.ModuleEventCategory"]={__ename__:["com","turner","top","sdk","core","player","modules","ModuleEventCategory"],__constructs__:["Command_Request","Component_Event","Model_Update"]};w6J.Command_Request=["Command_Request",0];w6J.Command_Request.toString=H1J;w6J.Command_Request.__enum__=w6J;w6J.Component_Event=["Component_Event",1];w6J.Component_Event.toString=H1J;w6J.Component_Event.__enum__=w6J;w6J.Model_Update=["Model_Update",2];w6J.Model_Update.toString=H1J;w6J.Model_Update.__enum__=w6J;w6J.__empty_constructs__=[w6J.Command_Request,w6J.Component_Event,w6J.Model_Update];var j4J=O1J["com.turner.top.sdk.core.player.modules.ads.AdCommandType"]={__ename__:["com","turner","top","sdk","core","player","modules","ads","AdCommandType"],__constructs__:["Request","Play","Pause","Resume","Resize","Stop","Skip_Creative"]};j4J.Request=["Request",0];j4J.Request.toString=H1J;j4J.Request.__enum__=j4J;j4J.Play=["Play",1];j4J.Play.toString=H1J;j4J.Play.__enum__=j4J;j4J.Pause=["Pause",2];j4J.Pause.toString=H1J;j4J.Pause.__enum__=j4J;j4J.Resume=["Resume",3];j4J.Resume.toString=H1J;j4J.Resume.__enum__=j4J;j4J.Resize=["Resize",4];j4J.Resize.toString=H1J;j4J.Resize.__enum__=j4J;j4J.Stop=["Stop",5];j4J.Stop.toString=H1J;j4J.Stop.__enum__=j4J;j4J.Skip_Creative=["Skip_Creative",6];j4J.Skip_Creative.toString=H1J;j4J.Skip_Creative.__enum__=j4J;j4J.__empty_constructs__=[j4J.Request,j4J.Play,j4J.Pause,j4J.Resume,j4J.Resize,j4J.Stop,j4J.Skip_Creative];var e6J=function(C1T,w1T){A6J.call(this,C1T,w1T);};O1J["com.turner.top.sdk.core.player.modules.ads.AdCommand"]=e6J;e6J.__name__=["com","turner","top","sdk","core","player","modules","ads","AdCommand"];e6J.__super__=A6J;e6J.prototype=v1J(A6J.prototype,{__class__:e6J});var r0y=function(Y1T,c1T,F1T,R1T){e6J.call(this,j4J.Request);this.id=Y1T;this.opportunities=c1T;this.configData=F1T;this.mediaMetadata=R1T;};O1J["com.turner.top.sdk.core.player.modules.ads.AdRequestCommand"]=r0y;r0y.__name__=["com","turner","top","sdk","core","player","modules","ads","AdRequestCommand"];r0y.__super__=e6J;r0y.prototype=v1J(e6J.prototype,{id:null,opportunities:null,configData:null,mediaMetadata:null,__class__:r0y});var V7J=function(U1T){e6J.call(this,j4J.Play);this.config=U1T;};O1J["com.turner.top.sdk.core.player.modules.ads.AdPlayCommand"]=V7J;V7J.__name__=["com","turner","top","sdk","core","player","modules","ads","AdPlayCommand"];V7J.__super__=e6J;V7J.prototype=v1J(e6J.prototype,{config:null,__class__:V7J});var a8y=function(q1T,o1T){V7J.call(this,o1T);this.adId=q1T;};O1J["com.turner.top.sdk.core.player.modules.ads.AdPlayByIdCommand"]=a8y;a8y.__name__=["com","turner","top","sdk","core","player","modules","ads","AdPlayByIdCommand"];a8y.__super__=V7J;a8y.prototype=v1J(V7J.prototype,{adId:null,__class__:a8y});var D8J=function(t1T,l1T){V7J.call(this,l1T);this.adType=t1T;};O1J["com.turner.top.sdk.core.player.modules.ads.AdPlayByTypeCommand"]=D8J;D8J.__name__=["com","turner","top","sdk","core","player","modules","ads","AdPlayByTypeCommand"];D8J.__super__=V7J;D8J.prototype=v1J(V7J.prototype,{adType:null,__class__:D8J});var m8y=function(G1T,m1T){V7J.call(this,m1T);this.adBreak=G1T;};O1J["com.turner.top.sdk.core.player.modules.ads.AdPlayByBreakCommand"]=m8y;m8y.__name__=["com","turner","top","sdk","core","player","modules","ads","AdPlayByBreakCommand"];m8y.__super__=V7J;m8y.prototype=v1J(V7J.prototype,{adBreak:null,__class__:m8y});var l8y=function(){e6J.call(this,j4J.Pause);};O1J["com.turner.top.sdk.core.player.modules.ads.AdPauseCommand"]=l8y;l8y.__name__=["com","turner","top","sdk","core","player","modules","ads","AdPauseCommand"];l8y.__super__=e6J;l8y.prototype=v1J(e6J.prototype,{__class__:l8y});var t8y=function(){e6J.call(this,j4J.Resume);};O1J["com.turner.top.sdk.core.player.modules.ads.AdResumeCommand"]=t8y;t8y.__name__=["com","turner","top","sdk","core","player","modules","ads","AdResumeCommand"];t8y.__super__=e6J;t8y.prototype=v1J(e6J.prototype,{__class__:t8y});var o8y=function(K1T,N1T){e6J.call(this,j4J.Resize);this.width=K1T;this.height=N1T;};O1J["com.turner.top.sdk.core.player.modules.ads.AdResizeCommand"]=o8y;o8y.__name__=["com","turner","top","sdk","core","player","modules","ads","AdResizeCommand"];o8y.__super__=e6J;o8y.prototype=v1J(e6J.prototype,{width:null,height:null,__class__:o8y});var y0y=function(){e6J.call(this,j4J.Stop);};O1J["com.turner.top.sdk.core.player.modules.ads.AdStopCommand"]=y0y;y0y.__name__=["com","turner","top","sdk","core","player","modules","ads","AdStopCommand"];y0y.__super__=e6J;y0y.prototype=v1J(e6J.prototype,{__class__:y0y});var P3y=function(){e6J.call(this,j4J.Skip_Creative);};O1J["com.turner.top.sdk.core.player.modules.ads.AdSkipCreativeCommand"]=P3y;P3y.__name__=["com","turner","top","sdk","core","player","modules","ads","AdSkipCreativeCommand"];P3y.__super__=e6J;P3y.prototype=v1J(e6J.prototype,{__class__:P3y});var U8y=function(){};O1J["com.turner.top.sdk.core.player.modules.ads.IAdsModule"]=U8y;U8y.__name__=["com","turner","top","sdk","core","player","modules","ads","IAdsModule"];U8y.__interfaces__=[b9J];U8y.prototype={processAdCommand:null,__class__:U8y};var E0y=function(){p6J.call(this,o4J.Ads);};O1J["com.turner.top.sdk.core.player.modules.ads.AdsModule"]=E0y;E0y.__name__=["com","turner","top","sdk","core","player","modules","ads","AdsModule"];E0y.__interfaces__=[U8y];E0y.__super__=p6J;E0y.prototype=v1J(p6J.prototype,{createController:function(){return new c7J();},doProcessAdCommand:function(a1T){if(this._controller==null){this._logger.error("[doProcessAdCommand] No Ads controller found");return;}this._controller.processAdCommand(a1T);},processAdCommand:function(b1T){this.doProcessAdCommand(b1T);return this;},__class__:E0y});var F8y=function(){};O1J["com.turner.top.sdk.core.player.modules.ads.controllers.IAdsController"]=F8y;F8y.__name__=["com","turner","top","sdk","core","player","modules","ads","controllers","IAdsController"];F8y.__interfaces__=[M9J];F8y.prototype={processAdCommand:null,__class__:F8y};var c7J=function(){this._autoStarting=false;this._firstPlay=true;this._events=new f7J();this._engines=[];this._monitor=new C8J();};O1J["com.turner.top.sdk.core.player.modules.ads.controllers.AdsController"]=c7J;c7J.__name__=["com","turner","top","sdk","core","player","modules","ads","controllers","AdsController"];c7J.__interfaces__=[F8y];c7J.prototype={_events:null,_appContext:null,_adContainer:null,_videoEl:null,_config:null,_fwEngine:null,_ssaiEngine:null,_engines:null,_activeEngine:null,_firstPlay:null,_autoStarting:null,_monitor:null,doInit:function(g1T){this._appContext=g1T;this._adContainer=this._appContext.adContainer;this._videoEl=g1T.adsVideoEl;N7J.attach(this._adContainer,this._videoEl);},doHandleComponentSetup:function(M1T,H1T){this._config=M1T;var P1T=M1T.playerConfig;if(this.getAdsNativeControlsFlag()){this._videoEl.setAttribute("controls","");}else{this._videoEl.removeAttribute("controls");}if(P1T.player.playMode=="inline"){this._videoEl.setAttribute("playsinline","");}this.setupAutostart();if(this._fwEngine!=null){this._fwEngine.stop();this.removeEngineListeners(this._fwEngine);this._fwEngine.destroy();this._fwEngine=null;}if(this._ssaiEngine!=null){this._ssaiEngine.stop();this.removeEngineListeners(this._ssaiEngine);this._ssaiEngine.destroy();this._ssaiEngine=null;}this._videoEl.load();this._fwEngine=new f6J(this._adContainer.id,this._videoEl);this._fwEngine.init(P1T.ads);this.addEngineListeners(this._fwEngine);this._ssaiEngine=new U2J(this._appContext.model.media(),Z1J.field(this._appContext.comps,"media"));this._ssaiEngine.init(P1T.ads);this.addEngineListeners(this._ssaiEngine);this._engines=[this._fwEngine,this._ssaiEngine];this._monitor.setEngine(this._fwEngine);var L1T=M1T.monitors;var x1T="pruning";var O1T=!Object.prototype.hasOwnProperty.call(L1T,x1T)?null:Z1J.field(L1T,x1T);this.setupMonitorEventListeners(O1T);this.hideVideo();H1T(null);},setupMonitorEventListeners:function(T1T){if(T1T==null){c7J._logger.warn("[setupMonitorEventListeners] Prune pruneMonitor does not exist.");return;}c7J._logger.debug("[setupMonitorEventListeners] Listening to notifications from prune pruneMonitor.");T1T.events().prune.listen(p1J(this,this.onPruneEvent));},onPruneEvent:function(d1T){if(d1T.pruneType==T2J.Sliding_Window_Change){this._fwEngine.prune(d1T);}},doHandleUpdateConfig:function(Z1T){var v1T=0;var V1T=this._engines;while(v1T<V1T.length){var p1T=V1T[v1T];++v1T;p1T.config().extend(Z1T);}},setupAutostart:function(){c7J._logger.debug("[setupAutostart] firstPlay: "+d1J.string(this._firstPlay));if(this._firstPlay){this._firstPlay=false;if(this._config.playerConfig.player.autoPlay&&this._config.playerConfig.player.autoPlayOptions.forceAds){this._autoStarting=true;this._videoEl.setAttribute("playsinline","");}}},getAdsNativeControlsFlag:function(){var B1T=this._config.playerConfig;if(B1T.ads!=null){if(B1T.ads.useNativeControls!=null){return B1T.ads.useNativeControls;}}return false;},doHandleModuleNotification:function(W1T){var z1T=W1T.eventCategory;if(z1T[1]==1){var S1T=W1T.moduleType;if(S1T[1]==0){this.handleMediaEvent(W1T.eventType,W1T.eventResult);}}},handleMediaEvent:function(J1T,e1T){switch(J1T[1]){case 2:this._fwEngine.setMediaState(e1T.currentState);break;case 15:var n1T=e1T.time;var s1T=n1T;this._fwEngine.setMediaTime(s1T);break;default:}},doProcessAdCommand:function(A1T){var E1T=A1T.type;switch(E1T[1]){case 0:this.handleRequest(A1T);break;case 1:this.handlePlayCommand(A1T);break;case 2:if(this._activeEngine!=null){this._activeEngine.pause();}break;case 3:if(this._activeEngine!=null){this._activeEngine.resume();}break;case 4:var r1T=A1T.width;var u4T=A1T.height;var j1T=0;var k1T=this._engines;while(j1T<k1T.length){var y1T=k1T[j1T];++j1T;y1T.resize(r1T,u4T);}break;case 5:var Q1T=0;var i1T=this._engines;while(Q1T<i1T.length){var I1T=i1T[Q1T];++Q1T;I1T.stop();}break;case 6:if(this._activeEngine!=null){this._activeEngine.skipCreative();}break;}},handleRequest:function(X4T){var f4T=X4T.opportunities[0];var h4T=f4T.type;if(h4T==null){this._fwEngine.requestAds(X4T.id,X4T.opportunities,X4T.configData,X4T.mediaMetadata);}else if(h4T[1]==1){if(N4J.isClientSideSSAI(this._config.playerConfig)){this._ssaiEngine.requestAds(X4T.id,X4T.opportunities,X4T.configData,X4T.mediaMetadata);}else{this._fwEngine.requestAds(X4T.id,X4T.opportunities,X4T.configData,X4T.mediaMetadata);}}else{this._fwEngine.requestAds(X4T.id,X4T.opportunities,X4T.configData,X4T.mediaMetadata);}},handlePlayCommand:function(D4T){this.startMonitor();this._activeEngine=this._fwEngine;if(S1J.__instanceof(D4T,a8y)){this._activeEngine.playAdById(D4T.adId);}else if(S1J.__instanceof(D4T,D8J)){this.handlePlayByType(D4T);}else if(S1J.__instanceof(D4T,m8y)){this._activeEngine.playAd(D4T.adBreak);}else{this._activeEngine.playAd(null);}},handlePlayByType:function(C4T){var K4T=C4T.adType;if(K4T[1]==1){var m4T=C4T.config;var t4T=!Object.prototype.hasOwnProperty.call(m4T,"custom")?{}:Z1J.field(m4T,"custom");if(N4J.isClientSideSSAI(this._config.playerConfig)){var o4T=this._ssaiEngine.ads();var q4T=t4T.fragmentId;var F4T=null;var R4T=0;while(R4T<o4T.length){var Y4T=o4T[R4T];++R4T;if(Y4T.opportunity!=null&&Y4T.opportunity.custom!=null&&Y4T.opportunity.custom.fragmentId==q4T){F4T=Y4T;break;}}c7J._logger.debug("[handlePlayByType] fragmentId: "+q4T+", breakToPlay: "+d1J.string(F4T));this._activeEngine=this._ssaiEngine;this._ssaiEngine.playAd(F4T,C4T.config);}else{var l4T=this._fwEngine.ads();var G4T=t4T.time;var c4T=null;var U4T=0;while(U4T<l4T.length){var w4T=l4T[U4T];++U4T;if(w4T.opportunity!=null&&w4T.opportunity.custom!=null&&w4T.opportunity.custom.time==G4T){c4T=w4T;break;}}c7J._logger.debug("[handlePlayByType] time: "+G4T+", breakToPlay: "+d1J.string(c4T));this._activeEngine=this._fwEngine;this._fwEngine.playAd(c4T,C4T.config);}}else{this._activeEngine=this._fwEngine;this._fwEngine.playAdByType(C4T.adType,C4T.config);}},showVideo:function(){if(this._videoEl==null){return;}this._videoEl.style.visibility="visible";this._videoEl.style.opacity="1";},hideVideo:function(){if(this._videoEl==null){return;}this._videoEl.style.visibility="hidden";this._videoEl.style.opacity=5990<=(3833,5400)?0x6e:"0";},addEngineListeners:function(N4T){N4T.events().listen(p1J(this,this.onAdEvent));N4T.model().events().listen(p1J(this,this.onAdModelEvent));},onAdEvent:function(M4T,L4T){var x4T=this;var a4T=[];switch(M4T[1]){case 4:a4T.push({type:s1J.Error,result:new j9J(L4T.error)});break;case 6:if(this._activeEngine==this._fwEngine){this.showVideo();}break;case 11:this.resetAutoStart();break;case 7:case 17:case 20:case 21:this.stopMonitor();if(this._activeEngine==this._fwEngine){this.hideVideo();}break;default:}var g4T=function(O4T,H4T){x4T.notifyModuleNotificationEvent(w6J.Component_Event,O4T,H4T);};g4T(M4T,L4T);var b4T=0;while(b4T<a4T.length){var P4T=a4T[b4T];++b4T;g4T(P4T.type,P4T.result);}},startMonitor:function(){c7J._logger.debug("[startMonitor] starting monitor...");var T4T=this._config.playerConfig.ads;this._monitor.start(!Object.prototype.hasOwnProperty.call(T4T,"breakTimeout")?0:Z1J.field(T4T,"breakTimeout"),!Object.prototype.hasOwnProperty.call(T4T,"impressionTimeout")?0:Z1J.field(T4T,"impressionTimeout"));},stopMonitor:function(){c7J._logger.debug("[stopMonitor] stopping monitor...");this._monitor.stop();},resetAutoStart:function(){if(this._autoStarting){this._autoStarting=false;if(!S4J.ie(11)){c7J._logger.debug("[resetAutoStart] Clearing muted attribute.");this._videoEl.removeAttribute("muted");}}},onAdModelEvent:function(d4T,v4T){this.notifyModuleNotificationEvent(w6J.Model_Update,d4T,v4T);},removeEngineListeners:function(V4T){V4T.events().unlisten(p1J(this,this.onAdEvent));V4T.model().events().unlisten(p1J(this,this.onAdModelEvent));},notifyModuleNotificationEvent:function(Z4T,B4T,W4T){var p4T=new g6J(o4J.Ads,Z4T,B4T,W4T);this._events.notification.dispatch(p4T);},init:function(z4T){this.doInit(z4T);return this;},handleComponentSetup:function(S4T,e4T){this.doHandleComponentSetup(S4T,e4T);return this;},handleUpdateConfig:function(n4T){this.doHandleUpdateConfig(n4T.ads);return this;},handlePlayerNotification:function(s4T){return this;},handleModuleNotification:function(J4T){this.doHandleModuleNotification(J4T);return this;},processAdCommand:function(A4T){this.doProcessAdCommand(A4T);return this;},show:function(){this.showVideo();return this;},hide:function(){this.hideVideo();return this;},events:function(){return this._events;},__class__:c7J};var H3y=function(){};O1J["com.turner.top.sdk.core.player.modules.ads.controllers.IAdsMonitor"]=H3y;H3y.__name__=["com","turner","top","sdk","core","player","modules","ads","controllers","IAdsMonitor"];H3y.prototype={setEngine:null,start:null,stop:null,__class__:H3y};var C8J=function(){this._impressionTimeout=-1;this._breakTimeout=-1;this._impressionTimer=null;this._breakTimer=null;this._started=false;};O1J["com.turner.top.sdk.core.player.modules.ads.controllers.AdsMonitor"]=C8J;C8J.__name__=["com","turner","top","sdk","core","player","modules","ads","controllers","AdsMonitor"];C8J.__interfaces__=[H3y];C8J.prototype={_engine:null,_impressionTimeout:null,_breakTimeout:null,_impressionTimer:null,_breakTimer:null,_started:null,onAdEvent:function(j4T,Q4T){switch(j4T[1]){case 6:this.scheduleBreakTimeout();break;case 9:this.clearBreakTimeout();this.scheduleImpressionTimeout();break;case 10:this.clearImpressionTimeout();break;case 18:this.scheduleImpressionTimeout();break;case 19:this.clearImpressionTimeout();break;case 20:this.clearBreakTimeout();this.clearImpressionTimeout();break;default:}},onImpressionTimeout:function(){this.clearImpressionTimeout();C8J._logger.warn("[onImpressionTimeout] skipping creative due to impression not detected within "+this._impressionTimeout+" ms");this._engine.skipCreative();},onBreakTimeout:function(){this.clearBreakTimeout();C8J._logger.error("[onBreakTimeout] stopping ad engine due to break not having activity within "+this._breakTimeout+" ms");this._engine.stop();},clearImpressionTimeout:function(){if(this._impressionTimer==null){return;}this._impressionTimer.stop();this._impressionTimer=null;},clearBreakTimeout:function(){if(this._breakTimer==null){return;}this._breakTimer.stop();this._breakTimer=null;},scheduleBreakTimeout:function(){if(this._breakTimeout>0){this._breakTimer=Z2J.delay(p1J(this,this.onBreakTimeout),this._breakTimeout);}},scheduleImpressionTimeout:function(){if(this._impressionTimeout>0){this._impressionTimer=Z2J.delay(p1J(this,this.onImpressionTimeout),this._impressionTimeout);}},_setEngine:function(k4T){this._engine=k4T;return this;},start:function(i4T,I4T){if(this._started){return this;}this._breakTimeout=i4T;this._impressionTimeout=I4T;this._engine.events().listen(p1J(this,this.onAdEvent));this._started=true;return this;},stop:function(){if(!this._started){return this;}this._engine.events().unlisten(p1J(this,this.onAdEvent));this.clearImpressionTimeout();this.clearBreakTimeout();this._breakTimeout=-1;this._impressionTimeout=-1;this._started=false;return this;},engine:function(){return this._engine;},setEngine:function(E4T){this._setEngine(E4T);return this;},__class__:C8J};var A7J=O1J["com.turner.top.sdk.core.player.modules.analytics.AnalyticsCommandType"]={__ename__:["com","turner","top","sdk","core","player","modules","analytics","AnalyticsCommandType"],__constructs__:["Report_Event","Report_Error"]};A7J.Report_Event=["Report_Event",0];A7J.Report_Event.toString=H1J;A7J.Report_Event.__enum__=A7J;A7J.Report_Error=["Report_Error",1];A7J.Report_Error.toString=H1J;A7J.Report_Error.__enum__=A7J;A7J.__empty_constructs__=[A7J.Report_Event,A7J.Report_Error];var H9J=function(y4T,r4T){A6J.call(this,y4T,r4T);};O1J["com.turner.top.sdk.core.player.modules.analytics.AnalyticsCommand"]=H9J;H9J.__name__=["com","turner","top","sdk","core","player","modules","analytics","AnalyticsCommand"];H9J.__super__=A6J;H9J.prototype=v1J(A6J.prototype,{__class__:H9J});var D8y=function(u6T){H9J.call(this,A7J.Report_Event);this.event=u6T;};O1J["com.turner.top.sdk.core.player.modules.analytics.AnalyticsReportEventCommand"]=D8y;D8y.__name__=["com","turner","top","sdk","core","player","modules","analytics","AnalyticsReportEventCommand"];D8y.__super__=H9J;D8y.prototype=v1J(H9J.prototype,{event:null,__class__:D8y});var f8y=function(X6T){H9J.call(this,A7J.Report_Error);this.event=X6T;};O1J["com.turner.top.sdk.core.player.modules.analytics.AnalyticsReportErrorCommand"]=f8y;f8y.__name__=["com","turner","top","sdk","core","player","modules","analytics","AnalyticsReportErrorCommand"];f8y.__super__=H9J;f8y.prototype=v1J(H9J.prototype,{event:null,__class__:f8y});var r9y=function(){};O1J["com.turner.top.sdk.core.player.modules.analytics.IAnalyticsModule"]=r9y;r9y.__name__=["com","turner","top","sdk","core","player","modules","analytics","IAnalyticsModule"];r9y.__interfaces__=[b9J];r9y.prototype={processAnalyticsCommand:null,__class__:r9y};var k0y=function(){p6J.call(this,o4J.Analytics);};O1J["com.turner.top.sdk.core.player.modules.analytics.AnalyticsModule"]=k0y;k0y.__name__=["com","turner","top","sdk","core","player","modules","analytics","AnalyticsModule"];k0y.__interfaces__=[r9y];k0y.__super__=p6J;k0y.prototype=v1J(p6J.prototype,{createController:function(){return new V8J();},doProcessAnalyticsCommand:function(h6T){if(this._controller==null){this._logger.error("[doProcessAnalyticsCommand] No controller found");return;}this._controller.processAnalyticsCommand(h6T);},processAnalyticsCommand:function(f6T){this.doProcessAnalyticsCommand(f6T);return this;},__class__:k0y});var E9y=function(){};O1J["com.turner.top.sdk.core.player.modules.analytics.controllers.IAnalyticsController"]=E9y;E9y.__name__=["com","turner","top","sdk","core","player","modules","analytics","controllers","IAnalyticsController"];E9y.__interfaces__=[M9J];E9y.prototype={processAnalyticsCommand:null,__class__:E9y};var V8J=function(){this._events=new f7J();};O1J["com.turner.top.sdk.core.player.modules.analytics.controllers.AnalyticsController"]=V8J;V8J.__name__=["com","turner","top","sdk","core","player","modules","analytics","controllers","AnalyticsController"];V8J.__interfaces__=[E9y];V8J.prototype={_events:null,_analyticsManager:null,doInit:function(D6T){},doHandleComponentSetup:function(w6T,C6T){if(this._analyticsManager!=null){this._analyticsManager.reset();this.removeManagerListeners(this._analyticsManager);this._analyticsManager.destroy();this._analyticsManager=null;}this._analyticsManager=new p3J();this._analyticsManager.init();this.addManagerListeners(this._analyticsManager);C6T(null);},doHandleUpdateConfig:function(Y6T){},doHandleModuleNotification:function(c6T){var F6T=c6T.eventCategory;switch(F6T[1]){case 0:break;case 1:var R6T=c6T.moduleType;if(R6T[1]==0){this.handleMediaEvent(c6T.eventType,c6T.eventResult);}break;case 2:break;}},handleMediaEvent:function(U6T,q6T){if(U6T[1]==4){this._analyticsManager.reset();}},doProcessAnalyticsCommand:function(o6T){var t6T=o6T.type;switch(t6T[1]){case 0:this._analyticsManager.reportEvent(o6T.event);break;case 1:this._analyticsManager.reportError(o6T.event);break;}},addManagerListeners:function(l6T){l6T.events().listen(p1J(this,this.onAnalyticsEvent));},onAnalyticsEvent:function(G6T,m6T){this.notifyModuleNotificationEvent(w6J.Component_Event,G6T,m6T);},removeManagerListeners:function(K6T){K6T.events().unlisten(p1J(this,this.onAnalyticsEvent));},notifyModuleNotificationEvent:function(a6T,b6T,g6T){var N6T=new g6J(o4J.Analytics,a6T,b6T,g6T);this._events.notification.dispatch(N6T);},init:function(P6T){this.doInit(P6T);return this;},handleComponentSetup:function(M6T,L6T){this.doHandleComponentSetup(M6T,L6T);return this;},handleUpdateConfig:function(x6T){this.doHandleUpdateConfig(x6T);return this;},handlePlayerNotification:function(O6T){return this;},handleModuleNotification:function(H6T){this.doHandleModuleNotification(H6T);return this;},processAnalyticsCommand:function(T6T){this.doProcessAnalyticsCommand(T6T);return this;},show:function(){return this;},hide:function(){return this;},events:function(){return this._events;},__class__:V8J};var H2J=O1J["com.turner.top.sdk.core.player.modules.closedcaptions.CCCommandType"]={__ename__:["com","turner","top","sdk","core","player","modules","closedcaptions","CCCommandType"],__constructs__:["Select_Track","Set_Enabled","Update_Settings"]};H2J.Select_Track=["Select_Track",0];H2J.Select_Track.toString=H1J;H2J.Select_Track.__enum__=H2J;H2J.Set_Enabled=["Set_Enabled",1];H2J.Set_Enabled.toString=H1J;H2J.Set_Enabled.__enum__=H2J;H2J.Update_Settings=["Update_Settings",2];H2J.Update_Settings.toString=H1J;H2J.Update_Settings.__enum__=H2J;H2J.__empty_constructs__=[H2J.Select_Track,H2J.Set_Enabled,H2J.Update_Settings];var v7J=function(d6T,v6T){A6J.call(this,d6T,v6T);};O1J["com.turner.top.sdk.core.player.modules.closedcaptions.CCCommand"]=v7J;v7J.__name__=["com","turner","top","sdk","core","player","modules","closedcaptions","CCCommand"];v7J.__super__=A6J;v7J.prototype=v1J(A6J.prototype,{__class__:v7J});var e9J=function(){v7J.call(this,H2J.Select_Track);};O1J["com.turner.top.sdk.core.player.modules.closedcaptions.CCSelectTrackCommand"]=e9J;e9J.__name__=["com","turner","top","sdk","core","player","modules","closedcaptions","CCSelectTrackCommand"];e9J.__super__=v7J;e9J.prototype=v1J(v7J.prototype,{__class__:e9J});var W0y=function(V6T){e9J.call(this);this.track=V6T;};O1J["com.turner.top.sdk.core.player.modules.closedcaptions.CCSelectTrackByInstanceCommand"]=W0y;W0y.__name__=["com","turner","top","sdk","core","player","modules","closedcaptions","CCSelectTrackByInstanceCommand"];W0y.__super__=e9J;W0y.prototype=v1J(e9J.prototype,{track:null,__class__:W0y});var Z0y=function(p6T){e9J.call(this);this.lang=p6T;};O1J["com.turner.top.sdk.core.player.modules.closedcaptions.CCSelectTrackByLangCommand"]=Z0y;Z0y.__name__=["com","turner","top","sdk","core","player","modules","closedcaptions","CCSelectTrackByLangCommand"];Z0y.__super__=e9J;Z0y.prototype=v1J(e9J.prototype,{lang:null,__class__:Z0y});var G9y=function(Z6T){v7J.call(this,H2J.Set_Enabled);this.enabled=Z6T;};O1J["com.turner.top.sdk.core.player.modules.closedcaptions.CCSetEnabledCommand"]=G9y;G9y.__name__=["com","turner","top","sdk","core","player","modules","closedcaptions","CCSetEnabledCommand"];G9y.__super__=v7J;G9y.prototype=v1J(v7J.prototype,{enabled:null,__class__:G9y});var t9y=function(B6T){v7J.call(this,H2J.Update_Settings);this.settings=B6T;};O1J["com.turner.top.sdk.core.player.modules.closedcaptions.CCUpdateSettingsCommand"]=t9y;t9y.__name__=["com","turner","top","sdk","core","player","modules","closedcaptions","CCUpdateSettingsCommand"];t9y.__super__=v7J;t9y.prototype=v1J(v7J.prototype,{settings:null,__class__:t9y});var S2y=function(){};O1J["com.turner.top.sdk.core.player.modules.closedcaptions.ICCModule"]=S2y;S2y.__name__=["com","turner","top","sdk","core","player","modules","closedcaptions","ICCModule"];S2y.__interfaces__=[b9J];S2y.prototype={processCCCommand:null,__class__:S2y};var T0y=function(){p6J.call(this,o4J.Captions);};O1J["com.turner.top.sdk.core.player.modules.closedcaptions.CCModule"]=T0y;T0y.__name__=["com","turner","top","sdk","core","player","modules","closedcaptions","CCModule"];T0y.__interfaces__=[S2y];T0y.__super__=p6J;T0y.prototype=v1J(p6J.prototype,{createController:function(){return new z2J();},doProcessCCCommand:function(W6T){if(this._controller==null){this._logger.error("[doProcessCCCommand] No CC controller found");return;}this._controller.processCCCommand(W6T);},processCCCommand:function(z6T){this.doProcessCCCommand(z6T);return this;},__class__:T0y});var v2y=function(){};O1J["com.turner.top.sdk.core.player.modules.closedcaptions.controllers.ICCController"]=v2y;v2y.__name__=["com","turner","top","sdk","core","player","modules","closedcaptions","controllers","ICCController"];v2y.__interfaces__=[M9J];v2y.prototype={processCCCommand:null,__class__:v2y};var z2J=function(){this._events=new f7J();this._storage=U8J.create({type:"cc"});this._selectedTrack=false;};O1J["com.turner.top.sdk.core.player.modules.closedcaptions.controllers.CCController"]=z2J;z2J.__name__=["com","turner","top","sdk","core","player","modules","closedcaptions","controllers","CCController"];z2J.__interfaces__=[v2y];z2J.prototype={_events:null,_config:null,_ccManager:null,_storage:null,_mediaEl:null,_expectedCCLang:null,_selectedTrack:null,doInit:function(S6T){this._mediaEl=S6T.mediaVideoEl;},doHandleComponentSetup:function(A6T,i6T){this._config=A6T;if(this._ccManager!=null){this._ccManager.reset();this.removeManagerListeners(this._ccManager);this._ccManager.destroy();this._ccManager=null;}var e6T=this.getCaptionConfigNativeFlag();z2J._logger.info("[doHandleComponentSetup] forceNative: "+(e6T==null?"null":""+e6T));var n6T=S4J.safari()||S4J.ios()?false:e6T?false:true;var j6T=n6T?[new f9J(this._mediaEl).init()]:null;var Q6T=n6T?new S7J(this._mediaEl).init():null;this._ccManager=new Q5J(this._mediaEl);this.addManagerListeners(this._ccManager);this._ccManager.init(j6T,Q6T);var s6T=A6T.monitors;var J6T="pruning";var k6T=!Object.prototype.hasOwnProperty.call(s6T,J6T)?null:Z1J.field(s6T,J6T);this.setupMonitorEventListeners(k6T);i6T(null);},setupMonitorEventListeners:function(I6T){if(I6T==null){z2J._logger.warn("[setupMonitorEventListeners] Prune monitor does not exist.");return;}z2J._logger.debug("[setupMonitorEventListeners] Listening to notifications from prune monitor.");I6T.events().prune.listen(p1J(this,this.onPruneEvent));},onPruneEvent:function(E6T){if(E6T.pruneType==T2J.Sliding_Window_Change){this._ccManager.prune(E6T);}},getCaptionConfigNativeFlag:function(){var y6T=this._config.playerConfig;if(y6T.captions!=null){if(y6T.captions.forceNative!=null){return y6T.captions.forceNative;}}return false;},doHandleUpdateConfig:function(r6T){},doHandleModuleNotification:function(u2T){var X2T=u2T.eventCategory;switch(X2T[1]){case 0:break;case 1:var h2T=u2T.moduleType;if(h2T[1]==0){this.handleMediaEvent(u2T.eventType,u2T.eventResult);}break;case 2:break;}},handleMediaEvent:function(Y2T,c2T){switch(Y2T[1]){case 4:this._selectedTrack=false;this._expectedCCLang=null;this._ccManager.reset();break;case 6:var C2T=this.getSavedSettings();if(C2T!=null){this._ccManager.updateSettings(C2T);}break;case 7:var f2T=this.getSavedTrackRequest();var D2T=this.getSavedEnabled();if(!this._selectedTrack&&f2T!=null&&D2T!=false){var w2T=this._ccManager.selectTrackByLang(f2T);if(!w2T){this._expectedCCLang=f2T;}}if(D2T!=null){this._ccManager.setEnabled(D2T);}break;default:}},doProcessCCCommand:function(F2T){z2J._logger.debug("[doProcessCCCommand] "+d1J.string(F2T));var t2T=F2T.type;switch(t2T[1]){case 0:if(S1J.__instanceof(F2T,W0y)){var R2T=F2T;if(R2T.track==null){z2J._logger.warn("[doProcessCCCommand] specified track is null");return;}this.saveTrackRequest(R2T.track.lang);this._selectedTrack=this._ccManager.selectTrack(R2T.track);}else if(S1J.__instanceof(F2T,Z0y)){var U2T=F2T;this.saveTrackRequest(U2T.lang);this._selectedTrack=this._ccManager.selectTrackByLang(U2T.lang);}else{z2J._logger.warn("[doProcessCCCommand] Invalid Select_Track command");}break;case 1:var q2T=F2T.enabled;this.saveEnabled(q2T);this._ccManager.setEnabled(q2T);break;case 2:var o2T=F2T;this.saveSettings(o2T.settings);this._ccManager.updateSettings(o2T.settings);break;}},handleSelectTrackByLang:function(l2T){this._ccManager.selectTrackByLang(l2T.lang);},saveEnabled:function(K2T){var m2T=this._storage;var G2T;try{G2T=t2J.run(K2T);}catch(N2T){G2T=null;}m2T.setItem("user-enabled",G2T);},getSavedEnabled:function(){var b2T=this._storage.getItem("user-enabled");var a2T;try{a2T=Y2J.run(b2T);}catch(P2T){a2T=null;}var g2T=a2T;return g2T;},saveTrackRequest:function(x2T){this.saveEnabled(true);var L2T=this._storage;var M2T;try{M2T=t2J.run(x2T);}catch(O2T){M2T=null;}L2T.setItem("user-lang",M2T);},getSavedTrackRequest:function(){var T2T=this._storage.getItem("user-lang");var H2T;try{H2T=Y2J.run(T2T);}catch(v2T){H2T=null;}var d2T=H2T;return d2T;},saveSettings:function(V2T){if(this.getSavedSettings()!=null){V2T=i1J.extend(this.getSavedSettings(),V2T);}var Z2T=this._storage;var p2T;try{p2T=t2J.run(V2T);}catch(B2T){p2T=null;}Z2T.setItem("user-settings",p2T);},getSavedSettings:function(){var z2T=this._storage.getItem("user-settings");var W2T;try{W2T=Y2J.run(z2T);}catch(e2T){W2T=null;}var S2T=W2T;return S2T;},addManagerListeners:function(n2T){n2T.events().listen(p1J(this,this.onCCEvent));},onCCEvent:function(A2T,s2T){this.notifyModuleNotificationEvent(w6J.Component_Event,A2T,s2T);if(A2T[1]==0){var j2T=s2T.added;var J2T=s2T.track;if(this._expectedCCLang!=null){this._ccManager.selectTrackByLang(this._expectedCCLang);this._expectedCCLang=null;}if(j2T&&J2T.isDefault&&this.getSavedTrackRequest()==null){this._selectedTrack=this._ccManager.selectTrack(J2T);}}},removeManagerListeners:function(Q2T){Q2T.events().unlisten(p1J(this,this.onCCEvent));},notifyModuleNotificationEvent:function(i2T,I2T,E2T){var k2T=new g6J(o4J.Captions,i2T,I2T,E2T);this._events.notification.dispatch(k2T);},init:function(y2T){this.doInit(y2T);return this;},handleComponentSetup:function(r2T,u7T){this.doHandleComponentSetup(r2T,u7T);return this;},handleUpdateConfig:function(X7T){this.doHandleUpdateConfig(X7T.captions);return this;},handlePlayerNotification:function(h7T){return this;},handleModuleNotification:function(f7T){this.doHandleModuleNotification(f7T);return this;},processCCCommand:function(D7T){this.doProcessCCCommand(D7T);return this;},show:function(){return this;},hide:function(){return this;},events:function(){return this._events;},__class__:z2J};var j7J=O1J["com.turner.top.sdk.core.player.modules.cues.CueCommandType"]={__ename__:["com","turner","top","sdk","core","player","modules","cues","CueCommandType"],__constructs__:["Add","Remove"]};j7J.Add=["Add",0];j7J.Add.toString=H1J;j7J.Add.__enum__=j7J;j7J.Remove=["Remove",1];j7J.Remove.toString=H1J;j7J.Remove.__enum__=j7J;j7J.__empty_constructs__=[j7J.Add,j7J.Remove];var p9J=function(C7T){A6J.call(this,C7T);};O1J["com.turner.top.sdk.core.player.modules.cues.CueCommand"]=p9J;p9J.__name__=["com","turner","top","sdk","core","player","modules","cues","CueCommand"];p9J.__super__=A6J;p9J.prototype=v1J(A6J.prototype,{__class__:p9J});var H0y=function(w7T){p9J.call(this,j7J.Add);this.cue=w7T;};O1J["com.turner.top.sdk.core.player.modules.cues.CueAddCommand"]=H0y;H0y.__name__=["com","turner","top","sdk","core","player","modules","cues","CueAddCommand"];H0y.__super__=p9J;H0y.prototype=v1J(p9J.prototype,{cue:null,__class__:H0y});var T2y=function(Y7T){p9J.call(this,j7J.Remove);this.cue=Y7T;};O1J["com.turner.top.sdk.core.player.modules.cues.CueRemoveCommand"]=T2y;T2y.__name__=["com","turner","top","sdk","core","player","modules","cues","CueRemoveCommand"];T2y.__super__=p9J;T2y.prototype=v1J(p9J.prototype,{cue:null,__class__:T2y});var P2y=function(){};O1J["com.turner.top.sdk.core.player.modules.cues.ICuesModule"]=P2y;P2y.__name__=["com","turner","top","sdk","core","player","modules","cues","ICuesModule"];P2y.__interfaces__=[b9J];P2y.prototype={processCueCommand:null,__class__:P2y};var x0y=function(){p6J.call(this,o4J.Cues);};O1J["com.turner.top.sdk.core.player.modules.cues.CuesModule"]=x0y;x0y.__name__=["com","turner","top","sdk","core","player","modules","cues","CuesModule"];x0y.__interfaces__=[P2y];x0y.__super__=p6J;x0y.prototype=v1J(p6J.prototype,{createController:function(){return new R7J();},doProcessCueCommand:function(c7T){if(this._controller==null){this._logger.error("[doProcessCueCommand] No Cues Controller found");return;}this._controller.processCommand(c7T);},processCueCommand:function(F7T){this.doProcessCueCommand(F7T);return this;},__class__:x0y});var m2y=function(){};O1J["com.turner.top.sdk.core.player.modules.cues.controllers.ICuesController"]=m2y;m2y.__name__=["com","turner","top","sdk","core","player","modules","cues","controllers","ICuesController"];m2y.__interfaces__=[M9J];m2y.prototype={processCommand:null,__class__:m2y};var R7J=function(){this._events=new f7J();};O1J["com.turner.top.sdk.core.player.modules.cues.controllers.CuesController"]=R7J;R7J.__name__=["com","turner","top","sdk","core","player","modules","cues","controllers","CuesController"];R7J.__interfaces__=[m2y];R7J.prototype={_events:null,_cueManager:null,_dataSource:null,doInit:function(R7T){},doHandleComponentSetup:function(t7T,l7T){if(this._cueManager!=null){this._cueManager.reset();this.removeManagerListeners(this._cueManager);this._cueManager=null;}this._dataSource=new k7J();this._dataSource.setProperty("state.media.playhead",0);this._cueManager=new h7J();this._cueManager.init(this._dataSource);this.addManagerListeners(this._cueManager);var U7T=t7T.monitors;var q7T="pruning";var o7T=!Object.prototype.hasOwnProperty.call(U7T,q7T)?null:Z1J.field(U7T,q7T);this.setupMonitorEventListeners(o7T);l7T(null);},setupMonitorEventListeners:function(G7T){if(G7T==null){R7J._logger.warn("[setupMonitorEventListeners] Prune monitor does not exist.");return;}R7J._logger.debug("[setupMonitorEventListeners] Listening to notifications from prune monitor.");G7T.events().prune.listen(p1J(this,this.onPruneEvent));},onPruneEvent:function(N7T){var a7T=N7T.pruneType;var m7T=0;var K7T=0;switch(a7T[1]){case 0:m7T=0;K7T=N7T.data.minTime;break;case 1:m7T=0;K7T=Infinity;break;}var b7T=new U6J(m7T,K7T);this._cueManager.prune(b7T);},doHandleUpdateConfig:function(g7T){},doHandleModuleNotification:function(P7T){var M7T=P7T.eventCategory;if(M7T[1]==1){var L7T=P7T.moduleType;if(L7T[1]==0){this.handleMediaEvent(S1J.__cast(P7T.eventType,W1J),S1J.__cast(P7T.eventResult,m4J));}}},handleMediaEvent:function(v7T,H7T){switch(v7T[1]){case 15:this._dataSource.setProperty("state.media.playhead",S1J.__cast(H7T,D3J).time);break;case 24:var T7T=H7T;var O7T=this.translateFromTimedMetadata(T7T);var d7T=O7T!=null;var x7T=null;if(d7T){x7T=this.normalizeCue(O7T);}if(x7T!=null){this.addCue(x7T);}else{R7J._logger.warn("[handleMediaEvent] could not create cue from timed metadata");}break;default:}},translateFromTimedMetadata:function(p7T){var V7T;var Z7T=p7T.source.toLowerCase();switch(Z7T){case"embedded":var B7T=p7T.metadataType.toLowerCase();V7T=B7T=="id3"?P4J.ID3:null;break;case"tag":var W7T=new RegExp("^#","".split("u").join(""));var z7T=p7T.metadataType.toLowerCase().replace(W7T,"");switch(z7T){case"dis":case"ext-x-discontinuity":V7T=P4J.Ext_Discontinuity;break;case"ext-oatcls-scte35":case"ext-x-scte35":V7T=P4J.SCTE;break;case"ext-x-asset":V7T=P4J.Ext_Asset;break;case"ext-x-cue-in":V7T=P4J.Ext_Cue_In;break;case"ext-x-cue-out":V7T=P4J.Ext_Cue_Out;break;case"ext-x-cue-out-cont":V7T=P4J.Ext_Cue_Out_Cont;break;default:V7T=null;}break;default:V7T=null;}if(V7T==null){return null;}var S7T={type:V7T,source:d6J.Manifest,data:{timeReceived:p7T.timeReceived,time:p7T.timeToTrigger,content:p7T.content,metadata:{stream:p7T.streamMetadata}}};return S7T;},normalizeCue:function(e7T){R7J._logger.debug("[normalizeCue] processing: "+d1J.string(e7T));return this._cueManager.normalize(e7T);},addCue:function(n7T){R7J._logger.debug("[addCue] adding: "+d1J.string(n7T));this._cueManager.add(n7T);},removeCue:function(s7T){R7J._logger.debug("[removeCue] removing: "+d1J.string(s7T));this._cueManager.remove(s7T);},doProcessCommand:function(j7T){var Q7T=j7T.type;switch(Q7T[1]){case 0:var k7T=j7T.cue;var J7T=this.normalizeCue(k7T);if(J7T!=null){J7T.data.timeReceived=this.getTimePosition();this.addCue(J7T);}else{R7J._logger.warn("[doProcessCommand] could not process cue from cue add command");}break;case 1:var i7T=j7T.cue;var A7T=this.normalizeCue(i7T);if(A7T!=null){A7T.data.timeReceived=this.getTimePosition();this.removeCue(A7T);}else{R7J._logger.warn("[doProcessCommand] could not process cue from cue remove command");}break;}},getTimePosition:function(){return this._dataSource.getProperty("state.media.playhead");},addManagerListeners:function(I7T){I7T.events().listen(p1J(this,this.onCueEvent));},onCueEvent:function(E7T,y7T){this.notifyModuleNotificationEvent(w6J.Component_Event,E7T,y7T);},removeManagerListeners:function(r7T){r7T.events().unlisten(p1J(this,this.onCueEvent));},notifyModuleNotificationEvent:function(X9T,h9T,f9T){var u9T=new g6J(o4J.Cues,X9T,h9T,f9T);this._events.notification.dispatch(u9T);},init:function(D9T){this.doInit(D9T);return this;},handleComponentSetup:function(C9T,w9T){this.doHandleComponentSetup(C9T,w9T);return this;},handleUpdateConfig:function(Y9T){this.doHandleUpdateConfig(Y9T);return this;},handlePlayerNotification:function(c9T){return this;},handleModuleNotification:function(F9T){this.doHandleModuleNotification(F9T);return this;},processCommand:function(R9T){this.doProcessCommand(R9T);return this;},show:function(){return this;},hide:function(){return this;},events:function(){return this._events;},__class__:R7J};var V3J=function(){u4J.call(this);};O1J["com.turner.top.sdk.core.player.modules.events.ModuleEventResult"]=V3J;V3J.__name__=["com","turner","top","sdk","core","player","modules","events","ModuleEventResult"];V3J.__super__=u4J;V3J.prototype=v1J(u4J.prototype,{__class__:V3J});var g6J=function(U9T,q9T,o9T,t9T){V3J.call(this);this.moduleType=U9T;this.eventCategory=q9T;this.eventType=o9T;this.eventResult=t9T;};O1J["com.turner.top.sdk.core.player.modules.events.ModuleNotificationResult"]=g6J;g6J.__name__=["com","turner","top","sdk","core","player","modules","events","ModuleNotificationResult"];g6J.__super__=V3J;g6J.prototype=v1J(V3J.prototype,{moduleType:null,eventCategory:null,eventType:null,eventResult:null,__class__:g6J});var x3J=O1J["com.turner.top.sdk.core.player.modules.events.ModuleEventType"]={__ename__:["com","turner","top","sdk","core","player","modules","events","ModuleEventType"],__constructs__:["Notification"]};x3J.Notification=["Notification",0];x3J.Notification.toString=H1J;x3J.Notification.__enum__=x3J;x3J.__empty_constructs__=[x3J.Notification];var X2y=function(){V1J.call(this,x3J.Notification);};O1J["com.turner.top.sdk.core.player.modules.events.ModuleNotificationEvent"]=X2y;X2y.__name__=["com","turner","top","sdk","core","player","modules","events","ModuleNotificationEvent"];X2y.__super__=V1J;X2y.prototype=v1J(V1J.prototype,{__class__:X2y});var f7J=function(){G4J.call(this,[this.notification=new X2y()]);};O1J["com.turner.top.sdk.core.player.modules.events.ModuleEvents"]=f7J;f7J.__name__=["com","turner","top","sdk","core","player","modules","events","ModuleEvents"];f7J.__super__=G4J;f7J.prototype=v1J(G4J.prototype,{notification:null,__class__:f7J});var Q6y=function(){};O1J["com.turner.top.sdk.core.player.modules.media.IMediaModule"]=Q6y;Q6y.__name__=["com","turner","top","sdk","core","player","modules","media","IMediaModule"];Q6y.__interfaces__=[b9J];Q6y.prototype={processMediaCommand:null,__class__:Q6y};var d4J=O1J["com.turner.top.sdk.core.player.modules.media.MediaCommandType"]={__ename__:["com","turner","top","sdk","core","player","modules","media","MediaCommandType"],__constructs__:["Play","Pause","Resume","Seek","Seek_To_Live","Resize","Stop"]};d4J.Play=["Play",0];d4J.Play.toString=H1J;d4J.Play.__enum__=d4J;d4J.Pause=["Pause",1];d4J.Pause.toString=H1J;d4J.Pause.__enum__=d4J;d4J.Resume=["Resume",2];d4J.Resume.toString=H1J;d4J.Resume.__enum__=d4J;d4J.Seek=["Seek",3];d4J.Seek.toString=H1J;d4J.Seek.__enum__=d4J;d4J.Seek_To_Live=["Seek_To_Live",4];d4J.Seek_To_Live.toString=H1J;d4J.Seek_To_Live.__enum__=d4J;d4J.Resize=["Resize",5];d4J.Resize.toString=H1J;d4J.Resize.__enum__=d4J;d4J.Stop=["Stop",6];d4J.Stop.toString=H1J;d4J.Stop.__enum__=d4J;d4J.__empty_constructs__=[d4J.Play,d4J.Pause,d4J.Resume,d4J.Seek,d4J.Seek_To_Live,d4J.Resize,d4J.Stop];var n6J=function(l9T,G9T){A6J.call(this,l9T,G9T);};O1J["com.turner.top.sdk.core.player.modules.media.MediaCommand"]=n6J;n6J.__name__=["com","turner","top","sdk","core","player","modules","media","MediaCommand"];n6J.__super__=A6J;n6J.prototype=v1J(A6J.prototype,{__class__:n6J});var U3J=function(m9T,K9T){n6J.call(this,d4J.Play);this.url=m9T;this.configData=K9T;};O1J["com.turner.top.sdk.core.player.modules.media.MediaPlayCommand"]=U3J;U3J.__name__=["com","turner","top","sdk","core","player","modules","media","MediaPlayCommand"];U3J.__super__=n6J;U3J.prototype=v1J(n6J.prototype,{url:null,configData:null,__class__:U3J});var l0y=function(){n6J.call(this,d4J.Pause);};O1J["com.turner.top.sdk.core.player.modules.media.MediaPauseCommand"]=l0y;l0y.__name__=["com","turner","top","sdk","core","player","modules","media","MediaPauseCommand"];l0y.__super__=n6J;l0y.prototype=v1J(n6J.prototype,{__class__:l0y});var t0y=function(){n6J.call(this,d4J.Resume);};O1J["com.turner.top.sdk.core.player.modules.media.MediaResumeCommand"]=t0y;t0y.__name__=["com","turner","top","sdk","core","player","modules","media","MediaResumeCommand"];t0y.__super__=n6J;t0y.prototype=v1J(n6J.prototype,{__class__:t0y});var B8J=function(N9T){n6J.call(this,d4J.Seek);this.time=N9T;};O1J["com.turner.top.sdk.core.player.modules.media.MediaSeekCommand"]=B8J;B8J.__name__=["com","turner","top","sdk","core","player","modules","media","MediaSeekCommand"];B8J.__super__=n6J;B8J.prototype=v1J(n6J.prototype,{time:null,__class__:B8J});var N6y=function(){n6J.call(this,d4J.Seek_To_Live);};O1J["com.turner.top.sdk.core.player.modules.media.MediaSeekToLiveCommand"]=N6y;N6y.__name__=["com","turner","top","sdk","core","player","modules","media","MediaSeekToLiveCommand"];N6y.__super__=n6J;N6y.prototype=v1J(n6J.prototype,{__class__:N6y});var C3J=function(a9T,b9T){n6J.call(this,d4J.Resize);this.width=a9T;this.height=b9T;};O1J["com.turner.top.sdk.core.player.modules.media.MediaResizeCommand"]=C3J;C3J.__name__=["com","turner","top","sdk","core","player","modules","media","MediaResizeCommand"];C3J.__super__=n6J;C3J.prototype=v1J(n6J.prototype,{width:null,height:null,__class__:C3J});var U0y=function(){n6J.call(this,d4J.Stop);};O1J["com.turner.top.sdk.core.player.modules.media.MediaStopCommand"]=U0y;U0y.__name__=["com","turner","top","sdk","core","player","modules","media","MediaStopCommand"];U0y.__super__=n6J;U0y.prototype=v1J(n6J.prototype,{__class__:U0y});var R0y=function(){p6J.call(this,o4J.Media);};O1J["com.turner.top.sdk.core.player.modules.media.MediaModule"]=R0y;R0y.__name__=["com","turner","top","sdk","core","player","modules","media","MediaModule"];R0y.__interfaces__=[Q6y];R0y.__super__=p6J;R0y.prototype=v1J(p6J.prototype,{createController:function(){return new i2J();},doProcessMediaCommand:function(g9T){if(this._controller==null){this._logger.error("[doProcessMediaCommand] No media controller found");return;}this._controller.processMediaCommand(g9T);},processMediaCommand:function(P9T){this.doProcessMediaCommand(P9T);return this;},__class__:R0y});function u3y(C1P){if(C1P instanceof Array)return function(){return Y4J.iter(C1P);};return typeof C1P.iterator=='function'?p1J(C1P,C1P.iterator):C1P.iterator;}var E4y=function(){};O1J["com.turner.top.sdk.core.player.modules.media.controllers.IMediaController"]=E4y;E4y.__name__=["com","turner","top","sdk","core","player","modules","media","controllers","IMediaController"];E4y.__interfaces__=[M9J];E4y.prototype={processMediaCommand:null,__class__:E4y};var i2J=function(){this._autoStarting=false;this._firstPlay=true;this._events=new f7J();this._connMonitor=new L9J();this._connMonitor.events().connectionLoss.listen(p1J(this,this.onConnectionLost));};O1J["com.turner.top.sdk.core.player.modules.media.controllers.MediaController"]=i2J;i2J.__name__=["com","turner","top","sdk","core","player","modules","media","controllers","MediaController"];i2J.__interfaces__=[E4y];i2J.prototype={_events:null,_appContext:null,_config:null,_engine:null,_videoEl:null,_connMonitor:null,_firstPlay:null,_autoStarting:null,doInit:function(M9T){this._appContext=M9T;this._videoEl=M9T.mediaVideoEl;N7J.attach(M9T.playerContainer,this._videoEl);},doHandleComponentSetup:function(x9T,O9T){this._config=x9T;var L9T=this._config.playerConfig;this.setupNativeMediaControls();if(L9T.player.playMode=="inline"){this._videoEl.setAttribute("playsinline","");}this.setupAutostart();this.setupMediaEngine();this.showVideo();O9T(null);},doHandleUpdateConfig:function(H9T){this._engine.config().extend(H9T);},setupNativeMediaControls:function(){if(this.shouldUseNativeMediaControls()){this._videoEl.setAttribute("controls","");}else{this._videoEl.removeAttribute("controls");}},setupAutostart:function(){i2J._logger.debug("[setupAutostart] firstPlay: "+d1J.string(this._firstPlay));if(this._firstPlay){this._firstPlay=false;if(this._config.playerConfig.player.autoPlay&&this._config.playerConfig.player.autoPlayOptions.forceMedia){this._autoStarting=true;this._videoEl.setAttribute("playsinline","");}}},setupMediaEngine:function(){this.teardownCurrentMediaEngine();this.primeVideoElement();this.setupFullMediaEngine();this.initializeNewEngine();this.exposeEngineToAppContext();this.setupPruneMonitor();},teardownCurrentMediaEngine:function(){if(this._engine!=null){this.destroyCurrentMediaEngine();}},destroyCurrentMediaEngine:function(){this.removeEngineListeners(this._engine);this._engine.destroy();this._engine=null;},primeVideoElement:function(){this._videoEl.load();},setupFullMediaEngine:function(){if(this.shouldUseNativeMediaEngine()){i2J._logger.debug("[setupFullMediaEngine] Using Native Video media engine.");this._engine=new Z4J(this._videoEl);}else{i2J._logger.debug("[setupFullMediaEngine] Using HlsJs media engine.");this._engine=new h4J(this._videoEl);}},shouldUseNativeMediaEngine:function(){if(!this.isProgressive()){return S4J.ios();}else{return true;}},isProgressive:function(){var T9T=this._config.contentFileData;return T9T.deliveryType=="progressive";},initializeNewEngine:function(){var d9T=this._config.playerConfig;this._engine.init(d9T.media,d9T.features);this.addEngineListeners(this._engine);},exposeEngineToAppContext:function(){var v9T=this._appContext.comps;v9T["media"]=this._engine;},setupPruneMonitor:function(){var V9T=this._config.monitors;var p9T="pruning";var Z9T=!Object.prototype.hasOwnProperty.call(V9T,p9T)?null:Z1J.field(V9T,p9T);this.setupMonitorEventListeners(Z9T);},setupMonitorEventListeners:function(B9T){if(B9T==null){i2J._logger.warn("[setupMonitorEventListeners] Prune monitor does not exist.");return;}i2J._logger.debug("[setupMonitorEventListeners] Listening to notifications from prune monitor.");B9T.events().prune.listen(p1J(this,this.onPruneEvent));},onPruneEvent:function(W9T){if(W9T.pruneType==T2J.Sliding_Window_Change){this._engine.prune(W9T);}},shouldUseNativeMediaControls:function(){var z9T=this._config.playerConfig;if(z9T.media!=null&&z9T.media.useNativeControls!=null){return z9T.media.useNativeControls;}return false;},doProcessMediaCommand:function(S9T){var n9T=S9T.type;switch(n9T[1]){case 0:var e9T=S1J.__cast(S9T,U3J);this._engine.play(e9T.url,e9T.configData);break;case 1:this._engine.pause();break;case 2:this._engine.resume();break;case 3:var s9T=S1J.__cast(S9T,B8J).time;var J9T=s9T;this._engine.seek(J9T);break;case 4:this._engine.seekToLive();break;case 5:this._engine.resize(S1J.__cast(S9T,C3J).width,S1J.__cast(S9T,C3J).height);break;case 6:this._engine.stop();break;}},showVideo:function(){if(this._videoEl==null){return;}this._videoEl.style.visibility="visible";this._videoEl.style.opacity="1";},hideVideo:function(){if(this._videoEl==null){return;}this._videoEl.style.visibility="hidden";this._videoEl.style.opacity="0";},addEngineListeners:function(A9T){var j9T=this._config.playerConfig.media.stallTimeout;if(j9T>0){this._connMonitor.setEngine(A9T).start(j9T);}A9T.events().listen(p1J(this,this.onMediaEvent));A9T.model().events().listen(p1J(this,this.onMediaModelEvent));},removeEngineListeners:function(Q9T){if(this._connMonitor.running()){this._connMonitor.stop();}Q9T.events().unlisten(p1J(this,this.onMediaEvent));Q9T.model().events().unlisten(p1J(this,this.onMediaModelEvent));},onMediaEvent:function(E9T,X8T){var y9T=this;var k9T=function(){y9T.notifyModuleNotificationEvent(w6J.Component_Event,E9T,X8T);};switch(E9T[1]){case 7:this.resetAutoStart();k9T();break;case 19:var r9T=this._videoEl.style.visibility=="visible";var i9T=r9T&&this._engine.model().state()==r1J.Paused;i2J._logger.debug("[onMediaEvent] recovered, should resume: "+(i9T==null?"null":""+i9T));if(i9T){this._engine.resume();}k9T();break;case 26:var I9T=this._connMonitor;var u8T=I9T.running()&&I9T.state()==W6J.Stalled;if(u8T){i2J._logger.info("[onMediaEvent] Ignoring media engine error event, already handled");}else{I9T.stop();k9T();}break;default:k9T();}},resetAutoStart:function(){if(this._autoStarting){this._autoStarting=false;if(!S4J.ie(11)){i2J._logger.debug("[resetAutoStart] Clearing muted attribute.");this._videoEl.removeAttribute("muted");}}},onMediaModelEvent:function(h8T,f8T){this.notifyModuleNotificationEvent(w6J.Model_Update,h8T,f8T);},onConnectionLost:function(D8T){i2J._logger.debug("[onConnectionLost] - Connection loss detected, dispatching stalled event");this.notifyModuleNotificationEvent(w6J.Component_Event,W1J.Stalled,new f4y("Connection loss detected, playback stopped and reset"));},notifyModuleNotificationEvent:function(w8T,Y8T,c8T){var C8T=new g6J(o4J.Media,w8T,Y8T,c8T);this._events.notification.dispatch(C8T);},init:function(F8T){this.doInit(F8T);return this;},handleComponentSetup:function(R8T,U8T){this.doHandleComponentSetup(R8T,U8T);return this;},handleUpdateConfig:function(q8T){this.doHandleUpdateConfig(q8T.media);return this;},handlePlayerNotification:function(o8T){return this;},handleModuleNotification:function(t8T){return this;},processMediaCommand:function(l8T){this.doProcessMediaCommand(l8T);return this;},show:function(){this.showVideo();return this;},hide:function(){this.hideVideo();return this;},events:function(){return this._events;},__class__:i2J};var i5y=function(){};O1J["com.turner.top.sdk.core.player.modules.plugins.IPluginModule"]=i5y;i5y.__name__=["com","turner","top","sdk","core","player","modules","plugins","IPluginModule"];i5y.__interfaces__=[b9J];var W8J=function(G8T){p6J.call(this,o4J.Plugin);this._uri=G8T;};O1J["com.turner.top.sdk.core.player.modules.plugins.PluginModule"]=W8J;W8J.__name__=["com","turner","top","sdk","core","player","modules","plugins","PluginModule"];W8J.__interfaces__=[i5y];W8J.__super__=p6J;W8J.prototype=v1J(p6J.prototype,{_uri:null,createController:function(){return new s9J(this._uri);},__class__:W8J});var w0y=function(){};O1J["com.turner.top.sdk.core.player.modules.plugins.comps.IPluginComponent"]=w0y;w0y.__name__=["com","turner","top","sdk","core","player","modules","plugins","comps","IPluginComponent"];w0y.prototype={_events:null,_id:null,init:null,updateConfig:null,handlePlayerNotification:null,handleModuleNotification:null,destroy:null,events:null,id:null,__class__:w0y};var z4J=function(){this._events=new f7J();this._id="top.plugins.akamaiAnalytics-"+z4J.compIndex++;};O1J["com.turner.top.sdk.core.player.modules.plugins.comps.AkamaiAnalyticsPluginComponent"]=z4J;z4J.__name__=["com","turner","top","sdk","core","player","modules","plugins","comps","AkamaiAnalyticsPluginComponent"];z4J.__interfaces__=[w0y];z4J.prototype={_events:null,_id:null,_win:null,_playlistItem:null,_pluginConfig:null,_pluginMetadata:null,_convivaClient:null,_convivaPlayerStateManager:null,_convivaSessionKey:null,_convivaLastSessionKey:null,_convivaConfigs:null,doInit:function(m8T,K8T){this._win=window;this._playlistItem=m8T.playlistItem;this._pluginConfig=K8T;this._pluginMetadata=this._pluginConfig==null?null:this._pluginConfig.metadata==null?null:this._pluginConfig.metadata;if(!z4J._initialized){if(this._pluginMetadata!=null){this.initAkamaiInstance();z4J._initialized=true;}}},doUpdateConfig:function(N8T){this._pluginConfig=i1J.extend(this._pluginConfig,N8T);},doHandleModuleNotification:function(a8T){var b8T=a8T.eventCategory;switch(b8T[1]){case 0:break;case 1:var g8T=a8T.moduleType;switch(g8T[1]){case 0:this.handleMediaEvent(S1J.__cast(a8T.eventType,W1J),S1J.__cast(a8T.eventResult,m4J));break;case 4:this.handleAnalyticsEvent(S1J.__cast(a8T.eventType,M7J),S1J.__cast(a8T.eventResult,D9J));break;default:}break;case 2:break;}},handleMediaEvent:function(L8T,P8T){switch(L8T[1]){case 0:var M8T=P8T;if(M8T.command==q4J.Play){try{this.handleAkamaiStreamStarting();this.setAkamaiStreamUrl(M8T.args[0]);}catch(x8T){if(x8T instanceof j1J)x8T=x8T.val;z4J._logger.warn("[mediaPlay] Unable to init akamaiAnalytics: "+d1J.string(x8T));}}break;case 4:break;case 14:this.handleAkamaiProfileSwitch(P8T.profile.bitrate);break;case 23:this.handleAkamaiStreamFinished();break;case 25:this.handleAkamaiStreamFinished();break;case 26:this.handleAkamaiStreamError(P8T.description);break;default:}},handleAnalyticsEvent:function(H8T,O8T){switch(H8T[1]){case 0:this.reportEventToAkamai(O8T.event);break;case 1:this.reportErrorToAkamai(O8T.event);break;}},getCurrentMediaElement:function(){var T8T=this._pluginConfig;var d8T=!Object.prototype.hasOwnProperty.call(T8T,"player")?{}:Z1J.field(T8T,"player");if(!Object.prototype.hasOwnProperty.call(d8T,"mediaVideoEl")){return null;}else{return Z1J.field(d8T,"mediaVideoEl");}},doDestroy:function(){},initAkamaiInstance:function(){z4J._loggerAnalytics.debug("[initAkamaiInstance]");if(this._pluginMetadata==null){z4J._logger.warn("[initAkamaiInstance] no pluginMetadata");return;}var v8T=this._pluginMetadata.csmaConfigPath;if(v8T.indexOf("?")==-1){v8T+="?setVideoObject=1";}this.setAkamaiConfigFile(v8T);this.createAkamaiInstance();if(!z4J._initializedVideoEl){z4J._logger.debug("[initAkamaiInstance] setting the akamai video element");this.setAkamaiVideoElement(this.getCurrentMediaElement());z4J._initializedVideoEl=true;}this.disableAkamaiServerIpLookup();},setAkamaiConfigFile:function(V8T){if(this._pluginMetadata==null){z4J._logger.warn("[setAkamaiConfigFile] no pluginMetadata");return;}try{this._win.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=V8T;}catch(p8T){if(p8T instanceof j1J)p8T=p8T.val;z4J._logger.warn("[setAkamaiConfigFile] Unable to set config file: "+d1J.string(p8T));}},createAkamaiInstance:function(){z4J._loggerAnalytics.debug("[createAkamaiInstance]");if(this._pluginMetadata==null){z4J._logger.warn("[createAkamaiInstance] no pluginMetadata");return;}try{this._win.akaMediaAnalytics=new this._win.AkaHTML5MediaAnalytics(null);}catch(Z8T){if(Z8T instanceof j1J)Z8T=Z8T.val;z4J._logger.warn("[setAkamaiConfigFile] Unable to create analytics instance: "+d1J.string(Z8T));}},setAkamaiVideoElement:function(B8T){if(this._pluginMetadata==null){z4J._logger.warn("[setAkamaiVideoElement] no pluginMetadata");return;}try{this._win.akamaiSetVideoObject(B8T);}catch(W8T){if(W8T instanceof j1J)W8T=W8T.val;z4J._logger.warn("[setAkamaiVideoElement] Unable to set video element: "+d1J.string(W8T));}},disableAkamaiServerIpLookup:function(){if(this._pluginMetadata==null){z4J._logger.warn("[disableAkamaiServerIpLookup] no pluginMetadata");return;}try{this._win.akamaiDisableServerIpLookup();}catch(z8T){if(z8T instanceof j1J)z8T=z8T.val;z4J._logger.warn("[disableAkamaiServerIpLookup] Unable to disable server ip lookup: "+d1J.string(z8T));}},setAkamaiStreamUrl:function(S8T){if(this._pluginMetadata==null){z4J._logger.warn("[setAkamaiStreamUrl] no pluginMetadata");return;}try{this._win.akamaiSetStreamURL(S8T,false);}catch(e8T){if(e8T instanceof j1J)e8T=e8T.val;z4J._logger.warn("[setAkamaiConfigFile] Unable to set stream url: "+d1J.string(e8T));}},setAkamaiTag:function(n8T,s8T){if(this._pluginMetadata==null){z4J._logger.warn("[setAkamaiTag] no pluginMetadata");return;}try{this._win.setAkamaiMediaAnalyticsData(n8T,s8T);}catch(J8T){if(J8T instanceof j1J)J8T=J8T.val;z4J._logger.warn("[setAkamaiTag] Unable to specify tag: "+d1J.string(J8T));}},handleAkamaiStreamStarting:function(){if(this._pluginMetadata==null){z4J._logger.warn("[handleAkamaiStreamStarting] no pluginMetadata");return;}try{var Q8T=this._playlistItem.options();var k8T=!Object.prototype.hasOwnProperty.call(Q8T,"akamaiTags")?{}:Z1J.field(Q8T,"akamaiTags");this.setAkamaiTag("std:format","L");var A8T=0;var i8T=[];var j8T=0;var I8T=Z1J.fields(k8T);while(j8T<I8T.length){var E8T=I8T[j8T];++j8T;i8T.push({key:E8T,value:Z1J.field(k8T,E8T)});}var y8T=i8T;while(A8T<y8T.length){var r8T=y8T[A8T];++A8T;this.setAkamaiTag(r8T.key,r8T.value);}this._win.akamaiHandleStreamSwitch();}catch(u3T){if(u3T instanceof j1J)u3T=u3T.val;z4J._logger.warn("[setAkamaiConfigFile] Unable to to handle stream starting: "+d1J.string(u3T));}},handleAkamaiProfileSwitch:function(X3T){if(this._pluginMetadata==null){z4J._logger.warn("[handleAkamaiProfileSwitch] no pluginMetadata");return;}try{this._win.akamaiHandleBitRateSwitch(X3T*1000);}catch(h3T){if(h3T instanceof j1J)h3T=h3T.val;z4J._logger.warn("[setAkamaiConfigFile] Unable to handle stream profile change: "+d1J.string(h3T));}},handleAkamaiStreamFinished:function(){if(this._pluginMetadata==null){z4J._logger.warn("[handleAkamaiStreamFinished] no pluginMetadata");return;}try{this._win.akamaiPlaybackCompleted();}catch(f3T){if(f3T instanceof j1J)f3T=f3T.val;z4J._logger.warn("[setAkamaiConfigFile] Unable to handle stream finished: "+d1J.string(f3T));}},handleAkamaiStreamError:function(D3T){if(this._pluginMetadata==null){z4J._logger.warn("[handleAkamaiStreamError] no pluginMetadata");return;}try{this._win.akamaiHandleError(D3T);}catch(C3T){if(C3T instanceof j1J)C3T=C3T.val;z4J._logger.warn("[handleAkamaiStreamError] Unable to handle stream error: "+d1J.string(C3T));}},setAkamaiRandomData:function(w3T,Y3T){if(this._pluginMetadata==null){z4J._logger.warn("[setAkamaiRandomData] no pluginMetadata");return;}try{this._win.setAkamaiMediaAnalyticsData(w3T,Y3T);}catch(c3T){if(c3T instanceof j1J)c3T=c3T.val;z4J._logger.warn("[setAkamaiRandomData] Unable to specify data: "+d1J.string(c3T));}},reportEventToAkamai:function(F3T){this.setAkamaiRandomData(F3T.name,F3T.data);},reportErrorToAkamai:function(R3T){this.setAkamaiRandomData("error",R3T.data);},notifyModuleNotificationEvent:function(q3T,o3T,t3T){var U3T=new g6J(o4J.Plugin,q3T,o3T,t3T);this._events.notification.dispatch(U3T);},init:function(l3T,G3T){this.doInit(l3T,G3T);return this;},updateConfig:function(m3T){this.doUpdateConfig(m3T);return this;},handlePlayerNotification:function(K3T){return this;},handleModuleNotification:function(N3T){this.doHandleModuleNotification(N3T);return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},id:function(){return this._id;},__class__:z4J};var T4J=function(){this._events=new f7J();this._id="top.plugins.conviva-"+T4J.compIndex++;};O1J["com.turner.top.sdk.core.player.modules.plugins.comps.ConvivaPluginComponent"]=T4J;T4J.__name__=["com","turner","top","sdk","core","player","modules","plugins","comps","ConvivaPluginComponent"];T4J.__interfaces__=[w0y];T4J.prototype={_events:null,_id:null,_config:null,_pluginConfig:null,_playlistItem:null,_pluginMetadata:null,_pluginSessionData:null,_contentData:null,_visibilityHelper:null,_isExternalPlugin:null,_adStartCalled:null,_trackingPaused:null,_midrollAdBreaks:null,_prerollAdBreaks:null,_postrollAdBreaks:null,_currentAdBreak:null,_currentAdDuration:null,_absoluteIndex:null,_convivaClient:null,_convivaSystemFactory:null,_convivaPlayerInterface:null,_convivaPlayerStateManager:null,_convivaSystemSettings:null,_convivaSessionKey:null,_convivaPodIndex:null,_convivaMmlMetadata:null,doInit:function(a3T,b3T){this._convivaSessionKey=Conviva.Client.NO_SESSION_KEY;this.resetData();this._config=a3T;this._playlistItem=a3T.playlistItem;this._pluginConfig=b3T;this.syncPluginMetadata();this.syncPluginSessionData();this.initContentData();this.initPageVisibilityListeners();this._isExternalPlugin=this._contentData==null;this._adStartCalled=false;I1J.events().configChanged.listen(p1J(this,this.onLogConfigChanged));this.attemptToCreateSession();},doUpdateConfig:function(g3T){var P3T=Object.prototype.hasOwnProperty.call(g3T,"metadata")||Object.prototype.hasOwnProperty.call(g3T,"data");this._pluginConfig=i1J.extendDeep(this._pluginConfig,g3T);if(P3T){this.syncPluginMetadata();this.syncPluginSessionData();this.syncActiveSessionData(g3T);}},syncPluginMetadata:function(){var x3T={};var M3T=this._pluginConfig;var L3T=M3T==null?{}:M3T;this._pluginMetadata=i1J.extendDeep(x3T,!Object.prototype.hasOwnProperty.call(L3T,"metadata")?{}:Z1J.field(L3T,"metadata"));},syncPluginSessionData:function(){var T3T={};var O3T=this._pluginConfig;var H3T=O3T==null?{}:O3T;this._pluginSessionData=i1J.extendDeep(T3T,!Object.prototype.hasOwnProperty.call(H3T,"data")?{}:Z1J.field(H3T,"data"));},syncActiveSessionData:function(v3T){if(!this.hasValidSession()){return;}var S3T=!Object.prototype.hasOwnProperty.call(v3T,"metadata")?{}:Z1J.field(v3T,"metadata");var e3T=!Object.prototype.hasOwnProperty.call(v3T,"data")?{}:Z1J.field(v3T,"data");var Z3T=i1J.extendDeepWith({},[S3T,e3T]);var p3T={"tags":"custom"};var B3T=new Conviva.ContentMetadata();var V3T=0;var W3T=Z1J.fields(Z3T);while(V3T<W3T.length){var d3T=W3T[V3T];++V3T;var z3T=Z3T[d3T];if(Object.prototype.hasOwnProperty.call(p3T,d3T)){d3T=Z1J.field(p3T,d3T);}try{B3T[d3T]=z3T;}catch(n3T){T4J._loggerAnalytics.warn("[syncActiveSessionData] could not set value for content metadata key: "+d3T);}}this._convivaClient.updateContentMetadata(this._convivaSessionKey,B3T);},resetData:function(){this._prerollAdBreaks=0;this._midrollAdBreaks=0;this._postrollAdBreaks=0;this._convivaPodIndex=0;this._trackingPaused=false;},initContentData:function(){if(this._config!=null&&Object.prototype.hasOwnProperty.call(this._config,"contentFileData")){this._contentData={url:this._config.contentFileData.url,isLive:this._playlistItem.contentEntry().isLive()};}},initPageVisibilityListeners:function(){this._visibilityHelper=new s3y();this._visibilityHelper.init();this._visibilityHelper.onPageHidden(p1J(this,this.resetMobilePodIndex));},resetMobilePodIndex:function(){if(S4J.mobileLike()){T4J._loggerAnalytics.info("[resetPodIndex] Resetting pod index because of browser focus");this._convivaPodIndex=0;}},attemptToCreateSession:function(){if(this._contentData!=null){this.doCreateSession(this._contentData,this._playlistItem.options());}},doCreateSession:function(s3T,J3T){try{this.initConvivaInstance(s3T);this.createConvivaSession(s3T,J3T);}catch(A3T){if(A3T instanceof j1J)A3T=A3T.val;T4J._logger.warn("[doCreateSession] Unable to create conviva session: "+d1J.string(A3T));}},doHandlePlayerNotification:function(j3T){var Q3T=j3T.eventCategory;if(Q3T[1]==1){var k3T=j3T.sourceType;if(k3T[1]==2){this.handleTransactionStateChange(j3T.eventResult);}}},handleTransactionStateChange:function(E3T){var i3T=null;var I3T=E3T.currentState;switch(I3T[1]){case 6:i3T=this.getAdMetadata();this._convivaClient.adStart(this._convivaSessionKey,i3T.stream,i3T.player,i3T.position);this._adStartCalled=true;break;case 7:if(this._adStartCalled){this._convivaClient.adEnd(this._convivaSessionKey);this._adStartCalled=false;}break;default:}},doHandleModuleNotification:function(y3T){var r3T=y3T.eventCategory;if(r3T[1]==1){var u5T=y3T.moduleType;switch(u5T[1]){case 0:this.handleMediaEvent(S1J.__cast(y3T.eventType,W1J),S1J.__cast(y3T.eventResult,m4J));break;case 1:this.handleAdEvent(S1J.__cast(y3T.eventType,s1J),S1J.__cast(y3T.eventResult,Q2J));break;case 4:this.handleAnalyticsEvent(S1J.__cast(y3T.eventType,M7J),S1J.__cast(y3T.eventResult,D9J));break;case 5:this.handleTimelineEvent(S1J.__cast(y3T.eventType,s4J),S1J.__cast(y3T.eventResult,u9J));break;case 6:if(S1J.__instanceof(y3T.eventType,s1J)){this.handlePluginAdEvent(S1J.__cast(y3T.eventType,s1J),S1J.__cast(y3T.eventResult,Q2J));}break;default:}}},doResumeTracking:function(){if(!this.hasValidSession()){T4J._loggerAnalytics.warn("[doResumeTracking] could not resume tracking, no valid session found");return;}if(!this._trackingPaused||this.isInAdBreak()){T4J._loggerAnalytics.warn("[doResumeTracking] ignoring, tracking not paused or already not monitored in ad break");return;}this._convivaClient.adEnd(this._convivaSessionKey);this._trackingPaused=false;},doPauseTracking:function(){if(!this.hasValidSession()){T4J._loggerAnalytics.warn("[doPauseTracking] could not pause tracking, no valid session found");return;}if(this._trackingPaused||this.isInAdBreak()){T4J._loggerAnalytics.warn("[doPauseTracking] ignoring, tracking is paused or already not monitored in ad break");return;}this._trackingPaused=true;var X5T=this.getAdMetadata();this._convivaClient.adStart(this._convivaSessionKey,X5T.stream,X5T.player,X5T.position);},handleAdEvent:function(f5T,h5T){switch(f5T[1]){case 6:this._currentAdBreak=h5T.adBreak;this._convivaPodIndex++;break;case 8:this._currentAdDuration=h5T.duration;try{this.handleConvivaAdStart();}catch(D5T){if(D5T instanceof j1J)D5T=D5T.val;T4J._logger.warn("[handleAdEvent] Unable to handle ad start: "+d1J.string(D5T));}break;case 12:this._currentAdDuration=h5T.duration;break;case 20:try{this.handleConvivaAdEnd();}catch(C5T){if(C5T instanceof j1J)C5T=C5T.val;T4J._logger.warn("[handleAdEvent] Unable to handle ad end: "+d1J.string(C5T));}this._currentAdBreak=null;break;case 21:try{}catch(w5T){if(w5T instanceof j1J)w5T=w5T.val;T4J._logger.warn("[handleAdEvent] Unable to handle ad error: "+d1J.string(w5T));}this._currentAdBreak=null;break;default:}},handlePluginAdEvent:function(Y5T,c5T){switch(Y5T[1]){case 6:this._currentAdBreak=c5T.adBreak;this._convivaMmlMetadata=this._currentAdBreak.opportunity.custom.attr;this._convivaPodIndex++;T4J._loggerAnalytics.info("[handlePluginEvent] Triggering mml ad break: "+JSON.stringify(this._convivaMmlMetadata,null,"\t"));try{this.handleConvivaAdStart();}catch(F5T){if(F5T instanceof j1J)F5T=F5T.val;T4J._logger.warn("[handleAdEvent] Unable to handle ad start: "+d1J.string(F5T));}break;case 20:try{this.handleConvivaAdEnd();}catch(R5T){if(R5T instanceof j1J)R5T=R5T.val;T4J._logger.warn("[handleAdEvent] Unable to handle ad end: "+d1J.string(R5T));}T4J._loggerAnalytics.info("[handlePluginEvent] Finishing mml ad break");this._currentAdBreak=null;break;default:}},handleConvivaAdStart:function(){var U5T=this._currentAdBreak;if(this._currentAdBreak==null){T4J._logger.warn("[handleConvivaAdStart] ignoring, no ad break");return;}if(this.shouldSkipAdBreak(U5T)){T4J._logger.warn("[handleConvivaAdStart] ignoring, no ads in break for type: "+d1J.string(U5T.type));return;}var q5T=this._currentAdBreak.type;switch(q5T[1]){case 0:this.handleConvivaPrerollStart();break;case 1:this.handleConvivaMidrollStart();break;case 2:this.handleConvivaPostrollStart();break;default:T4J._logger.warn("[handleConvivaAdStart] unhandled ad break type: "+d1J.string(U5T.type));}},handleConvivaAdEnd:function(){var o5T=this._currentAdBreak;if(o5T==null){T4J._logger.warn("[handleConvivaAdEnd] ignoring, no ad break");return;}if(this.shouldSkipAdBreak(o5T)){T4J._logger.warn("[handleConvivaAdEnd] ignoring, no ads in break for type: "+d1J.string(o5T.type));return;}var t5T=o5T.type;switch(t5T[1]){case 0:this.handleConvivaPrerollEnd();break;case 1:this.handleConvivaMidrollEnd();break;case 2:this.handleConvivaPostrollEnd();break;default:T4J._logger.warn("[handleConvivaAdEnd] unhandled ad break type: "+d1J.string(o5T.type));}},handleMediaEvent:function(a5T,l5T){switch(a5T[1]){case 0:var G5T=l5T;if(G5T.command==q4J.Play){try{this.detachConvivaSessionFromPlayer();this.attachConvivaSessionToPlayer();}catch(b5T){if(b5T instanceof j1J)b5T=b5T.val;T4J._logger.warn("[mediaPlay] Unable to attach player to conviva session: "+d1J.string(b5T));}}break;case 14:var m5T=l5T.profile.bitrate;this._convivaPlayerStateManager.setBitrateKbps(m5T);break;case 23:if(!this._isExternalPlugin){this.attemptCleanupConvivaSession();}break;case 25:if(!this._isExternalPlugin){this.attemptCleanupConvivaSession();}break;case 26:var K5T=l5T.description;var N5T="Desktop Player: [internal] "+K5T;this.reportErrorToConviva({data:N5T,severity:o7J.Fatal});if(!this._isExternalPlugin){this.attemptCleanupConvivaSession();}break;default:}},attemptCleanupConvivaSession:function(){try{this.cleanupConvivaSession();}catch(g5T){if(g5T instanceof j1J)g5T=g5T.val;T4J._logger.warn("[attemptCleanupConvivaSession] Unable to cleanup conviva: "+d1J.string(g5T));}this.resetData();},handleAnalyticsEvent:function(M5T,P5T){switch(M5T[1]){case 0:this.reportEventToConviva(P5T.event);break;case 1:this.reportErrorToConviva(P5T.event);break;}},handleTimelineEvent:function(L5T,x5T){if(L5T==s4J.Marker_Added&&x5T.marker.type()==E6J.Ad_Midroll){this._midrollAdBreaks++;T4J._loggerAnalytics.info("[handleTimelineEvent] Updating total midroll breaks: "+this._midrollAdBreaks);}},onLogConfigChanged:function(O5T){this.syncLogLevel();},hasValidSession:function(){if(this._convivaClient!=null){return this._convivaSessionKey!=Conviva.Client.NO_SESSION_KEY;}else{return false;}},isInAdBreak:function(){return this._currentAdBreak!=null;},syncLogLevel:function(){if(this._convivaSystemSettings==null){return;}var T5T=I1J.data();var d5T=T5T.levels;var H5T="NONE";if(T5T.enabled){if(d5T.verbose){H5T="DEBUG";}else{H5T="INFO";}}T4J._logger.info("[syncLogLevel] setting SDK log level to: "+H5T);var v5T=Z1J.field(Conviva.SystemSettings.LogLevel,H5T);this._convivaSystemSettings.logLevel=v5T;},getCurrentMediaElement:function(){var V5T=this._pluginConfig;var p5T=!Object.prototype.hasOwnProperty.call(V5T,"player")?{}:Z1J.field(V5T,"player");if(!Object.prototype.hasOwnProperty.call(p5T,"mediaVideoEl")){return null;}else{return Z1J.field(p5T,"mediaVideoEl");}},shouldSkipAdBreak:function(Z5T){var B5T=Z5T.slots.length>0;var W5T=i7J.fold(Z5T.slots,function(S5T,e5T){return S5T.custom.fwSlot.getAdCount();},0);var z5T=W5T==0;if(!!B5T){return z5T;}else{return true;}},doDestroy:function(){this._visibilityHelper.destroy();this._visibilityHelper=null;},initConvivaInstance:function(J5T){T4J._loggerAnalytics.debug("[initConvivaInstance]");if(this._pluginMetadata==null){T4J._logger.warn("[initConvivaInstance] no pluginMetadata");return;}this._convivaSystemSettings=new Conviva.SystemSettings();this.syncLogLevel();var s5T=new Conviva.SystemInterface(new Conviva.Impl.Html5Time(),new Conviva.Impl.Html5Timer(),new Conviva.Impl.Html5Http(),new Conviva.Impl.Html5Storage(),new Conviva.Impl.Html5Metadata(),new Conviva.Impl.Html5Logging());this._convivaSystemFactory=new Conviva.SystemFactory(s5T,this._convivaSystemSettings);var n5T=new Conviva.ClientSettings(this._pluginMetadata.customerKey);if(this._pluginMetadata.touchstoneUrl!=null){n5T.gatewayUrl=this._pluginMetadata.touchstoneUrl;}this._convivaClient=new Conviva.Client(n5T,this._convivaSystemFactory);this._convivaPlayerStateManager=this._convivaClient.getPlayerStateManager();},getCombinedPrioritizedConfig:function(j5T){var A5T={};A5T=i1J.extendDeepWith(A5T,[this._pluginMetadata,this._pluginSessionData,!Object.prototype.hasOwnProperty.call(j5T,"convivaMetadata")?{}:Z1J.field(j5T,"convivaMetadata")]);var Q5T=this._pluginSessionData;A5T["tags"]=i1J.extendDeepWith(T4J._defaultTags,[!Object.prototype.hasOwnProperty.call(Q5T,"tags")?{}:Z1J.field(Q5T,"tags"),!Object.prototype.hasOwnProperty.call(j5T,"convivaTags")?{}:Z1J.field(j5T,"convivaTags")]);return A5T;},createConvivaSession:function(I5T,E5T){this._contentData=I5T;T4J._loggerAnalytics.debug("[createConvivaSession]");if(this._pluginMetadata==null){T4J._logger.warn("[createConvivaSession] no pluginMetadata");return;}this.cleanupConvivaSession();var y5T=E5T==null?{}:E5T;var k5T=this.getCombinedPrioritizedConfig(y5T);var i5T=new Conviva.ContentMetadata();i5T.assetName=!Object.prototype.hasOwnProperty.call(k5T,"assetName")?null:Z1J.field(k5T,"assetName");i5T.applicationName=k5T["applicationName"];var r5T=I5T.url;i5T.streamUrl=!Object.prototype.hasOwnProperty.call(k5T,"streamUrl")?r5T:Z1J.field(k5T,"streamUrl");i5T.viewerId=!Object.prototype.hasOwnProperty.call(k5T,"viewerId")?null:Z1J.field(k5T,"viewerId");var u00=I5T.isLive;i5T.streamType=(!Object.prototype.hasOwnProperty.call(k5T,"live")?u00:Z1J.field(k5T,"live"))?Conviva.ContentMetadata.StreamType.LIVE:Conviva.ContentMetadata.StreamType.VOD;if(Object.prototype.hasOwnProperty.call(k5T,"defaultBitrateKbps")){i5T.defaultBitrateKbps=k5T["defaultBitrateKbps"];}if(Object.prototype.hasOwnProperty.call(k5T,"defaultResource")){i5T.defaultResource=k5T["defaultResource"];}if(Object.prototype.hasOwnProperty.call(k5T,"duration")){i5T.duration=k5T["duration"];}if(Object.prototype.hasOwnProperty.call(k5T,"encodedFrameRate")){i5T.encodedFrameRate=k5T["encodedFrameRate"];}i5T.custom=k5T["tags"];this._convivaSessionKey=this._convivaClient.createSession(i5T);T4J._loggerAnalytics.debug("[createConvivaSession] session key: "+this._convivaSessionKey);},handleConvivaPrerollStart:function(){T4J._loggerAnalytics.info("[handleConvivaPrerollStart] Starting Conviva ad pre-roll");this._prerollAdBreaks++;this._absoluteIndex=1;var X00=this.getAdMetadata();this._convivaClient.adStart(this._convivaSessionKey,X00.stream,X00.player,X00.position);this._convivaClient.sendCustomEvent(this._convivaSessionKey,"Conviva.PodStart",this.getPodMetadata());},handleConvivaMidrollStart:function(){T4J._loggerAnalytics.info("[handleConvivaMidrollStart] Starting Conviva ad mid-roll");this._absoluteIndex=this._prerollAdBreaks+this._currentAdBreak.opportunity.cuepointSequence;this._convivaClient.detachPlayer(this._convivaSessionKey);this._convivaClient.sendCustomEvent(this._convivaSessionKey,"Conviva.PodStart",this.getPodMetadata());},handleConvivaPostrollStart:function(){T4J._loggerAnalytics.info("[handleConvivaPostrollStart] Starting Conviva ad post-roll");this._postrollAdBreaks++;this._absoluteIndex=this._prerollAdBreaks+this._midrollAdBreaks+this._postrollAdBreaks;this._convivaClient.detachPlayer(this._convivaSessionKey);this._convivaClient.sendCustomEvent(this._convivaSessionKey,"Conviva.PodStart",this.getPodMetadata());},handleConvivaPrerollEnd:function(){T4J._loggerAnalytics.info("[handleConvivaPrerollEnd] Ending Conviva ad pre-roll");this._convivaClient.adEnd(this._convivaSessionKey);this._convivaClient.sendCustomEvent(this._convivaSessionKey,"Conviva.PodEnd",this.getPodEndMetadata());},handleConvivaMidrollEnd:function(){T4J._loggerAnalytics.info("[handleConvivaMidrollEnd] Ending Conviva ad mid-roll");this._convivaClient.sendCustomEvent(this._convivaSessionKey,"Conviva.PodEnd",this.getPodEndMetadata());this._convivaClient.attachPlayer(this._convivaSessionKey,this._convivaPlayerStateManager);},handleConvivaPostrollEnd:function(){this._convivaClient.sendCustomEvent(this._convivaSessionKey,"Conviva.PodEnd",this.getPodEndMetadata());},getAdMetadata:function(){var h00={stream:Conviva.Client.AdStream.SEPARATE,player:Conviva.Client.AdPlayer.SEPARATE,position:Conviva.Client.AdPosition.PREROLL};if(this._currentAdBreak!=null){if(this._currentAdBreak.type==g4J.Midroll){h00.position=Conviva.Client.AdPosition.MIDROLL;}else if(this._currentAdBreak.type==g4J.Postroll){h00.position=Conviva.Client.AdPosition.POSTROLL;}}T4J._loggerAnalytics.info("[getAdMetadata] Configured ad metadata: "+d1J.string(h00));return h00;},getPodEndMetadata:function(){var f00=this.getPodMetadata();var D00=!Object.prototype.hasOwnProperty.call(f00,"podDuration")?null:Z1J.field(f00,"podDuration");Z1J.deleteField(f00,"podDuration");return f00;},getPodMetadata:function(){var w00=this._currentAdDuration;var C00={podDuration:d1J.string(w00==null?0:w00),podPosition:"Pre-roll",podIndex:d1J.string(this._convivaPodIndex),absoluteIndex:d1J.string(this._absoluteIndex)};if(this._convivaMmlMetadata!=null){C00.podDuration=this._convivaMmlMetadata.podDuration;C00.absoluteIndex=this._convivaMmlMetadata.absoluteIndex;}if(this._currentAdBreak!=null){if(this._currentAdBreak.type==g4J.Midroll){C00.podPosition="Mid-roll";}else if(this._currentAdBreak.type==g4J.Postroll){C00.podPosition="Post-roll";}}T4J._loggerAnalytics.info("[getPodMetadata] Configured pod metadata: "+d1J.string(C00));return C00;},attachConvivaSessionToPlayer:function(){if(this._pluginMetadata==null){T4J._logger.warn("[attachConvivaSessionToPlayer] no pluginMetadata");return;}this._convivaPlayerInterface=new Conviva.Impl.Html5PlayerInterface(this._convivaPlayerStateManager,this.getCurrentMediaElement(),this._convivaSystemFactory);this._convivaClient.attachPlayer(this._convivaSessionKey,this._convivaPlayerStateManager);},detachConvivaSessionFromPlayer:function(){if(this._convivaSessionKey==Conviva.Client.NO_SESSION_KEY){T4J._logger.warn("[detachConvivaSessionFromPlayer] ignoring, no session key set");return;}this._convivaClient.detachPlayer(this._convivaSessionKey);},reportEventToConviva:function(Y00){try{this._convivaClient.sendCustomEvent(this._convivaSessionKey,Y00.name,{data:Y00.data});}catch(c00){if(c00 instanceof j1J)c00=c00.val;T4J._logger.warn("[reportEventToConviva] Unable to report error to conviva: "+d1J.string(c00));}},reportErrorToConviva:function(R00){try{var F00;var U00=R00.severity;switch(U00[1]){case 0:F00=Conviva.Client.ErrorSeverity.WARNING;break;case 1:F00=Conviva.Client.ErrorSeverity.FATAL;break;}this._convivaClient.reportError(this._convivaSessionKey,R00.data,F00);}catch(q00){if(q00 instanceof j1J)q00=q00.val;T4J._logger.warn("[reportErrorToConviva] Unable to report error to conviva: "+d1J.string(q00));}},cleanupConvivaSession:function(){if(this._pluginMetadata==null){T4J._logger.warn("[cleanupConvivaSession] no pluginMetadata");return;}if(this._convivaSessionKey==Conviva.Client.NO_SESSION_KEY){T4J._logger.info("[cleanupConvivaSession] ignoring as no session key set");return;}if(this._convivaPlayerInterface!=null){this._convivaPlayerInterface.cleanup();this._convivaPlayerInterface=null;}this._convivaClient.releasePlayerStateManager(this._convivaPlayerStateManager);this._convivaPlayerStateManager=null;this._convivaClient.cleanupSession(this._convivaSessionKey);this._convivaSessionKey=Conviva.Client.NO_SESSION_KEY;this.releaseConvivaClient();},releaseConvivaClient:function(){if(this._convivaClient!=null){this._convivaClient.release();this._convivaClient=null;}if(this._convivaSystemFactory!=null){this._convivaSystemFactory.release();this._convivaSystemFactory=null;}},notifyModuleNotificationEvent:function(t00,l00,G00){var o00=new g6J(o4J.Plugin,t00,l00,G00);this._events.notification.dispatch(o00);},init:function(m00,K00){this.doInit(m00,K00);return this;},updateConfig:function(N00){this.doUpdateConfig(N00);return this;},createSession:function(a00,b00){this.doCreateSession(a00,b00);return this;},reportEvent:function(g00){this.reportEventToConviva(g00);return this;},reportError:function(P00){this.reportErrorToConviva(P00);return this;},resumeTracking:function(){this.doResumeTracking();return this;},pauseTracking:function(){this.doPauseTracking();return this;},handlePlayerNotification:function(M00){this.doHandlePlayerNotification(M00);return this;},handleModuleNotification:function(L00){this.doHandleModuleNotification(L00);return this;},cleanupSession:function(){this.attemptCleanupConvivaSession();return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},id:function(){return this._id;},__class__:T4J};var P2J=function(){this._events=new f7J();this._id="top.plugins.mml.linearAds-"+P2J.compIndex++;};O1J["com.turner.top.sdk.core.player.modules.plugins.comps.LinearAdsPluginComponent"]=P2J;P2J.__name__=["com","turner","top","sdk","core","player","modules","plugins","comps","LinearAdsPluginComponent"];P2J.__interfaces__=[w0y];P2J.prototype={_events:null,_id:null,_config:null,_pluginConfig:null,_currentId3Metadata:null,_previousAdId:null,_isPlayingAd:null,doInit:function(O00,x00){this._isPlayingAd=false;this._pluginConfig=x00;},doUpdateConfig:function(H00){this._pluginConfig=i1J.extend(this._pluginConfig,H00);},resetCurrentId3Metadata:function(){this._currentId3Metadata={};},doHandleModuleNotification:function(T00){var d00=T00.eventCategory;if(d00[1]==1){var v00=T00.moduleType;if(v00[1]==2){this.handleCueEvent(S1J.__cast(T00.eventType,N6J),S1J.__cast(T00.eventResult,n2J));}}},handleCueEvent:function(p00,V00){if(p00[1]==2){if(V00.cue.type==P4J.ID3){this.handleId3CueActivated(V00.cue);}}},handleId3CueActivated:function(z00){var Z00=z00.data.result;this.resetCurrentId3Metadata();if(Z00==null){P2J._logger.warn("[handleId3CueActivated] Incoming cue data response is null.");return;}if(!(Z00 instanceof Array&&Z00.__enum__==null)){P2J._logger.warn("[handleId3CueActivated] Incoming cue data response is not an array.");return;}var B00=0;while(B00<Z00.length){var W00=Z00[B00];++B00;this.mapParsedData(this.parseData(W00));}try{this.checkForAdBreak();this.checkForSlotChange();}catch(S00){if(S00 instanceof j1J)S00=S00.val;P2J._logger.warn("[handleId3CueActivated] Unable to check for ad break: "+d1J.string(S00));}},parseData:function(e00){try{return JSON.parse(e00);}catch(n00){if(n00 instanceof j1J)n00=n00.val;P2J._logger.warn("[handleId3CueActivated] Invalid JSON: "+d1J.string(n00));return null;}},mapParsedData:function(s00){if(s00==null){P2J._logger.warn("[mapParsedData] Parsed cue data is null.");return;}if(Object.prototype.hasOwnProperty.call(s00,"gameId")){var J00=this._currentId3Metadata;J00["program"]=s00;}else if(Object.prototype.hasOwnProperty.call(s00,"gameState")){var A00=this._currentId3Metadata;A00["game"]=s00;}else if(Object.prototype.hasOwnProperty.call(s00,"event")){var j00=this._currentId3Metadata;j00["pod"]=s00;}else if(Object.prototype.hasOwnProperty.call(s00,"attr")){var Q00=this._currentId3Metadata;Q00["conviva"]=s00;}},checkForAdBreak:function(){if(!Object.prototype.hasOwnProperty.call(this._currentId3Metadata,"pod")||!Object.prototype.hasOwnProperty.call(this._currentId3Metadata.pod,"event")){return;}if(this._currentId3Metadata.pod.event=="ADPLAY"&&!this._isPlayingAd){this.handleAdStarted();}else if(this._currentId3Metadata.pod.event=="PODEND"&&this._isPlayingAd){this.handleAdFinished();}},checkForSlotChange:function(){if(!this._isPlayingAd||!Object.prototype.hasOwnProperty.call(this._currentId3Metadata,"pod")||!Object.prototype.hasOwnProperty.call(this._currentId3Metadata.pod,"adId")){return;}var k00=this._currentId3Metadata.pod.adId;if(this._previousAdId==null){this._previousAdId=k00;}if(this._previousAdId!=k00){this.handleSlotChanged();}this._previousAdId=k00;},handleAdStarted:function(){this.notifyAdStarted();this.notifySlotStarted();},handleAdFinished:function(){this.notifySlotFinished();this.notifyAdFinished();},handleSlotChanged:function(){this.notifySlotFinished();this.notifySlotStarted();},doDestroy:function(){},notifyAdStarted:function(){if(!Object.prototype.hasOwnProperty.call(this._currentId3Metadata,"conviva")){return;}this._isPlayingAd=true;var i00=this._currentId3Metadata;var I00=!Object.prototype.hasOwnProperty.call(i00,"program")?{}:Z1J.field(i00,"program");var E00=this._currentId3Metadata;var y00=!Object.prototype.hasOwnProperty.call(E00,"game")?{}:Z1J.field(E00,"game");var r00={responseId:I00.adListId,type:g4J.Midroll,id:I00.adListId,time:y00.tc,persist:false,opportunity:{type:g4J.Midroll,id:this._currentId3Metadata.pod.adId,custom:this._currentId3Metadata.conviva},slots:[]};var u10=new M5J(r00);var X10=new g6J(o4J.Plugin,w6J.Component_Event,s1J.Starting,u10);P2J._loggerAnalytics.info("[notifyAdFinished] Linear ad started");this._events.notification.dispatch(X10);},notifySlotStarted:function(){var h10=new A4J();var D10=new g6J(o4J.Plugin,w6J.Component_Event,s1J.Slot_Started,h10);this._events.notification.dispatch(D10);},notifySlotFinished:function(){var C10=new A4J();var w10=new g6J(o4J.Plugin,w6J.Component_Event,s1J.Slot_Ended,C10);this._events.notification.dispatch(w10);},notifyAdFinished:function(){this._isPlayingAd=false;var Y10=new A4J();var c10=new g6J(o4J.Plugin,w6J.Component_Event,s1J.Finished,Y10);P2J._loggerAnalytics.info("[notifyAdFinished] Linear ad finished");this._events.notification.dispatch(c10);},notifyModuleNotificationEvent:function(R10,U10,q10){var F10=new g6J(o4J.Plugin,R10,U10,q10);this._events.notification.dispatch(F10);},init:function(o10,t10){this.doInit(o10,t10);return this;},updateConfig:function(l10){this.doUpdateConfig(l10);return this;},handlePlayerNotification:function(G10){return this;},handleModuleNotification:function(m10){this.doHandleModuleNotification(m10);return this;},destroy:function(){this.doDestroy();},events:function(){return this._events;},id:function(){return this._id;},__class__:P2J};var A5y=function(){};O1J["com.turner.top.sdk.core.player.modules.plugins.controllers.IPluginController"]=A5y;A5y.__name__=["com","turner","top","sdk","core","player","modules","plugins","controllers","IPluginController"];A5y.__interfaces__=[M9J];var s9J=function(K10){this._events=new f7J();this._kind=K10;};O1J["com.turner.top.sdk.core.player.modules.plugins.controllers.PluginController"]=s9J;s9J.__name__=["com","turner","top","sdk","core","player","modules","plugins","controllers","PluginController"];s9J.__interfaces__=[A5y];s9J.prototype={_events:null,_appContext:null,_kind:null,_playlistItem:null,_pluginConfig:null,_pluginComp:null,doInit:function(N10){this._appContext=N10;},doHandleComponentSetup:function(b10,L10){this._playlistItem=b10.playlistItem;var g10=b10.playerConfig;if(g10.plugins!=null){var P10=g10.plugins;var a10=0;while(a10<P10.length){var M10=P10[a10];++a10;if(M10.kind==this._kind){this._pluginConfig=M10;break;}}}if(this._pluginConfig!=null){this._pluginComp=this.createPluginComponent();if(this._pluginConfig.ref==null){this._pluginComp.init(b10,this._pluginConfig);this._pluginComp.events().listen(p1J(this,this.onPluginCompEvent));}this._pluginComp.updateConfig({kind:this._kind,player:{mediaVideoEl:this._appContext.mediaVideoEl}});}L10(null);},createPluginComponent:function(){if(s9J._debug){s9J._logger.debug("[createPluginComponent] kind: "+this._kind);}if(this._pluginConfig.ref!=null){return this._appContext.sdkConfigData.globalRegistry.getComponentById(this._pluginConfig.ref);}var x10=this._kind;switch(x10){case"top.plugins.akamaiAnalytics":return new z4J();case"top.plugins.conviva":return new T4J();case"top.plugins.mml.linearAds":return new P2J();default:return null;}},doHandleUpdateConfig:function(v10){var T10=this;var H10=v10.filter(function(V10){return V10.kind==T10._kind;});var O10=H10[0];var d10=H10.length>0&&(U4J["typeof"](O10)==R4J.TObject&&!S1J.__instanceof(O10,H6J)&&!S1J.__instanceof(O10,M6J));if(d10){this._pluginComp.updateConfig(O10);}},doHandlePlayerNotification:function(p10){if(this._pluginComp==null){return;}this._pluginComp.handlePlayerNotification(p10);},doHandleModuleNotification:function(Z10){if(this._pluginComp==null){return;}this._pluginComp.handleModuleNotification(Z10);},onPluginCompEvent:function(W10,B10){this.notifyModuleNotificationEvent(S1J.__cast(B10,g6J));},notifyModuleNotificationEvent:function(z10){this._events.notification.dispatch(z10);},init:function(S10){this.doInit(S10);return this;},handleComponentSetup:function(e10,n10){this.doHandleComponentSetup(e10,n10);return this;},handleUpdateConfig:function(J10){var s10=J10.plugins;this.doHandleUpdateConfig(s10==null?[]:s10);return this;},handlePlayerNotification:function(A10){this.doHandlePlayerNotification(A10);return this;},handleModuleNotification:function(j10){this.doHandleModuleNotification(j10);return this;},show:function(){return this;},hide:function(){return this;},events:function(){return this._events;},__class__:s9J};var Q1y=function(){};O1J["com.turner.top.sdk.core.player.modules.validation.IValidationModule"]=Q1y;Q1y.__name__=["com","turner","top","sdk","core","player","modules","validation","IValidationModule"];Q1y.__interfaces__=[b9J];Q1y.prototype={processValidationCommand:null,__class__:Q1y};var y7J=O1J["com.turner.top.sdk.core.player.modules.validation.ValidationCommandType"]={__ename__:["com","turner","top","sdk","core","player","modules","validation","ValidationCommandType"],__constructs__:["Start","Stop"]};y7J.Start=["Start",0];y7J.Start.toString=H1J;y7J.Start.__enum__=y7J;y7J.Stop=["Stop",1];y7J.Stop.toString=H1J;y7J.Stop.__enum__=y7J;y7J.__empty_constructs__=[y7J.Start,y7J.Stop];var n9J=function(Q10,k10){A6J.call(this,Q10,k10);};O1J["com.turner.top.sdk.core.player.modules.validation.ValidationCommand"]=n9J;n9J.__name__=["com","turner","top","sdk","core","player","modules","validation","ValidationCommand"];n9J.__super__=A6J;n9J.prototype=v1J(A6J.prototype,{__class__:n9J});var p1y=function(){n9J.call(this,y7J.Start);};O1J["com.turner.top.sdk.core.player.modules.validation.ValidationStartCommand"]=p1y;p1y.__name__=["com","turner","top","sdk","core","player","modules","validation","ValidationStartCommand"];p1y.__super__=n9J;p1y.prototype=v1J(n9J.prototype,{__class__:p1y});var v1y=function(){n9J.call(this,y7J.Stop);};O1J["com.turner.top.sdk.core.player.modules.validation.ValidationStopCommand"]=v1y;v1y.__name__=["com","turner","top","sdk","core","player","modules","validation","ValidationStopCommand"];v1y.__super__=n9J;v1y.prototype=v1J(n9J.prototype,{__class__:v1y});var y5J=function(){p6J.call(this,o4J.Validation);};O1J["com.turner.top.sdk.core.player.modules.validation.ValidationModule"]=y5J;y5J.__name__=["com","turner","top","sdk","core","player","modules","validation","ValidationModule"];y5J.__interfaces__=[Q1y];y5J.__super__=p6J;y5J.prototype=v1J(p6J.prototype,{createController:function(){return new y2J();},doProcessValidationCommand:function(i10){this._controller.processValidationCommand(i10);},processValidationCommand:function(I10){this.doProcessValidationCommand(I10);return this;},__class__:y5J});var T1y=function(){};O1J["com.turner.top.sdk.core.player.modules.validation.controllers.IValidationController"]=T1y;T1y.__name__=["com","turner","top","sdk","core","player","modules","validation","controllers","IValidationController"];T1y.__interfaces__=[M9J];T1y.prototype={processValidationCommand:null,__class__:T1y};var y2J=function(){this._events=new f7J();};O1J["com.turner.top.sdk.core.player.modules.validation.controllers.ValidationController"]=y2J;y2J.__name__=["com","turner","top","sdk","core","player","modules","validation","controllers","ValidationController"];y2J.__interfaces__=[T1y];y2J.prototype={_events:null,_config:null,_playlistItem:null,_validationManager:null,doHandleComponentSetup:function(E10,y10){this._config=E10.playerConfig.validation;this._playlistItem=E10.playlistItem;this._validationManager=new L6J();this._validationManager.init(this._playlistItem,this._config);this.addManagerListeners(this._validationManager);y10(null);},doHandleUpdateConfig:function(r10){y2J._logger.debug("[doHandleUpdateConfig] Updating validation controller config: "+d1J.string(r10));this._validationManager.updateConfig(r10);},doProcessValidationCommand:function(u40){y2J._logger.debug("[doProcessValidationCommand] Validation command received: "+d1J.string(u40));var X40=u40.type;switch(X40[1]){case 0:y2J._logger.info("[doProcessValidationCommand] Validation starting");this._validationManager.validate();break;case 1:y2J._logger.info("[doProcessValidationCommand] Validation stopping");this._validationManager.stop();break;}},doHandleModuleNotification:function(h40){var f40=h40.eventCategory;if(f40[1]==1){var D40=h40.moduleType;if(D40[1]==2){this.handleCueEvent(h40.eventType,h40.eventResult);}}},handleCueEvent:function(C40,w40){y2J._logger.debug("[handleCueEvent] Validation controller handling cue event - type: "+d1J.string(C40));this._validationManager.handleEvent(C40,w40);},addManagerListeners:function(Y40){y2J._logger.info("[addManagerListeners] Adding validation manager listeners");Y40.events().listen(p1J(this,this.onValidationEvent));},removeManagerListeners:function(c40){y2J._logger.info("[removeManagerListeners] Removing validation manager listeners");c40.events().unlisten(p1J(this,this.onValidationEvent));},onValidationEvent:function(R40,q40){var U40=this;var F40=function(){U40.notifyModuleNotificationEvent(w6J.Component_Event,R40,q40);};switch(R40[1]){case 0:y2J._logger.info("[onValidationEvent] Validation successful");F40();break;case 1:y2J._logger.warn("[onValidationEvent] Validation failure");F40();break;}},notifyModuleNotificationEvent:function(t40,l40,G40){var o40=new g6J(o4J.Validation,t40,l40,G40);this._events.notification.dispatch(o40);},init:function(m40){return this;},processValidationCommand:function(K40){this.doProcessValidationCommand(K40);return this;},handleComponentSetup:function(N40,a40){this.doHandleComponentSetup(N40,a40);return this;},handleUpdateConfig:function(b40){this.doHandleUpdateConfig(b40.validation);return this;},handlePlayerNotification:function(g40){return this;},handleModuleNotification:function(P40){this.doHandleModuleNotification(P40);return this;},show:function(){return this;},hide:function(){return this;},events:function(){return this._events;},__class__:y2J};var S5y=function(){};O1J["com.turner.top.sdk.core.player.transforms.IPlayerTransformCollection"]=S5y;S5y.__name__=["com","turner","top","sdk","core","player","transforms","IPlayerTransformCollection"];S5y.prototype={_apiMap:null,_modelUpdateMap:null,_eventMap:null,addApiTransform:null,addModelUpdateTransform:null,addEventTransform:null,apiMap:null,modelUpdateMap:null,eventMap:null,__class__:S5y};var i5J=function(M40){this._collection=M40;this._apiTransformMap=this._collection.apiMap();this._modelUpdateTransformMap=this._collection.modelUpdateMap();this._eventTransformMap=this._collection.eventMap();};O1J["com.turner.top.sdk.core.player.transforms.PlayerTransformApplier"]=i5J;i5J.__name__=["com","turner","top","sdk","core","player","transforms","PlayerTransformApplier"];i5J.prototype={_collection:null,_apiTransformMap:null,_modelUpdateTransformMap:null,_eventTransformMap:null,applyApiTransforms:function(x40,O40){var L40=0;while(L40<O40.length){var H40=O40[L40];++L40;x40=H40(x40);}return x40;},applyEventTransforms:function(d40,v40){var T40=0;while(T40<v40.length){var V40=v40[T40];++T40;d40=V40(d40);}return d40;},applyModelUpdateTransforms:function(Z40,B40){var p40=0;while(p40<B40.length){var W40=B40[p40];++p40;Z40=W40(Z40);}return Z40;},transformApiCommand:function(z40){if(!this._apiTransformMap.exists(z40.type)){return z40;}return this.applyApiTransforms(z40,this._apiTransformMap.get(z40.type));},transformModuleNotification:function(S40){var J40=S40.eventCategory;switch(J40[1]){case 0:break;case 1:if(this._eventTransformMap.exists(S40.moduleType)){var e40=this._eventTransformMap.get(S40.moduleType);if(e40.exists(S40.eventType)){var A40=this.applyEventTransforms(S40.eventResult,e40.get(S40.eventType));return new g6J(S40.moduleType,S40.eventCategory,S40.eventType,A40);}}break;case 2:if(this._modelUpdateTransformMap.exists(S40.moduleType)){var n40=this._modelUpdateTransformMap.get(S40.moduleType);var s40=S40.eventResult.property;if(n40.exists(s40)){var j40=this.applyModelUpdateTransforms(S40.eventResult,n40.get(s40));return new g6J(S40.moduleType,S40.eventCategory,S40.eventType,j40);}}break;}return S40;},__class__:i5J};var s8J=function(){this._apiMap=new E2J();this._modelUpdateMap=new E2J();this._eventMap=new E2J();};O1J["com.turner.top.sdk.core.player.transforms.PlayerTransformCollection"]=s8J;s8J.__name__=["com","turner","top","sdk","core","player","transforms","PlayerTransformCollection"];s8J.__interfaces__=[S5y];s8J.prototype={_apiMap:null,_modelUpdateMap:null,_eventMap:null,addApiTransform:function(Q40,k40){if(!this._apiMap.exists(Q40)){this._apiMap.set(Q40,[]);}this._apiMap.get(Q40).push(k40);return this;},addModelUpdateTransform:function(I40,E40,y40){if(!this._modelUpdateMap.exists(I40)){this._modelUpdateMap.set(I40,new E2J());}var i40=this._modelUpdateMap.get(I40);if(!i40.exists(E40)){i40.set(E40,[]);}i40.get(E40).push(y40);this._modelUpdateMap.set(I40,i40);return this;},addEventTransform:function(u60,X60,h60){if(!this._eventMap.exists(u60)){this._eventMap.set(u60,new E2J());}var r40=this._eventMap.get(u60);if(!r40.exists(X60)){r40.set(X60,[]);}r40.get(X60).push(h60);this._eventMap.set(u60,r40);return this;},apiMap:function(){return this._apiMap;},modelUpdateMap:function(){return this._modelUpdateMap;},eventMap:function(){return this._eventMap;},__class__:s8J};var c8J=function(){};O1J["com.turner.top.sdk.core.player.transforms.PlayerTransformHelpers"]=c8J;c8J.__name__=["com","turner","top","sdk","core","player","transforms","PlayerTransformHelpers"];c8J.addSegmentingTransforms=function(D60,f60){c8J.addTimeTransforms(D60,function(C60){return f60.virtualTimeToGross(C60);},function(w60){return f60.grossTimeToVirtual(w60);},function(){return f60.virtualDuration();});c8J.addDurationTransforms(D60,function(){return f60.virtualDuration();});return D60;};c8J.addTimeTransforms=function(Y60,U60,c60,R60){Y60.addApiTransform(k1J.Seek,function(o60){var q60=new B0y(U60(o60.time));return q60;});Y60.addModelUpdateTransform(o4J.Media,z1J.Time,function(t60){var l60=new o9J(t60.property,c60(t60.oldValue),c60(t60.currentValue));return l60;});Y60.addModelUpdateTransform(o4J.Media,z1J.Playable_Range,function(G60){var m60=G60.currentValue;var K60=U6J.create(c60(m60.begin),R60());var N60=new o9J(G60.property,G60.oldValue,K60);return N60;});Y60.addModelUpdateTransform(o4J.Media,z1J.Seekable_Range,function(a60){var b60=a60.currentValue;var g60=U6J.create(c60(b60.begin),R60());var P60=new o9J(a60.property,a60.oldValue,g60);return P60;});Y60.addEventTransform(o4J.Media,W1J.Time_Changed,function(L60){var M60=new D3J(c60(L60.time));return M60;});Y60.addEventTransform(o4J.Media,W1J.Seeking_Finished,function(x60){var O60=new r3J(c60(x60.requestedTime),c60(x60.time));return O60;});Y60.addEventTransform(o4J.Media,W1J.Timed_Metadata_Received,function(H60){var T60=new X0y(c60(H60.timeReceived),c60(H60.timeToTrigger),H60.source,H60.metadataType,H60.streamMetadata,H60.content);return T60;});var F60=function(z60){var d60=z60.marker;var v60=d60.range();var V60=c60(v60.begin);var p60;var B60=d60.type();switch(B60[1]){case 0:p60=k9J.createMedia(V60,v60.duration,d60.options());break;case 1:var Z60=d60;p60=k9J.createAdMidroll(V60,v60.duration,Z60.metadata(),Z60.options());break;}var W60=new u9J(p60);return W60;};Y60.addEventTransform(o4J.Timeline,s4J.Marker_Added,F60);Y60.addEventTransform(o4J.Timeline,s4J.Marker_Approaching,F60);Y60.addEventTransform(o4J.Timeline,s4J.Marker_Activated,F60);Y60.addEventTransform(o4J.Timeline,s4J.Marker_Finishing,F60);Y60.addEventTransform(o4J.Timeline,s4J.Marker_Deactivated,F60);Y60.addEventTransform(o4J.Timeline,s4J.Marker_Removed,F60);return Y60;};c8J.addDurationTransforms=function(S60,e60){S60.addModelUpdateTransform(o4J.Media,z1J.Duration,function(n60){var s60=new o9J(n60.property,n60.oldValue,e60());return s60;});return S60;};var f14=function(){};O1J["com.turner.top.sdk.core.utils.helpers.ModuleNotificationResultHelpers"]=f14;f14.__name__=["com","turner","top","sdk","core","utils","helpers","ModuleNotificationResultHelpers"];var D2J=function(){};O1J["com.turner.top.sdk.core.utils.helpers.PersistenceHelper"]=D2J;D2J.__name__=["com","turner","top","sdk","core","utils","helpers","PersistenceHelper"];D2J._storage=null;D2J.initPersistanceStorage=function(){if(D2J._storage!=null){return;}D2J._storage=U8J.create({type:"config"});};D2J.getPersistedValues=function(I60){D2J.initPersistanceStorage();var J60={};var A60=0;while(A60<I60.length){var E60=I60[A60];++A60;switch(E60){case"bitrate":var j60=D2J._storage.getItem("bitrate");if(j60!=null){var i60=d1J.parseInt(j60);J60["bitrate"]=i60;}break;case"mute":var Q60=D2J._storage.getItem("mute");if(Q60!=null){var y60=Q60=="true";J60["mute"]=y60;}break;case"volume":var k60=D2J._storage.getItem("volume");if(k60!=null){var u20=parseFloat(k60);var X20=u20;var r60=X20;J60["volume"]=r60;}break;}}return J60;};D2J.persistValue=function(h20,D20,w20){D2J.initPersistanceStorage();if(h20==null){return;}if(Object.prototype.hasOwnProperty.call(h20,"player")&&!Object.prototype.hasOwnProperty.call(h20.player,"persist")){D2J._logger.warn("[persistValue] There are no persist values specified.");return;}var f20=Z1J.field(h20.player,"persist");var C20=f20!=null&&f20.indexOf(D20)>-1;if(C20){D2J._storage.setItem(D20,d1J.string(w20));}};var N4J=function(){};O1J["com.turner.top.sdk.core.utils.helpers.PlayerConfigHelpers"]=N4J;N4J.__name__=["com","turner","top","sdk","core","utils","helpers","PlayerConfigHelpers"];N4J.createConfig=function(c20,F20){var Y20=N4J.extendWith(c20,F20);Y20=N4J.overrideConfigWithPersistedValues(Y20);Y20=N4J.applyDeferredConfigDefaults(Y20);Y20=N4J.normalizeConfigWithPlayerValues(Y20);Y20=N4J.overrideConfigWithAutoPlayValues(Y20);Y20=N4J.normalizeFeatures(Y20);Y20=N4J.normalizeValidators(Y20);Y20=N4J.normalizeCmsProviders(Y20);return Y20;};N4J.extend=function(R20,U20,K20){var t20=Z3y.initConfig().config;var l20=K20==null?{}:K20;var q20=!Object.prototype.hasOwnProperty.call(l20,"selective")?false:Z1J.field(l20,"selective");var m20=function(V20){if(V20=="auth"){return{hash:function(Z20,p20){if(Z20=="auth"){return"key|"+d1J.string(p20.type);}else{return i1J.hash(p20);}}};}else{return null;}};var o20=function(B20){var z20=!Object.prototype.hasOwnProperty.call(R20,B20)?null:Z1J.field(R20,B20);var W20=!Object.prototype.hasOwnProperty.call(U20,B20)?null:Z1J.field(U20,B20);var e20=!Object.prototype.hasOwnProperty.call(t20,B20)?null:Z1J.field(t20,B20);var n20=Object.prototype.hasOwnProperty.call(U20,B20);var s20=n20&&W20==null;var S20=function(){switch(B20){case"auth":return[];case"plugins":return[];default:return{};}};if(z20!=null||W20!=null){if(s20){if(q20){return null;}else{return e20;}}else{var A20=S20();var j20=S20();var J20=S20();return i1J.extendDeepWith(A20,[z20==null?j20:z20,W20==null?J20:W20],m20(B20));}}else if(q20){return null;}else{return e20;}};if(!q20||(Object.prototype.hasOwnProperty.call(R20,"validation")||Object.prototype.hasOwnProperty.call(U20,"validation"))){var N20=o20("validation");R20.validation=N20;}if(!q20||(Object.prototype.hasOwnProperty.call(R20,"features")||Object.prototype.hasOwnProperty.call(U20,"features"))){var a20=o20("features");R20.features=a20;}if(!q20||(Object.prototype.hasOwnProperty.call(R20,"sdk")||Object.prototype.hasOwnProperty.call(U20,"sdk"))){var G20=o20("sdk");R20.sdk=G20;}if(!q20||(Object.prototype.hasOwnProperty.call(R20,"player")||Object.prototype.hasOwnProperty.call(U20,"player"))){var g20=R20!=null&&R20.player!=null&&R20.player.persist!=null;var P20=U20!=null&&U20.player!=null&&Object.prototype.hasOwnProperty.call(U20.player,"persist");if(g20&&P20){R20.player.persist=null;}var M20=o20("player");R20.player=M20;}if(!q20||(Object.prototype.hasOwnProperty.call(R20,"cms")||Object.prototype.hasOwnProperty.call(U20,"cms"))){var L20=o20("cms");R20.cms=L20;}if(!q20||(Object.prototype.hasOwnProperty.call(R20,"ads")||Object.prototype.hasOwnProperty.call(U20,"ads"))){var x20=o20("ads");R20.ads=x20;}if(!q20||(Object.prototype.hasOwnProperty.call(R20,"media")||Object.prototype.hasOwnProperty.call(U20,"media"))){var O20=o20("media");R20.media=O20;}if(!q20||(Object.prototype.hasOwnProperty.call(R20,"captions")||Object.prototype.hasOwnProperty.call(U20,"captions"))){var H20=o20("captions");R20.captions=H20;}if(!q20||(Object.prototype.hasOwnProperty.call(R20,"auth")||Object.prototype.hasOwnProperty.call(U20,"auth"))){var T20=o20("auth");R20.auth=T20;}if(!q20||(Object.prototype.hasOwnProperty.call(R20,"ui")||Object.prototype.hasOwnProperty.call(U20,"ui"))){var d20=o20("ui");R20.ui=d20;}if(!q20||(Object.prototype.hasOwnProperty.call(R20,"plugins")||Object.prototype.hasOwnProperty.call(U20,"plugins"))){var v20=o20("plugins");R20.plugins=v20;}if(!q20||(Object.prototype.hasOwnProperty.call(R20,"metadata")||Object.prototype.hasOwnProperty.call(U20,"metadata"))){var b20=o20("metadata");R20.metadata=b20;}return R20;};N4J.extendSelective=function(Q20,k20){return N4J.extend(Q20,k20,{selective:true});};N4J.extendWith=function(I20,E20){var i20=0;while(i20<E20.length){var y20=E20[i20];++i20;N4J.extend(I20,y20);}return I20;};N4J.applyDeferredConfigDefaults=function(r20){if(!Object.prototype.hasOwnProperty.call(r20.player,"muted")){r20.player.muted=false;}if(!Object.prototype.hasOwnProperty.call(r20.player,"volume")){var u70=1;var X70=u70;r20.player.volume=X70;}return r20;};N4J.overrideConfigWithPersistedValues=function(h70){var C70=h70.player.persist;var D70=C70==null?[]:C70;if(S4J.mobileLike()){D70=D70.filter(function(F70){return F70!="volume";});}h70.player.persist=D70;var f70=D2J.getPersistedValues(D70);if(Object.prototype.hasOwnProperty.call(f70,"mute")&&!Object.prototype.hasOwnProperty.call(h70.player,"muted")){var w70=h70.player;w70["muted"]=Z1J.field(f70,"mute");}if(Object.prototype.hasOwnProperty.call(f70,"volume")&&!Object.prototype.hasOwnProperty.call(h70.player,"volume")){var Y70=h70.player;Y70["volume"]=Z1J.field(f70,"volume");}if(Object.prototype.hasOwnProperty.call(f70,"bitrate")&&!Object.prototype.hasOwnProperty.call(h70.media,"startBitrate")){var c70=h70.media;c70["startBitrate"]=Z1J.field(f70,"bitrate");}return h70;};N4J.overrideConfigWithAutoPlayValues=function(R70){if(Object.prototype.hasOwnProperty.call(R70,"player")&&!Object.prototype.hasOwnProperty.call(R70.player,"autoPlayOptions")){return R70;}var U70=R70.player.autoPlayOptions.forceMedia;var o70=U70==null?false:U70;var q70=R70.player.autoPlayOptions.forceAds;var t70=q70==null?false:q70;if(o70){var l70=R70.media;l70["muted"]=true;}if(t70){var G70=R70.ads;G70["muted"]=true;}return R70;};N4J.normalizeConfigWithPlayerValues=function(m70){var K70=null;var N70=null;if(Object.prototype.hasOwnProperty.call(m70,"player")){var a70=m70.player.volume;K70=a70==null?null:a70;var b70=m70.player.muted;N70=b70==null?null:b70;}var g70=Object.prototype.hasOwnProperty.call(m70,"ads")&&m70.ads!=null;var M70=Object.prototype.hasOwnProperty.call(m70,"media")&&m70.media!=null;if(!g70){m70["ads"]={};}if(!M70){m70["media"]={};}if(K70!=null){if(!Object.prototype.hasOwnProperty.call(m70.ads,"volume")){var L70=m70.ads;L70["volume"]=K70;}if(!Object.prototype.hasOwnProperty.call(m70.media,"volume")){var x70=m70.media;x70["volume"]=K70;}}if(N70!=null){if(!Object.prototype.hasOwnProperty.call(m70.ads,"muted")){var O70=m70.ads;O70["muted"]=N70;}if(!Object.prototype.hasOwnProperty.call(m70.media,"muted")){var P70=m70.media;P70["muted"]=N70;}}return m70;};N4J.isClientSideSSAI=function(T70){var H70=T70!=null?T70.features:null;if(C9J.get(H70,"ssai")!=null){return C9J.get(H70,"ssai").version=="v2";}else{return false;}};N4J.validAds=function(d70){if(d70.ads!=null){return Object.prototype.hasOwnProperty.call(d70.ads,"serverBaseUrl");}else{return false;}};N4J.normalizeValidators=function(v70){v70.validation.validators=i9J.normalize(v70.validation.validators);if(Object.prototype.hasOwnProperty.call(v70.metadata,"appId")){var V70=Z1J.field(v70.validation.validators,"top.validator.blackout");var Z70=!Object.prototype.hasOwnProperty.call(V70,"requestParams")?{}:Z1J.field(V70,"requestParams");var B70=Z1J.field(v70.validation.validators,"top.validator.blackout");var p70=v70.metadata;B70["requestParams"]=i1J.extend({appId:!Object.prototype.hasOwnProperty.call(p70,"appId")?null:Z1J.field(p70,"appId")},Z70);}return v70;};N4J.normalizeCmsProviders=function(W70){if(Object.prototype.hasOwnProperty.call(W70.metadata,"appId")){if(!Object.prototype.hasOwnProperty.call(W70.cms.providers,"top.cms.provider.mediaJson")){var z70=W70.cms.providers;z70["top.cms.provider.mediaJson"]={};}var S70=Z1J.field(W70.cms.providers,"top.cms.provider.mediaJson");S70["appId"]=Z1J.field(W70.metadata,"appId");}return W70;};N4J.normalizeFeatures=function(i70){var e70=i70.features;var n70=function(D90){var f90=Z1J.field(e70,D90);if(f90!=true){if(U4J["typeof"](f90)==R4J.TObject&&!S1J.__instanceof(f90,H6J)&&!S1J.__instanceof(f90,M6J)){return f90.enabled;}else{return false;}}else{return true;}};var s70=function(w90){var C90=Z1J.field(e70,w90);if(C90!=null){if(typeof C90!="boolean"){if(U4J["typeof"](C90)==R4J.TObject&&!S1J.__instanceof(C90,H6J)){return!S1J.__instanceof(C90,M6J);}else{return false;}}else{return true;}}else{return false;}};var j70=s70("mediaAcceleration");var Q70=s70("tve");var k70=s70("dai");var J70=s70("ssai");var I70=s70("amazona9");var E70=s70("gdpr");if(j70){var y70=n70("mediaAcceleration");N4J.setMediaAccelerationFeature(e70,y70);}if(Q70){var r70=n70("tve");N4J.setTVEFeature(e70,r70);}if(k70){var u90=n70("dai");N4J.setDAIFeature(e70,u90);}if(J70){var X90=n70("ssai");N4J.setSSAIFeature(e70,X90);}if(I70){var h90=n70("amazona9");N4J.setAmazonA9Feature(e70,h90);}if(E70){var A70=n70("gdpr");N4J.setGDPRFeature(e70,A70);}return i70;};N4J.setMediaAccelerationFeature=function(c90,R90){var Y90=c90.mediaAcceleration;var F90=W7J.MediaAcceleration;if(U4J["typeof"](Y90)==R4J.TObject&&!S1J.__instanceof(Y90,H6J)&&!S1J.__instanceof(Y90,M6J)){Y90=i1J.extend(F90,Y90);}else{Y90=F90;}Y90.enabled=R90;c90.mediaAcceleration=Y90;return c90;};N4J.setTVEFeature=function(q90,t90){var U90=q90.tve;var o90=W7J.TVE;if(U4J["typeof"](U90)==R4J.TObject&&!S1J.__instanceof(U90,H6J)&&!S1J.__instanceof(U90,M6J)){U90=i1J.extend(o90,U90);}else{U90=o90;}U90.enabled=t90;q90.tve=U90;return q90;};N4J.setDAIFeature=function(G90,K90){var l90=G90.dai;var m90=W7J.DAI;if(U4J["typeof"](l90)==R4J.TObject&&!S1J.__instanceof(l90,H6J)&&!S1J.__instanceof(l90,M6J)){l90=i1J.extend(m90,l90);}else{l90=m90;}l90.enabled=K90;G90.dai=l90;return G90;};N4J.setSSAIFeature=function(a90,g90){var N90=a90.ssai;var b90=W7J.SSAI;if(U4J["typeof"](N90)==R4J.TObject&&!S1J.__instanceof(N90,H6J)&&!S1J.__instanceof(N90,M6J)){N90=i1J.extend(b90,N90);}else{N90=b90;}N90.enabled=g90;a90.ssai=N90;return a90;};N4J.setAmazonA9Feature=function(M90,x90){var P90=M90.amazona9;var L90=W7J.AmazonA9;if(U4J["typeof"](P90)==R4J.TObject&&!S1J.__instanceof(P90,H6J)&&!S1J.__instanceof(P90,M6J)){P90=i1J.extend(L90,P90);}else{P90=L90;}P90.enabled=x90;M90.amazona9=P90;return M90;};N4J.setGDPRFeature=function(H90,d90){var O90=H90.gdpr;var T90=W7J.GDPR;if(U4J["typeof"](O90)==R4J.TObject&&!S1J.__instanceof(O90,H6J)&&!S1J.__instanceof(O90,M6J)){O90=i1J.extend(T90,O90);}else{O90=T90;}O90.enabled=d90;H90.gdpr=O90;return H90;};var C9J=function(){};O1J["com.turner.top.sdk.core.utils.helpers.PlayerConfigFeatureHelpers"]=C9J;C9J.__name__=["com","turner","top","sdk","core","utils","helpers","PlayerConfigFeatureHelpers"];C9J.has=function(v90,V90){return C9J.get(v90,V90)!=null;};C9J.get=function(p90,Z90){if(p90==null){return null;}if(!Object.prototype.hasOwnProperty.call(p90,Z90)){return null;}else{return Z1J.field(p90,Z90);}};var Q5y=function(){};O1J["com.turner.top.sdk.core.utils.helpers.PlayerConfigAuthHelpers"]=Q5y;Q5y.__name__=["com","turner","top","sdk","core","utils","helpers","PlayerConfigAuthHelpers"];Q5y.getAuthForType=function(z90,S90){var B90=0;while(B90<z90.length){var W90=z90[B90];++B90;if(W90.type==S90){return W90;}}return null;};var q1y=function(){this._jsTopUiClass=window.TopUi;this._jsTopUi=new window.TopUi();};O1J["com.turner.top.ui.TopUi"]=q1y;q1y.__name__=["com","turner","top","ui","TopUi"];q1y.__interfaces__=[w5y];q1y.prototype={_jsTopUiClass:null,_jsTopUi:null,init:function(e90){if(e90.injectStyles){y8J.injectStyles();}var A90=this._jsTopUiClass.names.themes;var j90=e90.autoAttachToDom;var n90=e90.elements;var s90=e90.theme;var Q90=Z1J.field(A90,"DEFAULT");var J90=e90.metadata;var k90={autoAttachToDom:j90,elements:n90==null?{}:n90,theme:s90==null?Q90:s90,metadata:J90==null?{}:J90};this._jsTopUi.init(k90);},attachPlayer:function(i90){this._jsTopUi.attachPlayer(i90);},attachToDom:function(I90,E90){this._jsTopUi.attachToDom(I90,E90);},getState:function(){return this._jsTopUi.getState();},__class__:q1y};var y8J=function(){};O1J["com.turner.top.ui.TopUiStyles"]=y8J;y8J.__name__=["com","turner","top","ui","TopUiStyles"];y8J.injectStyles=function(){if(y8J.injected){return;}Z7J.injectStyleText(y8J.styleText,"top-ui-styles");y8J.injected=true;};var r7J=function(y90){this.url=y90;this.headers=new t8J();this.params=new t8J();this.async=true;this.withCredentials=false;};O1J["haxe.Http"]=r7J;r7J.__name__=["haxe","Http"];r7J.prototype={url:null,responseData:null,async:null,withCredentials:null,postData:null,headers:null,params:null,addHeader:function(r90,u80){this.headers.push({header:r90,value:u80});return this;},addParameter:function(X80,h80){this.params.push({param:X80,value:h80});return this;},req:null,cancel:function(){if(this.req==null){return;}this.req.abort();this.req=null;},request:function(U80){var f80=this;f80.responseData=null;var D80=this.req=M1y.createXMLHttpRequest();var F80=function(g80){if(D80.readyState!=4){return;}var K80;try{K80=D80.status;}catch(P80){K80=null;}if(K80!=null&&"undefined"!==typeof window){var N80=window.location.protocol.toLowerCase();var a80=new m7J("^(?:about|app|app-storage|.+-extension|file|res|widget):$","");var b80=a80.match(N80);if(b80){K80=D80.responseText!=null?200:404;}}if(K80==undefined){K80=null;}if(K80!=null){f80.onStatus(K80);}if(K80!=null&&K80>=200&&K80<400){f80.req=null;f80.onData(f80.responseData=D80.responseText);}else if(K80==null){f80.req=null;f80.onError("Failed to connect or resolve host");}else{switch(K80){case 12007:f80.req=null;f80.onError("Unknown host");break;case 12029:f80.req=null;f80.onError("Failed to connect to host");break;default:f80.req=null;f80.responseData=D80.responseText;f80.onError("Http Error #"+D80.status);}}};if(this.async){D80.onreadystatechange=F80;}var C80=this.postData;if(C80!=null){U80=true;}else{var w80=this.params.h;while(w80!=null){var G80=w80.item;w80=w80.next;var c80=G80;if(C80==null){C80="";}else{C80+="&";}var q80=c80.param;var o80=encodeURIComponent(q80)+"=";var t80=c80.value;C80+=o80+encodeURIComponent(t80);}}try{if(U80){D80.open("POST",this.url,this.async);}else if(C80!=null){var l80=this.url.split("?").length<=1;D80.open("GET",this.url+(l80?(3130,3614)<(5470,197)?442.21:"?":"&")+C80,this.async);C80=null;}else{D80.open("GET",this.url,this.async);}}catch(M80){if(M80 instanceof j1J)M80=M80.val;f80.req=null;this.onError(M80.toString());return;}D80.withCredentials=this.withCredentials;if(!i7J.exists(this.headers,function(L80){return L80.header=="Content-Type";})&&U80&&this.postData==null){D80.setRequestHeader("Content-Type","application/x-www-form-urlencoded");}var Y80=this.headers.h;while(Y80!=null){var m80=Y80.item;Y80=Y80.next;var R80=m80;D80.setRequestHeader(R80.header,R80.value);}D80.send(C80);if(!this.async){F80(null);}},onData:function(x80){},onError:function(O80){},onStatus:function(H80){},__class__:r7J};var o3J={};O1J["haxe._Int32.Int32_Impl_"]=o3J;o3J.__name__=["haxe","_Int32","Int32_Impl_"];o3J.ucompare=function(d80,T80){if(d80<0){if(T80<0){return~T80-~d80|0;}else{return 1;}}if(T80<0){return-1;}else{return d80-T80|0;}};var q8y={};O1J["haxe._Int64.Int64_Impl_"]=q8y;q8y.__name__=["haxe","_Int64","Int64_Impl_"];q8y.toString=function(r80){var v80=r80;var j80=0;var J80=0;if(v80.high==j80&&v80.low==J80){return"0";}var V80="";var W80=false;if(v80.high<0){W80=true;}var Q80=new G6J(0,10);var k80=Q80;while(true){var i80=0;var s80=0;if(!(v80.high!=i80||v80.low!=s80)){break;}var p80=q8y.divMod(v80,k80);if(p80.modulus.high<0){var S80=p80.modulus;var Z80=~S80.high;var e80=-S80.low;if(e80==0){var y80=Z80++;Z80=Z80|0;}var E80=Z80;var I80=e80;V80=I80+V80;var n80=p80.quotient;var B80=~n80.high;var z80=-n80.low;if(z80==0){var u30=B80++;B80=B80|0;}var A80=new G6J(B80,z80);v80=A80;}else{V80=p80.modulus.low+V80;v80=p80.quotient;}}if(W80){V80="-"+V80;}return V80;};q8y.divMod=function(D30,X30){if(X30.high==0){var W30=X30.low;switch(W30){case 0:throw new j1J("divide by zero");case 1:var I30=new G6J(D30.high,D30.low);var b30=new G6J(0,0);return{quotient:I30,modulus:b30};}}var H30=D30.high<0!=X30.high<0;var f30;if(D30.high<0){var o30=~D30.high;var m30=-D30.low;if(m30==0){var X50=o30++;o30=o30|0;}var g30=new G6J(o30,m30);f30=g30;}else{var M30=new G6J(D30.high,D30.low);f30=M30;}if(X30.high<0){var U30=~X30.high;var l30=-X30.low;if(l30==0){var u50=U30++;U30=U30|0;}var n30=new G6J(U30,l30);X30=n30;}else{X30=X30;}var j30=new G6J(0,0);var F30=j30;var E30=new G6J(0,1);var h30=E30;while(!(X30.high<0)){var G30=o3J.ucompare(X30.high,f30.high);var P30=G30!=0?G30:o3J.ucompare(X30.low,f30.low);var Y30=1;Y30&=63;if(Y30==0){var L30=new G6J(X30.high,X30.low);X30=L30;}else if(Y30<32){var x30=new G6J(X30.high<<Y30|X30.low>>>32-Y30,X30.low<<Y30);X30=x30;}else{var O30=new G6J(X30.low<<Y30-32,0);X30=O30;}var w30=1;w30&=63;if(w30==0){var T30=new G6J(h30.high,h30.low);h30=T30;}else if(w30<32){var d30=new G6J(h30.high<<w30|h30.low>>>32-w30,h30.low<<w30);h30=d30;}else{var v30=new G6J(h30.low<<w30-32,0);h30=v30;}if(P30>=0){break;}}while(true){var V30=0;var p30=0;if(!(h30.high!=V30||h30.low!=p30)){break;}var a30=o3J.ucompare(f30.high,X30.high);if((a30!=0?a30:o3J.ucompare(f30.low,X30.low))>=0){var B30=new G6J(F30.high|h30.high,F30.low|h30.low);F30=B30;var q30=f30.high-X30.high|0;var z30=f30.low-X30.low|0;if(o3J.ucompare(f30.low,X30.low)<0){var r30=q30--;q30=q30|0;}var e30=new G6J(q30,z30);f30=e30;}var C30=1;C30&=63;if(C30==0){var s30=new G6J(h30.high,h30.low);h30=s30;}else if(C30<32){var J30=new G6J(h30.high>>>C30,h30.high<<32-C30|h30.low>>>C30);h30=J30;}else{var A30=new G6J(0,h30.high>>>C30-32);h30=A30;}var c30=1;c30&=63;if(c30==0){var Q30=new G6J(X30.high,X30.low);X30=Q30;}else if(c30<32){var k30=new G6J(X30.high>>>c30,X30.high<<32-c30|X30.low>>>c30);X30=k30;}else{var i30=new G6J(0,X30.high>>>c30-32);X30=i30;}}if(H30){var t30=~F30.high;var K30=-F30.low;if(K30==0){var y30=t30++;t30=t30|0;}var S30=new G6J(t30,K30);F30=S30;}if(D30.high<0){var R30=~f30.high;var N30=-f30.low;if(N30==0){var h50=R30++;R30=R30|0;}var Z30=new G6J(R30,N30);f30=Z30;}return{quotient:F30,modulus:f30};};var G6J=function(f50,D50){this.high=f50;this.low=D50;};O1J["haxe._Int64.___Int64"]=G6J;G6J.__name__=["haxe","_Int64","___Int64"];G6J.prototype={high:null,low:null,__class__:G6J};var t2J=function(){this.buf=new T9J();this.cache=[];this.useCache=t2J.USE_CACHE;this.useEnumIndex=t2J.USE_ENUM_INDEX;this.shash=new b4J();this.scount=0;};O1J["haxe.Serializer"]=t2J;t2J.__name__=["haxe","Serializer"];t2J.run=function(w50){var C50=new t2J();C50.serialize(w50);return C50.toString();};t2J.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b;},serializeString:function(Y50){var F50=this.shash;var c50=E1J[Y50]!=null?F50.getReserved(Y50):F50.h[Y50];if(c50!=null){this.buf.b+="R";this.buf.b+=c50==null?"null":""+c50;return;}var R50=this.shash;var U50=this.scount++;if(E1J[Y50]!=null){R50.setReserved(Y50,U50);}else{R50.h[Y50]=U50;}this.buf.b+="y";Y50=encodeURIComponent(Y50);this.buf.b+=d1J.string(Y50.length);this.buf.b+=":";this.buf.b+=Y50==null?"null":""+Y50;},serializeRef:function(o50){var G50=typeof o50;var t50=0;var m50=this.cache.length;while(t50<m50){var q50=t50++;var l50=this.cache[q50];if(typeof l50==G50&&l50==o50){this.buf.b+="r";this.buf.b+=q50==null?"null":""+q50;return true;}}this.cache.push(o50);return false;},serializeFields:function(b50){var K50=0;var N50=Z1J.fields(b50);while(K50<N50.length){var a50=N50[K50];++K50;this.serializeString(a50);this.serialize(Z1J.field(b50,a50));}this.buf.b+="g";},serialize:function(g50){var p50=U4J["typeof"](g50);switch(p50[1]){case 0:this.buf.b+="n";break;case 1:var V50=g50;if(V50==0){this.buf.b+="z";return;}this.buf.b+="i";this.buf.b+=V50==null?"null":""+V50;break;case 2:var H50=g50;if(isNaN(H50)){this.buf.b+="k";}else if(!isFinite(H50)){this.buf.b+=H50<0?"m":"p";}else{this.buf.b+="d";this.buf.b+=H50==null?"null":""+H50;}break;case 3:this.buf.b+=g50?"t":"f";break;case 4:if(S1J.__instanceof(g50,H6J)){var w0x=U4J.getClassName(g50);this.buf.b+="A";this.serializeString(w0x);}else if(S1J.__instanceof(g50,M6J)){this.buf.b+="B";this.serializeString(U4J.getEnumName(g50));}else{if(this.useCache&&this.serializeRef(g50)){return;}this.buf.b+="o";this.serializeFields(g50);}break;case 5:throw new j1J("Cannot serialize function");case 6:var v50=p50[2];if(v50==String){this.serializeString(g50);return;}if(this.useCache&&this.serializeRef(g50)){return;}switch(v50){case Array:var M50=0;this.buf.b+="a";var R0x=g50["length"];var s50=0;var f0x=R0x;while(s50<f0x){var j50=s50++;if(g50[j50]==null){++M50;}else{if(M50>0){if(M50==1){this.buf.b+="n";}else{this.buf.b+="u";this.buf.b+=M50==null?"null":""+M50;}M50=0;}this.serialize(g50[j50]);}}if(M50>0){if(M50==1){this.buf.b+="n";}else{this.buf.b+="u";this.buf.b+=M50==null?"null":""+M50;}}this.buf.b+="h";break;case Date:var F0x=g50;this.buf.b+="v";this.buf.b+=d1J.string(F0x.getTime());break;case t3J:this.buf.b+="q";var z50=g50;var S50=z50.keys();while(S50.hasNext()){var Z50=S50.next();this.buf.b+=":";this.buf.b+=Z50==null?"null":""+Z50;this.serialize(z50.h[Z50]);}this.buf.b+="h";break;case t8J:this.buf.b+="l";var C0x=g50;var T50=C0x.h;while(T50!=null){var Y0x=T50.item;T50=T50.next;var c0x=Y0x;this.serialize(c0x);}this.buf.b+="h";break;case u7J:this.buf.b+="M";var J50=g50;var A50=J50.keys();while(A50.hasNext()){var O50=A50.next();var h0x=Z1J.field(O50,"__id__");Z1J.deleteField(O50,"__id__");this.serialize(O50);O50["__id__"]=h0x;this.serialize(J50.h[O50.__id__]);}this.buf.b+="h";break;case b4J:this.buf.b+="b";var W50=g50;var e50=W50.keys();while(e50.hasNext()){var d50=e50.next();this.serializeString(d50);this.serialize(E1J[d50]!=null?W50.getReserved(d50):W50.h[d50]);}this.buf.b+="h";break;case d7J:var x50=g50;this.buf.b+="s";this.buf.b+=d1J.string(Math.ceil(x50.length*8/6));this.buf.b+=":";var L50=0;var B50=x50.length-2;var P50=t2J.BASE64_CODES;if(P50==null){var o0x=t2J.BASE64.length;var t0x=new Array(o0x);P50=t0x;var Q50=0;var D0x=t2J.BASE64.length;while(Q50<D0x){var k50=Q50++;P50[k50]=Y4J.cca(t2J.BASE64,k50);}t2J.BASE64_CODES=P50;}while(L50<B50){var i50=x50.b[L50++];var I50=x50.b[L50++];var E50=x50.b[L50++];this.buf.b+=String.fromCharCode(P50[i50>>2]);this.buf.b+=String.fromCharCode(P50[(i50<<4|I50>>4)&63]);this.buf.b+=String.fromCharCode(P50[(I50<<2|E50>>6)&63]);this.buf.b+=String.fromCharCode(P50[E50&63]);}if(L50==B50){var y50=x50.b[L50++];var r50=x50.b[L50++];this.buf.b+=String.fromCharCode(P50[y50>>2]);this.buf.b+=String.fromCharCode(P50[(y50<<4|r50>>4)&63]);this.buf.b+=String.fromCharCode(P50[r50<<2&63]);}else if(L50==B50+1){var u0x=x50.b[L50++];this.buf.b+=String.fromCharCode(P50[u0x>>2]);this.buf.b+=String.fromCharCode(P50[u0x<<4&63]);}break;default:if(this.useCache){this.cache.pop();}if(g50.hxSerialize!=null){this.buf.b+="C";this.serializeString(U4J.getClassName(v50));if(this.useCache){this.cache.push(g50);}g50.hxSerialize(this);this.buf.b+="g";}else{this.buf.b+="c";this.serializeString(U4J.getClassName(v50));if(this.useCache){this.cache.push(g50);}this.serializeFields(g50);}}break;case 7:var q0x=p50[2];if(this.useCache){if(this.serializeRef(g50)){return;}this.cache.pop();}this.buf.b+=d1J.string(this.useEnumIndex?"j":"w");this.serializeString(U4J.getEnumName(q0x));if(this.useEnumIndex){this.buf.b+=":";this.buf.b+=d1J.string(g50[1]);}else{this.serializeString(g50[0]);}this.buf.b+=":";var X0x=g50["length"];this.buf.b+=d1J.string(X0x-2);var n50=2;var l0x=X0x;while(n50<l0x){var U0x=n50++;this.serialize(g50[U0x]);}if(this.useCache){this.cache.push(g50);}break;default:throw new j1J("Cannot serialize "+d1J.string(g50));}},__class__:t2J};var Z2J=function(m0x){var G0x=this;this.id=setInterval(function(){G0x.run();},m0x);};O1J["haxe.Timer"]=Z2J;Z2J.__name__=["haxe","Timer"];Z2J.delay=function(N0x,a0x){var K0x=new Z2J(a0x);K0x.run=function(){K0x.stop();N0x();};return K0x;};Z2J.prototype={id:null,stop:function(){if(this.id==null){return;}clearInterval(this.id);this.id=null;},run:function(){},__class__:Z2J};var A9y=function(){};O1J["haxe._Unserializer.DefaultResolver"]=A9y;A9y.__name__=["haxe","_Unserializer","DefaultResolver"];A9y.prototype={resolveClass:function(b0x){return U4J.resolveClass(b0x);},resolveEnum:function(g0x){return U4J.resolveEnum(g0x);},__class__:A9y};var Y2J=function(M0x){this.buf=M0x;this.length=M0x.length;this.pos=0;this.scache=[];this.cache=[];var P0x=Y2J.DEFAULT_RESOLVER;if(P0x==null){P0x=new A9y();Y2J.DEFAULT_RESOLVER=P0x;}this.resolver=P0x;};O1J["haxe.Unserializer"]=Y2J;Y2J.__name__=["haxe","Unserializer"];Y2J.initCodes=function(){var L0x=[];var x0x=0;var H0x=Y2J.BASE64.length;while(x0x<H0x){var O0x=x0x++;L0x[Y2J.BASE64.charCodeAt(O0x)]=O0x;}return L0x;};Y2J.run=function(T0x){return new Y2J(T0x).unserialize();};Y2J.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,readDigits:function(){var v0x=0;var V0x=false;var p0x=this.pos;while(true){var d0x=this.buf.charCodeAt(this.pos);if(d0x!=d0x){break;}if(d0x==45){if(this.pos!=p0x){break;}V0x=true;this.pos++;continue;}if(d0x<48||d0x>57){break;}v0x=v0x*10+(d0x-48);this.pos++;}if(V0x){v0x*=-1;}return v0x;},readFloat:function(){var B0x=this.pos;while(true){var Z0x=this.buf.charCodeAt(this.pos);if(Z0x!=Z0x){break;}if(Z0x>=43&&Z0x<58||Z0x==101||Z0x==69){this.pos++;}else{break;}}return parseFloat(Y4J.substr(this.buf,B0x,this.pos-B0x));},unserializeObject:function(S0x){while(true){if(this.pos>=this.length){throw new j1J("Invalid object");}if(this.buf.charCodeAt(this.pos)==103){break;}var W0x=this.unserialize();if(typeof W0x!="string"){throw new j1J("Invalid object key");}var z0x=this.unserialize();S0x[W0x]=z0x;}this.pos++;},unserializeEnum:function(s0x,J0x){if(this.buf.charCodeAt(this.pos++)!=58){throw new j1J("Invalid enum format");}var e0x=this.readDigits();if(e0x==0){return U4J.createEnum(s0x,J0x);}var n0x=[];while(e0x-->0)n0x.push(this.unserialize());return U4J.createEnum(s0x,J0x,n0x);},unserialize:function(){var j1x=this.buf.charCodeAt(this.pos++);switch(j1x){case 65:var K1x=this.unserialize();var M1x=this.resolver.resolveClass(K1x);if(M1x==null){throw new j1J("Class not found "+K1x);}return M1x;case 66:var V1x=this.unserialize();var v1x=this.resolver.resolveEnum(V1x);if(v1x==null){throw new j1J("Enum not found "+V1x);}return v1x;case 67:var H1x=this.unserialize();var O1x=this.resolver.resolveClass(H1x);if(O1x==null){throw new j1J("Class not found "+H1x);}var f1x=Object.create(O1x.prototype);this.cache.push(f1x);f1x.hxUnserialize(this);if(this.buf.charCodeAt(this.pos++)!=103){throw new j1J("Invalid custom data");}return f1x;case 77:var D1x=new u7J();this.cache.push(D1x);var i1x=this.buf;while(this.buf.charCodeAt(this.pos)!=104){var S1x=this.unserialize();D1x.set(S1x,this.unserialize());}this.pos++;return D1x;case 82:var X1x=this.readDigits();if(X1x<0||X1x>=this.scache.length){throw new j1J("Invalid string reference");}return this.scache[X1x];case 97:var I1x=this.buf;var E0x=[];this.cache.push(E0x);while(true){var L1x=this.buf.charCodeAt(this.pos);if(L1x==104){this.pos++;break;}if(L1x==117){this.pos++;var Z1x=this.readDigits();E0x[E0x.length+Z1x-1]=null;}else{E0x.push(this.unserialize());}}return E0x;case 98:var u1x=new b4J();this.cache.push(u1x);var k1x=this.buf;while(this.buf.charCodeAt(this.pos)!=104){var w1x=this.unserialize();var P1x=this.unserialize();if(E1J[w1x]!=null){u1x.setReserved(w1x,P1x);}else{u1x.h[w1x]=P1x;}}this.pos++;return u1x;case 99:var a1x=this.unserialize();var N1x=this.resolver.resolveClass(a1x);if(N1x==null){throw new j1J("Class not found "+a1x);}var R1x=Object.create(N1x.prototype);this.cache.push(R1x);this.unserializeObject(R1x);return R1x;case 100:return this.readFloat();case 102:return false;case 105:return this.readDigits();case 106:var U1x=this.unserialize();var q1x=this.resolver.resolveEnum(U1x);if(q1x==null){throw new j1J("Enum not found "+U1x);}this.pos++;var G1x=this.readDigits();var l1x=q1x.__constructs__.slice()[G1x];if(l1x==null){throw new j1J("Unknown enum index "+U1x+"@"+G1x);}var d1x=this.unserializeEnum(q1x,l1x);this.cache.push(d1x);return d1x;case 107:return NaN;case 108:var o1x=new t8J();this.cache.push(o1x);var y1x=this.buf;while(this.buf.charCodeAt(this.pos)!=104)o1x.add(this.unserialize());this.pos++;return o1x;case 109:return-Infinity;case 110:return null;case 111:var t1x={};this.cache.push(t1x);this.unserializeObject(t1x);return t1x;case 112:return Infinity;case 113:var F1x=new t3J();this.cache.push(F1x);var E1x=this.buf;var c1x=this.buf.charCodeAt(this.pos++);while(c1x==58){var A1x=this.readDigits();var J1x=this.unserialize();F1x.h[A1x]=J1x;c1x=this.buf.charCodeAt(this.pos++);}if(c1x!=104){throw new j1J("Invalid IntMap format");}return F1x;case 114:var Y1x=this.readDigits();if(Y1x<0||Y1x>=this.cache.length){throw new j1J("Invalid reference");}return this.cache[Y1x];case 115:var y0x=this.readDigits();var k0x=this.buf;if(this.buf.charCodeAt(this.pos++)!=58||this.length-this.pos<y0x){throw new j1J("Invalid bytes length");}var A0x=Y2J.CODES;if(A0x==null){A0x=Y2J.initCodes();Y2J.CODES=A0x;}var j0x=this.pos;var I0x=y0x&3;var n1x=(y0x>>2)*3+(I0x>=2?I0x-1:0);var Q1x=j0x+(y0x-I0x);var Q0x=new d7J(new v6y(n1x));var i0x=0;while(j0x<Q1x){var B1x=A0x[k0x.charCodeAt(j0x++)];var p1x=A0x[k0x.charCodeAt(j0x++)];Q0x.b[i0x++]=(B1x<<2|p1x>>4)&255;var T1x=A0x[k0x.charCodeAt(j0x++)];Q0x.b[i0x++]=(p1x<<4|T1x>>2)&255;var W1x=A0x[k0x.charCodeAt(j0x++)];Q0x.b[i0x++]=(T1x<<6|W1x)&255;}if(I0x>=2){var z1x=A0x[k0x.charCodeAt(j0x++)];var x1x=A0x[k0x.charCodeAt(j0x++)];Q0x.b[i0x++]=(z1x<<2|x1x>>4)&255;if(I0x==3){var e1x=A0x[k0x.charCodeAt(j0x++)];Q0x.b[i0x++]=(x1x<<4|e1x>>2)&255;}}this.pos+=y0x;this.cache.push(Q0x);return Q0x;case 116:return true;case 118:var h1x;if(this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&this.buf.charCodeAt(this.pos+4)==45){h1x=Y4J.strDate(Y4J.substr(this.buf,this.pos,19));this.pos+=19;}else{var s1x=this.readFloat();h1x=new Date(s1x);}this.cache.push(h1x);return h1x;case 119:var g1x=this.unserialize();var b1x=this.resolver.resolveEnum(g1x);if(b1x==null){throw new j1J("Enum not found "+g1x);}var m1x=this.unserializeEnum(b1x,this.unserialize());this.cache.push(m1x);return m1x;case 120:throw j1J.wrap(this.unserialize());case 121:var C1x=this.readDigits();if(this.buf.charCodeAt(this.pos++)!=58||this.length-this.pos<C1x){throw new j1J("Invalid string length");}var r0x=Y4J.substr(this.buf,this.pos,C1x);this.pos+=C1x;r0x=decodeURIComponent(r0x.split(6206>9782?0x112c:"+").join(" "));this.scache.push(r0x);return r0x;case 122:return 0;default:}this.pos--;throw new j1J("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:Y2J};var L8J=function(){};O1J["haxe.crypto.Md5"]=L8J;L8J.__name__=["haxe","crypto","Md5"];L8J.encode=function(X4x){var r1x=new L8J();var u4x=r1x.doEncode(L8J.str2blks(X4x));return r1x.hex(u4x);};L8J.str2blks=function(o4x){var w4x=d7J.ofString(o4x);var Y4x=(w4x.length+8>>6)+1;var h4x=[];var q4x=Y4x*16;var F4x=0;var U4x=q4x;while(F4x<U4x){var R4x=F4x++;h4x[R4x]=0;}var f4x=0;var c4x=w4x.length;var D4x=c4x*8;while(f4x<c4x){h4x[f4x>>2]|=w4x.b[f4x]<<(D4x+f4x)%4*8;++f4x;}h4x[f4x>>2]|=128<<(D4x+f4x)%4*8;var C4x=Y4x*16-2;h4x[C4x]=D4x&255;h4x[C4x]|=(D4x>>>8&255)<<8;h4x[C4x]|=(D4x>>>16&255)<<16;h4x[C4x]|=(D4x>>>24&255)<<24;return h4x;};L8J.prototype={bitOR:function(t4x,l4x){var G4x=t4x&1|l4x&1;var m4x=t4x>>>1|l4x>>>1;return m4x<<1|G4x;},bitXOR:function(K4x,N4x){var a4x=K4x&1^N4x&1;var b4x=K4x>>>1^N4x>>>1;return b4x<<1|a4x;},bitAND:function(g4x,P4x){var M4x=g4x&1&(P4x&1);var L4x=g4x>>>1&P4x>>>1;return L4x<<1|M4x;},addme:function(O4x,H4x){var x4x=(O4x&65535)+(H4x&65535);var T4x=(O4x>>16)+(H4x>>16)+(x4x>>16);return T4x<<16|x4x&65535;},hex:function(W4x){var v4x="";var V4x="0123456789abcdef";var d4x=0;while(d4x<W4x.length){var p4x=W4x[d4x];++d4x;var Z4x=0;while(Z4x<4){var B4x=Z4x++;v4x+=V4x.charAt(p4x>>B4x*8+4&15)+V4x.charAt(p4x>>B4x*8&15);}}return v4x;},rol:function(z4x,S4x){return z4x<<S4x|z4x>>>32-S4x;},cmn:function(e4x,n4x,s4x,J4x,A4x,j4x){return this.addme(this.rol(this.addme(this.addme(n4x,e4x),this.addme(J4x,j4x)),A4x),s4x);},ff:function(k4x,Q4x,i4x,I4x,E4x,y4x,r4x){return this.cmn(this.bitOR(this.bitAND(Q4x,i4x),this.bitAND(~Q4x,I4x)),k4x,Q4x,E4x,y4x,r4x);},gg:function(h6x,u6x,f6x,X6x,D6x,C6x,w6x){return this.cmn(this.bitOR(this.bitAND(u6x,X6x),this.bitAND(f6x,~X6x)),h6x,u6x,D6x,C6x,w6x);},hh:function(c6x,Y6x,F6x,R6x,U6x,q6x,o6x){return this.cmn(this.bitXOR(this.bitXOR(Y6x,F6x),R6x),c6x,Y6x,U6x,q6x,o6x);},ii:function(l6x,t6x,G6x,m6x,K6x,N6x,a6x){return this.cmn(this.bitXOR(G6x,this.bitOR(t6x,~m6x)),l6x,t6x,K6x,N6x,a6x);},doEncode:function(x6x){var b6x=1732584193;var g6x=-271733879;var P6x=-1732584194;var M6x=271733878;var v6x;var L6x=0;while(L6x<x6x.length){var H6x=b6x;var T6x=g6x;var d6x=P6x;var O6x=M6x;v6x=0;b6x=this.ff(b6x,g6x,P6x,M6x,x6x[L6x],7,-680876936);M6x=this.ff(M6x,b6x,g6x,P6x,x6x[L6x+1],12,-389564586);P6x=this.ff(P6x,M6x,b6x,g6x,x6x[L6x+2],17,606105819);g6x=this.ff(g6x,P6x,M6x,b6x,x6x[L6x+3],22,-1044525330);b6x=this.ff(b6x,g6x,P6x,M6x,x6x[L6x+4],7,-176418897);M6x=this.ff(M6x,b6x,g6x,P6x,x6x[L6x+5],12,1200080426);P6x=this.ff(P6x,M6x,b6x,g6x,x6x[L6x+6],17,-1473231341);g6x=this.ff(g6x,P6x,M6x,b6x,x6x[L6x+7],22,-45705983);b6x=this.ff(b6x,g6x,P6x,M6x,x6x[L6x+8],7,1770035416);M6x=this.ff(M6x,b6x,g6x,P6x,x6x[L6x+9],12,-1958414417);P6x=this.ff(P6x,M6x,b6x,g6x,x6x[L6x+10],17,-42063);g6x=this.ff(g6x,P6x,M6x,b6x,x6x[L6x+11],22,-1990404162);b6x=this.ff(b6x,g6x,P6x,M6x,x6x[L6x+12],7,1804603682);M6x=this.ff(M6x,b6x,g6x,P6x,x6x[L6x+13],12,-40341101);P6x=this.ff(P6x,M6x,b6x,g6x,x6x[L6x+14],17,-1502002290);g6x=this.ff(g6x,P6x,M6x,b6x,x6x[L6x+15],22,1236535329);b6x=this.gg(b6x,g6x,P6x,M6x,x6x[L6x+1],5,-165796510);M6x=this.gg(M6x,b6x,g6x,P6x,x6x[L6x+6],9,-1069501632);P6x=this.gg(P6x,M6x,b6x,g6x,x6x[L6x+11],14,643717713);g6x=this.gg(g6x,P6x,M6x,b6x,x6x[L6x],20,-373897302);b6x=this.gg(b6x,g6x,P6x,M6x,x6x[L6x+5],5,-701558691);M6x=this.gg(M6x,b6x,g6x,P6x,x6x[L6x+10],9,38016083);P6x=this.gg(P6x,M6x,b6x,g6x,x6x[L6x+15],14,-660478335);g6x=this.gg(g6x,P6x,M6x,b6x,x6x[L6x+4],20,-405537848);b6x=this.gg(b6x,g6x,P6x,M6x,x6x[L6x+9],5,568446438);M6x=this.gg(M6x,b6x,g6x,P6x,x6x[L6x+14],9,-1019803690);P6x=this.gg(P6x,M6x,b6x,g6x,x6x[L6x+3],14,-187363961);g6x=this.gg(g6x,P6x,M6x,b6x,x6x[L6x+8],20,1163531501);b6x=this.gg(b6x,g6x,P6x,M6x,x6x[L6x+13],5,-1444681467);M6x=this.gg(M6x,b6x,g6x,P6x,x6x[L6x+2],9,-51403784);P6x=this.gg(P6x,M6x,b6x,g6x,x6x[L6x+7],14,1735328473);g6x=this.gg(g6x,P6x,M6x,b6x,x6x[L6x+12],20,-1926607734);b6x=this.hh(b6x,g6x,P6x,M6x,x6x[L6x+5],4,-378558);M6x=this.hh(M6x,b6x,g6x,P6x,x6x[L6x+8],11,-2022574463);P6x=this.hh(P6x,M6x,b6x,g6x,x6x[L6x+11],16,1839030562);g6x=this.hh(g6x,P6x,M6x,b6x,x6x[L6x+14],23,-35309556);b6x=this.hh(b6x,g6x,P6x,M6x,x6x[L6x+1],4,-1530992060);M6x=this.hh(M6x,b6x,g6x,P6x,x6x[L6x+4],11,1272893353);P6x=this.hh(P6x,M6x,b6x,g6x,x6x[L6x+7],16,-155497632);g6x=this.hh(g6x,P6x,M6x,b6x,x6x[L6x+10],23,-1094730640);b6x=this.hh(b6x,g6x,P6x,M6x,x6x[L6x+13],4,681279174);M6x=this.hh(M6x,b6x,g6x,P6x,x6x[L6x],11,-358537222);P6x=this.hh(P6x,M6x,b6x,g6x,x6x[L6x+3],16,-722521979);g6x=this.hh(g6x,P6x,M6x,b6x,x6x[L6x+6],23,76029189);b6x=this.hh(b6x,g6x,P6x,M6x,x6x[L6x+9],4,-640364487);M6x=this.hh(M6x,b6x,g6x,P6x,x6x[L6x+12],11,-421815835);P6x=this.hh(P6x,M6x,b6x,g6x,x6x[L6x+15],16,530742520);g6x=this.hh(g6x,P6x,M6x,b6x,x6x[L6x+2],23,-995338651);b6x=this.ii(b6x,g6x,P6x,M6x,x6x[L6x],6,-198630844);M6x=this.ii(M6x,b6x,g6x,P6x,x6x[L6x+7],10,1126891415);P6x=this.ii(P6x,M6x,b6x,g6x,x6x[L6x+14],15,-1416354905);g6x=this.ii(g6x,P6x,M6x,b6x,x6x[L6x+5],21,-57434055);b6x=this.ii(b6x,g6x,P6x,M6x,x6x[L6x+12],6,1700485571);M6x=this.ii(M6x,b6x,g6x,P6x,x6x[L6x+3],10,-1894986606);P6x=this.ii(P6x,M6x,b6x,g6x,x6x[L6x+10],15,-1051523);g6x=this.ii(g6x,P6x,M6x,b6x,x6x[L6x+1],21,-2054922799);b6x=this.ii(b6x,g6x,P6x,M6x,x6x[L6x+8],6,1873313359);M6x=this.ii(M6x,b6x,g6x,P6x,x6x[L6x+15],10,-30611744);P6x=this.ii(P6x,M6x,b6x,g6x,x6x[L6x+6],15,-1560198380);g6x=this.ii(g6x,P6x,M6x,b6x,x6x[L6x+13],21,1309151649);b6x=this.ii(b6x,g6x,P6x,M6x,x6x[L6x+4],6,-145523070);M6x=this.ii(M6x,b6x,g6x,P6x,x6x[L6x+11],10,-1120210379);P6x=this.ii(P6x,M6x,b6x,g6x,x6x[L6x+2],15,718787259);g6x=this.ii(g6x,P6x,M6x,b6x,x6x[L6x+9],21,-343485551);b6x=this.addme(b6x,H6x);g6x=this.addme(g6x,T6x);P6x=this.addme(P6x,d6x);M6x=this.addme(M6x,O6x);L6x+=16;}return[b6x,g6x,P6x,M6x];},__class__:L8J};var s2J=function(S6x,s6x,n6x,e6x,V6x){if(V6x==null){V6x=-1;}this.left=S6x;this.key=s6x;this.value=n6x;this.right=e6x;if(V6x==-1){var z6x;var W6x=this.left;var B6x=this.right;if((W6x==null?0:W6x._height)>(B6x==null?0:B6x._height)){var Z6x=this.left;z6x=Z6x==null?0:Z6x._height;}else{var p6x=this.right;z6x=p6x==null?0:p6x._height;}this._height=z6x+1;}else{this._height=V6x;}};O1J["haxe.ds.TreeNode"]=s2J;s2J.__name__=["haxe","ds","TreeNode"];s2J.prototype={left:null,right:null,key:null,value:null,_height:null,toString:function(){return(this.left==null?"":this.left.toString()+", ")+(""+d1J.string(this.key)+"="+d1J.string(this.value))+(this.right==null?"":", "+this.right.toString());},__class__:s2J};var t3J=function(){this.h={};};O1J["haxe.ds.IntMap"]=t3J;t3J.__name__=["haxe","ds","IntMap"];t3J.__interfaces__=[v8J];t3J.prototype={h:null,set:function(J6x,A6x){this.h[J6x]=A6x;},get:function(j6x){return this.h[j6x];},exists:function(Q6x){return this.h.hasOwnProperty(Q6x);},remove:function(k6x){if(!this.h.hasOwnProperty(k6x)){return false;}delete this.h[k6x];return true;},keys:function(){var i6x=[];for(var I6x in this.h)if(this.h.hasOwnProperty(I6x)){i6x.push(I6x|0);}return Y4J.iter(i6x);},toString:function(){var E6x="";E6x+="{";var r6x=this.keys();var u2x=r6x;while(u2x.hasNext()){var y6x=u2x.next();E6x+=y6x==null?"null":""+y6x;E6x+=" => ";E6x+=d1J.string(d1J.string(this.h[y6x]));if(r6x.hasNext()){E6x+=", ";}}E6x+="}";return E6x;},__class__:t3J};var t8J=function(){this.length=0;};O1J["haxe.ds.List"]=t8J;t8J.__name__=["haxe","ds","List"];t8J.prototype={h:null,q:null,length:null,add:function(h2x){var X2x=new H9y(h2x,null);if(this.h==null){this.h=X2x;}else{this.q.next=X2x;}this.q=X2x;this.length++;},push:function(D2x){var f2x=new H9y(D2x,this.h);this.h=f2x;if(this.q==null){this.q=f2x;}this.length++;},iterator:function(){return new j3y(this.h);},__class__:t8J};var H9y=function(C2x,w2x){this.item=C2x;this.next=w2x;};O1J["haxe.ds._List.ListNode"]=H9y;H9y.__name__=["haxe","ds","_List","ListNode"];H9y.prototype={item:null,next:null,__class__:H9y};var j3y=function(Y2x){this.head=Y2x;};O1J["haxe.ds._List.ListIterator"]=j3y;j3y.__name__=["haxe","ds","_List","ListIterator"];j3y.prototype={head:null,hasNext:function(){return this.head!=null;},next:function(){var c2x=this.head.item;this.head=this.head.next;return c2x;},__class__:j3y};var u7J=function(){this.h={__keys__:{}};};O1J["haxe.ds.ObjectMap"]=u7J;u7J.__name__=["haxe","ds","ObjectMap"];u7J.__interfaces__=[v8J];u7J.assignId=function(F2x){return F2x.__id__=++u7J.count;};u7J.getId=function(R2x){return R2x.__id__;};u7J.prototype={h:null,set:function(U2x,o2x){var q2x=U2x.__id__||(U2x.__id__=++u7J.count);this.h[q2x]=o2x;this.h.__keys__[q2x]=U2x;},get:function(t2x){return this.h[t2x.__id__];},exists:function(l2x){return this.h.__keys__[l2x.__id__]!=null;},remove:function(m2x){var G2x=m2x.__id__;if(this.h.__keys__[G2x]==null){return false;}delete this.h[G2x];delete this.h.__keys__[G2x];return true;},keys:function(){var K2x=[];for(var N2x in this.h.__keys__){if(this.h.hasOwnProperty(N2x)){K2x.push(this.h.__keys__[N2x]);}}return Y4J.iter(K2x);},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext();},next:function(){var a2x=this.it.next();return this.ref[a2x.__id__];}};},toString:function(){var b2x="";b2x+="{";var g2x=this.keys();var P2x=g2x;while(P2x.hasNext()){var M2x=P2x.next();b2x+=d1J.string(d1J.string(M2x));b2x+=" => ";b2x+=d1J.string(d1J.string(this.h[M2x.__id__]));if(g2x.hasNext()){b2x+=", ";}}b2x+="}";return b2x;},__class__:u7J};var l8J=O1J["haxe.ds.Option"]={__ename__:["haxe","ds","Option"],__constructs__:["Some","None"]};l8J.Some=function(x2x){var L2x=["Some",0,x2x];L2x.__enum__=l8J;L2x.toString=H1J;return L2x;};l8J.None=["None",1];l8J.None.toString=H1J;l8J.None.__enum__=l8J;l8J.__empty_constructs__=[l8J.None];var W3y=function(H2x,O2x){this.map=H2x;this.keys=O2x;this.index=0;this.count=O2x.length;};O1J["haxe.ds._StringMap.StringMapIterator"]=W3y;W3y.__name__=["haxe","ds","_StringMap","StringMapIterator"];W3y.prototype={map:null,keys:null,index:null,count:null,hasNext:function(){return this.index<this.count;},next:function(){var d2x=this.map;var T2x=this.keys[this.index++];if(E1J[T2x]!=null){return d2x.getReserved(T2x);}else{return d2x.h[T2x];}},__class__:W3y};var b4J=function(){this.h={};};O1J["haxe.ds.StringMap"]=b4J;b4J.__name__=["haxe","ds","StringMap"];b4J.__interfaces__=[v8J];b4J.prototype={h:null,rh:null,set:function(v2x,V2x){if(E1J[v2x]!=null){this.setReserved(v2x,V2x);}else{this.h[v2x]=V2x;}},get:function(p2x){if(E1J[p2x]!=null){return this.getReserved(p2x);}return this.h[p2x];},exists:function(Z2x){if(E1J[Z2x]!=null){return this.existsReserved(Z2x);}return this.h.hasOwnProperty(Z2x);},setReserved:function(B2x,W2x){if(this.rh==null){this.rh={};}this.rh["$"+B2x]=W2x;},getReserved:function(z2x){if(this.rh==null){return null;}else{return this.rh["$"+z2x];}},existsReserved:function(S2x){if(this.rh==null){return false;}return this.rh.hasOwnProperty(((7430,851)<=5900?"$":9.33e+3)+S2x);},remove:function(e2x){if(E1J[e2x]!=null){e2x="$"+e2x;if(this.rh==null||!this.rh.hasOwnProperty(e2x)){return false;}delete this.rh[e2x];return true;}else{if(!this.h.hasOwnProperty(e2x)){return false;}delete this.h[e2x];return true;}},keys:function(){return Y4J.iter(this.arrayKeys());},arrayKeys:function(){var s2x=[];for(var n2x in this.h){if(this.h.hasOwnProperty(n2x)){s2x.push(n2x);}}if(this.rh!=null){for(var n2x in this.rh){if(n2x.charCodeAt(0)==36){s2x.push(n2x.substr(1));}}}return s2x;},iterator:function(){return new W3y(this,this.arrayKeys());},toString:function(){var J2x="";J2x+="{";var j2x=this.arrayKeys();var Q2x=0;var i2x=j2x.length;while(Q2x<i2x){var k2x=Q2x++;var A2x=j2x[k2x];J2x+=A2x==null?"null":""+A2x;J2x+=" => ";J2x+=d1J.string(d1J.string(E1J[A2x]!=null?this.getReserved(A2x):this.h[A2x]));if(k2x<j2x.length-1){J2x+=", ";}}J2x+=(2995,9764)>892.23?"}":(0x903,4.19e+3);return J2x;},__class__:b4J};var d7J=function(I2x){this.length=I2x.byteLength;this.b=new Y04(I2x);this.b.bufferValue=I2x;I2x.hxBytes=this;I2x.bytes=this.b;};O1J["haxe.io.Bytes"]=d7J;d7J.__name__=["haxe","io","Bytes"];d7J.alloc=function(E2x){return new d7J(new v6y(E2x));};d7J.ofString=function(X7x){var r2x=[];var u7x=0;while(u7x<X7x.length){var y2x=X7x.charCodeAt(u7x++);if(55296<=y2x&&y2x<=56319){y2x=y2x-55232<<10|X7x.charCodeAt(u7x++)&1023;}if(y2x<=127){r2x.push(y2x);}else if(y2x<=2047){r2x.push(192|y2x>>6);r2x.push(128|y2x&63);}else if(y2x<=65535){r2x.push(224|y2x>>12);r2x.push(128|y2x>>6&63);r2x.push(128|y2x&63);}else{r2x.push(240|y2x>>18);r2x.push(128|y2x>>12&63);r2x.push(128|y2x>>6&63);r2x.push(128|y2x&63);}}return new d7J(new Y04(r2x).buffer);};d7J.ofData=function(f7x){var h7x=f7x.hxBytes;if(h7x!=null){return h7x;}return new d7J(f7x);};d7J.fastGet=function(D7x,C7x){return D7x.bytes[C7x];};d7J.prototype={length:null,b:null,__class__:d7J};var x2J=O1J["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};x2J.Blocked=["Blocked",0];x2J.Blocked.toString=H1J;x2J.Blocked.__enum__=x2J;x2J.Overflow=["Overflow",1];x2J.Overflow.toString=H1J;x2J.Overflow.__enum__=x2J;x2J.OutsideBounds=["OutsideBounds",2];x2J.OutsideBounds.toString=H1J;x2J.OutsideBounds.__enum__=x2J;x2J.Custom=function(Y7x){var w7x=["Custom",3,Y7x];w7x.__enum__=x2J;w7x.toString=H1J;return w7x;};x2J.__empty_constructs__=[x2J.Blocked,x2J.Overflow,x2J.OutsideBounds];var I6J=function(){};O1J["haxe.io.FPHelper"]=I6J;I6J.__name__=["haxe","io","FPHelper"];I6J.i32ToFloat=function(c7x){I6J.helper.setInt32(0,c7x,true);return I6J.helper.getFloat32(0,true);};I6J.floatToI32=function(F7x){I6J.helper.setFloat32(0,F7x,true);return I6J.helper.getInt32(0,true);};I6J.i64ToDouble=function(R7x,U7x){I6J.helper.setInt32(0,R7x,true);I6J.helper.setInt32(4,U7x,true);return I6J.helper.getFloat64(0,true);};I6J.doubleToI64=function(o7x){var q7x=I6J.i64tmp;I6J.helper.setFloat64(0,o7x,true);q7x.low=I6J.helper.getInt32(0,true);q7x.high=I6J.helper.getInt32(4,true);return q7x;};var u2J={};O1J["haxe.xml._Fast.NodeAccess_Impl_"]=u2J;u2J.__name__=["haxe","xml","_Fast","NodeAccess_Impl_"];u2J.resolve=function(l7x,m7x){var t7x=l7x.elementsNamed(m7x).next();if(t7x==null){var G7x;if(l7x.nodeType==y1J.Document){G7x="Document";}else{if(l7x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+l7x.nodeType);}G7x=l7x.nodeName;}throw new j1J(G7x+" is missing element "+m7x);}if(t7x.nodeType!=y1J.Document&&t7x.nodeType!=y1J.Element){throw new j1J("Invalid nodeType "+t7x.nodeType);}var K7x=t7x;return K7x;};var h2J={};O1J["haxe.xml._Fast.AttribAccess_Impl_"]=h2J;h2J.__name__=["haxe","xml","_Fast","AttribAccess_Impl_"];h2J.resolve=function(N7x,a7x){if(N7x.nodeType==y1J.Document){throw new j1J("Cannot access document attribute "+a7x);}var b7x=N7x.get(a7x);if(b7x==null){if(N7x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+N7x.nodeType);}throw new j1J(N7x.nodeName+" is missing attribute "+a7x);}return b7x;};var q7J={};O1J["haxe.xml._Fast.HasAttribAccess_Impl_"]=q7J;q7J.__name__=["haxe","xml","_Fast","HasAttribAccess_Impl_"];q7J.resolve=function(g7x,P7x){if(g7x.nodeType==y1J.Document){throw new j1J("Cannot access document attribute "+P7x);}return g7x.exists(P7x);};var j6J={};O1J["haxe.xml._Fast.HasNodeAccess_Impl_"]=j6J;j6J.__name__=["haxe","xml","_Fast","HasNodeAccess_Impl_"];j6J.resolve=function(M7x,L7x){return M7x.elementsNamed(L7x).hasNext();};var m8J={};O1J["haxe.xml._Fast.NodeListAccess_Impl_"]=m8J;m8J.__name__=["haxe","xml","_Fast","NodeListAccess_Impl_"];m8J.resolve=function(d7x,v7x){var O7x=[];var H7x=d7x.elementsNamed(v7x);while(H7x.hasNext()){var x7x=H7x.next();if(x7x.nodeType!=y1J.Document&&x7x.nodeType!=y1J.Element){throw new j1J("Invalid nodeType "+x7x.nodeType);}var T7x=x7x;O7x.push(T7x);}return O7x;};var g3J={};O1J["haxe.xml._Fast.Fast_Impl_"]=g3J;g3J.__name__=["haxe","xml","_Fast","Fast_Impl_"];g3J.get_innerData=function(V7x){if(V7x.nodeType!=y1J.Document&&V7x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element or Document but found "+V7x.nodeType);}var B7x=Y4J.iter(V7x.children);if(!B7x.hasNext()){var z7x;if(V7x.nodeType==y1J.Document){z7x="Document";}else{if(V7x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+V7x.nodeType);}z7x=V7x.nodeName;}throw new j1J(z7x+" does not have data");}var p7x=B7x.next();if(B7x.hasNext()){var Z7x=B7x.next();var S7x;if(p7x.nodeType==y1J.PCData&&Z7x.nodeType==y1J.CData){if(p7x.nodeType==y1J.Document||p7x.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+p7x.nodeType);}S7x=C6J.trim(p7x.nodeValue)=="";}else{S7x=false;}if(S7x){if(!B7x.hasNext()){if(Z7x.nodeType==y1J.Document||Z7x.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+Z7x.nodeType);}return Z7x.nodeValue;}var W7x=B7x.next();var n7x;if(W7x.nodeType==y1J.PCData){if(W7x.nodeType==y1J.Document||W7x.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+W7x.nodeType);}n7x=C6J.trim(W7x.nodeValue)=="";}else{n7x=false;}if(n7x&&!B7x.hasNext()){if(Z7x.nodeType==y1J.Document||Z7x.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+Z7x.nodeType);}return Z7x.nodeValue;}}var s7x;if(V7x.nodeType==y1J.Document){s7x="Document";}else{if(V7x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+V7x.nodeType);}s7x=V7x.nodeName;}throw new j1J(s7x+" does not only have data");}if(p7x.nodeType!=y1J.PCData&&p7x.nodeType!=y1J.CData){var e7x;if(V7x.nodeType==y1J.Document){e7x="Document";}else{if(V7x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+V7x.nodeType);}e7x=V7x.nodeName;}throw new j1J(e7x+" does not have data");}if(p7x.nodeType==y1J.Document||p7x.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+p7x.nodeType);}return p7x.nodeValue;};var l2J=function(I7x,j7x,Q7x){this.xml=j7x;this.message=I7x;this.position=Q7x;this.lineNumber=1;this.positionAtLine=0;var J7x=0;var k7x=Q7x;while(J7x<k7x){var i7x=J7x++;var A7x=j7x.charCodeAt(i7x);if(A7x==10){this.lineNumber++;this.positionAtLine=0;}else if(A7x!=13){this.positionAtLine++;}}};O1J["haxe.xml.XmlParserException"]=l2J;l2J.__name__=["haxe","xml","XmlParserException"];l2J.prototype={message:null,lineNumber:null,positionAtLine:null,position:null,xml:null,toString:function(){return U4J.getClassName(S1J.getClass(this))+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine;},__class__:l2J};var K8J=function(){};O1J["haxe.xml.Parser"]=K8J;K8J.__name__=["haxe","xml","Parser"];K8J.parse=function(r7x,E7x){if(E7x==null){E7x=false;}var y7x=y1J.createDocument();K8J.doParse(r7x,E7x,0,y7x);return y7x;};K8J.doParse=function(f9x,o9x,u9x,w9x){if(u9x==null){u9x=0;}var R9x=null;var D9x=1;var F9x=1;var U9x=null;var h9x=0;var c9x=0;var t9x=0;var X9x=f9x.charCodeAt(u9x);var C9x=new T9J();var q9x=1;var l9x=-1;while(X9x==X9x){switch(D9x){case 0:switch(X9x){case 9:case 10:case 13:case 32:break;default:D9x=F9x;continue;}break;case 1:if(X9x==60){D9x=0;F9x=2;}else{h9x=u9x;D9x=13;continue;}break;case 2:switch(X9x){case 33:if(f9x.charCodeAt(u9x+1)==91){u9x+=2;if(Y4J.substr(f9x,u9x,6).toUpperCase()!="CDATA["){throw new j1J(new l2J("Expected <![CDATA[",f9x,u9x));}u9x+=5;D9x=17;h9x=u9x+1;}else if(f9x.charCodeAt(u9x+1)==68||f9x.charCodeAt(u9x+1)==100){if(Y4J.substr(f9x,u9x+2,6).toUpperCase()!="OCTYPE"){throw new j1J(new l2J("Expected <!DOCTYPE",f9x,u9x));}u9x+=8;D9x=16;h9x=u9x+1;}else if(f9x.charCodeAt(u9x+1)!=45||f9x.charCodeAt(u9x+2)!=45){throw new j1J(new l2J("Expected <!--",f9x,u9x));}else{u9x+=2;D9x=15;h9x=u9x+1;}break;case 47:if(w9x==null){throw new j1J(new l2J("Expected node name",f9x,u9x));}h9x=u9x+1;D9x=0;F9x=10;break;case 63:D9x=14;h9x=u9x;break;default:D9x=3;h9x=u9x;continue;}break;case 3:if(!(X9x>=97&&X9x<=122||X9x>=65&&X9x<=90||X9x>=48&&X9x<=57||X9x==58||X9x==46||X9x==95||X9x==45)){if(u9x==h9x){throw new j1J(new l2J("Expected node name",f9x,u9x));}R9x=y1J.createElement(Y4J.substr(f9x,h9x,u9x-h9x));w9x.addChild(R9x);++c9x;D9x=0;F9x=4;continue;}break;case 4:switch(X9x){case 47:D9x=11;break;case 62:D9x=9;break;default:D9x=5;h9x=u9x;continue;}break;case 5:if(!(X9x>=97&&X9x<=122||X9x>=65&&X9x<=90||X9x>=48&&X9x<=57||X9x==58||X9x==46||X9x==95||X9x==45)){if(h9x==u9x){throw new j1J(new l2J("Expected attribute name",f9x,u9x));}var Z9x=Y4J.substr(f9x,h9x,u9x-h9x);U9x=Z9x;if(R9x.exists(U9x)){throw new j1J(new l2J("Duplicate attribute ["+U9x+"]",f9x,u9x));}D9x=0;F9x=6;continue;}break;case 6:if(X9x==61){D9x=0;F9x=7;}else{throw new j1J(new l2J("Expected =",f9x,u9x));}break;case 7:switch(X9x){case 34:case 39:C9x=new T9J();D9x=8;h9x=u9x+1;l9x=X9x;break;default:throw new j1J(new l2J("Expected \"",f9x,u9x));}break;case 8:switch(X9x){case 38:var m9x=u9x-h9x;C9x.b+=m9x==null?Y4J.substr(f9x,h9x,null):Y4J.substr(f9x,h9x,m9x);D9x=18;q9x=8;h9x=u9x+1;break;case 60:case 62:if(o9x){throw new j1J(new l2J("Invalid unescaped "+String.fromCharCode(X9x)+" in attribute value",f9x,u9x));}else if(X9x==l9x){var G9x=u9x-h9x;C9x.b+=G9x==null?Y4J.substr(f9x,h9x,null):Y4J.substr(f9x,h9x,G9x);var p9x=C9x.b;C9x=new T9J();R9x.set(U9x,p9x);D9x=0;F9x=4;}break;default:if(X9x==l9x){var a9x=u9x-h9x;C9x.b+=a9x==null?Y4J.substr(f9x,h9x,null):Y4J.substr(f9x,h9x,a9x);var v9x=C9x.b;C9x=new T9J();R9x.set(U9x,v9x);D9x=0;F9x=4;}}break;case 9:u9x=K8J.doParse(f9x,o9x,u9x,R9x);h9x=u9x;D9x=1;break;case 10:if(!(X9x>=97&&X9x<=122||X9x>=65&&X9x<=90||X9x>=48&&X9x<=57||X9x==58||X9x==46||X9x==95||X9x==45)){if(h9x==u9x){throw new j1J(new l2J("Expected node name",f9x,u9x));}var d9x=Y4J.substr(f9x,h9x,u9x-h9x);if(w9x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+w9x.nodeType);}if(d9x!=w9x.nodeName){if(w9x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+w9x.nodeType);}throw new j1J(new l2J("Expected </"+w9x.nodeName+">",f9x,u9x));}D9x=0;F9x=12;continue;}break;case 11:if(X9x==62){D9x=1;}else{throw new j1J(new l2J("Expected >",f9x,u9x));}break;case 12:if(X9x==62){if(c9x==0){w9x.addChild(y1J.createPCData(""));}return u9x;}else{throw new j1J(new l2J("Expected >",f9x,u9x));}break;case 13:if(X9x==60){var P9x=u9x-h9x;C9x.b+=P9x==null?Y4J.substr(f9x,h9x,null):Y4J.substr(f9x,h9x,P9x);var H9x=y1J.createPCData(C9x.b);C9x=new T9J();w9x.addChild(H9x);++c9x;D9x=0;F9x=2;}else if(X9x==38){var L9x=u9x-h9x;C9x.b+=L9x==null?Y4J.substr(f9x,h9x,null):Y4J.substr(f9x,h9x,L9x);D9x=18;q9x=13;h9x=u9x+1;}break;case 14:if(X9x==63&&f9x.charCodeAt(u9x+1)==62){++u9x;var x9x=Y4J.substr(f9x,h9x+1,u9x-h9x-2);w9x.addChild(y1J.createProcessingInstruction(x9x));++c9x;D9x=1;}break;case 15:if(X9x==45&&f9x.charCodeAt(u9x+1)==45&&f9x.charCodeAt(u9x+2)==62){w9x.addChild(y1J.createComment(Y4J.substr(f9x,h9x,u9x-h9x)));++c9x;u9x+=2;D9x=1;}break;case 16:if(X9x==91){++t9x;}else if(X9x==93){--t9x;}else if(X9x==62&&t9x==0){w9x.addChild(y1J.createDocType(Y4J.substr(f9x,h9x,u9x-h9x)));++c9x;D9x=1;}break;case 17:if(X9x==93&&f9x.charCodeAt(u9x+1)==93&&f9x.charCodeAt(u9x+2)==62){var O9x=y1J.createCData(Y4J.substr(f9x,h9x,u9x-h9x));w9x.addChild(O9x);++c9x;u9x+=2;D9x=1;}break;case 18:if(X9x==59){var Y9x=Y4J.substr(f9x,h9x,u9x-h9x);if(Y9x.charCodeAt(0)==35){var T9x=Y9x.charCodeAt(1)==120?d1J.parseInt("0"+Y4J.substr(Y9x,1,Y9x.length-1)):d1J.parseInt(Y4J.substr(Y9x,1,Y9x.length-1));C9x.b+=String.fromCharCode(T9x);}else{var g9x=K8J.escapes;if(!(E1J[Y9x]!=null?g9x.existsReserved(Y9x):g9x.h.hasOwnProperty(Y9x))){if(o9x){throw new j1J(new l2J("Undefined entity: "+Y9x,f9x,u9x));}C9x.b+=d1J.string("&"+Y9x+";");}else{var b9x=K8J.escapes;var V9x=E1J[Y9x]!=null?b9x.getReserved(Y9x):b9x.h[Y9x];C9x.b+=d1J.string(V9x);}}h9x=u9x+1;D9x=q9x;}else if(!(X9x>=97&&X9x<=122||X9x>=65&&X9x<=90||X9x>=48&&X9x<=57||X9x==58||X9x==46||X9x==95||X9x==45)&&X9x!=35){if(o9x){throw new j1J(new l2J("Invalid character in entity: "+String.fromCharCode(X9x),f9x,u9x));}C9x.b+="&";var N9x=u9x-h9x;C9x.b+=N9x==null?Y4J.substr(f9x,h9x,null):Y4J.substr(f9x,h9x,N9x);h9x=u9x--;D9x=q9x;}break;}X9x=f9x.charCodeAt(++u9x);}if(D9x==1){h9x=u9x;D9x=13;}if(D9x==13){if(u9x!=h9x||c9x==0){var M9x=u9x-h9x;C9x.b+=M9x==null?Y4J.substr(f9x,h9x,null):Y4J.substr(f9x,h9x,M9x);w9x.addChild(y1J.createPCData(C9x.b));++c9x;}return u9x;}if(!o9x&&D9x==18&&q9x==13){C9x.b+="&";var K9x=u9x-h9x;C9x.b+=K9x==null?Y4J.substr(f9x,h9x,null):Y4J.substr(f9x,h9x,K9x);w9x.addChild(y1J.createPCData(C9x.b));++c9x;return u9x;}throw new j1J(new l2J("Unexpected end",f9x,u9x));};var O5J=function(B9x){this.output=new T9J();this.pretty=B9x;};O1J["haxe.xml.Printer"]=O5J;O5J.__name__=["haxe","xml","Printer"];O5J.print=function(S9x,W9x){if(W9x==null){W9x=false;}var z9x=new O5J(W9x);z9x.writeNode(S9x,"");return z9x.output.b;};O5J.prototype={output:null,pretty:null,writeNode:function(e9x,n9x){var h8x=e9x.nodeType;switch(h8x){case 0:this.output.b+=d1J.string(n9x+"<");if(e9x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+e9x.nodeType);}this.output.b+=d1J.string(e9x.nodeName);var J9x=e9x.attributes();while(J9x.hasNext()){var A9x=J9x.next();this.output.b+=d1J.string(" "+A9x+"=\"");var I9x=C6J.htmlEscape(e9x.get(A9x),true);this.output.b+=d1J.string(I9x);this.output.b+="\"";}if(this.hasChildren(e9x)){this.output.b+=">";if(this.pretty){this.output.b+="\n";}if(e9x.nodeType!=y1J.Document&&e9x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element or Document but found "+e9x.nodeType);}var j9x=Y4J.iter(e9x.children);while(j9x.hasNext()){var i9x=j9x.next();this.writeNode(i9x,this.pretty?n9x+"\t":n9x);}this.output.b+=d1J.string(n9x+"</");if(e9x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element but found "+e9x.nodeType);}this.output.b+=d1J.string(e9x.nodeName);this.output.b+=">";if(this.pretty){this.output.b+="\n";}}else{this.output.b+="/>";if(this.pretty){this.output.b+="\n";}}break;case 1:if(e9x.nodeType==y1J.Document||e9x.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+e9x.nodeType);}var Q9x=e9x.nodeValue;if(Q9x.length!=0){var E9x=n9x+C6J.htmlEscape(Q9x);this.output.b+=d1J.string(E9x);if(this.pretty){this.output.b+="\n";}}break;case 2:this.output.b+=d1J.string(n9x+"<![CDATA[");if(e9x.nodeType==y1J.Document||e9x.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+e9x.nodeType);}var y9x=C6J.trim(e9x.nodeValue);this.output.b+=d1J.string(y9x);this.output.b+="]]>";if(this.pretty){this.output.b+="\n";}break;case 3:if(e9x.nodeType==y1J.Document||e9x.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+e9x.nodeType);}var s9x=e9x.nodeValue;var u8x=new RegExp("[\n\r\t]+","g".split("u").join(""));s9x=s9x.replace(u8x,"");s9x="<!--"+s9x+"-->";this.output.b+=n9x==null?"null":""+n9x;var X8x=C6J.trim(s9x);this.output.b+=d1J.string(X8x);if(this.pretty){this.output.b+="\n";}break;case 4:if(e9x.nodeType==y1J.Document||e9x.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+e9x.nodeType);}this.output.b+=d1J.string("<!DOCTYPE "+e9x.nodeValue+">");if(this.pretty){this.output.b+="\n";}break;case 5:if(e9x.nodeType==y1J.Document||e9x.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+e9x.nodeType);}this.output.b+=d1J.string("<?"+e9x.nodeValue+"?>");if(this.pretty){this.output.b+="\n";}break;case 6:if(e9x.nodeType!=y1J.Document&&e9x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element or Document but found "+e9x.nodeType);}var k9x=Y4J.iter(e9x.children);while(k9x.hasNext()){var r9x=k9x.next();this.writeNode(r9x,n9x);}break;}},hasChildren:function(D8x){if(D8x.nodeType!=y1J.Document&&D8x.nodeType!=y1J.Element){throw new j1J("Bad node type, expected Element or Document but found "+D8x.nodeType);}var C8x=Y4J.iter(D8x.children);while(C8x.hasNext()){var f8x=C8x.next();var w8x=f8x.nodeType;switch(w8x){case 0:case 1:return true;case 2:case 3:if(f8x.nodeType==y1J.Document||f8x.nodeType==y1J.Element){throw new j1J("Bad node type, unexpected "+f8x.nodeType);}if(C6J.ltrim(f8x.nodeValue).length!=0){return true;}break;default:}}return false;},__class__:O5J};var j1J=function(Y8x){Error.call(this);this.val=Y8x;this.message=String(Y8x);if(Error.captureStackTrace){Error.captureStackTrace(this,j1J);}};O1J["js._Boot.HaxeError"]=j1J;j1J.__name__=["js","_Boot","HaxeError"];j1J.wrap=function(c8x){if(c8x instanceof Error){return c8x;}else{return new j1J(c8x);}};j1J.__super__=Error;j1J.prototype=v1J(Error.prototype,{val:null,__class__:j1J});var M1y=function(){};O1J["js.Browser"]=M1y;M1y.__name__=["js","Browser"];M1y.createXMLHttpRequest=function(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}if(typeof ActiveXObject!="undefined"){return new ActiveXObject("Microsoft.XMLHTTP");}throw new j1J("Unable to create XMLHttpRequest object.");};M1y.alert=function(F8x){window.alert(S1J.__string_rec(F8x,""));};var U7J=function(R8x){if(R8x instanceof Array&&R8x.__enum__==null){this.a=R8x;this.byteLength=R8x.length;}else{var U8x=R8x;this.a=[];var q8x=0;var o8x=U8x;while(q8x<o8x){var t8x=q8x++;this.a[t8x]=0;}this.byteLength=U8x;}};O1J["js.html.compat.ArrayBuffer"]=U7J;U7J.__name__=["js","html","compat","ArrayBuffer"];U7J.sliceImpl=function(m8x,K8x){var l8x=new Y04(this,m8x,K8x==null?null:K8x-m8x);var G8x=new v6y(l8x.byteLength);var N8x=new Y04(G8x);N8x.set(l8x);return G8x;};U7J.prototype={byteLength:null,a:null,slice:function(a8x,b8x){return new U7J(this.a.slice(a8x,b8x));},__class__:U7J};var N3y=function(g8x,P8x,M8x){this.buf=g8x;this.offset=P8x==null?0:P8x;this.length=M8x==null?g8x.byteLength-this.offset:M8x;if(this.offset<0||this.length<0||this.offset+this.length>g8x.byteLength){throw new j1J(x2J.OutsideBounds);}this.byteLength=this.length;this.byteOffset=this.offset;this.buffer=this.buf;};O1J["js.html.compat.DataView"]=N3y;N3y.__name__=["js","html","compat","DataView"];N3y.prototype={buf:null,offset:null,length:null,byteLength:null,byteOffset:null,buffer:null,getInt8:function(x8x){var L8x=this.buf.a[this.offset+x8x];if(L8x>=128){return L8x-256;}else{return L8x;}},getUint8:function(O8x){return this.buf.a[this.offset+O8x];},getInt16:function(T8x,d8x){var H8x=this.getUint16(T8x,d8x);if(H8x>=32768){return H8x-65536;}else{return H8x;}},getUint16:function(v8x,V8x){if(V8x){return this.buf.a[this.offset+v8x]|this.buf.a[this.offset+v8x+1]<<8;}else{return this.buf.a[this.offset+v8x]<<8|this.buf.a[this.offset+v8x+1];}},getInt32:function(S8x,e8x){var p8x=this.offset+S8x;var Z8x=this.buf.a[p8x++];var B8x=this.buf.a[p8x++];var W8x=this.buf.a[p8x++];var z8x=this.buf.a[p8x++];if(e8x){return Z8x|B8x<<8|W8x<<16|z8x<<24;}else{return z8x|W8x<<8|B8x<<16|Z8x<<24;}},getUint32:function(s8x,J8x){var n8x=this.getInt32(s8x,J8x);if(n8x<0){return n8x+4294967296.;}else{return n8x;}},getFloat32:function(A8x,j8x){return I6J.i32ToFloat(this.getInt32(A8x,j8x));},getFloat64:function(I8x,Q8x){var k8x=this.getInt32(I8x,Q8x);var i8x=this.getInt32(I8x+4,Q8x);return I6J.i64ToDouble(Q8x?k8x:i8x,Q8x?i8x:k8x);},setInt8:function(y8x,E8x){this.buf.a[y8x+this.offset]=E8x<0?E8x+128&255:E8x&255;},setUint8:function(r8x,u3x){this.buf.a[r8x+this.offset]=u3x&255;},setInt16:function(h3x,X3x,f3x){this.setUint16(h3x,X3x<0?X3x+65536:X3x,f3x);},setUint16:function(w3x,C3x,Y3x){var D3x=w3x+this.offset;if(Y3x){this.buf.a[D3x]=C3x&255;this.buf.a[D3x++]=C3x>>8&255;}else{this.buf.a[D3x++]=C3x>>8&255;this.buf.a[D3x]=C3x&255;}},setInt32:function(c3x,F3x,R3x){this.setUint32(c3x,F3x,R3x);},setUint32:function(o3x,q3x,t3x){var U3x=o3x+this.offset;if(t3x){this.buf.a[U3x++]=q3x&255;this.buf.a[U3x++]=q3x>>8&255;this.buf.a[U3x++]=q3x>>16&255;this.buf.a[U3x++]=q3x>>>24;}else{this.buf.a[U3x++]=q3x>>>24;this.buf.a[U3x++]=q3x>>16&255;this.buf.a[U3x++]=q3x>>8&255;this.buf.a[U3x++]=q3x&255;}},setFloat32:function(l3x,G3x,m3x){this.setUint32(l3x,I6J.floatToI32(G3x),m3x);},setFloat64:function(N3x,a3x,b3x){var K3x=I6J.doubleToI64(a3x);if(b3x){this.setUint32(N3x,K3x.low);this.setUint32(N3x,K3x.high);}else{this.setUint32(N3x,K3x.high);this.setUint32(N3x,K3x.low);}},__class__:N3y};var N8J=function(){};O1J["js.html.compat.Float32Array"]=N8J;N8J.__name__=["js","html","compat","Float32Array"];N8J._new=function(P3x,M3x,v3x){var g3x;if(typeof P3x=="number"){g3x=[];var d3x=0;var B3x=P3x;while(d3x<B3x){var z3x=d3x++;g3x[z3x]=0;}g3x.byteLength=g3x.length<<2;g3x.byteOffset=0;var T3x=[];var p3x=0;var Z3x=g3x.length<<2;while(p3x<Z3x){var s3x=p3x++;T3x.push(0);}g3x.buffer=new U7J(T3x);}else if(S1J.__instanceof(P3x,U7J)){var L3x=P3x;if(M3x==null){M3x=0;}if(v3x==null){v3x=L3x.byteLength-M3x>>2;}g3x=[];var V3x=0;var W3x=v3x;while(V3x<W3x){var n3x=V3x++;var S3x=L3x.a[M3x++]|L3x.a[M3x++]<<8|L3x.a[M3x++]<<16|L3x.a[M3x++]<<24;g3x.push(I6J.i32ToFloat(S3x));}g3x.byteLength=g3x.length<<2;g3x.byteOffset=M3x;g3x.buffer=L3x;}else if(P3x instanceof Array&&P3x.__enum__==null){g3x=P3x.slice();var x3x=[];var H3x=0;while(H3x<g3x.length){var e3x=g3x[H3x];++H3x;var O3x=I6J.floatToI32(e3x);x3x.push(O3x&255);x3x.push(O3x>>8&255);x3x.push(O3x>>16&255);x3x.push(O3x>>>24);}g3x.byteLength=g3x.length<<2;g3x.byteOffset=0;g3x.buffer=new U7J(x3x);}else{throw new j1J("TODO "+d1J.string(P3x));}g3x.subarray=N8J._subarray;g3x.set=N8J._set;return g3x;};N8J._set=function(J3x,A3x){if(S1J.__instanceof(J3x.buffer,U7J)){var E3x=J3x;if(J3x.byteLength+A3x>this.byteLength){throw new j1J("set() outside of range");}var k3x=0;var y3x=J3x.byteLength;while(k3x<y3x){var i3x=k3x++;this[i3x+A3x]=E3x[i3x];}}else if(J3x instanceof Array&&J3x.__enum__==null){var j3x=J3x;if(j3x.length+A3x>this.byteLength){throw new j1J("set() outside of range");}var I3x=0;var r3x=j3x.length;while(I3x<r3x){var Q3x=I3x++;this[Q3x+A3x]=j3x[Q3x];}}else{throw new j1J("TODO");}};N8J._subarray=function(X5x,h5x){var u5x=N8J._new(this.slice(X5x,h5x));u5x.byteOffset=X5x*4;return u5x;};var a8J=function(){};O1J["js.html.compat.Uint8Array"]=a8J;a8J.__name__=["js","html","compat","Uint8Array"];a8J._new=function(D5x,C5x,Y5x){var f5x;if(typeof D5x=="number"){f5x=[];var c5x=0;var F5x=D5x;while(c5x<F5x){var R5x=c5x++;f5x[R5x]=0;}f5x.byteLength=f5x.length;f5x.byteOffset=0;f5x.buffer=new U7J(f5x);}else if(S1J.__instanceof(D5x,U7J)){var w5x=D5x;if(C5x==null){C5x=0;}if(Y5x==null){Y5x=w5x.byteLength-C5x;}if(C5x==0){f5x=w5x.a;}else{f5x=w5x.a.slice(C5x,C5x+Y5x);}f5x.byteLength=f5x.length;f5x.byteOffset=C5x;f5x.buffer=w5x;}else if(D5x instanceof Array&&D5x.__enum__==null){f5x=D5x.slice();f5x.byteLength=f5x.length;f5x.byteOffset=0;f5x.buffer=new U7J(f5x);}else{throw new j1J("TODO "+d1J.string(D5x));}f5x.subarray=a8J._subarray;f5x.set=a8J._set;return f5x;};a8J._set=function(U5x,q5x){if(S1J.__instanceof(U5x.buffer,U7J)){var K5x=U5x;if(U5x.byteLength+q5x>this.byteLength){throw new j1J("set() outside of range");}var l5x=0;var N5x=U5x.byteLength;while(l5x<N5x){var G5x=l5x++;this[G5x+q5x]=K5x[G5x];}}else if(U5x instanceof Array&&U5x.__enum__==null){var o5x=U5x;if(o5x.length+q5x>this.byteLength){throw new j1J("set() outside of range");}var m5x=0;var a5x=o5x.length;while(m5x<a5x){var t5x=m5x++;this[t5x+q5x]=o5x[t5x];}}else{throw new j1J("TODO");}};a8J._subarray=function(g5x,P5x){var b5x=a8J._new(this.slice(g5x,P5x));b5x.byteOffset=g5x;return b5x;};var p9y=function(){};O1J["prime.signals.ISender0"]=p9y;p9y.__name__=["prime","signals","ISender0"];p9y.__interfaces__=[d5J];p9y.prototype={send:null,__class__:p9y};var M2y=function(){};O1J["prime.signals.ISender2"]=M2y;M2y.__name__=["prime","signals","ISender2"];M2y.__interfaces__=[d5J];M2y.prototype={send:null,__class__:M2y};var u2y=function(){};O1J["prime.signals.ISender3"]=u2y;u2y.__name__=["prime","signals","ISender3"];u2y.__interfaces__=[d5J];u2y.prototype={send:null,__class__:u2y};var s6y=function(){};O1J["prime.signals.ISender4"]=s6y;s6y.__name__=["prime","signals","ISender4"];s6y.__interfaces__=[d5J];s6y.prototype={send:null,__class__:s6y};var g8J=function(){};O1J["prime.signals.IWireWatcher"]=g8J;g8J.__name__=["prime","signals","IWireWatcher"];g8J.prototype={wireEnabled:null,wireDisabled:null,__class__:g8J};var E8J=function(){this.enabled=true;};O1J["prime.signals.Signal0"]=E8J;E8J.__name__=["prime","signals","Signal0"];E8J.__interfaces__=[G8J,p9y];E8J.__super__=v2J;E8J.prototype=v1J(v2J.prototype,{send:function(){if(this.enabled){var M5x=this.n;while(M5x){this.nextSendable=M5x.n;if((M5x.flags&4)!=0){M5x.disable();}M5x._handler();if((M5x.flags&4)!=0){M5x.dispose();}M5x=this.nextSendable;}this.nextSendable=null;}},bind:function(L5x,x5x){return c4J.make(this,L5x,x5x,1);},bindOnce:function(O5x,H5x){return c4J.make(this,O5x,H5x,5);},bindDisabled:function(T5x,d5x){return c4J.make(this,T5x,d5x,0);},observe:function(v5x,V5x){return c4J.make(this,v5x,V5x,1);},observeOnce:function(p5x,Z5x){return c4J.make(this,p5x,Z5x,5);},observeDisabled:function(B5x,W5x){return c4J.make(this,B5x,W5x,0);},__class__:E8J});var J3J=function(){this.enabled=true;};O1J["prime.signals.Signal2"]=J3J;J3J.__name__=["prime","signals","Signal2"];J3J.__interfaces__=[G8J,M2y];J3J.__super__=v2J;J3J.prototype=v1J(v2J.prototype,{send:function(S5x,e5x){if(this.enabled){var z5x=this.n;while(z5x){this.nextSendable=z5x.n;if((z5x.flags&4)!=0){z5x.disable();}if((z5x.flags&2)!=0){z5x._handler();}else{z5x._handler(S5x,e5x);}if((z5x.flags&4)!=0){z5x.dispose();}z5x=this.nextSendable;}this.nextSendable=null;}},bind:function(n5x,s5x){return c4J.make(this,n5x,s5x,1);},bindOnce:function(J5x,A5x){return c4J.make(this,J5x,A5x,5);},bindDisabled:function(j5x,Q5x){return c4J.make(this,j5x,Q5x,0);},observe:function(k5x,i5x){return c4J.make(this,k5x,i5x,3);},observeOnce:function(I5x,E5x){return c4J.make(this,I5x,E5x,7);},observeDisabled:function(y5x,r5x){return c4J.make(this,y5x,r5x,2);},__class__:J3J});var S3J=function(){this.enabled=true;};O1J["prime.signals.Signal3"]=S3J;S3J.__name__=["prime","signals","Signal3"];S3J.__interfaces__=[G8J,u2y];S3J.__super__=v2J;S3J.prototype=v1J(v2J.prototype,{send:function(X0P,h0P,f0P){if(this.enabled){var u0P=this.n;while(u0P){this.nextSendable=u0P.n;if((u0P.flags&4)!=0){u0P.disable();}if((u0P.flags&2)!=0){u0P._handler();}else{u0P._handler(X0P,h0P,f0P);}if((u0P.flags&4)!=0){u0P.dispose();}u0P=this.nextSendable;}this.nextSendable=null;}},bind:function(D0P,C0P){return c4J.make(this,D0P,C0P,1);},bindOnce:function(w0P,Y0P){return c4J.make(this,w0P,Y0P,5);},bindDisabled:function(c0P,F0P){return c4J.make(this,c0P,F0P,0);},observe:function(R0P,U0P){return c4J.make(this,R0P,U0P,3);},observeOnce:function(q0P,o0P){return c4J.make(this,q0P,o0P,7);},observeDisabled:function(t0P,l0P){return c4J.make(this,t0P,l0P,2);},__class__:S3J});var H3J=function(){this.enabled=true;};O1J["prime.signals.Signal4"]=H3J;H3J.__name__=["prime","signals","Signal4"];H3J.__interfaces__=[G8J,s6y];H3J.__super__=v2J;H3J.prototype=v1J(v2J.prototype,{send:function(m0P,K0P,N0P,a0P){if(this.enabled){var G0P=this.n;while(G0P){this.nextSendable=G0P.n;if((G0P.flags&4)!=0){G0P.disable();}if((G0P.flags&2)!=0){G0P._handler();}else{G0P._handler(m0P,K0P,N0P,a0P);}if((G0P.flags&4)!=0){G0P.dispose();}G0P=this.nextSendable;}this.nextSendable=null;}},bind:function(b0P,g0P){return c4J.make(this,b0P,g0P,1);},bindOnce:function(P0P,M0P){return c4J.make(this,P0P,M0P,5);},bindDisabled:function(L0P,x0P){return c4J.make(this,L0P,x0P,0);},observe:function(O0P,H0P){return c4J.make(this,O0P,H0P,3);},observeOnce:function(T0P,d0P){return c4J.make(this,T0P,d0P,7);},observeDisabled:function(v0P,V0P){return c4J.make(this,v0P,V0P,2);},__class__:H3J});var c4J=function(){this.flags=0;};O1J["prime.signals.Wire"]=c4J;c4J.__name__=["prime","signals","Wire"];c4J.__interfaces__=[D4y,T5J];c4J.make=function(e0P,n0P,s0P,z0P){var p0P;var Z0P=c4J;if(Z0P.free==null){p0P=new c4J();}else{p0P=Z0P.free;Z0P.free=p0P.n;--Z0P.freeCount;p0P.n=null;}p0P.owner=n0P;p0P.signal=e0P;p0P._handler=s0P;p0P.flags=z0P;if((z0P&1)!=0){var B0P=p0P.signal;p0P.n=B0P.n;B0P.n=p0P;var W0P=p0P.signal;if(S1J.__instanceof(W0P,g8J)){var S0P=W0P;S0P.wireEnabled(p0P);}}return p0P;};c4J.sendVoid=function(J0P){J0P._handler();};c4J.__super__=B3J;c4J.prototype=v1J(B3J.prototype,{flags:null,owner:null,signal:null,pos:function(){return this;},isEnabled:function(){return(this.flags&1)!=0;},_handler:null,get_handler:function(){return this._handler;},set_handler:function(A0P){this.flags&=-3;return this._handler=A0P;},setVoidHandler:function(j0P){this.flags|=2;this._handler=j0P;},enable:function(){if((this.flags&1)==0){this.flags|=1;var Q0P=this.signal;this.n=Q0P.n;Q0P.n=this;var k0P=this.signal;if(S1J.__instanceof(k0P,g8J)){var i0P=k0P;i0P.wireEnabled(this);}}},doEnable:function(){var I0P=this.signal;this.n=I0P.n;I0P.n=this;var E0P=this.signal;if(S1J.__instanceof(E0P,g8J)){var y0P=E0P;y0P.wireEnabled(this);}},disable:function(){if((this.flags&1)!=0){this.flags&=-2;var r0P=this.signal;while(r0P.n!=null&&r0P.n!=this)r0P=r0P.n;r0P.n=this.n;this.n=null;if(this.signal.nextSendable==this){this.signal.nextSendable=r0P.n;}var u1P=this.signal;if(S1J.__instanceof(u1P,g8J)){var X1P=u1P;X1P.wireDisabled(this);}}},dispose:function(){if(this.signal==null){return;}this.disable();this._handler=this.owner=this.signal=null;this.flags=0;var h1P=c4J;if(h1P.freeCount<8096){++h1P.freeCount;this.n=h1P.free;h1P.free=this;}},isBoundTo:function(D1P,f1P){if(this.owner==D1P){if(f1P!=null){return Z1J.compareMethods(f1P,this._handler);}else{return true;}}else{return false;}},isDisposed:function(){if(this.signal==null){return this.owner==null;}else{return false;}},__class__:c4J});var l6J,R14=0;O1J["Math"]=Math;String.prototype.__class__=O1J["String"]=String;String.__name__=["String"];O1J["Array"]=Array;Array.__name__=["Array"];Date.prototype.__class__=O1J["Date"]=Date;Date.__name__=["Date"];var c14={};var Y14={};var w14=Number;var D14=Boolean;var H6J={};var M6J={};e1J.com.turner.top.lib.logging=e1J.com.turner.top.lib.logging||{};e1J.com.turner.top.lib.logging.events=e1J.com.turner.top.lib.logging.events||{};e1J.com.turner.top.lib.logging.events.LogEventType=h6J;r4J.ads=z6J.adsAlias();r4J.analytics=z6J.analyticsAlias();r4J.auth=z6J.authAlias();r4J.captions=z6J.captionsAlias();r4J.cms=z6J.cmsAlias();r4J.cues=z6J.cueAlias();r4J.logging=z6J.loggingAlias();r4J.media=z6J.mediaAlias();r4J.player=z6J.playerAlias();r4J.utils=z6J.utilsAlias();r4J.Version=z6J.versionAlias();r4J.view=z6J.viewAlias();r4J._sdk=new k5J();r4J._sdk.init();var I3J=window;if(I3J.com==null){I3J.com={};}if(I3J.com.turner==null){I3J.com.turner={};}if(I3J.com.turner.top==null){I3J.com.turner.top=e1J.com.turner.top;}if(I3J.TOP==null){I3J.TOP=r4J;}e1J.com.turner.top.sdk.common.ads=e1J.com.turner.top.sdk.common.ads||{};e1J.com.turner.top.sdk.common.ads.AdType=g4J;e1J.com.turner.top.sdk.common.ads.consumers=e1J.com.turner.top.sdk.common.ads.consumers||{};e1J.com.turner.top.sdk.common.ads.consumers.AdConsumerState=H4J;e1J.com.turner.top.sdk.common.ads.providers=e1J.com.turner.top.sdk.common.ads.providers||{};e1J.com.turner.top.sdk.common.ads.providers.AdProviderState=k4J;e1J.com.turner.top.sdk.common.analytics=e1J.com.turner.top.sdk.common.analytics||{};e1J.com.turner.top.sdk.common.analytics.AnalyticsErrorSeverity=o7J;e1J.com.turner.top.sdk.common.auth=e1J.com.turner.top.sdk.common.auth||{};e1J.com.turner.top.sdk.common.auth.AuthTokenType=m3J;e1J.com.turner.top.sdk.common.closedcaptions=e1J.com.turner.top.sdk.common.closedcaptions||{};e1J.com.turner.top.sdk.common.closedcaptions.Color=M4J;e1J.com.turner.top.sdk.common.closedcaptions.Edge=e4J;e1J.com.turner.top.sdk.common.closedcaptions.FontType=V4J;e1J.com.turner.top.sdk.common.closedcaptions.Opacity=y4J;e1J.com.turner.top.sdk.common.closedcaptions.Size=B6J;e1J.com.turner.top.sdk.common.closedcaptions=e1J.com.turner.top.sdk.common.closedcaptions||{};e1J.com.turner.top.sdk.common.closedcaptions.CCSource=q6J;e1J.com.turner.top.sdk.common.closedcaptions.CCChannel=u6J;e1J.com.turner.top.sdk.common.closedcaptions.CCLang=W2J;e1J.com.turner.top.sdk.common.closedcaptions.decoders=e1J.com.turner.top.sdk.common.closedcaptions.decoders||{};e1J.com.turner.top.sdk.common.closedcaptions.decoders.CCDecoderState=I4J;e1J.com.turner.top.sdk.common.cues=e1J.com.turner.top.sdk.common.cues||{};e1J.com.turner.top.sdk.common.cues.CueType=P4J;e1J.com.turner.top.sdk.common.media=e1J.com.turner.top.sdk.common.media||{};e1J.com.turner.top.sdk.common.media.MediaState=r1J;e1J.com.turner.top.sdk.common.player=e1J.com.turner.top.sdk.common.player||{};e1J.com.turner.top.sdk.common.player.timeline=e1J.com.turner.top.sdk.common.player.timeline||{};e1J.com.turner.top.sdk.common.player.timeline.ContentMarkerType=E6J;e1J.com.turner.top.sdk.core.api=e1J.com.turner.top.sdk.core.api||{};e1J.com.turner.top.sdk.core.api.events=e1J.com.turner.top.sdk.core.api.events||{};e1J.com.turner.top.sdk.core.api.events.PlayerEventType=T1J;e1J.com.turner.top.sdk.core.player=e1J.com.turner.top.sdk.core.player||{};e1J.com.turner.top.sdk.core.player.PlayerState=w4J;e1J.com.turner.top.sdk.core.player.ContentState=A1J;e1J.com.turner.top.sdk.core.player.PlayerTransactionState=A1J;var E1J={};var v6y=a04.ArrayBuffer||U7J;if(v6y.prototype.slice==null){v6y.prototype.slice=U7J.sliceImpl;}var C14=a04.DataView||N3y;var U14=a04.Float32Array||N8J._new;var Y04=a04.Uint8Array||a8J._new;var g04=c4J;c4J.freeCount=0;var U04=new E8J();var F14=p1J(U04,U04.unbindAll);var k04=0;while(k04<8096){var q14=k04++;var Q3J=new c4J();Q3J.owner=U04;Q3J.signal=U04;Q3J._handler=F14;Q3J.owner=null;Q3J.signal=null;Q3J._handler=null;Q3J.n=g04.free;g04.free=Q3J;++g04.freeCount;}R2J.DAY_SHORT_NAMES=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];R2J.DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];R2J.MONTH_SHORT_NAMES=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];R2J.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"];y1J.Element=0;y1J.PCData=1;y1J.CData=2;y1J.Comment=3;y1J.DocType=4;y1J.ProcessingInstruction=5;y1J.Document=6;S1J.__toStr={}.toString;R6J.major=1;R6J.minor=3;R6J.revision=2;R6J.prerelease=null;R6J.buildTime=new Date(2018,10,2,11,38,6).getTime();R6J.buildTimeStr="2018-11-02 11:38:06";R6J.buildDateISO=R2J.format(new Date(2018,10,2,11,38,6),"%F");R6J.sha=C6J.replace("'5b6897041'","'","");l9J._logger=new s5J("SimpleEventCollection").init();U8J.defaultConfig={prefix:"top",type:""};z9J._logger=new s5J("LocalStorageHelperJs").init();T3J.instance=new T3J();I1J._manager=T3J.instance;v6J._logger=I1J.getLogger(v6J);v6J.KEY_DEVICE_ID="deviceId";v6J.KEY_TIME_CONSUMED="timeConsumed";v6J.KEY_TIME_UNSENT="timeUnsent";v6J.HEARTBEAT_GET="get";v6J.HEARTBEAT_POST="post";t6J._logger=I1J.getLogger(t6J);U9J._logger=I1J.getLogger(U9J);T6J._logger=I1J.getLogger(T6J);S7J._logger=I1J.getLogger(S7J);a2J._logger=I1J.getLogger(a2J);Q5J._logger=I1J.getLogger(a2J);D7J._logger=I1J.getLogger(D7J);D7J._loggerCaptions=D7J._logger.child("captions").filter("captions");f9J._logger=I1J.getLogger(f9J);f9J._debug=false;f6J._logger=I1J.getLogger(f6J);r8J._overrideStyles="\n      .fw_vpaid_slot,\n      .fw_vpaid_slot > iframe,\n      .top-ads-element {\n          width: 100%!important;\n          height: 100%!important\n      }\n  ";r8J._injected=false;f3J._logger=I1J.getLogger(f3J);p2J._logger=I1J.getLogger(p2J).filter("ads.consumer");X6J._logger=I1J.getLogger(X6J).filter("ads.consumer");X6J.DEFAULT_TIME_UPDATE_INTERVAL=250;X6J.VIDEO_EVENTS=["play","pause","volumechange"];O2J._logger=I1J.getLogger(O2J).filter("ads.provider");O2J._debug=false;O2J._responseId=0;U2J._logger=I1J.getLogger(U2J);V2J._logger=I1J.getLogger(V2J);V2J._debug=false;V2J.DEFAULT_TIME_UPDATE_INTERVAL=250;I2J._logger=I1J.getLogger(I2J);I2J._debug=true;I2J._responseId=0;w8J._logger=I1J.getLogger(w8J);w8J._debug=false;n3J._logger=I1J.getLogger(n3J);n3J._debug=false;h4J._logger=I1J.getLogger(h4J);h4J._loggerMediaEl=h4J._logger.child("mediaEl").filter("mediaEl");h4J._loggerEngine=h4J._logger.child("mediaEngine").filter("mediaEngine");h4J._loggerMetadata=h4J._logger.child("mediaMetadata").filter("mediaMetadata");h4J._loggerHlsjs=h4J._logger.child("hlsjs").filter("hlsjs");h4J.HLS_EVENTS=["hlsMediaAttached","hlsMediaDetached","hlsManifestLoading","hlsManifestParsed","hlsManifestLoaded","hlsLevelSwitching","hlsLevelLoading","hlsLevelUpdated","hlsLevelLoaded","hlsLevelSwitched","hlsFragParsingMetadata","hlsFragParsingUserdata","hlsFragParsingData","hlsFragParsed","hlsFragChanged","hlsError"];h4J.VIDEO_EVENTS=["progress","abort","suspend","emptied","waiting","stalled","loadstart","loadeddata","loadedmetadata","play","playing","pause","seeking","seeked","timeupdate","ratechange","volumechange","ended","error","canplay","canplaythrough","durationchange","encrypted","ready"];Z4J._logger=I1J.getLogger(Z4J);Z4J._videoEvents=["ready","progress","abort","suspend","emptied","waiting","stalled","loadstart","loadeddata","loadedmetadata","play","playing","pause","seeking","seeked","timeupdate","ratechange","volumechange","ended","error"];z6y.JsonObj="jsonObj";z6y.String="string";z6y.String_Base64="string_base64";z6y.HLSAttributeList="hlsAttributeList";k7J._logger=I1J.getLogger(k7J);k7J.CATEGORY_DEFAULT="default";S4J.is=P1J(9);f2J._logger=I1J.getLogger(f2J);Z7J._logger=I1J.getLogger(Z7J);Z7J.STYLE_ELEMENT_NAME="top-styles";H8J._logger=I1J.getLogger(H8J);H8J._debug=false;y6J._logger=I1J.getLogger(y6J);y6J._debug=false;H7J._logger=I1J.getLogger(H7J);G7J._taskId=0;d2J._logger=I1J.getLogger(d2J).filter("lib.timeline");K7J._logger=I1J.getLogger(K7J);M2J._logger=I1J.getLogger(M2J);M2J._debug=false;M2J._taskId=0;t7J._logger=I1J.getLogger(t7J);t7J._loggerConfig=t7J._logger.child("config").filter("config");p5y.MAX_SAFE_INTEGER=9007199254740991;p5y.MIN_SAFE_INTEGER=-9007199254740991;m9J._logger=I1J.getLogger(m9J);m9J._debug=true;m3J.Spe="Spe";Y7J._cueId=0;B4J.Not_Indicated=0;B4J.Content_Identification=1;B4J.Program_Start=16;B4J.Program_End=17;B4J.Program_Early_Termination=18;B4J.Program_Breakaway=19;B4J.Program_Resumption=20;B4J.Program_Runover_Planned=21;B4J.Program_Runover_Unplanned=22;B4J.Program_Overlap_Start=23;B4J.Program_Blackout_Override=24;B4J.Program_Start_In_Progress=25;B4J.Chapter_Start=32;B4J.Chapter_End=33;B4J.Provider_Ad_Start=48;B4J.Provider_Ad_End=49;B4J.Distributor_Ad_Start=50;B4J.Distributor_Ad_End=51;B4J.Provider_Placement_Opp_Start=52;B4J.Provider_Placement_Opp_End=53;B4J.Distributor_Placement_Opp_Start=54;B4J.Distributor_Placement_Opp_End=55;B4J.Unscheduled_Event_Start=64;B4J.Unscheduled_Event_End=65;B4J.Network_Start=80;B4J.Network_End=81;n7J.Null=0;n7J.Schedule=4;n7J.Insert=5;n7J.TimeSignal=6;n7J.BandwidthReservation=7;n7J.Private=255;I5J.Avail=0;I5J.Segmentation=2;p8J._logger=I1J.getLogger(p8J);p8J._debug=false;r4J._logger=I1J.getLogger(r4J);r4J.Support=J6J;z7J._logger=I1J.getLogger(z7J);R8J._logger=I1J.getLogger(R8J);q8J._logger=I1J.getLogger(q8J);o8J._logger=I1J.getLogger(o8J);X7J._logger=I1J.getLogger(X7J);P8J._logger=I1J.getLogger(P8J);i8J._logger=I1J.getLogger(i8J);k8J._logger=I1J.getLogger(k8J);Q8J._logger=I1J.getLogger(Q8J);C7J._logger=I1J.getLogger(C7J);O7J._logger=I1J.getLogger(O7J).filter("ads.resolvers");e7J._logger=I1J.getLogger(e7J).filter("ads.resolvers");p3J._logger=I1J.getLogger(p3J);B9J._logger=I1J.getLogger(B9J);F8J._logger=I1J.getLogger(F8J);N3J._logger=I1J.getLogger(N3J);K3J._logger=I1J.getLogger(K3J);W4J._logger=I1J.getLogger(W4J);W4J._loggerCms=W4J._logger.child("cms").filter("cms");W4J.AuthTokenTypes={"spe":m3J.Spe};M8J._logger=I1J.getLogger(M8J);X9J._logger=I1J.getLogger(X9J);h7J._logger=I1J.getLogger(h7J).filter("cues");W7J.MediaAcceleration={enabled:false,type:"quic"};W7J.TVE={enabled:false,type:"c4",trapDuration:30};W7J.DAI={enabled:false,useStreamAssetId:true,streamAssetId:"${context.caid}"};W7J.SSAI={enabled:false};W7J.AmazonA9={enabled:false,initialSlotName:"aps-preroll",getTargetingData:function(R1P){var F1P=window.A9VideoAPI;return F1P.getTargetingData(R1P);},getRefreshedTargetingData:function(q1P,o1P){var U1P=window.A9VideoAPI;return U1P.getRefreshedTargetingData(q1P,o1P);}};W7J.GDPR={enabled:true,preCheckConsent:true,getConsent:function(t1P,l1P){return J6J.consent(t1P,l1P);}};T8J._logger=I1J.getLogger(T8J);J8J._logger=I1J.getLogger(J8J);n8J._logger=I1J.getLogger(n8J);p4y._logger=I1J.getLogger(p4y);P7J._logger=I1J.getLogger(P7J);x7J._logger=I1J.getLogger(x7J);s7J._logger=I1J.getLogger(s7J);L9J._logger=I1J.getLogger(L9J).filter("monitors");t9J._logger=I1J.getLogger(t9J);t9J.HLS_ATTR_LIST_REGEX=new m7J("([^\\s,=]+)(?:=(?:\"([^\"]*)\"|([^,=]*)))?","g");a6J._logger=I1J.getLogger(a6J).filter("cues");e2J.Type_ID="segmentation_type_id";e2J.No_Regional_Blackout="no_regional_blackout_flag";e2J.Web_Delivery_Allowed="web_delivery_allowed_flag";e2J.Airing_ID="segmentation_upid";e2J.Duration="segmentation_duration";w7J._logger=I1J.getLogger(w7J).filter("monitors.prune");q3J._logger=I1J.getLogger(q3J);C2J._logger=I1J.getLogger(C2J);C2J._timeLogger=C2J._logger.child("time").filter(false);L6J._logger=I1J.getLogger(L6J).filter("validation.manager");B2J._logger=I1J.getLogger(B2J).filter("validation.resolver");K6J._logger=I1J.getLogger(K6J).filter("validation.validators.blackout");X2J._logger=I1J.getLogger(X2J).filter("validation.validators.simple");c6J._logger=I1J.getLogger(c6J);c6J._commandLogger=c6J._logger.child("Command").filter("api.commands");c6J._eventLogger=c6J._logger.child("Event").filter("api.events");a7J._logger=I1J.getLogger(a7J);a7J._notificationsLogger=a7J._logger.filter("core.notifications");v4J._logger=I1J.getLogger(v4J);v4J._debug=true;v4J._playerIndex=0;v4J._debugOps=false;v4J._opId=0;X8J._logger=I1J.getLogger(X8J);X8J._debug=false;X4J._logger=I1J.getLogger(X4J);X4J._mediaEventLogger=X4J._logger.child("Media Event").filter("core.controller.events.media");X4J._adEventLogger=X4J._logger.child("Ad Event").filter("core.controller.events.ads");X4J._validationEventLogger=X4J._logger.child("Validation Event").filter("core.controller.events.validation");X4J._notificationsLogger=X4J._logger.child("Notification").filter("core.notifications");X4J._debug=false;v9J._logger=I1J.getLogger(v9J);f8J._logger=I1J.getLogger(f8J);s6J._logger=I1J.getLogger(s6J);s6J._a9CachedRequest=true;q2J._logger=I1J.getLogger(q2J);h9J._logger=I1J.getLogger(h9J);o6J._logger=I1J.getLogger(o6J);o6J._taskLogger=o6J._logger.child("task").filter(false);o6J._queueId=0;F2J._logger=I1J.getLogger(F2J);F2J._logTimeUpdates=false;F2J._timeLogger=F2J._logger.child("time").filter(F2J._logTimeUpdates);G2J._logger=I1J.getLogger(G2J);G2J._timelineLogger=G2J._logger.child("timeline").filter(false);G2J._timeLogger=G2J._logger.child("time").filter(false);T7J._logger=I1J.getLogger(T7J);F7J._logger=I1J.getLogger(F7J);b7J._logger=I1J.getLogger(b7J);b7J._debugMedia=false;O8J._logger=I1J.getLogger(O8J);p6J._debug=true;c7J._logger=I1J.getLogger(c7J).filter("ads.controller");C8J._logger=I1J.getLogger(C8J).filter("monitors");V8J._logger=I1J.getLogger(V8J);V8J._debug=false;z2J._logger=I1J.getLogger(z2J);z2J.STORAGE_TYPE="cc";z2J.STORAGE_CC_USER_ENABLED="user-enabled";z2J.STORAGE_CC_USER_LANG="user-lang";z2J.STORAGE_CC_USER_SETTINGS="user-settings";R7J._logger=I1J.getLogger(R7J).filter("cues");i2J._logger=I1J.getLogger(i2J).filter("media.controller");z4J._logger=I1J.getLogger(z4J);z4J._loggerAnalytics=z4J._logger.child("analytics").filter("analytics");z4J.compIndex=0;z4J._initialized=false;z4J._initializedVideoEl=false;T4J._logger=I1J.getLogger(T4J);T4J._loggerAnalytics=T4J._logger.child("analytics").filter("analytics");T4J._defaultTags={playerVendor:"TOP",playerVersion:R6J.toVersionString()};T4J.compIndex=0;P2J._logger=I1J.getLogger(P2J);P2J._loggerAnalytics=P2J._logger.child("analytics").filter("analytics");P2J.compIndex=0;s9J._logger=I1J.getLogger(s9J);s9J._debug=false;y2J._logger=I1J.getLogger(y2J).filter("validation.controller");i5J._logger=I1J.getLogger(i5J);s8J._logger=I1J.getLogger(s8J);c8J._logger=I1J.getLogger(c8J);D2J._logger=I1J.getLogger(D2J).filter("persistence");y8J.injected=false;y8J.styleText="/*! TOP Web UI 0.4.2 */.tui-icon{font-size:26px;pointer-events:none;display:inline-flex;justify-content:center;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.tui-icon--transition{transition:color .15s ease-in-out}.tui-btn{cursor:pointer;outline:0;display:inline-flex;justify-content:center;align-items:center;flex-direction:row;height:100%;color:#ccc}.tui-btn--on,.tui-btn--over{color:#fff}.tui-btn__content{outline:none;border:none;padding:0 6px;display:inline-flex;justify-content:center;align-items:center;pointer-events:none}.tui-btn__content:focus{box-shadow:inset 0 0 0 2px rgba(27,127,204,.8)}.tui-marker{height:100%;position:absolute;top:0;z-index:5;outline:none;border-radius:50%}.tui-progress-bar{height:100%;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tui-progress-bar__bar{position:relative;top:75%;width:100%;height:3px;background:#fff;background:hsla(0,0%,100%,.4);transform:translateY(-50%);transition:height .2s}.tui-bar{position:relative;z-index:0}.tui-bar__active-progress{position:relative;height:100%}.tui-bar__control-head{position:absolute;right:0;top:50%;transform:translate(50%,-50%);z-index:10}.tui-time{color:#ccc;cursor:default;font-family:RobotoRegular,sans-serif;font-size:14px;line-height:1;padding:0 6px;display:flex;justify-content:center;align-items:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.tui-time__current{color:#fff}.tui-time .divider{margin:0 3px}.tui-volume{display:flex;height:100%}.tui-volume__bar-container{position:relative;height:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:width .1s,margin-right .1s}.tui-volume__bar{position:absolute;top:50%;transform:translateY(-50%);height:4px;width:100%;background:#fff;background:hsla(0,0%,100%,.4)}.tui-volume__active-bar{position:relative;height:100%}.tui-volume__control-head{position:absolute;right:0;top:50%;transform:translate(50%,-50%)}.tui-live{display:flex;justify-content:center;align-items:center;height:100%;padding:0 6px;cursor:pointer;outline:0}.tui-live__badge{max-width:45px;border-radius:2px;padding:4px 8px;color:#fff;font-family:RobotoRegular,sans-serif;font-size:13px;font-weight:700;line-height:1;letter-spacing:.4px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.tui-play-slate{background-color:#000;background-color:rgba(0,0,0,.5);display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;width:100%;height:100%;color:#ccc}.tui-play-slate:hover{color:#fff}.tui-start-slate{background-repeat:no-repeat;background-size:cover;background-position:50%;cursor:pointer;flex-direction:\"row\";color:#fff}.tui-buffering-slate,.tui-start-slate{background-color:#000;background-color:rgba(0,0,0,.5);width:100%;height:100%;display:flex;justify-content:center;align-items:center}.tui-buffering-slate{flex-direction:column}.tui-buffering-slate__spin-container{position:relative}.tui-buffering-slate__spinner{animation:spin .6s infinite linear}.tui-buffering-slate__spinner--styled{border:solid #fff;border:solid hsla(0,0%,100%,.1);border-top:solid #ccc;border-radius:50%}.tui-buffering-slate__shadow{border:solid transparent;border-radius:50%;width:100%;height:100%;position:absolute;top:0;left:0}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.tui-end-slate{background-color:#000;background-color:rgba(0,0,0,.5);display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;width:100%;height:100%;color:#ccc}.tui-end-slate:hover{color:#fff}.tui-ad-slate{font-family:RobotoRegular,sans-serif;background-color:#000;background-color:rgba(0,0,0,.5);display:flex;flex-direction:column;justify-content:center;align-items:left;width:100%;min-height:20px}.tui-ad-slate__countdown{color:#ccc;margin-left:12px}.tui__menu{overflow:hidden;position:absolute;top:0;bottom:56px;left:0;right:0;z-index:5;pointer-events:none}.tui__menu>*{pointer-events:auto}.tui__slate{overflow:hidden;position:relative}.tui-slate__active,.tui__slate{width:100%;height:100%;pointer-events:none}.tui-slate__inactive{display:none}.tui-slate__container{width:100%;height:100%;pointer-events:none}.tui-slate__container>*{pointer-events:auto}.tui-control-bar{width:100%;position:absolute;bottom:0;height:98px;pointer-events:none;opacity:0;transition:opacity .1s ease-in;z-index:5}.tui-control-bar--visible{opacity:1;transition:opacity .1s ease-out}.tui-control-bar__background{width:100%;position:absolute;bottom:0;height:98px;background:linear-gradient(0deg,#000 0,#000 28%,#000 60%,#000);background:linear-gradient(0deg,rgba(0,0,0,.9) 0,rgba(0,0,0,.65) 28%,rgba(0,0,0,.2) 60%,transparent)}.tui-control-bar__controls{width:100%;position:absolute;bottom:0;height:56px;padding:0 12px}.tui-controls__progress-bar{height:20px}.tui-controls__bottom-bar{height:36px;display:flex;justify-content:space-between;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tui-controls__left{justify-content:flex-start}.tui-controls__left,.tui-controls__right{display:flex;align-items:center;height:100%}.tui-controls__right{justify-content:flex-end}.tui-cc-tracks{flex-direction:column;background-color:#1e1e1e;background-color:rgba(30,30,30,.85);border-radius:2px;padding:5px 0}.tui-cc-tracks,.tui-cc-tracks__settings span{display:flex;justify-content:center;align-items:center}.tui-cc-tracks__settings span{flex-direction:row;justify-content:space-between}.tui-cc-tracks__settings span .tui-icon{padding-left:10px;font-size:16px}.tui-cc-settings{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:#1e1e1e;background-color:rgba(30,30,30,.85);border-radius:2px;padding:5px 0}.tui-cc-settings__item span,.tui-cc-settings__navigation span{display:flex;flex-direction:row;justify-content:center;align-items:center;outline:none}.tui-cc-settings__item span .tui-icon,.tui-cc-settings__navigation span .tui-icon{font-size:16px}.tui-cc-settings__navigation.tui-cc-menu__button{padding-left:23px}.tui-cc-settings__item span,.tui-cc-settings__navigation.tui-cc-menu__button span{justify-content:left}.tui-cc-settings__item-label{width:90px;color:#b3b3b3}.tui-cc-settings__item-value--staged{font-weight:700}.tui-cc-settings__active-wrapper{display:flex;flex-direction:row;justify-content:center;align-items:center;flex:1 1;justify-content:space-between}.tui-cc-settings__controls{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:3px 23px;width:100%}.tui-cc-settings__controls .tui-cc-menu__button{background-color:#7b7b7b;background-color:hsla(0,0%,48%,.2);width:50%;margin:3px 5px;padding:8px 25px;border-radius:2px;text-align:center}.tui-cc-settings-item{background-color:#1e1e1e;background-color:rgba(30,30,30,.85);border-radius:2px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:5px 0}.tui-cc-settings-item__navigation span{display:flex;flex-direction:row;justify-content:center;align-items:center;justify-content:left;outline:none;padding:0 5px}.tui-cc-settings-item__navigation span .tui-icon{font-size:16px}.tui-cc-settings-item__navigation.tui-cc-menu__button{padding:8px 35px 8px 25px}.tui-cc-settings-item__option.tui-cc-menu__button{padding:5px 25px 5px 30px}.tui-cc-settings-item__option.tui-cc-menu__button .cc-menu__active-icon{top:10px}.tui-cc-settings-item__options-title{color:#b3b3b3;font-size:14px;padding:5px 30px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.tui-cc-menu__divider{border-bottom:1px solid #555;margin:3px;padding:1px;width:100%}.tui-cc-menu__button{cursor:pointer;box-sizing:border-box;font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;margin:0;padding:8px 25px 8px 30px;position:relative;width:100%}.tui-cc-menu__button:hover{background-color:#fafafa;background-color:hsla(0,0%,98%,.2)}.tui-cc-menu__button:active{background-color:#333}.tui-cc-menu__content{outline:none;pointer-events:none}.tui-cc-menu__content:focus{box-shadow:inset 0 0 0 2px rgba(27,127,204,.8)}.tui-cc-menu__active-icon{color:#aaa;position:absolute;top:11px;left:12px;font-size:12px}.tui-cc-menu{color:#fff;font-family:RobotoRegular,sans-serif;max-height:100%;overflow-y:auto;position:absolute;bottom:0;right:12px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}@font-face{font-family:RobotoRegular;src:url(//turnip.cdn.turner.com/top/assets/fonts/roboto/0/roboto-regular.woff2) format(\"woff2\"),url(//turnip.cdn.turner.com/top/assets/fonts/roboto/0/roboto-regular.woff) format(\"woff\");font-weight:400;font-style:normal}@font-face{font-family:TUI-Icons;src:url(//turnip.cdn.turner.com/top/assets/fonts/icons/0/TUI-Icons.eot);src:url(//turnip.cdn.turner.com/top/assets/fonts/icons/0/TUI-Icons.eot#iefix) format(\"eot\"),url(data:application/font-woff;base64,d09GRgABAAAAABJ0AAoAAAAAHzwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAD4AAABWUZFeGmNtYXAAAAE0AAAAOgAAAUriRRC2Z2x5ZgAAAXAAAA1WAAAWjOxGY6BoZWFkAAAOyAAAACsAAAA2EgHVUWhoZWEAAA70AAAAGAAAACQOogc1aG10eAAADwwAAAAPAAAA0GwAAABsb2NhAAAPHAAAAGoAAABqmqqVEm1heHAAAA+IAAAAHwAAACABRQB5bmFtZQAAD6gAAAEzAAACIlUeiDhwb3N0AAAQ3AAAAZUAAAKDLqoVp3icY2BkZ2CcwMDKwMFSyPKMgYHhF4RmjmEIZzzHwMDEwMrMgBUEpLmmMDh8ZPxozA7iLmSHCDOCCADwnwpTAAB4nGNgYGBmgGAZBkYGEHAB8hjBfBYGDSDNBqQZGZgYGD4a//8PUvCREUTzM0DVAwEjG8OIBwCm2AbqAAB4nJVYC3CTVRb+z73/o6UlNc2LR5smTZNAi6U0TUKpTaJQaClUKLS8KS0g9OHwEl9dthlQdmwdXBYSdxEBHWF4qIg7oouDWx/L6DpWfLQu66DRFWcEl1EX8dHmuuf+Scqjxal5/P9/7z333HPPPed85/wCCPiROqQOgQgCaIHUUI/U0XuepAgC5WNys9yMYxphlCAkE50o0HRByhF0RACH4PQIXqNgkgVyATpZIMReZwuTkuAAlOL3QFISW8hej7JnZRmqo1GolmX2LCmAWfh9TB27lv7nN6+ii+I8XJ6o8gVQPiooKKFVOxa0Vi10Qh7rJjWQBxtFY+950YhkoiqvRbYIsqATcgQn0ueD02DyeGXF5AM3CmwwpoOCXKy4V1kx+MBr8oJiEk/DypqX6MvEuc4+RmKfntvf1ftiHdSzvXwF8M1YUtVe8pe66LLdu2lwxZ68/S+NGNG0aN3U3XMvwfKJu4rYJbhQx/ayAOuAy+y1ksxd6VMm/LlODO/ejUJwucQjUo8gcR3zpUkK5MLdrF1cxqeIh1lH/17vQDpZSI3JrvVBbIK0ElbOnbuyT8vlYR2qENEDeXtgyhUGNL7/NFwnlZ+XLjY1xofi1k0yUQx4Zg4hEuND/oH7rll5Yn8XpV37z4FVws1fESoSX4X8j2/xhRfYpaJdE6Hh+++hIaFv1XYkIUXQCiaU2aa1um3U5Xa5rWAzWLU2anAZXFqSEoa7I+FwhLXTYATuDkciYXKBtYfJsEi4L4iDZF8Y+wflyRlYdSo3UDnr3HwZ2BgJs/YI5wadnHOYs6nBNjbh7t7zEezn3UK/bntQt2loG2hHGlC0ZjBZ0QK0+UDRIqRAX9BfA1Djp/F7X5AGpW714cpA79c0iGru9w0Fda0TRgsWYQx6CDicyBnsqHOQrOBJ9zokQK0bTVYJlwMXGNESvUBegRVVc//wTT2k023ur55gF8m56Gm4f/FqgD4dO8vvGlIQ/QLHIP1edlYlZhfpN2R1OsD8Wcx5z/7LPuasjG5YAbBj5kz4cQX7ZcfM8krshjMsSaWCM3zbMVnjezehrFkDNQBWgxWsbquEf/6VuntrA3MJmRsQD6v3XiPksh5yPmok59HZeyCXPw1QT/TpEOsOhULhUMIe1XWdgn+QNW1umwFP1KCXFVvMSr0uMxikRD+SY79bW+Th/SYemPxcFr9oVO/R5rWh0NpcS8SSC6DeSArviT3H+gdK+IM9Yp8em4E/9T59YFfijC3iZTX2pMS1J+hcaH7xP9eYlv8NVnckpH4gTzT0Xoj9qTuMURE6QyzAH0hNKCTE4wH6aYuQj41sWQFPkRPM4MLtoxZw03oTOr8NH3DThR4vRip8UEelQN50c/RrRSFp5qpxdW2EtNXhVYl+298cV2Umeglo6+LFrZS2ktuzRoN3pGckFGVaYtR4HT2SvZMRb1oy2D9Noxa3EtK6eElr3FfkBWjbk4XbUUKUzusDJ82HNHCM52EJzzENhXI6ZIXKxiyQ9SZFAyadGfyAzdgJ+8HjNRk9Xp3H4eQxCOXHAQ1IRyRpzzBZCSsjh5+YNCWD6tNYT5qeZJQVnxg+SgkpUsrjkvR4ioSPo4afKC7LIPo0yL2WIjpxzU5Cdq5Rr9SbMz2nNXnUcKCpyVLlzRmnNFqMm5pTGTdXSsmpLJo6Ork1ToKNQUhw4ujkWxP88Cr0nxP3cQRDXQL27KIQug7iOIzR4EDwS8SdOA8ey26An4PNHgCdcvPQQJNes6btV1ZFC0sczJAkyOy3n7q2oUlDbu+3UdJ2DUanYRyyC2NvEBXQuzAClIAV+7U4bvWitw3q/2vxF044LetB95ctSHE1Zd9mdMvOl19WCZBwbeTXzkWnJIMzGbzJGK4H08rERnaJXWqEFPZ9I6RCaiP7flBd9GmvoYEUnBezKalHPi4YeS6QDFrVJ/gx2PBMVGzGRTtg4ytRSYq+gteQDLMZg9mo0qNSBwbhDhzOFaN/j1EwdlSOUyRsVvJjqqTn/G3ZciZYKcKllserIo+rUPI/XnsL2J2Mdf3yy+lndsiX2I/l5SfZv6LJ5AcY8+8T7wj957QN+RQIZcIyoQW56c3UoFdk0ZbtcDqQl9eDMOcu8srYwZs+cFkVG8ZvvYY6MWx53EX5BCVQZANO1RX6CHbAeIwhxGHL1iAzM0Fwx8N22xDWXTQrsGhhoKCcnd/7wLli+4LpW0BryTLkG3e+Xe6f+cFaeLJ9y/QZE8qmTviTY9Yod7a/KZA7e+R4fV7pAs+k5kVeTZrOPCzDXnWTxb16zRzP1HWbaHN3d+OHHzbSL3LKJs8KVi2cc/+GOctumTa7Pb86PTcwNmeC+OrO6l2e2wLz/Q8vLN8wrSTgs44uvmPS1k3VTmvJyvxVq6qL+h4dVbTUN7IgZ4QtxZQ5kWhyJi4pmdpckklbWj7+uOVM3N+CGM8p5sm5ao6nBaOcB9mOIk+hkTeLHDFFaK3pN41HrLX5qAtHzrLjUAer5pLqFasOrBAfYS/OrvXXGFLYiwQAKog+d9oq/5HT4iN9VvopFFY0NOyor+87G32TpDfeU+Yyu6IfwSPwTUHBHy0FE7P+k4hZOxG6JmBDVowGPdGAaLM4ja5Cji6xWymmIerZGUWTQzULNUn2yDsn18GMx3rY+0+zbz+z5X32XOOBLGtGXu7aHVOqbqsadx8sOpV0cuvDy+5cZm9cIq1uKNNkbGbRiy/euV1sJ5vqpRTTsY2ig47bNmd+Zeivwxw5W0/eYSje4B/Wb5tBtKlsbHCrl/OpW2tz+0S0nRJUE6Z4aBNej1Qwy/TcgtXPrK2yHixfP6UA4UwRL8FM9vxwy+SCKnj3vzYfkImL7713ErF8NGrekjXzbpYUNr8v+rO5yG0GEtdDUA4K07nlEjRap8fPQbYQCwE0w5gBGk1GDlMeZ0wJqC1uzF5uqfzADHoTlU0ObKXnWMR0OdjF9r63prlE59E3ld73yup7Pt/WeLxtUd6smeakJJnIWtd7hx499FBz6XRNkt3kKfTVjlyuFbtYF9TDk1DfRYPvsb1dliXTPnAWP/RNeP2bv5+0bNPWyav3WFItWSNkk7504aNnntpy+OK8UtvGBVmFt62vqZjAlk5tXgS/++o9ZIDrC7wO4hfxXbQ2E9pbqTBLWCgs4XbnMROF69Vhczq8iL0eh6LVS0bum/zwbbIKzgjV13fp5QFdiNQuP2DubZOp3eCkGQ+8s3NR0vAjm6c9kwRweO7qYcnrlsPvs60aWx6QyoJMEIflFBHwLceu7HG8ywwSdoF/QA/4ftpy8dbPDr8z7n1wboO3SFRKu+NksL0zTZIofZ3UzFi1QWIh5TXFnXlLeN6mv/lSkm/yH1y+7uSMIfRUr4CVNHUae2HLT3BVvnUcEUeN9DzmYknhjuEgGh3PvLSEB97P2YMKwlWEdcvg/OQTcMqsO8ITLPag/AJe2OfRyxzLakJ8TGZnPglFj+AEMgxV1pqImxxXqIpwPNNGDd6obqY4RvaFQpEhgO/zIUwgSS10DgV3IYfU9ucwWD8HeJRS695OGuwL8lonjoFTcYzwGiGZYNSCPHJ/dCvZR+7HEhu/fUHovLp+itNiWYmlJXUnSFFzARagwf56ndPJMZ4urNZJa/RBciGU4MkrKOEqWsppuZ4QDzFbDoFEWrmI/KVCjDYWY4+r7yJkAaOJ1wo6jhoIa5VyU9/blWH8RDBDqAlhNnBdDjTlxjkQ+IjXTE2ufIoRgWQiyBEMEcRr01BbPvW6i4aUGLG7ZItn7OhxlnTYSuxTlhZXNJfbbOUtFe7FZWPJVtBn540Y47WmwhCzpqdyirMBdNk3jyya77cVzrsroL/1rtrC7NJZ+SPGZKRBdnGFQ++4Kr+0YG2C9SfEUgm8GjHCepO4P4PizBHi2bcrdpMF8fTyoz7f0eXHvhRFqAV7SwvYoVYUv2QKbvA79gYl29fP35HVYdkxf/12QtkbsgWqKyqqQfzyWBdbz35paECE2tZ17Mve1qSki9CwZ/12SuqrquoJ3b5+D9tzJX/msgl2Z1KiBEjIgNlVC/uYHcZVj12Rhh1mH59K8BavXXOw3FZxKibF5DV5nd4bnbF466uvNiV+rHsI5ykeuWoGyf3teXeaMO5am6NorDqMzZjs8NIIQSh2TrZEWTSYnX0XDu+aPDY/DPljl2BNWOPHKjYsHmxrOyhCzqCm1JsehmfKHIuq7f6WsUv1nqxY3YsTcFph7YD4NJ77nfvG8QkldCUkVGIFKha14coh6DCKi4ZjMmve0ITxLx5E5xaNQ9GmmEYPtcXePzQ0HbqrbXPboev0q7tev7wexyRycDWGw4Ori0sUEn5z3OY6G6oe2EvhMEnBGLhvKBun40P9cVu8LBq5hycTnL8RNooGXhj0jy27eoxc4O/z+t81BtQorfAahlxoglp2uAk6pUATehd/itO1xel4uQNiWxMLQCeSiD1NPJzjtAR2SnUqQnCGTrKPvdUET9BgE6kAbxOrwyfhynvklBg/vjTnKnUgBavDCeoFnsCmZMWL+nRlQBD+D/mV2g4AAHicY2BkYGAAYp5lfN/i+W2+MnCzM4DA1Y9HtZBpdgawOAcDE4gCABbICOwAeJxjYGRgYGcAgoVgEsRmZEAFJgATqQDteJxjZ2BgYB9GGACXiAFtAAAAAAAADgBQAGYAsgDGAOYBHgFIAXQBnAHyAi4CjgK6AwoDjgOwA+oEOAR8BLgE6AUMBaIF6AY2BmwG2gdyB6gH8Af+CBQIKAg+CFQIbAjgCS4JWAmmCfgKVgqECswK2groCvwLEAskC0YAAHicY2BkYGAwYchlYGcAASYg5gJCBob/YD4DABkMAb8AeJxtkEtuwjAURW8gUBWkCrVSpc6sDjqpCJ8BAxYAyhQB8xAcPkriyDFIbKAr6Bq6hq6gw66BpfTGtRi02JJz3vF9thwAHXzBQzU83Nq1GjXcsPrlOqnj2Cc/OW6gjWfHTfqu4xZeMXLcxgMinuD51Wn3MI5ruMOb4zr9u2Of/OG4gUd8Om7SfztuYYmz4zZevNF8EXbDWOXlTG4OaaQv9QWWUpc7lYtB0L+4qcyljoxci9VJlMfN0JhEJFplYqJyI9NUiUKrvYxNsDWmGPd6ifNBrDLMsUDIN4eIoZCjxAwSGxyQ8sX6yv5/s2SH5ndna4EBAvSv5KbM5TYb8Q9KrJld4cS1xJF3DmkNEtYJMwoZaWJ7q3TKqWgKu7eniekDbG1XgTF6nMmffGBvz34A4o5c4gB4nG2QWXfaMBCFfQk2EEMITfctbZPuVdf8ISGPsQ5CUrXg5N9XNvicPHQepO/eI2muJhtlh1pl/6+bLMMIJxgjR4EJppjhFCXmWOAMS5xjhQe4wEM8wmM8wVM8w3O8wEu8wmtc4g3e4h2ucI33+ICP+ITP+IKv+AaG7/iBn/iF3/iDm7FV/K7sFiakE4pyy6Oncm9U3BHbxUCnR1amHXAnq+FEIzfNeR2V8sIRaUY6kFveN25lKPzfyB1NvJVak5v5uA4yKPJTwW2QRidoEpHzuW/SyRNhNsUh0NlhYyYGJTVdHGX/0DHzqKkKwbUgVTjq/jKtuaC1Mdt8Y1X003RxS5XUk9DKkLoUIe7Wys1SnKTIhxWPlTSsohRa9ony3pn30zi2Gftg7LzmPrDauJa7quyFo1bqaua30jJNt2HRk3W0lyb6nCtyYSaMvXNpViFl2xsnAy0HYLVUiqpxN6myIWUHo+NS6toMRsdL7pxpWeWMZZVp9eKejnYhGto7o1nfaz4oRXXIkxDbXCjjKcv+AVWAwAQAAAA=) format(\"woff\"),url(//turnip.cdn.turner.com/top/assets/fonts/icons/0/TUI-Icons.ttf) format(\"truetype\"),url(//turnip.cdn.turner.com/top/assets/fonts/icons/0/TUI-Icons.svg) format(\"svg\");font-weight:400;font-style:normal}.tui-icon-play{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-play:before{content:\"\\F101\"}.tui-icon-play-circle{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-play-circle:before{content:\"\\F102\"}.tui-icon-pause{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-pause:before{content:\"\\F103\"}.tui-icon-volume-mute{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-volume-mute:before{content:\"\\F104\"}.tui-icon-volume-low{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-volume-low:before{content:\"\\F105\"}.tui-icon-volume-mid{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-volume-mid:before{content:\"\\F106\"}.tui-icon-volume-high{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-volume-high:before{content:\"\\F107\"}.tui-icon-fullscreen-enter{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-fullscreen-enter:before{content:\"\\F108\"}.tui-icon-fullscreen-exit{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-fullscreen-exit:before{content:\"\\F109\"}.tui-icon-square{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-square:before{content:\"\\F10A\"}.tui-icon-spinner{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-spinner:before{content:\"\\F10B\"}.tui-icon-subtitles{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-subtitles:before{content:\"\\F10C\"}.tui-icon-captions{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-captions:before{content:\"\\F10D\"}.tui-icon-chapters{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-chapters:before{content:\"\\F10E\"}.tui-icon-share{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-share:before{content:\"\\F10F\"}.tui-icon-cog{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-cog:before{content:\"\\F110\"}.tui-icon-circle{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-circle:before{content:\"\\F111\"}.tui-icon-circle-outline{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-circle-outline:before{content:\"\\F112\"}.tui-icon-circle-inner-circle{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-circle-inner-circle:before{content:\"\\F113\"}.tui-icon-hd{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-hd:before{content:\"\\F114\"}.tui-icon-cancel{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-cancel:before{content:\"\\F115\"}.tui-icon-replay{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-replay:before{content:\"\\F116\"}.tui-icon-facebook{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-facebook:before{content:\"\\F117\"}.tui-icon-gplus{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-gplus:before{content:\"\\F118\"}.tui-icon-linkedin{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-linkedin:before{content:\"\\F119\"}.tui-icon-twitter{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-twitter:before{content:\"\\F11A\"}.tui-icon-tumblr{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-tumblr:before{content:\"\\F11B\"}.tui-icon-pinterest{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-pinterest:before{content:\"\\F11C\"}.tui-icon-audio-description{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-audio-description:before{content:\"\\F11D\"}.tui-icon-audio{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-audio:before{content:\"\\F11E\"}.tui-icon-pause-circle{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-pause-circle:before{content:\"\\F11F\"}.tui-icon-stop{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-stop:before{content:\"\\F120\"}.tui-icon-fast-forward{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-fast-forward:before{content:\"\\F121\"}.tui-icon-fast-rewind{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-fast-rewind:before{content:\"\\F122\"}.tui-icon-skip-next{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-skip-next:before{content:\"\\F123\"}.tui-icon-skip-previous{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-skip-previous:before{content:\"\\F124\"}.tui-icon-alert{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-alert:before{content:\"\\F125\"}.tui-icon-copyright{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-copyright:before{content:\"\\F126\"}.tui-icon-favorite{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-favorite:before{content:\"\\F127\"}.tui-icon-favorite-filled{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-favorite-filled:before{content:\"\\F128\"}.tui-icon-exit{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-exit:before{content:\"\\F129\"}.tui-icon-help-filled{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-help-filled:before{content:\"\\F12A\"}.tui-icon-help{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-help:before{content:\"\\F12B\"}.tui-icon-info-filled{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-info-filled:before{content:\"\\F12C\"}.tui-icon-info{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-info:before{content:\"\\F12D\"}.tui-icon-arrow-drop-down{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-arrow-drop-down:before{content:\"\\F12E\"}.tui-icon-arrow-drop-up{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-arrow-drop-up:before{content:\"\\F12F\"}.tui-icon-chevron-right{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-chevron-right:before{content:\"\\F130\"}.tui-icon-chevron-left{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-chevron-left:before{content:\"\\F131\"}.tui-icon-check{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-check:before{content:\"\\F132\"}.tui-icon-close{font-family:TUI-Icons;font-weight:400;font-style:normal}.tui-icon-close:before{content:\"\\F133\"}.tui{overflow:hidden;width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none;z-index:1000001}.tui *{box-sizing:border-box}";t2J.USE_CACHE=false;t2J.USE_ENUM_INDEX=false;t2J.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";t2J.BASE64_CODES=null;Y2J.DEFAULT_RESOLVER=new A9y();Y2J.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Y2J.CODES=null;u7J.count=0;I6J.i64tmp=function(K1P){var G1P;var m1P=new G6J(0,0);G1P=m1P;return G1P;}(this);I6J.helper=new C14(new v6y(8));K8J.escapes=function(b1P){var a1P;var N1P=new b4J();if(E1J["lt"]!=null){N1P.setReserved("lt","<");}else{N1P.h["lt"]="<";}if(E1J["gt"]!=null){N1P.setReserved("gt",">");}else{N1P.h["gt"]=">";}if(E1J["amp"]!=null){N1P.setReserved("amp","&");}else{N1P.h["amp"]="&";}if(E1J["quot"]!=null){N1P.setReserved("quot","\"");}else{N1P.h["quot"]="\"";}if(E1J["apos"]!=null){N1P.setReserved("apos",(7511,5655)>(4,6753)?"m":"'");}else{N1P.h["apos"]="'";}a1P=N1P;return a1P;}(this);N8J.BYTES_PER_ELEMENT=4;a8J.BYTES_PER_ELEMENT=1;c4J.MAX_WIRES=8096;c4J.ENABLED=1;c4J.VOID_HANDLER=2;c4J.SEND_ONCE=4;c4J.free=null;c4J.freeCount=0;}(true?M1J:typeof window!="undefined"?window:typeof self!="undefined"?self:this,typeof window!="undefined"?window:typeof x1J!="undefined"?x1J:typeof self!="undefined"?self:this));x1J.TopUiVersion='0.4.2';x1J.TopUi=P1J(10);L1J.exports=x1J.TOP;}.call(M1J,P1J(0)));},function(g1P,M1P,P1P){"use strict";g1P.exports=P1P(3).polyfill();},function(x1P,O1P,L1P){(function(H1P,T1P){var d1P;(function(V1P,v1P){true?x1P.exports=v1P():typeof define==='function'&&define.amd?define(v1P):V1P.ES6Promise=v1P();}(this,function(){'use strict';function L4P(){var t7P=undefined;if(typeof T1P!=='undefined'){t7P=T1P;}else if(typeof self!=='undefined'){t7P=self;}else{try{t7P=Function("return this;")();}catch(m7P){throw new Error('polyfill failed because global object is unavailable in this environment');}}var l7P=t7P.Promise;if(l7P){var G7P=null;try{G7P=Object.prototype.toString.call(l7P.resolve());}catch(K7P){}if(G7P==='[object Promise]'&&!l7P.cast){return;}}t7P.Promise=p1P;}function I1P(j6P,A6P){if(j6P===A6P){Z1P(j6P,d4P());}else if(O4P(A6P)){q4P(j6P,A6P,t4P(A6P));}else{B1P(j6P,A6P);}}var u4P=undefined;function n4P(){throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');}if(Array.isArray){u4P=Array.isArray;}else{u4P=function(k4P){return Object.prototype.toString.call(k4P)==='[object Array]';};}function s4P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}function J4P(T6P,H6P,d6P){W1P(function(V6P){var v6P=false;var p6P=B4P(d6P,H6P,function(Z6P){if(v6P){return;}v6P=true;if(H6P!==Z6P){I1P(V6P,Z6P);}else{B1P(V6P,Z6P);}},function(B6P){if(v6P){return;}v6P=true;Z1P(V6P,B6P);},'Settle: '+(V6P._label||' unknown promise'));if(!v6P&&p6P){v6P=true;Z1P(V6P,p6P);}},T6P);}var R4P=u4P;var z1P=0;var y1P=undefined;function o4P(){this.error=null;}function Q1P(){for(var C6P=0;C6P<z1P;C6P+=2){var w6P=s1P[C6P];var Y6P=s1P[C6P+1];w6P(Y6P);s1P[C6P]=undefined;s1P[C6P+1]=undefined;}z1P=0;}function B1P(k6P,i6P){if(k6P._state!==S1P){return;}k6P._result=i6P;k6P._state=A1P;if(k6P._subscribers.length!==0){W1P(w4P,k6P);}}var E1P=undefined;var W1P=function i4P(I4P,E4P){s1P[z1P]=I4P;s1P[z1P+1]=E4P;z1P+=2;if(z1P===2){if(E1P){E1P(Q1P);}else{e1P();}}};function p4P(){return F4P++;}function b4P(){var u6P=0;var h6P=new D4P(Q1P);var X6P=document.createTextNode('');h6P.observe(X6P,{characterData:true});return function(){X6P.data=u6P=++u6P%2;};}var X4P=typeof window!=='undefined'?window:undefined;function d4P(){return new TypeError("You cannot resolve a promise with itself");}var h4P=X4P||{};var D4P=h4P.MutationObserver||h4P.WebKitMutationObserver;function W4P(){return new Error('Array Methods must be provided an Array');}var K4P=typeof self==='undefined'&&typeof H1P!=='undefined'&&{}.toString.call(H1P)==='[object process]';var U4P=typeof Uint8ClampedArray!=='undefined'&&typeof importScripts!=='undefined'&&typeof MessageChannel!=='undefined';function H4P(){try{var F6P=d1P;var c6P=L1P(5);y1P=c6P.runOnLoop||c6P.runOnContext;return a4P();}catch(R6P){return f4P();}}var s1P=new Array(1000);function t4P(b6P){try{return b6P.then;}catch(g6P){J1P.error=g6P;return J1P;}}var e1P=undefined;function C4P(K6P){var N6P=this;if(K6P&&typeof K6P==='object'&&K6P.constructor===N6P){return K6P;}var a6P=new N6P(j1P);I1P(a6P,K6P);return a6P;}function f4P(){var D6P=setTimeout;return function(){return D6P(Q1P,1);};}function Z1P(I6P,E6P){if(I6P._state!==S1P){return;}I6P._state=n1P;I6P._result=E6P;W1P(g4P,I6P);}if(K4P){e1P=Z4P();}else if(D4P){e1P=b4P();}else if(U4P){e1P=P4P();}else if(X4P===undefined&&"function"==='function'){e1P=H4P();}else{e1P=f4P();}var k1P=Math.random().toString(36).substring(16);function g4P(Q6P){if(Q6P._onerror){Q6P._onerror(Q6P._result);}w4P(Q6P);}function i1P(V2P,v2P){this._instanceConstructor=V2P;this.promise=new V2P(j1P);if(!this.promise[k1P]){m4P(this.promise);}if(R4P(v2P)){this.length=v2P.length;this._remaining=v2P.length;this._result=new Array(this.length);if(this.length===0){B1P(this.promise,this._result);}else{this.length=this.length||0;this._enumerate(v2P);if(this._remaining===0){B1P(this.promise,this._result);}}}else{Z1P(this.promise,W4P());}}function G4P(Q4P){return typeof Q4P==='function';}function j1P(){}function w4P(w2P){var D2P=w2P._subscribers;var F2P=w2P._state;if(D2P.length===0){return;}var Y2P=undefined,c2P=undefined,R2P=w2P._result;for(var C2P=0;C2P<D2P.length;C2P+=3){Y2P=D2P[C2P];c2P=D2P[C2P+F2P];if(Y2P){l4P(F2P,Y2P,c2P,R2P);}else{c2P(R2P);}}w2P._subscribers.length=0;}function T4P(U2P,q2P){try{return U2P(q2P);}catch(o2P){r1P.error=o2P;return r1P;}}var S1P=void 0;function q4P(n6P,s6P,J6P){if(s6P.constructor===n6P.constructor&&J6P===c4P&&s6P.constructor.resolve===C4P){N4P(n6P,s6P);}else{if(J6P===J1P){Z1P(n6P,J1P.error);J1P.error=null;}else if(J6P===undefined){B1P(n6P,s6P);}else if(G4P(J6P)){J4P(n6P,s6P,J6P);}else{B1P(n6P,s6P);}}}function Z4P(){return function(){return H1P.nextTick(Q1P);};}var A1P=1;function p1P(U7P){this[k1P]=p4P();this._result=this._state=undefined;this._subscribers=[];if(j1P!==U7P){typeof U7P!=='function'&&n4P();this instanceof p1P?v4P(this,U7P):s4P();}}var n1P=2;function x4P(y4P){E1P=y4P;}function P4P(){var f6P=new MessageChannel();f6P.port1.onmessage=Q1P;return function(){return f6P.port2.postMessage(0);};}var J1P=new o4P();var r1P=new o4P();var F4P=0;i1P.prototype._enumerate=function(Z2P){for(var p2P=0;this._state===S1P&&p2P<Z2P.length;p2P++){this._eachEntry(Z2P[p2P],p2P);}};function N4P(z6P,W6P){if(W6P._state===A1P){B1P(z6P,W6P._result);}else if(W6P._state===n1P){Z1P(z6P,W6P._result);}else{Y4P(W6P,undefined,function(S6P){return I1P(z6P,S6P);},function(e6P){return Z1P(z6P,e6P);});}}i1P.prototype._eachEntry=function(B2P,W2P){var z2P=this._instanceConstructor;var e2P=z2P.resolve;if(e2P===C4P){var S2P=t4P(B2P);if(S2P===c4P&&B2P._state!==S1P){this._settledAt(B2P._state,W2P,B2P._result);}else if(typeof S2P!=='function'){this._remaining--;this._result[W2P]=B2P;}else if(z2P===p1P){var n2P=new z2P(j1P);q4P(n2P,B2P,S2P);this._willSettleAt(n2P,W2P);}else{this._willSettleAt(new z2P(function(s2P){return s2P(B2P);}),W2P);}}else{this._willSettleAt(e2P(B2P),W2P);}};i1P.prototype._settledAt=function(j2P,Q2P,A2P){var J2P=this.promise;if(J2P._state===S1P){this._remaining--;if(j2P===n1P){Z1P(J2P,A2P);}else{this._result[Q2P]=A2P;}}if(this._remaining===0){B1P(J2P,this._result);}};function V4P(){return new TypeError('A promises callback cannot return that same promise.');}function a4P(){if(typeof y1P!=='undefined'){return function(){y1P(Q1P);};}return f4P();}function c4P(l6P,G6P){var t6P=arguments;var q6P=this;var U6P=new this.constructor(j1P);if(U6P[k1P]===undefined){m4P(U6P);}var o6P=q6P._state;if(o6P){(function(){var m6P=t6P[o6P-1];W1P(function(){return l4P(o6P,U6P,m6P,q6P._result);});}());}else{Y4P(q6P,U6P,l6P,G6P);}return U6P;}function v4P(P2P,M2P){try{M2P(function L2P(x2P){I1P(P2P,x2P);},function O2P(H2P){Z1P(P2P,H2P);});}catch(T2P){Z1P(P2P,T2P);}}i1P.prototype._willSettleAt=function(I2P,i2P){var k2P=this;Y4P(I2P,undefined,function(E2P){return k2P._settledAt(A1P,i2P,E2P);},function(y2P){return k2P._settledAt(n1P,i2P,y2P);});};p1P.all=z4P;p1P.race=S4P;function S4P(X7P){var u7P=this;if(!R4P(X7P)){return new u7P(function(f7P,h7P){return h7P(new TypeError('You must pass an array to race.'));});}else{return new u7P(function(w7P,Y7P){var C7P=X7P.length;for(var D7P=0;D7P<C7P;D7P++){u7P.resolve(X7P[D7P]).then(w7P,Y7P);}});}}p1P.resolve=C4P;function z4P(r2P){return new i1P(this,r2P).promise;}p1P.reject=e4P;function B4P(P6P,M6P,L6P,x6P){try{P6P.call(M6P,L6P,x6P);}catch(O6P){return O6P;}}function O4P(j4P){var A4P=typeof j4P;return j4P!==null&&(A4P==='object'||A4P==='function');}p1P._setScheduler=x4P;function Y4P(u2P,X2P,h2P,f2P){var y6P=u2P._subscribers;var r6P=y6P.length;u2P._onerror=null;y6P[r6P]=X2P;y6P[r6P+A1P]=h2P;y6P[r6P+n1P]=f2P;if(r6P===0&&u2P._state){W1P(w4P,u2P);}}function l4P(a2P,l2P,b2P,g2P){var m2P=G4P(b2P),t2P=undefined,K2P=undefined,G2P=undefined,N2P=undefined;if(m2P){t2P=T4P(b2P,g2P);if(t2P===r1P){N2P=true;K2P=t2P.error;t2P.error=null;}else{G2P=true;}if(l2P===t2P){Z1P(l2P,V4P());return;}}else{t2P=g2P;G2P=true;}if(l2P._state!==S1P){}else if(m2P&&G2P){I1P(l2P,t2P);}else if(N2P){Z1P(l2P,K2P);}else if(a2P===A1P){B1P(l2P,t2P);}else if(a2P===n1P){Z1P(l2P,t2P);}}p1P._setAsap=M4P;p1P._asap=W1P;p1P.prototype={constructor:p1P,then:c4P,'catch':function q7P(o7P){return this.then(null,o7P);}};function e4P(R7P){var F7P=this;var c7P=new F7P(j1P);Z1P(c7P,R7P);return c7P;}function m4P(d2P){d2P[k1P]=F4P++;d2P._state=undefined;d2P._result=undefined;d2P._subscribers=[];}function M4P(r4P){W1P=r4P;}p1P.polyfill=L4P;p1P.Promise=p1P;return p1P;}));}.call(O1P,L1P(4),L1P(0)));},function(V7P,B7P){function O7P(){throw new Error('clearTimeout has not been defined');}var N7P=V7P.exports={};var a7P;function p7P(){if(!L7P||!M7P){return;}L7P=false;if(M7P.length){g7P=M7P.concat(g7P);}else{x7P=-1;}if(g7P.length){v7P();}}function d7P(E7P,y7P){this.fun=E7P;this.array=y7P;}var b7P;(function(){try{if(typeof setTimeout==='function'){a7P=setTimeout;}else{a7P=H7P;}}catch(W7P){a7P=H7P;}try{if(typeof clearTimeout==='function'){b7P=clearTimeout;}else{b7P=O7P;}}catch(z7P){b7P=O7P;}}());function P7P(){}var g7P=[];var L7P=false;var M7P;var x7P=-1;N7P.nextTick=function(I7P){var i7P=new Array(arguments.length-1);if(arguments.length>1){for(var k7P=1;k7P<arguments.length;k7P++){i7P[k7P-1]=arguments[k7P];}}g7P.push(new d7P(I7P,i7P));if(g7P.length===1&&!L7P){T7P(v7P);}};d7P.prototype.run=function(){this.fun.apply(null,this.array);};N7P.title='browser';N7P.browser=true;N7P.env={};N7P.argv=[];N7P.version='';function H7P(){throw new Error('setTimeout has not been defined');}N7P.versions={};N7P.on=P7P;function T7P(S7P){if(a7P===setTimeout){return setTimeout(S7P,0);}if((a7P===H7P||!a7P)&&setTimeout){a7P=setTimeout;return setTimeout(S7P,0);}try{return a7P(S7P,0);}catch(e7P){try{return a7P.call(null,S7P,0);}catch(n7P){return a7P.call(this,S7P,0);}}}N7P.addListener=P7P;N7P.once=P7P;N7P.off=P7P;N7P.removeListener=P7P;N7P.removeAllListeners=P7P;N7P.emit=P7P;N7P.prependListener=P7P;N7P.prependOnceListener=P7P;function v7P(){if(L7P){return;}var Q7P=T7P(p7P);L7P=true;var j7P=g7P.length;while(j7P){M7P=g7P;g7P=[];while(++x7P<j7P){if(M7P){M7P[x7P].run();}}x7P=-1;j7P=g7P.length;}M7P=null;L7P=false;Z7P(Q7P);}N7P.listeners=function(r7P){return[];};N7P.binding=function(u9P){throw new Error('process.binding is not supported');};N7P.cwd=function(){return'/';};function Z7P(s7P){if(b7P===clearTimeout){return clearTimeout(s7P);}if((b7P===O7P||!b7P)&&clearTimeout){b7P=clearTimeout;return clearTimeout(s7P);}try{return b7P(s7P);}catch(J7P){try{return b7P.call(null,s7P);}catch(A7P){return b7P.call(this,s7P);}}}N7P.chdir=function(X9P){throw new Error('process.chdir is not supported');};N7P.umask=function(){return 0;};},function(h9P,f9P){},function(C9P,w9P,c9P){var D9P,Y9P;!function(F9P,R9P){if(true)!(D9P=R9P,Y9P=typeof D9P==='function'?D9P.call(w9P,c9P,w9P,C9P):D9P,Y9P!==undefined&&(C9P.exports=Y9P));else if("object"==typeof w9P)C9P.exports=R9P();else{if(void 0!==F9P.Conviva)return;if(F9P.ConvivaLoading)return;F9P.ConvivaLoading=!0,F9P.Conviva=R9P(),delete F9P.ConvivaLoading;}}(this,function(){var U9P={};return function(){"use strict";var q9P={};!function(){var m9P=U9P.Client=function(u8P,X8P){var y9P=this;function r9P(h8P,f8P){if(!(h8P instanceof b9P))throw new Error("clientSettings parameter should be an instance of ClientSettings.");if(!(f8P instanceof I9P))throw new Error("systemFactory parameter should be an instance of SystemFactory.");(h8P.gatewayUrl==b9P._httpsProtocol+b9P.defaultProductionGatewayDNS||h8P.gatewayUrl==b9P._httpProtocol+b9P.defaultProductionGatewayDNS)&&(this.defaultGatewayURLError=!0),this._settings=h8P.clone(),this._systemFactory=f8P,this._systemFactory.configure("SDK",this._settings),this._exceptionCatcher=this._systemFactory.buildExceptionCatcher(),this._exceptionCatcher.runProtected("Client.init",function(){y9P._id=M9P.uinteger32(),y9P._logger=y9P._systemFactory.buildLogger(),y9P._logger.setModuleName("Client"),y9P.defaultGatewayURLError&&y9P._logger.info("Gateway URL should not be set to https://cws.conviva.com or http://cws.conviva.com, therefore this call is ignored"),y9P._logger.info("init(): url="+y9P._settings.gatewayUrl+" customerKey="+y9P._settings.customerKey),y9P._config=y9P._systemFactory.buildConfig(),y9P._config.load(),y9P._sessionFactory=y9P._systemFactory.buildSessionFactory(y9P,y9P._settings,y9P._config),y9P._logger.info("init(): done.");},function(D8P){throw new Error("Client constructor failed: "+D8P.message);});}this.defaultGatewayURLError=!1,this._logger=null,this._sessionFactory=null,this._systemFactory=null,this._globalSessionKey=-1,this._settings=null,this._systemSettings=null,this._exceptionCatcher=null,this._config=null,this._id=-1,this._released=!1,r9P.apply(this,arguments),this.release=function(){this._released||this._exceptionCatcher.runProtected("Client.release",function(){y9P._logger.info("release()"),y9P._sessionFactory.cleanup(),y9P._sessionFactory=null,y9P._globalSessionKey=-1,y9P._logger=null,y9P._id=-1,y9P._exceptionCatcher=null,y9P._settings=null,y9P._systemSettings=null,y9P._systemFactory=null,y9P._released=!0;});},this.createSession=function(w8P){var C8P=m9P.NO_SESSION_KEY;return this._released?C8P:null==w8P||w8P instanceof g9P?(this._exceptionCatcher.runProtected("Client.createSession",function(){C8P=y9P._sessionFactory.makeVideoSession(w8P,P9P.SESSION_TYPE.VIDEO);}),C8P):(y9P._logger.error("createSession(): expecting an instance of ContentMetadata for contentMetadata parameter"),C8P);},this.createAdSession=function(F8P,Y8P){var c8P=m9P.NO_SESSION_KEY;return this._released?c8P:null==Y8P||Y8P instanceof g9P?(this._exceptionCatcher.runProtected("Client.createAdSession",function(){var R8P=y9P._sessionFactory.getVideoSession(F8P);null!=R8P&&((null==Y8P.applicationName||null==Y8P.viewerId)&&(null==Y8P.viewerId&&null!=R8P._contentMetadata.viewerId&&(Y8P.viewerId=R8P._contentMetadata.viewerId),null==Y8P.applicationName&&null!=R8P._contentMetadata.applicationName&&(Y8P.applicationName=R8P._contentMetadata.applicationName)),Y8P.custom["c3.csid"]=t9P.ToString(R8P._id)),c8P=y9P._sessionFactory.makeVideoSession(Y8P,P9P.SESSION_TYPE.AD);}),c8P):(y9P._logger.error("createAdSession(): expecting an instance of ContentMetadata for adMetadata parameter"),c8P);},this.reportError=function(o8P,q8P,U8P){return this._released?void 0:t9P.isValidString(q8P)?U8P!==U9P.Client.ErrorSeverity.FATAL&&U8P!==U9P.Client.ErrorSeverity.WARNING?void this._logger.error("reportError(): invalid error severity: "+U8P):void this._exceptionCatcher.runProtected("Client.reportError",function(){var t8P=y9P._sessionFactory.getVideoSession(o8P);null!=t8P&&t8P.reportError(q8P,U8P);}):void this._logger.error("reportError(): invalid error message string: "+q8P);},this.updateContentMetadata=function(G8P,l8P){return this._released?void 0:l8P instanceof g9P?void this._exceptionCatcher.runProtected("Client.updateContentMetadata",function(){var m8P=y9P._sessionFactory.getVideoSession(G8P);if(null!=m8P){var K8P=l8P.clone();m8P.updateContentMetadata(K8P);}}):void y9P._logger.error("updateContentMetadata(): expecting an instance of ContentMetadata for contentMetadata parameter");},this.detachPlayer=function(N8P){this._released||this._exceptionCatcher.runProtected("Client.detachPlayer",function(){var a8P=y9P._sessionFactory.getVideoSession(N8P);null!=a8P&&a8P.detachPlayer();});},this.attachPlayer=function(g8P,b8P){return this._released?void 0:b8P instanceof G9P?void this._exceptionCatcher.runProtected("Client.attachPlayer",function(){var P8P=y9P._sessionFactory.getVideoSession(g8P);null!=P8P&&P8P.attachPlayer(b8P);}):void y9P._logger.error("attachPlayer(): expecting an instance of PlayerStateManager for playerStateManager parameter");},this.contentPreload=function(M8P){this._released||this._exceptionCatcher.runProtected("Client.contentPreload",function(){var L8P=y9P._sessionFactory.getVideoSession(M8P);null!=L8P&&L8P.contentPreload();});},this.contentStart=function(x8P){this._released||this._exceptionCatcher.runProtected("Client.contentStart",function(){var O8P=y9P._sessionFactory.getVideoSession(x8P);null!=O8P&&O8P.contentStart();});},this.sendCustomEvent=function(H8P,T8P,d8P){return this._released?void 0:t9P.isValidString(T8P)?void this._exceptionCatcher.runProtected("Client.sendCustomEvent",function(){if(H8P==m9P.NO_SESSION_KEY){if(y9P._globalSessionKey<0){var V8P=new g9P();y9P._globalSessionKey=y9P._sessionFactory.makeGlobalSession(V8P,null);}H8P=y9P._globalSessionKey;}var p8P=t9P.sanitizeStringToStringObject(d8P),v8P=y9P._sessionFactory.getSession(H8P);null!=v8P&&v8P.sendCustomEvent(T8P,p8P);}):void y9P._logger.error("sendCustomEvent(): eventName parameter must be a valid string.");},this.adStart=function(z8P,B8P,W8P,Z8P){return this._released?void 0:B8P!==m9P.AdStream.CONTENT&&B8P!==m9P.AdStream.SEPARATE?void this._logger.error("adStart(): ignored, invalid value for adStream parameter: "+B8P):W8P!==m9P.AdPlayer.CONTENT&&W8P!==m9P.AdPlayer.SEPARATE?void this._logger.error("adStart(): ignored, invalid value for adPlayer parameter: "+W8P):Z8P!==m9P.AdPosition.BUMPER&&Z8P!==m9P.AdPosition.PREROLL&&Z8P!==m9P.AdPosition.MIDROLL&&Z8P!==m9P.AdPosition.POSTROLL?void this._logger.error("adStart(): ignored, invalid value for adPosition parameter: "+Z8P):void this._exceptionCatcher.runProtected("Client.adStart",function(){var S8P=y9P._sessionFactory.getVideoSession(z8P);null!=S8P&&S8P.adStart(B8P,W8P,Z8P);});},this.adEnd=function(e8P){this._released||this._exceptionCatcher.runProtected("Client.adEnd",function(){var n8P=y9P._sessionFactory.getVideoSession(e8P);null!=n8P&&n8P.adEnd();});},this.cleanupSession=function(s8P){return this._released?void 0:s8P===m9P.NO_SESSION_KEY?void this._logger.warning("cleanupSession(): ignored, can't cleanup Client.NO_SESSION_KEY"):void this._exceptionCatcher.runProtected("Client.cleanupSession",function(){var J8P=y9P._sessionFactory.getVideoSession(s8P);null!=J8P&&y9P._sessionFactory.cleanupSession(s8P);});},this.getAttachedPlayer=function(j8P){var A8P=null;return this._released?A8P:j8P===m9P.NO_SESSION_KEY?(this._logger.warning("getAttachedPlayer(): ignored for Client.NO_SESSION_KEY"),A8P):(this._exceptionCatcher.runProtected("Client.getAttachedPlayer",function(){var Q8P=y9P._sessionFactory.getVideoSession(j8P);null!=Q8P&&(A8P=Q8P.getPlayerStateManager());}),A8P);},this.isPlayerAttached=function(k8P){return this._released?!1:null!==this.getAttachedPlayer(k8P)?!0:!1;},this.getPlayerStateManager=function(){if(this._released)throw new Error("This instance of Conviva.Client has been released.");return new G9P(this._systemFactory);},this.releasePlayerStateManager=function(i8P){if(this._released)throw new Error("This instance of Conviva.Client has been released.");this._exceptionCatcher.runProtected("Client.releasePlayerStateManager",function(){i8P instanceof G9P&&i8P.release();});},this.getSettings=function(){return this._settings;},this.getId=function(){return this._id;};};m9P.version="2.141.0.35966",m9P.NO_SESSION_KEY=-2,m9P.AdPosition={BUMPER:"BUMPER",PREROLL:"PREROLL",MIDROLL:"MIDROLL",POSTROLL:"POSTROLL"},m9P.AdStream={CONTENT:"CONTENT",SEPARATE:"SEPARATE"},m9P.AdPlayer={CONTENT:"CONTENT",SEPARATE:"SEPARATE"},m9P.ErrorSeverity={FATAL:0,WARNING:1},m9P.DeviceType={DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV",UNKNOWN:"Unknown"},m9P.AdTechnology={CLIENT_SIDE:"Client Side",SERVER_SIDE:"Server Side"},m9P.AdType={BLACKOUT_SLATE:"Blackout slate",TECHNICAL_DIFFICULTIES_SLATE:"Technical Difficulties slate",COMMERCIAL_SLATE:"Commercial Break slate",OTHER_SLATE:"Other slate",VPAID:"VPAID",REGULAR:"Regular Ad"},m9P.AdServingType={INLINE:"Inline",WRAPPER:"Wrapper"};var b9P=U9P.ClientSettings=function(r8P){function y8P(h3P){if(t9P.isValidString(h3P)){var X3P=h3P.split("://");if("cws.conviva.com"!=X3P[1]&&("https"==X3P[0]||"http"==X3P[0]))return h3P;}return"https://"+I8P.customerKey+"."+b9P.defaultProductionGatewayDNS;}var I8P=this;function E8P(u3P){if(!t9P.isValidString(u3P))throw new Error("customerKey must be valid");this.customerKey=u3P;}this._customerKey=null,t9P.defGet(this,"customerKey",function(){return this._customerKey;}),t9P.defSet(this,"customerKey",function(f3P){t9P.isValidString(f3P)&&(this._customerKey=f3P);}),this._heartbeatInterval=b9P.defaultProductionHeartbeatInterval,t9P.defGet(this,"heartbeatInterval",function(){return this._heartbeatInterval;}),t9P.defSet(this,"heartbeatInterval",function(D3P){if("number"==typeof D3P){var C3P=t9P.NumberToUnsignedInt(D3P);C3P===D3P&&(this._heartbeatInterval=C3P);}}),this._gatewayUrl=null,t9P.defGet(this,"gatewayUrl",function(){return this._gatewayUrl;}),t9P.defSet(this,"gatewayUrl",function(w3P){t9P.isValidString(w3P)&&(this._gatewayUrl=w3P);}),E8P.apply(this,arguments),this.equals=function(Y3P){return this.customerKey===Y3P.customerKey&&this.gatewayUrl===Y3P.gatewayUrl&&this.heartbeatInterval===Y3P.heartbeatInterval;},this.clone=function(){var c3P=new b9P(this.customerKey);return c3P.gatewayUrl=y8P(this.gatewayUrl),c3P.heartbeatInterval=this.heartbeatInterval,c3P;};};b9P.defaultDevelopmentGatewayUrl="https://conviva.testonly.conviva.com",b9P.defaultProductionGatewayUrl="https://cws.conviva.com",b9P.defaultProductionGatewayDNS="cws.conviva.com",b9P.defaultDevelopmentGatewayDNS="conviva.testonly.conviva.com",b9P._httpsProtocol="https://",b9P._httpProtocol="http://",b9P.defaultDevelopmentHeartbeatInterval=5,b9P.defaultProductionHeartbeatInterval=20;var g9P=U9P.ContentMetadata=function(){this._assetName=null,t9P.defGet(this,"assetName",a3P),t9P.defSet(this,"assetName",U3P),this._custom={},t9P.defGet(this,"custom",q3P),t9P.defSet(this,"custom",o3P),this._defaultBitrateKbps=-2,t9P.defGet(this,"defaultBitrateKbps",t3P),t9P.defSet(this,"defaultBitrateKbps",l3P),this._defaultResource=null,t9P.defGet(this,"defaultResource",G3P),t9P.defSet(this,"defaultResource",m3P),this._viewerId=null,t9P.defGet(this,"viewerId",K3P),t9P.defSet(this,"viewerId",N3P),this._applicationName=null,t9P.defGet(this,"applicationName",F3P),t9P.defSet(this,"applicationName",b3P),this._streamUrl=null,t9P.defGet(this,"streamUrl",g3P),t9P.defSet(this,"streamUrl",P3P),this._streamType=g9P.StreamType.UNKNOWN,t9P.defGet(this,"streamType",M3P),t9P.defSet(this,"streamType",L3P),this._duration=-1,t9P.defGet(this,"duration",x3P),t9P.defSet(this,"duration",O3P),this._encodedFrameRate=-1,t9P.defGet(this,"encodedFrameRate",H3P),t9P.defSet(this,"encodedFrameRate",T3P),R3P.apply(this,arguments),this.clone=function(){var n3P=new g9P();n3P.assetName=this.assetName,n3P.applicationName=this.applicationName,n3P.streamUrl=this.streamUrl,n3P.viewerId=this.viewerId,n3P.defaultBitrateKbps=this.defaultBitrateKbps,n3P.defaultResource=this.defaultResource,n3P.streamType=this.streamType,n3P.duration=this.duration,n3P.encodedFrameRate=this.encodedFrameRate;for(var s3P in this.custom)n3P.custom[s3P]=this.custom[s3P];return n3P;};function g3P(){return this._streamUrl;}function a3P(){return this._assetName;}function O3P(S3P){this._duration=a9P.sanitizeSpecialIntegerValue(S3P);}function F3P(){return this._applicationName;}function T3P(e3P){this._encodedFrameRate=a9P.sanitizeSpecialIntegerValue(e3P);}function G3P(){return this._defaultResource;}function K3P(){return this._viewerId;}function M3P(){return this._streamType;}function o3P(v3P){"object"==typeof v3P&&(this._custom=t9P.sanitizeStringToStringObject(v3P));}function U3P(d3P){"string"==typeof d3P&&(this._assetName=d3P);}function l3P(V3P){this._defaultBitrateKbps=a9P.sanitizeSpecialIntegerValue(V3P);}function N3P(Z3P){"string"==typeof Z3P&&(this._viewerId=Z3P);}function R3P(){}function H3P(){return this._encodedFrameRate;}function q3P(){return this._custom;}function b3P(B3P){"string"==typeof B3P&&(this._applicationName=B3P);}function x3P(){return this._duration;}function t3P(){return this._defaultBitrateKbps;}function L3P(z3P){(z3P===g9P.StreamType.UNKNOWN||z3P===g9P.StreamType.VOD||z3P===g9P.StreamType.LIVE)&&(this._streamType=z3P);}function m3P(p3P){"string"==typeof p3P&&(this._defaultResource=p3P);}function P3P(W3P){"string"==typeof W3P&&(this._streamUrl=W3P);}};g9P.StreamType={UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"};var I9P=(U9P.ErrorType={ERROR_UNKNOWN:"ERROR_UNKNOWN",ERROR_IO:"ERROR_IO",ERROR_TIMEOUT:"ERROR_TIMEOUT",ERROR_NULL_ASSET:"ERROR_NULL_ASSET",ERROR_MISSING_PARAMETER:"ERROR_MISSING_PARAMETER",ERROR_NO_AD_AVAILABLE:"ERROR_NO_AD_AVAILABLE",ERROR_PARSE:"ERROR_PARSE",ERROR_INVALID_VALUE:"ERROR_INVALID_VALUE",ERROR_INVALID_SLOT:"ERROR_INVALID_SLOT",ERROR_3P_COMPONENT:"ERROR_3P_COMPONENT",ERROR_UNSUPPORTED_3P_FEATURE:"ERROR_UNSUPPORTED_3P_FEATURE",ERROR_DEVICE_LIMIT:"ERROR_DEVICE_LIMIT",ERROR_UNMATCHED_SLOT_SIZE:"ERROR_UNMATCHED_SLOT_SIZE"},U9P.Events={AD_REQUESTED:"Conviva.AdRequested",AD_RESPONSE:"Conviva.AdResponse",AD_SLOT_STARTED:"Conviva.SlotStarted",AD_ATTEMPTED:"Conviva.AdAttempted",AD_SLOT_ENDED:"Conviva.SlotEnded",AD_IMPRESSION_START:"Conviva.AdImpression",AD_START:"Conviva.AdStart",AD_FIRST_QUARTILE:"Conviva.AdFirstQuartile",AD_MID_QUARTILE:"Conviva.AdMidQuartile",AD_THIRD_QUARTILE:"Conviva.AdThirdQuartile",AD_COMPLETE:"Conviva.AdComplete",AD_END:"Conviva.AdEnd",AD_IMPRESSION_END:"Conviva.AdImpressionEnd",AD_SKIPPED:"Conviva.AdSkipped",AD_ERROR:"Conviva.AdError",AD_PROGRESS:"Conviva.AdProgress",AD_CLOSE:"Conviva.AdClose",CONTENT_PAUSED:"Conviva.PauseContent",CONTENT_RESUMED:"Conviva.ResumeContent",POD_START:"Conviva.PodStart",POD_END:"Conviva.PodEnd"},U9P.SystemFactory=function(Q3P,k3P){var J3P=this;j3P.apply(this,arguments),this.configure=function(E3P,y3P){this._packageName=E3P,this._clientSettings=y3P;},this.release=function(){this._systemInterface.release(),this._systemInterface=null,this._packageName=null,this._settings=null,this._logBuffer=null;};function j3P(i3P,I3P){if(!(i3P instanceof p9P))throw new Error("systemInterface parameter should be an instance of SystemInterface.");this._systemInterface=i3P,this._timeInterface=this._systemInterface._timeInterface,this._timerInterface=this._systemInterface._timerInterface,this._httpInterface=this._systemInterface._httpInterface,this._storageInterface=this._systemInterface._storageInterface,this._metadataInterface=this._systemInterface._metadataInterface,this._loggingInterface=this._systemInterface._loggingInterface,I3P instanceof K9P?this._settings=I3P.clone():this._settings=new K9P();}var A3P={build:function(){return new O9P(J3P._loggingInterface,J3P._timeInterface,J3P.getSettings(),J3P._logBuffer,J3P._packageName);}};this.buildLogger=function(){return A3P.build();},this.buildSessionFactory=function(r3P,u5P,X5P){return new J9P(r3P,u5P,X5P,this);},this.buildPing=function(){return new L9P(this.buildLogger(),this.buildHttpClient(),this._clientSettings);},this.buildCallbackWithTimeout=function(){return new d9P(this.buildTimer());},this.buildCallbackWithTimeoutNoPing=function(){var h5P=null,f5P=new v9P(this.buildLogger(),h5P,this.getSettings()),D5P=new V9P(this.buildLogger(),this._timerInterface,f5P);return new d9P(D5P);},this.buildHttpClient=function(){return new Q9P(this.buildLogger(),this._httpInterface,this.buildCallbackWithTimeoutNoPing(),this.getSettings());},this.buildExceptionCatcher=function(){return new v9P(this.buildLogger(),this.buildPing(),this.getSettings());},this.buildTime=function(){return new E9P(this._timeInterface,this.buildLogger());},this.buildTimer=function(){return new V9P(this.buildLogger(),this._timerInterface,this.buildExceptionCatcher());},this.buildStorage=function(){return new x9P(this.buildLogger(),this._storageInterface,this.buildCallbackWithTimeout(),this.getSettings());},this.buildConfig=function(){return new N9P(this.buildLogger(),this.buildStorage(),this.buildJsonInterface());},this.buildSystemMetadata=function(){return new l9P(this.buildLogger(),this._metadataInterface,this.buildExceptionCatcher());},this.buildCwsProtocol=function(){return new o9P();},this.buildGatewayControl=function(C5P){return new e9P(C5P,this.buildLogger(),this.buildHttpClient(),this.buildJsonInterface());},this.buildCwsSession=function(c5P,w5P,F5P){var Y5P=this.buildGatewayControl(w5P);return new P9P(this.buildEventQueue(),c5P,w5P,this.buildLogger(),this.buildExceptionCatcher(),this.buildTimer(),Y5P,this.buildCwsProtocol(),this.buildTime(),this.getLogBuffer(),F5P);},this.buildSession=function(t5P,l5P,R5P,G5P,m5P,K5P){var U5P=this.buildExceptionCatcher(),q5P=this.buildLogger(),o5P=this.buildCwsSession(t5P,l5P,R5P);return new T9P(G5P,m5P,K5P,R5P,this.buildSystemMetadata(),o5P,U5P,q5P);},this.buildEventQueue=function(){return new z9P();},this.buildJsonInterface=function(){return new B9P();},this.getLogBuffer=function(){return this._logBuffer;},this.getSettings=function(){return this._settings;},this._logBuffer=new s9P();}),K9P=U9P.SystemSettings=function(){this._logLevel=K9P.defaultProductionLogLevel,t9P.defGet(this,"logLevel",function(){return this._logLevel;}),t9P.defSet(this,"logLevel",function(b5P){if("number"==typeof b5P){var a5P=t9P.NumberToUnsignedInt(b5P);a5P===b5P&&a5P>=K9P.LogLevel.DEBUG&&a5P<=K9P.LogLevel.ERROR&&(this._logLevel=a5P);}}),this._allowUncaughtExceptions=K9P.defaultProductionAllowUncaughtExceptions,t9P.defGet(this,"allowUncaughtExceptions",function(){return this._allowUncaughtExceptions;}),t9P.defSet(this,"allowUncaughtExceptions",function(g5P){t9P.isBoolean(g5P)&&(this._allowUncaughtExceptions=g5P);}),this._storageTimeout=K9P.defaultStorageTimeout,t9P.defGet(this,"storageTimeout",function(){return this._storageTimeout;}),t9P.defSet(this,"storageTimeout",function(P5P){if("number"==typeof P5P){var M5P=t9P.NumberToUnsignedInt(P5P);M5P===P5P&&(this._storageTimeout=M5P);}}),this._httpTimeout=K9P.defaultHttpTimeout,t9P.defGet(this,"httpTimeout",function(){return this._httpTimeout;}),t9P.defSet(this,"httpTimeout",function(L5P){if("number"==typeof L5P){var x5P=t9P.NumberToUnsignedInt(L5P);x5P===L5P&&(this._httpTimeout=x5P);}}),N5P.apply(this,arguments),this.equals=function(O5P){return this.logLevel===O5P.logLevel&&this.allowUncaughtExceptions===O5P.allowUncaughtExceptions&&this.storageTimeout===O5P.storageTimeout&&this.httpTimeout===O5P.httpTimeout;},this.clone=function(){var H5P=new K9P();return H5P.logLevel=this.logLevel,H5P.allowUncaughtExceptions=this.allowUncaughtExceptions,H5P.storageTimeout=this.storageTimeout,H5P.httpTimeout=this.httpTimeout,H5P;};function N5P(){}};K9P.LogLevel={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},K9P.defaultDevelopmentLogLevel=K9P.LogLevel.DEBUG,K9P.defaultProductionLogLevel=K9P.LogLevel.ERROR,K9P.defaultDevelopmentAllowUncaughtExceptions=!0,K9P.defaultProductionAllowUncaughtExceptions=!1,K9P.defaultStorageTimeout=10,K9P.defaultHttpTimeout=10;var G9P=U9P.PlayerStateManager=function(v5P){var T5P=this;T5P._monitorNotifier=null,T5P._bitrateKbps=-2,T5P._playerState=G9P.PlayerState.UNKNOWN,T5P._currentMetadata={},T5P._renderedFrameRate=-2,T5P._encodedFrameRate=-2,T5P._duration=-2,T5P._playerVersion=null,T5P._playerType=null,T5P._streamUrl=null,T5P._moduleName=null,T5P._moduleVersion=null,T5P._width=-1,T5P._height=-1,T5P._connectionType=null,T5P._linkEncryption=null,T5P._lastError=null,T5P._pendingErrors=[],T5P._released=!1,this.release=function(){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.release",function(){null!=T5P._monitorNotifier&&T5P._monitorNotifier.onRelease(),T5P.removeMonitoringNotifier(),T5P._systemFactory=null,T5P._logger=null,T5P._exceptionCatcher=null,T5P._released=!0;});},this.setPlayheadTime=function(p5P){},this.setBufferLength=function(Z5P){},this.setRenderedFrameRate=function(B5P){},this.getEncodedFrameRate=function(){return T5P._encodedFrameRate;},this.setEncodedFrameRate=function(W5P){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setEncodedFrameRate",function(){var z5P=a9P.sanitizeSpecialIntegerValue(W5P);z5P>=-1&&(T5P._encodedFrameRate=z5P,null!=T5P._monitorNotifier&&T5P._monitorNotifier.onEncodedFrameRateChange(T5P._encodedFrameRate));});},this.getDuration=function(){return T5P._duration;},this.setClientMeasureInterface=function(S5P){t9P.validateInterface(S5P,new U9P.ClientMeasureInterface(),"ClientMeasureInterface"),this._playerInterface=S5P;},this.getPHT=function(){return this._playerInterface&&"function"==typeof this._playerInterface.getPHT?this._playerInterface.getPHT():-1;},this.getBufferLength=function(){return this._playerInterface&&"function"==typeof this._playerInterface.getBufferLength?this._playerInterface.getBufferLength():-1;},this.getSignalStrength=function(){return this._playerInterface&&"function"==typeof this._playerInterface.getSignalStrength?this._playerInterface.getSignalStrength():G9P.DEFAULT_SIGNAL_STRENGTH;},this.getRenderedFrameRate=function(){return this._playerInterface&&"function"==typeof this._playerInterface.getRenderedFrameRate?this._playerInterface.getRenderedFrameRate():G9P.DEFAULT_RENDERED_FRAME_RATE;},this.setDuration=function(e5P){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setDuration",function(){var n5P=a9P.sanitizeSpecialIntegerValue(e5P);n5P>=-1&&(T5P._duration=n5P,null!=T5P._monitorNotifier&&T5P._monitorNotifier.onContentLengthChange(T5P._duration));});},this.getStreamUrl=function(){return T5P._streamUrl;},this.setStreamUrl=function(s5P){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setStreamUrl",function(){null!=s5P&&(T5P._streamUrl=s5P,null!=T5P._monitorNotifier&&T5P._monitorNotifier.onStreamUrlChange(T5P._streamUrl));});},this.getModuleName=function(){return T5P._moduleName;},this.getModuleVersion=function(){return T5P._moduleVersion;},this.setModuleNameAndVersion=function(J5P,A5P){T5P._moduleName=J5P,T5P._moduleVersion=A5P;},this.getPlayerType=function(){return T5P._playerType;},this.setPlayerType=function(j5P){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setPlayerType",function(){T5P._playerType=j5P,null!=T5P._monitorNotifier&&T5P._monitorNotifier.onPlayerTypeChange(T5P._playerType);});},this.getPlayerVersion=function(){return T5P._playerVersion;},this.setPlayerVersion=function(Q5P){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setPlayerVersion",function(){T5P._playerVersion=Q5P,null!=T5P._monitorNotifier&&T5P._monitorNotifier.onPlayerVersionChange(T5P._playerVersion);});},this.setMonitoringNotifier=function(k5P,i5P){return T5P._released?void 0:null!=T5P._monitorNotifier?!1:(T5P._monitorNotifier=k5P,T5P._logger.setSessionId(i5P),!0);},this.removeMonitoringNotifier=function(){T5P._released||(T5P._monitorNotifier=null,T5P._logger.setSessionId(null));},this.pushCurrentState=function(){T5P.setPlayerState(T5P.getPlayerState()),T5P.setBitrateKbps(T5P.getBitrateKbps()),T5P.setDuration(T5P.getDuration()),T5P.setEncodedFrameRate(T5P.getEncodedFrameRate()),T5P.setStreamUrl(T5P.getStreamUrl()),T5P.setPlayerType(T5P.getPlayerType()),T5P.setPlayerVersion(T5P.getPlayerVersion());for(var I5P=0;I5P<T5P._pendingErrors.length;I5P++){var E5P=T5P._pendingErrors[I5P];T5P.setError(E5P);}T5P._pendingErrors=[];},this.getPlayerState=function(){return T5P._playerState;},this.setPlayerState=function(y5P){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setPlayerState",function(){G9P.isValidPlayerState(y5P)?(T5P._playerState=y5P,null!=T5P._monitorNotifier&&T5P._monitorNotifier.onPlayerStateChange(T5P._playerState)):T5P._logger.error("PlayerStateManager.SetPlayerState(): invalid state: "+y5P);});},this.getBitrateKbps=function(){return T5P._bitrateKbps;},this.setBitrateKbps=function(r5P){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setBitrateKbps",function(){var u0V=a9P.sanitizeSpecialIntegerValue(r5P);u0V>=-1&&(T5P._bitrateKbps=u0V,null!=T5P._monitorNotifier&&T5P._monitorNotifier.onBitrateChange(T5P._bitrateKbps));});},this.setPlayerSeekStart=function(X0V){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setPlayerSeekStart()",function(){null!=T5P._monitorNotifier&&T5P._monitorNotifier.onSeekEvent(G9P.SEEK_ACTIONS_TYPE.SEEK_START,X0V);});},this.setPlayerSeekEnd=function(){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setPlayerSeekEnd()",function(){null!=T5P._monitorNotifier&&T5P._monitorNotifier.onSeekEvent(G9P.SEEK_ACTIONS_TYPE.SEEK_END,-1);});},this.setUserSeekButtonUp=function(){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setUserSeekButtonUp()",function(){null!=T5P._monitorNotifier&&T5P._monitorNotifier.onSeekEvent(G9P.SEEK_ACTIONS_TYPE.BUTTON_UP,-1);});},this.setUserSeekButtonDown=function(){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setUserSeekButtonDown()",function(){null!=T5P._monitorNotifier&&T5P._monitorNotifier.onSeekEvent(G9P.SEEK_ACTIONS_TYPE.BUTTON_DOWN,-1);});},this.setVideoResolutionWidth=function(h0V){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setVideoResolutionWidth()",function(){var f0V=a9P.sanitizeSpecialIntegerValue(h0V);f0V>=0&&(T5P._width=f0V),null!=T5P._monitorNotifier&&T5P._monitorNotifier.onStreamResolutionWidthChange(T5P._width);});},this.setVideoResolutionHeight=function(D0V){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setVideoResolutionHeight()",function(){var C0V=a9P.sanitizeSpecialIntegerValue(D0V);C0V>=0&&(T5P._height=C0V),null!=T5P._monitorNotifier&&T5P._monitorNotifier.onStreamResolutionHeightChange(T5P._height);});},this.setConnectionType=function(w0V){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setConnectionType()",function(){T5P._connectionType=w0V,null!=T5P._monitorNotifier&&T5P._monitorNotifier.onConnectionTypeChange(T5P._connectionType);});},this.setLinkEncryption=function(Y0V){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.setLinkEncryption()",function(){T5P._linkEncryption=Y0V,null!=T5P._monitorNotifier&&T5P._monitorNotifier.onLinkEncryptionChange(T5P._linkEncryption);});},this.setSignalStrength=function(c0V){},this.setError=function(F0V){if(T5P._lastError=F0V,null!=T5P._monitorNotifier){var R0V=F0V.errorCode,U0V=F0V.severity;T5P._monitorNotifier.onError(R0V,U0V);}else T5P._pendingErrors.push(F0V);},this.sendError=function(q0V,o0V){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.sendError",function(){var t0V=new q9P.StreamerError(q0V,o0V);T5P.setError(t0V);});},this.reset=function(){T5P._released||T5P._exceptionCatcher.runProtected("PlayerStateManager.reset",function(){T5P._bitrateKbps=-2,T5P._playerState=G9P.PlayerState.UNKNOWN,T5P._currentMetadata={},T5P._renderedFrameRate=-1,T5P._encodedFrameRate=-1,T5P._duration=-1,T5P._playerVersion=null,T5P._playerType=null,T5P._streamUrl=null,T5P._lastError=null,T5P._pendingErrors=[];});},this.getError=function(){return T5P._lastError;},d5P.apply(T5P,arguments),G9P.DEFAULT_SIGNAL_STRENGTH=1e3,G9P.DEFAULT_RENDERED_FRAME_RATE=-1;function d5P(V5P){T5P._systemFactory=V5P,T5P._logger=T5P._systemFactory.buildLogger(),T5P._logger.setModuleName("PlayerStateManager"),T5P._exceptionCatcher=T5P._systemFactory.buildExceptionCatcher();}};G9P.PlayerState={STOPPED:"STOPPED",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},G9P.isValidPlayerState=function(l0V){return l0V===G9P.PlayerState.STOPPED||l0V===G9P.PlayerState.PLAYING||l0V===G9P.PlayerState.BUFFERING||l0V===G9P.PlayerState.PAUSED||l0V===G9P.PlayerState.UNKNOWN||l0V===G9P.PlayerState.NOT_MONITORED?!0:!1;},G9P.SEEK_ACTIONS_TYPE={SEEK_START:"pss",SEEK_END:"pse",BUTTON_UP:"bu",BUTTON_DOWN:"bd"};var i9P=(U9P.ClientMeasureInterface=function(){this.getPHT=function(){},this.getBufferLength=function(){},this.getSignalStrength=function(){},this.getRenderedFrameRate=function(){};},U9P.HttpInterface=function(){this.makeRequest=function(G0V,m0V,K0V,N0V,a0V,b0V){},this.release=function(){};}),k9P=U9P.LoggingInterface=function(){this.consoleLog=function(g0V,P0V){},this.release=function(){};},j9P=U9P.MetadataInterface=function(){this.getBrowserName=function(){},this.getBrowserVersion=function(){},this.getDeviceBrand=function(){},this.getDeviceManufacturer=function(){},this.getDeviceModel=function(){},this.getDeviceType=function(){},this.getDeviceVersion=function(){},this.getFrameworkName=function(){},this.getFrameworkVersion=function(){},this.getOperatingSystemName=function(){},this.getOperatingSystemVersion=function(){},this.release=function(){};},A9P=U9P.StorageInterface=function(){this.saveData=function(M0V,L0V,x0V,O0V){},this.loadData=function(H0V,T0V,d0V){},this.release=function(){};},p9P=U9P.SystemInterface=function(V0V,p0V,Z0V,B0V,W0V,z0V){v0V.apply(this,arguments),this.release=function(){this._timeInterface.release(),this._timeInterface=null,this._timerInterface.release(),this._timerInterface=null,this._httpInterface.release(),this._httpInterface=null,this._storageInterface.release(),this._storageInterface=null,this._metadataInterface.release(),this._metadataInterface=null,this._loggingInterface.release(),this._loggingInterface=null;};function v0V(S0V,e0V,n0V,s0V,J0V,A0V){t9P.validateInterface(S0V,new n9P(),"TimeInterface"),t9P.validateInterface(e0V,new S9P(),"TimerInterface"),t9P.validateInterface(n0V,new i9P(),"HttpInterface"),t9P.validateInterface(s0V,new A9P(),"StorageInterface"),t9P.validateInterface(J0V,new j9P(),"MetadataInterface"),t9P.validateInterface(A0V,new k9P(),"LoggingInterface"),this._timeInterface=S0V,this._timerInterface=e0V,this._httpInterface=n0V,this._storageInterface=s0V,this._metadataInterface=J0V,this._loggingInterface=A0V;}},n9P=U9P.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){};},S9P=U9P.TimerInterface=function(){this.createTimer=function(j0V,Q0V,k0V){},this.release=function(){};},H9P=q9P.JSON2={};!function(){function X1V(D1V){return r0V.lastIndex=0,r0V.test(D1V)?'"'+D1V.replace(r0V,function(w1V){var C1V=h1V[w1V];return"string"==typeof C1V?C1V:"\\u"+("0000"+w1V.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+D1V+'"';}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+E0V(this.getUTCMonth()+1)+"-"+E0V(this.getUTCDate())+((7701,2614)==(7810,1215)?(0x220b,true):"T")+E0V(this.getUTCHours())+":"+E0V(this.getUTCMinutes())+":"+E0V(this.getUTCSeconds())+"Z":null;},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf();});var r0V,i0V,u1V,h1V,I0V;function E0V(f1V){return 10>f1V?"0"+f1V:f1V;}function y0V(t1V,l1V){var c1V,U1V,F1V,o1V,R1V,q1V=i0V,Y1V=l1V[t1V];switch(Y1V&&"object"==typeof Y1V&&"function"==typeof Y1V.toJSON&&(Y1V=Y1V.toJSON(t1V)),"function"==typeof I0V&&(Y1V=I0V.call(l1V,t1V,Y1V)),typeof Y1V){case"string":return X1V(Y1V);case"number":return isFinite(Y1V)?String(Y1V):"null";case"boolean":case"null":return String(Y1V);case"object":if(!Y1V)return"null";if(i0V+=u1V,R1V=[],Object.prototype.toString.apply(Y1V)===Object.prototype.toString.apply([])){for(o1V=Y1V.length,c1V=0;o1V>c1V;c1V+=1)R1V[c1V]=y0V(c1V,Y1V)||"null";return F1V=0===R1V.length?"[]":i0V?"[\n"+i0V+R1V.join(",\n"+i0V)+"\n"+q1V+"]":"["+R1V.join(",")+"]",i0V=q1V,F1V;}if(I0V&&"object"==typeof I0V)for(o1V=I0V.length,c1V=0;o1V>c1V;c1V+=1)"string"==typeof I0V[c1V]&&(U1V=I0V[c1V],F1V=y0V(U1V,Y1V),F1V&&R1V.push(X1V(U1V)+(i0V?": ":":")+F1V));else for(U1V in Y1V)Object.prototype.hasOwnProperty.call(Y1V,U1V)&&(F1V=y0V(U1V,Y1V),F1V&&R1V.push(X1V(U1V)+(i0V?": ":":")+F1V));return F1V=0===R1V.length?"{}":i0V?"{\n"+i0V+R1V.join(",\n"+i0V)+"\n"+q1V+"}":"{"+R1V.join(",")+"}",i0V=q1V,F1V;}}"function"!=typeof H9P.stringify&&(r0V=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h1V={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},H9P.stringify=function(N1V,G1V,m1V){var K1V;if(i0V="",u1V="","number"==typeof m1V)for(K1V=0;m1V>K1V;K1V+=1)u1V+=" ";else"string"==typeof m1V&&(u1V=m1V);if(I0V=G1V,G1V&&"function"!=typeof G1V&&("object"!=typeof G1V||"number"!=typeof G1V.length))throw new Error("JSON2.stringify");return y0V("",{"":N1V});});}();var W9P=q9P.JsonParse=function(){var L1V,a1V,x1V,M1V,O1V={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},P1V=function(p1V){throw{name:"SyntaxError",message:p1V,at:L1V,text:x1V};},b1V=function(Z1V){return Z1V&&Z1V!==a1V&&P1V("Expected '"+Z1V+"' instead of '"+a1V+"'"),a1V=x1V.charAt(L1V),L1V+=1,a1V;},H1V=function(){var W1V,B1V="";for("-"===a1V&&(B1V="-",b1V("-"));a1V>="0"&&"9">=a1V;)B1V+=a1V,b1V();if("."===a1V)for(B1V+=".";b1V()&&a1V>="0"&&"9">=a1V;)B1V+=a1V;if("e"===a1V||"E"===a1V)for(B1V+=a1V,b1V(),(((497.13,707.44)==3700?(9.10e+1,0x20a6):"-")===a1V||"+"===a1V)&&(B1V+=a1V,b1V());a1V>="0"&&"9">=a1V;)B1V+=a1V,b1V();return W1V=+B1V,isNaN(W1V)?void P1V("Bad number"):W1V;},T1V=function(){var e1V,n1V,S1V,z1V="";if('"'===a1V)for(;b1V();){if('"'===a1V)return b1V(),z1V;if("\\"===a1V)if(b1V(),((1734,113.31)<(321.64,5501)?"u":(false,4.27e+3))===a1V){for(S1V=0,n1V=0;4>n1V&&(e1V=parseInt(b1V(),16),isFinite(e1V));n1V+=1)S1V=16*S1V+e1V;z1V+=String.fromCharCode(S1V);}else{if("string"!=typeof O1V[a1V])break;z1V+=O1V[a1V];}else z1V+=a1V;}P1V("Bad string");},g1V=function(){for(;a1V&&" ">=a1V;)b1V();},v1V=function(){switch(a1V){case"t":return b1V("t"),b1V("r"),b1V("u"),b1V("e"),!0;case"f":return b1V("f"),b1V("a"),b1V("l"),b1V("s"),b1V("e"),!1;case"n":return b1V("n"),b1V("u"),b1V("l"),b1V("l"),null;}P1V("Unexpected '"+a1V+"'");},V1V=function(){var s1V=[];if("["===a1V){if(b1V((5453,4670)>=(6964,8105)?9.64e+3:"["),g1V(),"]"===a1V)return b1V("]"),s1V;for(;a1V;){if(s1V.push(M1V()),g1V(),"]"===a1V)return b1V("]"),s1V;b1V(","),g1V();}}P1V("Bad array");},d1V=function(){var A1V,J1V={};if("{"===a1V){if(b1V("{"),g1V(),"}"===a1V)return b1V("}"),J1V;for(;a1V;){if(A1V=T1V(),g1V(),b1V(":"),Object.hasOwnProperty.call(J1V,A1V)&&P1V('Duplicate key "'+A1V+'"'),J1V[A1V]=M1V(),g1V(),"}"===a1V)return b1V("}"),J1V;b1V(","),g1V();}}P1V("Bad object");};return M1V=function(){switch(g1V(),a1V){case"{":return d1V();case"[":return V1V();case'"':return T1V();case"-":return H1V();default:return a1V>="0"&&"9">=a1V?H1V():v1V();}},function(k1V,Q1V){var j1V;return x1V=k1V,L1V=0,a1V=" ",j1V=M1V(),g1V(),a1V&&P1V("Syntax error"),"function"==typeof Q1V?function i1V(r1V,u4V){var E1V,y1V,I1V=r1V[u4V];if(I1V&&"object"==typeof I1V)for(E1V in I1V)Object.hasOwnProperty.call(I1V,E1V)&&(y1V=i1V(I1V,E1V),void 0!==y1V?I1V[E1V]=y1V:delete I1V[E1V]);return Q1V.call(r1V,u4V,I1V);}({"":j1V},""):j1V;};}(),o9P=q9P.CwsProtocol=function(){this.generateEvent=function(h4V,f4V,D4V,X4V){return X4V.seq=h4V,X4V.st=f4V,X4V.t=D4V,X4V;},this.generateSessionEndEvent=function(Y4V,c4V){var C4V=o9P.EVENT_TYPE_SESSION_END,w4V={};return this.generateEvent(Y4V,c4V,C4V,w4V);};};o9P.version="2.4",o9P.gatewayPath="/0/wsg",o9P.DEFAULT_CLIENT_ID="0",o9P.DEFAULT_MAX_HEARTBEAT_INFOS=0,o9P.DEFAULT_PLAYHEAD_TIME=-1,o9P.DEFAULT_BUFFER_LENGTH=-1,o9P.DEFAULT_SIGNAL_STRENGTH=1e3,o9P.SDK_METADATA_SCHEMA="sdk.js.1",o9P.EVENT_TYPE_STATE_CHANGE="CwsStateChangeEvent",o9P.EVENT_TYPE_ERROR="CwsErrorEvent",o9P.EVENT_TYPE_SESSION_END="CwsSessionEndEvent",o9P.EVENT_TYPE_CUSTOM="CwsCustomEvent",o9P.EVENT_TYPE_SEEK="CwsSeekEvent",o9P.EVENT_TYPE_DATA_SAMPLE="CwsDataSamplesEvent",o9P.RESPONSE_STATUS_NO_ERRORS="ok",o9P.RESPONSE_KEY_STATUS="err",o9P.RESPONSE_KEY_CLIENT_ID="clid",o9P.RESPONSE_KEY_CONFIG="cfg",o9P.RESPONSE_KEY_EVENTS="evs",o9P.RESPONSE_CONFIG_KEY_MAX_HEARTBEAT_INFOS="maxhbinfos",o9P.RESPONSE_CONFIG_KEY_SEND_LOGS="slg",o9P.RESPONSE_CONFIG_KEY_HEARTBEAT_INTERVAL="hbi",o9P.RESPONSE_CONFIG_KEY_GATEWAY_URL="gw",o9P.MESSAGE_TYPE_SESSION_HEARTBEAT="CwsSessionHb",o9P.REQUEST_KEY_MESSAGE_TYPE="t",o9P.REQUEST_KEY_SESSION_TIME="st",o9P.REQUEST_KEY_SESSION_START_TIME="sst",o9P.REQUEST_KEY_IS_LIVE="lv",o9P.REQUEST_KEY_SEQUENCE_NUMBER="seq",o9P.REQUEST_KEY_CUSTOMER_KEY="cid",o9P.REQUEST_KEY_CLIENT_ID="clid",o9P.REQUEST_KEY_CLIENT_VERSION="clv",o9P.REQUEST_KEY_PROTOCOL_VERSION="pver",o9P.REQUEST_KEY_INSTANCE_ID="iid",o9P.REQUEST_KEY_SESSION_ID="sid",o9P.REQUEST_KEY_VIEWER_ID="vid",o9P.REQUEST_KEY_ASSET_NAME="an",o9P.REQUEST_KEY_PLAYER_NAME="pn",o9P.REQUEST_KEY_TAGS="tags",o9P.REQUEST_KEY_SESSION_FLAGS="sf",o9P.REQUEST_KEY_EVENTS="evs",o9P.REQUEST_KEY_LOGS="lg",o9P.REQUEST_KEY_HEARTBEAT_INFOS="hbinfos",o9P.REQUEST_KEY_IS_SDK_CLIENT="sdk",o9P.REQUEST_KEY_PAUSE_JOIN="pj",o9P.REQUEST_KEY_PLAYER_STATE="ps",o9P.REQUEST_KEY_BITRATE="br",o9P.REQUEST_KEY_CONTENT_LENGTH="cl",o9P.REQUEST_KEY_ENCODED_FRAME_RATE="efps",o9P.REQUEST_KEY_AVERAGE_FRAME_RATE="afps",o9P.REQUEST_KEY_RFPS_TOTAL="rfpstot",o9P.REQUEST_KEY_RFPS_COUNT="rfpscnt",o9P.REQUEST_KEY_RESOURCE="rs",o9P.REQUEST_KEY_PLAYHEAD_TIME="pht",o9P.REQUEST_KEY_BUFFER_LENGTH="bl",o9P.REQUEST_KEY_STREAM_URL="url",o9P.REQUEST_KEY_CAPABILITIES="caps",o9P.REQUEST_KEY_PLATFORM_METADATA="pm",o9P.REQUEST_KEY_VIDEO_WIDTH="w",o9P.REQUEST_KEY_VIDEO_HEIGHT="h",o9P.REQUEST_KEY_CONNECTION_TYPE="ct",o9P.REQUEST_KEY_LINK_ENCRYPTION="le",o9P.REQUEST_KEY_SIGNAL_STRENGTH="ss",o9P.REQUEST_KEY_STREAM_METADATA_CHANGE="strmetadata",o9P.REQUEST_PLATFORM_METADATA_KEY_SCHEMA="sch",o9P.REQUEST_PLATFORM_METADATA_KEY_BROWSER_NAME="br",o9P.REQUEST_PLATFORM_METADATA_KEY_BROWSER_VERSION="brv",o9P.REQUEST_PLATFORM_METADATA_KEY_DEVICE_BRAND="dvb",o9P.REQUEST_PLATFORM_METADATA_KEY_DEVICE_MANUFACTURER="dvma",o9P.REQUEST_PLATFORM_METADATA_KEY_DEVICE_MODEL="dvm",o9P.REQUEST_PLATFORM_METADATA_KEY_DEVICE_TYPE="dvt",o9P.REQUEST_PLATFORM_METADATA_KEY_DEVICE_VERSION="dvv",o9P.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_NAME="fw",o9P.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_VERSION="fwv",o9P.REQUEST_PLATFORM_METADATA_KEY_CLIENT_CONFIGURATION="cc",o9P.REQUEST_PLATFORM_METADATA_KEY_MODULE_NAME="mn",o9P.REQUEST_PLATFORM_METADATA_KEY_MODULE_VERSION="mv",o9P.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_NAME="pt",o9P.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_VERSION="ptv",o9P.REQUEST_KEY_PROTOCOL_CAPP="caps",o9P.REQUEST_EVENT_KEY_TYPE="t",o9P.REQUEST_EVENT_KEY_SEQUENCE_NUMBER="seq",o9P.REQUEST_EVENT_KEY_SESSION_TIME="st",o9P.REQUEST_EVENT_KEY_SEEK_ACT_TYPE="act",o9P.REQUEST_EVENT_KEY_SEEK_TO_POS="skto",o9P.REQUEST_ERROR_EVENT_KEY_MESSAGE="err",o9P.REQUEST_ERROR_EVENT_KEY_FATAL="ft",o9P.REQUEST_STATE_CHANGE_EVENT_KEY_NEW="new",o9P.REQUEST_STATE_CHANGE_EVENT_KEY_OLD="old",o9P.REQUEST_CUSTOM_EVENT_KEY_NAME="name",o9P.REQUEST_CUSTOM_EVENT_KEY_ATTRIBUTES="attr",o9P.REQUEST_HEARTBEAT_INFO_KEY_SEQUENCE_NUMBER="seq",o9P.REQUEST_HEARTBEAT_INFO_KEY_STATUS="err",o9P.REQUEST_HEARTBEAT_INFO_KEY_ROUNDTRIP_TIME="rtt",o9P.REQUEST_KEY_IS_AD_SESSION="ad",o9P.convertPlayerState=function(F4V){switch(F4V){case G9P.PlayerState.STOPPED:return o9P.eStopped;case G9P.PlayerState.PLAYING:return o9P.ePlaying;case G9P.PlayerState.BUFFERING:return o9P.eBuffering;case G9P.PlayerState.PAUSED:return o9P.ePaused;case G9P.PlayerState.NOT_MONITORED:return o9P.eNotMonitored;default:return o9P.eUnknown;}},o9P.eStopped=1,o9P.ePlaying=3,o9P.eBuffering=6,o9P.ePaused=12,o9P.eNotMonitored=98,o9P.eUnknown=100,o9P.SessionFlags={GLOBAL:0,VIDEO:1,QUALITY_METRICS:2,BITRATE_METRICS:4},o9P.Capabilities={INSIGHTS:0};var B9P=(q9P.JSONInterface=function(){this.encode=function(R4V){},this.decode=function(U4V){};},q9P.LibJSONInterface=function(){this.encode=function(o4V){var q4V=null;try{q4V=H9P.stringify(o4V);}catch(t4V){}return q4V;},this.decode=function(G4V){var l4V=null;try{l4V=W9P(G4V);}catch(m4V){}return t9P.isObject(l4V)||(l4V=null),l4V;};}),Z9P=q9P.CwsHeartbeat=function(){this._data={},K4V.apply(this,arguments),this.get=function(){return this._data;},this.setField=function(N4V,a4V){this._data[N4V]=a4V;},this.setInnerField=function(b4V,g4V,P4V){this._data[b4V]||(this._data[b4V]={}),this._data[b4V][g4V]=P4V;},this.setMessageType=function(M4V){this.setField(o9P.REQUEST_KEY_MESSAGE_TYPE,M4V);},this.setSessionTime=function(L4V){this.setField(o9P.REQUEST_KEY_SESSION_TIME,L4V);},this.setSessionStartTime=function(x4V){this.setField(o9P.REQUEST_KEY_SESSION_START_TIME,x4V);},this.setIsLive=function(O4V){this.setField(o9P.REQUEST_KEY_IS_LIVE,O4V);},this.setSequenceNumber=function(H4V){this.setField(o9P.REQUEST_KEY_SEQUENCE_NUMBER,H4V);},this.setCustomerKey=function(T4V){this.setField(o9P.REQUEST_KEY_CUSTOMER_KEY,T4V);},this.setClientId=function(d4V){this.setField(o9P.REQUEST_KEY_CLIENT_ID,d4V);},this.setClientVersion=function(v4V){this.setField(o9P.REQUEST_KEY_CLIENT_VERSION,v4V);},this.setProtocolVersion=function(V4V){this.setField(o9P.REQUEST_KEY_PROTOCOL_VERSION,V4V);},this.setCapfield=function(p4V){this.setField(o9P.REQUEST_KEY_PROTOCOL_CAPP,p4V);},this.setSessionId=function(Z4V){this.setField(o9P.REQUEST_KEY_SESSION_ID,Z4V);},this.setInstanceId=function(B4V){this.setField(o9P.REQUEST_KEY_INSTANCE_ID,B4V);},this.setViewerId=function(W4V){this.setField(o9P.REQUEST_KEY_VIEWER_ID,W4V);},this.setAssetName=function(z4V){this.setField(o9P.REQUEST_KEY_ASSET_NAME,z4V);},this.setPlayerName=function(S4V){this.setField(o9P.REQUEST_KEY_PLAYER_NAME,S4V);},this.setTags=function(e4V){this.setField(o9P.REQUEST_KEY_TAGS,e4V);},this.setSessionFlags=function(n4V){this.setField(o9P.REQUEST_KEY_SESSION_FLAGS,n4V);},this.setCapabilities=function(s4V){this.setField(o9P.REQUEST_KEY_CAPABILITIES,s4V);},this.setEvents=function(J4V){this.setField(o9P.REQUEST_KEY_EVENTS,J4V);},this.setIsSdkClient=function(A4V){this.setField(o9P.REQUEST_KEY_IS_SDK_CLIENT,A4V);},this.setLogs=function(j4V){this.setField(o9P.REQUEST_KEY_LOGS,j4V);},this.setHeartbeatInfos=function(Q4V){this.setField(o9P.REQUEST_KEY_HEARTBEAT_INFOS,Q4V);},this.setPlayerState=function(k4V){this.setField(o9P.REQUEST_KEY_PLAYER_STATE,k4V);},this.setPauseJoin=function(i4V){this.setField(o9P.REQUEST_KEY_PAUSE_JOIN,i4V);},this.setContentLength=function(I4V){this.setField(o9P.REQUEST_KEY_CONTENT_LENGTH,I4V);},this.setBitrate=function(E4V){this.setField(o9P.REQUEST_KEY_BITRATE,E4V);},this.setResource=function(y4V){this.setField(o9P.REQUEST_KEY_RESOURCE,y4V);},this.setEncodedFrameRate=function(r4V){this.setField(o9P.REQUEST_KEY_ENCODED_FRAME_RATE,r4V);},this.setAverageFrameRate=function(u6V){this.setField(o9P.REQUEST_KEY_AVERAGE_FRAME_RATE,u6V);},this.setRfpsObservationCount=function(X6V){this.setField(o9P.REQUEST_KEY_RFPS_COUNT,X6V);},this.setRfpsTotal=function(h6V){this.setField(o9P.REQUEST_KEY_RFPS_TOTAL,h6V);},this.setPlatformMetadataSchema=function(f6V){this.setInnerField(o9P.REQUEST_KEY_PLATFORM_METADATA,o9P.REQUEST_PLATFORM_METADATA_KEY_SCHEMA,f6V);},this.setBrowserName=function(D6V){this.setInnerField(o9P.REQUEST_KEY_PLATFORM_METADATA,o9P.REQUEST_PLATFORM_METADATA_KEY_BROWSER_NAME,D6V);},this.setBrowserVersion=function(C6V){this.setInnerField(o9P.REQUEST_KEY_PLATFORM_METADATA,o9P.REQUEST_PLATFORM_METADATA_KEY_BROWSER_VERSION,C6V);},this.setDeviceBrand=function(w6V){this.setInnerField(o9P.REQUEST_KEY_PLATFORM_METADATA,o9P.REQUEST_PLATFORM_METADATA_KEY_DEVICE_BRAND,w6V);},this.setDeviceManufacturer=function(Y6V){this.setInnerField(o9P.REQUEST_KEY_PLATFORM_METADATA,o9P.REQUEST_PLATFORM_METADATA_KEY_DEVICE_MANUFACTURER,Y6V);},this.setDeviceModel=function(c6V){this.setInnerField(o9P.REQUEST_KEY_PLATFORM_METADATA,o9P.REQUEST_PLATFORM_METADATA_KEY_DEVICE_MODEL,c6V);},this.setDeviceType=function(F6V){this.setInnerField(o9P.REQUEST_KEY_PLATFORM_METADATA,o9P.REQUEST_PLATFORM_METADATA_KEY_DEVICE_TYPE,F6V);},this.setDeviceVersion=function(R6V){this.setInnerField(o9P.REQUEST_KEY_PLATFORM_METADATA,o9P.REQUEST_PLATFORM_METADATA_KEY_DEVICE_VERSION,R6V);},this.setFrameworkName=function(U6V){this.setInnerField(o9P.REQUEST_KEY_PLATFORM_METADATA,o9P.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_NAME,U6V),this.setField(o9P.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_NAME,U6V);},this.setFrameworkVersion=function(q6V){this.setInnerField(o9P.REQUEST_KEY_PLATFORM_METADATA,o9P.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_VERSION,q6V),this.setField(o9P.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_VERSION,q6V);},this.setOperatingSystemName=function(o6V){this.setInnerField(o9P.REQUEST_KEY_PLATFORM_METADATA,o9P.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_NAME,o6V),this.setField(o9P.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_NAME,o6V);},this.setOperatingSystemVersion=function(t6V){this.setInnerField(o9P.REQUEST_KEY_PLATFORM_METADATA,o9P.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_VERSION,t6V),this.setField(o9P.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_VERSION,t6V);},this.setPlayheadTime=function(l6V){this.setField(o9P.REQUEST_KEY_PLAYHEAD_TIME,l6V);},this.setBufferLength=function(G6V){this.setField(o9P.REQUEST_KEY_BUFFER_LENGTH,G6V);},this.setStreamUrl=function(m6V){this.setField(o9P.REQUEST_KEY_STREAM_URL,m6V);},this.setStreamWidth=function(K6V){this.setField(o9P.REQUEST_KEY_VIDEO_WIDTH,K6V);},this.setStreamHeight=function(N6V){this.setField(o9P.REQUEST_KEY_VIDEO_HEIGHT,N6V);},this.setConnectionType=function(a6V){this.setField(o9P.REQUEST_KEY_CONNECTION_TYPE,a6V);},this.setLinkEncryption=function(b6V){this.setField(o9P.REQUEST_KEY_LINK_ENCRYPTION,b6V);},this.setIsAdSession=function(){this.setField(o9P.REQUEST_KEY_IS_AD_SESSION,!0);},this.setSignalStrength=function(g6V){this.setField(o9P.REQUEST_KEY_SIGNAL_STRENGTH,g6V);},this.setModuleName=function(P6V){this.setInnerField(o9P.REQUEST_PLATFORM_METADATA_KEY_CLIENT_CONFIGURATION,o9P.REQUEST_PLATFORM_METADATA_KEY_MODULE_NAME,P6V);},this.setModuleVersion=function(M6V){this.setInnerField(o9P.REQUEST_PLATFORM_METADATA_KEY_CLIENT_CONFIGURATION,o9P.REQUEST_PLATFORM_METADATA_KEY_MODULE_VERSION,M6V);};function K4V(){}},P9P=q9P.CwsSession=function(V6V,O6V,H6V,T6V,d6V,v6V,z6V,p6V,Z6V,B6V,W6V){var L6V=this;L6V._heartbeatTimerCancel=null,L6V._startTimeMs=0,L6V._heartbeatSequenceNumber=0,L6V._sessionFlags=o9P.SessionFlags.GLOBAL,L6V._capabilities=o9P.Capabilities.INSIGHTS,L6V._heartbeatInfos=[],L6V._lastRequestSentMs=-1,L6V._bitrateKbps=-2,L6V._resource=null,L6V._playerState=G9P.PlayerState.NOT_MONITORED,L6V._encodedFrameRate=-1,L6V._contentLengthSec=-1,L6V._streamUrl=null,L6V._width=-1,L6V._height=-1,L6V._playerStateManager=null,L6V._assetName=null,L6V._viewerId=null,L6V._playerName=null,L6V._isLive=null,L6V._tags={},L6V._browserName=null,L6V._browserVersion=null,L6V._deviceBrand=null,L6V._deviceManufacturer=null,L6V._deviceModel=null,L6V._deviceType=null,L6V._deviceVersion=null,L6V._frameworkName=null,L6V._frameworkVersion=null,L6V._operatingSystemName=null,L6V._operatingSystemVersion=null,L6V._moduleName=null,L6V._moduleVersion=null,L6V._connectionType=null,L6V._linkEncryption=null,L6V._pauseJoin=!1,L6V._hasJoined=!1,L6V._cleanedUp=!1,L6V._willEndSoon=!1,L6V._rfpsTimerCancel=null,L6V._rfpsTimerInterval=1e3,L6V._playingFpsObservationCount=0,L6V._playingFpsTotal=0,x6V.apply(this,arguments),this.cleanup=function(){this._clientConfig=null,this._logBuffer=null,this._systemSettings=null,this._time=null,this._cwsProtocol=null,this._gatewayControl=null,this._timer=null,this._exceptionCatcher=null,this._logger=null,this._clientSettings=null,this._client=null,this._eventQueue.flush(),this._eventQueue=null,this._cleanedUp=!0;},this.start=function(E6V){this._session=E6V,this._global=this._session._global,this._logger.setSessionId(this._session._id),this._startTimeMs=this._time.current(),(this.isVideoSession()||this.isAdSession())&&(this._sessionFlags+=P9P.DEFAULT_VIDEO_SESSION_FLAGS);},this.willEndSoon=function(){this._willEndSoon=!0;},this.initialize=function(){this._logger.debug("initialize()");},this.end=function(){(this.isVideoSession()||this.isAdSession())&&(this._logger.debug("end(): schedule the last hb before session cleanup"+L6V.sessionTypeTag()),this.enqueueSessionEndEvent()),this.cancelHeartbeatTimer(),this.sendHeartbeat();},this.startSendingHeartbeats=function(){this._willEndSoon||(this.sendHeartbeat(),this.resetHeartbeatTimer());},this.setBrowserName=function(y6V){L6V._logger.debug("setBrowserName(): "+y6V);var r6V=L6V._browserName;r6V!==y6V&&null!=y6V&&(L6V._logger.debug("Change browserName from "+r6V+" to "+y6V),L6V._browserName=y6V);},this.setBrowserVersion=function(u2V){L6V._logger.debug("setBrowserVersion(): "+u2V);var X2V=L6V._browserVersion;X2V!==u2V&&null!=u2V&&(L6V._logger.debug("Change browserVersion from "+X2V+" to "+u2V),L6V._browserVersion=u2V);},this.setDeviceBrand=function(h2V){L6V._logger.debug("setDeviceBrand(): "+h2V);var f2V=L6V._deviceBrand;f2V!==h2V&&null!=h2V&&(L6V._logger.debug("Change deviceBrand from "+f2V+" to "+h2V),L6V._deviceBrand=h2V);},this.setDeviceManufacturer=function(D2V){L6V._logger.debug("setDeviceManufacturer(): "+D2V);var C2V=L6V._deviceManufacturer;C2V!==D2V&&null!=D2V&&(L6V._logger.debug("Change deviceManufacturer from "+C2V+" to "+D2V),L6V._deviceManufacturer=D2V);},this.setDeviceModel=function(w2V){L6V._logger.debug("setDeviceModel(): "+w2V);var Y2V=L6V._deviceModel;Y2V!==w2V&&null!=w2V&&(L6V._logger.debug("Change deviceModel from "+Y2V+" to "+w2V),L6V._deviceModel=w2V);},this.setDeviceType=function(c2V){L6V._logger.debug("setDeviceBrand(): "+c2V);var F2V=L6V._deviceType;F2V!==c2V&&null!=c2V&&(L6V._logger.debug("Change deviceType from "+F2V+" to "+c2V),L6V._deviceType=c2V);},this.setDeviceVersion=function(R2V){L6V._logger.debug("setDeviceVersion(): "+R2V);var U2V=L6V._deviceVersion;U2V!==R2V&&null!=R2V&&(L6V._logger.debug("Change deviceVersion from "+U2V+" to "+R2V),L6V._deviceVersion=R2V);},this.setOperatingSystemName=function(q2V){L6V._logger.debug("setOperatingSystemName(): "+q2V);var o2V=L6V._operatingSystemName;o2V!==q2V&&null!=q2V&&(L6V._logger.debug("Change operatingSystemName from "+o2V+" to "+q2V),L6V._operatingSystemName=q2V);},this.setOperatingSystemVersion=function(t2V){L6V._logger.debug("setOperatingSystemVersion(): "+t2V);var l2V=L6V._operatingSystemVersion;l2V!==t2V&&null!=t2V&&(L6V._logger.debug("Change operatingSystemVersion from "+l2V+" to "+t2V),L6V._operatingSystemVersion=t2V);},this.getFrameworkName=function(){return L6V._frameworkName;},this.setFrameworkName=function(G2V){L6V._logger.debug("setFrameworkName(): "+G2V);var m2V=L6V._frameworkName;m2V!==G2V&&null!=G2V&&(L6V._logger.debug("Change frameworkName from "+m2V+" to "+G2V),L6V._frameworkName=G2V);},this.getFrameworkVersion=function(){return L6V._frameworkVersion;},this.setFrameworkVersion=function(K2V){L6V._logger.debug("setFrameworkVersion(): "+K2V);var N2V=L6V._frameworkVersion;N2V!==K2V&&null!=K2V&&(L6V._logger.debug("Change frameworkVersion from "+N2V+" to "+K2V),L6V._frameworkVersion=K2V);},this.setStreamUrl=function(a2V){L6V._logger.debug("setStreamUrl(): "+a2V);var b2V=L6V._streamUrl;b2V!==a2V&&null!=a2V&&(L6V._logger.debug("Change stream url from "+b2V+" to "+a2V),L6V._streamUrl=a2V);},this.setBitrateKbps=function(g2V){L6V._logger.debug("setBitrateKbps(): "+g2V);var P2V=L6V._bitrateKbps;P2V!==g2V&&g2V>=-1&&(L6V._logger.info("Change bitrate from "+P2V+" to "+g2V),L6V.enqueueBitrateChangeEvent(P2V,g2V),L6V._bitrateKbps=g2V);},this.setResource=function(M2V){L6V._logger.debug("setResource(): "+M2V);var L2V=L6V._resource;L2V!==M2V&&null!=M2V&&(L6V._logger.info("Change resource from "+L2V+" to "+M2V),L6V._resource=M2V);},this.setAssetName=function(x2V){L6V._logger.debug("setAssetName(): "+x2V),L6V._assetName!==x2V&&null!=x2V&&(L6V._logger.info("Change assetName from "+L6V._assetName+" to "+x2V),L6V._assetName=x2V);},this.setIsLive=function(O2V){L6V._logger.debug("setIsLive(): "+O2V);var H2V=L6V._isLive;H2V!==O2V&&null!=O2V&&(L6V._logger.info("Change isLive from "+H2V+" to "+O2V),L6V._isLive=O2V);},this.setViewerId=function(T2V){L6V._logger.debug("setViewerId(): "+T2V);var d2V=L6V._viewerId;d2V!==T2V&&null!=T2V&&(L6V._logger.info("Change viewerId from "+d2V+" to "+T2V),L6V._viewerId=T2V);},this.setPlayerName=function(v2V){L6V._logger.debug("setPlayerName(): "+v2V);var V2V=L6V._playerName;V2V!==v2V&&null!=v2V&&(L6V._logger.info("Change playerName from "+V2V+" to "+v2V),L6V._playerName=v2V);},this.setTags=function(p2V){L6V._logger.debug("setTags()");var Z2V=L6V._tags;t9P.ObjectShallowEquals(Z2V,p2V)||null==p2V||(L6V._logger.info("Change tags from "+t9P.ObjectToString(Z2V)+" to "+t9P.ObjectToString(p2V)),L6V._tags=p2V);},this.setEncodedFrameRate=function(B2V){L6V._logger.debug("setEncodedFrameRate(): "+B2V),L6V._encodedFrameRate=B2V;},this.setContentLength=function(W2V){L6V._logger.debug("setContentLength(): "+W2V),L6V._contentLengthSec=W2V;},this.setPlayerState=function(z2V){L6V._logger.debug("setPlayerState(): "+z2V),L6V._hasJoined||z2V!=G9P.PlayerState.PLAYING||(L6V.togglePauseJoin(!1),L6V._hasJoined=!0);var S2V=L6V._playerState;L6V._logger.info("setPlayerState(): changing player state from "+S2V+" to "+z2V),L6V.enqueuePlayerStateChangeEvent(S2V,z2V),L6V._playerState=z2V;},this.setStreamResolutionWidth=function(e2V){L6V._logger.debug("setStreamResolutionWidth(): "+e2V);var n2V=L6V._width;n2V!==e2V&&e2V>-1&&(L6V._logger.debug("Change stream resolution width from "+n2V+" to "+e2V),L6V.enqueueResolutionWidthChangeEvent(n2V,e2V),L6V._width=e2V);},this.setStreamResolutionHeight=function(s2V){L6V._logger.debug("setStreamResolutionHeight(): "+s2V);var J2V=L6V._height;J2V!==s2V&&s2V>-1&&(L6V._logger.debug("Change stream resolution height from "+J2V+" to "+s2V),L6V.enqueueResolutionHeightChangeEvent(J2V,s2V),L6V._height=s2V);},this.setConnectionType=function(A2V){L6V._logger.debug("setConnectionType(): "+A2V);var j2V=L6V._connectionType;j2V!==A2V&&null!=A2V&&(L6V._logger.debug("Change network connection type from "+j2V+" to "+A2V),L6V.enqueueConnectionTypeChangeEvent(j2V,A2V),L6V._connectionType=A2V);},this.setLinkEncryption=function(Q2V){L6V._logger.debug("setLinkEncryption(): "+Q2V);var k2V=L6V._linkEncryption;k2V!==Q2V&&null!=Q2V&&(L6V._logger.debug("Change network link encryption from "+k2V+" to "+Q2V),L6V.enqueueLinkEncryptionChangeEvent(k2V,Q2V),L6V._linkEncryption=Q2V);},this.togglePauseJoin=function(E2V){if(L6V._logger.debug("togglePauseJoin()"),L6V._pauseJoin===E2V)return void L6V._logger.debug("togglePauseJoin(): same value, ignoring");var i2V=L6V._pauseJoin,I2V=!L6V._pauseJoin;L6V.enqueuePauseJoinChangeEvent(i2V,I2V),L6V._pauseJoin=!L6V._pauseJoin;},this.sendError=function(y2V,r2V){L6V.enqueueErrorEvent(y2V,r2V);},this.enqueueEvent=function(f7V,u7V){if(u7V[o9P.REQUEST_EVENT_KEY_TYPE]=f7V,u7V[o9P.REQUEST_EVENT_KEY_SESSION_TIME]=this.getSessionTime(),u7V[o9P.REQUEST_EVENT_KEY_SEQUENCE_NUMBER]=this._eventQueue.getNumber(),this._playerStateManager){var X7V=a9P.Integer(this._playerStateManager.getPHT(),0,null,-1),h7V=a9P.Integer(this._playerStateManager.getBufferLength(),0,null,-1);X7V>=0&&(u7V[o9P.REQUEST_KEY_PLAYHEAD_TIME]=X7V),h7V>=0&&(u7V[o9P.REQUEST_KEY_BUFFER_LENGTH]=h7V);}this._eventQueue.enqueue(u7V);},this.setPlayerStateManager=function(D7V){L6V._playerStateManager=D7V,null!=L6V._playerStateManager?L6V.startRfpsTimer():L6V.cancelRfpsTimer();},this.enqueueSessionEndEvent=function(){var C7V=this.getSessionTime(),w7V=this.getNextEventNumber(),Y7V=this._cwsProtocol.generateSessionEndEvent(w7V,C7V);this._eventQueue.enqueue(Y7V);},this.enqueueTagsChangeEvent=function(R7V,U7V){var c7V=null;t9P.dictCount(R7V)>0&&(c7V={},c7V[o9P.REQUEST_KEY_TAGS]=R7V);var F7V={};F7V[o9P.REQUEST_KEY_TAGS]=U7V,this.declareStateChange(F7V,c7V);},this.enqueueAssetNameChangeEvent=function(t7V,o7V){var q7V={};q7V[o9P.REQUEST_KEY_ASSET_NAME]=o7V,this.declareStateChange(q7V,null);},this.enqueueErrorEvent=function(G7V,m7V){var l7V={};l7V[o9P.REQUEST_ERROR_EVENT_KEY_MESSAGE]=G7V,l7V[o9P.REQUEST_ERROR_EVENT_KEY_FATAL]=m7V,this.enqueueEvent(o9P.EVENT_TYPE_ERROR,l7V);},this.enqueueBitrateChangeEvent=function(a7V,b7V){if(!(-1>=a7V)){var K7V={},N7V={};N7V[o9P.REQUEST_KEY_BITRATE]=a7V,K7V[o9P.REQUEST_KEY_BITRATE]=b7V,this.declareStateChange(K7V,N7V);}},this.enqueueSeekEvent=function(M7V,P7V){var g7V={};g7V[o9P.REQUEST_EVENT_KEY_SEEK_ACT_TYPE]=M7V,P7V>=0&&(g7V[o9P.REQUEST_EVENT_KEY_SEEK_TO_POS]=P7V),this.enqueueEvent(o9P.EVENT_TYPE_SEEK,g7V);},this.enqueueResourceChangeEvent=function(O7V,H7V){var L7V={},x7V={};null!==O7V&&(x7V[o9P.REQUEST_KEY_RESOURCE]=O7V),L7V[o9P.REQUEST_KEY_RESOURCE]=H7V,this.declareStateChange(L7V,x7V);},this.enqueueStreamUrlChangeEvent=function(v7V,V7V){var T7V={},d7V={};null!==v7V&&(d7V[o9P.REQUEST_KEY_STREAM_URL]=v7V),T7V[o9P.REQUEST_KEY_STREAM_URL]=V7V,this.declareStateChange(T7V,d7V);},this.enqueueResolutionWidthChangeEvent=function(B7V,W7V){var p7V={},Z7V={};-1!==B7V&&(Z7V[o9P.REQUEST_KEY_VIDEO_WIDTH]=B7V),p7V[o9P.REQUEST_KEY_VIDEO_WIDTH]=W7V,this.declareStateChange(p7V,Z7V);},this.enqueueResolutionHeightChangeEvent=function(e7V,n7V){var z7V={},S7V={};-1!==e7V&&(S7V[o9P.REQUEST_KEY_VIDEO_HEIGHT]=e7V),z7V[o9P.REQUEST_KEY_VIDEO_HEIGHT]=n7V,this.declareStateChange(z7V,S7V);},this.enqueueConnectionTypeChangeEvent=function(A7V,j7V){var s7V={},J7V={};null!==A7V&&(J7V[o9P.REQUEST_KEY_CONNECTION_TYPE]=A7V),s7V[o9P.REQUEST_KEY_CONNECTION_TYPE]=j7V,this.declareStateChange(s7V,J7V);},this.enqueueLinkEncryptionChangeEvent=function(i7V,I7V){var Q7V={},k7V={};null!==i7V&&(k7V[o9P.REQUEST_KEY_LINK_ENCRYPTION]=i7V),Q7V[o9P.REQUEST_KEY_LINK_ENCRYPTION]=I7V,this.declareStateChange(Q7V,k7V);},this.enqueuePauseJoinChangeEvent=function(r7V,u9V){var E7V={},y7V={};y7V[o9P.REQUEST_KEY_PAUSE_JOIN]=r7V,E7V[o9P.REQUEST_KEY_PAUSE_JOIN]=u9V,this.declareStateChange(E7V,y7V);},this.enqueuePlayerStateChangeEvent=function(f9V,D9V){var X9V={},h9V={};X9V[o9P.REQUEST_KEY_PLAYER_STATE]=o9P.convertPlayerState(D9V),h9V[o9P.REQUEST_KEY_PLAYER_STATE]=o9P.convertPlayerState(f9V),this.declareStateChange(X9V,h9V);},this.enqueueDataSamplesEvent=function(){var C9V={};this.enqueueEvent(o9P.EVENT_TYPE_DATA_SAMPLE,C9V);},this.declareStateChange=function(c9V,Y9V){var w9V={};w9V[o9P.REQUEST_STATE_CHANGE_EVENT_KEY_NEW]=c9V,null!=Y9V&&t9P.dictCount(Y9V)>0&&(w9V[o9P.REQUEST_STATE_CHANGE_EVENT_KEY_OLD]=Y9V),this.enqueueEvent(o9P.EVENT_TYPE_STATE_CHANGE,w9V);},this.enqueueCustomEvent=function(R9V,U9V){var F9V={};F9V[o9P.REQUEST_CUSTOM_EVENT_KEY_NAME]=R9V,F9V[o9P.REQUEST_CUSTOM_EVENT_KEY_ATTRIBUTES]=U9V,this.enqueueEvent(o9P.EVENT_TYPE_CUSTOM,F9V);},this.cancelHeartbeatTimer=function(){null!=L6V._heartbeatTimerCancel&&(L6V._heartbeatTimerCancel(),L6V._heartbeatTimerCancel=null);},this.resetHeartbeatTimer=function(){L6V.cancelHeartbeatTimer();var q9V=1e3*L6V._clientSettings.heartbeatInterval;L6V._heartbeatTimerCancel=L6V._timer.create(L6V.sendHeartbeat,q9V,"Session.sendHeartbeat");},this.cancelRfpsTimer=function(){null!=L6V._rfpsTimerCancel&&(L6V._rfpsTimerCancel(),L6V._rfpsTimerCancel=null);},this.startRfpsTimer=function(){L6V.cancelRfpsTimer(),L6V._rfpsTimerCancel=L6V._timer.create(L6V.countRfps,L6V._rfpsTimerInterval,"Session.startRfpsTimer");},this.createHeartbeatInfo=function(){var o9V={};o9V.err="pending",o9V.seq=L6V._heartbeatSequenceNumber-1,o9V.sentAt=L6V.getSessionTime(),o9V.rtt=-1,L6V._heartbeatInfos.push(o9V);},this.updateHeartbeatInfoOnFailure=function(m9V,K9V){for(var l9V=0;l9V<L6V._heartbeatInfos.length;l9V++){var t9V=L6V._heartbeatInfos[l9V],G9V=t9V.seq;G9V===m9V&&(t9V.rtt=L6V.getSessionTime()-t9V.sentAt,t9V.err=K9V);}},this.updateHeartbeatInfoOnSuccess=function(g9V){for(var a9V=0;a9V<L6V._heartbeatInfos.length;a9V++){var N9V=L6V._heartbeatInfos[a9V],b9V=N9V.seq;b9V===g9V&&(N9V.rtt=L6V.getSessionTime()-N9V.sentAt,N9V.err="ok");}},this.removeOutdatedHeartbeatInfos=function(){for(var x9V,L9V,T9V=L6V._clientConfig.get(N9P.CONFIG_KEY_MAX_HEARTBEAT_INFOS),O9V=[],M9V=0;M9V<L6V._heartbeatInfos.length;M9V++)L9V=L6V._heartbeatInfos[M9V],x9V=L9V.seq,x9V<L6V._heartbeatSequenceNumber-T9V&&O9V.push(M9V);for(var H9V=[],P9V=0;P9V<L6V._heartbeatInfos.length;P9V++)L9V=L6V._heartbeatInfos[P9V],x9V=L9V.seq,O9V.indexOf(P9V)<0&&H9V.push(L6V._heartbeatInfos[P9V]);L6V._heartbeatInfos=H9V;},this.compileHeartbeatInfos=function(){L6V.removeOutdatedHeartbeatInfos();for(var p9V=[],v9V=0;v9V<L6V._heartbeatInfos.length;v9V++){var V9V=L6V._heartbeatInfos[v9V],d9V={};d9V[o9P.REQUEST_HEARTBEAT_INFO_KEY_SEQUENCE_NUMBER]=V9V.seq,d9V[o9P.REQUEST_HEARTBEAT_INFO_KEY_ROUNDTRIP_TIME]=V9V.rtt,d9V[o9P.REQUEST_HEARTBEAT_INFO_KEY_STATUS]=V9V.err,p9V.push(d9V);}return p9V;},this.makeHeartbeat=function(){var B9V=L6V._eventQueue.flush();if(L6V.isGlobalSession()&&0===B9V.length)return null;var Z9V=new Z9P();if(Z9V.setMessageType(o9P.MESSAGE_TYPE_SESSION_HEARTBEAT),Z9V.setCustomerKey(L6V._clientSettings.customerKey),Z9V.setClientId(L6V._clientConfig.get(N9P.CONFIG_KEY_CLIENT_ID)),Z9V.setSessionId(L6V._session._id),Z9V.setSequenceNumber(L6V._heartbeatSequenceNumber),Z9V.setProtocolVersion(o9P.version),Z9V.setClientVersion(m9P.version),Z9V.setInstanceId(L6V._client.getId()),Z9V.setCapfield(0),null!=L6V._connectionType&&Z9V.setConnectionType(L6V._connectionType),null!=L6V._linkEncryption&&Z9V.setLinkEncryption(L6V._linkEncryption),Z9V.setPlatformMetadataSchema(o9P.SDK_METADATA_SCHEMA),null!=L6V._browserName&&Z9V.setBrowserName(L6V._browserName),null!=L6V._browserVersion&&Z9V.setBrowserVersion(L6V._browserVersion),null!=L6V._deviceBrand&&Z9V.setDeviceBrand(L6V._deviceBrand),null!=L6V._deviceManufacturer&&Z9V.setDeviceManufacturer(L6V._deviceManufacturer),null!=L6V._deviceModel&&Z9V.setDeviceModel(L6V._deviceModel),null!=L6V._deviceType&&Z9V.setDeviceType(L6V._deviceType),null!=L6V._deviceVersion&&Z9V.setDeviceVersion(L6V._deviceVersion),null!=L6V._frameworkName&&Z9V.setFrameworkName(L6V._frameworkName),null!=L6V._frameworkVersion&&Z9V.setFrameworkVersion(L6V._frameworkVersion),null!=L6V._operatingSystemName&&Z9V.setOperatingSystemName(L6V._operatingSystemName),null!=L6V._operatingSystemVersion&&Z9V.setOperatingSystemVersion(L6V._operatingSystemVersion),null!=L6V._playerStateManager&&(L6V._moduleName=L6V._playerStateManager.getModuleName(),null!=L6V._moduleName&&Z9V.setModuleName(L6V._moduleName)),null!=L6V._playerStateManager&&(L6V._moduleVersion=L6V._playerStateManager.getModuleVersion(),null!=L6V._moduleVersion&&Z9V.setModuleVersion(L6V._moduleVersion)),null!=L6V._viewerId&&Z9V.setViewerId(L6V._viewerId),t9P.dictCount(L6V._tags)>0&&Z9V.setTags(L6V._tags),L6V.isVideoSession()||L6V.isAdSession()){L6V.isAdSession()&&Z9V.setIsAdSession(),null!=L6V._assetName&&Z9V.setAssetName(L6V._assetName),Z9V.setSessionFlags(L6V._sessionFlags);var s9V=o9P.convertPlayerState(L6V._playerState);Z9V.setPlayerState(s9V),Z9V.setPauseJoin(L6V._pauseJoin),null!=L6V._playerName&&Z9V.setPlayerName(L6V._playerName),null!=L6V._isLive&&Z9V.setIsLive(L6V._isLive),L6V._contentLengthSec>0&&Z9V.setContentLength(L6V._contentLengthSec),L6V._bitrateKbps>0&&Z9V.setBitrate(L6V._bitrateKbps),null!==L6V._resource&&Z9V.setResource(L6V._resource),L6V._encodedFrameRate>0&&Z9V.setEncodedFrameRate(L6V._encodedFrameRate);var W9V,z9V,S9V;null!=L6V._playerStateManager&&(W9V=a9P.Integer(L6V._playerStateManager.getPHT(),0,null,-1),z9V=a9P.Integer(L6V._playerStateManager.getBufferLength(),0,null,-1),S9V=L6V._playerStateManager.getSignalStrength()),W9V>=0&&Z9V.setPlayheadTime(W9V),z9V>=0&&Z9V.setBufferLength(z9V);var e9V=L6V.updateAverageFrameRate();e9V>=0&&Z9V.setAverageFrameRate(e9V),L6V._playingFpsTotal>0&&Z9V.setRfpsTotal(a9P.Integer(L6V._playingFpsTotal,0,null,-1)),L6V._playingFpsObservationCount>0&&Z9V.setRfpsObservationCount(a9P.Integer(L6V._playingFpsObservationCount,0,null,-1)),0>=S9V&&Z9V.setSignalStrength(S9V),null!=L6V._streamUrl&&Z9V.setStreamUrl(L6V._streamUrl),L6V._width>0&&Z9V.setStreamWidth(L6V._width),L6V._height>0&&Z9V.setStreamHeight(L6V._height);}else Z9V.setSessionFlags(o9P.SessionFlags.GLOBAL);if(B9V.length>0&&Z9V.setEvents(B9V),Z9V.setCapabilities(L6V._capabilities),Z9V.setIsSdkClient(!0),L6V._clientConfig.get(N9P.CONFIG_KEY_SEND_LOGS)&&Z9V.setLogs(L6V._logBuffer.flush()),L6V._clientConfig.get(N9P.CONFIG_KEY_MAX_HEARTBEAT_INFOS)>0){var n9V=L6V.compileHeartbeatInfos();n9V.length>0&&Z9V.setHeartbeatInfos(n9V);}return Z9V.setSessionStartTime(L6V._startTimeMs),Z9V.setSessionTime(L6V.getSessionTime()),L6V._heartbeatSequenceNumber++,Z9V.get();},this.sendHeartbeat=function(){if(!L6V._cleanedUp){var J9V=L6V.makeHeartbeat();null!=J9V&&L6V.postHeartbeat(J9V);}},this.countRfps=function(){if(L6V._playerState===G9P.PlayerState.PLAYING){var A9V=L6V._playerStateManager.getRenderedFrameRate();A9V>=0&&(L6V._playingFpsTotal+=A9V,L6V._playingFpsObservationCount++);}},this.updateAverageFrameRate=function(){if(L6V._playerState===G9P.PlayerState.PLAYING){var j9V=L6V._playerStateManager.getRenderedFrameRate();if(j9V>=0){L6V._playingFpsTotal+=j9V,L6V._playingFpsObservationCount++;var Q9V=t9P.Int32.Cast(1*L6V._playingFpsTotal/L6V._playingFpsObservationCount);return Q9V;}return-1;}return-1;},this.postHeartbeat=function(I9V){L6V.createHeartbeatInfo();var k9V=L6V._heartbeatSequenceNumber-1;L6V._logger.info("postHeartbeat(): Send HB["+k9V+"]"+L6V.sessionTypeTag());var i9V=function(E9V,y9V){L6V.onHeartbeatResponse(E9V,y9V,k9V);};L6V._gatewayControl.send(I9V,i9V);},this.onHeartbeatResponse=function(X8V,u8V,r9V){L6V._cleanedUp||L6V._exceptionCatcher.runProtected("onHeartbeatResponse",function(){if(X8V){var w8V=u8V;if(null!=w8V){L6V._logger.debug("onHeartbeatResponse(): received valid response for HB["+r9V+"]"),L6V.updateHeartbeatInfoOnSuccess(r9V);var D8V=w8V[o9P.RESPONSE_KEY_CLIENT_ID];null!=D8V&&D8V!=L6V._clientConfig.get(N9P.CONFIG_KEY_CLIENT_ID)&&(L6V._logger.debug("onHeartbeatResponse(): setting the client id to "+D8V+" (from gateway)"),L6V._clientConfig.set(N9P.CONFIG_KEY_CLIENT_ID,D8V),L6V._clientConfig.save());var c8V=w8V[o9P.RESPONSE_KEY_STATUS];null!=c8V&&c8V!=o9P.RESPONSE_STATUS_NO_ERRORS&&L6V._logger.error("onHeartbeatResponse(): error from gateway: "+c8V);var f8V=w8V[o9P.RESPONSE_KEY_CONFIG];if("object"==typeof f8V){var C8V=f8V[o9P.RESPONSE_CONFIG_KEY_MAX_HEARTBEAT_INFOS];null!=C8V&&L6V._clientConfig.get(N9P.CONFIG_KEY_MAX_HEARTBEAT_INFOS)!==C8V&&(L6V._logger.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+C8V+" (from gateway)"),L6V._clientConfig.set(N9P.CONFIG_KEY_MAX_HEARTBEAT_INFOS,C8V));var U8V=f8V[o9P.RESPONSE_CONFIG_KEY_SEND_LOGS],F8V=null!=U8V?t9P.AsBoolean(U8V):!1;F8V!==L6V._clientConfig.get(N9P.CONFIG_KEY_SEND_LOGS)&&(L6V._logger.debug("onHeartbeatResponse(): turning "+(F8V?"on":"off")+" sending of logs"),L6V._clientConfig.set(N9P.CONFIG_KEY_SEND_LOGS,F8V));var q8V=f8V[o9P.RESPONSE_CONFIG_KEY_HEARTBEAT_INTERVAL];if(null!=q8V){var o8V=t9P.Int32.Cast(q8V),R8V=o8V;R8V!=L6V._clientSettings.heartbeatInterval&&(L6V._logger.debug("onHeartbeatResponse(): received hbIntervalMs from gateway: "+R8V),L6V._clientSettings.heartbeatInterval=R8V,null!=L6V._heartbeatTimerCancel&&L6V.resetHeartbeatTimer());}var Y8V=f8V[o9P.RESPONSE_CONFIG_KEY_GATEWAY_URL];null!=Y8V&&Y8V!=L6V._clientSettings.gatewayUrl&&(L6V._logger.debug("onHeartbeatResponse(): received gatewayUrl from gateway: "+Y8V),L6V._clientSettings.gatewayUrl=Y8V);}}else L6V._logger.warning("onHeartbeatResponse(): decoded heartbeat response is null.");}else{var h8V=u8V;t9P.isValidString(h8V)?t9P.stringStartsWith(h8V,"HTTP timeout")?L6V._logger.warning("onHeartbeatResponse(): "+h8V):L6V._logger.error("onHeartbeatResponse(): failed to send heartbeat: "+h8V):(h8V=T9P.DEFAULT_HEARTBEAT_ERROR_MESSAGE,L6V._logger.error("onHeartbeatResponse(): "+h8V)),L6V.updateHeartbeatInfoOnFailure(r9V,h8V);}});},this.getSessionTime=function(){var t8V=t9P.Int32.Cast(L6V._time.current()-L6V._startTimeMs);return t8V;},this.getNextEventNumber=function(){return this._eventQueue.getNumber();},this.sessionTypeTag=function(){return this.isGlobalSession()?" (global session)":"";},this.isGlobalSession=function(){return this._global==P9P.SESSION_TYPE.GLOBAL;},this.isVideoSession=function(){return this._global==P9P.SESSION_TYPE.VIDEO;},this.isAdSession=function(){return this._global==P9P.SESSION_TYPE.AD;};function x6V(j6V,n6V,s6V,J6V,A6V,S6V,Q6V,k6V,i6V,I6V,e6V){this._eventQueue=j6V,this._client=n6V,this._clientSettings=s6V,this._logger=J6V,this._logger.setModuleName("CwsSession"),this._exceptionCatcher=A6V,this._timer=S6V,this._gatewayControl=Q6V,this._cwsProtocol=k6V,this._time=i6V,this._logBuffer=I6V,this._clientConfig=e6V;}};P9P.DEFAULT_VIDEO_SESSION_FLAGS=o9P.SessionFlags.VIDEO+o9P.SessionFlags.QUALITY_METRICS+o9P.SessionFlags.BITRATE_METRICS,P9P.SESSION_TYPE={VIDEO:"Video",GLOBAL:"Global",AD:"Ad"};var T9P=(q9P.IMonitor=function(){this.onPlayerStateChange=function(l8V){},this.onBitrateChange=function(G8V){},this.onSeekEvent=function(m8V,K8V){},this.onEncodedFrameRateChange=function(N8V){},this.onRenderedFrameRateChange=function(a8V){},this.onContentLengthChange=function(b8V){},this.onPlayheadTimeChange=function(g8V){},this.onStreamUrlChange=function(P8V){},this.onBufferLengthChange=function(M8V){},this.onPlayerTypeChange=function(L8V){},this.onPlayerVersionChange=function(x8V){},this.onStreamResolutionWidthChange=function(O8V){},this.onStreamResolutionHeightChange=function(H8V){},this.onConnectionTypeChange=function(T8V){},this.onLinkEncryptionChange=function(d8V){},this.onSignalStrengthChange=function(v8V){},this.onError=function(V8V,p8V){},this.onRelease=function(){};},q9P.Session=function(){var Z8V=this;Z8V._contentMetadata=null,Z8V._playerStateManager=null,Z8V._id=0,Z8V._global=P9P.SESSION_TYPE.VIDEO,Z8V._cleaningUp=!1,Z8V._cleanedUp=!1,Z8V._adPlaying=!1,Z8V._adStream=null,Z8V._adPlayer=null,Z8V._adPosition=null,Z8V._ignorePlayerState=!1,Z8V._pooledPlayerState=G9P.PlayerState.NOT_MONITORED,Z8V._ignoreBitrateAndResource=!1,Z8V._ignorePlayheadTimeandBufferLength=!1,Z8V._ignoreEncodedFrameRateAndDuration=!1,Z8V._ignoreError=!1,B8V.apply(Z8V,arguments),this.start=function(){if(Z8V.isVideoSession()||Z8V.isAdSession()?Z8V._logger.info("start(): assetName="+Z8V._contentMetadata.assetName):Z8V._logger.info("start()"+Z8V.sessionTypeTag()),Z8V._cwsSession.start(this),Z8V._clientConfig.isReady())Z8V.initiateSession();else{var j8V=function(){Z8V.initiateSession();};Z8V._clientConfig.register(j8V);}},this.cleanup=function(){if(Z8V._logger.info("cleanup()"+Z8V.sessionTypeTag()),Z8V._cleaningUp=!0,Z8V._cwsSession.willEndSoon(),Z8V._clientConfig.isReady())Z8V.endCwsSessionAndCleanupAll();else{var Q8V=function(){Z8V.endCwsSessionAndCleanupAll();};Z8V._clientConfig.register(Q8V);}},this.cleanupAll=function(){Z8V._logger.debug("cleanupAll()"+Z8V.sessionTypeTag()),(Z8V.isVideoSession()||Z8V.isAdSession())&&null!=Z8V._playerStateManager&&Z8V.detachPlayer(),Z8V._contentMetadata=null,Z8V._logger.setSessionId(null),Z8V._logger=null,Z8V._exceptionCatcher=null,Z8V._client=null,Z8V._clientConfig=null,Z8V._systemMetadata=null,Z8V._cwsSession.cleanup(),Z8V._cwsSession=null,Z8V._cleanedUp=!0;},this.endCwsSessionAndCleanupAll=function(){Z8V._cwsSession.end(),Z8V.cleanupAll();},this.initiateSession=function(){Z8V._cwsSession.initialize(),Z8V.setStatesFromSystemMetadata(),(Z8V.isVideoSession()||Z8V.isAdSession())&&(Z8V.setStatesFromContentMetadata(),Z8V.enqueueEventForContentMetadata()),Z8V._cwsSession.startSendingHeartbeats();},this.enqueueEventForContentMetadata=function(){var k8V={};if(null!=Z8V._contentMetadata.assetName?k8V[o9P.REQUEST_KEY_ASSET_NAME]=Z8V._contentMetadata.assetName:Z8V._logger.warning("enqueueEventForContentMetadata(): assetName was not set."),null!=Z8V._contentMetadata.applicationName?("undefined"==typeof k8V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE]&&(k8V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE]={}),k8V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE][o9P.REQUEST_KEY_PLAYER_NAME]=Z8V._contentMetadata.applicationName):Z8V._logger.warning("enqueueEventForContentMetadata(): applicationName was not set."),null!=Z8V._contentMetadata.streamUrl?k8V[o9P.REQUEST_KEY_STREAM_URL]=Z8V._contentMetadata.streamUrl:Z8V._logger.warning("enqueueEventForContentMetadata(): streamUrl was not set."),null!=Z8V._contentMetadata.viewerId?("undefined"==typeof k8V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE]&&(k8V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE]={}),k8V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE][o9P.REQUEST_KEY_VIEWER_ID]=Z8V._contentMetadata.viewerId):Z8V._logger.warning("enqueueEventForContentMetadata(): viewerId was not set."),null!=Z8V._contentMetadata.defaultResource?k8V[o9P.REQUEST_KEY_RESOURCE]=Z8V._contentMetadata.defaultResource:Z8V._logger.warning("enqueueEventForContentMetadata(): defaultResource was not set."),Z8V._contentMetadata.duration>-1?k8V[o9P.REQUEST_KEY_CONTENT_LENGTH]=Z8V._cwsSession._contentLengthSec:Z8V._logger.warning("enqueueEventForContentMetadata(): duration was not set."),Z8V._contentMetadata.encodedFrameRate>-1?k8V[o9P.REQUEST_KEY_ENCODED_FRAME_RATE]=Z8V._contentMetadata.encodedFrameRate:Z8V._logger.warning("enqueueEventForContentMetadata(): encodedFrameRate was not set."),Z8V._contentMetadata.defaultBitrateKbps>0?k8V[o9P.REQUEST_KEY_BITRATE]=Z8V._contentMetadata.defaultBitrateKbps:Z8V._logger.warning("enqueueEventForContentMetadata(): encodedFrameRate was not set."),Z8V._contentMetadata.streamType!=g9P.StreamType.UNKNOWN?Z8V._contentMetadata.streamType==U9P.ContentMetadata.StreamType.LIVE?k8V[o9P.REQUEST_KEY_IS_LIVE]=!0:k8V[o9P.REQUEST_KEY_IS_LIVE]=!1:Z8V._logger.warning("enqueueEventForContentMetadata(): streamType was not set."),t9P.dictCount(Z8V._contentMetadata.custom)>0){k8V[o9P.REQUEST_KEY_TAGS]={};for(var i8V in Z8V._contentMetadata.custom)k8V[o9P.REQUEST_KEY_TAGS][i8V]=Z8V._contentMetadata.custom[i8V];}else Z8V._logger.warning("enqueueEventForContentMetadata(): custom tags were not set.");t9P.dictCount(k8V)>0&&Z8V._cwsSession.declareStateChange(k8V,null);},this.setStatesFromSystemMetadata=function(){Z8V._logger.debug("setStatesFromSystemMetadata()");var I8V=Z8V._systemMetadata.get(),y8V=I8V[l9P.BROWSER_NAME];null!=y8V&&Z8V._cwsSession.setBrowserName(y8V);var r8V=I8V[l9P.BROWSER_VERSION];null!=r8V&&Z8V._cwsSession.setBrowserVersion(r8V);var u3V=I8V[l9P.DEVICE_BRAND];null!=u3V&&Z8V._cwsSession.setDeviceBrand(u3V);var X3V=I8V[l9P.DEVICE_MANUFACTURER];null!=X3V&&Z8V._cwsSession.setDeviceManufacturer(X3V);var E8V=I8V[l9P.DEVICE_MODEL];null!=E8V&&Z8V._cwsSession.setDeviceModel(E8V);var f3V=I8V[l9P.DEVICE_TYPE];null!=f3V&&Z8V._cwsSession.setDeviceType(f3V);var D3V=I8V[l9P.DEVICE_VERSION];null!=D3V&&Z8V._cwsSession.setDeviceVersion(D3V);var C3V=I8V[l9P.FRAMEWORK_NAME];null!=C3V&&Z8V._cwsSession.setFrameworkName(C3V);var w3V=I8V[l9P.FRAMEWORK_VERSION];null!=w3V&&Z8V._cwsSession.setFrameworkVersion(w3V);var Y3V=I8V[l9P.OPERATING_SYSTEM_NAME];null!=Y3V&&Z8V._cwsSession.setOperatingSystemName(Y3V);var h3V=I8V[l9P.OPERATING_SYSTEM_VERSION];null!=h3V&&Z8V._cwsSession.setOperatingSystemVersion(h3V);},this.setStatesFromContentMetadata=function(){if(Z8V._logger.debug("setStatesFromContentMetadata()"),null!=Z8V._contentMetadata.defaultResource&&Z8V._cwsSession.setResource(Z8V._contentMetadata.defaultResource),null!=Z8V._contentMetadata.streamUrl&&Z8V._cwsSession.setStreamUrl(Z8V._contentMetadata.streamUrl),Z8V._contentMetadata.duration>0&&Z8V._cwsSession.setContentLength(Z8V._contentMetadata.duration),Z8V._contentMetadata.encodedFrameRate>0&&Z8V._cwsSession.setEncodedFrameRate(Z8V._contentMetadata.encodedFrameRate),Z8V._contentMetadata.streamType!==g9P.StreamType.UNKNOWN){var c3V=Z8V._contentMetadata.streamType===g9P.StreamType.LIVE;Z8V._cwsSession.setIsLive(c3V);}null!=Z8V._contentMetadata.assetName&&Z8V._cwsSession.setAssetName(Z8V._contentMetadata.assetName),null!=Z8V._contentMetadata.viewerId&&Z8V._cwsSession.setViewerId(Z8V._contentMetadata.viewerId),null!=Z8V._contentMetadata.applicationName&&Z8V._cwsSession.setPlayerName(Z8V._contentMetadata.applicationName),t9P.dictCount(Z8V._contentMetadata.custom)>0&&Z8V._cwsSession.setTags(Z8V._contentMetadata.custom);},this.onPlayerStateChange=function(F3V){return Z8V._logger.debug("onPlayerStateChange(): "+F3V),Z8V._cwsSession._playerState!=F3V?(Z8V._cwsSession._playerState==G9P.PlayerState.NOT_MONITORED&&F3V!=G9P.PlayerState.NOT_MONITORED&&(Z8V._pooledPlayerState=F3V),Z8V._ignorePlayerState?void Z8V._logger.debug("onPlayerStateChange(): "+F3V+" (pooled, "+(Z8V._adPlaying?"ad playing":"preloading")+")"):void Z8V._cwsSession.setPlayerState(F3V)):void 0;},this.onBitrateChange=function(R3V){return Z8V._logger.debug("onBitrateChange(): "+R3V),Z8V._ignoreBitrateAndResource?void Z8V._logger.info("onBitrateChange(): ignored"):void Z8V._cwsSession.setBitrateKbps(R3V);},this.onSeekEvent=function(q3V,U3V){null==U3V||t9P.isInteger(U3V)||(Z8V._logger.error("onSeekEvent(): Ignored non-integer seekToPosition data: "+U3V),U3V=-1),Z8V._cwsSession.enqueueSeekEvent(q3V,U3V);},this.onEncodedFrameRateChange=function(o3V){Z8V._logger.debug("onEncodedFrameRateChange(): "+o3V),Z8V._contentMetadata.encodedFrameRate>0||(o3V>0?Z8V._ignoreEncodedFrameRateAndDuration?Z8V._logger.info("onEncodedFrameRateChange(): Ignored encoded frame rate data: "+o3V+" (ads)"):(Z8V._cwsSession.setEncodedFrameRate(o3V),Z8V._logger.info("onEncodedFrameRateChange(): Received encoded frame rate data: "+o3V)):Z8V._logger.warning("onEncodedFrameRateChange(): Ignored invalid encoded frame rate data: "+o3V));},this.onContentLengthChange=function(t3V){Z8V._logger.debug("onContentLengthChange(): "+t3V),Z8V._contentMetadata.duration>0||(t3V>0?Z8V._ignoreEncodedFrameRateAndDuration?Z8V._logger.info("setContentLength(): Ignored content length data: "+t3V+" (ads)"):(Z8V._cwsSession.setContentLength(t3V),Z8V._logger.info("setContentLength(): Received content length data: "+t3V)):Z8V._logger.warning("setContentLength(): Ignored invalid content length data: "+t3V));},this.onStreamUrlChange=function(l3V){Z8V._logger.debug("onStreamUrlChange(): "+l3V),null==Z8V._contentMetadata.streamUrl&&Z8V._cwsSession.setStreamUrl(l3V);},this.onStreamResolutionWidthChange=function(G3V){Z8V._logger.debug("onStreamResolutionWidthChange(): "+G3V),Z8V._cwsSession.setStreamResolutionWidth(G3V);},this.onStreamResolutionHeightChange=function(m3V){Z8V._logger.debug("onStreamResolutionHeightChange(): "+m3V),Z8V._cwsSession.setStreamResolutionHeight(m3V);},this.onConnectionTypeChange=function(K3V){Z8V._logger.debug("onConnectionTypeChange(): "+K3V),Z8V._cwsSession.setConnectionType(K3V);},this.onLinkEncryptionChange=function(N3V){Z8V._logger.debug("onLinkEncryptionChange(): "+N3V),Z8V._cwsSession.setLinkEncryption(N3V);},this.onPlayerTypeChange=function(a3V){Z8V._logger.debug("onPlayerTypeChange(): "+a3V),null==Z8V._cwsSession.getFrameworkName()&&Z8V._cwsSession.setFrameworkName(a3V);},this.onPlayerVersionChange=function(b3V){Z8V._logger.debug("onPlayerVersionChange(): "+b3V),null==Z8V._cwsSession.getFrameworkVersion()&&Z8V._cwsSession.setFrameworkVersion(b3V);},this.onError=function(g3V,P3V){Z8V._logger.debug("onError(): "+g3V+" ("+P3V+")"),Z8V.reportError(g3V,P3V);},this.onRelease=function(){Z8V._logger.debug("onRelease()"),Z8V.detachPlayer();},this.adStart=function(M3V,L3V,x3V){return Z8V._logger.debug("adStart(): adStream="+M3V+" adPlayer="+L3V+" adPosition="+x3V),Z8V._adPlaying?void Z8V._logger.warning("adStart(): multiple adStart calls, ignoring"):(Z8V._adPlaying=!0,Z8V._adStream=M3V,Z8V._adPlayer=L3V,Z8V._adPosition=x3V,Z8V._cwsSession._hasJoined||Z8V._cwsSession.togglePauseJoin(!0),void(Z8V._adStream==U9P.Client.AdStream.CONTENT||Z8V._adPlayer==U9P.Client.AdPlayer.SEPARATE?(Z8V._cwsSession._playerState!==G9P.PlayerState.NOT_MONITORED&&(Z8V._pooledPlayerState=Z8V._cwsSession._playerState),Z8V._cwsSession.setPlayerState(G9P.PlayerState.NOT_MONITORED),Z8V._ignorePlayerState=!0):Z8V._adStream==U9P.Client.AdStream.SEPARATE&&Z8V._adPlayer==U9P.Client.AdPlayer.CONTENT&&(Z8V._cwsSession._playerState!==G9P.PlayerState.NOT_MONITORED&&(Z8V._pooledPlayerState=Z8V._cwsSession._playerState),Z8V._cwsSession.setPlayerState(G9P.PlayerState.NOT_MONITORED),Z8V._ignorePlayerState=!0,Z8V._ignoreBitrateAndResource=!0,Z8V._ignoreEncodedFrameRateAndDuration=!0,Z8V._ignorePlayheadTimeandBufferLength=!0,Z8V._ignoreError=!0)));},this.adEnd=function(){return Z8V._logger.debug("adEnd()"),Z8V._adPlaying?(Z8V._cwsSession._hasJoined||Z8V._cwsSession.togglePauseJoin(!1),Z8V._adStream==U9P.Client.AdStream.CONTENT||Z8V._adPlayer==U9P.Client.AdPlayer.SEPARATE?Z8V._preloading||(Z8V._ignorePlayerState=!1,Z8V._cwsSession.setPlayerState(Z8V._pooledPlayerState)):Z8V._adStream==U9P.Client.AdStream.SEPARATE&&Z8V._adPlayer==U9P.Client.AdPlayer.CONTENT&&(Z8V._ignoreBitrateAndResource=!1,Z8V._ignoreEncodedFrameRateAndDuration=!1,Z8V._ignorePlayheadTimeandBufferLength=!1,Z8V._ignoreError=!1,Z8V._preloading||(Z8V._ignorePlayerState=!1,Z8V._cwsSession.setPlayerState(Z8V._pooledPlayerState))),Z8V._adPlaying=!1,void(Z8V._adStream=Z8V._adPlayer=Z8V._adPosition=null)):void Z8V._logger.debug("adEnd(): called before adStart, ignoring");},this.detachPlayer=function(){Z8V._logger.debug("detachPlayer()"),null!==Z8V._playerStateManager&&(Z8V._exceptionCatcher.runProtected("Session.detachPlayer",function(){Z8V._playerStateManager.removeMonitoringNotifier();}),Z8V._playerStateManager=null,Z8V._cwsSession.setPlayerStateManager(null),Z8V._cwsSession.setPlayerState(G9P.PlayerState.NOT_MONITORED));},this.attachPlayer=function(O3V){return Z8V._logger.debug("attachPlayer()"),null!=Z8V._playerStateManager?void Z8V._logger.error("attachPlayer(): detach current PlayerStateManager first"):void Z8V._exceptionCatcher.runProtected("Session.attachPlayer()",function(){O3V.setMonitoringNotifier(Z8V,Z8V._id)?(O3V.pushCurrentState(),Z8V._playerStateManager=O3V,Z8V._cwsSession.setPlayerStateManager(Z8V._playerStateManager)):Z8V._logger.error("attachPlayer(): instance of PlayerStateManager is already attached to a session");});},this.getPlayerStateManager=function(){return Z8V._logger.debug("getPlayerStateManager()"),Z8V._playerStateManager;},this.contentPreload=function(){return Z8V._logger.debug("contentPreload()"),Z8V._preloading?void Z8V._logger.debug("contentPreload(): called twice, ignoring"):(Z8V._preloading=!0,void(Z8V._ignorePlayerState=!0));},this.contentStart=function(){return Z8V._logger.debug("contentStart()"),Z8V._preloading?(Z8V._preloading=!1,void(Z8V._adPlaying||(Z8V._ignorePlayerState=!1,Z8V._cwsSession.setPlayerState(Z8V._pooledPlayerState)))):void Z8V._logger.warning("contentStart(): called without contentPreload, ignoring");},this.reportError=function(H3V,T3V){if(Z8V._logger.info("reportError(): "+H3V),!t9P.isValidString(H3V))return void Z8V._logger.error("reportError(): invalid error message string: "+H3V);if(T3V!==U9P.Client.ErrorSeverity.FATAL&&T3V!==U9P.Client.ErrorSeverity.WARNING)return void Z8V._logger.error("reportError(): invalid error severity: "+T3V);if(Z8V._ignoreError)return void Z8V._logger.debug("reportError(): ignored");var d3V=T3V===U9P.Client.ErrorSeverity.FATAL;Z8V._cwsSession.sendError(H3V,d3V);},this.updateContentMetadata=function(v3V){Z8V._logger.debug("updateContentMetadata(): enter"),Z8V._exceptionCatcher.runProtected("Session.updateContentMetadata",function(){Z8V.mergeContentMetadata(v3V),Z8V.setStatesFromContentMetadata();});},this.sendCustomEvent=function(V3V,p3V){Z8V._logger.info("sendEvent(): eventName="+V3V+Z8V.sessionTypeTag()),Z8V._cwsSession.enqueueCustomEvent(V3V,p3V);},this.mergeContentMetadata=function(Z3V){var W3V={},B3V={};if(t9P.isValidString(Z3V.assetName)&&(Z8V._contentMetadata.assetName!=Z3V.assetName?(null!=Z8V._contentMetadata.assetName&&(W3V[o9P.REQUEST_KEY_ASSET_NAME]=Z8V._contentMetadata.assetName),B3V[o9P.REQUEST_KEY_ASSET_NAME]=Z3V.assetName,Z8V._contentMetadata.assetName=Z3V.assetName):Z8V._logger.warning("mergeContentMetadata(): assetName was not changed.")),t9P.isValidString(Z3V.applicationName)&&(Z8V._contentMetadata.applicationName!=Z3V.applicationName?(null!=Z8V._contentMetadata.applicationName&&("undefined"==typeof W3V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE]&&(W3V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE]={}),W3V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE][o9P.REQUEST_KEY_PLAYER_NAME]=Z8V._contentMetadata.applicationName),"undefined"==typeof B3V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE]&&(B3V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE]={}),B3V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE][o9P.REQUEST_KEY_PLAYER_NAME]=Z3V.applicationName,Z8V._contentMetadata.applicationName=Z3V.applicationName):Z8V._logger.warning("mergeContentMetadata(): applicationName was not changed.")),t9P.isValidString(Z3V.streamUrl)&&(Z8V._contentMetadata.streamUrl!=Z3V.streamUrl?(null!=Z8V._contentMetadata.streamUrl&&(W3V[o9P.REQUEST_KEY_STREAM_URL]=Z8V._contentMetadata.streamUrl),B3V[o9P.REQUEST_KEY_STREAM_URL]=Z3V.streamUrl,Z8V._contentMetadata.streamUrl=Z3V.streamUrl):Z8V._logger.warning("mergeContentMetadata(): streamUrl was not changed.")),t9P.isValidString(Z3V.viewerId)&&(Z8V._contentMetadata.viewerId!=Z3V.viewerId?(null!=Z8V._contentMetadata.viewerId&&("undefined"==typeof W3V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE]&&(W3V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE]={}),W3V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE][o9P.REQUEST_KEY_VIEWER_ID]=Z8V._contentMetadata.viewerId),"undefined"==typeof B3V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE]&&(B3V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE]={}),B3V[o9P.REQUEST_KEY_STREAM_METADATA_CHANGE][o9P.REQUEST_KEY_VIEWER_ID]=Z3V.viewerId,Z8V._contentMetadata.viewerId=Z3V.viewerId):Z8V._logger.warning("mergeContentMetadata(): viewerId was not changed.")),t9P.isValidString(Z3V.defaultResource)&&(Z8V._contentMetadata.defaultResource!=Z3V.defaultResource?(null!=Z8V._contentMetadata.defaultResource&&(W3V[o9P.REQUEST_KEY_RESOURCE]=Z8V._contentMetadata.defaultResource),B3V[o9P.REQUEST_KEY_RESOURCE]=Z3V.defaultResource,Z8V._contentMetadata.defaultResource=Z3V.defaultResource):Z8V._logger.warning("mergeContentMetadata(): defaultResource was not changed.")),t9P.isInteger(Z3V.duration)&&Z3V.duration>0&&(Z8V._contentMetadata.duration!=Z3V.duration?(Z8V._cwsSession._contentLengthSec>0&&(W3V[o9P.REQUEST_KEY_CONTENT_LENGTH]=Z8V._cwsSession._contentLengthSec),B3V[o9P.REQUEST_KEY_CONTENT_LENGTH]=Z3V.duration,Z8V._contentMetadata.duration=Z3V.duration):Z8V._logger.warning("mergeContentMetadata(): duration was not changed.")),t9P.isInteger(Z3V.encodedFrameRate)&&Z3V.encodedFrameRate>0&&(Z8V._contentMetadata.encodedFrameRate!=Z3V.encodedFrameRate?(Z8V._contentMetadata.encodedFrameRate>-1&&(W3V[o9P.REQUEST_KEY_ENCODED_FRAME_RATE]=Z8V._contentMetadata.encodedFrameRate),B3V[o9P.REQUEST_KEY_ENCODED_FRAME_RATE]=Z3V.encodedFrameRate,Z8V._contentMetadata.encodedFrameRate=Z3V.encodedFrameRate):Z8V._logger.warning("mergeContentMetadata(): encodedFrameRate was not changed.")),Z3V.streamType!=g9P.StreamType.UNKNOWN&&(Z8V._contentMetadata.streamType!=Z3V.streamType?(Z8V._contentMetadata.streamType!=g9P.StreamType.UNKNOWN&&(Z8V._contentMetadata.streamType==U9P.ContentMetadata.StreamType.LIVE?W3V[o9P.REQUEST_KEY_IS_LIVE]=!0:W3V[o9P.REQUEST_KEY_IS_LIVE]=!1),Z3V.streamType==U9P.ContentMetadata.StreamType.LIVE?B3V[o9P.REQUEST_KEY_IS_LIVE]=!0:B3V[o9P.REQUEST_KEY_IS_LIVE]=!1,Z8V._contentMetadata.streamType=Z3V.streamType):Z8V._logger.warning("mergeContentMetadata(): streamType was not changed.")),t9P.dictCount(Z3V.custom)>0){var S3V={},e3V={};for(var z3V in Z3V.custom){var n3V=Z8V._contentMetadata.custom[z3V];n3V!=Z3V.custom[z3V]?(S3V[z3V]=Z3V.custom[z3V],Z8V._contentMetadata.custom[z3V]&&(e3V[z3V]=Z8V._contentMetadata.custom[z3V]),Z8V._contentMetadata.custom[z3V]=Z3V.custom[z3V]):Z8V._logger.info("mergeContentMetadata(): custom."+z3V+" was not changed.");}t9P.dictCount(S3V)>0?(t9P.dictCount(e3V)>0&&(W3V[o9P.REQUEST_KEY_TAGS]=e3V),B3V[o9P.REQUEST_KEY_TAGS]=S3V):Z8V._logger.warning("mergeContentMetadata(): custom was not changed.");}t9P.dictCount(B3V)>0&&Z8V._cwsSession.declareStateChange(B3V,W3V);},this.isGlobalSession=function(){return Z8V._global==P9P.SESSION_TYPE.GLOBAL;},this.isVideoSession=function(){return Z8V._global==P9P.SESSION_TYPE.VIDEO;},this.isAdSession=function(){return Z8V._global==P9P.SESSION_TYPE.AD;},this.sessionTypeTag=function(){return Z8V.isGlobalSession()?" (global session)":"";};function B8V(W8V,z8V,S8V,e8V,n8V,s8V,J8V,A8V){this._id=W8V,this._global=z8V,this._contentMetadata=S8V,this._clientConfig=e8V,this._systemMetadata=n8V,this._cwsSession=s8V,this._exceptionCatcher=J8V,this._logger=A8V,this._logger.setModuleName("Session"),this._logger.setSessionId(t9P.ToString(this._id));}});T9P.DEFAULT_HEARTBEAT_ERROR_MESSAGE="received no response (or a bad response) to heartbeat POST request";var J9P=q9P.SessionFactory=function(){var s3V=this;s3V._logger=null,s3V._logBuffer=null,s3V._nextSessionKey=0,s3V._sessionsByKey=null,J3V.apply(s3V,arguments),this.cleanup=function(){s3V._logger=null,s3V._logBuffer=null;for(var i3V in s3V._sessionsByKey){var I3V=s3V._sessionsByKey[i3V];I3V.cleanup();}s3V._sessionsByKey=null,s3V._nextSessionKey=0;},this.newSessionKey=function(){var E3V=s3V._nextSessionKey;return s3V._nextSessionKey++,E3V;},this.makeVideoSession=function(y3V,r3V){return null==y3V&&(y3V=new g9P()),s3V.makeSession(y3V,r3V);},this.makeGlobalSession=function(u5V){return s3V.makeSession(u5V,P9P.SESSION_TYPE.GLOBAL);},this.generateSessionId=function(){return M9P.integer32();},this.makeSession=function(C5V,w5V){var f5V=C5V.clone(),D5V=s3V.generateSessionId(),X5V=s3V._systemFactory.buildSession(s3V._client,s3V._clientSettings,s3V._clientConfig,D5V,w5V,f5V),h5V=s3V.newSessionKey();return s3V.addSession(h5V,X5V),X5V.start(),h5V;},this.getSession=function(c5V){var Y5V=s3V._sessionsByKey[c5V];return null==Y5V&&s3V._logger.error("Client: invalid sessionKey. Did you cleanup that session previously?"),Y5V;},this.getVideoSession=function(R5V){var F5V=this.getSession(R5V);return null!=F5V&&(F5V.isVideoSession()||F5V.isAdSession()||(s3V._logger.error("Client: invalid sessionKey. Did you cleanup that session previously?"),F5V=null)),F5V;},this.addSession=function(U5V,q5V){s3V._sessionsByKey[U5V]=q5V;},this.removeSession=function(o5V){delete s3V._sessionsByKey[o5V];},this.cleanupSession=function(t5V){var l5V=s3V.getSession(t5V);s3V.removeSession(t5V),l5V.cleanup();};function J3V(A3V,j3V,Q3V,k3V){s3V._client=A3V,s3V._clientSettings=j3V,s3V._clientConfig=Q3V,s3V._systemFactory=k3V,s3V._logger=s3V._systemFactory.buildLogger(),s3V._logger.setModuleName("SessionFactory"),s3V._nextSessionKey=0,s3V._sessionsByKey={};}},d9P=q9P.CallbackWithTimeout=function(G5V){this._timer=G5V,this.getWrapperCallback=function(K5V,N5V,g5V){var m5V=!1,a5V=function(){m5V||(m5V=!0,K5V(!1,g5V+" ("+N5V+" ms)"));};this._timer.createOnce(a5V,N5V,"CallbackWithTimeout.wrap");var b5V=function(P5V,M5V){m5V||(m5V=!0,K5V(P5V,M5V));};return b5V;};},N9P=q9P.Config=function(x5V,O5V,H5V){var L5V=this;this._logger=x5V,this._logger.setModuleName("Config"),this._storage=O5V,this._jsonInterface=H5V,this._defaultConfig={clientId:o9P.DEFAULT_CLIENT_ID,sendLogs:!1,maxHbInfos:o9P.DEFAULT_MAX_HEARTBEAT_INFOS},this._config=t9P.ObjectShallowCopy(this._defaultConfig),this._loaded=!1,this._loadedEmpty=!1,this._waitingConsumers=[],this.isReady=function(){return this._loaded;},this.load=function(){var T5V=function(v5V,d5V){v5V?(L5V._parse(d5V),L5V._logger.debug("load(): configuration successfully loaded from local storage"+(L5V._loadedEmpty?" (was empty)":"")+".")):L5V._logger.error("load(): error loading configuration from local storage: "+d5V),L5V._loaded=!0,L5V._notify();};this._storage.load(N9P.STORAGE_KEY,T5V);},this._parse=function(Z5V){var p5V=this._jsonInterface.decode(Z5V);if(null==p5V)return void(this._loadedEmpty=!0);var V5V=p5V[N9P.CONFIG_STORAGE_KEY_CLIENT_ID];null!=V5V&&V5V!=o9P.DEFAULT_CLIENT_ID&&""!=V5V&&"null"!=V5V&&(this._config[N9P.CONFIG_KEY_CLIENT_ID]=V5V,this._logger.debug("parse(): loaded clientId="+V5V+" (from local storage)"));},this._marshall=function(){var B5V={};return B5V[N9P.CONFIG_STORAGE_KEY_CLIENT_ID]=this._config.clientId,this._logger.debug("_marshall(): saving clientId="+this._config.clientId+" (to local storage)"),this._jsonInterface.encode(B5V);},this.save=function(){var W5V=function(z5V,S5V){z5V?L5V._logger.debug("save(): configuration successfully saved to local storage."):L5V._logger.error("save(): error saving configuration to local storage: "+S5V);};this._storage.save(N9P.STORAGE_KEY,this._marshall(),W5V);},this.register=function(e5V){return this.isReady()?void e5V():void this._waitingConsumers.push(e5V);},this.get=function(n5V){return this._loaded?this._config[n5V]:null;},this.set=function(s5V,J5V){this._loaded&&(this._config[s5V]=J5V);},this._notify=function(){for(var A5V;null!=(A5V=this._waitingConsumers.shift());)A5V();};};N9P.STORAGE_KEY="sdkConfig",N9P.CONFIG_STORAGE_KEY_CLIENT_ID="clId",N9P.CONFIG_KEY_CLIENT_ID="clientId",N9P.CONFIG_KEY_SEND_LOGS="sendLogs",N9P.CONFIG_KEY_MAX_HEARTBEAT_INFOS="maxHbInfos";var z9P=q9P.EventQueue=function(){this._events=[],this._nextEventNumber=0,this.enqueue=function(j5V){this._events.push(j5V);},this.getNumber=function(){var Q5V=this._nextEventNumber;return this._nextEventNumber++,Q5V;},this.flush=function(){var k5V=this._events;return this._events=[],k5V;};},v9P=q9P.ExceptionCatcher=function(i5V,I5V,E5V){this._logger=i5V,this._logger.setModuleName("ExceptionCatcher"),this._ping=I5V,this._systemSettings=E5V,this.runProtected=function(r5V,u0p,y5V){try{u0p();}catch(X0p){if(null!=y5V)y5V(X0p);else{if(this._systemSettings.allowUncaughtExceptions)throw X0p;this.onUncaughtException(r5V,X0p);}}},this.onUncaughtException=function(f0p,D0p){var h0p="Uncaught exception: "+f0p+": "+D0p.toString();if(null!=this._ping)try{this._ping.send(h0p);}catch(C0p){this._logger.error("Caught exception while sending ping: "+C0p.toString());}this._logger.error(h0p);};},e9P=q9P.GatewayControl=function(Y0p,c0p,F0p,R0p){var w0p=this;this._clientSettings=Y0p,this._logger=c0p,this._logger.setModuleName("GatewayControl"),this._httpClient=F0p,this._jsonInterface=R0p,this.send=function(l0p,U0p){var q0p=this._jsonInterface.encode(l0p),o0p=this._clientSettings.gatewayUrl+o9P.gatewayPath,t0p=function(G0p,m0p){if(G0p){var K0p=w0p._jsonInterface.decode(m0p);U0p(G0p,K0p);}else{var N0p=m0p;U0p(G0p,N0p);}};this._httpClient.request("POST",o0p,q0p,"application/json",t0p);};},t9P=q9P.Lang={};t9P.isMeaningfulString=function(a0p){return t9P.isValidString(a0p)&&null!=a0p&&"undefined"!=a0p&&"null"!=a0p;},t9P.sanitizeStringToStringObject=function(M0p){var g0p={};for(var b0p in M0p)if(t9P.isMeaningfulString(b0p)){var P0p=M0p[b0p];t9P.isMeaningfulString(P0p)&&(g0p[b0p]=P0p);}return g0p;},t9P.validateInterface=function(x0p,H0p,O0p){if(null==x0p)throw new Error("Expected "+O0p+" implementation is null.");for(var L0p in H0p)if("function"!=typeof x0p[L0p])throw new Error("Expected method "+L0p+" in "+O0p+" implementation.");},t9P.dictCount=function(d0p){var v0p,T0p=0;for(v0p in d0p)d0p.hasOwnProperty(v0p)&&T0p++;return T0p;},t9P.ToString=function(V0p){return""+V0p;},t9P.NumberToInt=function(p0p){return Math.floor(p0p);},t9P.NumberToUnsignedInt=function(Z0p){return Math.abs(t9P.NumberToInt(Z0p));},t9P.AsBoolean=function(B0p){return Boolean(B0p);},t9P.isValidString=function(W0p){return"string"==typeof W0p&&""!==W0p;},t9P.stringStartsWith=function(z0p,S0p){return"string"!=typeof z0p||"string"!=typeof S0p?!1:"function"==typeof z0p.indexOf?0===z0p.indexOf(S0p):!1;},t9P.isBoolean=function(e0p){return"boolean"==typeof e0p;},t9P.UrlEncodeString=function(n0p){return escape(n0p);},t9P.isObject=function(s0p){return"object"==typeof s0p;},t9P.ObjectToString=function(j0p){var J0p="";for(var A0p in j0p){var Q0p=j0p[A0p],k0p=Q0p;J0p+=A0p+"="+k0p;}return"Object{"+J0p+"}";},t9P.ObjectShallowCopyOmitNull=function(E0p){var i0p=t9P.ObjectShallowCopy(E0p);for(var I0p in i0p)null==i0p[I0p]&&delete i0p[I0p];return i0p;},t9P.ObjectShallowCopy=function(u1p){var y0p={};for(var r0p in u1p)y0p[r0p]=u1p[r0p];return y0p;},t9P.ObjectShallowEquals=function(X1p,h1p){if(typeof X1p!=typeof h1p)return!1;if(X1p instanceof Object&&h1p instanceof Object){if(t9P.dictCount(X1p)!==t9P.dictCount(h1p))return!1;var f1p=!0;for(var D1p in X1p)if(f1p=X1p[D1p]===h1p[D1p],!f1p)return!1;return!0;}return X1p===h1p;},t9P.isInteger=function(C1p){if("number"!=typeof C1p)return!1;var w1p=Math.round(C1p);return w1p===C1p;},t9P.isArray=function(Y1p){return"[object Array]"===Object.prototype.toString.call(Y1p);},t9P.ArrayEquals=function(F1p,R1p){if(F1p===R1p)return!0;if(null==F1p||null==R1p)return!1;if(F1p.length!=R1p.length)return!1;for(var c1p=0;c1p<F1p.length;++c1p)if(t9P.isArray(F1p[c1p])&&t9P.isArray(R1p[c1p])){if(!t9P.ArrayEquals(F1p[c1p],R1p[c1p]))return!1;}else if(F1p[c1p]!==R1p[c1p])return!1;return!0;},t9P.isObjectDefinePropertyPresent=function(){return"undefined"!=typeof Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0;}catch(U1p){return!1;}}();},t9P.defGet=function(q1p,o1p,t1p){if(t9P.isObjectDefinePropertyPresent())Object.defineProperty(q1p,o1p,{configurable:!0,enumerable:!0,get:t1p});else{if("undefined"==typeof q1p.__defineGetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineGetter__");q1p.__defineGetter__(o1p,t1p);}},t9P.defSet=function(l1p,G1p,m1p){if(t9P.isObjectDefinePropertyPresent())Object.defineProperty(l1p,G1p,{configurable:!0,set:m1p});else{if("undefined"==typeof l1p.__defineSetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineSetter__");l1p.__defineSetter__(G1p,m1p);}},function(){var K1p={};K1p.two32=4294967296,K1p.MaxValue=K1p.two32-1,K1p.MinValue=0,t9P.UInt32=K1p,t9P.UInt32.Cast=function(b1p){var a1p=parseInt(b1p,10);return a1p>K1p.MaxValue?a1p%=K1p.two32:a1p<K1p.MinValue&&(a1p=-a1p%K1p.two32,a1p=K1p.two32-a1p),a1p;},t9P.UInt32.InRange=function(P1p){var g1p=parseInt(P1p,10);return g1p<=K1p.MaxValue&&g1p>=K1p.MinValue;};var N1p={};N1p.MaxValue=2147483647,N1p.MinValue=-2147483648,t9P.Int32=N1p,t9P.Int32.Cast=function(L1p){var M1p=parseInt(L1p,10);return M1p>N1p.MaxValue?M1p%=N1p.MaxValue:M1p<N1p.MinValue&&(M1p=-M1p%N1p.MaxValue,M1p=N1p.MaxValue-M1p),M1p;},t9P.Int32.InRange=function(O1p){var x1p=parseInt(O1p,10);return x1p<=N1p.MaxValue&&x1p>=N1p.MinValue;};}();var s9P=q9P.LogBuffer=function(){var H1p=32;this._buffer=[],this.add=function(T1p){this._buffer.length>=H1p&&this._buffer.shift(),this._buffer.push(T1p);},this.flush=function(){var d1p=this._buffer;return this._buffer=[],d1p;};},L9P=q9P.Ping=function(v1p,V1p,p1p){this._isSendingPing=!1,this._cachedBasePingUrl=null,this._logger=v1p,this._logger.setModuleName("Ping"),this._httpClient=V1p,this._clientSettings=p1p,this.send=function(B1p){if(!this._isSendingPing){this._isSendingPing=!0;var Z1p=this.getBasePingUrl()+"&d="+t9P.UrlEncodeString(B1p.toString());this._logger.error("send(): "+Z1p),this._httpClient.request("GET",Z1p,null,null,null),this._isSendingPing=!1;}},this.getBasePingUrl=function(){if(!this._cachedBasePingUrl){var W1p=L9P.SERVICE_URL+"?comp="+L9P.COMPONENT_NAME+"&clv="+m9P.version;if(this._clientSettings&&(W1p+="&cid="+this._clientSettings.customerKey),W1p+="&sch="+o9P.SDK_METADATA_SCHEMA,!this._clientSettings)return W1p;this._cachedBasePingUrl=W1p;}return this._cachedBasePingUrl;};};L9P.COMPONENT_NAME="sdkjs",L9P.SERVICE_URL="https://pings.conviva.com/ping.ping";var M9P=q9P.Random={};M9P.maxUInt32=4294967295,M9P.maxInt32=2147483647,M9P.minInt32=-2147483648,M9P.integer32=function(){return Math.floor(Math.random()*M9P.maxUInt32)+M9P.minInt32;},M9P.uinteger32=function(){return Math.floor(Math.random()*M9P.maxUInt32);};var a9P=q9P.Sanitize={};a9P.Integer=function(z1p,n1p,s1p,S1p){if(isNaN(z1p))return S1p;if("number"!=typeof z1p)return S1p;if(z1p==S1p)return S1p;var e1p=t9P.NumberToInt(z1p);return a9P.EnforceBoundaries(e1p,n1p,s1p);},a9P.EnforceBoundaries=function(J1p,A1p,j1p){return null!=j1p&&J1p>j1p?J1p=j1p:null!=A1p&&A1p>J1p&&(J1p=A1p),J1p;},a9P.sanitizeSpecialIntegerValue=function(Q1p){return-1==Q1p||-2==Q1p?Q1p:Q1p=a9P.Integer(Q1p,0,null,-1);};var Q9P=(q9P.StreamerError=function(){var k1p=this;function i1p(I1p,E1p){k1p.errorCode=I1p,k1p.severity=E1p;}k1p.errorCode=null,k1p.severity=m9P.ErrorSeverity.FATAL,i1p.apply(k1p,arguments);},q9P.HttpClient=function(y1p,r1p,u4p,X4p){this._logger=y1p,this._logger.setModuleName("HttpClient"),this._httpInterface=r1p,this._callbackWithTimeout=u4p,this._systemSettings=X4p,this.request=function(D4p,C4p,w4p,Y4p,c4p){var h4p=1e3*this._systemSettings.httpTimeout,f4p=this._callbackWithTimeout.getWrapperCallback(c4p,h4p,"HTTP timeout");this._logger.debug("request(): calling HttpInterface.makeRequest"),this._httpInterface.makeRequest(D4p,C4p,w4p,Y4p,h4p,f4p);};}),O9P=q9P.Logger=function(F4p,R4p,U4p,q4p,o4p){this._loggingInterface=F4p,this._timeInterface=R4p,this._settings=U4p,this._logBuffer=q4p,this._packageName=o4p,this.debug=function(t4p){this.log(t4p,K9P.LogLevel.DEBUG);},this.info=function(l4p){this.log(l4p,K9P.LogLevel.INFO);},this.warning=function(G4p){this.log(G4p,K9P.LogLevel.WARNING);},this.error=function(m4p){this.log(m4p,K9P.LogLevel.ERROR);},this.log=function(a4p,K4p){var N4p=this.formatMessage(a4p,K4p);this._logBuffer.add(N4p),this._settings.logLevel<=K4p&&this._loggingInterface.consoleLog(N4p,K4p);},this.prependModuleName=function(g4p){var b4p=g4p;return b4p="["+this._moduleName+"] "+b4p;},this.prependPackageName=function(M4p){var P4p=M4p;return P4p="["+this._packageName+"] "+P4p;},this.prependConvivaNamespace=function(x4p){var L4p=x4p;return L4p="[Conviva] "+L4p;},this.prependTime=function(T4p){var O4p=this._timeInterface.getEpochTimeMs(),H4p=(O4p/1e3).toFixed(3).toString();return"["+H4p+"] "+T4p;},this.prependLogLevel=function(V4p,p4p){var v4p=O9P.getLogLevelString(p4p),d4p=V4p;return d4p="["+v4p+"] "+d4p;},this.prependSessionId=function(B4p){var Z4p=B4p;return null!=this._sessionId&&(Z4p="sid="+this._sessionId+" "+Z4p),Z4p;},this.setSessionId=function(W4p){this._sessionId=W4p;},this.setModuleName=function(z4p){this._moduleName=z4p;},this.formatMessage=function(S4p,e4p){return this.prependConvivaNamespace(this.prependTime(this.prependLogLevel(this.prependPackageName(this.prependModuleName(this.prependSessionId(S4p))),e4p)));};};O9P.getLogLevelString=function(s4p){var n4p;switch(s4p){case K9P.LogLevel.ERROR:n4p="ERROR";break;case K9P.LogLevel.WARNING:n4p="WARNING";break;case K9P.LogLevel.INFO:n4p="INFO";break;case K9P.LogLevel.DEBUG:n4p="DEBUG";}return n4p;};var x9P=q9P.Storage=function(J4p,A4p,j4p,Q4p){this._logger=J4p,this._logger.setModuleName("Storage"),this._storageInterface=A4p,this._callbackWithTimeout=j4p,this._systemSettings=Q4p,this.load=function(i4p,I4p){var k4p=this._callbackWithTimeout.getWrapperCallback(I4p,1e3*this._systemSettings.storageTimeout,"storage load timeout");this._logger.debug("load(): calling StorageInterface.loadData"),this._storageInterface.loadData(x9P.STORAGE_SPACE,i4p,k4p);},this.save=function(y4p,r4p,u6p){var E4p=this._callbackWithTimeout.getWrapperCallback(u6p,1e3*this._systemSettings.storageTimeout,"storage save timeout");this._logger.debug("save(): calling StorageInterface.saveData"),this._storageInterface.saveData(x9P.STORAGE_SPACE,y4p,r4p,E4p);};};x9P.STORAGE_SPACE="Conviva";var l9P=q9P.SystemMetadata=function(X6p,h6p,f6p){this._logger=X6p,this._logger.setModuleName("SystemMetadata"),this._metadataInterface=h6p,this._exceptionCatcher=f6p,this._cachedMetadata=null,this.get=function(){return this._cachedMetadata||this.retrieve(),this._cachedMetadata;},this.retrieve=function(){var D6p={};function Y6p(c6p,F6p){w6p._exceptionCatcher.runProtected("Session.getSystemMetadataSchema(): "+c6p,function(){var R6p=F6p[c6p];F6p[c6p]=R6p.call(w6p._metadataInterface);});}D6p[l9P.BROWSER_NAME]=this._metadataInterface.getBrowserName,D6p[l9P.BROWSER_VERSION]=this._metadataInterface.getBrowserVersion,D6p[l9P.DEVICE_BRAND]=this._metadataInterface.getDeviceBrand,D6p[l9P.DEVICE_MANUFACTURER]=this._metadataInterface.getDeviceManufacturer,D6p[l9P.DEVICE_MODEL]=this._metadataInterface.getDeviceModel,D6p[l9P.DEVICE_TYPE]=this._metadataInterface.getDeviceType,D6p[l9P.DEVICE_VERSION]=this._metadataInterface.getDeviceVersion,D6p[l9P.FRAMEWORK_NAME]=this._metadataInterface.getFrameworkName,D6p[l9P.FRAMEWORK_VERSION]=this._metadataInterface.getFrameworkVersion,D6p[l9P.OPERATING_SYSTEM_NAME]=this._metadataInterface.getOperatingSystemName,D6p[l9P.OPERATING_SYSTEM_VERSION]=this._metadataInterface.getOperatingSystemVersion;var w6p=this;this._logger.debug("retrieve(): calling MetadataInterface methods");for(var C6p in D6p)Y6p(C6p,D6p),t9P.isValidString(D6p[C6p])||delete D6p[C6p];D6p[l9P.DEVICE_TYPE]!==m9P.DeviceType.DESKTOP&&D6p[l9P.DEVICE_TYPE]!==m9P.DeviceType.CONSOLE&&D6p[l9P.DEVICE_TYPE]!==m9P.DeviceType.SETTOP&&D6p[l9P.DEVICE_TYPE]!==m9P.DeviceType.MOBILE&&D6p[l9P.DEVICE_TYPE]!==m9P.DeviceType.TABLET&&D6p[l9P.DEVICE_TYPE]!==m9P.DeviceType.SMARTTV&&delete D6p[l9P.DEVICE_TYPE],this._cachedMetadata=t9P.ObjectShallowCopyOmitNull(D6p);};};l9P.BROWSER_NAME="browserName",l9P.BROWSER_VERSION="browserVersion",l9P.DEVICE_BRAND="deviceBrand",l9P.DEVICE_MANUFACTURER="deviceManufacturer",l9P.DEVICE_MODEL="deviceModel",l9P.DEVICE_TYPE="deviceType",l9P.DEVICE_VERSION="deviceVersion",l9P.FRAMEWORK_NAME="frameworkName",l9P.FRAMEWORK_VERSION="frameworkVersion",l9P.OPERATING_SYSTEM_NAME="operatingSystemName",l9P.OPERATING_SYSTEM_VERSION="operatingSystemVersion";var E9P=q9P.Time=function(U6p,q6p){this._timeInterface=U6p,this._logger=q6p,this._logger.setModuleName("Time"),this.current=function(){var o6p=this._timeInterface.getEpochTimeMs();return t9P.isInteger(o6p)||this._logger.error("current(): TimeInterface.getEpochTimeMs() did not return an integer ("+o6p+")"),o6p;};},V9P=q9P.Timer=function(l6p,G6p,m6p){var t6p=this;this._logger=l6p,this._logger.setModuleName("Timer"),this._timerInterface=G6p,this._exceptionCatcher=m6p,this.create=function(b6p,g6p,K6p){var N6p=function(){t6p._exceptionCatcher.runProtected(K6p,function(){b6p();});},a6p=this.createTimer(N6p,g6p,K6p);return a6p;},this.createOnce=function(O6p,H6p,L6p){var P6p={cancel:null},x6p=function(){t6p._exceptionCatcher.runProtected(L6p,function(){P6p&&"function"==typeof P6p.cancel&&(P6p.cancel(),P6p.cancel=null,P6p=null),O6p();});},M6p=this.createTimer(x6p,H6p,L6p);return P6p.cancel=M6p,M6p;},this.createTimer=function(T6p,d6p,v6p){return this._logger.debug("createTimer(): calling TimerInterface.create"),this._timerInterface.createTimer(T6p,d6p,v6p);};};}();}(),U9P;});},function(V6p,p6p){Conviva.Impl=Conviva.Impl||{},Conviva.Impl.Html5PlayerInterface=function(A6p,j6p,J6p){var Z6p=this,z6p=500,W6p=4e3/z6p,B6p=2e3/z6p,n6p=1,e6p=0,S6p=.25;function s6p(Q6p,k6p){if(this._log("Html5PlayerInterface._constr()"),!Q6p)throw new Error("Html5PlayerInterface: playerStateManager argument cannot be null.");if(!k6p)throw new Error("Html5PlayerInterface: videoElement argument cannot be null.");this._playerStateManager=Q6p,this._videoElement=k6p,this._eventListeners=[],this._registerVideoEventListeners(),this._resetPlayHeadTimes(),this._resetTimeupdate(),this._startPolling(),this._findCurrentState(),this._playerStateManager.setClientMeasureInterface(this),this._playerStateManager.setModuleNameAndVersion("HTML5",Conviva.Client.version);}Z6p._lastPlayHeadTimeSpeeds=[],Z6p._timeupdate=0,Z6p._lastTimeupdate=0,Z6p._currentTimeIsInvalid=!1,this._timerInterface=new Conviva.Impl.Html5Timer(),this._loggingInterface=J6p.buildLogger(),this._loggingInterface.setModuleName("Html5PlayerInterface"),this._width=-1,this._height=-1,this._addEventListener=function(I6p,E6p,i6p){"undefined"==typeof i6p&&(i6p=Z6p._videoElement),Z6p._eventListeners.push([I6p,E6p,i6p]),window.addEventListener?i6p.addEventListener(I6p,E6p,!1):i6p.attachEvent("on"+I6p,E6p);},this._removeEventListener=function(r6p,u2p,y6p){"undefined"==typeof y6p&&(y6p=Z6p._videoElement),window.removeEventListener?y6p.removeEventListener(r6p,u2p,!1):y6p.detachEvent("on"+r6p,u2p);},this._registerVideoEventListeners=function(){Z6p._addEventListener("ended",function(){Z6p._receivedHtml5Event("ended");}),Z6p._addEventListener("pause",function(){Z6p._receivedHtml5Event("pause");}),Z6p._addEventListener("playing",function(){return 0==Z6p._videoElement.currentTime?void(Z6p._currentTimeIsInvalid=!0):void(Z6p._videoElement.seeking||Z6p._receivedHtml5Event("playing"));}),Z6p._addEventListener("waiting",function(){Z6p._receivedHtml5Event("waiting");}),Z6p._addEventListener("timeupdate",function(){Z6p._currentTimeIsInvalid&&(Z6p._timeupdate++,Z6p._playerStateManager.getPlayerState()===Conviva.PlayerStateManager.PlayerState.PLAYING||Z6p._videoElement.seeking||Z6p._receivedHtml5Event("playing"));}),Z6p._addEventListener("error",function(){if(Z6p._videoElement.error){var X2p=Z6p._videoElement.error.code;Z6p._reportHtml5Error(X2p);}}),Z6p._addEventListener("loadedmetadata",Z6p._loadedMetadata),Z6p._addEventListener("seeking",function(){Z6p.isSeekStarted||(Z6p.isSeekStarted=!0,Z6p._playerStateManager.setPlayerSeekStart(-1)),Z6p._currentTimeIsInvalid&&Z6p._playerStateManager.getPlayerState()!==Conviva.PlayerStateManager.PlayerState.BUFFERING&&(Z6p._log("Adjusting Conviva player state to: BUFFERING"),Z6p._receivedHtml5Event("waiting"));}),Z6p._addEventListener("seeked",function(){Z6p.isSeekStarted=!1,Z6p._playerStateManager.setPlayerSeekEnd();}),Z6p._monitorErrorsFromSourceElements();},this.getPHT=function(){return 1e3*Z6p._videoElement.currentTime;},this.getBufferLength=function(){var h2p=Z6p._videoElement.buffered;if(void 0!==h2p){for(var D2p=0,f2p=0;f2p<h2p.length;f2p++){var w2p=h2p.start(f2p),C2p=h2p.end(f2p);w2p<=Z6p._videoElement.currentTime&&Z6p._videoElement.currentTime<C2p&&(D2p+=C2p-Z6p._videoElement.currentTime);}return Z6p._currentBufferLength=D2p,1e3*Z6p._currentBufferLength;}},this.getSignalStrength=function(){return Conviva.PlayerStateManager.DEFAULT_SIGNAL_STRENGTH;},this.getRenderedFrameRate=function(){return Conviva.PlayerStateManager.DEFAULT_RENDERED_FRAME_RATE;},this._monitorErrorsFromSourceElements=function(){if("undefined"!=typeof Z6p._videoElement.children){var F2p=function(){Z6p._log("Caught non-specific error from <source> element, reporting as ERR_UNKNOWN"),Z6p._reportHtml5Error(0);};Z6p._videoElement._sources=Z6p._videoElement.children;for(var Y2p=0;Y2p<Z6p._videoElement._sources.length;Y2p++){var c2p=Z6p._videoElement._sources[Y2p];"SOURCE"==c2p.tagName&&Z6p._addEventListener("error",F2p,c2p);}}},this._removeVideoEventHandlers=function(){for(var R2p=0;R2p<Z6p._eventListeners.length;R2p++){var U2p=Z6p._eventListeners[R2p];Z6p._removeEventListener(U2p[0],U2p[1],U2p[2]);}Z6p._eventListeners=[];},this._findCurrentState=function(){Z6p._prevReadyState=Z6p._videoElement.readyState,0===Z6p._videoElement.readyState?Z6p._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.STOPPED):Z6p._videoElement.ended?Z6p._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.STOPPED):(Z6p._videoElement.paused||Z6p._videoElement.seeking)&&Z6p._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.PAUSED),Z6p._videoElement.readyState>=Z6p._videoElement.HAVE_METADATA&&Z6p._loadedMetadata();},this._receivedHtml5Event=function(o2p){var q2p=Z6p._convertHtml5EventToConvivaPlayerState(o2p);Z6p._log("Received HTML5 event: "+o2p+". Mapped to Conviva player state: "+q2p),Z6p._updateConvivaPlayerState(q2p);},this._updateConvivaPlayerState=function(t2p){Z6p._playerStateManager.getPlayerState()!==t2p&&(Z6p._log("Changing Conviva player state to: "+t2p),Z6p._playerStateManager.setPlayerState(t2p),Z6p._resetPlayHeadTimes(),Z6p._playerStateRecentlyChanged=!0);},this._convertHtml5EventToConvivaPlayerState=function(l2p){switch(l2p){case"playing":return Conviva.PlayerStateManager.PlayerState.PLAYING;case"waiting":return Conviva.PlayerStateManager.PlayerState.BUFFERING;case"ended":case"stopped":return Conviva.PlayerStateManager.PlayerState.STOPPED;case"pause":return Conviva.PlayerStateManager.PlayerState.PAUSED;default:return Conviva.PlayerStateManager.PlayerState.UNKNOWN;}},this._reportHtml5Error=function(m2p){var G2p;switch(m2p){case 1:G2p="MEDIA_ERR_ABORTED";break;case 2:G2p="MEDIA_ERR_NETWORK";break;case 3:G2p="MEDIA_ERR_DECODE";break;case 4:G2p="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:G2p="MEDIA_ERR_UNKNOWN";}Z6p._log("Reporting error: code="+m2p+" message="+G2p);var K2p=Conviva.Client.ErrorSeverity.FATAL;Z6p._playerStateManager.sendError(G2p,K2p);},this._loadedMetadata=function(){var N2p=Z6p._videoElement.duration;isNaN(N2p)||N2p==1/0||Z6p._playerStateManager.setDuration(N2p);var a2p=Z6p._videoElement.videoWidth;!isNaN(a2p)&&a2p>=0&&Z6p._playerStateManager.setVideoResolutionWidth(a2p);var b2p=Z6p._videoElement.videoHeight;!isNaN(b2p)&&b2p>=0&&Z6p._playerStateManager.setVideoResolutionHeight(b2p);},this._startPolling=function(){this._previousPosition=0,this._currentPosition=0,this._currentBufferLength=0,this._pollingTimerCancel=this._timerInterface.createTimer(this._poll,500,"Html5PlayerInterface._poll()");},this._poll=function(){Z6p._pollStreamerResolution(),Z6p._pollPosition(),Z6p._inferPlayerStateFromPosition();},this._pollStreamerResolution=function(){var g2p=Z6p._videoElement.videoWidth;!isNaN(g2p)&&g2p>=0&&g2p!=Z6p._width&&(Z6p._playerStateManager.setVideoResolutionWidth(g2p),Z6p._width=g2p);var P2p=Z6p._videoElement.videoHeight;!isNaN(P2p)&&P2p>=0&&P2p!=Z6p._height&&(Z6p._playerStateManager.setVideoResolutionHeight(P2p),Z6p._height=P2p);},this._pollPosition=function(){if(Z6p._previousPosition=Z6p._currentPosition,Z6p._currentPosition=Z6p._videoElement.currentTime,now=Date.now(),Z6p._lastPollTime>0&&now>Z6p._lastPollTime){var M2p=Z6p._currentPosition-Z6p._previousPosition;0>M2p&&(M2p=0),currentPhtSpeed=M2p/(now-Z6p._lastPollTime)*1e3,Z6p._lastPlayHeadTimeSpeeds.push(currentPhtSpeed);}Z6p._lastPollTime=now,Z6p._lastPlayHeadTimeSpeeds.length>Math.max(W6p,B6p)&&Z6p._lastPlayHeadTimeSpeeds.shift();},this._inferPlayerStateFromPosition=function(){var x2p=Z6p._lastPlayHeadTimeSpeeds.length;if(x2p>=Math.min(B6p,W6p)){for(var O2p=0,d2p=Z6p._lastPlayHeadTimeSpeeds.slice(),T2p=0;T2p<d2p.length;T2p++){var p2p=d2p[T2p];O2p+=p2p;}O2p/=x2p;var v2p=n6p,V2p=S6p,L2p=Z6p._videoElement.playbackRate;!isNaN(L2p)&&L2p!=1/0&&L2p>0&&(isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,isSafari&&.5>L2p&&(L2p=.5),v2p*=L2p,V2p*=L2p);var H2p=Z6p._playerStateManager.getPlayerState();if(H2p!=Conviva.PlayerStateManager.PlayerState.PLAYING&&x2p>=B6p&&Math.abs(O2p-v2p)<V2p)return Z6p._log("Adjusting Conviva player state to: PLAYING"),void Z6p._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.PLAYING);if(H2p==Conviva.PlayerStateManager.PlayerState.PLAYING&&x2p>=W6p&&O2p==e6p)return void(Z6p._videoElement.paused?H2p!=Conviva.PlayerStateManager.PlayerState.PAUSED&&(Z6p._log("Adjusting Conviva player state to: PAUSED"),Z6p._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.PAUSED)):Z6p._videoElement.seeking||(Z6p._log("Adjusting Conviva player state to: BUFFERING"),Z6p._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.BUFFERING)));if(Z6p._currentTimeIsInvalid)return void(Z6p._videoElement.paused?(H2p!=Conviva.PlayerStateManager.PlayerState.PAUSED&&(Z6p._log("Adjusting Conviva player state to: PAUSED"),Z6p._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.PAUSED)),Z6p._timeupdate=Z6p._lastTimeupdate):Z6p._videoElement.seeking||(Z6p._timeupdate>1&&Z6p._timeupdate==Z6p._lastTimeupdate&&(Z6p._log("Adjusting Conviva player state to: BUFFERING"),Z6p._updateConvivaPlayerState(Conviva.PlayerStateManager.PlayerState.BUFFERING)),Z6p._lastTimeupdate=Z6p._timeupdate));}},this._stopPolling=function(){this._pollingTimerCancel();},this._resetPlayHeadTimes=function(){Z6p._lastPlayHeadTimeSpeeds=[],Z6p._previousPosition=-1,Z6p._lastPollTime=0;},this._resetTimeupdate=function(){Z6p._lastTimeupdate=0,Z6p._timeupdate=0;},this._log=function(Z2p){this._loggingInterface.log(Z2p,Conviva.SystemSettings.LogLevel.DEBUG);},s6p.apply(this,arguments),this.cleanup=function(){this._log("Html5PlayerInterface.cleanup()"),this._stopPolling(),this._removeVideoEventHandlers(),this._videoElement=null,this._playerStateManager=null;};},Conviva.Impl=Conviva.Impl||{},Conviva.Impl.Html5Http=function(){B2p.apply(this,arguments),this.makeRequest=function(W2p,z2p,S2p,e2p,n2p,s2p){return this.makeRequestStandard.apply(this,arguments);},this.makeRequestStandard=function(k2p,i2p,I2p,j2p,Q2p,A2p){var J2p=new XMLHttpRequest();return J2p.open(k2p,i2p,!0),j2p&&J2p.overrideMimeType&&(J2p.overrideMimeType=j2p),j2p&&J2p.setRequestHeader&&J2p.setRequestHeader("Content-Type",j2p),Q2p>0&&(J2p.timeout=Q2p,J2p.ontimeout=function(){J2p.ontimeout=J2p.onreadystatechange=null,A2p&&A2p(!1,"timeout after "+Q2p+" ms");}),J2p.onreadystatechange=function(){4===J2p.readyState&&(J2p.ontimeout=J2p.onreadystatechange=null,200==J2p.status?A2p&&A2p(!0,J2p.responseText):A2p&&A2p(!1,"http status "+J2p.status));},J2p.send(I2p),null;},this.release=function(){};function B2p(){}},Conviva.Impl=Conviva.Impl||{},Conviva.Impl.Html5Logging=function(){E2p.apply(this,arguments),this.consoleLog=function(r2p,y2p){"undefined"!=typeof console&&(console.log&&y2p===Conviva.SystemSettings.LogLevel.DEBUG||y2p===Conviva.SystemSettings.LogLevel.INFO?console.log(r2p):console.warn&&y2p===Conviva.SystemSettings.LogLevel.WARNING?console.warn(r2p):console.error&&y2p===Conviva.SystemSettings.LogLevel.ERROR&&console.error(r2p));},this.release=function(){};function E2p(){}},Conviva.Impl=Conviva.Impl||{},Conviva.Impl.Html5Metadata=function(){u7p.apply(this,arguments),this.getBrowserName=function(){return null;},this.getBrowserVersion=function(){return null;},this.getDeviceBrand=function(){return null;},this.getDeviceManufacturer=function(){return null;},this.getDeviceModel=function(){return null;},this.getDeviceType=function(){return null;},this.getDeviceVersion=function(){return null;},this.getFrameworkName=function(){return"HTML5";},this.getFrameworkVersion=function(){return null;},this.getOperatingSystemName=function(){return null;},this.getOperatingSystemVersion=function(){return null;},this.release=function(){};function u7p(){}},Conviva.Impl=Conviva.Impl||{},Conviva.Impl.Html5Storage=function(){X7p.apply(this,arguments),this.saveData=function(D7p,C7p,w7p,h7p){var f7p=D7p+"."+C7p;try{localStorage.setItem(f7p,w7p),h7p(!0,null);}catch(Y7p){h7p(!1,Y7p.toString());}},this.loadData=function(U7p,q7p,c7p){var F7p=U7p+"."+q7p;try{var R7p=localStorage.getItem(F7p);c7p(!0,R7p);}catch(o7p){c7p(!1,o7p.toString());}},this.release=function(){};function X7p(){}},Conviva.Impl=Conviva.Impl||{},Conviva.Impl.Html5Time=function(){t7p.apply(this,arguments),this.getEpochTimeMs=function(){var l7p=new Date();return l7p.getTime();},this.release=function(){};function t7p(){}},Conviva.Impl=Conviva.Impl||{},Conviva.Impl.Html5Timer=function(){G7p.apply(this,arguments),this.createTimer=function(N7p,a7p,b7p){var m7p=setInterval(N7p,a7p),K7p=function(){-1!==m7p&&(clearInterval(m7p),m7p=-1);};return K7p;},this.release=function(){};function G7p(){}};},function(P7p,g7p,M7p){typeof window!=="undefined"&&function L7p(O7p,x7p){if(true)P7p.exports=x7p();else if(typeof define==='function'&&define.amd)define([],x7p);else if(typeof g7p==='object')g7p["Hls"]=x7p();else O7p["Hls"]=x7p();}(this,function(){return function(d7p){function H7p(V7p){if(T7p[V7p]){return T7p[V7p].exports;}var v7p=T7p[V7p]={i:V7p,l:false,exports:{}};d7p[V7p].call(v7p.exports,v7p,v7p.exports,H7p);v7p.l=true;return v7p.exports;}var T7p={};H7p.m=d7p;H7p.c=T7p;H7p.d=function(p7p,Z7p,B7p){if(!H7p.o(p7p,Z7p)){Object.defineProperty(p7p,Z7p,{configurable:false,enumerable:true,get:B7p});}};H7p.n=function(W7p){var z7p=W7p&&W7p.__esModule?function S7p(){return W7p['default'];}:function e7p(){return W7p;};H7p.d(z7p,'a',z7p);return z7p;};H7p.o=function(n7p,s7p){return Object.prototype.hasOwnProperty.call(n7p,s7p);};H7p.p="/dist/";return H7p(H7p.s=11);}([function(f9p,I7p,Q7p){"use strict";Q7p.d(I7p,"a",function(){return E7p;});Q7p.d(I7p,"b",function(){return y7p;});var r7p=Q7p(4);var i7p=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(D9p){return typeof D9p;}:function(C9p){return C9p&&typeof Symbol==="function"&&C9p.constructor===Symbol&&C9p!==Symbol.prototype?"symbol":typeof C9p;};var j7p={trace:J7p,debug:J7p,log:J7p,warn:J7p,info:J7p,error:J7p};function X9p(F9p){var c9p=k7p.console[F9p];if(c9p){return function(){for(var q9p=arguments.length,R9p=Array(q9p),U9p=0;U9p<q9p;U9p++){R9p[U9p]=arguments[U9p];}if(R9p[0]){R9p[0]=u9p(F9p,R9p[0]);}c9p.apply(k7p.console,R9p);};}return J7p;}var A7p=j7p;var k7p=Object(r7p["a"])();function h9p(l9p){for(var t9p=arguments.length,G9p=Array(t9p>1?t9p-1:0),o9p=1;o9p<t9p;o9p++){G9p[o9p-1]=arguments[o9p];}G9p.forEach(function(m9p){A7p[m9p]=l9p[m9p]?l9p[m9p].bind(l9p):X9p(m9p);});}var E7p=function K9p(N9p){if(N9p===true||(typeof N9p==='undefined'?'undefined':i7p(N9p))==='object'){h9p(N9p,'debug','log','info','warn','error');try{A7p.log();}catch(a9p){A7p=j7p;}}else{A7p=j7p;}};var y7p=A7p;function J7p(){}function u9p(Y9p,w9p){w9p='['+Y9p+'] > '+w9p;return w9p;}},function(P9p,g9p,M9p){"use strict";var b9p={MEDIA_ATTACHING:'hlsMediaAttaching',MEDIA_ATTACHED:'hlsMediaAttached',MEDIA_DETACHING:'hlsMediaDetaching',MEDIA_DETACHED:'hlsMediaDetached',BUFFER_RESET:'hlsBufferReset',BUFFER_CODECS:'hlsBufferCodecs',BUFFER_CREATED:'hlsBufferCreated',BUFFER_APPENDING:'hlsBufferAppending',BUFFER_APPENDED:'hlsBufferAppended',BUFFER_EOS:'hlsBufferEos',BUFFER_FLUSHING:'hlsBufferFlushing',BUFFER_FLUSHED:'hlsBufferFlushed',MANIFEST_LOADING:'hlsManifestLoading',MANIFEST_LOADED:'hlsManifestLoaded',MANIFEST_PARSED:'hlsManifestParsed',LEVEL_SWITCHING:'hlsLevelSwitching',LEVEL_SWITCHED:'hlsLevelSwitched',LEVEL_LOADING:'hlsLevelLoading',LEVEL_LOADED:'hlsLevelLoaded',LEVEL_UPDATED:'hlsLevelUpdated',LEVEL_PTS_UPDATED:'hlsLevelPtsUpdated',AUDIO_TRACKS_UPDATED:'hlsAudioTracksUpdated',AUDIO_TRACK_SWITCHING:'hlsAudioTrackSwitching',AUDIO_TRACK_SWITCHED:'hlsAudioTrackSwitched',AUDIO_TRACK_LOADING:'hlsAudioTrackLoading',AUDIO_TRACK_LOADED:'hlsAudioTrackLoaded',SUBTITLE_TRACKS_UPDATED:'hlsSubtitleTracksUpdated',SUBTITLE_TRACK_SWITCH:'hlsSubtitleTrackSwitch',SUBTITLE_TRACK_LOADING:'hlsSubtitleTrackLoading',SUBTITLE_TRACK_LOADED:'hlsSubtitleTrackLoaded',SUBTITLE_FRAG_PROCESSED:'hlsSubtitleFragProcessed',INIT_PTS_FOUND:'hlsInitPtsFound',FRAG_LOADING:'hlsFragLoading',FRAG_LOAD_PROGRESS:'hlsFragLoadProgress',FRAG_LOAD_EMERGENCY_ABORTED:'hlsFragLoadEmergencyAborted',FRAG_LOADED:'hlsFragLoaded',FRAG_DECRYPTED:'hlsFragDecrypted',FRAG_PARSING_INIT_SEGMENT:'hlsFragParsingInitSegment',FRAG_PARSING_USERDATA:'hlsFragParsingUserdata',FRAG_PARSING_METADATA:'hlsFragParsingMetadata',FRAG_PARSING_DATA:'hlsFragParsingData',FRAG_PARSED:'hlsFragParsed',FRAG_BUFFERED:'hlsFragBuffered',FRAG_CHANGED:'hlsFragChanged',FPS_DROP:'hlsFpsDrop',FPS_DROP_LEVEL_CAPPING:'hlsFpsDropLevelCapping',ERROR:'hlsError',DESTROYING:'hlsDestroying',KEY_LOADING:'hlsKeyLoading',KEY_LOADED:'hlsKeyLoaded',STREAM_STATE_TRANSITION:'hlsStreamStateTransition'};g9p["a"]=b9p;},function(T9p,L9p,x9p){"use strict";x9p.d(L9p,"b",function(){return O9p;});x9p.d(L9p,"a",function(){return H9p;});var O9p={NETWORK_ERROR:'networkError',MEDIA_ERROR:'mediaError',KEY_SYSTEM_ERROR:'keySystemError',MUX_ERROR:'muxError',OTHER_ERROR:'otherError'};var H9p={KEY_SYSTEM_NO_KEYS:'keySystemNoKeys',KEY_SYSTEM_NO_ACCESS:'keySystemNoAccess',KEY_SYSTEM_NO_SESSION:'keySystemNoSession',KEY_SYSTEM_LICENSE_REQUEST_FAILED:'keySystemLicenseRequestFailed',MANIFEST_LOAD_ERROR:'manifestLoadError',MANIFEST_LOAD_TIMEOUT:'manifestLoadTimeOut',MANIFEST_PARSING_ERROR:'manifestParsingError',MANIFEST_INCOMPATIBLE_CODECS_ERROR:'manifestIncompatibleCodecsError',LEVEL_LOAD_ERROR:'levelLoadError',LEVEL_LOAD_TIMEOUT:'levelLoadTimeOut',LEVEL_SWITCH_ERROR:'levelSwitchError',AUDIO_TRACK_LOAD_ERROR:'audioTrackLoadError',AUDIO_TRACK_LOAD_TIMEOUT:'audioTrackLoadTimeOut',FRAG_LOAD_ERROR:'fragLoadError',FRAG_LOAD_TIMEOUT:'fragLoadTimeOut',FRAG_DECRYPT_ERROR:'fragDecryptError',FRAG_PARSING_ERROR:'fragParsingError',REMUX_ALLOC_ERROR:'remuxAllocError',KEY_LOAD_ERROR:'keyLoadError',KEY_LOAD_TIMEOUT:'keyLoadTimeOut',BUFFER_ADD_CODEC_ERROR:'bufferAddCodecError',BUFFER_APPEND_ERROR:'bufferAppendError',BUFFER_APPENDING_ERROR:'bufferAppendingError',BUFFER_STALLED_ERROR:'bufferStalledError',BUFFER_FULL_ERROR:'bufferFullError',BUFFER_SEEK_OVER_HOLE:'bufferSeekOverHole',BUFFER_NUDGE_ON_STALL:'bufferNudgeOnStall',INTERNAL_EXCEPTION:'internalException'};},function(p9p,v9p,V9p){"use strict";V9p.d(v9p,"a",function(){return d9p;});var d9p=Number.isFinite||function(Z9p){return typeof Z9p==='number'&&isFinite(Z9p);};},function(z9p,B9p,S9p){"use strict";B9p["a"]=W9p;function W9p(){if(typeof window==='undefined'){return self;}else{return window;}}},function(n9p,e9p,s9p){(function(i9p){var A9p=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/;var j9p=/^([^\/;?#]*)(.*)$/;var Q9p=/(?:\/|^)\.(?=\/)/g;var k9p=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g;var J9p={buildAbsoluteURL:function(X8p,r9p,u8p){u8p=u8p||{};X8p=X8p.trim();r9p=r9p.trim();if(!r9p){if(!u8p.alwaysNormalize){return X8p;}var h8p=this.parseURL(X8p);if(!E9p){throw new Error('Error trying to parse base URL.');}h8p.path=J9p.normalizePath(h8p.path);return J9p.buildURLFromParts(h8p);}var I9p=this.parseURL(r9p);if(!I9p){throw new Error('Error trying to parse relative URL.');}if(I9p.scheme){if(!u8p.alwaysNormalize){return r9p;}I9p.path=J9p.normalizePath(I9p.path);return J9p.buildURLFromParts(I9p);}var E9p=this.parseURL(X8p);if(!E9p){throw new Error('Error trying to parse base URL.');}if(!E9p.netLoc&&E9p.path&&E9p.path[0]!=='/'){var f8p=j9p.exec(E9p.path);E9p.netLoc=f8p[1];E9p.path=f8p[2];}if(E9p.netLoc&&!E9p.path){E9p.path='/';}var y9p={scheme:E9p.scheme,netLoc:I9p.netLoc,path:null,params:I9p.params,query:I9p.query,fragment:I9p.fragment};if(!I9p.netLoc){y9p.netLoc=E9p.netLoc;if(I9p.path[0]!=='/'){if(!I9p.path){y9p.path=E9p.path;if(!I9p.params){y9p.params=E9p.params;if(!I9p.query){y9p.query=E9p.query;}}}else{var D8p=E9p.path;var C8p=D8p.substring(0,D8p.lastIndexOf('/')+1)+I9p.path;y9p.path=J9p.normalizePath(C8p);}}}if(y9p.path===null){y9p.path=u8p.alwaysNormalize?J9p.normalizePath(I9p.path):I9p.path;}return J9p.buildURLFromParts(y9p);},parseURL:function(Y8p){var w8p=A9p.exec(Y8p);if(!w8p){return null;}return{scheme:w8p[1]||'',netLoc:w8p[2]||'',path:w8p[3]||'',params:w8p[4]||'',query:w8p[5]||'',fragment:w8p[6]||''};},normalizePath:function(c8p){c8p=c8p.split('').reverse().join('').replace(Q9p,'');while(c8p.length!==(c8p=c8p.replace(k9p,'')).length){}return c8p.split('').reverse().join('');},buildURLFromParts:function(F8p){return F8p.scheme+F8p.netLoc+F8p.path+F8p.params+F8p.query+F8p.fragment;}};if(true)n9p.exports=J9p;else if(typeof define==='function'&&define.amd)define([],function(){return J9p;});else if(typeof e9p==='object')e9p["URLToolkit"]=J9p;else i9p["URLToolkit"]=J9p;}(this));},function(l8p,U8p,o8p){"use strict";o8p.d(U8p,"b",function(){return q8p;});var R8p=function(){K8p.isHeader=function N8p(a8p,b8p){if(b8p+10<=a8p.length){if(a8p[b8p]===0x49&&a8p[b8p+1]===0x44&&a8p[b8p+2]===0x33){if(a8p[b8p+3]<0xFF&&a8p[b8p+4]<0xFF){if(a8p[b8p+6]<0x80&&a8p[b8p+7]<0x80&&a8p[b8p+8]<0x80&&a8p[b8p+9]<0x80){return true;}}}}return false;};K8p.isFooter=function g8p(P8p,M8p){if(M8p+10<=P8p.length){if(P8p[M8p]===0x33&&P8p[M8p+1]===0x44&&P8p[M8p+2]===0x49){if(P8p[M8p+3]<0xFF&&P8p[M8p+4]<0xFF){if(P8p[M8p+6]<0x80&&P8p[M8p+7]<0x80&&P8p[M8p+8]<0x80&&P8p[M8p+9]<0x80){return true;}}}}return false;};K8p.getID3Data=function L8p(H8p,O8p){var T8p=O8p;var x8p=0;while(K8p.isHeader(H8p,O8p)){x8p+=10;var d8p=K8p._readSize(H8p,O8p+6);x8p+=d8p;if(K8p.isFooter(H8p,O8p+10)){x8p+=10;}O8p+=x8p;}if(x8p>0){return H8p.subarray(T8p,T8p+x8p);}return undefined;};K8p._readSize=function v8p(p8p,Z8p){var V8p=0;V8p=(p8p[Z8p]&0x7f)<<21;V8p|=(p8p[Z8p+1]&0x7f)<<14;V8p|=(p8p[Z8p+2]&0x7f)<<7;V8p|=p8p[Z8p+3]&0x7f;return V8p;};K8p.getTimeStamp=function B8p(e8p){var z8p=K8p.getID3Frames(e8p);for(var W8p=0;W8p<z8p.length;W8p++){var S8p=z8p[W8p];if(K8p.isTimeStampFrame(S8p)){return K8p._readTimeStamp(S8p);}}return undefined;};K8p.isTimeStampFrame=function n8p(s8p){return s8p&&s8p.key==='PRIV'&&s8p.info==='com.apple.streaming.transportStreamTimestamp';};K8p._getFrameData=function J8p(A8p){var k8p=String.fromCharCode(A8p[0],A8p[1],A8p[2],A8p[3]);var j8p=K8p._readSize(A8p,4);var Q8p=10;return{type:k8p,size:j8p,data:A8p.subarray(Q8p,Q8p+j8p)};};function K8p(){t8p(this,K8p);}K8p.getID3Frames=function i8p(E8p){var I8p=0;var y8p=[];while(K8p.isHeader(E8p,I8p)){var X3p=K8p._readSize(E8p,I8p+6);I8p+=10;var h3p=I8p+X3p;while(I8p+8<h3p){var r8p=K8p._getFrameData(E8p.subarray(I8p));var u3p=K8p._decodeFrame(r8p);if(u3p){y8p.push(u3p);}I8p+=r8p.size+10;}if(K8p.isFooter(E8p,I8p)){I8p+=10;}}return y8p;};K8p._decodeFrame=function f3p(D3p){if(D3p.type==='PRIV'){return K8p._decodePrivFrame(D3p);}else if(D3p.type[0]==='T'){return K8p._decodeTextFrame(D3p);}else if(D3p.type[0]==='W'){return K8p._decodeURLFrame(D3p);}return undefined;};K8p._readTimeStamp=function C3p(c3p){if(c3p.data.byteLength===8){var w3p=new Uint8Array(c3p.data);var F3p=w3p[3]&0x1;var Y3p=(w3p[4]<<23)+(w3p[5]<<15)+(w3p[6]<<7)+w3p[7];Y3p/=45;if(F3p){Y3p+=47721858.84;}return Math.round(Y3p);}return undefined;};K8p._decodePrivFrame=function R3p(U3p){if(U3p.size<2){return undefined;}var q3p=K8p._utf8ArrayToStr(U3p.data,true);var o3p=new Uint8Array(U3p.data.subarray(q3p.length+1));return{key:U3p.type,info:q3p,data:o3p.buffer};};K8p._decodeTextFrame=function t3p(l3p){if(l3p.size<2){return undefined;}if(l3p.type==='TXXX'){var G3p=1;var m3p=K8p._utf8ArrayToStr(l3p.data.subarray(G3p));G3p+=m3p.length+1;var K3p=K8p._utf8ArrayToStr(l3p.data.subarray(G3p));return{key:l3p.type,info:m3p,data:K3p};}else{var N3p=K8p._utf8ArrayToStr(l3p.data.subarray(1));return{key:l3p.type,data:N3p};}};K8p._decodeURLFrame=function a3p(b3p){if(b3p.type==='WXXX'){if(b3p.size<2){return undefined;}var g3p=1;var P3p=K8p._utf8ArrayToStr(b3p.data.subarray(g3p));g3p+=P3p.length+1;var M3p=K8p._utf8ArrayToStr(b3p.data.subarray(g3p));return{key:b3p.type,info:P3p,data:M3p};}else{var L3p=K8p._utf8ArrayToStr(b3p.data);return{key:b3p.type,data:L3p};}};K8p._utf8ArrayToStr=function x3p(d3p){var p3p=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var Z3p=d3p.length;var O3p=void 0;var v3p=void 0;var V3p=void 0;var H3p='';var T3p=0;while(T3p<Z3p){O3p=d3p[T3p++];if(O3p===0x00&&p3p){return H3p;}else if(O3p===0x00||O3p===0x03){continue;}switch(O3p>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:H3p+=String.fromCharCode(O3p);break;case 12:case 13:v3p=d3p[T3p++];H3p+=String.fromCharCode((O3p&0x1F)<<6|v3p&0x3F);break;case 14:v3p=d3p[T3p++];V3p=d3p[T3p++];H3p+=String.fromCharCode((O3p&0x0F)<<12|(v3p&0x3F)<<6|(V3p&0x3F)<<0);break;default:}}return H3p;};return K8p;}();var q8p=R8p._utf8ArrayToStr;U8p["a"]=R8p;function t8p(G8p,m8p){if(!(G8p instanceof m8p)){throw new TypeError("Cannot call a class as a function");}}},function(e3p,s3p){e3p.exports=B3p;function S3p(M5p){return M5p===void 0;}function n3p(g5p){return typeof g5p==='number';}function B3p(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined;}B3p.EventEmitter=B3p;function W3p(b5p){return typeof b5p==='function';}B3p.prototype._events=undefined;B3p.prototype._maxListeners=undefined;B3p.defaultMaxListeners=10;B3p.prototype.setMaxListeners=function(J3p){if(!n3p(J3p)||J3p<0||isNaN(J3p))throw TypeError('n must be a positive number');this._maxListeners=J3p;return this;};B3p.prototype.emit=function(E3p){var j3p,A3p,y3p,Q3p,k3p,i3p;if(!this._events)this._events={};if(E3p==='error'){if(!this._events.error||z3p(this._events.error)&&!this._events.error.length){j3p=arguments[1];if(j3p instanceof Error){throw j3p;}else{var I3p=new Error('Uncaught, unspecified "error" event. ('+j3p+')');I3p.context=j3p;throw I3p;}}}A3p=this._events[E3p];if(S3p(A3p))return false;if(W3p(A3p)){switch(arguments.length){case 1:A3p.call(this);break;case 2:A3p.call(this,arguments[1]);break;case 3:A3p.call(this,arguments[1],arguments[2]);break;default:Q3p=Array.prototype.slice.call(arguments,1);A3p.apply(this,Q3p);}}else if(z3p(A3p)){Q3p=Array.prototype.slice.call(arguments,1);i3p=A3p.slice();y3p=i3p.length;for(k3p=0;k3p<y3p;k3p++)i3p[k3p].apply(this,Q3p);}return true;};B3p.prototype.addListener=function(r3p,u5p){var X5p;if(!W3p(u5p))throw TypeError('listener must be a function');if(!this._events)this._events={};if(this._events.newListener)this.emit('newListener',r3p,W3p(u5p.listener)?u5p.listener:u5p);if(!this._events[r3p])this._events[r3p]=u5p;else if(z3p(this._events[r3p]))this._events[r3p].push(u5p);else this._events[r3p]=[this._events[r3p],u5p];if(z3p(this._events[r3p])&&!this._events[r3p].warned){if(!S3p(this._maxListeners)){X5p=this._maxListeners;}else{X5p=B3p.defaultMaxListeners;}if(X5p&&X5p>0&&this._events[r3p].length>X5p){this._events[r3p].warned=true;console.error('(node) warning: possible EventEmitter memory '+'leak detected. %d listeners added. '+'Use emitter.setMaxListeners() to increase limit.',this._events[r3p].length);if(typeof console.trace==='function'){console.trace();}}}return this;};B3p.prototype.on=B3p.prototype.addListener;B3p.prototype.once=function(C5p,h5p){function D5p(){this.removeListener(C5p,D5p);if(!f5p){f5p=true;h5p.apply(this,arguments);}}if(!W3p(h5p))throw TypeError('listener must be a function');var f5p=false;D5p.listener=h5p;this.on(C5p,D5p);return this;};B3p.prototype.removeListener=function(c5p,Y5p){var w5p,R5p,U5p,F5p;if(!W3p(Y5p))throw TypeError('listener must be a function');if(!this._events||!this._events[c5p])return this;w5p=this._events[c5p];U5p=w5p.length;R5p=-1;if(w5p===Y5p||W3p(w5p.listener)&&w5p.listener===Y5p){delete this._events[c5p];if(this._events.removeListener)this.emit('removeListener',c5p,Y5p);}else if(z3p(w5p)){for(F5p=U5p;F5p-->0;){if(w5p[F5p]===Y5p||w5p[F5p].listener&&w5p[F5p].listener===Y5p){R5p=F5p;break;}}if(R5p<0)return this;if(w5p.length===1){w5p.length=0;delete this._events[c5p];}else{w5p.splice(R5p,1);}if(this._events.removeListener)this.emit('removeListener',c5p,Y5p);}return this;};B3p.prototype.removeAllListeners=function(o5p){var t5p,q5p;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[o5p])delete this._events[o5p];return this;}if(arguments.length===0){for(t5p in this._events){if(t5p==='removeListener')continue;this.removeAllListeners(t5p);}this.removeAllListeners('removeListener');this._events={};return this;}q5p=this._events[o5p];if(W3p(q5p)){this.removeListener(o5p,q5p);}else if(q5p){while(q5p.length)this.removeListener(o5p,q5p[q5p.length-1]);}delete this._events[o5p];return this;};B3p.prototype.listeners=function(l5p){var G5p;if(!this._events||!this._events[l5p])G5p=[];else if(W3p(this._events[l5p]))G5p=[this._events[l5p]];else G5p=this._events[l5p].slice();return G5p;};B3p.prototype.listenerCount=function(K5p){if(this._events){var m5p=this._events[K5p];if(W3p(m5p))return 1;else if(m5p)return m5p.length;}return 0;};B3p.listenerCount=function(N5p,a5p){return N5p.listenerCount(a5p);};function z3p(P5p){return typeof P5p==='object'&&P5p!==null;}},function(Q5p,e5p,x5p){"use strict";var Z5p=function(){I5p.prototype.decrypt=function r5p(u0o,X0o){return this.subtle.decrypt({name:'AES-CBC',iv:this.aesIV},X0o,u0o);};function I5p(E5p,y5p){j5p(this,I5p);this.subtle=E5p;this.aesIV=y5p;}return I5p;}();function S5p(R0o){var U0o=R0o.byteLength;var q0o=U0o&&new DataView(R0o).getUint8(U0o-1);if(q0o){return R0o.slice(0,U0o-q0o);}else{return R0o;}}var B5p=Z5p;var T5p=function(){D0o.prototype.expandKey=function Y0o(){return this.subtle.importKey('raw',this.key,{name:'AES-CBC'},false,['encrypt','decrypt']);};function D0o(C0o,w0o){J5p(this,D0o);this.subtle=C0o;this.key=w0o;}return D0o;}();var d5p=T5p;var H5p=function(){o0o.prototype.uint8ArrayToUint32Array_=function t0o(K0o){var m0o=new DataView(K0o);var G0o=new Uint32Array(4);for(var l0o=0;l0o<4;l0o++){G0o[l0o]=m0o.getUint32(l0o*4);}return G0o;};o0o.prototype.initTable=function N0o(){var v0o=this.sBox;var S0o=this.invSBox;var x0o=this.subMix;var Z0o=x0o[0];var B0o=x0o[1];var W0o=x0o[2];var z0o=x0o[3];var O0o=this.invSubMix;var e0o=O0o[0];var n0o=O0o[1];var p0o=O0o[2];var V0o=O0o[3];var g0o=new Uint32Array(256);var P0o=0;var L0o=0;var M0o=0;for(M0o=0;M0o<256;M0o++){if(M0o<128){g0o[M0o]=M0o<<1;}else{g0o[M0o]=M0o<<1^0x11b;}}for(M0o=0;M0o<256;M0o++){var b0o=L0o^L0o<<1^L0o<<2^L0o<<3^L0o<<4;b0o=b0o>>>8^b0o&0xff^0x63;v0o[P0o]=b0o;S0o[b0o]=P0o;var H0o=g0o[P0o];var T0o=g0o[H0o];var d0o=g0o[T0o];var a0o=g0o[b0o]*0x101^b0o*0x1010100;Z0o[P0o]=a0o<<24|a0o>>>8;B0o[P0o]=a0o<<16|a0o>>>16;W0o[P0o]=a0o<<8|a0o>>>24;z0o[P0o]=a0o;a0o=d0o*0x1010101^T0o*0x10001^H0o*0x101^P0o*0x1010100;e0o[b0o]=a0o<<24|a0o>>>8;n0o[b0o]=a0o<<16|a0o>>>16;p0o[b0o]=a0o<<8|a0o>>>24;V0o[b0o]=a0o;if(!P0o){P0o=L0o=1;}else{P0o=H0o^g0o[g0o[g0o[d0o^H0o]]];L0o^=g0o[g0o[L0o]];}}};o0o.prototype.expandKey=function s0o(c1o){var i0o=this.uint8ArrayToUint32Array_(c1o);var X1o=true;var u1o=0;while(u1o<i0o.length&&X1o){X1o=i0o[u1o]===this.key[u1o];u1o++;}if(X1o){return;}this.key=i0o;var Q0o=this.keySize=i0o.length;if(Q0o!==4&&Q0o!==6&&Q0o!==8){throw new Error('Invalid aes key size='+Q0o);}var I0o=this.ksRows=(Q0o+6+1)*4;var A0o=void 0;var k0o=void 0;var E0o=this.keySchedule=new Uint32Array(I0o);var y0o=this.invKeySchedule=new Uint32Array(I0o);var j0o=this.sBox;var f1o=this.rcon;var r0o=this.invSubMix;var D1o=r0o[0];var C1o=r0o[1];var w1o=r0o[2];var Y1o=r0o[3];var h1o=void 0;var J0o=void 0;for(A0o=0;A0o<I0o;A0o++){if(A0o<Q0o){h1o=E0o[A0o]=i0o[A0o];continue;}J0o=h1o;if(A0o%Q0o===0){J0o=J0o<<8|J0o>>>24;J0o=j0o[J0o>>>24]<<24|j0o[J0o>>>16&0xff]<<16|j0o[J0o>>>8&0xff]<<8|j0o[J0o&0xff];J0o^=f1o[A0o/Q0o|0]<<24;}else if(Q0o>6&&A0o%Q0o===4){J0o=j0o[J0o>>>24]<<24|j0o[J0o>>>16&0xff]<<16|j0o[J0o>>>8&0xff]<<8|j0o[J0o&0xff];}E0o[A0o]=h1o=(E0o[A0o-Q0o]^J0o)>>>0;}for(k0o=0;k0o<I0o;k0o++){A0o=I0o-k0o;if(k0o&3){J0o=E0o[A0o];}else{J0o=E0o[A0o-4];}if(k0o<4||A0o<=4){y0o[k0o]=J0o;}else{y0o[k0o]=D1o[j0o[J0o>>>24]]^C1o[j0o[J0o>>>16&0xff]]^w1o[j0o[J0o>>>8&0xff]]^Y1o[j0o[J0o&0xff]];}y0o[k0o]=y0o[k0o]>>>0;}};o0o.prototype.networkToHostOrderSwap=function F1o(R1o){return R1o<<24|(R1o&0xff00)<<8|(R1o&0xff0000)>>8|R1o>>>24;};function o0o(){n5p(this,o0o);this.rcon=[0x0,0x1,0x2,0x4,0x8,0x10,0x20,0x40,0x80,0x1b,0x36];this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)];this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)];this.sBox=new Uint32Array(256);this.invSBox=new Uint32Array(256);this.key=new Uint32Array(0);this.initTable();}o0o.prototype.decrypt=function U1o(A1o,l1o,Q1o,j1o){var J1o=this.keySize+6;var t1o=this.invKeySchedule;var q1o=this.invSBox;var v1o=this.invSubMix;var d1o=v1o[0];var T1o=v1o[1];var M1o=v1o[2];var P1o=v1o[3];var x1o=this.uint8ArrayToUint32Array_(Q1o);var S1o=x1o[0];var e1o=x1o[1];var n1o=x1o[2];var s1o=x1o[3];var b1o=new Int32Array(A1o);var g1o=new Int32Array(b1o.length);var L1o=void 0,V1o=void 0,O1o=void 0,H1o=void 0;var K1o=void 0,m1o=void 0,G1o=void 0,N1o=void 0;var W1o=void 0,p1o=void 0,z1o=void 0,Z1o=void 0;var o1o=void 0,B1o=void 0;var a1o=this.networkToHostOrderSwap;while(l1o<b1o.length){W1o=a1o(b1o[l1o]);p1o=a1o(b1o[l1o+1]);z1o=a1o(b1o[l1o+2]);Z1o=a1o(b1o[l1o+3]);K1o=W1o^t1o[0];m1o=Z1o^t1o[1];G1o=z1o^t1o[2];N1o=p1o^t1o[3];o1o=4;for(B1o=1;B1o<J1o;B1o++){L1o=d1o[K1o>>>24]^T1o[m1o>>16&0xff]^M1o[G1o>>8&0xff]^P1o[N1o&0xff]^t1o[o1o];V1o=d1o[m1o>>>24]^T1o[G1o>>16&0xff]^M1o[N1o>>8&0xff]^P1o[K1o&0xff]^t1o[o1o+1];O1o=d1o[G1o>>>24]^T1o[N1o>>16&0xff]^M1o[K1o>>8&0xff]^P1o[m1o&0xff]^t1o[o1o+2];H1o=d1o[N1o>>>24]^T1o[K1o>>16&0xff]^M1o[m1o>>8&0xff]^P1o[G1o&0xff]^t1o[o1o+3];K1o=L1o;m1o=V1o;G1o=O1o;N1o=H1o;o1o=o1o+4;}L1o=q1o[K1o>>>24]<<24^q1o[m1o>>16&0xff]<<16^q1o[G1o>>8&0xff]<<8^q1o[N1o&0xff]^t1o[o1o];V1o=q1o[m1o>>>24]<<24^q1o[G1o>>16&0xff]<<16^q1o[N1o>>8&0xff]<<8^q1o[K1o&0xff]^t1o[o1o+1];O1o=q1o[G1o>>>24]<<24^q1o[N1o>>16&0xff]<<16^q1o[K1o>>8&0xff]<<8^q1o[m1o&0xff]^t1o[o1o+2];H1o=q1o[N1o>>>24]<<24^q1o[K1o>>16&0xff]<<16^q1o[m1o>>8&0xff]<<8^q1o[G1o&0xff]^t1o[o1o+3];o1o=o1o+3;g1o[l1o]=a1o(L1o^S1o);g1o[l1o+1]=a1o(H1o^e1o);g1o[l1o+2]=a1o(O1o^n1o);g1o[l1o+3]=a1o(V1o^s1o);S1o=W1o;e1o=p1o;n1o=z1o;s1o=Z1o;l1o=l1o+4;}return j1o?S5p(g1o.buffer):g1o.buffer;};o0o.prototype.destroy=function k1o(){this.key=undefined;this.keySize=undefined;this.ksRows=undefined;this.sBox=undefined;this.invSBox=undefined;this.subMix=undefined;this.invSubMix=undefined;this.keySchedule=undefined;this.invKeySchedule=undefined;this.rcon=undefined;};return o0o;}();var p5p=H5p;var O5p=x5p(2);var L5p=x5p(0);var W5p=x5p(1);var z5p=x5p(4);function n5p(c0o,F0o){if(!(c0o instanceof F0o)){throw new TypeError("Cannot call a class as a function");}}function A5p(i1o,I1o){if(!(i1o instanceof I1o)){throw new TypeError("Cannot call a class as a function");}}var V5p=Object(z5p["a"])();var v5p=function(){E1o.prototype.isSync=function C4o(){return this.disableWebCrypto&&this.config.enableSoftwareAES;};E1o.prototype.decrypt=function w4o(F4o,Y4o,R4o,U4o){var q4o=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){if(this.logEnabled){L5p["b"].log('JS AES decrypt');this.logEnabled=false;}var c4o=this.decryptor;if(!c4o){this.decryptor=c4o=new p5p();}c4o.expandKey(Y4o);U4o(c4o.decrypt(F4o,0,R4o,this.removePKCS7Padding));}else{if(this.logEnabled){L5p["b"].log('WebCrypto AES decrypt');this.logEnabled=false;}var o4o=this.subtle;if(this.key!==Y4o){this.key=Y4o;this.fastAesKey=new d5p(o4o,Y4o);}this.fastAesKey.expandKey().then(function(l4o){var t4o=new B5p(o4o,R4o);t4o.decrypt(F4o,l4o).catch(function(G4o){q4o.onWebCryptoError(G4o,F4o,Y4o,R4o,U4o);}).then(function(m4o){U4o(m4o);});}).catch(function(K4o){q4o.onWebCryptoError(K4o,F4o,Y4o,R4o,U4o);});}};E1o.prototype.onWebCryptoError=function N4o(a4o,b4o,g4o,P4o,M4o){if(this.config.enableSoftwareAES){L5p["b"].log('WebCrypto Error, disable WebCrypto API');this.disableWebCrypto=true;this.logEnabled=true;this.decrypt(b4o,g4o,P4o,M4o);}else{L5p["b"].error('decrypting error : '+a4o.message);this.observer.trigger(W5p["a"].ERROR,{type:O5p["b"].MEDIA_ERROR,details:O5p["a"].FRAG_DECRYPT_ERROR,fatal:true,reason:a4o.message});}};function E1o(h4o,f4o){var X4o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r1o=X4o.removePKCS7Padding,u4o=r1o===undefined?true:r1o;A5p(this,E1o);this.logEnabled=true;this.observer=h4o;this.config=f4o;this.removePKCS7Padding=u4o;if(u4o){try{var y1o=V5p.crypto;if(y1o){this.subtle=y1o.subtle||y1o.webkitSubtle;}}catch(D4o){}}this.disableWebCrypto=!this.subtle;}E1o.prototype.destroy=function L4o(){var x4o=this.decryptor;if(x4o){x4o.destroy();this.decryptor=undefined;}};return E1o;}();function J5p(h0o,f0o){if(!(h0o instanceof f0o)){throw new TypeError("Cannot call a class as a function");}}var s5p=e5p["a"]=v5p;function j5p(k5p,i5p){if(!(k5p instanceof i5p)){throw new TypeError("Cannot call a class as a function");}}},function(Z4o,V4o,T4o){"use strict";function p4o(B4o,W4o){if(!(B4o instanceof W4o)){throw new TypeError("Cannot call a class as a function");}}var d4o=T4o(0);var O4o=T4o(1);var H4o=Math.pow(2,32)-1;var v4o=function(){z4o.prototype.resetTimeStamp=function n4o(s4o){this.initPTS=s4o;};z4o.prototype.resetInitSegment=function J4o(A4o,j4o,Q4o,I4o){if(A4o&&A4o.byteLength){var k4o=this.initData=z4o.parseInitSegment(A4o);if(j4o==null){j4o='mp4a.40.5';}if(Q4o==null){Q4o='avc1.42e01e';}var i4o={};if(k4o.audio&&k4o.video){i4o.audiovideo={container:'video/mp4',codec:j4o+','+Q4o,initSegment:I4o?A4o:null};}else{if(k4o.audio){i4o.audio={container:'audio/mp4',codec:j4o,initSegment:I4o?A4o:null};}if(k4o.video){i4o.video={container:'video/mp4',codec:Q4o,initSegment:I4o?A4o:null};}}this.observer.trigger(O4o["a"].FRAG_PARSING_INIT_SEGMENT,{tracks:i4o});}else{if(j4o){this.audioCodec=j4o;}if(Q4o){this.videoCodec=Q4o;}}};z4o.probe=function E4o(y4o){return z4o.findBox({data:y4o,start:0,end:Math.min(y4o.length,16384)},['moof']).length>0;};z4o.bin2str=function r4o(u6o){return String.fromCharCode.apply(null,u6o);};z4o.readUint16=function X6o(h6o,D6o){if(h6o.data){D6o+=h6o.start;h6o=h6o.data;}var f6o=h6o[D6o]<<8|h6o[D6o+1];return f6o<0?65536+f6o:f6o;};function z4o(S4o,e4o){p4o(this,z4o);this.observer=S4o;this.remuxer=e4o;}z4o.readUint32=function C6o(w6o,Y6o){if(w6o.data){Y6o+=w6o.start;w6o=w6o.data;}var c6o=w6o[Y6o]<<24|w6o[Y6o+1]<<16|w6o[Y6o+2]<<8|w6o[Y6o+3];return c6o<0?4294967296+c6o:c6o;};z4o.writeUint32=function F6o(R6o,U6o,q6o){if(R6o.data){U6o+=R6o.start;R6o=R6o.data;}R6o[U6o]=q6o>>24;R6o[U6o+1]=q6o>>16&0xff;R6o[U6o+2]=q6o>>8&0xff;R6o[U6o+3]=q6o&0xff;};z4o.findBox=function o6o(l6o,b6o){var m6o=[],t6o=void 0,N6o=void 0,P6o=void 0,K6o=void 0,g6o=void 0,a6o=void 0,G6o=void 0;if(l6o.data){a6o=l6o.start;K6o=l6o.end;l6o=l6o.data;}else{a6o=0;K6o=l6o.byteLength;}if(!b6o.length){return null;}for(t6o=a6o;t6o<K6o;){N6o=z4o.readUint32(l6o,t6o);P6o=z4o.bin2str(l6o.subarray(t6o+4,t6o+8));G6o=N6o>1?t6o+N6o:K6o;if(P6o===b6o[0]){if(b6o.length===1){m6o.push({data:l6o,start:t6o+8,end:G6o});}else{g6o=z4o.findBox({data:l6o,start:t6o+8,end:G6o},b6o.slice(1));if(g6o.length){m6o=m6o.concat(g6o);}}}t6o=G6o;}return m6o;};z4o.parseSegmentIndex=function M6o(S6o){var B6o=z4o.findBox(S6o,['moov'])[0];var n6o=B6o?B6o.end:null;var L6o=0;var x6o=z4o.findBox(S6o,['sidx']);var T6o=void 0;if(!x6o||!x6o[0]){return null;}T6o=[];x6o=x6o[0];var d6o=x6o.data[0];L6o=d6o===0?8:16;var z6o=z4o.readUint32(x6o,L6o);L6o+=4;var s6o=0;var e6o=0;if(d6o===0){L6o+=8;}else{L6o+=16;}L6o+=2;var v6o=x6o.end+e6o;var p6o=z4o.readUint16(x6o,L6o);L6o+=2;for(var Z6o=0;Z6o<p6o;Z6o++){var O6o=L6o;var W6o=z4o.readUint32(x6o,O6o);O6o+=4;var H6o=W6o&0x7FFFFFFF;var J6o=(W6o&0x80000000)>>>31;if(J6o===1){console.warn('SIDX has hierarchical references (not supported)');return;}var V6o=z4o.readUint32(x6o,O6o);O6o+=4;T6o.push({referenceSize:H6o,subsegmentDuration:V6o,info:{duration:V6o/z6o,start:v6o,end:v6o+H6o-1}});v6o+=H6o;O6o+=4;L6o=O6o;}return{earliestPresentationTime:s6o,timescale:z6o,version:d6o,referencesCount:p6o,references:T6o,moovEndOffset:n6o};};z4o.parseInitSegment=function A6o(k6o){var j6o=[];var Q6o=z4o.findBox(k6o,['moov','trak']);Q6o.forEach(function(h2o){var E6o=z4o.findBox(h2o,['tkhd'])[0];if(E6o){var u2o=E6o.data[E6o.start];var X2o=u2o===0?12:20;var f2o=z4o.readUint32(E6o,X2o);var I6o=z4o.findBox(h2o,['mdia','mdhd'])[0];if(I6o){u2o=I6o.data[I6o.start];X2o=u2o===0?12:20;var D2o=z4o.readUint32(I6o,X2o);var y6o=z4o.findBox(h2o,['mdia','hdlr'])[0];if(y6o){var w2o=z4o.bin2str(y6o.data.subarray(y6o.start+8,y6o.start+12));var r6o={'soun':'audio','vide':'video'}[w2o];if(r6o){var i6o=z4o.findBox(h2o,['mdia','minf','stbl','stsd']);if(i6o.length){i6o=i6o[0];var C2o=z4o.bin2str(i6o.data.subarray(i6o.start+12,i6o.start+16));d4o["b"].log('MP4Demuxer:'+r6o+':'+C2o+' found');}j6o[f2o]={timescale:D2o,type:r6o};j6o[r6o]={timescale:D2o,id:f2o};}}}}});return j6o;};z4o.getStartDTS=function Y2o(U2o,q2o){var F2o=void 0,R2o=void 0,c2o=void 0;F2o=z4o.findBox(q2o,['moof','traf']);R2o=[].concat.apply([],F2o.map(function(o2o){return z4o.findBox(o2o,['tfhd']).map(function(m2o){var t2o=void 0,l2o=void 0,G2o=void 0;t2o=z4o.readUint32(m2o,4);l2o=U2o[t2o].timescale||90e3;G2o=z4o.findBox(o2o,['tfdt']).map(function(N2o){var a2o=void 0,K2o=void 0;a2o=N2o.data[N2o.start];K2o=z4o.readUint32(N2o,4);if(a2o===1){K2o*=Math.pow(2,32);K2o+=z4o.readUint32(N2o,8);}return K2o;})[0];return G2o/l2o;});}));c2o=Math.min.apply(null,R2o);return isFinite(c2o)?c2o:0;};z4o.offsetStartDTS=function b2o(P2o,M2o,g2o){z4o.findBox(M2o,['moof','traf']).map(function(L2o){return z4o.findBox(L2o,['tfhd']).map(function(H2o){var O2o=z4o.readUint32(H2o,4);var x2o=P2o[O2o].timescale||90e3;z4o.findBox(L2o,['tfdt']).map(function(d2o){var v2o=d2o.data[d2o.start];var T2o=z4o.readUint32(d2o,4);if(v2o===0){z4o.writeUint32(d2o,4,T2o-g2o*x2o);}else{T2o*=Math.pow(2,32);T2o+=z4o.readUint32(d2o,8);T2o-=g2o*x2o;T2o=Math.max(T2o,0);var V2o=Math.floor(T2o/(H4o+1));var p2o=Math.floor(T2o%(H4o+1));z4o.writeUint32(d2o,4,V2o);z4o.writeUint32(d2o,8,p2o);}});});});};z4o.prototype.append=function Z2o(W2o,n2o,s2o,J2o){var B2o=this.initData;if(!B2o){this.resetInitSegment(W2o,this.audioCodec,this.videoCodec,false);B2o=this.initData;}var S2o=void 0,z2o=this.initPTS;if(z2o===undefined){var e2o=z4o.getStartDTS(B2o,W2o);this.initPTS=z2o=e2o-n2o;this.observer.trigger(O4o["a"].INIT_PTS_FOUND,{initPTS:z2o});}z4o.offsetStartDTS(B2o,W2o,z2o);S2o=z4o.getStartDTS(B2o,W2o);this.remuxer.remux(B2o.audio,B2o.video,null,null,S2o,s2o,J2o,W2o);};z4o.prototype.destroy=function A2o(){};return z4o;}();V4o["a"]=v4o;},function(E7o,S7o,E2o){"use strict";function W7o(V9o,p9o,W9o,z9o,S9o){var v9o=void 0,d9o=void 0,Z9o=void 0;var B9o=V9o.length;v9o=x7o(V9o,p9o);d9o=M7o(V9o,p9o);d9o-=v9o;if(d9o>0&&p9o+v9o+d9o<=B9o){Z9o=W9o+z9o*S9o;return{headerLength:v9o,frameLength:d9o,stamp:Z9o};}return undefined;}var Q2o=E2o(1);function J7o(n29,s29){if(!(n29 instanceof s29)){throw new TypeError("Cannot call a class as a function");}}var k2o=E2o(2);function x7o(q9o,o9o){return q9o[o9o+1]&0x01?7:9;}function k7o(u4n,X4n){if(!(u4n instanceof X4n)){throw new TypeError("Cannot call a class as a function");}}function M7o(t9o,l9o){return(t9o[l9o+3]&0x03)<<11|t9o[l9o+4]<<3|(t9o[l9o+5]&0xE0)>>>5;}var Y7o=E2o(8);var T7o=E2o(3);var j2o=E2o(0);var O7o=E2o(4);function i7o(b79,g79){if(!(b79 instanceof g79)){throw new TypeError("Cannot call a class as a function");}}var i2o=E2o(6);var U7o=function(){u8o.prototype.resetInitSegment=function D8o(Y8o,C8o,c8o,w8o){this._audioTrack={container:'audio/adts',type:'audio',id:0,sequenceNumber:0,isAAC:true,samples:[],len:0,manifestCodec:C8o,duration:w8o,inputTimeScale:90000};};u8o.prototype.resetTimeStamp=function F8o(){};function u8o(X8o,h8o,f8o){j7o(this,u8o);this.observer=X8o;this.config=f8o;this.remuxer=h8o;}u8o.probe=function R8o(U8o){if(!U8o){return false;}var o8o=i2o["a"].getID3Data(U8o,0)||[];var q8o=o8o.length;for(var t8o=U8o.length;q8o<t8o;q8o++){if(n7o(U8o,q8o)){j2o["b"].log('ADTS sync word found !');return true;}}return false;};u8o.prototype.append=function l8o(K8o,O8o,T8o,H8o){var a8o=this._audioTrack;var m8o=i2o["a"].getID3Data(K8o,0)||[];var g8o=i2o["a"].getTimeStamp(m8o);var M8o=Object(T7o["a"])(g8o)?g8o*90:O8o*90000;var L8o=0;var N8o=M8o;var P8o=K8o.length;var G8o=m8o.length;var x8o=[{pts:N8o,dts:N8o,data:m8o}];while(G8o<P8o-1){if(c7o(K8o,G8o)&&G8o+5<P8o){P7o(a8o,this.observer,K8o,G8o,a8o.manifestCodec);var b8o=q7o(a8o,K8o,G8o,M8o,L8o);if(b8o){G8o+=b8o.length;N8o=b8o.sample.pts;L8o++;}else{j2o["b"].log('Unable to parse AAC frame');break;}}else if(i2o["a"].isHeader(K8o,G8o)){m8o=i2o["a"].getID3Data(K8o,G8o);x8o.push({pts:N8o,dts:N8o,data:m8o});G8o+=m8o.length;}else{G8o++;}}this.remuxer.remux(a8o,{samples:[]},{samples:x8o,inputTimeScale:90000},{samples:[]},O8o,T8o,H8o);};u8o.prototype.destroy=function d8o(){};return u8o;}();var R7o=U7o;var b7o=E2o(9);var u7o={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48000,32000,22050,24000,16000,11025,12000,8000],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function v8o(p8o,B8o,Z8o,e8o,n8o){if(Z8o+24>B8o.length){return undefined;}var V8o=this.parseHeader(B8o,Z8o);if(V8o&&Z8o+V8o.frameLength<=B8o.length){var S8o=V8o.samplesPerFrame*90000/V8o.sampleRate;var W8o=e8o+n8o*S8o;var z8o={unit:B8o.subarray(Z8o,Z8o+V8o.frameLength),pts:W8o,dts:W8o};p8o.config=[];p8o.channelCount=V8o.channelCount;p8o.samplerate=V8o.sampleRate;p8o.samples.push(z8o);p8o.len+=V8o.frameLength;return{sample:z8o,length:V8o.frameLength};}return undefined;},parseHeader:function s8o(j8o,J8o){var A8o=j8o[J8o+1]>>3&3;var Q8o=j8o[J8o+1]>>1&3;var k8o=j8o[J8o+2]>>4&15;var i8o=j8o[J8o+2]>>2&3;var X3o=j8o[J8o+2]>>1&1;if(A8o!==1&&k8o!==0&&k8o!==15&&i8o!==3){var r8o=A8o===3?3-Q8o:Q8o===3?3:4;var D3o=u7o.BitratesMap[r8o*14+k8o-1]*1000;var u3o=A8o===3?0:A8o===2?1:2;var I8o=u7o.SamplingRateMap[u3o*3+i8o];var h3o=j8o[J8o+3]>>6===3?1:2;var E8o=u7o.SamplesCoefficients[A8o][Q8o];var y8o=u7o.BytesInSlot[Q8o];var C3o=E8o*8*y8o;var f3o=parseInt(E8o*D3o/I8o+X3o,10)*y8o;return{sampleRate:I8o,channelCount:h3o,frameLength:f3o,samplesPerFrame:C3o};}return undefined;},isHeaderPattern:function w3o(Y3o,c3o){return Y3o[c3o]===0xff&&(Y3o[c3o+1]&0xe0)===0xe0&&(Y3o[c3o+1]&0x06)!==0x00;},isHeader:function F3o(R3o,U3o){if(U3o+1<R3o.length&&this.isHeaderPattern(R3o,U3o)){return true;}return false;},probe:function q3o(o3o,t3o){if(t3o+1<o3o.length&&this.isHeaderPattern(o3o,t3o)){var K3o=4;var l3o=this.parseHeader(o3o,t3o);var m3o=K3o;if(l3o&&l3o.frameLength){m3o=l3o.frameLength;}var G3o=t3o+m3o;if(G3o===o3o.length||G3o+1<o3o.length&&this.isHeaderPattern(o3o,G3o)){return true;}}return false;}};function Z7o(F9o,Y9o,C9o,X9o){var u9o=void 0,y7o=void 0,h9o=void 0,f9o=void 0,r7o=void 0,D9o=navigator.userAgent.toLowerCase(),c9o=X9o,w9o=[96000,88200,64000,48000,44100,32000,24000,22050,16000,12000,11025,8000,7350];u9o=((Y9o[C9o+2]&0xC0)>>>6)+1;y7o=(Y9o[C9o+2]&0x3C)>>>2;if(y7o>w9o.length-1){F9o.trigger(Q2o["a"].ERROR,{type:k2o[(1220,962.75)!==(549.74,1930)?"b":("K",false)].MEDIA_ERROR,details:k2o["a"].FRAG_PARSING_ERROR,fatal:true,reason:'invalid ADTS sampling index:'+y7o});return;}f9o=(Y9o[C9o+2]&0x01)<<2;f9o|=(Y9o[C9o+3]&0xC0)>>>6;j2o["b"].log('manifest codec:'+X9o+',ADTS data:type:'+u9o+',sampleingIndex:'+y7o+'['+w9o[y7o]+'Hz],channelConfig:'+f9o);if(/firefox/i.test(D9o)){if(y7o>=6){u9o=5;r7o=new Array(4);h9o=y7o-3;}else{u9o=2;r7o=new Array(2);h9o=y7o;}}else if(D9o.indexOf('android')!==-1){u9o=2;r7o=new Array(2);h9o=y7o;}else{u9o=5;r7o=new Array(4);if(X9o&&(X9o.indexOf('mp4a.40.29')!==-1||X9o.indexOf('mp4a.40.5')!==-1)||!X9o&&y7o>=6){h9o=y7o-3;}else{if(X9o&&X9o.indexOf('mp4a.40.2')!==-1&&(y7o>=6&&f9o===1||/vivaldi/i.test(D9o))||!X9o&&f9o===1){u9o=2;r7o=new Array(2);}h9o=y7o;}}r7o[0]=u9o<<3;r7o[0]|=(y7o&0x0E)>>1;r7o[1]|=(y7o&0x01)<<7;r7o[1]|=f9o<<3;if(u9o===5){r7o[1]|=(h9o&0x0E)>>1;r7o[2]=(h9o&0x01)<<7;r7o[2]|=2<<2;r7o[3]=0;}return{config:r7o,samplerate:w9o[y7o],channelCount:f9o,codec:'mp4a.40.'+u9o,manifestCodec:c9o};}function B7o(O79,H79){if(!(O79 instanceof H79)){throw new TypeError("Cannot call a class as a function");}}var r2o=u7o;var p7o=function(){b3o.prototype.loadWord=function P3o(){var L3o=this.data,x3o=this.bytesAvailable,O3o=L3o.byteLength-x3o,H3o=new Uint8Array(4),M3o=Math.min(4,x3o);if(M3o===0){throw new Error('no bytes available');}H3o.set(L3o.subarray(O3o,O3o+M3o));this.word=new DataView(H3o.buffer).getUint32(0);this.bitsAvailable=M3o*8;this.bytesAvailable-=M3o;};b3o.prototype.skipBits=function T3o(d3o){var v3o=void 0;if(this.bitsAvailable>d3o){this.word<<=d3o;this.bitsAvailable-=d3o;}else{d3o-=this.bitsAvailable;v3o=d3o>>3;d3o-=v3o>>3;this.bytesAvailable-=v3o;this.loadWord();this.word<<=d3o;this.bitsAvailable-=d3o;}};b3o.prototype.readBits=function V3o(Z3o){var p3o=Math.min(this.bitsAvailable,Z3o),B3o=this.word>>>32-p3o;if(Z3o>32){j2o["b"].error('Cannot read more than 32 bits at a time');}this.bitsAvailable-=p3o;if(this.bitsAvailable>0){this.word<<=p3o;}else if(this.bytesAvailable>0){this.loadWord();}p3o=Z3o-p3o;if(p3o>0&&this.bitsAvailable){return B3o<<p3o|this.readBits(p3o);}else{return B3o;}};b3o.prototype.skipLZ=function W3o(){var z3o=void 0;for(z3o=0;z3o<this.bitsAvailable;++z3o){if((this.word&0x80000000>>>z3o)!==0){this.word<<=z3o;this.bitsAvailable-=z3o;return z3o;}}this.loadWord();return z3o+this.skipLZ();};b3o.prototype.skipUEG=function S3o(){this.skipBits(1+this.skipLZ());};b3o.prototype.skipEG=function e3o(){this.skipBits(1+this.skipLZ());};b3o.prototype.readUEG=function n3o(){var s3o=this.skipLZ();return this.readBits(s3o+1)-1;};b3o.prototype.readEG=function J3o(){var A3o=this.readUEG();if(0x01&A3o){return 1+A3o>>>1;}else{return-1*(A3o>>>1);}};b3o.prototype.readBoolean=function j3o(){return this.readBits(1)===1;};b3o.prototype.readUByte=function Q3o(){return this.readBits(8);};b3o.prototype.readUShort=function k3o(){return this.readBits(16);};b3o.prototype.readUInt=function i3o(){return this.readBits(32);};function b3o(g3o){s7o(this,b3o);this.data=g3o;this.bytesAvailable=g3o.byteLength;this.word=0;this.bitsAvailable=0;}b3o.prototype.skipScalingList=function I3o(X5o){var y3o=8,E3o=8,r3o=void 0,u5o=void 0;for(r3o=0;r3o<X5o;r3o++){if(E3o!==0){u5o=this.readEG();E3o=(y3o+u5o+256)%256;}y3o=E3o===0?y3o:E3o;}};b3o.prototype.readSPS=function h5o(){var o5o=0,t5o=0,M5o=0,N5o=0,C5o=void 0,O5o=void 0,L5o=void 0,G5o=void 0,m5o=void 0,K5o=void 0,U5o=void 0,a5o=void 0,Y5o=void 0,w5o=this.readUByte.bind(this),l5o=this.readBits.bind(this),D5o=this.readUEG.bind(this),F5o=this.readBoolean.bind(this),c5o=this.skipBits.bind(this),q5o=this.skipEG.bind(this),R5o=this.skipUEG.bind(this),b5o=this.skipScalingList.bind(this);w5o();C5o=w5o();O5o=l5o(5);c5o(3);L5o=w5o();R5o();if(C5o===100||C5o===110||C5o===122||C5o===244||C5o===44||C5o===83||C5o===86||C5o===118||C5o===128){var g5o=D5o();if(g5o===3){c5o(1);}R5o();R5o();c5o(1);if(F5o()){a5o=g5o!==3?8:12;for(Y5o=0;Y5o<a5o;Y5o++){if(F5o()){if(Y5o<6){b5o(16);}else{b5o(64);}}}}}R5o();var P5o=D5o();if(P5o===0){D5o();}else if(P5o===1){c5o(1);q5o();q5o();G5o=D5o();for(Y5o=0;Y5o<G5o;Y5o++){q5o();}}R5o();c5o(1);m5o=D5o();K5o=D5o();U5o=l5o(1);if(U5o===0){c5o(1);}c5o(1);if(F5o()){o5o=D5o();t5o=D5o();M5o=D5o();N5o=D5o();}var f5o=[1,1];if(F5o()){if(F5o()){var x5o=w5o();switch(x5o){case 1:f5o=[1,1];break;case 2:f5o=[12,11];break;case 3:f5o=[10,11];break;case 4:f5o=[16,11];break;case 5:f5o=[40,33];break;case 6:f5o=[24,11];break;case 7:f5o=[20,11];break;case 8:f5o=[32,11];break;case 9:f5o=[80,33];break;case 10:f5o=[18,11];break;case 11:f5o=[15,11];break;case 12:f5o=[64,33];break;case 13:f5o=[160,99];break;case 14:f5o=[4,3];break;case 15:f5o=[3,2];break;case 16:f5o=[2,1];break;case 255:{f5o=[w5o()<<8|w5o(),w5o()<<8|w5o()];break;}}}}return{width:Math.ceil((m5o+1)*16-o5o*2-t5o*2),height:(2-U5o)*(K5o+1)*16-(U5o?2:4)*(M5o+N5o),pixelRatio:f5o};};b3o.prototype.readSliceType=function H5o(){this.readUByte();this.readUEG();return this.readUEG();};return b3o;}();var f7o=p7o;var l7o=function(){v5o.prototype.decryptBuffer=function W5o(z5o,S5o){this.decrypter.decrypt(z5o,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,S5o);};v5o.prototype.decryptAacSample=function e5o(J5o,A5o,k5o,i5o){var n5o=J5o[A5o].unit;var s5o=n5o.subarray(16,n5o.length-n5o.length%16);var j5o=s5o.buffer.slice(s5o.byteOffset,s5o.byteOffset+s5o.length);var Q5o=this;this.decryptBuffer(j5o,function(I5o){I5o=new Uint8Array(I5o);n5o.set(I5o,16);if(!i5o){Q5o.decryptAacSamples(J5o,A5o+1,k5o);}});};function v5o(V5o,p5o,Z5o,B5o){I7o(this,v5o);this.decryptdata=Z5o;this.discardEPB=B5o;this.decrypter=new Y7o["a"](V5o,p5o,{removePKCS7Padding:false});}v5o.prototype.decryptAacSamples=function E5o(r5o,y5o,X09){for(;;y5o++){if(y5o>=r5o.length){X09();return;}if(r5o[y5o].unit.length<32){continue;}var u09=this.decrypter.isSync();this.decryptAacSample(r5o,y5o,X09,u09);if(!u09){return;}}};v5o.prototype.getAvcEncryptedData=function h09(D09){var Y09=Math.floor((D09.length-48)/160)*16+16;var C09=new Int8Array(Y09);var w09=0;for(var f09=32;f09<=D09.length-16;f09+=160,w09+=16){C09.set(D09.subarray(f09,f09+16),w09);}return C09;};v5o.prototype.getAvcDecryptedUnit=function c09(U09,q09){q09=new Uint8Array(q09);var F09=0;for(var R09=32;R09<=U09.length-16;R09+=160,F09+=16){U09.set(q09.subarray(F09,F09+16),R09);}return U09;};v5o.prototype.decryptAvcSample=function o09(K09,N09,a09,b09,G09,g09){var t09=this.discardEPB(G09.data);var m09=this.getAvcEncryptedData(t09);var l09=this;this.decryptBuffer(m09.buffer,function(P09){G09.data=l09.getAvcDecryptedUnit(t09,P09);if(!g09){l09.decryptAvcSamples(K09,N09,a09+1,b09);}});};v5o.prototype.decryptAvcSamples=function M09(H09,O09,L09,v09){for(;;O09++,L09=0){if(O09>=H09.length){v09();return;}var T09=H09[O09].units;for(;;L09++){if(L09>=T09.length){break;}var x09=T09[L09];if(x09.length<=48||x09.type!==1&&x09.type!==5){continue;}var d09=this.decrypter.isSync();this.decryptAvcSample(H09,O09,L09,v09,x09,d09);if(!d09){return;}}}};return v5o;}();var G7o=l7o;var m7o={video:1,audio:2,id3:3,text:4};function j7o(y9o,r9o){if(!(y9o instanceof r9o)){throw new TypeError("Cannot call a class as a function");}}var K7o=function(){Z09.prototype.setDecryptData=function e09(n09){if(n09!=null&&n09.key!=null&&n09.method==='SAMPLE-AES'){this.sampleAes=new G7o(this.observer,this.config,n09,this.discardEPB);}else{this.sampleAes=null;}};Z09.probe=function s09(A09){var J09=Z09._syncOffset(A09);if(J09<0){return false;}else{if(J09){j2o["b"].warn('MPEG2-TS detected but first sync word found @ offset '+J09+', junk ahead ?');}return true;}};Z09._syncOffset=function j09(k09){var i09=Math.min(1000,k09.length-3*188);var Q09=0;while(Q09<i09){if(k09[Q09]===0x47&&k09[Q09+188]===0x47&&k09[Q09+2*188]===0x47){return Q09;}else{Q09++;}}return-1;};Z09.createTrack=function I09(E09,y09){return{container:E09==='video'||E09==='audio'?'video/mp2t':undefined,type:E09,id:m7o[E09],pid:-1,inputTimeScale:90000,sequenceNumber:0,samples:[],len:0,dropped:E09==='video'?0:undefined,isAAC:E09==='audio'?true:undefined,duration:E09==='audio'?y09:undefined};};Z09.prototype.resetInitSegment=function r09(f19,X19,h19,u19){this.pmtParsed=false;this._pmtId=-1;this._avcTrack=Z09.createTrack('video',u19);this._audioTrack=Z09.createTrack('audio',u19);this._id3Track=Z09.createTrack('id3',u19);this._txtTrack=Z09.createTrack('text',u19);this.aacOverFlow=null;this.aacLastPTS=null;this.avcSample=null;this.audioCodec=X19;this.videoCodec=h19;this._duration=u19;};Z09.prototype.resetTimeStamp=function D19(){};Z09.prototype.append=function C19(F19,W19,O19,Z19){var Y19=void 0,M19=F19.length,m19=void 0,x19=void 0,H19=void 0,c19=void 0,w19=void 0,g19=false;this.contiguous=O19;var p19=this.pmtParsed,t19=this._avcTrack,U19=this._audioTrack,l19=this._id3Track,K19=t19.pid,N19=U19.pid,b19=l19.pid,L19=this._pmtId,o19=t19.pesData,R19=U19.pesData,q19=l19.pesData,z19=this._parsePAT,B19=this._parsePMT,G19=this._parsePES,T19=this._parseAVCPES.bind(this),d19=this._parseAACPES.bind(this),v19=this._parseMPEGPES.bind(this),V19=this._parseID3PES.bind(this);var P19=Z09._syncOffset(F19);M19-=(M19+P19)%188;for(Y19=P19;Y19<M19;Y19+=188){if(F19[Y19]===0x47){m19=!!(F19[Y19+1]&0x40);x19=((F19[Y19+1]&0x1f)<<8)+F19[Y19+2];H19=(F19[Y19+3]&0x30)>>4;if(H19>1){c19=Y19+5+F19[Y19+4];if(c19===Y19+188){continue;}}else{c19=Y19+4;}switch(x19){case K19:if(m19){if(o19&&(w19=G19(o19))&&w19.pts!==undefined){T19(w19,false);}o19={data:[],size:0};}if(o19){o19.data.push(F19.subarray(c19,Y19+188));o19.size+=Y19+188-c19;}break;case N19:if(m19){if(R19&&(w19=G19(R19))&&w19.pts!==undefined){if(U19.isAAC){d19(w19);}else{v19(w19);}}R19={data:[],size:0};}if(R19){R19.data.push(F19.subarray(c19,Y19+188));R19.size+=Y19+188-c19;}break;case b19:if(m19){if(q19&&(w19=G19(q19))&&w19.pts!==undefined){V19(w19);}q19={data:[],size:0};}if(q19){q19.data.push(F19.subarray(c19,Y19+188));q19.size+=Y19+188-c19;}break;case 0:if(m19){c19+=F19[c19]+1;}L19=this._pmtId=z19(F19,c19);break;case L19:if(m19){c19+=F19[c19]+1;}var a19=B19(F19,c19,this.typeSupported.mpeg===true||this.typeSupported.mp3===true,this.sampleAes!=null);K19=a19.avc;if(K19>0){t19.pid=K19;}N19=a19.audio;if(N19>0){U19.pid=N19;U19.isAAC=a19.isAAC;}b19=a19.id3;if(b19>0){l19.pid=b19;}if(g19&&!p19){j2o["b"].log('reparse from beginning');g19=false;Y19=P19-188;}p19=this.pmtParsed=true;break;case 17:case 0x1fff:break;default:g19=true;break;}}else{this.observer.trigger(Q2o["a"].ERROR,{type:k2o["b"].MEDIA_ERROR,details:k2o["a"].FRAG_PARSING_ERROR,fatal:false,reason:'TS packet did not start with 0x47'});}}if(o19&&(w19=G19(o19))&&w19.pts!==undefined){T19(w19,true);t19.pesData=null;}else{t19.pesData=o19;}if(R19&&(w19=G19(R19))&&w19.pts!==undefined){if(U19.isAAC){d19(w19);}else{v19(w19);}U19.pesData=null;}else{if(R19&&R19.size){j2o["b"].log('last AAC PES packet truncated,might overlap between fragments');}U19.pesData=R19;}if(q19&&(w19=G19(q19))&&w19.pts!==undefined){V19(w19);l19.pesData=null;}else{l19.pesData=q19;}if(this.sampleAes==null){this.remuxer.remux(U19,t19,l19,this._txtTrack,W19,O19,Z19);}else{this.decryptAndRemux(U19,t19,l19,this._txtTrack,W19,O19,Z19);}};Z09.prototype.decryptAndRemux=function S19(e19,n19,s19,J19,A19,j19,Q19){if(e19.samples&&e19.isAAC){var k19=this;this.sampleAes.decryptAacSamples(e19.samples,0,function(){k19.decryptAndRemuxAvc(e19,n19,s19,J19,A19,j19,Q19);});}else{this.decryptAndRemuxAvc(e19,n19,s19,J19,A19,j19,Q19);}};Z09.prototype.decryptAndRemuxAvc=function i19(E19,I19,y19,r19,u49,X49,h49){if(I19.samples){var f49=this;this.sampleAes.decryptAvcSamples(I19.samples,0,0,function(){f49.remuxer.remux(E19,I19,y19,r19,u49,X49,h49);});}else{this.remuxer.remux(E19,I19,y19,r19,u49,X49,h49);}};Z09.prototype.destroy=function D49(){this._initPTS=this._initDTS=undefined;this._duration=0;};Z09.prototype._parsePAT=function C49(w49,Y49){return(w49[Y49+10]&0x1F)<<8|w49[Y49+11];};Z09.prototype._parsePMT=function c49(R49,F49,m49,G49){var o49=void 0,t49=void 0,l49=void 0,q49=void 0,U49={audio:-1,avc:-1,id3:-1,isAAC:true};o49=(R49[F49+1]&0x0f)<<8|R49[F49+2];t49=F49+3+o49-4;l49=(R49[F49+10]&0x0f)<<8|R49[F49+11];F49+=12+l49;while(F49<t49){q49=(R49[F49+1]&0x1F)<<8|R49[F49+2];switch(R49[F49]){case 0xcf:if(!G49){j2o["b"].log('unkown stream type:'+R49[F49]);break;}case 0x0f:if(U49.audio===-1){U49.audio=q49;}break;case 0x15:if(U49.id3===-1){U49.id3=q49;}break;case 0xdb:if(!G49){j2o["b"].log('unkown stream type:'+R49[F49]);break;}case 0x1b:if(U49.avc===-1){U49.avc=q49;}break;case 0x03:case 0x04:if(!m49){j2o["b"].log('MPEG audio found, not supported in this browser for now');}else if(U49.audio===-1){U49.audio=q49;U49.isAAC=false;}break;case 0x24:j2o["b"].warn('HEVC stream type found, not supported for now');break;default:j2o["b"].log('unkown stream type:'+R49[F49]);break;}F49+=((R49[F49+3]&0x0F)<<8|R49[F49+4])+5;}return U49;};Z09.prototype._parsePES=function K49(L49){var p49=0,N49=void 0,H49=void 0,V49=void 0,M49=void 0,v49=void 0,O49=void 0,b49=void 0,g49=void 0,P49=void 0,a49=L49.data;if(!L49||L49.size===0){return null;}while(a49[0].length<19&&a49.length>1){var T49=new Uint8Array(a49[0].length+a49[1].length);T49.set(a49[0]);T49.set(a49[1],a49[0].length);a49[0]=T49;a49.splice(1,1);}N49=a49[0];V49=(N49[0]<<16)+(N49[1]<<8)+N49[2];if(V49===1){M49=(N49[4]<<8)+N49[5];if(M49&&M49>L49.size-6){return null;}H49=N49[7];if(H49&0xC0){b49=(N49[9]&0x0E)*536870912+(N49[10]&0xFF)*4194304+(N49[11]&0xFE)*16384+(N49[12]&0xFF)*128+(N49[13]&0xFE)/2;if(b49>4294967295){b49-=8589934592;}if(H49&0x40){g49=(N49[14]&0x0E)*536870912+(N49[15]&0xFF)*4194304+(N49[16]&0xFE)*16384+(N49[17]&0xFF)*128+(N49[18]&0xFE)/2;if(g49>4294967295){g49-=8589934592;}if(b49-g49>60*90000){j2o["b"].warn(Math.round((b49-g49)/90000)+'s delta between PTS and DTS, align them');b49=g49;}}else{g49=b49;}}v49=N49[8];P49=v49+9;L49.size-=P49;O49=new Uint8Array(L49.size);for(var d49=0,Z49=a49.length;d49<Z49;d49++){N49=a49[d49];var x49=N49.byteLength;if(P49){if(P49>x49){P49-=x49;continue;}else{N49=N49.subarray(P49);x49-=P49;P49=0;}}O49.set(N49,p49);p49+=x49;}if(M49){M49-=v49+3;}return{data:O49,pts:b49,dts:g49,len:M49};}else{return null;}};Z09.prototype.pushAccesUnit=function B49(W49,z49){if(W49.units.length&&W49.frame){var S49=z49.samples;var e49=S49.length;if(!this.config.forceKeyFrameOnDiscontinuity||W49.key===true||z49.sps&&(e49||this.contiguous)){W49.id=e49;S49.push(W49);}else{z49.dropped++;}}if(W49.debug.length){j2o[9370>(9900,1016)?"b":(0x1d59,"X")].log(W49.pts+'/'+W49.dts+':'+W49.debug);}};function Z09(B09,W09,z09,S09){z7o(this,Z09);this.observer=B09;this.config=z09;this.typeSupported=S09;this.remuxer=W09;this.sampleAes=null;}Z09.prototype._parseAVCPES=function n49(Q49,X69){var i49=this;var A49=this._avcTrack,r49=this._parseAVCNALu(Q49.data),I49=false,J49=void 0,s49=this.avcSample,k49=void 0,u69=false,j49=void 0,y49=this.pushAccesUnit.bind(this),E49=function h69(f69,D69,C69,w69){return{key:f69,pts:D69,dts:C69,units:[],debug:w69};};Q49.data=null;if(s49&&r49.length&&!A49.audFound){y49(s49,A49);s49=this.avcSample=E49(false,Q49.pts,Q49.dts,'');}r49.forEach(function(Y69){switch(Y69.type){case 1:k49=true;if(!s49){s49=i49.avcSample=E49(true,Q49.pts,Q49.dts,'');}if(I49){s49.debug+='NDR ';}s49.frame=true;var l69=Y69.data;if(u69&&l69.length>4){var F69=new f7o(l69).readSliceType();if(F69===2||F69===4||F69===7||F69===9){s49.key=true;}}break;case 5:k49=true;if(!s49){s49=i49.avcSample=E49(true,Q49.pts,Q49.dts,'');}if(I49){s49.debug+='IDR ';}s49.key=true;s49.frame=true;break;case 6:k49=true;if(I49&&s49){s49.debug+='SEI ';}J49=new f7o(i49.discardEPB(Y69.data));J49.readUByte();var o69=0;var U69=0;var G69=false;var c69=0;while(!G69&&J49.bytesAvailable>1){o69=0;do{c69=J49.readUByte();o69+=c69;}while(c69===0xFF);U69=0;do{c69=J49.readUByte();U69+=c69;}while(c69===0xFF);if(o69===4&&J49.bytesAvailable!==0){G69=true;var x69=J49.readUByte();if(x69===181){var g69=J49.readUShort();if(g69===49){var N69=J49.readUInt();if(N69===0x47413934){var L69=J49.readUByte();if(L69===3){var m69=J49.readUByte();var a69=J49.readUByte();var b69=31&m69;var R69=[m69,a69];for(j49=0;j49<b69;j49++){R69.push(J49.readUByte());R69.push(J49.readUByte());R69.push(J49.readUByte());}i49._insertSampleInOrder(i49._txtTrack.samples,{type:3,pts:Q49.pts,bytes:R69});}}}}}else if(U69<J49.bytesAvailable){for(j49=0;j49<U69;j49++){J49.readUByte();}}}break;case 7:k49=true;u69=true;if(I49&&s49){s49.debug+='SPS ';}if(!A49.sps){J49=new f7o(Y69.data);var t69=J49.readSPS();A49.width=t69.width;A49.height=t69.height;A49.pixelRatio=t69.pixelRatio;A49.sps=[Y69.data];A49.duration=i49._duration;var M69=Y69.data.subarray(1,4);var K69='avc1.';for(j49=0;j49<3;j49++){var q69=M69[j49].toString(16);if(q69.length<2){q69='0'+q69;}K69+=q69;}A49.codec=K69;}break;case 8:k49=true;if(I49&&s49){s49.debug+='PPS ';}if(!A49.pps){A49.pps=[Y69.data];}break;case 9:k49=false;A49.audFound=true;if(s49){y49(s49,A49);}s49=i49.avcSample=E49(false,Q49.pts,Q49.dts,I49?'AUD ':'');break;case 12:k49=false;break;default:k49=false;if(s49){s49.debug+='unknown NAL '+Y69.type+' ';}break;}if(s49&&k49){var P69=s49.units;P69.push(Y69);}});if(X69&&s49){y49(s49,A49);this.avcSample=null;}};Z09.prototype._insertSampleInOrder=function O69(H69,T69){var v69=H69.length;if(v69>0){if(T69.pts>=H69[v69-1].pts){H69.push(T69);}else{for(var d69=v69-1;d69>=0;d69--){if(T69.pts<H69[d69].pts){H69.splice(d69,0,T69);break;}}}}else{H69.push(T69);}};Z09.prototype._getLastNalUnit=function V69(){var p69=this.avcSample,Z69=void 0;if(!p69||p69.units.length===0){var z69=this._avcTrack,B69=z69.samples;p69=B69[B69.length-1];}if(p69){var W69=p69.units;Z69=W69[W69.length-1];}return Z69;};Z09.prototype._parseAVCNALu=function S69(J69){var s69=0,X29=J69.byteLength,Q69=void 0,k69=void 0,f29=this._avcTrack,e69=f29.naluState||0,r69=e69;var E69=[],i69=void 0,h29=void 0,A69=-1,I69=void 0;if(e69===-1){A69=0;I69=J69[0]&0x1f;e69=0;s69=1;}while(s69<X29){Q69=J69[s69++];if(!e69){e69=Q69?0:1;continue;}if(e69===1){e69=Q69?0:2;continue;}if(!Q69){e69=3;}else if(Q69===1){if(A69>=0){i69={data:J69.subarray(A69,s69-e69-1),type:I69};E69.push(i69);}else{var n69=this._getLastNalUnit();if(n69){if(r69&&s69<=4-r69){if(n69.state){n69.data=n69.data.subarray(0,n69.data.byteLength-r69);}}k69=s69-e69-1;if(k69>0){var y69=new Uint8Array(n69.data.byteLength+k69);y69.set(n69.data,0);y69.set(J69.subarray(0,k69),n69.data.byteLength);n69.data=y69;}}}if(s69<X29){h29=J69[s69]&0x1f;A69=s69;I69=h29;e69=0;}else{e69=-1;}}else{e69=0;}}if(A69>=0&&e69>=0){i69={data:J69.subarray(A69,X29),type:I69,state:e69};E69.push(i69);}if(E69.length===0){var j69=this._getLastNalUnit();if(j69){var u29=new Uint8Array(j69.data.byteLength+J69.byteLength);u29.set(j69.data,0);u29.set(J69,j69.data.byteLength);j69.data=u29;}}f29.naluState=e69;return E69;};Z09.prototype.discardEPB=function D29(w29){var U29=w29.byteLength,Y29=[],C29=1,F29=void 0,R29=void 0;while(C29<U29-2){if(w29[C29]===0&&w29[C29+1]===0&&w29[C29+2]===0x03){Y29.push(C29+2);C29+=2;}else{C29++;}}if(Y29.length===0){return w29;}F29=U29-Y29.length;R29=new Uint8Array(F29);var c29=0;for(C29=0;C29<F29;c29++,C29++){if(c29===Y29[0]){c29++;Y29.shift();}R29[C29]=w29[c29];}return R29;};Z09.prototype._parseAACPES=function q29(H29){var M29=this._audioTrack,t29=H29.data,m29=H29.pts,T29=0,l29=this.aacOverFlow,O29=this.aacLastPTS,x29=void 0,a29=void 0,o29=void 0,L29=void 0,G29=void 0;if(l29){var g29=new Uint8Array(l29.byteLength+t29.byteLength);g29.set(l29,0);g29.set(t29,l29.byteLength);t29=g29;}for(o29=T29,G29=t29.length;o29<G29-1;o29++){if(c7o(t29,o29)){break;}}if(o29){var N29=void 0,K29=void 0;if(o29<G29-1){N29='AAC PES did not start with ADTS header,offset:'+o29;K29=false;}else{N29='no ADTS header found in AAC PES';K29=true;}j2o["b"].warn('parsing error:'+N29);this.observer.trigger(Q2o["a"].ERROR,{type:k2o["b"].MEDIA_ERROR,details:k2o["a"].FRAG_PARSING_ERROR,fatal:K29,reason:N29});if(K29){return;}}P7o(M29,this.observer,t29,o29,this.audioCodec);a29=0;x29=o7o(M29.samplerate);if(l29&&O29){var b29=O29+x29;if(Math.abs(b29-m29)>1){j2o["b"].log('AAC: align PTS for overlapping frames by '+Math.round((b29-m29)/90));m29=b29;}}while(o29<G29){if(c7o(t29,o29)&&o29+5<G29){var P29=q7o(M29,t29,o29,m29,a29);if(P29){o29+=P29.length;L29=P29.sample.pts;a29++;}else{break;}}else{o29++;}}if(o29<G29){l29=t29.subarray(o29,G29);}else{l29=null;}this.aacOverFlow=l29;this.aacLastPTS=L29;};Z09.prototype._parseMPEGPES=function d29(B29){var V29=B29.data;var W29=V29.length;var p29=0;var v29=0;var z29=B29.pts;while(v29<W29){if(r2o.isHeader(V29,v29)){var Z29=r2o.appendFrame(this._audioTrack,V29,v29,z29,p29);if(Z29){v29+=Z29.length;p29++;}else{break;}}else{v29++;}}};Z09.prototype._parseID3PES=function S29(e29){this._id3Track.samples.push(e29);};return Z09;}();function C7o(R9o,U9o){return R9o[U9o]===0xff&&(R9o[U9o+1]&0xf6)===0xf0;}var N7o=K7o;var a7o=function(){J29.prototype.resetInitSegment=function k29(E29,i29,y29,I29){this._audioTrack={container:'audio/mpeg',type:'audio',id:-1,sequenceNumber:0,isAAC:false,samples:[],len:0,manifestCodec:i29,duration:I29,inputTimeScale:90000};};function J29(A29,j29,Q29){J7o(this,J29);this.observer=A29;this.config=Q29;this.remuxer=j29;}J29.prototype.resetTimeStamp=function r29(){};J29.probe=function u79(f79){var X79=void 0,D79=void 0;var h79=i2o["a"].getID3Data(f79,0);if(h79&&i2o["a"].getTimeStamp(h79)!==undefined){for(X79=h79.length,D79=Math.min(f79.length-1,X79+100);X79<D79;X79++){if(r2o.probe(f79,X79)){j2o["b"].log('MPEG Audio sync word found !');return true;}}}return false;};J29.prototype.append=function C79(c79,m79,N79,K79){var Y79=i2o["a"].getID3Data(c79,0);var q79=i2o["a"].getTimeStamp(Y79);var F79=q79?90*q79:m79*90000;var w79=Y79.length;var G79=c79.length;var o79=0,R79=0;var t79=this._audioTrack;var l79=[{pts:F79,dts:F79,data:Y79}];while(w79<G79){if(r2o.isHeader(c79,w79)){var U79=r2o.appendFrame(t79,c79,w79,F79,o79);if(U79){w79+=U79.length;R79=U79.sample.pts;o79++;}else{break;}}else if(i2o["a"].isHeader(c79,w79)){Y79=i2o["a"].getID3Data(c79,w79);l79.push({pts:R79,dts:R79,data:Y79});w79+=Y79.length;}else{w79++;}}this.remuxer.remux(t79,{samples:[]},{samples:l79,inputTimeScale:90000},{samples:[]},m79,N79,K79);};J29.prototype.destroy=function a79(){};return J29;}();function q7o(j9o,i9o,A9o,E9o,I9o){var k9o=o7o(j9o.samplerate);var e9o=W7o(i9o,A9o,E9o,I9o,k9o);if(e9o){var Q9o=e9o.stamp;var s9o=e9o.headerLength;var n9o=e9o.frameLength;var J9o={unit:i9o.subarray(A9o+s9o,A9o+s9o+n9o),pts:Q9o,dts:Q9o};j9o.samples.push(J9o);j9o.len+=n9o;return{sample:J9o,length:n9o+s9o};}return undefined;}var F7o=a7o;var g7o=function(){P79.getSilentFrame=function M79(x79,L79){switch(x79){case'mp4a.40.2':if(L79===1){return new Uint8Array([0x00,0xc8,0x00,0x80,0x23,0x80]);}else if(L79===2){return new Uint8Array([0x21,0x00,0x49,0x90,0x02,0x19,0x00,0x23,0x80]);}else if(L79===3){return new Uint8Array([0x00,0xc8,0x00,0x80,0x20,0x84,0x01,0x26,0x40,0x08,0x64,0x00,0x8e]);}else if(L79===4){return new Uint8Array([0x00,0xc8,0x00,0x80,0x20,0x84,0x01,0x26,0x40,0x08,0x64,0x00,0x80,0x2c,0x80,0x08,0x02,0x38]);}else if(L79===5){return new Uint8Array([0x00,0xc8,0x00,0x80,0x20,0x84,0x01,0x26,0x40,0x08,0x64,0x00,0x82,0x30,0x04,0x99,0x00,0x21,0x90,0x02,0x38]);}else if(L79===6){return new Uint8Array([0x00,0xc8,0x00,0x80,0x20,0x84,0x01,0x26,0x40,0x08,0x64,0x00,0x82,0x30,0x04,0x99,0x00,0x21,0x90,0x02,0x00,0xb2,0x00,0x20,0x08,0xe0]);}break;default:if(L79===1){return new Uint8Array([0x1,0x40,0x22,0x80,0xa3,0x4e,0xe6,0x80,0xba,0x8,0x0,0x0,0x0,0x1c,0x6,0xf1,0xc1,0xa,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5e]);}else if(L79===2){return new Uint8Array([0x1,0x40,0x22,0x80,0xa3,0x5e,0xe6,0x80,0xba,0x8,0x0,0x0,0x0,0x0,0x95,0x0,0x6,0xf1,0xa1,0xa,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5e]);}else if(L79===3){return new Uint8Array([0x1,0x40,0x22,0x80,0xa3,0x5e,0xe6,0x80,0xba,0x8,0x0,0x0,0x0,0x0,0x95,0x0,0x6,0xf1,0xa1,0xa,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5a,0x5e]);}break;}return null;};function P79(){i7o(this,P79);}return P79;}();var X7o=g7o;var I2o=Math.pow(2,32)-1;var L7o=function(){T79.init=function d79(){T79.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],'.mp3':[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var v79=void 0;for(v79 in T79.types){if(T79.types.hasOwnProperty(v79)){T79.types[v79]=[v79.charCodeAt(0),v79.charCodeAt(1),v79.charCodeAt(2),v79.charCodeAt(3)];}}var p79=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x76,0x69,0x64,0x65,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x56,0x69,0x64,0x65,0x6f,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x00]);var Z79=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x73,0x6f,0x75,0x6e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x53,0x6f,0x75,0x6e,0x64,0x48,0x61,0x6e,0x64,0x6c,0x65,0x72,0x00]);T79.HDLR_TYPES={'video':p79,'audio':Z79};var B79=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x0c,0x75,0x72,0x6c,0x20,0x00,0x00,0x00,0x01]);var W79=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00]);T79.STTS=T79.STSC=T79.STCO=W79;T79.STSZ=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00]);T79.VMHD=new Uint8Array([0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00]);T79.SMHD=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00]);T79.STSD=new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01]);var V79=new Uint8Array([105,115,111,109]);var z79=new Uint8Array([97,118,99,49]);var S79=new Uint8Array([0,0,0,1]);T79.FTYP=T79.box(T79.types.ftyp,V79,S79,V79,z79);T79.DINF=T79.box(T79.types.dinf,T79.box(T79.types.dref,B79));};T79.box=function e79(Q79){var A79=Array.prototype.slice.call(arguments,1),n79=8,s79=A79.length,j79=s79,J79=void 0;while(s79--){n79+=A79[s79].byteLength;}J79=new Uint8Array(n79);J79[0]=n79>>24&0xff;J79[1]=n79>>16&0xff;J79[2]=n79>>8&0xff;J79[3]=n79&0xff;J79.set(Q79,4);for(s79=0,n79=8;s79<j79;s79++){J79.set(A79[s79],n79);n79+=A79[s79].byteLength;}return J79;};T79.hdlr=function k79(i79){return T79.box(T79.types.hdlr,T79.HDLR_TYPES[i79]);};T79.mdat=function I79(E79){return T79.box(T79.types.mdat,E79);};T79.mdhd=function y79(r79,h99){h99*=r79;var u99=Math.floor(h99/(I2o+1));var X99=Math.floor(h99%(I2o+1));return T79.box(T79.types.mdhd,new Uint8Array([0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,r79>>24&0xFF,r79>>16&0xFF,r79>>8&0xFF,r79&0xFF,u99>>24,u99>>16&0xFF,u99>>8&0xFF,u99&0xFF,X99>>24,X99>>16&0xFF,X99>>8&0xFF,X99&0xFF,0x55,0xc4,0x00,0x00]));};T79.mdia=function f99(D99){return T79.box(T79.types.mdia,T79.mdhd(D99.timescale,D99.duration),T79.hdlr(D99.type),T79.minf(D99));};T79.mfhd=function C99(w99){return T79.box(T79.types.mfhd,new Uint8Array([0x00,0x00,0x00,0x00,w99>>24,w99>>16&0xFF,w99>>8&0xFF,w99&0xFF]));};T79.minf=function Y99(c99){if(c99.type==='audio'){return T79.box(T79.types.minf,T79.box(T79.types.smhd,T79.SMHD),T79.DINF,T79.stbl(c99));}else{return T79.box(T79.types.minf,T79.box(T79.types.vmhd,T79.VMHD),T79.DINF,T79.stbl(c99));}};T79.moof=function F99(R99,U99,q99){return T79.box(T79.types.moof,T79.mfhd(R99),T79.traf(q99,U99));};T79.moov=function o99(t99){var l99=t99.length,G99=[];while(l99--){G99[l99]=T79.trak(t99[l99]);}return T79.box.apply(null,[T79.types.moov,T79.mvhd(t99[0].timescale,t99[0].duration)].concat(G99).concat(T79.mvex(t99)));};T79.mvex=function m99(a99){var K99=a99.length,N99=[];while(K99--){N99[K99]=T79.trex(a99[K99]);}return T79.box.apply(null,[T79.types.mvex].concat(N99));};T79.mvhd=function b99(g99,L99){L99*=g99;var P99=Math.floor(L99/(I2o+1));var M99=Math.floor(L99%(I2o+1));var x99=new Uint8Array([0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,g99>>24&0xFF,g99>>16&0xFF,g99>>8&0xFF,g99&0xFF,P99>>24,P99>>16&0xFF,P99>>8&0xFF,P99&0xFF,M99>>24,M99>>16&0xFF,M99>>8&0xFF,M99&0xFF,0x00,0x01,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff]);return T79.box(T79.types.mvhd,x99);};T79.sdtp=function O99(V99){var d99=V99.samples||[],v99=new Uint8Array(4+d99.length),T99=void 0,H99=void 0;for(H99=0;H99<d99.length;H99++){T99=d99[H99].flags;v99[H99+4]=T99.dependsOn<<4|T99.isDependedOn<<2|T99.hasRedundancy;}return T79.box(T79.types.sdtp,v99);};T79.stbl=function p99(Z99){return T79.box(T79.types.stbl,T79.stsd(Z99),T79.box(T79.types.stts,T79.STTS),T79.box(T79.types.stsc,T79.STSC),T79.box(T79.types.stsz,T79.STSZ),T79.box(T79.types.stco,T79.STCO));};T79.avc1=function B99(W99){var z99=[],s99=[],S99=void 0,n99=void 0,e99=void 0;for(S99=0;S99<W99.sps.length;S99++){n99=W99.sps[S99];e99=n99.byteLength;z99.push(e99>>>8&0xFF);z99.push(e99&0xFF);z99=z99.concat(Array.prototype.slice.call(n99));}for(S99=0;S99<W99.pps.length;S99++){n99=W99.pps[S99];e99=n99.byteLength;s99.push(e99>>>8&0xFF);s99.push(e99&0xFF);s99=s99.concat(Array.prototype.slice.call(n99));}var k99=T79.box(T79.types.avcC,new Uint8Array([0x01,z99[3],z99[4],z99[5],0xfc|3,0xE0|W99.sps.length].concat(z99).concat([W99.pps.length]).concat(s99))),j99=W99.width,Q99=W99.height,A99=W99.pixelRatio[0],J99=W99.pixelRatio[1];return T79.box(T79.types.avc1,new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,j99>>8&0xFF,j99&0xff,Q99>>8&0xFF,Q99&0xff,0x00,0x48,0x00,0x00,0x00,0x48,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x12,0x64,0x61,0x69,0x6C,0x79,0x6D,0x6F,0x74,0x69,0x6F,0x6E,0x2F,0x68,0x6C,0x73,0x2E,0x6A,0x73,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x11,0x11]),k99,T79.box(T79.types.btrt,new Uint8Array([0x00,0x1c,0x9c,0x80,0x00,0x2d,0xc6,0xc0,0x00,0x2d,0xc6,0xc0])),T79.box(T79.types.pasp,new Uint8Array([A99>>24,A99>>16&0xFF,A99>>8&0xFF,A99&0xFF,J99>>24,J99>>16&0xFF,J99>>8&0xFF,J99&0xFF])));};T79.esds=function i99(E99){var I99=E99.config.length;return new Uint8Array([0x00,0x00,0x00,0x00,0x03,0x17+I99,0x00,0x01,0x00,0x04,0x0f+I99,0x40,0x15,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x05].concat([I99]).concat(E99.config).concat([0x06,0x01,0x02]));};T79.mp4a=function y99(r99){var u89=r99.samplerate;return T79.box(T79.types.mp4a,new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,r99.channelCount,0x00,0x10,0x00,0x00,0x00,0x00,u89>>8&0xFF,u89&0xff,0x00,0x00]),T79.box(T79.types.esds,T79.esds(r99)));};T79.mp3=function X89(f89){var h89=f89.samplerate;return T79.box(T79.types['.mp3'],new Uint8Array([0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,f89.channelCount,0x00,0x10,0x00,0x00,0x00,0x00,h89>>8&0xFF,h89&0xff,0x00,0x00]));};T79.stsd=function D89(C89){if(C89.type==='audio'){if(!C89.isAAC&&C89.codec==='mp3'){return T79.box(T79.types.stsd,T79.STSD,T79.mp3(C89));}return T79.box(T79.types.stsd,T79.STSD,T79.mp4a(C89));}else{return T79.box(T79.types.stsd,T79.STSD,T79.avc1(C89));}};T79.tkhd=function w89(Y89){var c89=Y89.id,U89=Y89.duration*Y89.timescale,q89=Y89.width,o89=Y89.height,F89=Math.floor(U89/(I2o+1)),R89=Math.floor(U89%(I2o+1));return T79.box(T79.types.tkhd,new Uint8Array([0x01,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,c89>>24&0xFF,c89>>16&0xFF,c89>>8&0xFF,c89&0xFF,0x00,0x00,0x00,0x00,F89>>24,F89>>16&0xFF,F89>>8&0xFF,F89&0xFF,R89>>24,R89>>16&0xFF,R89>>8&0xFF,R89&0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0x00,q89>>8&0xFF,q89&0xFF,0x00,0x00,o89>>8&0xFF,o89&0xFF,0x00,0x00]));};T79.traf=function t89(K89,a89){var N89=T79.sdtp(K89),l89=K89.id,G89=Math.floor(a89/(I2o+1)),m89=Math.floor(a89%(I2o+1));return T79.box(T79.types.traf,T79.box(T79.types.tfhd,new Uint8Array([0x00,0x00,0x00,0x00,l89>>24,l89>>16&0XFF,l89>>8&0XFF,l89&0xFF])),T79.box(T79.types.tfdt,new Uint8Array([0x01,0x00,0x00,0x00,G89>>24,G89>>16&0XFF,G89>>8&0XFF,G89&0xFF,m89>>24,m89>>16&0XFF,m89>>8&0XFF,m89&0xFF])),T79.trun(K89,N89.length+16+20+8+16+8+8),N89);};T79.trak=function b89(g89){g89.duration=g89.duration||0xffffffff;return T79.box(T79.types.trak,T79.tkhd(g89),T79.mdia(g89));};T79.trex=function P89(L89){var M89=L89.id;return T79.box(T79.types.trex,new Uint8Array([0x00,0x00,0x00,0x00,M89>>24,M89>>16&0XFF,M89>>8&0XFF,M89&0xFF,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x01]));};T79.trun=function x89(S89,Z89){var z89=S89.samples||[],H89=z89.length,W89=12+16*H89,B89=new Uint8Array(W89),V89=void 0,p89=void 0,v89=void 0,d89=void 0,O89=void 0,T89=void 0;Z89+=8+W89;B89.set([0x00,0x00,0x0f,0x01,H89>>>24&0xFF,H89>>>16&0xFF,H89>>>8&0xFF,H89&0xFF,Z89>>>24&0xFF,Z89>>>16&0xFF,Z89>>>8&0xFF,Z89&0xFF],0);for(V89=0;V89<H89;V89++){p89=z89[V89];v89=p89.duration;d89=p89.size;O89=p89.flags;T89=p89.cts;B89.set([v89>>>24&0xFF,v89>>>16&0xFF,v89>>>8&0xFF,v89&0xFF,d89>>>24&0xFF,d89>>>16&0xFF,d89>>>8&0xFF,d89&0xFF,O89.isLeading<<2|O89.dependsOn,O89.isDependedOn<<6|O89.hasRedundancy<<4|O89.paddingValue<<1|O89.isNonSync,O89.degradPrio&0xF0<<8,O89.degradPrio&0x0F,T89>>>24&0xFF,T89>>>16&0xFF,T89>>>8&0xFF,T89&0xFF],12+16*V89);}return T79.box(T79.types.trun,B89);};T79.initSegment=function e89(J89){if(!T79.types){T79.init();}var s89=T79.moov(J89),n89=void 0;n89=new Uint8Array(T79.FTYP.byteLength+s89.byteLength);n89.set(T79.FTYP);n89.set(s89,T79.FTYP.byteLength);return n89;};function T79(){B7o(this,T79);}return T79;}();var y2o=L7o;var D7o=10*1000;var H7o=function(){Q89.prototype.destroy=function r89(){};function Q89(I89,E89,y89,i89){e7o(this,Q89);this.observer=I89;this.config=E89;this.typeSupported=y89;var k89=navigator.userAgent;this.isSafari=i89&&i89.indexOf('Apple')>-1&&k89&&!k89.match('CriOS');this.ISGenerated=false;}Q89.prototype.resetTimeStamp=function u39(X39){this._initPTS=this._initDTS=X39;};Q89.prototype.resetInitSegment=function h39(){this.ISGenerated=false;};Q89.prototype.remux=function f39(C39,D39,K39,m39,w39,c39,t39){if(!this.ISGenerated){this.generateIS(C39,D39,w39);}if(this.ISGenerated){var q39=C39.samples.length;var F39=D39.samples.length;var R39=w39;var U39=w39;if(q39&&F39){var G39=(C39.samples[0].dts-D39.samples[0].dts)/D39.inputTimeScale;R39+=Math.max(0,G39);U39+=Math.max(0,-G39);}if(q39){if(!C39.timescale){j2o["b"].warn('regenerate InitSegment as audio detected');this.generateIS(C39,D39,w39);}var Y39=this.remuxAudio(C39,R39,c39,t39);if(F39){var l39=void 0;if(Y39){l39=Y39.endPTS-Y39.startPTS;}if(!D39.timescale){j2o["b"].warn('regenerate InitSegment as video detected');this.generateIS(C39,D39,w39);}this.remuxVideo(D39,U39,c39,l39,t39);}}else{if(F39){var o39=this.remuxVideo(D39,U39,c39,0,t39);if(o39&&C39.codec){this.remuxEmptyAudio(C39,R39,c39,o39);}}}}if(K39.samples.length){this.remuxID3(K39,w39);}if(m39.samples.length){this.remuxText(m39,w39);}this.observer.trigger(Q2o["a"].FRAG_PARSED);};Q89.prototype.generateIS=function N39(a39,b39,V39){var v39=this.observer,d39=a39.samples,H39=b39.samples,x39=this.typeSupported,T39='audio/mp4',L39={},p39={tracks:L39},M39=this._initPTS===undefined,g39=void 0,P39=void 0;if(M39){g39=P39=Infinity;}if(a39.config&&d39.length){a39.timescale=a39.samplerate;j2o["b"].log('audio sampling rate : '+a39.samplerate);if(!a39.isAAC){if(x39.mpeg){T39='audio/mpeg';a39.codec='';}else if(x39.mp3){a39.codec='mp3';}}L39.audio={container:T39,codec:a39.codec,initSegment:!a39.isAAC&&x39.mpeg?new Uint8Array():y2o.initSegment([a39]),metadata:{channelCount:a39.channelCount}};if(M39){g39=P39=d39[0].pts-a39.inputTimeScale*V39;}}if(b39.sps&&b39.pps&&H39.length){var O39=b39.inputTimeScale;b39.timescale=O39;L39.video={container:'video/mp4',codec:b39.codec,initSegment:y2o.initSegment([b39]),metadata:{width:b39.width,height:b39.height}};if(M39){g39=Math.min(g39,H39[0].pts-O39*V39);P39=Math.min(P39,H39[0].dts-O39*V39);this.observer.trigger(Q2o["a"].INIT_PTS_FOUND,{initPTS:g39});}}if(Object.keys(L39).length){v39.trigger(Q2o["a"].FRAG_PARSING_INIT_SEGMENT,p39);this.ISGenerated=true;if(M39){this._initPTS=g39;this._initDTS=P39;}}else{v39.trigger(Q2o["a"].ERROR,{type:k2o["b"].MEDIA_ERROR,details:k2o[715.87===7280?4.72e+3:"a"].FRAG_PARSING_ERROR,fatal:false,reason:'no audio/video samples found'});}};Q89.prototype.remuxVideo=function Z39(n39,B59,x59,p59,W59){var h59=8,e39=n39.timescale,W39=void 0,k39=void 0,G59=void 0,j39=void 0,z39=void 0,d59=void 0,L59=void 0,u59=void 0,B39=n39.samples,i39=[],E39=B39.length,a59=this._PTSNormalize,c59=this._initDTS;var s39=this.nextAvcDts;var f59=this.isSafari;if(E39===0){return;}if(f59){x59|=B39.length&&s39&&(W59&&Math.abs(B59-s39/e39)<0.1||Math.abs(B39[0].pts-s39-c59)<e39/5);}if(!x59){s39=B59*e39;}B39.forEach(function(z59){z59.pts=a59(z59.pts-c59,s39);z59.dts=a59(z59.dts-c59,s39);});B39.sort(function(S59,e59){var n59=S59.dts-e59.dts;var s59=S59.pts-e59.pts;return n59||s59||S59.id-e59.id;});var D59=B39.reduce(function(A59,J59){return Math.max(Math.min(A59,J59.pts-J59.dts),-18000);},0);if(D59<0){j2o["b"].warn('PTS < DTS detected in video samples, shifting DTS by '+Math.round(D59/90)+' ms to overcome this issue');for(var C59=0;C59<B39.length;C59++){B39[C59].dts+=D59;}}var I39=B39[0];z39=Math.max(I39.dts,0);j39=Math.max(I39.pts,0);var Q39=Math.round((z39-s39)/90);if(x59){if(Q39){if(Q39>1){j2o["b"].log('AVC:'+Q39+' ms hole between fragments detected,filling it');}else if(Q39<-1){j2o["b"].log('AVC:'+-Q39+' ms overlapping between fragments detected');}z39=s39;B39[0].dts=z39;j39=Math.max(j39-Q39,s39);B39[0].pts=j39;j2o["b"].log('Video/PTS/DTS adjusted: '+Math.round(j39/90)+'/'+Math.round(z39/90)+',delta:'+Q39+' ms');}}d59=z39;I39=B39[B39.length-1];u59=Math.max(I39.dts,0);L59=Math.max(I39.pts,0,u59);if(f59){W39=Math.round((u59-z39)/(B39.length-1));}var o59=0,M59=0;for(var r39=0;r39<E39;r39++){var A39=B39[r39],t59=A39.units,l59=t59.length,w59=0;for(var Y59=0;Y59<l59;Y59++){w59+=t59[Y59].data.length;}M59+=w59;o59+=l59;A39.length=w59;if(f59){A39.dts=z39+r39*W39;}else{A39.dts=Math.max(A39.dts,z39);}A39.pts=Math.max(A39.pts,A39.dts);}var X59=M59+4*o59+8;try{k39=new Uint8Array(X59);}catch(j59){this.observer.trigger(Q2o["a"].ERROR,{type:k2o["b"].MUX_ERROR,details:k2o["a"].REMUX_ALLOC_ERROR,fatal:false,bytes:X59,reason:'fail allocating video mdat '+X59});return;}var N59=new DataView(k39.buffer);N59.setUint32(0,X59);k39.set(y2o.types.mdat,4);for(var J39=0;J39<E39;J39++){var S39=B39[J39],g59=S39.units,P59=0,U59=void 0;for(var q59=0,T59=g59.length;q59<T59;q59++){var O59=g59[q59],H59=O59.data,F59=O59.data.byteLength;N59.setUint32(h59,F59);h59+=4;k39.set(H59,h59);h59+=F59;P59+=4+F59;}if(!f59){if(J39<E39-1){W39=B39[J39+1].dts-S39.dts;}else{var b59=this.config,y39=S39.dts-B39[J39>0?J39-1:J39].dts;if(b59.stretchShortVideoTrack){var v59=b59.maxBufferHole,V59=Math.floor(v59*e39),R59=(p59?j39+p59*e39:this.nextAudioPts)-S39.pts;if(R59>V59){W39=R59-y39;if(W39<0){W39=y39;}j2o["b"].log('It is approximately '+R59/90+' ms to the next segment; using duration '+W39/90+' ms for the last video frame.');}else{W39=y39;}}else{W39=y39;}}U59=Math.round(S39.pts-S39.dts);}else{U59=Math.max(0,W39*Math.round((S39.pts-S39.dts)/W39));}i39.push({size:P59,duration:W39,cts:U59,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:S39.key?2:1,isNonSync:S39.key?0:1}});}this.nextAvcDts=u59+W39;var Z59=n39.dropped;n39.len=0;n39.nbNalu=0;n39.dropped=0;if(i39.length&&navigator.userAgent.toLowerCase().indexOf('chrome')>-1){var K59=i39[0].flags;K59.dependsOn=2;K59.isNonSync=0;}n39.samples=i39;G59=y2o.moof(n39.sequenceNumber++,z39,n39);n39.samples=[];var m59={data1:G59,data2:k39,startPTS:j39/e39,endPTS:(L59+W39)/e39,startDTS:z39/e39,endDTS:this.nextAvcDts/e39,type:'video',hasAudio:false,hasVideo:true,nb:i39.length,dropped:Z59};this.observer.trigger(Q2o["a"].FRAG_PARSING_DATA,m59);return m59;};Q89.prototype.remuxAudio=function Q59(k59,Z0n,b0n,s0n){var I59=k59.inputTimeScale,n0n=k59.timescale,U0n=I59/n0n,e0n=k59.isAAC?1024:1152,u0n=e0n*U0n,S0n=this._PTSNormalize,V0n=this._initDTS,l0n=!k59.isAAC&&this.typeSupported.mpeg;var F0n=void 0,w0n=void 0,i59=void 0,C0n=void 0,N0n=void 0,K0n=void 0,G0n=void 0,E59=k59.samples,c0n=[],y59=this.nextAudioPts;b0n|=E59.length&&y59&&(s0n&&Math.abs(Z0n-y59/I59)<0.1||Math.abs(E59[0].pts-y59-V0n)<20*u0n);E59.forEach(function(J0n){J0n.pts=J0n.dts=S0n(J0n.pts-V0n,Z0n*I59);});E59=E59.filter(function(A0n){return A0n.pts>=0;});if(E59.length===0){return;}if(!b0n){if(!s0n){y59=E59[0].pts;}else{y59=Z0n*I59;}}if(k59.isAAC){var v0n=this.config.maxAudioFramesDrift;for(var h0n=0,r59=y59;h0n<E59.length;){var f0n=E59[h0n],Y0n;var z0n=f0n.pts;Y0n=z0n-r59;var P0n=Math.abs(1000*Y0n/I59);if(Y0n<=-v0n*u0n){j2o["b"].warn('Dropping 1 audio frame @ '+(r59/I59).toFixed(3)+'s due to '+Math.round(P0n)+' ms overlap.');E59.splice(h0n,1);k59.len-=f0n.unit.length;}else if(Y0n>=v0n*u0n&&P0n<D7o&&r59){var M0n=Math.round(Y0n/u0n);j2o["b"].warn('Injecting '+M0n+' audio frame @ '+(r59/I59).toFixed(3)+'s due to '+Math.round(1000*Y0n/I59)+' ms gap.');for(var L0n=0;L0n<M0n;L0n++){var x0n=Math.max(r59,0);i59=X7o.getSilentFrame(k59.manifestCodec||k59.codec,k59.channelCount);if(!i59){j2o["b"].log('Unable to get silent frame for given audio codec; duplicating last frame instead.');i59=f0n.unit.subarray();}E59.splice(h0n,0,{unit:i59,pts:x0n,dts:x0n});k59.len+=i59.length;r59+=u0n;h0n++;}f0n.pts=f0n.dts=r59;r59+=u0n;h0n++;}else{if(Math.abs(Y0n)>0.1*u0n){}f0n.pts=f0n.dts=r59;r59+=u0n;h0n++;}}}for(var m0n=0,W0n=E59.length;m0n<W0n;m0n++){var T0n=E59[m0n];var R0n=T0n.unit;var X0n=T0n.pts;if(G0n!==undefined){w0n.duration=Math.round((X0n-G0n)/U0n);}else{var D0n=Math.round(1000*(X0n-y59)/I59),t0n=0;if(b0n&&k59.isAAC){if(D0n){if(D0n>0&&D0n<D7o){t0n=Math.round((X0n-y59)/u0n);j2o["b"].log(D0n+' ms hole between AAC samples detected,filling it');if(t0n>0){i59=X7o.getSilentFrame(k59.manifestCodec||k59.codec,k59.channelCount);if(!i59){i59=R0n.subarray();}k59.len+=t0n*i59.length;}}else if(D0n<-12){j2o[(1881,1243)!=(6564,1875)?"b":"k"].log('drop overlapping AAC sample, expected/parsed/delta:'+(y59/I59).toFixed(3)+'s/'+(X0n/I59).toFixed(3)+'s/'+-D0n+'ms');k59.len-=R0n.byteLength;continue;}X0n=y59;}}K0n=X0n;if(k59.len>0){var o0n=l0n?k59.len:k59.len+8;F0n=l0n?0:8;try{C0n=new Uint8Array(o0n);}catch(j0n){this.observer.trigger(Q2o["a"].ERROR,{type:k2o["b"].MUX_ERROR,details:k2o["a"].REMUX_ALLOC_ERROR,fatal:false,bytes:o0n,reason:'fail allocating audio mdat '+o0n});return;}if(!l0n){var B0n=new DataView(C0n.buffer);B0n.setUint32(0,o0n);C0n.set(y2o.types.mdat,4);}}else{return;}for(var H0n=0;H0n<t0n;H0n++){i59=X7o.getSilentFrame(k59.manifestCodec||k59.codec,k59.channelCount);if(!i59){j2o["b"].log('Unable to get silent frame for given audio codec; duplicating this frame instead.');i59=R0n.subarray();}C0n.set(i59,F0n);F0n+=i59.byteLength;w0n={size:i59.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}};c0n.push(w0n);}}C0n.set(R0n,F0n);var g0n=R0n.byteLength;F0n+=g0n;w0n={size:g0n,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}};c0n.push(w0n);G0n=X0n;}var a0n=0;var q0n=c0n.length;if(q0n>=2){a0n=c0n[q0n-2].duration;w0n.duration=a0n;}if(q0n){this.nextAudioPts=y59=G0n+U0n*a0n;k59.len=0;k59.samples=c0n;if(l0n){N0n=new Uint8Array();}else{N0n=y2o.moof(k59.sequenceNumber++,K0n/U0n,k59);}k59.samples=[];var p0n=K0n/I59;var O0n=y59/I59;var d0n={data1:N0n,data2:C0n,startPTS:p0n,endPTS:O0n,startDTS:p0n,endDTS:O0n,type:'audio',hasAudio:true,hasVideo:false,nb:q0n};this.observer.trigger(Q2o["a"].FRAG_PARSING_DATA,d0n);return d0n;}return null;};Q89.prototype.remuxEmptyAudio=function Q0n(k0n,R1n,F1n,c1n){var i0n=k0n.inputTimeScale,w1n=k0n.samplerate?k0n.samplerate:i0n,f1n=i0n/w1n,h1n=this.nextAudioPts,y0n=(h1n!==undefined?h1n:c1n.startDTS*i0n)+this._initDTS,D1n=c1n.endDTS*i0n+this._initDTS,C1n=1024,u1n=f1n*C1n,Y1n=Math.ceil((D1n-y0n)/u1n),E0n=X7o.getSilentFrame(k0n.manifestCodec||k0n.codec,k0n.channelCount);j2o["b"].warn('remux empty Audio');if(!E0n){j2o["b"].trace('Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!');return;}var r0n=[];for(var I0n=0;I0n<Y1n;I0n++){var X1n=y0n+I0n*u1n;r0n.push({unit:E0n,pts:X1n,dts:X1n});k0n.len+=E0n.length;}k0n.samples=r0n;this.remuxAudio(k0n,R1n,F1n);};Q89.prototype.remuxID3=function U1n(o1n,m1n){var l1n=o1n.samples.length,q1n=void 0;var G1n=o1n.inputTimeScale;var K1n=this._initPTS;var N1n=this._initDTS;if(l1n){for(var t1n=0;t1n<l1n;t1n++){q1n=o1n.samples[t1n];q1n.pts=(q1n.pts-K1n)/G1n;q1n.dts=(q1n.dts-N1n)/G1n;}this.observer.trigger(Q2o["a"].FRAG_PARSING_METADATA,{samples:o1n.samples});}o1n.samples=[];m1n=m1n;};Q89.prototype.remuxText=function a1n(b1n,L1n){b1n.samples.sort(function(H1n,T1n){return H1n.pts-T1n.pts;});var M1n=b1n.samples.length,g1n=void 0;var x1n=b1n.inputTimeScale;var O1n=this._initPTS;if(M1n){for(var P1n=0;P1n<M1n;P1n++){g1n=b1n.samples[P1n];g1n.pts=(g1n.pts-O1n)/x1n;}this.observer.trigger(Q2o["a"].FRAG_PARSING_USERDATA,{samples:b1n.samples});}b1n.samples=[];L1n=L1n;};Q89.prototype._PTSNormalize=function d1n(v1n,p1n){var V1n=void 0;if(p1n===undefined){return v1n;}if(p1n<v1n){V1n=-8589934592;}else{V1n=8589934592;}while(Math.abs(v1n-p1n)>4294967296){v1n+=V1n;}return v1n;};return Q89;}();var h7o=H7o;function e7o(A89,j89){if(!(A89 instanceof j89)){throw new TypeError("Cannot call a class as a function");}}var d7o=function(){W1n.prototype.destroy=function S1n(){};W1n.prototype.resetTimeStamp=function e1n(){};W1n.prototype.resetInitSegment=function n1n(){};function W1n(z1n){A7o(this,W1n);this.observer=z1n;}W1n.prototype.remux=function s1n(k1n,j1n,r1n,I1n,Q1n,E1n,y1n,i1n){var A1n=this.observer;var J1n='';if(k1n){J1n+='audio';}if(j1n){J1n+='video';}A1n.trigger(Q2o["a"].FRAG_PARSING_DATA,{data1:i1n,startPTS:Q1n,startDTS:Q1n,type:J1n,hasAudio:!!k1n,hasVideo:!!j1n,nb:1,dropped:0});A1n.trigger(Q2o["a"].FRAG_PARSED);};return W1n;}();function I7o(T5o,d5o){if(!(T5o instanceof d5o)){throw new TypeError("Cannot call a class as a function");}}function P7o(M9o,L9o,x9o,O9o,H9o){if(!M9o.samplerate){var P9o=Z7o(L9o,x9o,O9o,H9o);M9o.config=P9o.config;M9o.samplerate=P9o.samplerate;M9o.channelCount=P9o.channelCount;M9o.codec=P9o.codec;M9o.manifestCodec=P9o.manifestCodec;j2o["b"].log('parsed codec:'+M9o.codec+',rate:'+P9o.samplerate+',nb channel:'+P9o.channelCount);}}var v7o=d7o;var V7o=Object(O7o["a"])();function c7o(G9o,m9o){if(m9o+1<G9o.length&&C7o(G9o,m9o)){return true;}return false;}function o7o(T9o){return 1024*90000/T9o;}function s7o(N3o,a3o){if(!(N3o instanceof a3o)){throw new TypeError("Cannot call a class as a function");}}function z7o(V09,p09){if(!(V09 instanceof p09)){throw new TypeError("Cannot call a class as a function");}}var w7o=V7o.performance;var t7o=function(){h4n.prototype.destroy=function Y4n(){var c4n=this.demuxer;if(c4n){c4n.destroy();}};h4n.prototype.push=function F4n(o4n,R4n,P4n,M4n,l4n,G4n,m4n,K4n,N4n,a4n,b4n,g4n){if(o4n.byteLength>0&&R4n!=null&&R4n.key!=null&&R4n.method==='AES-128'){var q4n=this.decrypter;if(q4n==null){q4n=this.decrypter=new Y7o["a"](this.observer,this.config);}var t4n=this;var U4n=void 0;try{U4n=w7o.now();}catch(L4n){U4n=Date.now();}q4n.decrypt(o4n,R4n.key.buffer,R4n.iv.buffer,function(O4n){var x4n=void 0;try{x4n=w7o.now();}catch(H4n){x4n=Date.now();}t4n.observer.trigger(Q2o["a"].FRAG_DECRYPTED,{stats:{tstart:U4n,tdecrypt:x4n}});t4n.pushDecrypted(new Uint8Array(O4n),R4n,new Uint8Array(P4n),M4n,l4n,G4n,m4n,K4n,N4n,a4n,b4n,g4n);});}else{this.pushDecrypted(new Uint8Array(o4n),R4n,new Uint8Array(P4n),M4n,l4n,G4n,m4n,K4n,N4n,a4n,b4n,g4n);}};h4n.prototype.pushDecrypted=function T4n(S4n,u6n,r4n,y4n,E4n,I4n,Z4n,J4n,i4n,k4n,Q4n,j4n){var d4n=this.demuxer;if(!d4n||(Z4n||J4n)&&!this.probe(S4n)){var v4n=this.observer;var z4n=this.typeSupported;var W4n=this.config;var n4n=[{demux:N7o,remux:h7o},{demux:b7o["a"],remux:v7o},{demux:R7o,remux:h7o},{demux:F7o,remux:h7o}];for(var p4n=0,A4n=n4n.length;p4n<A4n;p4n++){var V4n=n4n[p4n];var B4n=V4n.demux.probe;if(B4n(S4n)){var s4n=this.remuxer=new V4n.remux(v4n,W4n,z4n,this.vendor);d4n=new V4n.demux(v4n,s4n,W4n,z4n);this.probe=B4n;break;}}if(!d4n){v4n.trigger(Q2o["a"].ERROR,{type:k2o["b"].MEDIA_ERROR,details:k2o["a"].FRAG_PARSING_ERROR,fatal:true,reason:'no demux matching with content found'});return;}this.demuxer=d4n;}var e4n=this.remuxer;if(Z4n||J4n){d4n.resetInitSegment(r4n,y4n,E4n,k4n);e4n.resetInitSegment();}if(Z4n){d4n.resetTimeStamp(j4n);e4n.resetTimeStamp(j4n);}if(typeof d4n.setDecryptData==='function'){d4n.setDecryptData(u6n);}d4n.append(S4n,I4n,i4n,Q4n);};function h4n(f4n,D4n,C4n,w4n){k7o(this,h4n);this.observer=f4n;this.typeSupported=D4n;this.config=C4n;this.vendor=w4n;}return h4n;}();var Q7o=S7o["a"]=t7o;function n7o(K9o,N9o){if(N9o+1<K9o.length&&C7o(K9o,N9o)){var g9o=x7o(K9o,N9o);var b9o=g9o;if(N9o+5<K9o.length){b9o=M7o(K9o,N9o);}var a9o=N9o+b9o;if(a9o===K9o.length||a9o+1<K9o.length&&C7o(K9o,a9o)){return true;}}return false;}function A7o(Z1n,B1n){if(!(Z1n instanceof B1n)){throw new TypeError("Cannot call a class as a function");}}},function(l3n,J2n,R6n){"use strict";function J8n(A8i,J8i){if(typeof J8i!=="function"&&J8i!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof J8i);}A8i.prototype=Object.create(J8i&&J8i.prototype,{constructor:{value:A8i,enumerable:false,writable:true,configurable:true}});if(J8i)Object.setPrototypeOf?Object.setPrototypeOf(A8i,J8i):A8i.__proto__=J8i;}function m8n(V1a,d1a){if(d1a&&d1a.fragments.length){if(!V1a.hasProgramDateTime||!d1a.hasProgramDateTime){return;}var p1a=d1a.fragments[0].programDateTime;var Z1a=V1a.fragments[0].programDateTime;var v1a=(Z1a-p1a)/1000+d1a.fragments[0].start;if(Object(Y6n["a"])(v1a)){X6n["b"].log('adjusting PTS using programDateTime delta, sliding:'+v1a.toFixed(3));N2n(v1a,V1a);}}}Object.defineProperty(J2n,"__esModule",{value:true});var y6n={};R6n.d(y6n,"newCue",function(){return r9n;});function u3n(K8t,N8t){if(!(K8t instanceof N8t)){throw new TypeError("Cannot call a class as a function");}}var M9n=R6n(5);var x6n=R6n.n(M9n);var f6n=R6n(2);var Y6n=R6n(3);var h6n=R6n(1);function R8n(m1a,K1a){var l1a=m1a.fragments;var G1a=K1a.fragments;if(!G1a.length||!l1a.length){X6n["b"].log('No fragments to align');return;}var t1a=w8n(l1a,G1a[0].cc);if(!t1a||t1a&&!t1a.startPTS){X6n["b"].log('No frag in previous level to align on');return;}return t1a;}function j9n(D9W,f9W){if(!D9W){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return f9W&&(typeof f9W==="object"||typeof f9W==="function")?f9W:D9W;}function I8n(x4a,O4a){if(!(x4a instanceof O4a)){throw new TypeError("Cannot call a class as a function");}}function b6n(Q97,k97){if(!(Q97 instanceof k97)){throw new TypeError("Cannot call a class as a function");}}function G2n(s0a,z0a){var i0a=Math.max(s0a.startSN,z0a.startSN)-z0a.startSN,k0a=Math.min(s0a.endSN,z0a.endSN)-z0a.startSN,A0a=z0a.startSN-s0a.startSN,j0a=s0a.fragments,J0a=z0a.fragments,Q0a=0,n0a=void 0;if(z0a.initSegment&&s0a.initSegment){z0a.initSegment=s0a.initSegment;}if(k0a<i0a){z0a.PTSKnown=false;return;}for(var W0a=i0a;W0a<=k0a;W0a++){var e0a=j0a[A0a+W0a],S0a=J0a[W0a];if(S0a&&e0a){Q0a=e0a.cc-S0a.cc;if(Object(Y6n["a"])(e0a.startPTS)){S0a.start=S0a.startPTS=e0a.startPTS;S0a.endPTS=e0a.endPTS;S0a.duration=e0a.duration;S0a.backtracked=e0a.backtracked;S0a.dropped=e0a.dropped;n0a=S0a;}}}if(Q0a){X6n["b"].log('discontinuity sliding from playlist, take drift into account');for(W0a=0;W0a<J0a.length;W0a++){J0a[W0a].cc+=Q0a;}}if(n0a){U2n(z0a,n0a,n0a.startPTS,n0a.endPTS,n0a.startDTS,n0a.endDTS);}else{if(A0a>=0&&A0a<j0a.length){var I0a=j0a[A0a].start;for(W0a=0;W0a<J0a.length;W0a++){J0a[W0a].start+=I0a;}}}z0a.PTSKnown=s0a.PTSKnown;}var X6n=R6n(0);var b7n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(G3n){return typeof G3n;}:function(m3n){return m3n&&typeof Symbol==="function"&&m3n.constructor===Symbol&&m3n!==Symbol.prototype?"symbol":typeof m3n;};function Z8n(z9i,W9i){if(typeof W9i!=="function"&&W9i!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof W9i);}z9i.prototype=Object.create(W9i&&W9i.prototype,{constructor:{value:z9i,enumerable:false,writable:true,configurable:true}});if(W9i)Object.setPrototypeOf?Object.setPrototypeOf(z9i,W9i):z9i.__proto__=W9i;}function y8n(t3i,l3i){if(!(t3i instanceof l3i)){throw new TypeError("Cannot call a class as a function");}}var E7n=new Set(['hlsEventGeneric','hlsHandlerDestroying','hlsHandlerDestroyed']);var G9n=function(){a3n.prototype.destroy=function L3n(){this.onHandlerDestroying();this.unregisterListeners();this.onHandlerDestroyed();};a3n.prototype.onHandlerDestroying=function x3n(){};a3n.prototype.onHandlerDestroyed=function O3n(){};a3n.prototype.isEventHandler=function H3n(){return b7n(this.handledEvents)==='object'&&this.handledEvents.length&&typeof this.onEvent==='function';};function a3n(M3n){D3n(this,a3n);this.hls=M3n;this.onEvent=this.onEvent.bind(this);for(var g3n=arguments.length,P3n=Array(g3n>1?g3n-1:0),b3n=1;b3n<g3n;b3n++){P3n[b3n-1]=arguments[b3n];}this.handledEvents=P3n;this.useGenericHandler=true;this.registerListeners();}a3n.prototype.registerListeners=function T3n(){if(this.isEventHandler()){this.handledEvents.forEach(function(d3n){if(E7n.has(d3n)){throw new Error('Forbidden event-name: '+d3n);}this.hls.on(d3n,this.onEvent);},this);}};a3n.prototype.unregisterListeners=function v3n(){if(this.isEventHandler()){this.handledEvents.forEach(function(V3n){this.hls.off(V3n,this.onEvent);},this);}};a3n.prototype.onEvent=function p3n(Z3n,B3n){this.onEventGeneric(Z3n,B3n);};a3n.prototype.onEventGeneric=function W3n(z3n,e3n){var S3n=function n3n(J3n,A3n){var s3n='on'+J3n.replace('hls','');if(typeof this[s3n]!=='function'){throw new Error('Event '+J3n+' has no generic handler in this '+this.constructor.name+' class (tried '+s3n+')');}return this[s3n].bind(this,A3n);};try{S3n.call(this,z3n,e3n).call();}catch(j3n){X6n["b"].error('An internal error happened while handling event '+z3n+'. Error message: "'+j3n.message+'". Here is a stacktrace:',j3n);this.hls.trigger(h6n[(8880,461)==4460?("r",776.40):"a"].ERROR,{type:f6n["b"].OTHER_ERROR,details:f6n["a"].INTERNAL_EXCEPTION,fatal:false,event:z3n,err:j3n});}};return a3n;}();var c6n=G9n;function f3n(o5n,t5n){if(!(o5n instanceof t5n)){throw new TypeError("Cannot call a class as a function");}}function U9n(c7t){var F7t=[];for(var Y7t=0;Y7t<c7t.length;Y7t++){if(c7t[Y7t].kind==='subtitles'){F7t.push(c7t[Y7t]);}}return F7t;}function v7n(q97){return q97.replace(/<br(?: \/)?>/gi,'\n');}var q2n=R6n(9);var l2n=function(){function Q3n(E3n,I3n){for(var i3n=0;i3n<I3n.length;i3n++){var k3n=I3n[i3n];k3n.enumerable=k3n.enumerable||false;k3n.configurable=true;if("value"in k3n)k3n.writable=true;Object.defineProperty(E3n,k3n.key,k3n);}}return function(y3n,r3n,u5n){if(r3n)Q3n(y3n.prototype,r3n);if(u5n)Q3n(y3n,u5n);return y3n;};}();function w3n(x6a,O6a){if(!(x6a instanceof O6a)){throw new TypeError("Cannot call a class as a function");}}var K2n=function(){l2n(f5n,[{key:'uri',get:function D5n(){if(!this._uri&&this.reluri){this._uri=x6n.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:true});}return this._uri;}}]);function f5n(){E8n(this,f5n);this.method=null;this.key=null;this.iv=null;this._uri=null;}return f5n;}();var z6n=K2n;function h3n(P8t,g8t){if(typeof g8t!=="function"&&g8t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof g8t);}P8t.prototype=Object.create(g8t&&g8t.prototype,{constructor:{value:P8t,enumerable:false,writable:true,configurable:true}});if(g8t)Object.setPrototypeOf?Object.setPrototypeOf(P8t,g8t):P8t.__proto__=g8t;}var U7n=function(){function C5n(F5n,c5n){for(var Y5n=0;Y5n<c5n.length;Y5n++){var w5n=c5n[Y5n];w5n.enumerable=w5n.enumerable||false;w5n.configurable=true;if("value"in w5n)w5n.writable=true;Object.defineProperty(F5n,w5n.key,w5n);}}return function(R5n,U5n,q5n){if(U5n)C5n(R5n.prototype,U5n);if(q5n)C5n(R5n,q5n);return R5n;};}();function J9n(X9W,h9W){if(!(X9W instanceof h9W)){throw new TypeError("Cannot call a class as a function");}}var a7n=function(){l5n.prototype.addElementaryStream=function m5n(K5n){this._elementaryStreams[K5n]=true;};l5n.prototype.hasElementaryStream=function N5n(a5n){return this._elementaryStreams[a5n]===true;};function l5n(){var G5n;f3n(this,l5n);this._url=null;this._byteRange=null;this._decryptdata=null;this.tagList=[];this.programDateTime=null;this.rawProgramDateTime=null;this._elementaryStreams=(G5n={},G5n[l5n.ElementaryStreamTypes.AUDIO]=false,G5n[l5n.ElementaryStreamTypes.VIDEO]=false,G5n);}l5n.prototype.createInitializationVector=function b5n(M5n){var P5n=new Uint8Array(16);for(var g5n=12;g5n<16;g5n++){P5n[g5n]=M5n>>8*(15-g5n)&0xff;}return P5n;};l5n.prototype.fragmentDecryptdataFromLevelkey=function L5n(x5n,H5n){var O5n=x5n;if(x5n&&x5n.method&&x5n.uri&&!x5n.iv){O5n=new z6n();O5n.method=x5n.method;O5n.baseuri=x5n.baseuri;O5n.reluri=x5n.reluri;O5n.iv=this.createInitializationVector(H5n);}return O5n;};U7n(l5n,[{key:'url',get:function T5n(){if(!this._url&&this.relurl){this._url=x6n.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:true});}return this._url;},set:function d5n(v5n){this._url=v5n;}},{key:'byteRange',get:function V5n(){if(!this._byteRange&&!this.rawByteRange){return[];}if(this._byteRange){return this._byteRange;}var p5n=[];if(this.rawByteRange){var Z5n=this.rawByteRange.split('@',2);if(Z5n.length===1){var B5n=this.lastByteRangeEndOffset;p5n[0]=B5n||0;}else{p5n[0]=parseInt(Z5n[1]);}p5n[1]=parseInt(Z5n[0])+p5n[0];this._byteRange=p5n;}return p5n;}},{key:'byteRangeStartOffset',get:function W5n(){return this.byteRange[0];}},{key:'byteRangeEndOffset',get:function z5n(){return this.byteRange[1];}},{key:'decryptdata',get:function S5n(){if(!this._decryptdata){this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn);}return this._decryptdata;}},{key:'endProgramDateTime',get:function e5n(){if(!Object(Y6n[(178.78,5271)<2933?0x439:"a"])(this.programDateTime)){return null;}var n5n=!Object(Y6n["a"])(this.duration)?0:this.duration;return this.programDateTime+n5n*1000;}},{key:'encrypted',get:function s5n(){return!!(this.decryptdata&&this.decryptdata.uri!==null&&this.decryptdata.key===null);}}],[{key:'ElementaryStreamTypes',get:function J5n(){return{AUDIO:'audio',VIDEO:'video'};}}]);return l5n;}();function a8n(c2i,F2i){if(!(c2i instanceof F2i)){throw new TypeError("Cannot call a class as a function");}}var G6n=a7n;function U2n(x0a,P0a,L0a,T0a,V0a,p0a){var Z0a=L0a;if(Object(Y6n["a"])(P0a.startPTS)){var v0a=Math.abs(P0a.startPTS-L0a);if(!Object(Y6n["a"])(P0a.deltaPTS)){P0a.deltaPTS=v0a;}else{P0a.deltaPTS=Math.max(v0a,P0a.deltaPTS);}Z0a=Math.max(L0a,P0a.startPTS);L0a=Math.min(L0a,P0a.startPTS);T0a=Math.max(T0a,P0a.endPTS);V0a=Math.min(V0a,P0a.startDTS);p0a=Math.max(p0a,P0a.endDTS);}var B0a=L0a-P0a.start;P0a.start=P0a.startPTS=L0a;P0a.maxStartPTS=Z0a;P0a.endPTS=T0a;P0a.startDTS=V0a;P0a.endDTS=p0a;P0a.duration=T0a-L0a;var d0a=P0a.sn;if(!x0a||d0a<x0a.startSN||d0a>x0a.endSN){return 0;}var H0a=void 0,O0a=void 0,M0a=void 0;H0a=d0a-x0a.startSN;O0a=x0a.fragments;O0a[H0a]=P0a;for(M0a=H0a;M0a>0;M0a--){t2n(O0a,M0a,M0a-1);}for(M0a=H0a;M0a<O0a.length-1;M0a++){t2n(O0a,M0a,M0a+1);}x0a.PTSKnown=true;return B0a;}function F3n(c5i,Y5i){if(!c5i){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return Y5i&&(typeof Y5i==="object"||typeof Y5i==="function")?Y5i:c5i;}function h8n(A9W,J9W){if(!A9W){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return J9W&&(typeof J9W==="object"||typeof J9W==="function")?J9W:A9W;}function W8n(X7t,h7t){if(!(X7t instanceof h7t)){throw new TypeError("Cannot call a class as a function");}}var T7n=function(){function A5n(i5n,k5n){for(var Q5n=0;Q5n<k5n.length;Q5n++){var j5n=k5n[Q5n];j5n.enumerable=j5n.enumerable||false;j5n.configurable=true;if("value"in j5n)j5n.writable=true;Object.defineProperty(i5n,j5n.key,j5n);}}return function(I5n,E5n,y5n){if(E5n)A5n(I5n.prototype,E5n);if(y5n)A5n(I5n,y5n);return I5n;};}();var W7n=function(){T7n(X0W,[{key:"hasProgramDateTime",get:function f0W(){return!!(this.fragments[0]&&Object(Y6n["a"])(this.fragments[0].programDateTime));}}]);function X0W(h0W){r8n(this,X0W);this.endCC=0;this.endSN=0;this.fragments=[];this.initSegment=null;this.live=true;this.needSidxRanges=false;this.startCC=0;this.startSN=0;this.startTimeOffset=null;this.targetduration=0;this.totalduration=0;this.type=null;this.url=h0W;this.version=null;}return X0W;}();var j7n=W7n;var Q7n=/^(\d+)x(\d+)$/;var h2n=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;var D9n=function(){w0W.prototype.decimalInteger=function F0W(U0W){var R0W=parseInt(this[U0W],10);if(R0W>Number.MAX_SAFE_INTEGER){return Infinity;}return R0W;};w0W.prototype.hexadecimalInteger=function q0W(G0W){if(this[G0W]){var o0W=(this[G0W]||'0x').slice(2);o0W=(o0W.length&1?'0':'')+o0W;var l0W=new Uint8Array(o0W.length/2);for(var t0W=0;t0W<o0W.length/2;t0W++){l0W[t0W]=parseInt(o0W.slice(t0W*2,t0W*2+2),16);}return l0W;}else{return null;}};w0W.prototype.hexadecimalIntegerAsNumber=function m0W(N0W){var K0W=parseInt(this[N0W],16);if(K0W>Number.MAX_SAFE_INTEGER){return Infinity;}return K0W;};function w0W(Y0W){z9n(this,w0W);if(typeof Y0W==='string'){Y0W=w0W.parseAttrList(Y0W);}for(var c0W in Y0W){if(Y0W.hasOwnProperty(c0W)){this[c0W]=Y0W[c0W];}}}w0W.prototype.decimalFloatingPoint=function a0W(b0W){return parseFloat(this[b0W]);};w0W.prototype.enumeratedString=function g0W(P0W){return this[P0W];};w0W.prototype.decimalResolution=function M0W(x0W){var L0W=Q7n.exec(this[x0W]);if(L0W===null){return undefined;}return{width:parseInt(L0W[1],10),height:parseInt(L0W[2],10)};};w0W.parseAttrList=function O0W(V0W){var T0W=void 0,d0W={};h2n.lastIndex=0;while((T0W=h2n.exec(V0W))!==null){var H0W=T0W[2],v0W='"';if(H0W.indexOf(v0W)===0&&H0W.lastIndexOf(v0W)===H0W.length-1){H0W=H0W.slice(1,-1);}d0W[T0W[1]]=H0W;}return d0W;};return w0W;}();function c3n(C5i,w5i){if(!(C5i instanceof w5i)){throw new TypeError("Cannot call a class as a function");}}var N6n=D9n;function H8n(s4t,J4t){if(!(s4t instanceof J4t)){throw new TypeError("Cannot call a class as a function");}}var P9n={audio:{'a3ds':true,'ac-3':true,'ac-4':true,'alac':true,'alaw':true,'dra1':true,'dts+':true,'dts-':true,'dtsc':true,'dtse':true,'dtsh':true,'ec-3':true,'enca':true,'g719':true,'g726':true,'m4ae':true,'mha1':true,'mha2':true,'mhm1':true,'mhm2':true,'mlpa':true,'mp4a':true,'raw ':true,'Opus':true,'samr':true,'sawb':true,'sawp':true,'sevc':true,'sqcp':true,'ssmv':true,'twos':true,'ulaw':true},video:{'avc1':true,'avc2':true,'avc3':true,'avc4':true,'avcp':true,'drac':true,'dvav':true,'dvhe':true,'encv':true,'hev1':true,'hvc1':true,'mjp2':true,'mp4v':true,'mvc1':true,'mvc2':true,'mvc3':true,'mvc4':true,'resv':true,'rv60':true,'s263':true,'svc1':true,'svc2':true,'vc-1':true,'vp08':true,'vp09':true}};var n6n=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g;var s6n=/#EXT-X-MEDIA:(.*)/g;var E6n=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(''),'g');var g2n=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/;var T2n=/\.(mp4|m4s|m4v|m4a)$/i;function V8n(E4t,y4t,r4t,u6t){return Math.min(y4t,u6t)-Math.max(E4t,r4t);}function B9n(C7W,D7W){if(typeof D7W!=="function"&&D7W!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof D7W);}C7W.prototype=Object.create(D7W&&D7W.prototype,{constructor:{value:C7W,enumerable:false,writable:true,configurable:true}});if(D7W)Object.setPrototypeOf?Object.setPrototypeOf(C7W,D7W):C7W.__proto__=D7W;}function N2n(a1a,N1a){N1a.fragments.forEach(function(b1a){if(b1a){var g1a=b1a.start+a1a;b1a.start=b1a.startPTS=g1a;b1a.endPTS=g1a+b1a.duration;}});N1a.PTSKnown=true;}function Z9n(p07,V07){if(typeof V07!=="function"&&V07!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof V07);}p07.prototype=Object.create(V07&&V07.prototype,{constructor:{value:p07,enumerable:false,writable:true,configurable:true}});if(V07)Object.setPrototypeOf?Object.setPrototypeOf(p07,V07):p07.__proto__=V07;}function c8n(J1i,A1i){if(!(J1i instanceof A1i)){throw new TypeError("Cannot call a class as a function");}}function k8n(p3W,Z3W){if(!(p3W instanceof Z3W)){throw new TypeError("Cannot call a class as a function");}}var S2n=function(){n0W.findGroup=function s0W(A0W,k0W){if(!A0W){return null;}var j0W=null;for(var J0W=0;J0W<A0W.length;J0W++){var Q0W=A0W[J0W];if(Q0W.id===k0W){j0W=Q0W;}}return j0W;};n0W.convertAVC1ToAVCOTI=function i0W(y0W){var I0W=void 0,E0W=y0W.split('.');if(E0W.length>2){I0W=E0W.shift()+'.';I0W+=parseInt(E0W.shift()).toString(16);I0W+=('000'+parseInt(E0W.shift()).toString(16)).substr(-4);}else{I0W=y0W;}return I0W;};n0W.resolve=function r0W(u1W,X1W){return x6n.a.buildAbsoluteURL(X1W,u1W,{alwaysNormalize:true});};n0W.parseMasterPlaylist=function h1W(c1W,F1W){var Y1W=[],C1W=void 0;function R1W(U1W,q1W){['video','audio'].forEach(function(l1W){var o1W=U1W.filter(function(G1W){return C3n(G1W,l1W);});if(o1W.length){var t1W=o1W.filter(function(m1W){return m1W.lastIndexOf('avc1',0)===0||m1W.lastIndexOf('mp4a',0)===0;});q1W[l1W+'Codec']=t1W.length>0?t1W[0]:o1W[0];U1W=U1W.filter(function(K1W){return o1W.indexOf(K1W)===-1;});}});q1W.unknownCodecs=U1W;}n6n.lastIndex=0;while((C1W=n6n.exec(c1W))!=null){var f1W={};var D1W=f1W.attrs=new N6n(C1W[1]);f1W.url=n0W.resolve(C1W[2],F1W);var w1W=D1W.decimalResolution('RESOLUTION');if(w1W){f1W.width=w1W.width;f1W.height=w1W.height;}f1W.bitrate=D1W.decimalInteger('AVERAGE-BANDWIDTH')||D1W.decimalInteger('BANDWIDTH');f1W.name=D1W.NAME;R1W([].concat((D1W.CODECS||'').split(/[ ,]+/)),f1W);if(f1W.videoCodec&&f1W.videoCodec.indexOf('avc1')!==-1){f1W.videoCodec=n0W.convertAVC1ToAVCOTI(f1W.videoCodec);}Y1W.push(f1W);}return Y1W;};function n0W(){i9n(this,n0W);}n0W.parseMasterPlaylistMedia=function N1W(H1W,T1W,O1W){var g1W=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];var P1W=void 0;var L1W=[];var x1W=0;s6n.lastIndex=0;while((P1W=s6n.exec(H1W))!==null){var a1W={};var b1W=new N6n(P1W[1]);if(b1W.TYPE===O1W){a1W.groupId=b1W['GROUP-ID'];a1W.name=b1W.NAME;a1W.type=O1W;a1W.default=b1W.DEFAULT==='YES';a1W.autoselect=b1W.AUTOSELECT==='YES';a1W.forced=b1W.FORCED==='YES';if(b1W.URI){a1W.url=n0W.resolve(b1W.URI,T1W);}a1W.lang=b1W.LANGUAGE;if(!a1W.name){a1W.name=a1W.lang;}if(g1W.length){var M1W=n0W.findGroup(g1W,a1W.groupId);a1W.audioCodec=M1W?M1W.codec:g1W[0].codec;}a1W.id=x1W++;L1W.push(a1W);}}return L1W;};n0W.parseLevelPlaylist=function d1W(Y4W,e1W,i1W,I1W,c4W){var Q1W=0;var z1W=0;var V1W=new j7n(e1W);var B1W=new z6n();var n1W=0;var S1W=null;var v1W=new G6n();var p1W=void 0;var W1W=void 0;var s1W=null;E6n.lastIndex=0;while((p1W=E6n.exec(Y4W))!==null){var J1W=p1W[1];if(J1W){v1W.duration=parseFloat(J1W);var A1W=(' '+p1W[2]).slice(1);v1W.title=A1W||null;v1W.tagList.push(A1W?['INF',J1W,A1W]:['INF',J1W]);}else if(p1W[3]){if(Object(Y6n["a"])(v1W.duration)){var f4W=Q1W++;v1W.type=I1W;v1W.start=z1W;v1W.levelkey=B1W;v1W.sn=f4W;v1W.level=i1W;v1W.cc=n1W;v1W.urlId=c4W;v1W.baseurl=e1W;v1W.relurl=(' '+p1W[3]).slice(1);k9n(v1W,S1W);V1W.fragments.push(v1W);S1W=v1W;z1W+=v1W.duration;v1W=new G6n();}}else if(p1W[4]){v1W.rawByteRange=(' '+p1W[4]).slice(1);if(S1W){var y1W=S1W.byteRangeEndOffset;if(y1W){v1W.lastByteRangeEndOffset=y1W;}}}else if(p1W[5]){v1W.rawProgramDateTime=(' '+p1W[5]).slice(1);v1W.tagList.push(['PROGRAM-DATE-TIME',v1W.rawProgramDateTime]);if(s1W===null){s1W=V1W.fragments.length;}}else{p1W=p1W[0].match(g2n);for(W1W=1;W1W<p1W.length;W1W++){if(p1W[W1W]!==undefined){break;}}var Z1W=(' '+p1W[W1W+1]).slice(1);var u4W=(' '+p1W[W1W+2]).slice(1);switch(p1W[W1W]){case'#':v1W.tagList.push(u4W?[Z1W,u4W]:[Z1W]);break;case'PLAYLIST-TYPE':V1W.type=Z1W.toUpperCase();break;case'MEDIA-SEQUENCE':Q1W=V1W.startSN=parseInt(Z1W);break;case'TARGETDURATION':V1W.targetduration=parseFloat(Z1W);break;case'VERSION':V1W.version=parseInt(Z1W);break;case'EXTM3U':break;case'ENDLIST':V1W.live=false;break;case'DIS':n1W++;v1W.tagList.push(['DIS']);break;case'DISCONTINUITY-SEQ':n1W=parseInt(Z1W);break;case'KEY':var h4W=Z1W;var k1W=new N6n(h4W);var j1W=k1W.enumeratedString('METHOD'),X4W=k1W.URI,D4W=k1W.hexadecimalInteger('IV');if(j1W){B1W=new z6n();if(X4W&&['AES-128','SAMPLE-AES','SAMPLE-AES-CENC'].indexOf(j1W)>=0){B1W.method=j1W;B1W.baseuri=e1W;B1W.reluri=X4W;B1W.key=null;B1W.iv=D4W;}}break;case'START':var C4W=Z1W;var w4W=new N6n(C4W);var E1W=w4W.decimalFloatingPoint('TIME-OFFSET');if(Object(Y6n["a"])(E1W)){V1W.startTimeOffset=E1W;}break;case'MAP':var r1W=new N6n(Z1W);v1W.relurl=r1W.URI;v1W.rawByteRange=r1W.BYTERANGE;v1W.baseurl=e1W;v1W.level=i1W;v1W.type=I1W;v1W.sn='initSegment';V1W.initSegment=v1W;v1W=new G6n();v1W.rawProgramDateTime=V1W.initSegment.rawProgramDateTime;break;default:X6n["b"].warn('line parsed but not handled: '+p1W);break;}}}v1W=S1W;if(v1W&&!v1W.relurl){V1W.fragments.pop();z1W-=v1W.duration;}V1W.totalduration=z1W;V1W.averagetargetduration=z1W/V1W.fragments.length;V1W.endSN=Q1W-1;V1W.startCC=V1W.fragments[0]?V1W.fragments[0].cc:0;V1W.endCC=n1W;if(!V1W.initSegment&&V1W.fragments.length){if(V1W.fragments.every(function(F4W){return T2n.test(F4W.relurl);})){X6n["b"].warn('MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX');v1W=new G6n();v1W.relurl=V1W.fragments[0].relurl;v1W.baseurl=e1W;v1W.level=i1W;v1W.type=I1W;v1W.sn='initSegment';V1W.initSegment=v1W;V1W.needSidxRanges=true;}}if(s1W){s9n(V1W.fragments,s1W);}return V1W;};return n0W;}();var L6n=S2n;var j2n=function(){function m4W(b4W,a4W){for(var N4W=0;N4W<a4W.length;N4W++){var K4W=a4W[N4W];K4W.enumerable=K4W.enumerable||false;K4W.configurable=true;if("value"in K4W)K4W.writable=true;Object.defineProperty(b4W,K4W.key,K4W);}}return function(g4W,P4W,M4W){if(P4W)m4W(g4W.prototype,P4W);if(M4W)m4W(g4W,M4W);return g4W;};}();var R7n=window,r6n=R7n.performance;var F6n={MANIFEST:'manifest',LEVEL:'level',AUDIO_TRACK:'audioTrack',SUBTITLE_TRACK:'subtitleTrack'};var O6n={MAIN:'main',AUDIO:'audio',SUBTITLE:'subtitle'};var M7n=function(V4W){function v4W(Z4W){U8n(this,v4W);var p4W=l8n(this,V4W.call(this,Z4W,h6n["a"].MANIFEST_LOADING,h6n[5240!==1540?"a":"l"].LEVEL_LOADING,h6n["a"].AUDIO_TRACK_LOADING,h6n["a"].SUBTITLE_TRACK_LOADING));p4W.loaders={};return p4W;}L8n(v4W,V4W);v4W.canHaveQualityLevels=function B4W(W4W){return W4W!==F6n.AUDIO_TRACK&&W4W!==F6n.SUBTITLE_TRACK;};v4W.mapContextToLevelType=function z4W(e4W){var S4W=e4W.type;switch(S4W){case F6n.AUDIO_TRACK:return O6n.AUDIO;case F6n.SUBTITLE_TRACK:return O6n.SUBTITLE;default:return O6n.MAIN;}};v4W.getResponseUrl=function n4W(J4W,A4W){var s4W=J4W.url;if(s4W===undefined||s4W.indexOf('data:')===0){s4W=A4W.url;}return s4W;};v4W.prototype.createInternalLoader=function j4W(i4W){var Q4W=this.hls.config;var I4W=Q4W.pLoader;var E4W=Q4W.loader;var y4W=I4W||E4W;var k4W=new y4W(Q4W);i4W.loader=k4W;this.loaders[i4W.type]=k4W;return k4W;};v4W.prototype.getInternalLoader=function r4W(u6W){return this.loaders[u6W.type];};v4W.prototype.resetInternalLoader=function X6W(h6W){if(this.loaders[h6W]){delete this.loaders[h6W];}};v4W.prototype.destroyInternalLoaders=function f6W(){for(var D6W in this.loaders){var C6W=this.loaders[D6W];if(C6W){C6W.destroy();}this.resetInternalLoader(D6W);}};v4W.prototype.destroy=function w6W(){this.destroyInternalLoaders();V4W.prototype.destroy.call(this);};v4W.prototype.onManifestLoading=function Y6W(c6W){this.load(c6W.url,{type:F6n.MANIFEST,level:0,id:null});};v4W.prototype.onLevelLoading=function F6W(R6W){this.load(R6W.url,{type:F6n.LEVEL,level:R6W.level,id:R6W.id});};v4W.prototype.onAudioTrackLoading=function U6W(q6W){this.load(q6W.url,{type:F6n.AUDIO_TRACK,level:null,id:q6W.id});};v4W.prototype.onSubtitleTrackLoading=function o6W(t6W){this.load(t6W.url,{type:F6n.SUBTITLE_TRACK,level:null,id:t6W.id});};v4W.prototype.load=function l6W(M6W,G6W){var m6W=this.hls.config;X6n["b"].debug('Loading playlist of type '+G6W.type+', level: '+G6W.level+', id: '+G6W.id);var K6W=this.getInternalLoader(G6W);if(K6W){var P6W=K6W.context;if(P6W&&P6W.url===M6W){X6n["b"].trace('playlist request ongoing');return false;}else{X6n["b"].warn('aborting previous loader for type: '+G6W.type);K6W.abort();}}var N6W=void 0,a6W=void 0,b6W=void 0,g6W=void 0;switch(G6W.type){case F6n.MANIFEST:N6W=m6W.manifestLoadingMaxRetry;a6W=m6W.manifestLoadingTimeOut;b6W=m6W.manifestLoadingRetryDelay;g6W=m6W.manifestLoadingMaxRetryTimeout;break;case F6n.LEVEL:N6W=0;a6W=m6W.levelLoadingTimeOut;break;default:N6W=m6W.levelLoadingMaxRetry;a6W=m6W.levelLoadingTimeOut;b6W=m6W.levelLoadingRetryDelay;g6W=m6W.levelLoadingMaxRetryTimeout;break;}K6W=this.createInternalLoader(G6W);G6W.url=M6W;G6W.responseType=G6W.responseType||'';var x6W={timeout:a6W,maxRetry:N6W,retryDelay:b6W,maxRetryDelay:g6W};var L6W={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};X6n["b"].debug('Calling internal loader delegate for URL: '+M6W);K6W.load(G6W,x6W,L6W);return true;};v4W.prototype.loadsuccess=function O6W(T6W,v6W,H6W){var d6W=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;if(H6W.isSidxRequest){this._handleSidxRequest(T6W,H6W);this._handlePlaylistLoaded(T6W,v6W,H6W,d6W);return;}this.resetInternalLoader(H6W.type);var V6W=T6W.data;v6W.tload=r6n.now();if(V6W.indexOf('#EXTM3U')!==0){this._handleManifestParsingError(T6W,H6W,'no EXTM3U delimiter',d6W);return;}if(V6W.indexOf('#EXTINF:')>0||V6W.indexOf('#EXT-X-TARGETDURATION:')>0){this._handleTrackOrLevelPlaylist(T6W,v6W,H6W,d6W);}else{this._handleMasterPlaylist(T6W,v6W,H6W,d6W);}};v4W.prototype.loaderror=function p6W(W6W,B6W){var Z6W=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this._handleNetworkError(B6W,Z6W);};v4W.prototype.loadtimeout=function z6W(n6W,e6W){var S6W=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this._handleNetworkError(e6W,S6W,true);};v4W.prototype._handleMasterPlaylist=function s6W(i6W,X2W,y6W,E6W){var I6W=this.hls;var Q6W=i6W.data;var j6W=v4W.getResponseUrl(i6W,y6W);var J6W=L6n.parseMasterPlaylist(Q6W,j6W);if(!J6W.length){this._handleManifestParsingError(i6W,y6W,'no level found in manifest',E6W);return;}var r6W=J6W.map(function(h2W){return{id:h2W.attrs.AUDIO,codec:h2W.audioCodec};});var A6W=L6n.parseMasterPlaylistMedia(Q6W,j6W,'AUDIO',r6W);var u2W=L6n.parseMasterPlaylistMedia(Q6W,j6W,'SUBTITLES');if(A6W.length){var k6W=false;A6W.forEach(function(f2W){if(!f2W.url){k6W=true;}});if(k6W===false&&J6W[0].audioCodec&&!J6W[0].attrs.AUDIO){X6n["b"].log('audio codec signaled in quality level, but no embedded audio track signaled, create one');A6W.unshift({type:'main',name:'main'});}}I6W.trigger(h6n["a"].MANIFEST_LOADED,{levels:J6W,audioTracks:A6W,subtitles:u2W,url:j6W,stats:X2W,networkDetails:E6W});};v4W.prototype._handleTrackOrLevelPlaylist=function D2W(q2W,Y2W,C2W,l2W){var K2W=this.hls;var c2W=C2W.id,F2W=C2W.level,U2W=C2W.type;var R2W=v4W.getResponseUrl(q2W,C2W);var o2W=Object(Y6n["a"])(c2W)?c2W:0;var G2W=Object(Y6n["a"])(F2W)?F2W:o2W;var m2W=v4W.mapContextToLevelType(C2W);var w2W=L6n.parseLevelPlaylist(q2W.data,R2W,G2W,m2W,o2W);w2W.tload=Y2W.tload;if(U2W===F6n.MANIFEST){var N2W={url:R2W,details:w2W};K2W.trigger(h6n["a"].MANIFEST_LOADED,{levels:[N2W],audioTracks:[],url:R2W,stats:Y2W,networkDetails:l2W});}Y2W.tparsed=r6n.now();if(w2W.needSidxRanges){var t2W=w2W.initSegment.url;this.load(t2W,{isSidxRequest:true,type:U2W,level:F2W,levelDetails:w2W,id:c2W,rangeStart:0,rangeEnd:2048,responseType:'arraybuffer'});return;}C2W.levelDetails=w2W;this._handlePlaylistLoaded(q2W,Y2W,C2W,l2W);};v4W.prototype._handleSidxRequest=function a2W(P2W,g2W){var b2W=q2n["a"].parseSegmentIndex(new Uint8Array(P2W.data));b2W.references.forEach(function(x2W,O2W){var M2W=x2W.info;var L2W=g2W.levelDetails.fragments[O2W];if(L2W.byteRange.length===0){L2W.rawByteRange=String(1+M2W.end-M2W.start)+'@'+String(M2W.start);}});g2W.levelDetails.initSegment.rawByteRange=String(b2W.moovEndOffset)+'@0';};v4W.prototype._handleManifestParsingError=function H2W(T2W,V2W,d2W,v2W){this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].NETWORK_ERROR,details:f6n["a"].MANIFEST_PARSING_ERROR,fatal:true,url:T2W.url,reason:d2W,networkDetails:v2W});};v4W.prototype._handleNetworkError=function p2W(B2W,e2W){var S2W=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;X6n["b"].info('A network error occured while loading a '+B2W.type+'-type playlist');var W2W=void 0;var Z2W=void 0;var z2W=this.getInternalLoader(B2W);switch(B2W.type){case F6n.MANIFEST:W2W=S2W?f6n["a"].MANIFEST_LOAD_TIMEOUT:f6n["a"].MANIFEST_LOAD_ERROR;Z2W=true;break;case F6n.LEVEL:W2W=S2W?f6n["a"].LEVEL_LOAD_TIMEOUT:f6n["a"].LEVEL_LOAD_ERROR;Z2W=false;break;case F6n.AUDIO_TRACK:W2W=S2W?f6n["a"].AUDIO_TRACK_LOAD_TIMEOUT:f6n[(6950,3809)!==(4140,841.34)?"a":438.53].AUDIO_TRACK_LOAD_ERROR;Z2W=false;break;default:Z2W=false;}if(z2W){z2W.abort();this.resetInternalLoader(B2W.type);}this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].NETWORK_ERROR,details:W2W,fatal:Z2W,url:z2W.url,loader:z2W,context:B2W,networkDetails:e2W});};v4W.prototype._handlePlaylistLoaded=function n2W(E2W,Q2W,s2W,A2W){var k2W=s2W.type,i2W=s2W.level,j2W=s2W.id,J2W=s2W.levelDetails;if(!J2W.targetduration){this._handleManifestParsingError(E2W,s2W,'invalid target duration',A2W);return;}var I2W=v4W.canHaveQualityLevels(s2W.type);if(I2W){this.hls.trigger(h6n["a"].LEVEL_LOADED,{details:J2W,level:i2W||0,id:j2W||0,stats:Q2W,networkDetails:A2W});}else{switch(k2W){case F6n.AUDIO_TRACK:this.hls.trigger(h6n["a"].AUDIO_TRACK_LOADED,{details:J2W,id:j2W,stats:Q2W,networkDetails:A2W});break;case F6n.SUBTITLE_TRACK:this.hls.trigger(h6n["a"].SUBTITLE_TRACK_LOADED,{details:J2W,id:j2W,stats:Q2W,networkDetails:A2W});break;}}};j2n(v4W,null,[{key:'ContextType',get:function y2W(){return F6n;}},{key:'LevelType',get:function r2W(){return O6n;}}]);return v4W;}(c6n);var w2n=M7n;var d7n=function(Y7W){B9n(w7W,Y7W);w7W.prototype.destroy=function R7W(){var U7W=this.loaders;for(var o7W in U7W){var q7W=U7W[o7W];if(q7W){q7W.destroy();}}this.loaders={};Y7W.prototype.destroy.call(this);};w7W.prototype.onFragLoading=function t7W(O7W){var l7W=O7W.frag,N7W=l7W.type,b7W=this.loaders,G7W=this.hls.config,L7W=G7W.fLoader,x7W=G7W.loader;l7W.loaded=0;var m7W=b7W[N7W];if(m7W){X6n["b"].warn('abort previous fragment loader for type: '+N7W);m7W.abort();}m7W=b7W[N7W]=l7W.loader=G7W.fLoader?new L7W(G7W):new x7W(G7W);var K7W=void 0,P7W=void 0,M7W=void 0;K7W={url:l7W.url,frag:l7W,responseType:'arraybuffer',progressData:false};var g7W=l7W.byteRangeStartOffset,a7W=l7W.byteRangeEndOffset;if(Object(Y6n["a"])(g7W)&&Object(Y6n["a"])(a7W)){K7W.rangeStart=g7W;K7W.rangeEnd=a7W;}P7W={timeout:G7W.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:G7W.fragLoadingMaxRetryTimeout};M7W={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)};m7W.load(K7W,P7W,M7W);};w7W.prototype.loadsuccess=function H7W(V7W,p7W,Z7W){var d7W=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var v7W=V7W.data,T7W=Z7W.frag;T7W.loader=undefined;this.loaders[T7W.type]=undefined;this.hls.trigger(h6n["a"].FRAG_LOADED,{payload:v7W,frag:T7W,stats:p7W,networkDetails:d7W});};w7W.prototype.loaderror=function B7W(n7W,S7W){var e7W=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var W7W=S7W.frag;var z7W=W7W.loader;if(z7W){z7W.abort();}this.loaders[W7W.type]=undefined;this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].NETWORK_ERROR,details:f6n["a"].FRAG_LOAD_ERROR,fatal:false,frag:S7W.frag,response:n7W,networkDetails:e7W});};w7W.prototype.loadtimeout=function s7W(k7W,j7W){var Q7W=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var J7W=j7W.frag;var A7W=J7W.loader;if(A7W){A7W.abort();}this.loaders[J7W.type]=undefined;this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].NETWORK_ERROR,details:f6n["a"].FRAG_LOAD_TIMEOUT,fatal:false,frag:j7W.frag,networkDetails:Q7W});};function w7W(F7W){q3n(this,w7W);var c7W=o3n(this,Y7W.call(this,F7W,h6n["a"].FRAG_LOADING));c7W.loaders={};return c7W;}w7W.prototype.loadprogress=function i7W(E7W,r7W,u9W){var y7W=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var I7W=r7W.frag;I7W.loaded=E7W.loaded;this.hls.trigger(h6n["a"].FRAG_LOAD_PROGRESS,{frag:I7W,stats:E7W,networkDetails:y7W});};return w7W;}(c6n);var p7n=d7n;function Y3n(T6a,H6a){if(!T6a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return H6a&&(typeof H6a==="object"||typeof H6a==="function")?H6a:T6a;}var Z7n=function(c9W){Q9n(Y9W,c9W);Y9W.prototype.destroy=function U9W(){for(var o9W in this.loaders){var q9W=this.loaders[o9W];if(q9W){q9W.destroy();}}this.loaders={};c6n.prototype.destroy.call(this);};Y9W.prototype.onKeyLoading=function t9W(M9W){var l9W=M9W.frag,m9W=l9W.type,g9W=this.loaders[m9W],N9W=l9W.decryptdata,K9W=N9W.uri;if(K9W!==this.decrypturl||this.decryptkey===null){var G9W=this.hls.config;if(g9W){X6n[(391.76,76)==3445?7.17e+2:"b"].warn('abort previous key loader for type:'+m9W);g9W.abort();}l9W.loader=this.loaders[m9W]=new G9W.loader(G9W);this.decrypturl=K9W;this.decryptkey=null;var P9W=void 0,a9W=void 0,b9W=void 0;P9W={url:K9W,frag:l9W,responseType:'arraybuffer'};a9W={timeout:G9W.fragLoadingTimeOut,maxRetry:G9W.fragLoadingMaxRetry,retryDelay:G9W.fragLoadingRetryDelay,maxRetryDelay:G9W.fragLoadingMaxRetryTimeout};b9W={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};l9W.loader.load(P9W,a9W,b9W);}else if(this.decryptkey){N9W.key=this.decryptkey;this.hls.trigger(h6n["a"].KEY_LOADED,{frag:l9W});}};Y9W.prototype.loadsuccess=function L9W(O9W,T9W,H9W){var x9W=H9W.frag;this.decryptkey=x9W.decryptdata.key=new Uint8Array(O9W.data);x9W.loader=undefined;this.loaders[x9W.type]=undefined;this.hls.trigger(h6n["a"].KEY_LOADED,{frag:x9W});};Y9W.prototype.loaderror=function d9W(Z9W,p9W){var v9W=p9W.frag,V9W=v9W.loader;if(V9W){V9W.abort();}this.loaders[p9W.type]=undefined;this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].NETWORK_ERROR,details:f6n["a"].KEY_LOAD_ERROR,fatal:false,frag:v9W,response:Z9W});};function Y9W(R9W){J9n(this,Y9W);var F9W=j9n(this,c9W.call(this,R9W,h6n["a"].KEY_LOADING));F9W.loaders={};F9W.decryptkey=null;F9W.decrypturl=null;return F9W;}Y9W.prototype.loadtimeout=function B9W(e9W,S9W){var W9W=S9W.frag,z9W=W9W.loader;if(z9W){z9W.abort();}this.loaders[S9W.type]=undefined;this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].NETWORK_ERROR,details:f6n["a"].KEY_LOAD_TIMEOUT,fatal:false,frag:W9W});};return Y9W;}(c6n);function W9n(l5W,G5W){if(!(l5W instanceof G5W)){throw new TypeError("Cannot call a class as a function");}}var B7n=Z7n;function o3n(f7W,h7W){if(!f7W){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return h7W&&(typeof h7W==="object"||typeof h7W==="function")?h7W:f7W;}function O7n(){this.values=Object.create(null);}function K8n(B1a,W1a){if(!(B1a instanceof W1a)){throw new TypeError("Cannot call a class as a function");}}function N8n(e1t,n1t){if(!(e1t instanceof n1t)){throw new TypeError("Cannot call a class as a function");}}function b8n(U2i,R2i){if(!U2i){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return R2i&&(typeof R2i==="object"||typeof R2i==="function")?R2i:U2i;}function t8n(N4i,K4i){if(typeof K4i!=="function"&&K4i!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof K4i);}N4i.prototype=Object.create(K4i&&K4i.prototype,{constructor:{value:N4i,enumerable:false,writable:true,configurable:true}});if(K4i)Object.setPrototypeOf?Object.setPrototypeOf(N4i,K4i):N4i.__proto__=K4i;}function S6n(I0i){if(I0i&&I0i.cues){while(I0i.cues.length>0){I0i.removeCue(I0i.cues[0]);}}}var m6n={NOT_LOADED:'NOT_LOADED',APPENDING:'APPENDING',PARTIAL:'PARTIAL',OK:'OK'};var z7n=function(i9W){f8n(k9W,i9W);k9W.prototype.destroy=function y9W(){this.fragments=null;this.timeRanges=null;this.config=null;c6n.prototype.destroy.call(this);i9W.prototype.destroy.call(this);};k9W.prototype.getBufferedFrag=function r9W(h8W,D8W){var u8W=this.fragments;var X8W=Object.keys(u8W).filter(function(Y8W){var C8W=u8W[Y8W];if(C8W.body.type!==D8W){return false;}if(!C8W.buffered){return false;}var w8W=C8W.body;return w8W.startPTS<=h8W&&h8W<=w8W.endPTS;});if(X8W.length===0){return null;}else{var f8W=X8W.pop();return u8W[f8W].body;}};k9W.prototype.detectEvictedFragments=function c8W(q8W,o8W){var F8W=this;var R8W=void 0,U8W=void 0;Object.keys(this.fragments).forEach(function(m8W){var t8W=F8W.fragments[m8W];if(t8W.buffered===true){var G8W=t8W.range[q8W];if(G8W){R8W=G8W.time;for(var l8W=0;l8W<R8W.length;l8W++){U8W=R8W[l8W];if(F8W.isTimeBuffered(U8W.startPTS,U8W.endPTS,o8W)===false){F8W.removeFragment(t8W.body);break;}}}}});};function k9W(E9W){E9n(this,k9W);var I9W=h8n(this,i9W.call(this,E9W,h6n["a"].BUFFER_APPENDED,h6n["a"].FRAG_BUFFERED,h6n["a"].FRAG_LOADED));I9W.bufferPadding=0.2;I9W.fragments=Object.create(null);I9W.timeRanges=Object.create(null);I9W.config=E9W.config;return I9W;}k9W.prototype.detectPartialFragments=function K8W(N8W){var b8W=this;var g8W=this.getFragmentKey(N8W);var a8W=this.fragments[g8W];if(a8W){a8W.buffered=true;Object.keys(this.timeRanges).forEach(function(P8W){if(N8W.hasElementaryStream(P8W)){var M8W=b8W.timeRanges[P8W];a8W.range[P8W]=b8W.getBufferedTimes(N8W.startPTS,N8W.endPTS,M8W);}});}};k9W.prototype.getBufferedTimes=function L8W(d8W,H8W,O8W){var v8W=[];var T8W=void 0,V8W=void 0;var p8W=false;for(var x8W=0;x8W<O8W.length;x8W++){T8W=O8W.start(x8W)-this.bufferPadding;V8W=O8W.end(x8W)+this.bufferPadding;if(d8W>=T8W&&H8W<=V8W){v8W.push({startPTS:Math.max(d8W,O8W.start(x8W)),endPTS:Math.min(H8W,O8W.end(x8W))});break;}else if(d8W<V8W&&H8W>T8W){v8W.push({startPTS:Math.max(d8W,O8W.start(x8W)),endPTS:Math.min(H8W,O8W.end(x8W))});p8W=true;}else if(H8W<=T8W){break;}}return{time:v8W,partial:p8W};};k9W.prototype.getFragmentKey=function Z8W(B8W){return B8W.type+'_'+B8W.level+'_'+B8W.urlId+'_'+B8W.sn;};k9W.prototype.getPartialFragment=function W8W(S8W){var z8W=this;var e8W=void 0,n8W=void 0,s8W=void 0;var J8W=null;var A8W=0;Object.keys(this.fragments).forEach(function(Q8W){var j8W=z8W.fragments[Q8W];if(z8W.isPartial(j8W)){n8W=j8W.body.startPTS-z8W.bufferPadding;s8W=j8W.body.endPTS+z8W.bufferPadding;if(S8W>=n8W&&S8W<=s8W){e8W=Math.min(S8W-n8W,s8W-S8W);if(A8W<=e8W){J8W=j8W.body;A8W=e8W;}}}});return J8W;};k9W.prototype.getState=function k8W(y8W){var E8W=this.getFragmentKey(y8W);var I8W=this.fragments[E8W];var i8W=m6n.NOT_LOADED;if(I8W!==undefined){if(!I8W.buffered){i8W=m6n.APPENDING;}else if(this.isPartial(I8W)===true){i8W=m6n.PARTIAL;}else{i8W=m6n.OK;}}return i8W;};k9W.prototype.isPartial=function r8W(u3W){return u3W.buffered===true&&(u3W.range.video!==undefined&&u3W.range.video.partial===true||u3W.range.audio!==undefined&&u3W.range.audio.partial===true);};k9W.prototype.isTimeBuffered=function X3W(Y3W,w3W,D3W){var f3W=void 0,C3W=void 0;for(var h3W=0;h3W<D3W.length;h3W++){f3W=D3W.start(h3W)-this.bufferPadding;C3W=D3W.end(h3W)+this.bufferPadding;if(Y3W>=f3W&&w3W<=C3W){return true;}if(w3W<=f3W){return false;}}return false;};k9W.prototype.onFragLoaded=function c3W(R3W){var F3W=R3W.frag;if(Object(Y6n["a"])(F3W.sn)&&!F3W.bitrateTest){this.fragments[this.getFragmentKey(F3W)]={body:F3W,range:Object.create(null),buffered:false};}};k9W.prototype.onBufferAppended=function U3W(o3W){var q3W=this;this.timeRanges=o3W.timeRanges;Object.keys(this.timeRanges).forEach(function(t3W){var l3W=q3W.timeRanges[t3W];q3W.detectEvictedFragments(t3W,l3W);});};k9W.prototype.onFragBuffered=function G3W(m3W){this.detectPartialFragments(m3W.frag);};k9W.prototype.hasFragment=function K3W(a3W){var N3W=this.getFragmentKey(a3W);return this.fragments[N3W]!==undefined;};k9W.prototype.removeFragment=function b3W(P3W){var g3W=this.getFragmentKey(P3W);delete this.fragments[g3W];};k9W.prototype.removeAllFragments=function M3W(){this.fragments=Object.create(null);};return k9W;}(c6n);var A7n={search:function L3W(v3W,V3W){var O3W=0;var H3W=v3W.length-1;var x3W=null;var T3W=null;while(O3W<=H3W){x3W=(O3W+H3W)/2|0;T3W=v3W[x3W];var d3W=V3W(T3W);if(d3W>0){O3W=x3W+1;}else if(d3W<0){H3W=x3W-1;}else{return T3W;}}return null;}};function r8n(r5n,u0W){if(!(r5n instanceof u0W)){throw new TypeError("Cannot call a class as a function");}}var P6n=A7n;function i9n(S0W,e0W){if(!(S0W instanceof e0W)){throw new TypeError("Cannot call a class as a function");}}function n9n(i3a,k3a){if(typeof k3a!=="function"&&k3a!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof k3a);}i3a.prototype=Object.create(k3a&&k3a.prototype,{constructor:{value:i3a,enumerable:false,writable:true,configurable:true}});if(k3a)Object.setPrototypeOf?Object.setPrototypeOf(i3a,k3a):i3a.__proto__=k3a;}var U6n=function(){B3W.isBuffered=function W3W(e3W,n3W){try{if(e3W){var S3W=e3W.buffered;for(var z3W=0;z3W<S3W.length;z3W++){if(n3W>=S3W.start(z3W)&&n3W<=S3W.end(z3W)){return true;}}}}catch(s3W){}return false;};B3W.bufferInfo=function J3W(i3W,Q3W,I3W){try{if(i3W){var j3W=i3W.buffered,k3W=[],A3W=void 0;for(A3W=0;A3W<j3W.length;A3W++){k3W.push({start:j3W.start(A3W),end:j3W.end(A3W)});}return this.bufferedInfo(k3W,Q3W,I3W);}}catch(E3W){}return{len:0,start:Q3W,end:Q3W,nextStart:undefined};};B3W.bufferedInfo=function y3W(X5W,f5W,F5W){var u5W=[],C5W=void 0,w5W=void 0,h5W=void 0,U5W=void 0,r3W=void 0;X5W.sort(function(o5W,t5W){var q5W=o5W.start-t5W.start;if(q5W){return q5W;}else{return t5W.end-o5W.end;}});for(r3W=0;r3W<X5W.length;r3W++){var Y5W=u5W.length;if(Y5W){var R5W=u5W[Y5W-1].end;if(X5W[r3W].start-R5W<F5W){if(X5W[r3W].end>R5W){u5W[Y5W-1].end=X5W[r3W].end;}}else{u5W.push(X5W[r3W]);}}else{u5W.push(X5W[r3W]);}}for(r3W=0,C5W=0,w5W=h5W=f5W;r3W<u5W.length;r3W++){var D5W=u5W[r3W].start,c5W=u5W[r3W].end;if(f5W+F5W>=D5W&&f5W<c5W){w5W=D5W;h5W=c5W;C5W=h5W-f5W;}else if(f5W+F5W<D5W){U5W=D5W;break;}}return{len:C5W,start:w5W,end:h5W,nextStart:U5W};};function B3W(){k8n(this,B3W);}return B3W;}();var I7n=R6n(7);var J6n=R6n.n(I7n);var X9n=R6n(12);function f8n(Q9W,j9W){if(typeof j9W!=="function"&&j9W!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof j9W);}Q9W.prototype=Object.create(j9W&&j9W.prototype,{constructor:{value:Q9W,enumerable:false,writable:true,configurable:true}});if(j9W)Object.setPrototypeOf?Object.setPrototypeOf(Q9W,j9W):Q9W.__proto__=j9W;}function E9n(n9W,s9W){if(!(n9W instanceof s9W)){throw new TypeError("Cannot call a class as a function");}}var h9n=R6n.n(X9n);var j6n=R6n(10);var m9n=R6n(4);var k6n=Object(m9n["a"])();function o8n(m4i,G4i){if(!m4i){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return G4i&&(typeof G4i==="object"||typeof G4i==="function")?G4i:m4i;}var d6n=Q6n();var d9n=function(){m5W.prototype.destroy=function n5W(){var s5W=this.w;if(s5W){s5W.removeEventListener('message',this.onwmsg);s5W.terminate();this.w=null;}else{var J5W=this.demuxer;if(J5W){J5W.destroy();this.demuxer=null;}}var A5W=this.observer;if(A5W){A5W.removeAllListeners();this.observer=null;}};m5W.prototype.push=function j5W(E5W,F0a,Y0a,w0a,Q5W,C0a,D0a,f0a){var y5W=this.w;var X0a=Object(Y6n["a"])(Q5W.startDTS)?Q5W.startDTS:Q5W.start;var u0a=Q5W.decryptdata;var k5W=this.frag;var I5W=!(k5W&&Q5W.cc===k5W.cc);var i5W=!(k5W&&Q5W.level===k5W.level);var c0a=k5W&&Q5W.sn===k5W.sn+1;var r5W=!i5W&&c0a;if(I5W){X6n["b"].log(this.id+':discontinuity detected');}if(i5W){X6n["b"].log(this.id+':switch detected');}this.frag=Q5W;if(y5W){y5W.postMessage({cmd:'demux',data:E5W,decryptdata:u0a,initSegment:F0a,audioCodec:Y0a,videoCodec:w0a,timeOffset:X0a,discontinuity:I5W,trackSwitch:i5W,contiguous:r5W,duration:C0a,accurateTimeOffset:D0a,defaultInitPTS:f0a},E5W instanceof ArrayBuffer?[E5W]:[]);}else{var h0a=this.demuxer;if(h0a){h0a.push(E5W,u0a,F0a,Y0a,w0a,X0a,I5W,i5W,r5W,C0a,D0a,f0a);}}};function m5W(g5W,L5W){W9n(this,m5W);this.hls=g5W;this.id=L5W;var K5W=this.observer=new J6n.a();var b5W=g5W.config;K5W.trigger=function x5W(d5W){for(var H5W=arguments.length,T5W=Array(H5W>1?H5W-1:0),O5W=1;O5W<H5W;O5W++){T5W[O5W-1]=arguments[O5W];}K5W.emit.apply(K5W,[d5W,d5W].concat(T5W));};K5W.off=function v5W(B5W){for(var p5W=arguments.length,Z5W=Array(p5W>1?p5W-1:0),V5W=1;V5W<p5W;V5W++){Z5W[V5W-1]=arguments[V5W];}K5W.removeListener.apply(K5W,[B5W].concat(Z5W));};var N5W=function(z5W,W5W){W5W=W5W||{};W5W.frag=this.frag;W5W.id=this.id;g5W.trigger(z5W,W5W);}.bind(this);K5W.on(h6n["a"].FRAG_DECRYPTED,N5W);K5W.on(h6n["a"].FRAG_PARSING_INIT_SEGMENT,N5W);K5W.on(h6n["a"].FRAG_PARSING_DATA,N5W);K5W.on(h6n["a"].FRAG_PARSED,N5W);K5W.on(h6n["a"].ERROR,N5W);K5W.on(h6n["a"].FRAG_PARSING_METADATA,N5W);K5W.on(h6n["a"].FRAG_PARSING_USERDATA,N5W);K5W.on(h6n["a"].INIT_PTS_FOUND,N5W);var P5W={mp4:d6n.isTypeSupported('video/mp4'),mpeg:d6n.isTypeSupported('audio/mpeg'),mp3:d6n.isTypeSupported('audio/mp4; codecs="mp3"')};var M5W=navigator.vendor;if(b5W.enableWorker&&typeof Worker!=='undefined'){X6n["b"].log('demuxing in webworker');var a5W=void 0;try{a5W=this.w=h9n()(13);this.onwmsg=this.onWorkerMessage.bind(this);a5W.addEventListener('message',this.onwmsg);a5W.onerror=function(S5W){g5W.trigger(h6n["a"].ERROR,{type:f6n["b"].OTHER_ERROR,details:f6n["a"].INTERNAL_EXCEPTION,fatal:true,event:'demuxerWorker',err:{message:S5W.message+' ('+S5W.filename+':'+S5W.lineno+')'}});};a5W.postMessage({cmd:'init',typeSupported:P5W,vendor:M5W,id:L5W,config:JSON.stringify(b5W)});}catch(e5W){X6n["b"].error('error while initializing DemuxerWorker, fallback on DemuxerInline');if(a5W){k6n.URL.revokeObjectURL(a5W.objectURL);}this.demuxer=new j6n["a"](K5W,P5W,b5W,M5W);this.w=undefined;}}else{this.demuxer=new j6n["a"](K5W,P5W,b5W,M5W);}}m5W.prototype.onWorkerMessage=function R0a(o0a){var U0a=o0a.data,q0a=this.hls;switch(U0a.event){case'init':k6n.URL.revokeObjectURL(this.w.objectURL);break;case h6n["a"].FRAG_PARSING_DATA:U0a.data.data1=new Uint8Array(U0a.data1);if(U0a.data2){U0a.data.data2=new Uint8Array(U0a.data2);}default:U0a.data=U0a.data||{};U0a.data.frag=this.frag;U0a.data.id=this.id;q0a.trigger(U0a.event,U0a.data);break;}};return m5W;}();var T6n=d9n;var m2n={toString:function E0a(r0a){var u1a='',X1a=r0a.length;for(var y0a=0;y0a<X1a;y0a++){u1a+='['+r0a.start(y0a).toFixed(3)+','+r0a.end(y0a).toFixed(3)+']';}return u1a;}};var u2n=m2n;function s9n(o4W,t4W){var q4W=o4W[t4W];for(var R4W=t4W-1;R4W>=0;R4W--){var U4W=o4W[R4W];U4W.programDateTime=q4W.programDateTime-U4W.duration*1000;q4W=U4W;}}var b2n=function(J1a){M8n(s1a,J1a);s1a.prototype.onHandlerDestroying=function I1a(){this.clearNextTick();this.clearInterval();};s1a.prototype.hasInterval=function E1a(){return!!this._tickInterval;};s1a.prototype.hasNextTick=function y1a(){return!!this._tickTimer;};s1a.prototype.setInterval=function(r1a){u4a.toString=function(){return r1a.toString();};function u4a(X4a){return r1a.apply(this,arguments);}return u4a;}(function(h4a){if(!this._tickInterval){this._tickInterval=setInterval(this._boundTick,h4a);return true;}return false;});s1a.prototype.clearInterval=function(f4a){D4a.toString=function(){return f4a.toString();};function D4a(){return f4a.apply(this,arguments);}return D4a;}(function(){if(this._tickInterval){clearInterval(this._tickInterval);this._tickInterval=null;return true;}return false;});s1a.prototype.clearNextTick=function C4a(){if(this._tickTimer){clearTimeout(this._tickTimer);this._tickTimer=null;return true;}return false;};s1a.prototype.tick=function w4a(){this._tickCallCount++;if(this._tickCallCount===1){this.doTick();if(this._tickCallCount>1){this.clearNextTick();this._tickTimer=setTimeout(this._boundTick,0);}this._tickCallCount=0;}};s1a.prototype.doTick=function Y4a(){};function s1a(i1a){K8n(this,s1a);for(var Q1a=arguments.length,k1a=Array(Q1a>1?Q1a-1:0),j1a=1;j1a<Q1a;j1a++){k1a[j1a-1]=arguments[j1a];}var A1a=P8n(this,J1a.call.apply(J1a,[this,i1a].concat(k1a)));A1a._tickInterval=null;A1a._tickTimer=null;A1a._tickCallCount=0;A1a._boundTick=A1a.tick.bind(A1a);return A1a;}return s1a;}(c6n);function X3n(b8t,a8t){if(!b8t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return a8t&&(typeof a8t==="object"||typeof a8t==="function")?a8t:b8t;}var M6n=b2n;var M2n=1000;var L2n=0.5;var x2n=function(){H4a.prototype.poll=function p4a(n4a,s4a){var e4a=this.config,Z4a=this.media;var B4a=Z4a.currentTime;var W4a=window.performance.now();if(B4a!==n4a){if(this.stallReported){X6n["b"].warn('playback not stuck anymore @'+B4a+', after '+Math.round(W4a-this.stalled)+'ms');this.stallReported=false;}this.stalled=null;this.nudgeRetry=0;return;}if(Z4a.ended||!Z4a.buffered.length||Z4a.readyState>2){return;}if(Z4a.seeking&&U6n.isBuffered(Z4a,B4a)){return;}var z4a=W4a-this.stalled;var S4a=U6n.bufferInfo(Z4a,B4a,e4a.maxBufferHole);if(!this.stalled){this.stalled=W4a;return;}else if(z4a>=M2n){this._reportStall(S4a.len);}this._tryFixBufferStall(S4a,z4a);};H4a.prototype._tryFixBufferStall=function J4a(I4a,E4a){var j4a=this.config,Q4a=this.fragmentTracker,k4a=this.media;var i4a=k4a.currentTime;var A4a=Q4a.getPartialFragment(i4a);if(A4a){this._trySkipBufferHole(A4a);}if(I4a.len>L2n&&E4a>j4a.highBufferWatchdogPeriod*1000){this.stalled=null;this._tryNudgeBuffer();}};function H4a(T4a,d4a,v4a,V4a){I8n(this,H4a);this.config=T4a;this.media=d4a;this.fragmentTracker=v4a;this.hls=V4a;this.stallReported=false;}H4a.prototype._reportStall=function y4a(h6a){var r4a=this.hls,u6a=this.media,X6a=this.stallReported;if(!X6a){this.stallReported=true;X6n["b"].warn('Playback stalling at @'+u6a.currentTime+' due to low buffer');r4a.trigger(h6n["a"].ERROR,{type:f6n[1420>=887.05?"b":(true,"j")].MEDIA_ERROR,details:f6n["a"].BUFFER_STALLED_ERROR,fatal:false,buffer:h6a});}};H4a.prototype._trySkipBufferHole=function f6a(R6a){var F6a=this.hls,D6a=this.media;var C6a=D6a.currentTime;var Y6a=0;for(var w6a=0;w6a<D6a.buffered.length;w6a++){var c6a=D6a.buffered.start(w6a);if(C6a>=Y6a&&C6a<c6a){D6a.currentTime=Math.max(c6a,D6a.currentTime+0.1);X6n["b"].warn('skipping hole, adjusting currentTime from '+C6a+' to '+D6a.currentTime);this.stalled=null;F6a.trigger(h6n["a"].ERROR,{type:f6n[(5290,189)!==(890,3810)?"b":443.18].MEDIA_ERROR,details:f6n["a"].BUFFER_SEEK_OVER_HOLE,fatal:false,reason:'fragment loaded with buffer holes, seeking from '+C6a+' to '+D6a.currentTime,frag:R6a});return;}Y6a=D6a.buffered.end(w6a);}};H4a.prototype._tryNudgeBuffer=function U6a(){var q6a=this.config,l6a=this.hls,G6a=this.media;var o6a=G6a.currentTime;var t6a=(this.nudgeRetry||0)+1;this.nudgeRetry=t6a;if(t6a<q6a.nudgeMaxRetry){var m6a=o6a+t6a*q6a.nudgeOffset;X6n["b"].log('adjust currentTime from '+o6a+' to '+m6a);G6a.currentTime=m6a;l6a.trigger(h6n["a"].ERROR,{type:f6n["b"].MEDIA_ERROR,details:f6n["a"].BUFFER_NUDGE_ON_STALL,fatal:false});}else{X6n["b"].error('still stuck in high buffer @'+o6a+' after '+q6a.nudgeMaxRetry+', raise fatal error');l6a.trigger(h6n["a"].ERROR,{type:f6n["b"].MEDIA_ERROR,details:f6n[(7015,806.89)==(2976,3782)?427.50:"a"].BUFFER_STALLED_ERROR,fatal:true});}};return H4a;}();function D3n(K3n,N3n){if(!(K3n instanceof N3n)){throw new TypeError("Cannot call a class as a function");}}function Q6n(){if(typeof window!=='undefined'){return window.MediaSource||window.WebKitMediaSource;}}function P8n(S1a,z1a){if(!S1a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return z1a&&(typeof z1a==="object"||typeof z1a==="function")?z1a:S1a;}function t3n(N5t,a5t){if(!(N5t instanceof a5t)){throw new TypeError("Cannot call a class as a function");}}function X8n(h1i,X1i){if(typeof X1i!=="function"&&X1i!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof X1i);}h1i.prototype=Object.create(X1i&&X1i.prototype,{constructor:{value:h1i,enumerable:false,writable:true,configurable:true}});if(X1i)Object.setPrototypeOf?Object.setPrototypeOf(h1i,X1i):h1i.__proto__=X1i;}var O2n=x2n;var H2n=function(){function K6a(g6a,b6a){for(var a6a=0;a6a<b6a.length;a6a++){var N6a=b6a[a6a];N6a.enumerable=N6a.enumerable||false;N6a.configurable=true;if("value"in N6a)N6a.writable=true;Object.defineProperty(g6a,N6a.key,N6a);}}return function(P6a,M6a,L6a){if(M6a)K6a(P6a.prototype,M6a);if(L6a)K6a(P6a,L6a);return P6a;};}();var C6n={STOPPED:'STOPPED',IDLE:'IDLE',KEY_LOADING:'KEY_LOADING',FRAG_LOADING:'FRAG_LOADING',FRAG_LOADING_WAITING_RETRY:'FRAG_LOADING_WAITING_RETRY',WAITING_LEVEL:'WAITING_LEVEL',PARSING:'PARSING',PARSED:'PARSED',BUFFER_FLUSHING:'BUFFER_FLUSHING',ENDED:'ENDED',ERROR:'ERROR'};function i8n(M4a,L4a,g4a){var P4a=Math.min(L4a,g4a.duration+(g4a.deltaPTS?g4a.deltaPTS:0))*1000;return g4a.endProgramDateTime-P4a>M4a;}var d2n=function(p6a){U3n(V6a,p6a);V6a.prototype.onHandlerDestroying=function z6a(){this.stopLoad();p6a.prototype.onHandlerDestroying.call(this);};V6a.prototype.onHandlerDestroyed=function S6a(){this.state=C6n.STOPPED;this.fragmentTracker=null;p6a.prototype.onHandlerDestroyed.call(this);};V6a.prototype.startLoad=function e6a(J6a){if(this.levels){var n6a=this.lastCurrentTime,A6a=this.hls;this.stopLoad();this.setInterval(100);this.level=-1;this.fragLoadError=0;if(!this.startFragRequested){var s6a=A6a.startLevel;if(s6a===-1){s6a=0;this.bitrateTest=true;}this.level=A6a.nextLoadLevel=s6a;this.loadedmetadata=false;}if(n6a>0&&J6a===-1){X6n["b"].log('override startPosition with lastCurrentTime @'+n6a.toFixed(3));J6a=n6a;}this.state=C6n.IDLE;this.nextLoadPosition=this.startPosition=this.lastCurrentTime=J6a;this.tick();}else{this.forceStartLoad=true;this.state=C6n.STOPPED;}};V6a.prototype.stopLoad=function j6a(){var Q6a=this.fragCurrent;if(Q6a){if(Q6a.loader){Q6a.loader.abort();}this.fragmentTracker.removeFragment(Q6a);this.fragCurrent=null;}this.fragPrevious=null;if(this.demuxer){this.demuxer.destroy();this.demuxer=null;}this.clearInterval();this.state=C6n.STOPPED;this.forceStartLoad=false;};V6a.prototype.doTick=function k6a(){switch(this.state){case C6n.BUFFER_FLUSHING:this.fragLoadError=0;break;case C6n.IDLE:this._doTickIdle();break;case C6n.WAITING_LEVEL:var i6a=this.levels[this.level];if(i6a&&i6a.details){this.state=C6n.IDLE;}break;case C6n.FRAG_LOADING_WAITING_RETRY:var E6a=window.performance.now();var I6a=this.retryDate;if(!I6a||E6a>=I6a||this.media&&this.media.seeking){X6n["b"].log('mediaController: retryDate reached, switch back to IDLE state');this.state=C6n.IDLE;}break;case C6n.ERROR:case C6n.STOPPED:case C6n.FRAG_LOADING:case C6n.PARSING:case C6n.PARSED:case C6n.ENDED:break;default:break;}this._checkBuffer();this._checkFragmentChanged();};V6a.prototype._doTickIdle=function y6a(){var c2a=this.hls,u2a=c2a.config,f2a=this.media;if(this.levelLastLoaded===undefined||!f2a&&(this.startFragRequested||!u2a.startFragPrefetch)){return;}var D2a=void 0;if(this.loadedmetadata){D2a=f2a.currentTime;}else{D2a=this.nextLoadPosition;}var w2a=c2a.nextLoadLevel,Y2a=this.levels[w2a];if(!Y2a){return;}var F2a=Y2a.bitrate,X2a=void 0;if(F2a){X2a=Math.max(8*u2a.maxBufferSize/F2a,u2a.maxBufferLength);}else{X2a=u2a.maxBufferLength;}X2a=Math.min(X2a,u2a.maxMaxBufferLength);var C2a=U6n.bufferInfo(this.mediaBuffer?this.mediaBuffer:f2a,D2a,u2a.maxBufferHole),U2a=C2a.len;if(U2a>=X2a){return;}X6n[732.5===(2342,173.01)?true:"b"].trace('buffer length of '+U2a.toFixed(3)+' is below max of '+X2a.toFixed(3)+'. checking for more payload ...');this.level=c2a.nextLoadLevel=w2a;var h2a=Y2a.details;if(!h2a||h2a.live&&this.levelLastLoaded!==w2a){this.state=C6n.WAITING_LEVEL;return;}var r6a=this.fragPrevious;if(!h2a.live&&r6a&&!r6a.backtracked&&r6a.sn===h2a.endSN&&!C2a.nextStart){var q2a=Math.min(f2a.duration,r6a.start+r6a.duration);if(q2a-Math.max(C2a.end,r6a.start)<=Math.max(0.2,r6a.duration)){var R2a={};if(this.altAudio){R2a.type='video';}this.hls.trigger(h6n["a"].BUFFER_EOS,R2a);this.state=C6n.ENDED;return;}}this._fetchPayloadOrEos(D2a,C2a,h2a);};V6a.prototype._fetchPayloadOrEos=function o2a(M2a,L2a,l2a){var b2a=this.fragPrevious,g2a=this.level,G2a=l2a.fragments,m2a=G2a.length;if(m2a===0){return;}var N2a=G2a[0].start,P2a=G2a[m2a-1].start+G2a[m2a-1].duration,K2a=L2a.end,t2a=void 0;if(l2a.initSegment&&!l2a.initSegment.data){t2a=l2a.initSegment;}else{if(l2a.live){var a2a=this.config.initialLiveManifestSize;if(m2a<a2a){X6n["b"].warn('Can not start playback of a level, reason: not enough fragments '+m2a+' < '+a2a);return;}t2a=this._ensureFragmentAtLivePoint(l2a,K2a,N2a,P2a,b2a,G2a,m2a);if(t2a===null){return;}}else{if(K2a<N2a){t2a=G2a[0];}}}if(!t2a){t2a=this._findFragment(N2a,b2a,m2a,G2a,K2a,P2a,l2a);}if(t2a){if(t2a.encrypted){X6n["b"].log('Loading key for '+t2a.sn+' of ['+l2a.startSN+' ,'+l2a.endSN+'],level '+g2a);this._loadKey(t2a);}else{X6n["b"].log('Loading '+t2a.sn+' of ['+l2a.startSN+' ,'+l2a.endSN+'],level '+g2a+', currentTime:'+M2a.toFixed(3)+',bufferEnd:'+K2a.toFixed(3));this._loadFragment(t2a);}}};function V6a(B6a,W6a){w3n(this,V6a);var Z6a=Y3n(this,p6a.call(this,B6a,h6n["a"].MEDIA_ATTACHED,h6n["a"].MEDIA_DETACHING,h6n["a"].MANIFEST_LOADING,h6n["a"].MANIFEST_PARSED,h6n["a"].LEVEL_LOADED,h6n["a"].KEY_LOADED,h6n["a"].FRAG_LOADED,h6n["a"].FRAG_LOAD_EMERGENCY_ABORTED,h6n["a"].FRAG_PARSING_INIT_SEGMENT,h6n["a"].FRAG_PARSING_DATA,h6n["a"].FRAG_PARSED,h6n["a"].ERROR,h6n["a"].AUDIO_TRACK_SWITCHING,h6n["a"].AUDIO_TRACK_SWITCHED,h6n["a"].BUFFER_CREATED,h6n["a"].BUFFER_APPENDED,h6n["a"].BUFFER_FLUSHED));Z6a.fragmentTracker=W6a;Z6a.config=B6a.config;Z6a.audioCodecSwap=false;Z6a._state=C6n.STOPPED;Z6a.stallReported=false;Z6a.gapController=null;return Z6a;}V6a.prototype._ensureFragmentAtLivePoint=function x2a(H2a,p2a,n2a,z2a,d2a,Z2a,e2a){var v2a=this.hls.config,T2a=this.media;var O2a=void 0;var S2a=v2a.liveMaxLatencyDuration!==undefined?v2a.liveMaxLatencyDuration:v2a.liveMaxLatencyDurationCount*H2a.targetduration;if(p2a<Math.max(n2a-v2a.maxFragLookUpTolerance,z2a-S2a)){var V2a=this.liveSyncPosition=this.computeLivePosition(n2a,H2a);X6n["b"].log('buffer end: '+p2a.toFixed(3)+' is located too far from the end of live sliding playlist, reset currentTime to : '+V2a.toFixed(3));p2a=V2a;if(T2a&&T2a.readyState&&T2a.duration>V2a){T2a.currentTime=V2a;}this.nextLoadPosition=V2a;}if(H2a.PTSKnown&&p2a>z2a&&T2a&&T2a.readyState){return null;}if(this.startFragRequested&&!H2a.PTSKnown){if(d2a){if(H2a.hasProgramDateTime){X6n["b"].log('live playlist, switching playlist, load frag with same PDT: '+d2a.programDateTime);O2a=B8n(Z2a,d2a.endProgramDateTime,v2a.maxFragLookUpTolerance);}else{var B2a=d2a.sn+1;if(B2a>=H2a.startSN&&B2a<=H2a.endSN){var W2a=Z2a[B2a-H2a.startSN];if(d2a.cc===W2a.cc){O2a=W2a;X6n["b"].log('live playlist, switching playlist, load frag with next SN: '+O2a.sn);}}if(!O2a){O2a=P6n.search(Z2a,function(s2a){return d2a.cc-s2a.cc;});if(O2a){X6n["b"].log('live playlist, switching playlist, load frag with same CC: '+O2a.sn);}}}}if(!O2a){O2a=Z2a[Math.min(e2a-1,Math.round(e2a/2))];X6n["b"].log('live playlist, switching playlist, unknown, load middle frag : '+O2a.sn);}}return O2a;};V6a.prototype._findFragment=function J2a(C7a,j2a,D7a,I2a,y2a,f7a,X7a){var i2a=this.hls.config;var A2a=void 0;if(y2a<f7a){var u7a=y2a>f7a-i2a.maxFragLookUpTolerance?0:i2a.maxFragLookUpTolerance;A2a=e8n(j2a,I2a,y2a,u7a);}else{A2a=I2a[D7a-1];}if(A2a){var k2a=A2a.sn-X7a.startSN;var h7a=j2a&&A2a.level===j2a.level;var E2a=I2a[k2a-1];var Q2a=I2a[k2a+1];if(j2a&&A2a.sn===j2a.sn){if(h7a&&!A2a.backtracked){if(A2a.sn<X7a.endSN){var r2a=j2a.deltaPTS;if(r2a&&r2a>i2a.maxBufferHole&&j2a.dropped&&k2a){A2a=E2a;X6n["b"].warn('SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this');}else{A2a=Q2a;X6n["b"].log('SN just loaded, load next one: '+A2a.sn,A2a);}}else{A2a=null;}}else if(A2a.backtracked){if(Q2a&&Q2a.backtracked){X6n["b"].warn('Already backtracked from fragment '+Q2a.sn+', will not backtrack to fragment '+A2a.sn+'. Loading fragment '+Q2a.sn);A2a=Q2a;}else{X6n["b"].warn('Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe');A2a.dropped=0;if(E2a){A2a=E2a;A2a.backtracked=true;}else if(k2a){A2a=null;}}}}}return A2a;};V6a.prototype._loadKey=function w7a(Y7a){this.state=C6n.KEY_LOADING;this.hls.trigger(h6n["a"].KEY_LOADING,{frag:Y7a});};V6a.prototype._loadFragment=function c7a(F7a){var R7a=this.fragmentTracker.getState(F7a);this.fragCurrent=F7a;this.startFragRequested=true;if(Object(Y6n["a"])(F7a.sn)&&!F7a.bitrateTest){this.nextLoadPosition=F7a.start+F7a.duration;}if(F7a.backtracked||R7a===m6n.NOT_LOADED||R7a===m6n.PARTIAL){F7a.autoLevel=this.hls.autoLevelEnabled;F7a.bitrateTest=this.bitrateTest;this.hls.trigger(h6n[883.99!=(276.42,975.11)?"a":(0xcff,0x2080)].FRAG_LOADING,{frag:F7a});if(!this.demuxer){this.demuxer=new T6n(this.hls,'main');}this.state=C6n.FRAG_LOADING;}else if(R7a===m6n.APPENDING){if(this._reduceMaxBufferLength(F7a.duration)){this.fragmentTracker.removeFragment(F7a);}}};V6a.prototype.getBufferedFrag=function U7a(q7a){return this.fragmentTracker.getBufferedFrag(q7a,w2n.LevelType.MAIN);};V6a.prototype.followingBufferedFrag=function o7a(t7a){if(t7a){return this.getBufferedFrag(t7a.endPTS+0.5);}return null;};V6a.prototype._checkFragmentChanged=function l7a(){var K7a=void 0,G7a=void 0,m7a=this.media;if(m7a&&m7a.readyState&&m7a.seeking===false){G7a=m7a.currentTime;if(G7a>this.lastCurrentTime){this.lastCurrentTime=G7a;}if(U6n.isBuffered(m7a,G7a)){K7a=this.getBufferedFrag(G7a);}else if(U6n.isBuffered(m7a,G7a+0.1)){K7a=this.getBufferedFrag(G7a+0.1);}if(K7a){var N7a=K7a;if(N7a!==this.fragPlaying){this.hls.trigger(h6n["a"].FRAG_CHANGED,{frag:N7a});var a7a=N7a.level;if(!this.fragPlaying||this.fragPlaying.level!==a7a){this.hls.trigger(h6n["a"].LEVEL_SWITCHED,{level:a7a});}this.fragPlaying=N7a;}}}};V6a.prototype.immediateLevelSwitch=function b7a(){X6n["b"].log('immediateLevelSwitch');if(!this.immediateSwitch){this.immediateSwitch=true;var g7a=this.media,P7a=void 0;if(g7a){P7a=g7a.paused;g7a.pause();}else{P7a=true;}this.previouslyPaused=P7a;}var M7a=this.fragCurrent;if(M7a&&M7a.loader){M7a.loader.abort();}this.fragCurrent=null;this.flushMainBuffer(0,Number.POSITIVE_INFINITY);};V6a.prototype.immediateLevelSwitchEnd=function L7a(){var x7a=this.media;if(x7a&&x7a.buffered.length){this.immediateSwitch=false;if(U6n.isBuffered(x7a,x7a.currentTime)){x7a.currentTime-=0.0001;}if(!this.previouslyPaused){x7a.play();}}};V6a.prototype.nextLevelSwitch=function O7a(){var T7a=this.media;if(T7a&&T7a.readyState){var d7a=void 0,v7a=void 0,H7a=void 0;v7a=this.getBufferedFrag(T7a.currentTime);if(v7a&&v7a.startPTS>1){this.flushMainBuffer(0,v7a.startPTS-1);}if(!T7a.paused){var Z7a=this.hls.nextLoadLevel,B7a=this.levels[Z7a],p7a=this.fragLastKbps;if(p7a&&this.fragCurrent){d7a=this.fragCurrent.duration*B7a.bitrate/(1000*p7a)+1;}else{d7a=0;}}else{d7a=0;}H7a=this.getBufferedFrag(T7a.currentTime+d7a);if(H7a){H7a=this.followingBufferedFrag(H7a);if(H7a){var V7a=this.fragCurrent;if(V7a&&V7a.loader){V7a.loader.abort();}this.fragCurrent=null;this.flushMainBuffer(H7a.maxStartPTS,Number.POSITIVE_INFINITY);}}}};V6a.prototype.flushMainBuffer=function W7a(S7a,e7a){this.state=C6n.BUFFER_FLUSHING;var z7a={startOffset:S7a,endOffset:e7a};if(this.altAudio){z7a.type='video';}this.hls.trigger(h6n["a"].BUFFER_FLUSHING,z7a);};V6a.prototype.onMediaAttached=function n7a(A7a){var s7a=this.media=this.mediaBuffer=A7a.media;this.onvseeking=this.onMediaSeeking.bind(this);this.onvseeked=this.onMediaSeeked.bind(this);this.onvended=this.onMediaEnded.bind(this);s7a.addEventListener('seeking',this.onvseeking);s7a.addEventListener('seeked',this.onvseeked);s7a.addEventListener('ended',this.onvended);var J7a=this.config;if(this.levels&&J7a.autoStartLoad){this.hls.startLoad(J7a.startPosition);}this.gapController=new O2n(J7a,s7a,this.fragmentTracker,this.hls);};V6a.prototype.onMediaDetaching=function j7a(){var Q7a=this.media;if(Q7a&&Q7a.ended){X6n["b"].log('MSE detaching and video ended, reset startPosition');this.startPosition=this.lastCurrentTime=0;}var k7a=this.levels;if(k7a){k7a.forEach(function(i7a){if(i7a.details){i7a.details.fragments.forEach(function(I7a){I7a.backtracked=undefined;});}});}if(Q7a){Q7a.removeEventListener('seeking',this.onvseeking);Q7a.removeEventListener('seeked',this.onvseeked);Q7a.removeEventListener('ended',this.onvended);this.onvseeking=this.onvseeked=this.onvended=null;}this.media=this.mediaBuffer=null;this.loadedmetadata=false;this.stopLoad();};V6a.prototype.onMediaSeeking=function E7a(){var u9a=this.media,y7a=u9a?u9a.currentTime:undefined,f9a=this.config;if(Object(Y6n["a"])(y7a)){X6n[132.09!==(360.21,726.75)?"b":"J"].log('media seeking to '+y7a.toFixed(3));}var D9a=this.mediaBuffer?this.mediaBuffer:u9a;var X9a=U6n.bufferInfo(D9a,y7a,this.config.maxBufferHole);if(this.state===C6n.FRAG_LOADING){var r7a=this.fragCurrent;if(X9a.len===0&&r7a){var h9a=f9a.maxFragLookUpTolerance,C9a=r7a.start-h9a,w9a=r7a.start+r7a.duration+h9a;if(y7a<C9a||y7a>w9a){if(r7a.loader){X6n["b"].log('seeking outside of buffer while fragment load in progress, cancel fragment load');r7a.loader.abort();}this.fragCurrent=null;this.fragPrevious=null;this.state=C6n.IDLE;}else{X6n["b"].log('seeking outside of buffer but within currently loaded fragment range');}}}else if(this.state===C6n.ENDED){if(X9a.len===0){this.fragPrevious=0;}this.state=C6n.IDLE;}if(u9a){this.lastCurrentTime=y7a;}if(!this.loadedmetadata){this.nextLoadPosition=this.startPosition=y7a;}this.tick();};V6a.prototype.onMediaSeeked=function Y9a(){var c9a=this.media,F9a=c9a?c9a.currentTime:undefined;if(Object(Y6n["a"])(F9a)){X6n["b"].log('media seeked to '+F9a.toFixed(3));}this.tick();};V6a.prototype.onMediaEnded=function R9a(){X6n["b"].log('media ended');this.startPosition=this.lastCurrentTime=0;};V6a.prototype.onManifestLoading=function U9a(){X6n["b"].log('trigger BUFFER_RESET');this.hls.trigger(h6n["a"].BUFFER_RESET);this.fragmentTracker.removeAllFragments();this.stalled=false;this.startPosition=this.lastCurrentTime=0;};V6a.prototype.onManifestParsed=function q9a(m9a){var t9a=false,l9a=false,o9a=void 0;m9a.levels.forEach(function(K9a){o9a=K9a.audioCodec;if(o9a){if(o9a.indexOf('mp4a.40.2')!==-1){t9a=true;}if(o9a.indexOf('mp4a.40.5')!==-1){l9a=true;}}});this.audioCodecSwitch=t9a&&l9a;if(this.audioCodecSwitch){X6n["b"].log('both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC');}this.levels=m9a.levels;this.startFragRequested=false;var G9a=this.config;if(G9a.autoStartLoad||this.forceStartLoad){this.hls.startLoad(G9a.startPosition);}};V6a.prototype.onLevelLoaded=function N9a(H9a){var a9a=H9a.details;var P9a=H9a.level;var L9a=this.levels[this.levelLastLoaded];var x9a=this.levels[P9a];var O9a=a9a.totalduration;var g9a=0;X6n["b"].log('level '+P9a+' loaded ['+a9a.startSN+','+a9a.endSN+'],duration:'+O9a);if(a9a.live){var M9a=x9a.details;if(M9a&&a9a.fragments.length>0){G2n(M9a,a9a);g9a=a9a.fragments[0].start;this.liveSyncPosition=this.computeLivePosition(g9a,M9a);if(a9a.PTSKnown&&Object(Y6n["a"])(g9a)){X6n["b"].log('live playlist sliding:'+g9a.toFixed(3));}else{X6n["b"].log('live playlist - outdated PTS, unknown sliding');a2n(this.fragPrevious,L9a,a9a);}}else{X6n["b"].log('live playlist - first load, unknown sliding');a9a.PTSKnown=false;a2n(this.fragPrevious,L9a,a9a);}}else{a9a.PTSKnown=false;}x9a.details=a9a;this.levelLastLoaded=P9a;this.hls.trigger(h6n["a"].LEVEL_UPDATED,{details:a9a,level:P9a});if(this.startFragRequested===false){if(this.startPosition===-1||this.lastCurrentTime===-1){var b9a=a9a.startTimeOffset;if(Object(Y6n["a"])(b9a)){if(b9a<0){X6n["b"].log('negative start time offset '+b9a+', count from end of last fragment');b9a=g9a+O9a+b9a;}X6n["b"].log('start time offset found in playlist, adjust startPosition to '+b9a);this.startPosition=b9a;}else{if(a9a.live){this.startPosition=this.computeLivePosition(g9a,a9a);X6n["b"].log('configure startPosition to '+this.startPosition);}else{this.startPosition=0;}}this.lastCurrentTime=this.startPosition;}this.nextLoadPosition=this.startPosition;}if(this.state===C6n.WAITING_LEVEL){this.state=C6n.IDLE;}this.tick();};V6a.prototype.onKeyLoaded=function T9a(){if(this.state===C6n.KEY_LOADING){this.state=C6n.IDLE;this.tick();}};V6a.prototype.onFragLoaded=function d9a(W9a){var v9a=this.fragCurrent,B9a=this.hls,e9a=this.levels,S9a=this.media;var p9a=W9a.frag;if(this.state===C6n.FRAG_LOADING&&v9a&&p9a.type==='main'&&p9a.level===v9a.level&&p9a.sn===v9a.sn){var Z9a=W9a.stats;var z9a=e9a[v9a.level];var V9a=z9a.details;this.bitrateTest=false;this.stats=Z9a;X6n["b"].log('Loaded '+v9a.sn+' of ['+V9a.startSN+' ,'+V9a.endSN+'],level '+v9a.level);if(p9a.bitrateTest&&B9a.nextLoadLevel){this.state=C6n.IDLE;this.startFragRequested=false;Z9a.tparsed=Z9a.tbuffered=window.performance.now();B9a.trigger(h6n["a"].FRAG_BUFFERED,{stats:Z9a,frag:v9a,id:'main'});this.tick();}else if(p9a.sn==='initSegment'){this.state=C6n.IDLE;Z9a.tparsed=Z9a.tbuffered=window.performance.now();V9a.initSegment.data=W9a.payload;B9a.trigger(h6n[7740<(6738,375.52)?(0x428,9.05e+3):"a"].FRAG_BUFFERED,{stats:Z9a,frag:v9a,id:'main'});this.tick();}else{X6n["b"].log('Parsing '+v9a.sn+' of ['+V9a.startSN+' ,'+V9a.endSN+'],level '+v9a.level+', cc '+v9a.cc);this.state=C6n.PARSING;this.pendingBuffering=true;this.appended=false;if(p9a.bitrateTest){p9a.bitrateTest=false;this.fragmentTracker.onFragLoaded({frag:p9a});}var s9a=!(S9a&&S9a.seeking)&&(V9a.PTSKnown||!V9a.live);var J9a=V9a.initSegment?V9a.initSegment.data:[];var A9a=this._getAudioCodec(z9a);var n9a=this.demuxer=this.demuxer||new T6n(this.hls,'main');n9a.push(W9a.payload,J9a,A9a,z9a.videoCodec,v9a,V9a.totalduration,s9a);}}this.fragLoadError=0;};V6a.prototype.onFragParsingInitSegment=function j9a(I9a){var y9a=this.fragCurrent;var r9a=I9a.frag;if(y9a&&I9a.id==='main'&&r9a.sn===y9a.sn&&r9a.level===y9a.level&&this.state===C6n.PARSING){var i9a=I9a.tracks,E9a=void 0,Q9a=void 0;if(i9a.audio&&this.altAudio){delete i9a.audio;}Q9a=i9a.audio;if(Q9a){var k9a=this.levels[this.level].audioCodec,u8a=navigator.userAgent.toLowerCase();if(k9a&&this.audioCodecSwap){X6n["b"].log('swapping playlist audio codec');if(k9a.indexOf('mp4a.40.5')!==-1){k9a='mp4a.40.2';}else{k9a='mp4a.40.5';}}if(this.audioCodecSwitch){if(Q9a.metadata.channelCount!==1&&u8a.indexOf('firefox')===-1){k9a='mp4a.40.5';}}if(u8a.indexOf('android')!==-1&&Q9a.container!=='audio/mpeg'){k9a='mp4a.40.2';X6n["b"].log('Android: force audio codec to '+k9a);}Q9a.levelCodec=k9a;Q9a.id=I9a.id;}Q9a=i9a.video;if(Q9a){Q9a.levelCodec=this.levels[this.level].videoCodec;Q9a.id=I9a.id;}this.hls.trigger(h6n["a"].BUFFER_CODECS,i9a);for(E9a in i9a){Q9a=i9a[E9a];X6n["b"].log('main track:'+E9a+',container:'+Q9a.container+',codecs[level/parsed]=['+Q9a.levelCodec+((3320,7730)>=27.87?'/':0xf4b)+Q9a.codec+']');var X8a=Q9a.initSegment;if(X8a){this.appended=true;this.pendingBuffering=true;this.hls.trigger(h6n["a"].BUFFER_APPENDING,{type:E9a,data:X8a,parent:'main',content:'initSegment'});}}this.tick();}};V6a.prototype.onFragParsingData=function h8a(f8a){var w8a=this;var C8a=this.fragCurrent;var c8a=f8a.frag;if(C8a&&f8a.id==='main'&&c8a.sn===C8a.sn&&c8a.level===C8a.level&&!(f8a.type==='audio'&&this.altAudio)&&this.state===C6n.PARSING){var Y8a=this.levels[this.level],D8a=C8a;if(!Object(Y6n["a"])(f8a.endPTS)){f8a.endPTS=f8a.startPTS+C8a.duration;f8a.endDTS=f8a.startDTS+C8a.duration;}if(f8a.hasAudio===true){D8a.addElementaryStream(G6n.ElementaryStreamTypes.AUDIO);}if(f8a.hasVideo===true){D8a.addElementaryStream(G6n.ElementaryStreamTypes.VIDEO);}X6n["b"].log('Parsed '+f8a.type+',PTS:['+f8a.startPTS.toFixed(3)+','+f8a.endPTS.toFixed(3)+'],DTS:['+f8a.startDTS.toFixed(3)+'/'+f8a.endDTS.toFixed(3)+'],nb:'+f8a.nb+',dropped:'+(f8a.dropped||0));if(f8a.type==='video'){D8a.dropped=f8a.dropped;if(D8a.dropped){if(!D8a.backtracked){var F8a=Y8a.details;if(F8a&&D8a.sn===F8a.startSN){X6n["b"].warn('missing video frame(s) on first frag, appending with gap',D8a.sn);}else{X6n["b"].warn('missing video frame(s), backtracking fragment',D8a.sn);this.fragmentTracker.removeFragment(D8a);D8a.backtracked=true;this.nextLoadPosition=f8a.startPTS;this.state=C6n.IDLE;this.fragPrevious=D8a;this.tick();return;}}else{X6n["b"].warn('Already backtracked on this fragment, appending with the gap',D8a.sn);}}else{D8a.backtracked=false;}}var U8a=U2n(Y8a.details,D8a,f8a.startPTS,f8a.endPTS,f8a.startDTS,f8a.endDTS),R8a=this.hls;R8a.trigger(h6n["a"].LEVEL_PTS_UPDATED,{details:Y8a.details,level:this.level,drift:U8a,type:f8a.type,start:f8a.startPTS,end:f8a.endPTS});[f8a.data1,f8a.data2].forEach(function(q8a){if(q8a&&q8a.length&&w8a.state===C6n.PARSING){w8a.appended=true;w8a.pendingBuffering=true;R8a.trigger(h6n["a"].BUFFER_APPENDING,{type:f8a.type,data:q8a,parent:'main',content:'data'});}});this.tick();}};V6a.prototype.onFragParsed=function o8a(G8a){var t8a=this.fragCurrent;var l8a=G8a.frag;if(t8a&&G8a.id==='main'&&l8a.sn===t8a.sn&&l8a.level===t8a.level&&this.state===C6n.PARSING){this.stats.tparsed=window.performance.now();this.state=C6n.PARSED;this._checkAppendedParsed();}};V6a.prototype.onAudioTrackSwitching=function m8a(a8a){var b8a=!!a8a.url,g8a=a8a.id;if(!b8a){if(this.mediaBuffer!==this.media){X6n["b"].log('switching on main audio, use media.buffered to schedule main fragment loading');this.mediaBuffer=this.media;var K8a=this.fragCurrent;if(K8a.loader){X6n["b"].log('switching to main audio track, cancel main fragment load');K8a.loader.abort();}this.fragCurrent=null;this.fragPrevious=null;if(this.demuxer){this.demuxer.destroy();this.demuxer=null;}this.state=C6n.IDLE;}var N8a=this.hls;N8a.trigger(h6n["a"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:'audio'});N8a.trigger(h6n["a"].AUDIO_TRACK_SWITCHED,{id:g8a});this.altAudio=false;}};V6a.prototype.onAudioTrackSwitched=function P8a(O8a){var x8a=O8a.id,L8a=!!this.hls.audioTracks[x8a].url;if(L8a){var M8a=this.videoBuffer;if(M8a&&this.mediaBuffer!==M8a){X6n["b"].log('switching on alternate audio, use video.buffered to schedule main fragment loading');this.mediaBuffer=M8a;}}this.altAudio=L8a;this.tick();};V6a.prototype.onBufferCreated=function H8a(B8a){var d8a=B8a.tracks,v8a=void 0,V8a=void 0,p8a=false;for(var T8a in d8a){var Z8a=d8a[T8a];if(Z8a.id==='main'){V8a=T8a;v8a=Z8a;if(T8a==='video'){this.videoBuffer=d8a[T8a].buffer;}}else{p8a=true;}}if(p8a&&v8a){X6n["b"].log('alternate track found, use '+V8a+'.buffered to schedule main fragment loading');this.mediaBuffer=v8a.buffer;}else{this.mediaBuffer=this.media;}};V6a.prototype.onBufferAppended=function W8a(S8a){if(S8a.parent==='main'){var z8a=this.state;if(z8a===C6n.PARSING||z8a===C6n.PARSED){this.pendingBuffering=S8a.pending>0;this._checkAppendedParsed();}}};V6a.prototype._checkAppendedParsed=function e8a(){if(this.state===C6n.PARSED&&(!this.appended||!this.pendingBuffering)){var s8a=this.fragCurrent;if(s8a){var J8a=this.mediaBuffer?this.mediaBuffer:this.media;X6n["b"].log('main buffered : '+u2n.toString(J8a.buffered));this.fragPrevious=s8a;var n8a=this.stats;n8a.tbuffered=window.performance.now();this.fragLastKbps=Math.round(8*n8a.total/(n8a.tbuffered-n8a.tfirst));this.hls.trigger(h6n["a"].FRAG_BUFFERED,{stats:n8a,frag:s8a,id:'main'});this.state=C6n.IDLE;}this.tick();}};V6a.prototype.onError=function A8a(j8a){var Q8a=j8a.frag||this.fragCurrent;if(Q8a&&Q8a.type!=='main'){return;}var i8a=!!this.media&&U6n.isBuffered(this.media,this.media.currentTime)&&U6n.isBuffered(this.media,this.media.currentTime+0.5);switch(j8a.details){case f6n["a"].FRAG_LOAD_ERROR:case f6n[(999.01,807.47)===6225?false:"a"].FRAG_LOAD_TIMEOUT:case f6n["a"].KEY_LOAD_ERROR:case f6n["a"].KEY_LOAD_TIMEOUT:if(!j8a.fatal){if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var k8a=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);X6n["b"].warn('mediaController: frag loading failed, retry in '+k8a+' ms');this.retryDate=window.performance.now()+k8a;if(!this.loadedmetadata){this.startFragRequested=false;this.nextLoadPosition=this.startPosition;}this.fragLoadError++;this.state=C6n.FRAG_LOADING_WAITING_RETRY;}else{X6n["b"].error('mediaController: '+j8a.details+' reaches max retry, redispatch as fatal ...');j8a.fatal=true;this.state=C6n.ERROR;}}break;case f6n["a"].LEVEL_LOAD_ERROR:case f6n["a"].LEVEL_LOAD_TIMEOUT:if(this.state!==C6n.ERROR){if(j8a.fatal){this.state=C6n.ERROR;X6n["b"].warn('streamController: '+j8a.details+',switch to '+this.state+' state ...');}else{if(!j8a.levelRetry&&this.state===C6n.WAITING_LEVEL){this.state=C6n.IDLE;}}}break;case f6n["a"].BUFFER_FULL_ERROR:if(j8a.parent==='main'&&(this.state===C6n.PARSING||this.state===C6n.PARSED)){if(i8a){this._reduceMaxBufferLength(this.config.maxBufferLength);this.state=C6n.IDLE;}else{X6n["b"].warn('buffer full error also media.currentTime is not buffered, flush everything');this.fragCurrent=null;this.flushMainBuffer(0,Number.POSITIVE_INFINITY);}}break;default:break;}};V6a.prototype._reduceMaxBufferLength=function I8a(y8a){var E8a=this.config;if(E8a.maxMaxBufferLength>=y8a){E8a.maxMaxBufferLength/=2;X6n["b"].warn('main:reduce max buffer length to '+E8a.maxMaxBufferLength+'s');return true;}return false;};V6a.prototype._checkBuffer=function r8a(){var u3a=this.media;if(!u3a||u3a.readyState===0){return;}var h3a=this.mediaBuffer?this.mediaBuffer:u3a;var X3a=h3a.buffered;if(!this.loadedmetadata&&X3a.length){this.loadedmetadata=true;this._seekToStartPos();}else if(this.immediateSwitch){this.immediateLevelSwitchEnd();}else{this.gapController.poll(this.lastCurrentTime,X3a);}};V6a.prototype.onFragLoadEmergencyAborted=function f3a(){this.state=C6n.IDLE;if(!this.loadedmetadata){this.startFragRequested=false;this.nextLoadPosition=this.startPosition;}this.tick();};V6a.prototype.onBufferFlushed=function D3a(){var C3a=this.mediaBuffer?this.mediaBuffer:this.media;if(C3a){this.fragmentTracker.detectEvictedFragments(G6n.ElementaryStreamTypes.VIDEO,C3a.buffered);}this.state=C6n.IDLE;this.fragPrevious=null;};V6a.prototype.swapAudioCodec=function w3a(){this.audioCodecSwap=!this.audioCodecSwap;};V6a.prototype.computeLivePosition=function Y3a(R3a,c3a){var F3a=this.config.liveSyncDuration!==undefined?this.config.liveSyncDuration:this.config.liveSyncDurationCount*c3a.targetduration;return R3a+Math.max(0,c3a.totalduration-F3a);};V6a.prototype._seekToStartPos=function U3a(){var q3a=this.media;var o3a=q3a.currentTime;var t3a=q3a.seeking?o3a:this.startPosition;if(o3a!==t3a){X6n["b"].log('target start position not buffered, seek to buffered.start(0) '+t3a+' from current time '+o3a+' ');q3a.currentTime=t3a;}};V6a.prototype._getAudioCodec=function l3a(m3a){var G3a=this.config.defaultAudioCodec||m3a.audioCodec;if(this.audioCodecSwap){X6n["b"].log('swapping playlist audio codec');if(G3a){if(G3a.indexOf('mp4a.40.5')!==-1){G3a='mp4a.40.2';}else{G3a='mp4a.40.5';}}}return G3a;};H2n(V6a,[{key:'state',set:function K3a(N3a){if(this.state!==N3a){var a3a=this.state;this._state=N3a;X6n["b"].log('main stream:'+a3a+'->'+N3a);this.hls.trigger(h6n["a"].STREAM_STATE_TRANSITION,{previousState:a3a,nextState:N3a});}},get:function b3a(){return this._state;}},{key:'currentLevel',get:function g3a(){var P3a=this.media;if(P3a){var M3a=this.getBufferedFrag(P3a.currentTime);if(M3a){return M3a.level;}}return-1;}},{key:'nextBufferedFrag',get:function L3a(){var x3a=this.media;if(x3a){return this.followingBufferedFrag(this.getBufferedFrag(x3a.currentTime));}else{return null;}}},{key:'nextLevel',get:function O3a(){var H3a=this.nextBufferedFrag;if(H3a){return H3a.level;}else{return-1;}}},{key:'liveSyncPosition',get:function T3a(){return this._liveSyncPosition;},set:function d3a(v3a){this._liveSyncPosition=v3a;}}]);return V6a;}(M6n);var v2n=d2n;var V2n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(V3a){return typeof V3a;}:function(p3a){return p3a&&typeof Symbol==="function"&&p3a.constructor===Symbol&&p3a!==Symbol.prototype?"symbol":typeof p3a;};var p2n=function(){function Z3a(S3a,z3a){for(var W3a=0;W3a<z3a.length;W3a++){var B3a=z3a[W3a];B3a.enumerable=B3a.enumerable||false;B3a.configurable=true;if("value"in B3a)B3a.writable=true;Object.defineProperty(S3a,B3a.key,B3a);}}return function(e3a,n3a,s3a){if(n3a)Z3a(e3a.prototype,n3a);if(s3a)Z3a(e3a,s3a);return e3a;};}();function q8n(t4i,l4i){if(!(t4i instanceof l4i)){throw new TypeError("Cannot call a class as a function");}}var Z2n=window,B2n=Z2n.performance;var W2n=function(E3a){n9n(I3a,E3a);I3a.prototype.onHandlerDestroying=function u5a(){this.clearTimer();this.manualLevelIndex=-1;};I3a.prototype.clearTimer=function X5a(){if(this.timer!==null){clearTimeout(this.timer);this.timer=null;}};I3a.prototype.startLoad=function h5a(){var f5a=this._levels;this.canload=true;this.levelRetryCount=0;if(f5a){f5a.forEach(function(D5a){D5a.loadError=0;var C5a=D5a.details;if(C5a&&C5a.live){D5a.details=undefined;}});}if(this.timer!==null){this.loadLevel();}};I3a.prototype.stopLoad=function w5a(){this.canload=false;};I3a.prototype.onManifestLoaded=function Y5a(t5a){var c5a=[];var l5a=void 0;var G5a={};var F5a=null;var R5a=false;var q5a=false;var m5a=/chrome|firefox/.test(navigator.userAgent.toLowerCase());var U5a=[];t5a.levels.forEach(function(K5a){K5a.loadError=0;K5a.fragmentError=false;R5a=R5a||!!K5a.videoCodec;q5a=q5a||!!K5a.audioCodec||!!(K5a.attrs&&K5a.attrs.AUDIO);if(m5a&&K5a.audioCodec&&K5a.audioCodec.indexOf('mp4a.40.34')!==-1){K5a.audioCodec=undefined;}F5a=G5a[K5a.bitrate];if(!F5a){K5a.url=[K5a.url];K5a.urlId=0;G5a[K5a.bitrate]=K5a;c5a.push(K5a);}else{F5a.url.push(K5a.url);}if(K5a.attrs&&K5a.attrs.AUDIO){o2n(F5a||K5a,'audio',K5a.attrs.AUDIO);}if(K5a.attrs&&K5a.attrs.SUBTITLES){o2n(F5a||K5a,'text',K5a.attrs.SUBTITLES);}});if(R5a&&q5a){c5a=c5a.filter(function(a5a){var N5a=a5a.videoCodec;return!!N5a;});}c5a=c5a.filter(function(P5a){var b5a=P5a.audioCodec,g5a=P5a.videoCodec;return(!b5a||c2n(b5a))&&(!g5a||c2n(g5a));});if(t5a.audioTracks){U5a=t5a.audioTracks.filter(function(M5a){return!M5a.audioCodec||c2n(M5a.audioCodec,'audio');});U5a.forEach(function(L5a,x5a){L5a.id=x5a;});}if(c5a.length>0){l5a=c5a[0].bitrate;c5a.sort(function(O5a,H5a){return O5a.bitrate-H5a.bitrate;});this._levels=c5a;for(var o5a=0;o5a<c5a.length;o5a++){if(c5a[o5a].bitrate===l5a){this._firstLevel=o5a;X6n["b"].log('manifest loaded,'+c5a.length+' level(s) found, first bitrate:'+l5a);break;}}this.hls.trigger(h6n["a"].MANIFEST_PARSED,{levels:c5a,audioTracks:U5a,firstLevel:this._firstLevel,stats:t5a.stats,audio:q5a,video:R5a,altAudio:U5a.length>0&&R5a});}else{this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].MEDIA_ERROR,details:f6n["a"].MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:true,url:this.hls.url,reason:'no level with compatible codecs found in manifest'});}};I3a.prototype.setLevelInternal=function T5a(d5a){var v5a=this._levels;var V5a=this.hls;if(d5a>=0&&d5a<v5a.length){this.clearTimer();if(this.currentLevelIndex!==d5a){X6n["b"].log('switching to level '+d5a);this.currentLevelIndex=d5a;var Z5a=v5a[d5a];Z5a.level=d5a;V5a.trigger(h6n["a"].LEVEL_SWITCHING,Z5a);}var p5a=v5a[d5a];var B5a=p5a.details;if(!B5a||B5a.live){var W5a=p5a.urlId;V5a.trigger(h6n["a"].LEVEL_LOADING,{url:p5a.url[W5a],level:d5a,id:W5a});}}else{V5a.trigger(h6n["a"].ERROR,{type:f6n["b"].OTHER_ERROR,details:f6n["a"].LEVEL_SWITCH_ERROR,level:d5a,fatal:false,reason:'invalid level idx'});}};I3a.prototype.onError=function z5a(S5a){if(S5a.fatal){if(S5a.type===f6n[(928.91,7880)<(202.34,61)?(727.34,49.51):"b"].NETWORK_ERROR){this.clearTimer();}return;}var n5a=false,s5a=false;var e5a=void 0;switch(S5a.details){case f6n["a"].FRAG_LOAD_ERROR:case f6n["a"].FRAG_LOAD_TIMEOUT:case f6n["a"].KEY_LOAD_ERROR:case f6n["a"].KEY_LOAD_TIMEOUT:e5a=S5a.frag.level;s5a=true;break;case f6n["a"].LEVEL_LOAD_ERROR:case f6n["a"].LEVEL_LOAD_TIMEOUT:e5a=S5a.context.level;n5a=true;break;case f6n["a"].REMUX_ALLOC_ERROR:e5a=S5a.level;n5a=true;break;}if(e5a!==undefined){this.recoverLevel(S5a,e5a,n5a,s5a);}};function I3a(r3a){S9n(this,I3a);var y3a=e9n(this,E3a.call(this,r3a,h6n["a"].MANIFEST_LOADED,h6n["a"].LEVEL_LOADED,h6n["a"].AUDIO_TRACK_SWITCHED,h6n["a"].FRAG_LOADED,h6n["a"].ERROR));y3a.canload=false;y3a.currentLevelIndex=null;y3a.manualLevelIndex=-1;y3a.timer=null;return y3a;}I3a.prototype.recoverLevel=function J5a(y5a,I5a,X0i,r5a){var u0i=this;var k5a=this.hls.config;var j5a=y5a.details;var A5a=this._levels[I5a];var Q5a=void 0,E5a=void 0,i5a=void 0;A5a.loadError++;A5a.fragmentError=r5a;if(X0i){if(this.levelRetryCount+1<=k5a.levelLoadingMaxRetry){E5a=Math.min(Math.pow(2,this.levelRetryCount)*k5a.levelLoadingRetryDelay,k5a.levelLoadingMaxRetryTimeout);this.timer=setTimeout(function(){return u0i.loadLevel();},E5a);y5a.levelRetry=true;this.levelRetryCount++;X6n[3680>540.73?"b":"L"].warn('level controller, '+j5a+', retry in '+E5a+' ms, current retry count is '+this.levelRetryCount);}else{X6n["b"].error('level controller, cannot recover from '+j5a+' error');this.currentLevelIndex=null;this.clearTimer();y5a.fatal=true;return;}}if(X0i||r5a){Q5a=A5a.url.length;if(Q5a>1&&A5a.loadError<Q5a){A5a.urlId=(A5a.urlId+1)%Q5a;A5a.details=undefined;X6n["b"].warn('level controller, '+j5a+' for level '+I5a+': switching to redundant URL-id '+A5a.urlId);}else{if(this.manualLevelIndex===-1){i5a=I5a===0?this._levels.length-1:I5a-1;X6n["b"].warn('level controller, '+j5a+': switch to '+i5a);this.hls.nextAutoLevel=this.currentLevelIndex=i5a;}else if(r5a){X6n["b"].warn('level controller, '+j5a+': reload a fragment');this.currentLevelIndex=null;}}}};I3a.prototype.onFragLoaded=function h0i(C0i){var f0i=C0i.frag;if(f0i!==undefined&&f0i.type==='main'){var D0i=this._levels[f0i.level];if(D0i!==undefined){D0i.fragmentError=false;D0i.loadError=0;this.levelRetryCount=0;}}};I3a.prototype.onLevelLoaded=function w0i(R0i){var t0i=this;var U0i=R0i.level;if(U0i!==this.currentLevelIndex){return;}var F0i=this._levels[U0i];if(!F0i.fragmentError){F0i.loadError=0;this.levelRetryCount=0;}var c0i=R0i.details;if(c0i.live){var q0i=1000*(c0i.averagetargetduration?c0i.averagetargetduration:c0i.targetduration);var Y0i=q0i,o0i=F0i.details;if(o0i&&c0i.endSN===o0i.endSN){Y0i/=2;X6n["b"].log('same live playlist, reload twice faster');}Y0i-=B2n.now()-R0i.stats.trequest;Y0i=Math.max(q0i/2,Math.round(Y0i));X6n["b"].log('live playlist, reload in '+Math.round(Y0i)+' ms');this.timer=setTimeout(function(){return t0i.loadLevel();},Y0i);}else{this.clearTimer();}};I3a.prototype.onAudioTrackSwitched=function l0i(N0i){var K0i=this.hls.audioTracks[N0i.id].groupId;var G0i=this.hls.levels[this.currentLevelIndex];if(!G0i){return;}if(G0i.audioGroupIds){var m0i=G0i.audioGroupIds.findIndex(function(a0i){return a0i===K0i;});if(m0i!==G0i.urlId){G0i.urlId=m0i;this.startLoad();}}};I3a.prototype.loadLevel=function b0i(){X6n["b"].debug('call to loadLevel');if(this.currentLevelIndex!==null&&this.canload){var g0i=this._levels[this.currentLevelIndex];if((typeof g0i==='undefined'?'undefined':V2n(g0i))==='object'&&g0i.url.length>0){var M0i=this.currentLevelIndex;var P0i=g0i.urlId;var L0i=g0i.url[P0i];X6n["b"].log('Attempt loading level index '+M0i+' with URL-id '+P0i);this.hls.trigger(h6n[340.81!=(372,4932)?"a":(7.42e+3,7.30e+3)].LEVEL_LOADING,{url:L0i,level:M0i,id:P0i});}}};p2n(I3a,[{key:'levels',get:function x0i(){return this._levels;}},{key:'level',get:function O0i(){return this.currentLevelIndex;},set:function H0i(T0i){var d0i=this._levels;if(d0i){T0i=Math.min(T0i,d0i.length-1);if(this.currentLevelIndex!==T0i||!d0i[T0i].details){this.setLevelInternal(T0i);}}}},{key:'manualLevel',get:function v0i(){return this.manualLevelIndex;},set:function V0i(p0i){this.manualLevelIndex=p0i;if(this._startLevel===undefined){this._startLevel=p0i;}if(p0i!==-1){this.level=p0i;}}},{key:'firstLevel',get:function Z0i(){return this._firstLevel;},set:function B0i(W0i){this._firstLevel=W0i;}},{key:'startLevel',get:function z0i(){if(this._startLevel===undefined){var S0i=this.hls.config.startLevel;if(S0i!==undefined){return S0i;}else{return this._firstLevel;}}else{return this._startLevel;}},set:function e0i(n0i){this._startLevel=n0i;}},{key:'nextLoadLevel',get:function s0i(){if(this.manualLevelIndex!==-1){return this.manualLevelIndex;}else{return this.hls.nextAutoLevel;}},set:function J0i(A0i){this.level=A0i;if(this.manualLevelIndex===-1){this.hls.nextAutoLevel=A0i;}}}]);return I3a;}(c6n);var z2n=W2n;function c2n(W0W,z0W){return window.MediaSource.isTypeSupported((z0W||'video')+'/mp4;codecs="'+W0W+'"');}var p6n=R6n(6);function e9n(Q3a,j3a){if(!Q3a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return j3a&&(typeof j3a==="object"||typeof j3a==="function")?j3a:Q3a;}function G8n(T1a,x1a,H1a){if(F8n(T1a,H1a,x1a)){var O1a=R8n(H1a.details,x1a);if(O1a){X6n["b"].log('Adjusting PTS using last level due to CC increase within current level');N2n(O1a.start,x1a);}}}function R3n(R5i,F5i){if(typeof F5i!=="function"&&F5i!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof F5i);}R5i.prototype=Object.create(F5i&&F5i.prototype,{constructor:{value:R5i,enumerable:false,writable:true,configurable:true}});if(F5i)Object.setPrototypeOf?Object.setPrototypeOf(R5i,F5i):R5i.__proto__=F5i;}var n2n=function(D1i){X8n(f1i,D1i);f1i.prototype.destroy=function Y1i(){c6n.prototype.destroy.call(this);};f1i.prototype.onMediaAttached=function c1i(F1i){this.media=F1i.media;if(!this.media){}};f1i.prototype.onMediaDetaching=function R1i(){S6n(this.id3Track);this.id3Track=undefined;this.media=undefined;};f1i.prototype.getID3Track=function U1i(t1i){for(var o1i=0;o1i<t1i.length;o1i++){var q1i=t1i[o1i];if(q1i.kind==='metadata'&&q1i.label==='id3'){e2n(q1i,this.media);return q1i;}}return this.media.addTextTrack('metadata','id3');};function f1i(w1i){y9n(this,f1i);var C1i=u8n(this,D1i.call(this,w1i,h6n["a"].MEDIA_ATTACHED,h6n["a"].MEDIA_DETACHING,h6n["a"].FRAG_PARSING_METADATA));C1i.id3Track=undefined;C1i.media=undefined;return C1i;}f1i.prototype.onFragParsingMetadata=function l1i(M1i){var x1i=M1i.frag;var m1i=M1i.samples;if(!this.id3Track){this.id3Track=this.getID3Track(this.media.textTracks);this.id3Track.mode='hidden';}var L1i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue;for(var G1i=0;G1i<m1i.length;G1i++){var K1i=p6n["a"].getID3Frames(m1i[G1i].data);if(K1i){var P1i=m1i[G1i].pts;var a1i=G1i<m1i.length-1?m1i[G1i+1].pts:x1i.endPTS;if(P1i===a1i){a1i+=0.0001;}for(var N1i=0;N1i<K1i.length;N1i++){var g1i=K1i[N1i];if(!p6n["a"].isTimeStampFrame(g1i)){var b1i=new L1i(P1i,a1i,'');b1i.value=g1i;this.id3Track.addCue(b1i);}}}}};return f1i;}(c6n);var v9n=n2n;function T8n(j4t,A4t){if(!j4t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return A4t&&(typeof A4t==="object"||typeof A4t==="function")?A4t:j4t;}function V9n(H07,T07){if(!(H07 instanceof T07)){throw new TypeError("Cannot call a class as a function");}}function t2n(g0a,a0a,b0a){var m0a=g0a[a0a],K0a=g0a[b0a],N0a=K0a.startPTS;if(Object(Y6n["a"])(N0a)){if(b0a>a0a){m0a.duration=N0a-m0a.start;if(m0a.duration<0){X6n["b"].warn('negative duration computed for frag '+m0a.sn+',level '+m0a.level+', there should be some duration drift between playlist and fragment!');}}else{K0a.duration=m0a.start-N0a;if(K0a.duration<0){X6n["b"].warn('negative duration computed for frag '+K0a.sn+',level '+K0a.level+', there should be some duration drift between playlist and fragment!');}}}else{if(b0a>a0a){K0a.start=m0a.start+m0a.duration;}else{K0a.start=Math.max(m0a.start-K0a.duration,0);}}}function C3n(Z0W,B0W){var p0W=P9n[B0W];return!!p0W&&p0W[Z0W.slice(0,4)]===true;}var A2n=function(){p1i.prototype.sample=function B1i(z1i,S1i){var W1i=Math.pow(this.alpha_,z1i);this.estimate_=S1i*(1-W1i)+W1i*this.estimate_;this.totalWeight_+=z1i;};p1i.prototype.getTotalWeight=function e1i(){return this.totalWeight_;};p1i.prototype.getEstimate=function n1i(){if(this.alpha_){var s1i=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/s1i;}else{return this.estimate_;}};function p1i(Z1i){C8n(this,p1i);this.alpha_=Z1i?Math.exp(Math.log(0.5)/Z1i):0;this.estimate_=0;this.totalWeight_=0;}return p1i;}();function M8n(n1a,e1a){if(typeof e1a!=="function"&&e1a!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof e1a);}n1a.prototype=Object.create(e1a&&e1a.prototype,{constructor:{value:n1a,enumerable:false,writable:true,configurable:true}});if(e1a)Object.setPrototypeOf?Object.setPrototypeOf(n1a,e1a):n1a.__proto__=e1a;}var R2n=A2n;var Q2n=function(){j1i.prototype.sample=function E1i(y1i,X4i){y1i=Math.max(y1i,this.minDelayMs_);var r1i=8000*X4i/y1i,u4i=y1i/1000;this.fast_.sample(u4i,r1i);this.slow_.sample(u4i,r1i);};function j1i(Q1i,k1i,i1i,I1i){c8n(this,j1i);this.hls=Q1i;this.defaultEstimate_=I1i;this.minWeight_=0.001;this.minDelayMs_=50;this.slow_=new R2n(k1i);this.fast_=new R2n(i1i);}j1i.prototype.canEstimate=function h4i(){var f4i=this.fast_;return f4i&&f4i.getTotalWeight()>=this.minWeight_;};j1i.prototype.getEstimate=function D4i(){if(this.canEstimate()){return Math.min(this.fast_.getEstimate(),this.slow_.getEstimate());}else{return this.defaultEstimate_;}};j1i.prototype.destroy=function C4i(){};return j1i;}();var k2n=Q2n;var i2n=function(){function w4i(R4i,F4i){for(var c4i=0;c4i<F4i.length;c4i++){var Y4i=F4i[c4i];Y4i.enumerable=Y4i.enumerable||false;Y4i.configurable=true;if("value"in Y4i)Y4i.writable=true;Object.defineProperty(R4i,Y4i.key,Y4i);}}return function(U4i,q4i,o4i){if(q4i)w4i(U4i.prototype,q4i);if(o4i)w4i(U4i,o4i);return U4i;};}();var I2n=window,E2n=I2n.performance;var y2n=function(b4i){t8n(a4i,b4i);a4i.prototype.destroy=function M4i(){this.clearTimer();c6n.prototype.destroy.call(this);};a4i.prototype.onFragLoading=function L4i(p4i){var O4i=p4i.frag;if(O4i.type==='main'){if(!this.timer){this.fragCurrent=O4i;this.timer=setInterval(this.onCheck,100);}if(!this._bwEstimator){var H4i=this.hls;var x4i=H4i.config;var v4i=O4i.level;var V4i=H4i.levels[v4i].details.live;var T4i=void 0,d4i=void 0;if(V4i){T4i=x4i.abrEwmaFastLive;d4i=x4i.abrEwmaSlowLive;}else{T4i=x4i.abrEwmaFastVoD;d4i=x4i.abrEwmaSlowVoD;}this._bwEstimator=new k2n(H4i,d4i,T4i,x4i.abrEwmaDefaultEstimate);}}};a4i.prototype._abandonRulesCheck=function Z4i(){var e4i=this.hls;var S4i=e4i.media;var B4i=this.fragCurrent;if(!B4i){return;}var n4i=B4i.loader;var y4i=e4i.minAutoLevel;if(!n4i||n4i.stats&&n4i.stats.aborted){X6n["b"].warn('frag loader destroy or aborted, disarm abandonRules');this.clearTimer();this._nextAutoLevel=-1;return;}var W4i=n4i.stats;if(S4i&&W4i&&(!S4i.paused&&S4i.playbackRate!==0||!S4i.readyState)&&B4i.autoLevel&&B4i.level){var k4i=E2n.now()-W4i.trequest,Q4i=Math.abs(S4i.playbackRate);if(k4i>500*B4i.duration/Q4i){var s4i=e4i.levels,E4i=Math.max(1,W4i.bw?W4i.bw/8:W4i.loaded*1000/k4i),J4i=s4i[B4i.level],r4i=J4i.realBitrate?Math.max(J4i.realBitrate,J4i.bitrate):J4i.bitrate,u6i=W4i.total?W4i.total:Math.max(W4i.loaded,Math.round(B4i.duration*r4i/8)),I4i=S4i.currentTime,i4i=(u6i-W4i.loaded)/E4i,A4i=(U6n.bufferInfo(S4i,I4i,e4i.config.maxBufferHole).end-I4i)/Q4i;if(A4i<2*B4i.duration/Q4i&&i4i>A4i){var j4i=void 0,z4i=void 0;for(z4i=B4i.level-1;z4i>y4i;z4i--){var X6i=s4i[z4i].realBitrate?Math.max(s4i[z4i].realBitrate,s4i[z4i].bitrate):s4i[z4i].bitrate;j4i=B4i.duration*X6i/(8*0.8*E4i);if(j4i<A4i){break;}}if(j4i<i4i){X6n["b"].warn('loading too slow, abort fragment loading and switch to level '+z4i+':fragLoadedDelay['+z4i+']<fragLoadedDelay['+(B4i.level-1)+'];bufferStarvationDelay:'+j4i.toFixed(1)+'<'+i4i.toFixed(1)+':'+A4i.toFixed(1));e4i.nextLoadLevel=z4i;this._bwEstimator.sample(k4i,W4i.loaded);n4i.abort();this.clearTimer();e4i.trigger(h6n["a"].FRAG_LOAD_EMERGENCY_ABORTED,{frag:B4i,stats:W4i});}}}}};a4i.prototype.onFragLoaded=function h6i(D6i){var C6i=D6i.frag;if(C6i.type==='main'&&Object(Y6n["a"])(C6i.sn)){this.clearTimer();this.lastLoadedFragLevel=C6i.level;this._nextAutoLevel=-1;if(this.hls.config.abrMaxWithRealBitrate){var f6i=this.hls.levels[C6i.level];var Y6i=(f6i.loaded?f6i.loaded.bytes:0)+D6i.stats.loaded;var c6i=(f6i.loaded?f6i.loaded.duration:0)+D6i.frag.duration;f6i.loaded={bytes:Y6i,duration:c6i};f6i.realBitrate=Math.round(8*Y6i/c6i);}if(D6i.frag.bitrateTest){var w6i=D6i.stats;w6i.tparsed=w6i.tbuffered=w6i.tload;this.onFragBuffered(D6i);}}};a4i.prototype.onFragBuffered=function F6i(o6i){var R6i=o6i.stats;var U6i=o6i.frag;if(R6i.aborted!==true&&U6i.type==='main'&&Object(Y6n["a"])(U6i.sn)&&(!U6i.bitrateTest||R6i.tload===R6i.tbuffered)){var q6i=R6i.tparsed-R6i.trequest;X6n["b"].log('latency/loading/parsing/append/kbps:'+Math.round(R6i.tfirst-R6i.trequest)+'/'+Math.round(R6i.tload-R6i.tfirst)+'/'+Math.round(R6i.tparsed-R6i.tload)+'/'+Math.round(R6i.tbuffered-R6i.tparsed)+'/'+Math.round(8*R6i.loaded/(R6i.tbuffered-R6i.trequest)));this._bwEstimator.sample(q6i,R6i.loaded);R6i.bwEstimate=this._bwEstimator.getEstimate();if(U6i.bitrateTest){this.bitrateTestDelay=q6i/1000;}else{this.bitrateTestDelay=0;}}};a4i.prototype.onError=function t6i(l6i){switch(l6i.details){case f6n["a"].FRAG_LOAD_ERROR:case f6n["a"].FRAG_LOAD_TIMEOUT:this.clearTimer();break;default:break;}};a4i.prototype.clearTimer=function G6i(){clearInterval(this.timer);this.timer=null;};a4i.prototype._findBestLevel=function m6i(V6i,Z6i,H6i,T6i,p6i,x6i,d6i,v6i,b6i){for(var K6i=p6i;K6i>=T6i;K6i--){var M6i=b6i[K6i];if(!M6i){continue;}var a6i=M6i.details,L6i=a6i?a6i.totalduration/a6i.fragments.length:Z6i,O6i=a6i?a6i.live:false,N6i=void 0;if(K6i<=V6i){N6i=d6i*H6i;}else{N6i=v6i*H6i;}var g6i=b6i[K6i].realBitrate?Math.max(b6i[K6i].realBitrate,b6i[K6i].bitrate):b6i[K6i].bitrate,P6i=g6i*L6i/N6i;X6n["b"].trace('level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: '+K6i+'/'+Math.round(N6i)+'/'+g6i+'/'+L6i+'/'+x6i+'/'+P6i);if(N6i>g6i&&(!P6i||O6i&&!this.bitrateTestDelay||P6i<x6i)){return K6i;}}return-1;};function a4i(P4i){q8n(this,a4i);var g4i=o8n(this,b4i.call(this,P4i,h6n["a"].FRAG_LOADING,h6n["a"].FRAG_LOADED,h6n["a"].FRAG_BUFFERED,h6n["a"].ERROR));g4i.lastLoadedFragLevel=0;g4i._nextAutoLevel=-1;g4i.hls=P4i;g4i.timer=null;g4i._bwEstimator=null;g4i.onCheck=g4i._abandonRulesCheck.bind(g4i);return g4i;}i2n(a4i,[{key:'nextAutoLevel',get:function B6i(){var W6i=this._nextAutoLevel;var S6i=this._bwEstimator;if(W6i!==-1&&(!S6i||!S6i.canEstimate())){return W6i;}var z6i=this._nextABRAutoLevel;if(W6i!==-1){z6i=Math.min(W6i,z6i);}return z6i;},set:function e6i(n6i){this._nextAutoLevel=n6i;}},{key:'_nextABRAutoLevel',get:function s6i(){var Q6i=this.hls,y6i=Q6i.maxAutoLevel,h2i=Q6i.levels,J6i=Q6i.config,X2i=Q6i.minAutoLevel;var A6i=Q6i.media,u2i=this.lastLoadedFragLevel,j6i=this.fragCurrent?this.fragCurrent.duration:0,C2i=A6i?A6i.currentTime:0,w2i=A6i&&A6i.playbackRate!==0?Math.abs(A6i.playbackRate):1.0,r6i=this._bwEstimator?this._bwEstimator.getEstimate():J6i.abrEwmaDefaultEstimate,I6i=(U6n.bufferInfo(A6i,C2i,J6i.maxBufferHole).end-C2i)/w2i;var k6i=this._findBestLevel(u2i,j6i,r6i,X2i,y6i,I6i,J6i.abrBandWidthFactor,J6i.abrBandWidthUpFactor,h2i);if(k6i>=0){return k6i;}else{X6n[9750<=903.23?815.92:"b"].trace('rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering');var E6i=j6i?Math.min(j6i,J6i.maxStarvationDelay):J6i.maxStarvationDelay,f2i=J6i.abrBandWidthFactor,D2i=J6i.abrBandWidthUpFactor;if(I6i===0){var i6i=this.bitrateTestDelay;if(i6i){var Y2i=j6i?Math.min(j6i,J6i.maxLoadingDelay):J6i.maxLoadingDelay;E6i=Y2i-i6i;X6n["b"].trace('bitrate test took '+Math.round(1000*i6i)+'ms, set first fragment max fetchDuration to '+Math.round(1000*E6i)+' ms');f2i=D2i=1;}}k6i=this._findBestLevel(u2i,j6i,r6i,X2i,y6i,I6i+E6i,f2i,D2i,h2i);return Math.max(k6i,0);}}}]);return a4i;}(c6n);var r2n=y2n;var u7n=Q6n();function P2n(){var N4a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var b4a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var K4a=arguments[2];var a4a=Math.min(b4a,K4a.duration+(K4a.deltaPTS?K4a.deltaPTS:0));if(K4a.start+K4a.duration-a4a<=N4a){return 1;}else if(K4a.start-a4a>N4a&&K4a.start){return-1;}return 0;}var X7n=function(l2i){g8n(t2i,l2i);t2i.prototype.destroy=function K2i(){c6n.prototype.destroy.call(this);};t2i.prototype.onLevelPtsUpdated=function N2i(b2i){var M2i=b2i.type;var g2i=this.tracks.audio;if(M2i==='audio'&&g2i&&g2i.container==='audio/mpeg'){var a2i=this.sourceBuffer.audio;var L2i=Math.abs(a2i.timestampOffset-b2i.start);if(L2i>0.1){var P2i=a2i.updating;try{a2i.abort();}catch(x2i){P2i=true;X6n["b"].warn('can not abort audio buffer: '+x2i);}if(!P2i){X6n["b"].warn('change mpeg audio timestamp offset from '+a2i.timestampOffset+' to '+b2i.start);a2i.timestampOffset=b2i.start;}else{this.audioTimestampOffset=b2i.start;}}}};t2i.prototype.onManifestParsed=function O2i(H2i){var d2i=H2i.audio,v2i=H2i.video||H2i.levels.length&&H2i.altAudio,T2i=0;if(H2i.altAudio&&(d2i||v2i)){T2i=(d2i?1:0)+(v2i?1:0);X6n["b"].log(T2i+' sourceBuffer(s) expected');}this.sourceBufferNb=T2i;};t2i.prototype.onMediaAttaching=function V2i(B2i){var Z2i=this.media=B2i.media;if(Z2i){var p2i=this.mediaSource=new u7n();this.onmso=this.onMediaSourceOpen.bind(this);this.onmse=this.onMediaSourceEnded.bind(this);this.onmsc=this.onMediaSourceClose.bind(this);p2i.addEventListener('sourceopen',this.onmso);p2i.addEventListener('sourceended',this.onmse);p2i.addEventListener('sourceclose',this.onmsc);Z2i.src=window.URL.createObjectURL(p2i);this._objectUrl=Z2i.src;}};t2i.prototype.onMediaDetaching=function W2i(){X6n["b"].log('media source detaching');var z2i=this.mediaSource;if(z2i){if(z2i.readyState==='open'){try{z2i.endOfStream();}catch(S2i){X6n["b"].warn('onMediaDetaching:'+S2i.message+' while calling endOfStream');}}z2i.removeEventListener('sourceopen',this.onmso);z2i.removeEventListener('sourceended',this.onmse);z2i.removeEventListener('sourceclose',this.onmsc);if(this.media){window.URL.revokeObjectURL(this._objectUrl);if(this.media.src===this._objectUrl){this.media.removeAttribute('src');this.media.load();}else{X6n["b"].warn('media.src was changed by a third party - skip cleanup');}}this.mediaSource=null;this.media=null;this._objectUrl=null;this.pendingTracks={};this.tracks={};this.sourceBuffer={};this.flushRange=[];this.segments=[];this.appended=0;}this.onmso=this.onmse=this.onmsc=null;this.hls.trigger(h6n["a"].MEDIA_DETACHED);};t2i.prototype.onMediaSourceOpen=function e2i(){X6n["b"].log('media source opened');this.hls.trigger(h6n["a"].MEDIA_ATTACHED,{media:this.media});var n2i=this.mediaSource;if(n2i){n2i.removeEventListener('sourceopen',this.onmso);}this.checkPendingTracks();};t2i.prototype.checkPendingTracks=function s2i(){var J2i=this.pendingTracks,A2i=Object.keys(J2i).length;if(A2i&&(this.sourceBufferNb<=A2i||this.sourceBufferNb===0)){this.createSourceBuffers(J2i);this.pendingTracks={};this.doAppending();}};t2i.prototype.onMediaSourceClose=function j2i(){X6n["b"].log('media source closed');};t2i.prototype.onMediaSourceEnded=function Q2i(){X6n["b"].log('media source ended');};t2i.prototype.onSBUpdateEnd=function k2i(){if(this.audioTimestampOffset){var i2i=this.sourceBuffer.audio;X6n["b"].warn('change mpeg audio timestamp offset from '+i2i.timestampOffset+' to '+this.audioTimestampOffset);i2i.timestampOffset=this.audioTimestampOffset;delete this.audioTimestampOffset;}if(this._needsFlush){this.doFlush();}if(this._needsEos){this.checkEos();}this.appending=false;var I2i=this.parent;var u7i=this.segments.reduce(function(X7i,h7i){return h7i.parent===I2i?X7i+1:X7i;},0);var E2i={};var y2i=this.sourceBuffer;for(var r2i in y2i){E2i[r2i]=y2i[r2i].buffered;}this.hls.trigger(h6n["a"].BUFFER_APPENDED,{parent:I2i,pending:u7i,timeRanges:E2i});if(!this._needsFlush){this.doAppending();}this.updateMediaElementDuration();};t2i.prototype.onSBUpdateError=function f7i(D7i){X6n["b"].error('sourceBuffer error:',D7i);this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].MEDIA_ERROR,details:f6n["a"].BUFFER_APPENDING_ERROR,fatal:false});};t2i.prototype.onBufferReset=function C7i(){var Y7i=this.sourceBuffer;for(var c7i in Y7i){var w7i=Y7i[c7i];try{this.mediaSource.removeSourceBuffer(w7i);w7i.removeEventListener('updateend',this.onsbue);w7i.removeEventListener('error',this.onsbe);}catch(F7i){}}this.sourceBuffer={};this.flushRange=[];this.segments=[];this.appended=0;};t2i.prototype.onBufferCodecs=function R7i(o7i){if(Object.keys(this.sourceBuffer).length===0){for(var U7i in o7i){this.pendingTracks[U7i]=o7i[U7i];}var q7i=this.mediaSource;if(q7i&&q7i.readyState==='open'){this.checkPendingTracks();}}};t2i.prototype.createSourceBuffers=function t7i(N7i){var a7i=this.sourceBuffer,g7i=this.mediaSource;for(var G7i in N7i){if(!a7i[G7i]){var l7i=N7i[G7i];var b7i=l7i.levelCodec||l7i.codec;var m7i=l7i.container+';codecs='+b7i;X6n["b"].log('creating sourceBuffer('+m7i+')');try{var K7i=a7i[G7i]=g7i.addSourceBuffer(m7i);K7i.addEventListener('updateend',this.onsbue);K7i.addEventListener('error',this.onsbe);this.tracks[G7i]={codec:b7i,container:l7i.container};l7i.buffer=K7i;}catch(P7i){X6n["b"].error('error while trying to add sourceBuffer:'+P7i.message);this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].MEDIA_ERROR,details:f6n["a"].BUFFER_ADD_CODEC_ERROR,fatal:false,err:P7i,mimeType:m7i});}}}this.hls.trigger(h6n["a"].BUFFER_CREATED,{tracks:N7i});};t2i.prototype.onBufferAppending=function M7i(L7i){if(!this._needsFlush){if(!this.segments){this.segments=[L7i];}else{this.segments.push(L7i);}this.doAppending();}};t2i.prototype.onBufferAppendFail=function x7i(O7i){X6n["b"].error('sourceBuffer error:',O7i.event);this.hls.trigger(h6n[537.09>=1245?98.81:"a"].ERROR,{type:f6n["b"].MEDIA_ERROR,details:f6n["a"].BUFFER_APPENDING_ERROR,fatal:false});};t2i.prototype.onBufferEos=function H7i(V7i){var d7i=this.sourceBuffer;var v7i=V7i.type;for(var T7i in d7i){if(!v7i||T7i===v7i){if(!d7i[T7i].ended){d7i[T7i].ended=true;X6n["b"].log(T7i+' sourceBuffer now EOS');}}}this.checkEos();};t2i.prototype.checkEos=function p7i(){var B7i=this.sourceBuffer,Z7i=this.mediaSource;if(!Z7i||Z7i.readyState!=='open'){this._needsEos=false;return;}for(var z7i in B7i){var W7i=B7i[z7i];if(!W7i.ended){return;}if(W7i.updating){this._needsEos=true;return;}}X6n["b"].log('all media data available, signal endOfStream() to MediaSource and stop loading fragment');try{Z7i.endOfStream();}catch(S7i){X6n["b"].warn('exception while calling mediaSource.endOfStream()');}this._needsEos=false;};t2i.prototype.onBufferFlushing=function e7i(n7i){this.flushRange.push({start:n7i.startOffset,end:n7i.endOffset,type:n7i.type});this.flushBufferCounter=0;this.doFlush();};function t2i(m2i){a8n(this,t2i);var G2i=b8n(this,l2i.call(this,m2i,h6n[64.53>=(4449,1550)?(596,408.21):"a"].MEDIA_ATTACHING,h6n["a"].MEDIA_DETACHING,h6n["a"].MANIFEST_PARSED,h6n["a"].BUFFER_RESET,h6n["a"].BUFFER_APPENDING,h6n["a"].BUFFER_CODECS,h6n["a"].BUFFER_EOS,h6n["a"].BUFFER_FLUSHING,h6n["a"].LEVEL_PTS_UPDATED,h6n["a"].LEVEL_UPDATED));G2i._msDuration=null;G2i._levelDuration=null;G2i._live=null;G2i._objectUrl=null;G2i.onsbue=G2i.onSBUpdateEnd.bind(G2i);G2i.onsbe=G2i.onSBUpdateError.bind(G2i);G2i.pendingTracks={};G2i.tracks={};return G2i;}t2i.prototype.onLevelUpdated=function s7i(A7i){var J7i=A7i.details;if(J7i.fragments.length>0){this._levelDuration=J7i.totalduration+J7i.fragments[0].start;this._live=J7i.live;this.updateMediaElementDuration();}};t2i.prototype.updateMediaElementDuration=function j7i(){var k7i=this.hls.config;var Q7i=void 0;if(this._levelDuration===null||!this.media||!this.mediaSource||!this.sourceBuffer||this.media.readyState===0||this.mediaSource.readyState!=='open'){return;}for(var i7i in this.sourceBuffer){if(this.sourceBuffer[i7i].updating===true){return;}}Q7i=this.media.duration;if(this._msDuration===null){this._msDuration=this.mediaSource.duration;}if(this._live===true&&k7i.liveDurationInfinity===true){X6n["b"].log('Media Source duration is set to Infinity');this._msDuration=this.mediaSource.duration=Infinity;}else if(this._levelDuration>this._msDuration&&this._levelDuration>Q7i||!Object(Y6n["a"])(Q7i)){X6n["b"].log('Updating Media Source duration to '+this._levelDuration.toFixed(3));this._msDuration=this.mediaSource.duration=this._levelDuration;}};t2i.prototype.doFlush=function I7i(){while(this.flushRange.length){var E7i=this.flushRange[0];if(this.flushBuffer(E7i.start,E7i.end,E7i.type)){this.flushRange.shift();this.flushBufferCounter=0;}else{this._needsFlush=true;return;}}if(this.flushRange.length===0){this._needsFlush=false;var y7i=0;var r7i=this.sourceBuffer;try{for(var u9i in r7i){y7i+=r7i[u9i].buffered.length;}}catch(X9i){X6n["b"].error('error while accessing sourceBuffer.buffered');}this.appended=y7i;this.hls.trigger(h6n["a"].BUFFER_FLUSHED);}};t2i.prototype.doAppending=function h9i(){var w9i=this.hls,c9i=this.sourceBuffer,D9i=this.segments;if(Object.keys(c9i).length){if(this.media.error){this.segments=[];X6n["b"].error('trying to append although a media error occured, flush segment and abort');return;}if(this.appending){return;}if(D9i&&D9i.length){var C9i=D9i.shift();try{var F9i=C9i.type,Y9i=c9i[F9i];if(Y9i){if(!Y9i.updating){Y9i.ended=false;this.parent=C9i.parent;Y9i.appendBuffer(C9i.data);this.appendError=0;this.appended++;this.appending=true;}else{D9i.unshift(C9i);}}else{this.onSBUpdateEnd();}}catch(R9i){X6n["b"].error('error while trying to append buffer:'+R9i.message);D9i.unshift(C9i);var f9i={type:f6n[7900!=169?"b":"l"].MEDIA_ERROR,parent:C9i.parent};if(R9i.code!==22){if(this.appendError){this.appendError++;}else{this.appendError=1;}f9i.details=f6n["a"].BUFFER_APPEND_ERROR;if(this.appendError>w9i.config.appendErrorMaxRetry){X6n["b"].log('fail '+w9i.config.appendErrorMaxRetry+' times to append segment in sourceBuffer');D9i=[];f9i.fatal=true;w9i.trigger(h6n["a"].ERROR,f9i);}else{f9i.fatal=false;w9i.trigger(h6n["a"].ERROR,f9i);}}else{this.segments=[];f9i.details=f6n["a"].BUFFER_FULL_ERROR;f9i.fatal=false;w9i.trigger(h6n["a"].ERROR,f9i);}}}}};t2i.prototype.flushBuffer=function U9i(b9i,a9i,g9i){var q9i=void 0,o9i=void 0,m9i=void 0,G9i=void 0,l9i=void 0,t9i=void 0,K9i=this.sourceBuffer;if(Object.keys(K9i).length){X6n[7530===960.58?false:"b"].log('flushBuffer,pos/start/end: '+this.media.currentTime.toFixed(3)+'/'+b9i+'/'+a9i);if(this.flushBufferCounter<this.appended){for(var N9i in K9i){if(g9i&&N9i!==g9i){continue;}q9i=K9i[N9i];q9i.ended=false;if(!q9i.updating){try{for(o9i=0;o9i<q9i.buffered.length;o9i++){m9i=q9i.buffered.start(o9i);G9i=q9i.buffered.end(o9i);if(navigator.userAgent.toLowerCase().indexOf('firefox')!==-1&&a9i===Number.POSITIVE_INFINITY){l9i=b9i;t9i=a9i;}else{l9i=Math.max(m9i,b9i);t9i=Math.min(G9i,a9i);}if(Math.min(t9i,G9i)-l9i>0.5){this.flushBufferCounter++;X6n["b"].log('flush '+N9i+' ['+l9i+','+t9i+'], of ['+m9i+','+G9i+'], pos:'+this.media.currentTime);q9i.remove(l9i,t9i);return false;}}}catch(P9i){X6n["b"].warn('exception while accessing sourcebuffer, it might have been removed from MediaSource');}}else{X6n["b"].warn('cannot flush, sb updating in progress');return false;}}}else{X6n["b"].warn('abort flushing too many retries');}X6n["b"].log('buffer flushed');}return true;};return t2i;}(c6n);var h7n=X7n;var f7n=function(){function M9i(H9i,O9i){for(var x9i=0;x9i<O9i.length;x9i++){var L9i=O9i[x9i];L9i.enumerable=L9i.enumerable||false;L9i.configurable=true;if("value"in L9i)L9i.writable=true;Object.defineProperty(H9i,L9i.key,L9i);}}return function(T9i,d9i,v9i){if(d9i)M9i(T9i.prototype,d9i);if(v9i)M9i(T9i,v9i);return T9i;};}();function e2n(Q0i,k0i){var j0i=null;try{j0i=new window.Event('addtrack');}catch(i0i){j0i=document.createEvent('Event');j0i.initEvent('addtrack',false,false);}j0i.track=Q0i;k0i.dispatchEvent(j0i);}var D7n=function(e9i){Z8n(S9i,e9i);S9i.prototype.destroy=function J9i(){if(this.hls.config.capLevelToPlayerSize){this.media=null;this._stopCapping();}};S9i.prototype.onFpsDropLevelCapping=function A9i(j9i){if(S9i.isLevelAllowed(j9i.droppedLevel,this.restrictedLevels)){this.restrictedLevels.push(j9i.droppedLevel);}};S9i.prototype.onMediaAttaching=function Q9i(k9i){this.media=k9i.media instanceof window.HTMLVideoElement?k9i.media:null;};S9i.prototype.onManifestParsed=function i9i(I9i){var E9i=this.hls;this.restrictedLevels=[];this.levels=I9i.levels;this.firstLevel=I9i.firstLevel;if(E9i.config.capLevelToPlayerSize&&(I9i.video||I9i.levels.length&&I9i.altAudio)){this._startCapping();}};S9i.prototype.onBufferCodecs=function y9i(u8i){var r9i=this.hls;if(r9i.config.capLevelToPlayerSize&&u8i.video){this._startCapping();}};S9i.prototype.onLevelsUpdated=function X8i(h8i){this.levels=h8i.levels;};S9i.prototype.onMediaDetaching=function f8i(){this._stopCapping();};S9i.prototype.detectPlayerSize=function D8i(){if(this.media){var w8i=this.levels?this.levels.length:0;if(w8i){var C8i=this.hls;C8i.autoLevelCapping=this.getMaxLevel(w8i-1);if(C8i.autoLevelCapping>this.autoLevelCapping){C8i.streamController.nextLevelSwitch();}this.autoLevelCapping=C8i.autoLevelCapping;}}};S9i.prototype.getMaxLevel=function Y8i(R8i){var c8i=this;if(!this.levels){return-1;}var F8i=this.levels.filter(function(q8i,U8i){return S9i.isLevelAllowed(U8i,c8i.restrictedLevels)&&U8i<=R8i;});return S9i.getMaxLevelByMediaSize(F8i,this.mediaWidth,this.mediaHeight);};S9i.prototype._startCapping=function o8i(){if(this.timer){return;}this.autoLevelCapping=Number.POSITIVE_INFINITY;this.hls.firstLevel=this.getMaxLevel(this.firstLevel);clearInterval(this.timer);this.timer=setInterval(this.detectPlayerSize.bind(this),1000);this.detectPlayerSize();};S9i.prototype._stopCapping=function t8i(){this.restrictedLevels=[];this.firstLevel=null;this.autoLevelCapping=Number.POSITIVE_INFINITY;if(this.timer){this.timer=clearInterval(this.timer);this.timer=null;}};S9i.isLevelAllowed=function l8i(m8i){var G8i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return G8i.indexOf(m8i)===-1;};S9i.getMaxLevelByMediaSize=function K8i(N8i,M8i,L8i){if(!N8i||N8i&&!N8i.length){return-1;}var P8i=function x8i(H8i,O8i){if(!O8i){return true;}return H8i.width!==O8i.width||H8i.height!==O8i.height;};var g8i=N8i.length-1;for(var a8i=0;a8i<N8i.length;a8i+=1){var b8i=N8i[a8i];if((b8i.width>=M8i||b8i.height>=L8i)&&P8i(b8i,N8i[a8i+1])){g8i=a8i;break;}}return g8i;};function S9i(s9i){O8n(this,S9i);var n9i=p8n(this,e9i.call(this,s9i,h6n["a"].FPS_DROP_LEVEL_CAPPING,h6n["a"].MEDIA_ATTACHING,h6n["a"].MANIFEST_PARSED,h6n["a"].BUFFER_CODECS,h6n["a"].MEDIA_DETACHING));n9i.autoLevelCapping=Number.POSITIVE_INFINITY;n9i.firstLevel=null;n9i.levels=[];n9i.media=null;n9i.restrictedLevels=[];n9i.timer=null;return n9i;}f7n(S9i,[{key:'mediaWidth',get:function T8i(){var v8i=void 0;var d8i=this.media;if(d8i){v8i=d8i.width||d8i.clientWidth||d8i.offsetWidth;v8i*=S9i.contentScaleFactor;}return v8i;}},{key:'mediaHeight',get:function V8i(){var Z8i=void 0;var p8i=this.media;if(p8i){Z8i=p8i.height||p8i.clientHeight||p8i.offsetHeight;Z8i*=S9i.contentScaleFactor;}return Z8i;}}],[{key:'contentScaleFactor',get:function B8i(){var W8i=1;try{W8i=window.devicePixelRatio;}catch(z8i){}return W8i;}}]);return S9i;}(c6n);function Q8n(F9t,c9t){if(typeof c9t!=="function"&&c9t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof c9t);}F9t.prototype=Object.create(c9t&&c9t.prototype,{constructor:{value:F9t,enumerable:false,writable:true,configurable:true}});if(c9t)Object.setPrototypeOf?Object.setPrototypeOf(F9t,c9t):F9t.__proto__=c9t;}var C7n=D7n;function B8n(c4a,F4a,U4a){if(!Array.isArray(c4a)||!c4a.length||!Object(Y6n["a"])(F4a)){return null;}if(F4a<c4a[0].programDateTime){return null;}if(F4a>=c4a[c4a.length-1].endProgramDateTime){return null;}U4a=U4a||0;for(var R4a=0;R4a<c4a.length;++R4a){var q4a=c4a[R4a];if(i8n(F4a,U4a,q4a)){return q4a;}}return null;}function e8n(m4a,t4a){var l4a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var G4a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var o4a=m4a?t4a[m4a.sn-t4a[0].sn+1]:null;if(o4a&&!P2n(l4a,G4a,o4a)){return o4a;}return P6n.search(t4a,P2n.bind(null,l4a,G4a));}function Y8n(c1a,Y1a){return P6n.search(c1a,function(F1a){if(F1a.cc<Y1a){return 1;}else if(F1a.cc>Y1a){return-1;}else{return 0;}});}var w7n=window,Y7n=w7n.performance;var c7n=function(Q8i){J8n(j8i,Q8i);j8i.prototype.destroy=function i8i(){if(this.timer){clearInterval(this.timer);}this.isVideoPlaybackQualityAvailable=false;};function j8i(k8i){n8n(this,j8i);return s8n(this,Q8i.call(this,k8i,h6n["a"].MEDIA_ATTACHING));}j8i.prototype.onMediaAttaching=function I8i(y8i){var E8i=this.hls.config;if(E8i.capLevelOnFPSDrop){var r8i=this.video=y8i.media instanceof window.HTMLVideoElement?y8i.media:null;if(typeof r8i.getVideoPlaybackQuality==='function'){this.isVideoPlaybackQualityAvailable=true;}clearInterval(this.timer);this.timer=setInterval(this.checkFPSInterval.bind(this),E8i.fpsDroppedMonitoringPeriod);}};j8i.prototype.checkFPS=function u3i(R3i,D3i,C3i){var w3i=Y7n.now();if(D3i){if(this.lastTime){var c3i=w3i-this.lastTime,f3i=C3i-this.lastDroppedFrames,Y3i=D3i-this.lastDecodedFrames,F3i=1000*f3i/c3i,X3i=this.hls;X3i.trigger(h6n["a"].FPS_DROP,{currentDropped:f3i,currentDecoded:Y3i,totalDroppedFrames:C3i});if(F3i>0){if(f3i>X3i.config.fpsDroppedMonitoringThreshold*Y3i){var h3i=X3i.currentLevel;X6n["b"].warn('drop FPS ratio greater than max allowed value for currentLevel: '+h3i);if(h3i>0&&(X3i.autoLevelCapping===-1||X3i.autoLevelCapping>=h3i)){h3i=h3i-1;X3i.trigger(h6n["a"].FPS_DROP_LEVEL_CAPPING,{level:h3i,droppedLevel:X3i.currentLevel});X3i.autoLevelCapping=h3i;X3i.streamController.nextLevelSwitch();}}}}this.lastTime=w3i;this.lastDroppedFrames=C3i;this.lastDecodedFrames=D3i;}};j8i.prototype.checkFPSInterval=function U3i(){var q3i=this.video;if(q3i){if(this.isVideoPlaybackQualityAvailable){var o3i=q3i.getVideoPlaybackQuality();this.checkFPS(q3i,o3i.totalVideoFrames,o3i.droppedVideoFrames);}else{this.checkFPS(q3i,q3i.webkitDecodedFrameCount,q3i.webkitDroppedFrameCount);}}};return j8i;}(c6n);var F7n=c7n;var e6n=window,v6n=e6n.performance,q7n=e6n.XMLHttpRequest;function A8n(D9t,C9t){if(!(D9t instanceof C9t)){throw new TypeError("Cannot call a class as a function");}}var o7n=function(){G3i.prototype.destroy=function K3i(){this.abort();this.loader=null;};G3i.prototype.abort=function N3i(){var a3i=this.loader;if(a3i&&a3i.readyState!==4){this.stats.aborted=true;a3i.abort();}window.clearTimeout(this.requestTimeout);this.requestTimeout=null;window.clearTimeout(this.retryTimeout);this.retryTimeout=null;};G3i.prototype.load=function b3i(P3i,g3i,M3i){this.context=P3i;this.config=g3i;this.callbacks=M3i;this.stats={trequest:v6n.now(),retry:0};this.retryDelay=g3i.retryDelay;this.loadInternal();};G3i.prototype.loadInternal=function L3i(){var x3i=void 0,O3i=this.context;x3i=this.loader=new q7n();var T3i=this.stats;T3i.tfirst=0;T3i.loaded=0;var H3i=this.xhrSetup;try{if(H3i){try{H3i(x3i,O3i.url);}catch(d3i){x3i.open('GET',O3i.url,true);H3i(x3i,O3i.url);}}if(!x3i.readyState){x3i.open('GET',O3i.url,true);}}catch(v3i){this.callbacks.onError({code:x3i.status,text:v3i.message},O3i,x3i);return;}if(O3i.rangeEnd){x3i.setRequestHeader('Range','bytes='+O3i.rangeStart+'-'+(O3i.rangeEnd-1));}x3i.onreadystatechange=this.readystatechange.bind(this);x3i.onprogress=this.loadprogress.bind(this);x3i.responseType=O3i.responseType;this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout);x3i.send();};G3i.prototype.readystatechange=function V3i(J3i){var Z3i=J3i.currentTarget,n3i=Z3i.readyState,p3i=this.stats,W3i=this.context,e3i=this.config;if(p3i.aborted){return;}if(n3i>=2){window.clearTimeout(this.requestTimeout);if(p3i.tfirst===0){p3i.tfirst=Math.max(v6n.now(),p3i.trequest);}if(n3i===4){var B3i=Z3i.status;if(B3i>=200&&B3i<300){p3i.tload=Math.max(p3i.tfirst,v6n.now());var z3i=void 0,S3i=void 0;if(W3i.responseType==='arraybuffer'){z3i=Z3i.response;S3i=z3i.byteLength;}else{z3i=Z3i.responseText;S3i=z3i.length;}p3i.loaded=p3i.total=S3i;var s3i={url:Z3i.responseURL,data:z3i};this.callbacks.onSuccess(s3i,p3i,W3i,Z3i);}else{if(p3i.retry>=e3i.maxRetry||B3i>=400&&B3i<499){X6n["b"].error(B3i+' while loading '+W3i.url);this.callbacks.onError({code:B3i,text:Z3i.statusText},W3i,Z3i);}else{X6n["b"].warn(B3i+' while loading '+W3i.url+', retrying in '+this.retryDelay+'...');this.destroy();this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay);this.retryDelay=Math.min(2*this.retryDelay,e3i.maxRetryDelay);p3i.retry++;}}}else{this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),e3i.timeout);}}};G3i.prototype.loadtimeout=function A3i(){X6n["b"].warn('timeout while loading '+this.context.url);this.callbacks.onTimeout(this.stats,this.context,null);};G3i.prototype.loadprogress=function j3i(Q3i){var I3i=Q3i.currentTarget,k3i=this.stats;k3i.loaded=Q3i.loaded;if(Q3i.lengthComputable){k3i.total=Q3i.total;}var i3i=this.callbacks.onProgress;if(i3i){i3i(k3i,this.context,null,I3i);}};function G3i(m3i){y8n(this,G3i);if(m3i&&m3i.xhrSetup){this.xhrSetup=m3i.xhrSetup;}}return G3i;}();var t7n=o7n;var l7n=function(){function E3i(X5i,u5i){for(var r3i=0;r3i<u5i.length;r3i++){var y3i=u5i[r3i];y3i.enumerable=y3i.enumerable||false;y3i.configurable=true;if("value"in y3i)y3i.writable=true;Object.defineProperty(X5i,y3i.key,y3i);}}return function(h5i,f5i,D5i){if(f5i)E3i(h5i.prototype,f5i);if(D5i)E3i(h5i,D5i);return h5i;};}();function H7n(n77,j77,Q77,s77){var z77=s77?n77.split(s77):[n77];for(var e77 in z77){if(typeof z77[e77]!=='string'){continue;}var S77=z77[e77].split(Q77);if(S77.length!==2){continue;}var J77=S77[0];var A77=S77[1];j77(J77,A77);}}var G7n=function(q5i){R3n(U5i,q5i);U5i.prototype.onManifestLoading=function l5i(){this.tracks=[];this._trackId=-1;this._selectDefaultTrack=true;};U5i.prototype.onManifestParsed=function G5i(K5i){var m5i=this.tracks=K5i.audioTracks||[];this.hls.trigger(h6n["a"].AUDIO_TRACKS_UPDATED,{audioTracks:m5i});};U5i.prototype.onAudioTrackLoaded=function N5i(a5i){if(a5i.id>=this.tracks.length){X6n["b"].warn('Invalid audio track id:',a5i.id);return;}X6n["b"].log('audioTrack '+a5i.id+' loaded');this.tracks[a5i.id].details=a5i.details;if(a5i.details.live&&!this.hasInterval()){var b5i=a5i.details.targetduration*1000;this.setInterval(b5i);}if(!a5i.details.live&&this.hasInterval()){this.clearInterval();}};U5i.prototype.onAudioTrackSwitched=function g5i(M5i){var P5i=this.tracks[M5i.id].groupId;if(P5i&&this.audioGroupId!==P5i){this.audioGroupId=P5i;}};U5i.prototype.onLevelLoaded=function L5i(H5i){var x5i=this.hls.levels[H5i.level];if(!x5i.audioGroupIds){return;}var O5i=x5i.audioGroupIds[x5i.urlId];if(this.audioGroupId!==O5i){this.audioGroupId=O5i;this._selectInitialAudioTrack();}};U5i.prototype.onError=function T5i(d5i){if(d5i.type!==f6n["b"].NETWORK_ERROR){return;}if(d5i.fatal){this.clearInterval();}if(d5i.details!==f6n["a"].AUDIO_TRACK_LOAD_ERROR){return;}X6n["b"].warn('Network failure on audio-track id:',d5i.context.id);this._handleLoadError();};U5i.prototype._setAudioTrack=function v5i(V5i){if(this._trackId===V5i&&this.tracks[this._trackId].details){X6n["b"].debug('Same id as current audio-track passed, and track details available -> no-op');return;}if(V5i<0||V5i>=this.tracks.length){X6n["b"].warn('Invalid id passed to audio-track controller');return;}var p5i=this.tracks[V5i];X6n["b"].log('Now switching to audio-track index '+V5i);this.clearInterval();this._trackId=V5i;var Z5i=p5i.url,B5i=p5i.type,W5i=p5i.id;this.hls.trigger(h6n[(1028,5400)!==(9918,4340)?"a":("K",7.94e+3)].AUDIO_TRACK_SWITCHING,{id:W5i,type:B5i,url:Z5i});this._loadTrackDetailsIfNeeded(p5i);};U5i.prototype.doTick=function z5i(){this._updateTrack(this._trackId);};U5i.prototype._selectInitialAudioTrack=function S5i(){var J5i=this;var e5i=this.tracks;if(!e5i.length){return;}var A5i=this.tracks[this._trackId];var n5i=null;if(A5i){n5i=A5i.name;}if(this._selectDefaultTrack){var j5i=e5i.filter(function(k5i){return k5i.default;});if(j5i.length){e5i=j5i;}else{X6n["b"].warn('No default audio tracks defined');}}var s5i=false;var Q5i=function i5i(){e5i.forEach(function(I5i){if(s5i){return;}if((!J5i.audioGroupId||I5i.groupId===J5i.audioGroupId)&&(!n5i||n5i===I5i.name)){J5i._setAudioTrack(I5i.id);s5i=true;}});};Q5i();if(!s5i){n5i=null;Q5i();}if(!s5i){X6n["b"].error('No track found for running audio group-ID: '+this.audioGroupId);this.hls.trigger(h6n[6060!=(807.3,9800)?"a":(true,8.23e+3)].ERROR,{type:f6n["b"].MEDIA_ERROR,details:f6n["a"].AUDIO_TRACK_LOAD_ERROR,fatal:true});}};U5i.prototype._needsTrackLoading=function E5i(r5i){var y5i=r5i.details;if(!y5i){return true;}else if(y5i.live){return true;}};U5i.prototype._loadTrackDetailsIfNeeded=function u07(X07){if(this._needsTrackLoading(X07)){var f07=X07.url,h07=X07.id;X6n["b"].log('loading audio-track playlist for id: '+h07);this.hls.trigger(h6n["a"].AUDIO_TRACK_LOADING,{url:f07,id:h07});}};U5i.prototype._updateTrack=function D07(C07){if(C07<0||C07>=this.tracks.length){return;}this.clearInterval();this._trackId=C07;X6n["b"].log('trying to update audio-track '+C07);var w07=this.tracks[C07];this._loadTrackDetailsIfNeeded(w07);};U5i.prototype._handleLoadError=function Y07(){this.trackIdBlacklist[this._trackId]=true;var R07=this._trackId;var U07=this.tracks[R07],q07=U07.name,o07=U07.language,t07=U07.groupId;X6n["b"].warn('Loading failed on audio track id: '+R07+', group-id: '+t07+', name/language: "'+q07+'" / "'+o07+'"');var c07=R07;for(var F07=0;F07<this.tracks.length;F07++){if(this.trackIdBlacklist[F07]){continue;}var l07=this.tracks[F07];if(l07.name===q07){c07=F07;break;}}if(c07===R07){X6n["b"].warn('No fallback audio-track found for name/language: "'+q07+'" / "'+o07+'"');return;}X6n["b"].log('Attempting audio-track fallback id:',c07,'group-id:',this.tracks[c07].groupId);this._setAudioTrack(c07);};function U5i(t5i){c3n(this,U5i);var o5i=F3n(this,q5i.call(this,t5i,h6n["a"].MANIFEST_LOADING,h6n[576.31!=5737?"a":("j","X")].MANIFEST_PARSED,h6n["a"].AUDIO_TRACK_LOADED,h6n["a"].AUDIO_TRACK_SWITCHED,h6n["a"].LEVEL_LOADED,h6n["a"].ERROR));o5i._trackId=-1;o5i._selectDefaultTrack=true;o5i.tracks=[];o5i.trackIdBlacklist=Object.create(null);o5i.audioGroupId=null;return o5i;}l7n(U5i,[{key:'audioTracks',get:function G07(){return this.tracks;}},{key:'audioTrack',get:function m07(){return this._trackId;},set:function K07(N07){this._setAudioTrack(N07);this._selectDefaultTrack=false;}}]);return U5i;}(M6n);var m7n=G7n;var K7n=function(){function a07(M07,P07){for(var g07=0;g07<P07.length;g07++){var b07=P07[g07];b07.enumerable=b07.enumerable||false;b07.configurable=true;if("value"in b07)b07.writable=true;Object.defineProperty(M07,b07.key,b07);}}return function(L07,x07,O07){if(x07)a07(L07.prototype,x07);if(O07)a07(L07,O07);return L07;};}();var N7n=window,g6n=N7n.performance;function U8n(L4W,x4W){if(!(L4W instanceof x4W)){throw new TypeError("Cannot call a class as a function");}}var D6n={STOPPED:'STOPPED',STARTING:'STARTING',IDLE:'IDLE',PAUSED:'PAUSED',KEY_LOADING:'KEY_LOADING',FRAG_LOADING:'FRAG_LOADING',FRAG_LOADING_WAITING_RETRY:'FRAG_LOADING_WAITING_RETRY',WAITING_TRACK:'WAITING_TRACK',PARSING:'PARSING',PARSED:'PARSED',BUFFER_FLUSHING:'BUFFER_FLUSHING',ENDED:'ENDED',ERROR:'ERROR',WAITING_INIT_PTS:'WAITING_INIT_PTS'};function y9n(E0i,y0i){if(!(E0i instanceof y0i)){throw new TypeError("Cannot call a class as a function");}}var g7n=function(B07){Z9n(Z07,B07);Z07.prototype.onHandlerDestroying=function e07(){this.stopLoad();B07.prototype.onHandlerDestroying.call(this);};Z07.prototype.onHandlerDestroyed=function n07(){this.state=D6n.STOPPED;this.fragmentTracker=null;B07.prototype.onHandlerDestroyed.call(this);};Z07.prototype.onInitPtsFound=function s07(A07){var Q07=A07.id,J07=A07.frag.cc,j07=A07.initPTS;if(Q07==='main'){this.initPTS[J07]=j07;this.videoTrackCC=J07;X6n["b"].log('InitPTS for cc: '+J07+' found from video track: '+j07);if(this.state===D6n.WAITING_INIT_PTS){this.tick();}}};Z07.prototype.startLoad=function k07(i07){if(this.tracks){var I07=this.lastCurrentTime;this.stopLoad();this.setInterval(100);this.fragLoadError=0;if(I07>0&&i07===-1){X6n["b"].log('audio:override startPosition with lastCurrentTime @'+I07.toFixed(3));this.state=D6n.IDLE;}else{this.lastCurrentTime=this.startPosition?this.startPosition:i07;this.state=D6n.STARTING;}this.nextLoadPosition=this.startPosition=this.lastCurrentTime;this.tick();}else{this.startPosition=i07;this.state=D6n.STOPPED;}};Z07.prototype.stopLoad=function E07(){var y07=this.fragCurrent;if(y07){if(y07.loader){y07.loader.abort();}this.fragmentTracker.removeFragment(y07);this.fragCurrent=null;}this.fragPrevious=null;if(this.demuxer){this.demuxer.destroy();this.demuxer=null;}this.state=D6n.STOPPED;};Z07.prototype.doTick=function r07(){var C17=void 0,F17=void 0,X17=void 0,K17=this.hls,c17=K17.config;switch(this.state){case D6n.ERROR:case D6n.PAUSED:case D6n.BUFFER_FLUSHING:break;case D6n.STARTING:this.state=D6n.WAITING_TRACK;this.loadedmetadata=false;break;case D6n.IDLE:var m17=this.tracks;if(!m17){break;}if(!this.media&&(this.startFragRequested||!c17.startFragPrefetch)){break;}if(this.loadedmetadata){C17=this.media.currentTime;}else{C17=this.nextLoadPosition;if(C17===undefined){break;}}var o17=this.mediaBuffer?this.mediaBuffer:this.media,V17=this.videoBuffer?this.videoBuffer:this.media,w17=U6n.bufferInfo(o17,C17,c17.maxBufferHole),v17=U6n.bufferInfo(V17,C17,c17.maxBufferHole),T17=w17.len,f17=w17.end,D17=this.fragPrevious,O17=Math.min(c17.maxBufferLength,c17.maxMaxBufferLength),x17=Math.max(O17,v17.len),q17=this.audioSwitch,U17=this.trackId;if((T17<x17||q17)&&U17<m17.length){X17=m17[U17].details;if(typeof X17==='undefined'){this.state=D6n.WAITING_TRACK;break;}if(!q17&&!X17.live&&D17&&D17.sn===X17.endSN&&!w17.nextStart){if(!this.media.seeking||this.media.duration-f17<D17.duration/2){this.hls.trigger(h6n["a"].BUFFER_EOS,{type:'audio'});this.state=D6n.ENDED;break;}}var h17=X17.fragments,l17=h17.length,Y17=h17[0].start,b17=h17[l17-1].start+h17[l17-1].duration,u17=void 0;if(q17){if(X17.live&&!X17.PTSKnown){X6n["b"].log('switching audiotrack, live stream, unknown PTS,load first fragment');f17=0;}else{f17=C17;if(X17.PTSKnown&&C17<Y17){if(w17.end>Y17||w17.nextStart){X6n[(897.8,9360)<=(761.94,1304)?"N":"b"].log('alt audio track ahead of main track, seek to start of alt audio track');this.media.currentTime=Y17+0.05;}else{return;}}}}if(X17.initSegment&&!X17.initSegment.data){u17=X17.initSegment;}else if(f17<=Y17){u17=h17[0];if(this.videoTrackCC!==null&&u17.cc!==this.videoTrackCC){u17=Y8n(h17,this.videoTrackCC);}if(X17.live&&u17.loadIdx&&u17.loadIdx===this.fragLoadIdx){var P17=w17.nextStart?w17.nextStart:Y17;X6n["b"].log('no alt audio available @currentTime:'+this.media.currentTime+', seeking @'+(P17+0.05));this.media.currentTime=P17+0.05;return;}}else{var R17=void 0;var N17=c17.maxFragLookUpTolerance;var t17=D17?h17[D17.sn-h17[0].sn+1]:undefined;var M17=function p17(Z17){var B17=Math.min(N17,Z17.duration);if(Z17.start+Z17.duration-B17<=f17){return 1;}else if(Z17.start-B17>f17&&Z17.start){return-1;}return 0;};if(f17<b17){if(f17>b17-N17){N17=0;}if(t17&&!M17(t17)){R17=t17;}else{R17=P6n.search(h17,M17);}}else{R17=h17[l17-1];}if(R17){u17=R17;Y17=R17.start;if(D17&&u17.level===D17.level&&u17.sn===D17.sn){if(u17.sn<X17.endSN){u17=h17[u17.sn+1-X17.startSN];X6n["b"].log('SN just loaded, load next one: '+u17.sn);}else{u17=null;}}}}if(u17){if(u17.encrypted){X6n["b"].log('Loading key for '+u17.sn+' of ['+X17.startSN+' ,'+X17.endSN+'],track '+U17);this.state=D6n.KEY_LOADING;K17.trigger(h6n["a"].KEY_LOADING,{frag:u17});}else{X6n["b"].log('Loading '+u17.sn+', cc: '+u17.cc+' of ['+X17.startSN+' ,'+X17.endSN+'],track '+U17+', currentTime:'+C17+',bufferEnd:'+f17.toFixed(3));if(q17||this.fragmentTracker.getState(u17)===m6n.NOT_LOADED){this.fragCurrent=u17;this.startFragRequested=true;if(Object(Y6n["a"])(u17.sn)){this.nextLoadPosition=u17.start+u17.duration;}K17.trigger(h6n["a"].FRAG_LOADING,{frag:u17});this.state=D6n.FRAG_LOADING;}}}}break;case D6n.WAITING_TRACK:F17=this.tracks[this.trackId];if(F17&&F17.details){this.state=D6n.IDLE;}break;case D6n.FRAG_LOADING_WAITING_RETRY:var H17=g6n.now();var L17=this.retryDate;o17=this.media;var d17=o17&&o17.seeking;if(!L17||H17>=L17||d17){X6n["b"].log('audioStreamController: retryDate reached, switch back to IDLE state');this.state=D6n.IDLE;}break;case D6n.WAITING_INIT_PTS:var G17=this.videoTrackCC;if(this.initPTS[G17]===undefined){break;}var g17=this.waitingFragment;if(g17){var a17=g17.frag.cc;if(G17!==a17){F17=this.tracks[this.trackId];if(F17.details&&F17.details.live){X6n["b"].warn('Waiting fragment CC ('+a17+') does not match video track CC ('+G17+')');this.waitingFragment=null;this.state=D6n.IDLE;}}else{this.state=D6n.FRAG_LOADING;this.onFragLoaded(this.waitingFragment);this.waitingFragment=null;}}else{this.state=D6n.IDLE;}break;case D6n.STOPPED:case D6n.FRAG_LOADING:case D6n.PARSING:case D6n.PARSED:case D6n.ENDED:break;default:break;}};Z07.prototype.onMediaAttached=function W17(e17){var z17=this.media=this.mediaBuffer=e17.media;this.onvseeking=this.onMediaSeeking.bind(this);this.onvended=this.onMediaEnded.bind(this);z17.addEventListener('seeking',this.onvseeking);z17.addEventListener('ended',this.onvended);var S17=this.config;if(this.tracks&&S17.autoStartLoad){this.startLoad(S17.startPosition);}};Z07.prototype.onMediaDetaching=function n17(){var s17=this.media;if(s17&&s17.ended){X6n["b"].log('MSE detaching and video ended, reset startPosition');this.startPosition=this.lastCurrentTime=0;}if(s17){s17.removeEventListener('seeking',this.onvseeking);s17.removeEventListener('ended',this.onvended);this.onvseeking=this.onvseeked=this.onvended=null;}this.media=this.mediaBuffer=this.videoBuffer=null;this.loadedmetadata=false;this.stopLoad();};Z07.prototype.onMediaSeeking=function J17(){if(this.state===D6n.ENDED){this.state=D6n.IDLE;}if(this.media){this.lastCurrentTime=this.media.currentTime;}this.tick();};Z07.prototype.onMediaEnded=function A17(){this.startPosition=this.lastCurrentTime=0;};Z07.prototype.onAudioTracksUpdated=function j17(Q17){X6n["b"].log('audio tracks updated');this.tracks=Q17.audioTracks;};Z07.prototype.onAudioTrackSwitching=function k17(I17){var i17=!!I17.url;this.trackId=I17.id;this.fragCurrent=null;this.state=D6n.PAUSED;this.waitingFragment=null;if(!i17){if(this.demuxer){this.demuxer.destroy();this.demuxer=null;}}else{this.setInterval(100);}if(i17){this.audioSwitch=true;this.state=D6n.IDLE;}this.tick();};Z07.prototype.onAudioTrackLoaded=function E17(D47){var y17=D47.details,u47=D47.id,X47=this.tracks[u47],C47=y17.totalduration,h47=0;X6n["b"].log('track '+u47+' loaded ['+y17.startSN+','+y17.endSN+'],duration:'+C47);if(y17.live){var f47=X47.details;if(f47&&y17.fragments.length>0){G2n(f47,y17);h47=y17.fragments[0].start;if(y17.PTSKnown){X6n["b"].log('live audio playlist sliding:'+h47.toFixed(3));}else{X6n["b"].log('live audio playlist - outdated PTS, unknown sliding');}}else{y17.PTSKnown=false;X6n["b"].log('live audio playlist - first load, unknown sliding');}}else{y17.PTSKnown=false;}X47.details=y17;if(!this.startFragRequested){if(this.startPosition===-1){var r17=y17.startTimeOffset;if(Object(Y6n["a"])(r17)){X6n["b"].log('start time offset found in playlist, adjust startPosition to '+r17);this.startPosition=r17;}else{this.startPosition=0;}}this.nextLoadPosition=this.startPosition;}if(this.state===D6n.WAITING_TRACK){this.state=D6n.IDLE;}this.tick();};Z07.prototype.onKeyLoaded=function w47(){if(this.state===D6n.KEY_LOADING){this.state=D6n.IDLE;this.tick();}};Z07.prototype.onFragLoaded=function Y47(R47){var F47=this.fragCurrent,U47=R47.frag;if(this.state===D6n.FRAG_LOADING&&F47&&U47.type==='audio'&&U47.level===F47.level&&U47.sn===F47.sn){var l47=this.tracks[this.trackId],c47=l47.details,N47=c47.totalduration,t47=F47.level,q47=F47.sn,G47=F47.cc,K47=this.config.defaultAudioCodec||l47.audioCodec||'mp4a.40.2',o47=this.stats=R47.stats;if(q47==='initSegment'){this.state=D6n.IDLE;o47.tparsed=o47.tbuffered=g6n.now();c47.initSegment.data=R47.payload;this.hls.trigger(h6n["a"].FRAG_BUFFERED,{stats:o47,frag:F47,id:'audio'});this.tick();}else{this.state=D6n.PARSING;this.appended=false;if(!this.demuxer){this.demuxer=new T6n(this.hls,'audio');}var m47=this.initPTS[G47];var b47=c47.initSegment?c47.initSegment.data:[];if(c47.initSegment||m47!==undefined){this.pendingBuffering=true;X6n["b"].log('Demuxing '+q47+' of ['+c47.startSN+' ,'+c47.endSN+'],track '+t47);var a47=false;this.demuxer.push(R47.payload,b47,K47,null,F47,N47,a47,m47);}else{X6n["b"].log('unknown video PTS for continuity counter '+G47+', waiting for video PTS before demuxing audio frag '+q47+' of ['+c47.startSN+' ,'+c47.endSN+'],track '+t47);this.waitingFragment=R47;this.state=D6n.WAITING_INIT_PTS;}}}this.fragLoadError=0;};Z07.prototype.onFragParsingInitSegment=function g47(L47){var x47=this.fragCurrent;var O47=L47.frag;if(x47&&L47.id==='audio'&&O47.sn===x47.sn&&O47.level===x47.level&&this.state===D6n.PARSING){var M47=L47.tracks,P47=void 0;if(M47.video){delete M47.video;}P47=M47.audio;if(P47){P47.levelCodec=P47.codec;P47.id=L47.id;this.hls.trigger(h6n["a"].BUFFER_CODECS,M47);X6n["b"].log('audio track:audio,container:'+P47.container+',codecs[level/parsed]=['+P47.levelCodec+'/'+P47.codec+']');var H47=P47.initSegment;if(H47){var T47={type:'audio',data:H47,parent:'audio',content:'initSegment'};if(this.audioSwitch){this.pendingData=[T47];}else{this.appended=true;this.pendingBuffering=true;this.hls.trigger(h6n["a"].BUFFER_APPENDING,T47);}}this.tick();}}};Z07.prototype.onFragParsingData=function d47(v47){var B47=this;var V47=this.fragCurrent;var S47=v47.frag;if(V47&&v47.id==='audio'&&v47.type==='audio'&&S47.sn===V47.sn&&S47.level===V47.level&&this.state===D6n.PARSING){var W47=this.trackId,J47=this.tracks[W47],Z47=this.hls;if(!Object(Y6n["a"])(v47.endPTS)){v47.endPTS=v47.startPTS+V47.duration;v47.endDTS=v47.startDTS+V47.duration;}V47.addElementaryStream(G6n.ElementaryStreamTypes.AUDIO);X6n["b"].log('parsed '+v47.type+',PTS:['+v47.startPTS.toFixed(3)+','+v47.endPTS.toFixed(3)+'],DTS:['+v47.startDTS.toFixed(3)+'/'+v47.endDTS.toFixed(3)+'],nb:'+v47.nb);U2n(J47.details,V47,v47.startPTS,v47.endPTS);var s47=this.audioSwitch,z47=this.media,e47=false;if(s47&&z47){if(z47.readyState){var n47=z47.currentTime;X6n[(788.49,967.45)<(7900,8810)?"b":6.12e+3].log('switching audio track : currentTime:'+n47);if(n47>=v47.startPTS){X6n["b"].log('switching audio track : flushing all audio');this.state=D6n.BUFFER_FLUSHING;Z47.trigger(h6n["a"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:'audio'});e47=true;this.audioSwitch=false;Z47.trigger(h6n["a"].AUDIO_TRACK_SWITCHED,{id:W47});}}else{this.audioSwitch=false;Z47.trigger(h6n["a"].AUDIO_TRACK_SWITCHED,{id:W47});}}var p47=this.pendingData;if(!p47){X6n["b"].warn('Apparently attempt to enqueue media payload without codec initialization data upfront');Z47.trigger(h6n["a"].ERROR,{type:f6n["b"].MEDIA_ERROR,details:null,fatal:true});return;}if(!this.audioSwitch){[v47.data1,v47.data2].forEach(function(A47){if(A47&&A47.length){p47.push({type:v47.type,data:A47,parent:'audio',content:'data'});}});if(!e47&&p47.length){p47.forEach(function(j47){if(B47.state===D6n.PARSING){B47.pendingBuffering=true;B47.hls.trigger(h6n["a"].BUFFER_APPENDING,j47);}});this.pendingData=[];this.appended=true;}}this.tick();}};Z07.prototype.onFragParsed=function Q47(I47){var k47=this.fragCurrent;var i47=I47.frag;if(k47&&I47.id==='audio'&&i47.sn===k47.sn&&i47.level===k47.level&&this.state===D6n.PARSING){this.stats.tparsed=g6n.now();this.state=D6n.PARSED;this._checkAppendedParsed();}};Z07.prototype.onBufferReset=function E47(){this.mediaBuffer=this.videoBuffer=null;this.loadedmetadata=false;};function Z07(z07,S07){V9n(this,Z07);var W07=p9n(this,B07.call(this,z07,h6n["a"].MEDIA_ATTACHED,h6n[3790===(6230,498)?("k",false):"a"].MEDIA_DETACHING,h6n["a"].AUDIO_TRACKS_UPDATED,h6n["a"].AUDIO_TRACK_SWITCHING,h6n["a"].AUDIO_TRACK_LOADED,h6n["a"].KEY_LOADED,h6n["a"].FRAG_LOADED,h6n["a"].FRAG_PARSING_INIT_SEGMENT,h6n["a"].FRAG_PARSING_DATA,h6n["a"].FRAG_PARSED,h6n["a"].ERROR,h6n["a"].BUFFER_RESET,h6n["a"].BUFFER_CREATED,h6n["a"].BUFFER_APPENDED,h6n["a"].BUFFER_FLUSHED,h6n["a"].INIT_PTS_FOUND));W07.fragmentTracker=S07;W07.config=z07.config;W07.audioCodecSwap=false;W07._state=D6n.STOPPED;W07.initPTS=[];W07.waitingFragment=null;W07.videoTrackCC=null;return W07;}Z07.prototype.onBufferCreated=function y47(r47){var u67=r47.tracks.audio;if(u67){this.mediaBuffer=u67.buffer;this.loadedmetadata=true;}if(r47.tracks.video){this.videoBuffer=r47.tracks.video.buffer;}};Z07.prototype.onBufferAppended=function X67(f67){if(f67.parent==='audio'){var h67=this.state;if(h67===D6n.PARSING||h67===D6n.PARSED){this.pendingBuffering=f67.pending>0;this._checkAppendedParsed();}}};Z07.prototype._checkAppendedParsed=function D67(){if(this.state===D6n.PARSED&&(!this.appended||!this.pendingBuffering)){var C67=this.fragCurrent,w67=this.stats,Y67=this.hls;if(C67){this.fragPrevious=C67;w67.tbuffered=g6n.now();Y67.trigger(h6n["a"].FRAG_BUFFERED,{stats:w67,frag:C67,id:'audio'});var c67=this.mediaBuffer?this.mediaBuffer:this.media;X6n["b"].log('audio buffered : '+u2n.toString(c67.buffered));if(this.audioSwitch&&this.appended){this.audioSwitch=false;Y67.trigger(h6n["a"].AUDIO_TRACK_SWITCHED,{id:this.trackId});}this.state=D6n.IDLE;}this.tick();}};Z07.prototype.onError=function F67(R67){var m67=R67.frag;if(m67&&m67.type!=='audio'){return;}switch(R67.details){case f6n["a"].FRAG_LOAD_ERROR:case f6n["a"].FRAG_LOAD_TIMEOUT:var l67=R67.frag;if(l67&&l67.type!=='audio'){break;}if(!R67.fatal){var U67=this.fragLoadError;if(U67){U67++;}else{U67=1;}var o67=this.config;if(U67<=o67.fragLoadingMaxRetry){this.fragLoadError=U67;var G67=Math.min(Math.pow(2,U67-1)*o67.fragLoadingRetryDelay,o67.fragLoadingMaxRetryTimeout);X6n["b"].warn('AudioStreamController: frag loading failed, retry in '+G67+' ms');this.retryDate=g6n.now()+G67;this.state=D6n.FRAG_LOADING_WAITING_RETRY;}else{X6n[140<=958?"b":(968.85,"G")].error('AudioStreamController: '+R67.details+' reaches max retry, redispatch as fatal ...');R67.fatal=true;this.state=D6n.ERROR;}}break;case f6n["a"].AUDIO_TRACK_LOAD_ERROR:case f6n["a"].AUDIO_TRACK_LOAD_TIMEOUT:case f6n["a"].KEY_LOAD_ERROR:case f6n["a"].KEY_LOAD_TIMEOUT:if(this.state!==D6n.ERROR){this.state=R67.fatal?D6n.ERROR:D6n.IDLE;X6n["b"].warn('AudioStreamController: '+R67.details+' while loading frag, now switching to '+this.state+' state ...');}break;case f6n["a"].BUFFER_FULL_ERROR:if(R67.parent==='audio'&&(this.state===D6n.PARSING||this.state===D6n.PARSED)){var t67=this.mediaBuffer,K67=this.media.currentTime,N67=t67&&U6n.isBuffered(t67,K67)&&U6n.isBuffered(t67,K67+0.5);if(N67){var q67=this.config;if(q67.maxMaxBufferLength>=q67.maxBufferLength){q67.maxMaxBufferLength/=2;X6n["b"].warn('AudioStreamController: reduce max buffer length to '+q67.maxMaxBufferLength+'s');}this.state=D6n.IDLE;}else{X6n["b"].warn('AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer');this.fragCurrent=null;this.state=D6n.BUFFER_FLUSHING;this.hls.trigger(h6n["a"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:'audio'});}}break;default:break;}};Z07.prototype.onBufferFlushed=function a67(){var g67=this;var b67=this.pendingData;if(b67&&b67.length){X6n["b"].log('AudioStreamController: appending pending audio data after buffer flushed');b67.forEach(function(P67){g67.hls.trigger(h6n["a"].BUFFER_APPENDING,P67);});this.appended=true;this.pendingData=[];this.state=D6n.PARSED;}else{this.state=D6n.IDLE;this.fragPrevious=null;this.tick();}};K7n(Z07,[{key:'state',set:function M67(L67){if(this.state!==L67){var x67=this.state;this._state=L67;X6n["b"].log('audio stream:'+x67+'->'+L67);}},get:function O67(){return this._state;}}]);return Z07;}(M6n);var P7n=g7n;function n8n(S8i,e8i){if(!(S8i instanceof e8i)){throw new TypeError("Cannot call a class as a function");}}var A6n=function(){if(typeof window!=='undefined'&&window.VTTCue){return window.VTTCue;}var d67='auto';var v67={'':true,lr:true,rl:true};function p67(c27,R27,F27){var A67=this;var I67=function(){if(typeof navigator==='undefined'){return;}return/MSIE\s8\.0/.test(navigator.userAgent);}();var j67={};if(I67){A67=document.createElement('custom');}else{j67.enumerable=true;}A67.hasBeenReset=false;var y67='';var r67=false;var u27=c27;var Q67=R27;var h27=F27;var f27=null;var D27='';var C27=true;var w27='auto';var Y27='start';var X27=50;var k67='middle';var E67=50;var i67='middle';Object.defineProperty(A67,'id',H67({},j67,{get:function U27(){return y67;},set:function q27(o27){y67=''+o27;}}));Object.defineProperty(A67,'pauseOnExit',H67({},j67,{get:function t27(){return r67;},set:function l27(G27){r67=!!G27;}}));Object.defineProperty(A67,'startTime',H67({},j67,{get:function m27(){return u27;},set:function K27(N27){if(typeof N27!=='number'){throw new TypeError('Start time must be set to a number.');}u27=N27;this.hasBeenReset=true;}}));Object.defineProperty(A67,'endTime',H67({},j67,{get:function a27(){return Q67;},set:function b27(g27){if(typeof g27!=='number'){throw new TypeError('End time must be set to a number.');}Q67=g27;this.hasBeenReset=true;}}));Object.defineProperty(A67,'text',H67({},j67,{get:function P27(){return h27;},set:function M27(L27){h27=''+L27;this.hasBeenReset=true;}}));Object.defineProperty(A67,'region',H67({},j67,{get:function x27(){return f27;},set:function O27(H27){f27=H27;this.hasBeenReset=true;}}));Object.defineProperty(A67,'vertical',H67({},j67,{get:function T27(){return D27;},set:function d27(V27){var v27=Z67(V27);if(v27===false){throw new SyntaxError('An invalid or illegal string was specified.');}D27=v27;this.hasBeenReset=true;}}));Object.defineProperty(A67,'snapToLines',H67({},j67,{get:function p27(){return C27;},set:function Z27(B27){C27=!!B27;this.hasBeenReset=true;}}));Object.defineProperty(A67,'line',H67({},j67,{get:function W27(){return w27;},set:function z27(S27){if(typeof S27!=='number'&&S27!==d67){throw new SyntaxError('An invalid number or illegal string was specified.');}w27=S27;this.hasBeenReset=true;}}));Object.defineProperty(A67,'lineAlign',H67({},j67,{get:function e27(){return Y27;},set:function n27(J27){var s27=T67(J27);if(!s27){throw new SyntaxError('An invalid or illegal string was specified.');}Y27=s27;this.hasBeenReset=true;}}));Object.defineProperty(A67,'position',H67({},j67,{get:function A27(){return X27;},set:function j27(Q27){if(Q27<0||Q27>100){throw new Error('Position must be between 0 and 100.');}X27=Q27;this.hasBeenReset=true;}}));Object.defineProperty(A67,'positionAlign',H67({},j67,{get:function k27(){return k67;},set:function i27(E27){var I27=T67(E27);if(!I27){throw new SyntaxError('An invalid or illegal string was specified.');}k67=I27;this.hasBeenReset=true;}}));Object.defineProperty(A67,'size',H67({},j67,{get:function y27(){return E67;},set:function r27(u77){if(u77<0||u77>100){throw new Error('Size must be between 0 and 100.');}E67=u77;this.hasBeenReset=true;}}));Object.defineProperty(A67,'align',H67({},j67,{get:function X77(){return i67;},set:function h77(D77){var f77=T67(D77);if(!f77){throw new SyntaxError('An invalid or illegal string was specified.');}i67=f77;this.hasBeenReset=true;}}));A67.displayState=undefined;if(I67){return A67;}}function H67(J67){var e67=1;for(;e67<arguments.length;e67++){var n67=arguments[e67];for(var s67 in n67){J67[s67]=n67[s67];}}return J67;}var V67={start:true,middle:true,end:true,left:true,right:true};function T67(z67){if(typeof z67!=='string'){return false;}var S67=V67[z67.toLowerCase()];return S67?z67.toLowerCase():false;}p67.prototype.getCueAsHTML=function(){var C77=window.WebVTT;return C77.convertCueToDOMTree(window,this.text);};function Z67(B67){if(typeof B67!=='string'){return false;}var W67=v67[B67.toLowerCase()];return W67?B67.toLowerCase():false;}return p67;}();var L7n=function w77(){return{decode:function Y77(c77){if(!c77){return'';}if(typeof c77!=='string'){throw new Error('Error - expected string data.');}return decodeURIComponent(encodeURIComponent(c77));}};};function x7n(){this.window=window;this.state='INITIAL';this.buffer='';this.decoder=new L7n();this.regionList=[];}O7n.prototype={set:function G77(m77,K77){if(!this.get(m77)&&K77!==''){this.values[m77]=K77;}},get:function N77(a77,b77,g77){if(g77){return this.has(a77)?this.values[a77]:b77[g77];}return this.has(a77)?this.values[a77]:b77;},has:function P77(M77){return M77 in this.values;},alt:function L77(T77,O77,H77){for(var x77=0;x77<H77.length;++x77){if(O77===H77[x77]){this.set(T77,O77);break;}}},integer:function d77(V77,v77){if(/^-?\d+$/.test(v77)){this.set(V77,parseInt(v77,10));}},percent:function p77(W77,Z77){var B77=void 0;if(B77=Z77.match(/^([\d]{1,3})(\.[\d]*)?%$/)){Z77=parseFloat(Z77);if(Z77>=0&&Z77<=100){this.set(W77,Z77);return true;}}return false;}};var V6n=new A6n(0,0,0);function Q9n(w9W,C9W){if(typeof C9W!=="function"&&C9W!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof C9W);}w9W.prototype=Object.create(C9W&&C9W.prototype,{constructor:{value:w9W,enumerable:false,writable:true,configurable:true}});if(C9W)Object.setPrototypeOf?Object.setPrototypeOf(w9W,C9W):w9W.__proto__=C9W;}function r9n(j97,s97,n97,J97){var W97=void 0;var Z97=void 0;var S97=void 0;var B97=void 0;var e97=void 0;var A97=window.VTTCue||window.TextTrackCue;for(var p97=0;p97<J97.rows.length;p97++){W97=J97.rows[p97];S97=true;B97=0;e97='';if(!W97.isEmpty()){for(var z97=0;z97<W97.chars.length;z97++){if(W97.chars[z97].uchar.match(/\s/)&&S97){B97++;}else{e97+=W97.chars[z97].uchar;S97=false;}}W97.cueStartTime=s97;if(s97===n97){n97+=0.0001;}Z97=new A97(s97,n97,v7n(e97.trim()));if(B97>=16){B97--;}else{B97++;}if(navigator.userAgent.match(/Firefox\//)){Z97.line=p97+1;}else{Z97.line=p97>7?p97-2:p97+1;}Z97.align='left';Z97.position=Math.max(0,Math.min(100,100*(B97/32)+(navigator.userAgent.match(/Firefox\//)?50:0)));j97.addCue(Z97);}}}function p9n(v07,d07){if(!v07){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return d07&&(typeof d07==="object"||typeof d07==="function")?d07:v07;}function j8n(Y9t,w9t){if(!Y9t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return w9t&&(typeof w9t==="object"||typeof w9t==="function")?w9t:Y9t;}var H6n=V6n.align==='middle'?'middle':'center';x7n.prototype={parse:function o97(K97){var t97=this;if(K97){t97.buffer+=t97.decoder.decode(K97,{stream:true});}try{var l97=void 0;if(t97.state==='INITIAL'){if(!/\r\n|\n/.test(t97.buffer)){return this;}l97=N97();var m97=l97.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!m97||!m97[0]){throw new Error('Malformed WebVTT signature.');}t97.state='HEADER';}var G97=false;while(t97.buffer){if(!/\r\n|\n/.test(t97.buffer)){return this;}if(!G97){l97=N97();}else{G97=false;}switch(t97.state){case'HEADER':if(/:/.test(l97)){b97(l97);}else if(!l97){t97.state='ID';}continue;case'NOTE':if(!l97){t97.state='ID';}continue;case'ID':if(/^NOTE($|[ \t])/.test(l97)){t97.state='NOTE';break;}if(!l97){continue;}t97.cue=new A6n(0,0,'');t97.state='CUE';if(l97.indexOf('-->')===-1){t97.cue.id=l97;continue;}case'CUE':try{I9n(l97,t97.cue,t97.regionList);}catch(H97){t97.cue=null;t97.state='BADCUE';continue;}t97.state='CUETEXT';continue;case'CUETEXT':var a97=l97.indexOf('-->')!==-1;if(!l97||a97&&(G97=true)){if(t97.oncue){t97.oncue(t97.cue);}t97.cue=null;t97.state='ID';continue;}if(t97.cue.text){t97.cue.text+='\n';}t97.cue.text+=l97;continue;case'BADCUE':if(!l97){t97.state='ID';}continue;}}}catch(T97){if(t97.state==='CUETEXT'&&t97.cue&&t97.oncue){t97.oncue(t97.cue);}t97.cue=null;t97.state=t97.state==='INITIAL'?'BADWEBVTT':'BADCUE';}function N97(){var P97=t97.buffer;var g97=0;P97=v7n(P97);while(g97<P97.length&&P97[g97]!=='\r'&&P97[g97]!=='\n'){++g97;}var M97=P97.substr(0,g97);if(P97[g97]==='\r'){++g97;}if(P97[g97]==='\n'){++g97;}t97.buffer=P97.substr(g97);return M97;}function b97(L97){H7n(L97,function(x97,O97){switch(x97){case'Region':break;}},/:/);}return this;},flush:function d97(){var v97=this;try{v97.buffer+=v97.decoder.decode();if(v97.cue||v97.state==='HEADER'){v97.buffer+='\n\n';v97.parse();}if(v97.state==='INITIAL'){throw new Error('Malformed WebVTT signature.');}}catch(V97){throw V97;}if(v97.onflush){v97.onflush();}return this;}};var V7n=x7n;function z9n(D0W,C0W){if(!(D0W instanceof C0W)){throw new TypeError("Cannot call a class as a function");}}var i6n={0x2a:0xe1,0x5c:0xe9,0x5e:0xed,0x5f:0xf3,0x60:0xfa,0x7b:0xe7,0x7c:0xf7,0x7d:0xd1,0x7e:0xf1,0x7f:0x2588,0x80:0xae,0x81:0xb0,0x82:0xbd,0x83:0xbf,0x84:0x2122,0x85:0xa2,0x86:0xa3,0x87:0x266a,0x88:0xe0,0x89:0x20,0x8a:0xe8,0x8b:0xe2,0x8c:0xea,0x8d:0xee,0x8e:0xf4,0x8f:0xfb,0x90:0xc1,0x91:0xc9,0x92:0xd3,0x93:0xda,0x94:0xdc,0x95:0xfc,0x96:0x2018,0x97:0xa1,0x98:0x2a,0x99:0x2019,0x9a:0x2501,0x9b:0xa9,0x9c:0x2120,0x9d:0x2022,0x9e:0x201c,0x9f:0x201d,0xa0:0xc0,0xa1:0xc2,0xa2:0xc7,0xa3:0xc8,0xa4:0xca,0xa5:0xcb,0xa6:0xeb,0xa7:0xce,0xa8:0xcf,0xa9:0xef,0xaa:0xd4,0xab:0xd9,0xac:0xf9,0xad:0xdb,0xae:0xab,0xaf:0xbb,0xb0:0xc3,0xb1:0xe3,0xb2:0xcd,0xb3:0xcc,0xb4:0xec,0xb5:0xd2,0xb6:0xf2,0xb7:0xd5,0xb8:0xf5,0xb9:0x7b,0xba:0x7d,0xbb:0x5c,0xbc:0x5e,0xbd:0x5f,0xbe:0x7c,0xbf:0x223c,0xc0:0xc4,0xc1:0xe4,0xc2:0xd6,0xc3:0xf6,0xc4:0xdf,0xc5:0xa5,0xc6:0xa4,0xc7:0x2503,0xc8:0xc5,0xc9:0xe5,0xca:0xd8,0xcb:0xf8,0xcc:0x250f,0xcd:0x2513,0xce:0x2517,0xcf:0x251b};var I6n=function i97(I97){var E97=I97;if(i6n.hasOwnProperty(I97)){E97=i6n[I97];}return String.fromCharCode(E97);};var o6n=15,l6n=100;var S7n={0x11:1,0x12:3,0x15:5,0x16:7,0x17:9,0x10:11,0x13:12,0x14:14};var e7n={0x11:2,0x12:4,0x15:6,0x16:8,0x17:10,0x13:13,0x14:15};function o2n(t0a,G0a,l0a){switch(G0a){case'audio':if(!t0a.audioGroupIds){t0a.audioGroupIds=[];}t0a.audioGroupIds.push(l0a);break;case'text':if(!t0a.textGroupIds){t0a.textGroupIds=[];}t0a.textGroupIds.push(l0a);break;}}var n7n={0x19:1,0x1A:3,0x1D:5,0x1E:7,0x1F:9,0x18:11,0x1B:12,0x1C:14};function l8n(H4W,O4W){if(!H4W){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return O4W&&(typeof O4W==="object"||typeof O4W==="function")?O4W:H4W;}function p8n(B9i,Z9i){if(!B9i){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return Z9i&&(typeof Z9i==="object"||typeof Z9i==="function")?Z9i:B9i;}function C8n(v1i,V1i){if(!(v1i instanceof V1i)){throw new TypeError("Cannot call a class as a function");}}function F8n(q1a,o1a,R1a){var U1a=false;if(o1a&&o1a.details&&R1a){if(R1a.endCC>R1a.startCC||q1a&&q1a.cc<R1a.startCC){U1a=true;}}return U1a;}function S8n(w7t,C7t){if(typeof C7t!=="function"&&C7t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof C7t);}w7t.prototype=Object.create(C7t&&C7t.prototype,{constructor:{value:w7t,enumerable:false,writable:true,configurable:true}});if(C7t)Object.setPrototypeOf?Object.setPrototypeOf(w7t,C7t):w7t.__proto__=C7t;}function U3n(v6a,d6a){if(typeof d6a!=="function"&&d6a!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof d6a);}v6a.prototype=Object.create(d6a&&d6a.prototype,{constructor:{value:v6a,enumerable:false,writable:true,configurable:true}});if(d6a)Object.setPrototypeOf?Object.setPrototypeOf(v6a,d6a):v6a.__proto__=d6a;}var s7n={0x19:2,0x1A:4,0x1D:6,0x1E:8,0x1F:10,0x1B:13,0x1C:15};var J7n=['white','green','blue','cyan','red','yellow','magenta','black','transparent'];function z8n(D7t,f7t){if(!D7t){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return f7t&&(typeof f7t==="object"||typeof f7t==="function")?f7t:D7t;}var w6n={verboseFilter:{'DATA':3,'DEBUG':3,'INFO':2,'WARNING':2,'TEXT':1,'ERROR':0},time:null,verboseLevel:0,setTime:function y97(r97){this.time=r97;},log:function u87(h87,f87){var X87=this.verboseFilter[h87];if(this.verboseLevel>=X87){}}};function d8n(k4t,Q4t){if(typeof Q4t!=="function"&&Q4t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof Q4t);}k4t.prototype=Object.create(Q4t&&Q4t.prototype,{constructor:{value:k4t,enumerable:false,writable:true,configurable:true}});if(Q4t)Object.setPrototypeOf?Object.setPrototypeOf(k4t,Q4t):k4t.__proto__=Q4t;}var K6n=function D87(Y87){var w87=[];for(var C87=0;C87<Y87.length;C87++){w87.push(Y87[C87].toString(16));}return w87;};function g8n(o2i,q2i){if(typeof q2i!=="function"&&q2i!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof q2i);}o2i.prototype=Object.create(q2i&&q2i.prototype,{constructor:{value:o2i,enumerable:false,writable:true,configurable:true}});if(q2i)Object.setPrototypeOf?Object.setPrototypeOf(o2i,q2i):o2i.__proto__=q2i;}var X2n=function(){c87.prototype.reset=function t87(){this.foreground='white';this.underline=false;this.italics=false;this.background='black';this.flash=false;};c87.prototype.setStyles=function l87(N87){var K87=['foreground','underline','italics','background','flash'];for(var G87=0;G87<K87.length;G87++){var m87=K87[G87];if(N87.hasOwnProperty(m87)){this[m87]=N87[m87];}}};function c87(F87,R87,U87,q87,o87){b6n(this,c87);this.foreground=F87||'white';this.underline=R87||false;this.italics=U87||false;this.background=q87||'black';this.flash=o87||false;}c87.prototype.isDefault=function a87(){return this.foreground==='white'&&!this.underline&&!this.italics&&this.background==='black'&&!this.flash;};c87.prototype.equals=function b87(g87){return this.foreground===g87.foreground&&this.underline===g87.underline&&this.italics===g87.italics&&this.background===g87.background&&this.flash===g87.flash;};c87.prototype.copy=function P87(M87){this.foreground=M87.foreground;this.underline=M87.underline;this.italics=M87.italics;this.background=M87.background;this.flash=M87.flash;};c87.prototype.toString=function L87(){return'color='+this.foreground+', underline='+this.underline+', italics='+this.italics+', background='+this.background+', flash='+this.flash;};return c87;}();var k7n=function(){x87.prototype.reset=function p87(){this.uchar=' ';this.penState.reset();};x87.prototype.setChar=function Z87(B87,W87){this.uchar=B87;this.penState.copy(W87);};x87.prototype.setPenState=function z87(S87){this.penState.copy(S87);};x87.prototype.equals=function e87(n87){return this.uchar===n87.uchar&&this.penState.equals(n87.penState);};x87.prototype.copy=function s87(J87){this.uchar=J87.uchar;this.penState.copy(J87.penState);};x87.prototype.isEmpty=function A87(){return this.uchar===' '&&this.penState.isDefault();};function x87(O87,H87,T87,d87,v87,V87){b6n(this,x87);this.uchar=O87||' ';this.penState=new X2n(H87,T87,d87,v87,V87);}return x87;}();var i7n=function(){j87.prototype.equals=function k87(E87){var I87=true;for(var i87=0;i87<l6n;i87++){if(!this.chars[i87].equals(E87.chars[i87])){I87=false;break;}}return I87;};j87.prototype.copy=function y87(u37){for(var r87=0;r87<l6n;r87++){this.chars[r87].copy(u37.chars[r87]);}};j87.prototype.isEmpty=function X37(){var f37=true;for(var h37=0;h37<l6n;h37++){if(!this.chars[h37].isEmpty()){f37=false;break;}}return f37;};j87.prototype.setCursor=function D37(C37){if(this.pos!==C37){this.pos=C37;}if(this.pos<0){w6n.log('ERROR','Negative cursor position '+this.pos);this.pos=0;}else if(this.pos>l6n){w6n.log('ERROR','Too large cursor position '+this.pos);this.pos=l6n;}};function j87(){b6n(this,j87);this.chars=[];for(var Q87=0;Q87<l6n;Q87++){this.chars.push(new k7n());}this.pos=0;this.currPenState=new X2n();}j87.prototype.moveCursor=function w37(F37){var c37=this.pos+F37;if(F37>1){for(var Y37=this.pos+1;Y37<c37+1;Y37++){this.chars[Y37].setPenState(this.currPenState);}}this.setCursor(c37);};j87.prototype.backSpace=function R37(){this.moveCursor(-1);this.chars[this.pos].setChar(' ',this.currPenState);};j87.prototype.insertChar=function U37(q37){if(q37>=0x90){this.backSpace();}var o37=I6n(q37);if(this.pos>=l6n){w6n.log('ERROR','Cannot insert '+q37.toString(16)+' ('+o37+') at position '+this.pos+'. Skipping it!');return;}this.chars[this.pos].setChar(o37,this.currPenState);this.moveCursor(1);};j87.prototype.clearFromPos=function t37(G37){var l37=void 0;for(l37=G37;l37<l6n;l37++){this.chars[l37].reset();}};j87.prototype.clear=function m37(){this.clearFromPos(0);this.pos=0;this.currPenState.reset();};j87.prototype.clearToEndOfRow=function K37(){this.clearFromPos(this.pos);};j87.prototype.getTextString=function N37(){var b37=[];var g37=true;for(var a37=0;a37<l6n;a37++){var P37=this.chars[a37].uchar;if(P37!==' '){g37=false;}b37.push(P37);}if(g37){return'';}else{return b37.join('');}};j87.prototype.setPenStyles=function M37(x37){this.currPenState.setStyles(x37);var L37=this.chars[this.pos];L37.setPenState(this.currPenState);};return j87;}();var Z6n=function(){O37.prototype.reset=function T37(){for(var d37=0;d37<o6n;d37++){this.rows[d37].clear();}this.currRow=o6n-1;};O37.prototype.equals=function v37(Z37){var p37=true;for(var V37=0;V37<o6n;V37++){if(!this.rows[V37].equals(Z37.rows[V37])){p37=false;break;}}return p37;};O37.prototype.copy=function B37(z37){for(var W37=0;W37<o6n;W37++){this.rows[W37].copy(z37.rows[W37]);}};function O37(){b6n(this,O37);this.rows=[];for(var H37=0;H37<o6n;H37++){this.rows.push(new i7n());}this.currRow=o6n-1;this.nrRollUpRows=null;this.reset();}O37.prototype.isEmpty=function S37(){var n37=true;for(var e37=0;e37<o6n;e37++){if(!this.rows[e37].isEmpty()){n37=false;break;}}return n37;};O37.prototype.backSpace=function s37(){var J37=this.rows[this.currRow];J37.backSpace();};O37.prototype.clearToEndOfRow=function A37(){var j37=this.rows[this.currRow];j37.clearToEndOfRow();};O37.prototype.insertChar=function Q37(i37){var k37=this.rows[this.currRow];k37.insertChar(i37);};O37.prototype.setPen=function I37(y37){var E37=this.rows[this.currRow];E37.setPenStyles(y37);};O37.prototype.moveCursor=function r37(X57){var u57=this.rows[this.currRow];u57.moveCursor(X57);};O37.prototype.setCursor=function h57(f57){w6n.log('INFO','setCursor: '+f57);var D57=this.rows[this.currRow];D57.setCursor(f57);};O37.prototype.setPAC=function C57(w57){w6n.log('INFO','pacData = '+JSON.stringify(w57));var Y57=w57.row-1;if(this.nrRollUpRows&&Y57<this.nrRollUpRows-1){Y57=this.nrRollUpRows-1;}if(this.nrRollUpRows&&this.currRow!==Y57){for(var F57=0;F57<o6n;F57++){this.rows[F57].clear();}var q57=this.currRow+1-this.nrRollUpRows;var R57=this.lastOutputScreen;if(R57){var U57=R57.rows[q57].cueStartTime;if(U57&&U57<w6n.time){for(var c57=0;c57<this.nrRollUpRows;c57++){this.rows[Y57-this.nrRollUpRows+c57+1].copy(R57.rows[q57+c57]);}}}}this.currRow=Y57;var o57=this.rows[this.currRow];if(w57.indent!==null){var l57=w57.indent;var G57=Math.max(l57-1,0);o57.setCursor(w57.indent);w57.color=o57.chars[G57].penState.foreground;}var t57={foreground:w57.color,underline:w57.underline,italics:w57.italics,background:'black',flash:false};this.setPen(t57);};O37.prototype.setBkgData=function m57(K57){w6n.log('INFO','bkgData = '+JSON.stringify(K57));this.backSpace();this.setPen(K57);this.insertChar(0x20);};O37.prototype.setRollUpRows=function N57(a57){this.nrRollUpRows=a57;};O37.prototype.rollUp=function b57(){if(this.nrRollUpRows===null){w6n.log('DEBUG','roll_up but nrRollUpRows not set yet');return;}w6n.log('TEXT',this.getDisplayText());var P57=this.currRow+1-this.nrRollUpRows;var g57=this.rows.splice(P57,1)[0];g57.clear();this.rows.splice(this.currRow,0,g57);w6n.log('INFO','Rolling up');};O37.prototype.getDisplayText=function M57(O57){O57=O57||false;var L57=[];var H57='';var d57=-1;for(var x57=0;x57<o6n;x57++){var T57=this.rows[x57].getTextString();if(T57){d57=x57+1;if(O57){L57.push('Row '+d57+': \''+T57+'\'');}else{L57.push(T57.trim());}}}if(L57.length>0){if(O57){H57='['+L57.join(' | ')+((2772,1290)!=9090?']':(0x113e,false));}else{H57=L57.join('\n');}}return H57;};O37.prototype.getTextAndFormat=function v57(){return this.rows;};return O37;}();function a2n(L1a,P1a,M1a){G8n(L1a,M1a,P1a);if(!M1a.PTSKnown&&P1a){m8n(M1a,P1a.details);}}var f2n=function(){V57.prototype.reset=function B57(){this.mode=null;this.displayedMemory.reset();this.nonDisplayedMemory.reset();this.lastOutputScreen.reset();this.currRollUpRow=this.displayedMemory.rows[o6n-1];this.writeScreen=this.displayedMemory;this.mode=null;this.cueStartTime=null;this.lastCueEndTime=null;};V57.prototype.getHandler=function W57(){return this.outputFilter;};V57.prototype.setHandler=function z57(S57){this.outputFilter=S57;};V57.prototype.setPAC=function e57(n57){this.writeScreen.setPAC(n57);};function V57(p57,Z57){b6n(this,V57);this.chNr=p57;this.outputFilter=Z57;this.mode=null;this.verbose=0;this.displayedMemory=new Z6n();this.nonDisplayedMemory=new Z6n();this.lastOutputScreen=new Z6n();this.currRollUpRow=this.displayedMemory.rows[o6n-1];this.writeScreen=this.displayedMemory;this.mode=null;this.cueStartTime=null;}V57.prototype.setBkgData=function s57(J57){this.writeScreen.setBkgData(J57);};V57.prototype.setMode=function A57(j57){if(j57===this.mode){return;}this.mode=j57;w6n.log('INFO','MODE='+j57);if(this.mode==='MODE_POP-ON'){this.writeScreen=this.nonDisplayedMemory;}else{this.writeScreen=this.displayedMemory;this.writeScreen.reset();}if(this.mode!=='MODE_ROLL-UP'){this.displayedMemory.nrRollUpRows=null;this.nonDisplayedMemory.nrRollUpRows=null;}this.mode=j57;};V57.prototype.insertChars=function Q57(i57){for(var k57=0;k57<i57.length;k57++){this.writeScreen.insertChar(i57[k57]);}var I57=this.writeScreen===this.displayedMemory?'DISP':'NON_DISP';w6n.log('INFO',I57+': '+this.writeScreen.getDisplayText(true));if(this.mode==='MODE_PAINT-ON'||this.mode==='MODE_ROLL-UP'){w6n.log('TEXT','DISPLAYED: '+this.displayedMemory.getDisplayText(true));this.outputDataUpdate();}};V57.prototype.ccRCL=function E57(){w6n.log('INFO','RCL - Resume Caption Loading');this.setMode('MODE_POP-ON');};V57.prototype.ccBS=function y57(){w6n.log('INFO','BS - BackSpace');if(this.mode==='MODE_TEXT'){return;}this.writeScreen.backSpace();if(this.writeScreen===this.displayedMemory){this.outputDataUpdate();}};V57.prototype.ccAOF=function r57(){};V57.prototype.ccAON=function u0t(){};V57.prototype.ccDER=function X0t(){w6n.log('INFO','DER- Delete to End of Row');this.writeScreen.clearToEndOfRow();this.outputDataUpdate();};V57.prototype.ccRU=function h0t(f0t){w6n.log('INFO','RU('+f0t+') - Roll Up');this.writeScreen=this.displayedMemory;this.setMode('MODE_ROLL-UP');this.writeScreen.setRollUpRows(f0t);};V57.prototype.ccFON=function D0t(){w6n.log('INFO','FON - Flash On');this.writeScreen.setPen({flash:true});};V57.prototype.ccRDC=function C0t(){w6n.log('INFO','RDC - Resume Direct Captioning');this.setMode('MODE_PAINT-ON');};V57.prototype.ccTR=function w0t(){w6n.log('INFO','TR');this.setMode('MODE_TEXT');};V57.prototype.ccRTD=function Y0t(){w6n.log('INFO','RTD');this.setMode('MODE_TEXT');};V57.prototype.ccEDM=function c0t(){w6n.log('INFO','EDM - Erase Displayed Memory');this.displayedMemory.reset();this.outputDataUpdate(true);};V57.prototype.ccCR=function F0t(){w6n.log('CR - Carriage Return');this.writeScreen.rollUp();this.outputDataUpdate(true);};V57.prototype.ccENM=function R0t(){w6n.log('INFO','ENM - Erase Non-displayed Memory');this.nonDisplayedMemory.reset();};V57.prototype.ccEOC=function U0t(){w6n.log('INFO','EOC - End Of Caption');if(this.mode==='MODE_POP-ON'){var q0t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory;this.nonDisplayedMemory=q0t;this.writeScreen=this.nonDisplayedMemory;w6n.log('TEXT','DISP: '+this.displayedMemory.getDisplayText());}this.outputDataUpdate(true);};V57.prototype.ccTO=function o0t(t0t){w6n.log('INFO','TO('+t0t+') - Tab Offset');this.writeScreen.moveCursor(t0t);};V57.prototype.ccMIDROW=function l0t(m0t){var G0t={flash:false};G0t.underline=m0t%2===1;G0t.italics=m0t>=0x2e;if(!G0t.italics){var K0t=Math.floor(m0t/2)-0x10;var N0t=['white','green','blue','cyan','red','yellow','magenta'];G0t.foreground=N0t[K0t];}else{G0t.foreground='white';}w6n.log('INFO','MIDROW: '+JSON.stringify(G0t));this.writeScreen.setPen(G0t);};V57.prototype.outputDataUpdate=function a0t(){var g0t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var b0t=w6n.time;if(b0t===null){return;}if(this.outputFilter){if(this.cueStartTime===null&&!this.displayedMemory.isEmpty()){this.cueStartTime=b0t;}else{if(!this.displayedMemory.equals(this.lastOutputScreen)){if(this.outputFilter.newCue){this.outputFilter.newCue(this.cueStartTime,b0t,this.lastOutputScreen);if(g0t===true&&this.outputFilter.dispatchCue){this.outputFilter.dispatchCue();}}this.cueStartTime=this.displayedMemory.isEmpty()?null:b0t;}}this.lastOutputScreen.copy(this.displayedMemory);}};V57.prototype.cueSplitAtTime=function P0t(M0t){if(this.outputFilter){if(!this.displayedMemory.isEmpty()){if(this.outputFilter.newCue){this.outputFilter.newCue(this.cueStartTime,M0t,this.displayedMemory);}this.cueStartTime=M0t;}}};return V57;}();var y7n=function(){L0t.prototype.getHandler=function T0t(d0t){return this.channels[d0t].getHandler();};function L0t(H0t,x0t,O0t){b6n(this,L0t);this.field=H0t||1;this.outputs=[x0t,O0t];this.channels=[new f2n(1,x0t),new f2n(2,O0t)];this.currChNr=-1;this.lastCmdA=null;this.lastCmdB=null;this.bufferedData=[];this.startTime=null;this.lastTime=null;this.dataCounters={'padding':0,'char':0,'cmd':0,'other':0};}L0t.prototype.setHandler=function v0t(V0t,p0t){this.channels[V0t].setHandler(p0t);};L0t.prototype.addData=function Z0t(s0t,e0t){var B0t=void 0,W0t=void 0,z0t=void 0,n0t=false;this.lastTime=s0t;w6n.setTime(s0t);for(var S0t=0;S0t<e0t.length;S0t+=2){W0t=e0t[S0t]&0x7f;z0t=e0t[S0t+1]&0x7f;if(W0t===0&&z0t===0){this.dataCounters.padding+=2;continue;}else{w6n.log('DATA','['+K6n([e0t[S0t],e0t[S0t+1]])+'] -> ('+K6n([W0t,z0t])+')');}B0t=this.parseCmd(W0t,z0t);if(!B0t){B0t=this.parseMidrow(W0t,z0t);}if(!B0t){B0t=this.parsePAC(W0t,z0t);}if(!B0t){B0t=this.parseBackgroundAttributes(W0t,z0t);}if(!B0t){n0t=this.parseChars(W0t,z0t);if(n0t){if(this.currChNr&&this.currChNr>=0){var J0t=this.channels[this.currChNr-1];J0t.insertChars(n0t);}else{w6n.log('WARNING','No channel found yet. TEXT-MODE?');}}}if(B0t){this.dataCounters.cmd+=2;}else if(n0t){this.dataCounters.char+=2;}else{this.dataCounters.other+=2;w6n.log('WARNING','Couldn\'t parse cleaned data '+K6n([W0t,z0t])+' orig: '+K6n([e0t[S0t],e0t[S0t+1]]));}}};L0t.prototype.parseCmd=function A0t(k0t,j0t){var i0t=null;var I0t=(k0t===0x14||k0t===0x1C)&&j0t>=0x20&&j0t<=0x2F;var E0t=(k0t===0x17||k0t===0x1F)&&j0t>=0x21&&j0t<=0x23;if(!(I0t||E0t)){return false;}if(k0t===this.lastCmdA&&j0t===this.lastCmdB){this.lastCmdA=null;this.lastCmdB=null;w6n.log('DEBUG','Repeated command ('+K6n([k0t,j0t])+') is dropped');return true;}if(k0t===0x14||k0t===0x17){i0t=1;}else{i0t=2;}var Q0t=this.channels[i0t-1];if(k0t===0x14||k0t===0x1C){if(j0t===0x20){Q0t.ccRCL();}else if(j0t===0x21){Q0t.ccBS();}else if(j0t===0x22){Q0t.ccAOF();}else if(j0t===0x23){Q0t.ccAON();}else if(j0t===0x24){Q0t.ccDER();}else if(j0t===0x25){Q0t.ccRU(2);}else if(j0t===0x26){Q0t.ccRU(3);}else if(j0t===0x27){Q0t.ccRU(4);}else if(j0t===0x28){Q0t.ccFON();}else if(j0t===0x29){Q0t.ccRDC();}else if(j0t===0x2A){Q0t.ccTR();}else if(j0t===0x2B){Q0t.ccRTD();}else if(j0t===0x2C){Q0t.ccEDM();}else if(j0t===0x2D){Q0t.ccCR();}else if(j0t===0x2E){Q0t.ccENM();}else if(j0t===0x2F){Q0t.ccEOC();}}else{Q0t.ccTO(j0t-0x20);}this.lastCmdA=k0t;this.lastCmdB=j0t;this.currChNr=i0t;return true;};L0t.prototype.parseMidrow=function y0t(u1t,X1t){var r0t=null;if((u1t===0x11||u1t===0x19)&&X1t>=0x20&&X1t<=0x2f){if(u1t===0x11){r0t=1;}else{r0t=2;}if(r0t!==this.currChNr){w6n.log('ERROR','Mismatch channel in midrow parsing');return false;}var h1t=this.channels[r0t-1];h1t.ccMIDROW(X1t);w6n.log('DEBUG','MIDROW ('+K6n([u1t,X1t])+')');return true;}return false;};L0t.prototype.parsePAC=function f1t(D1t,C1t){var w1t=null;var Y1t=null;var c1t=(D1t>=0x11&&D1t<=0x17||D1t>=0x19&&D1t<=0x1F)&&C1t>=0x40&&C1t<=0x7F;var F1t=(D1t===0x10||D1t===0x18)&&C1t>=0x40&&C1t<=0x5F;if(!(c1t||F1t)){return false;}if(D1t===this.lastCmdA&&C1t===this.lastCmdB){this.lastCmdA=null;this.lastCmdB=null;return true;}w1t=D1t<=0x17?1:2;if(C1t>=0x40&&C1t<=0x5F){Y1t=w1t===1?S7n[D1t]:n7n[D1t];}else{Y1t=w1t===1?e7n[D1t]:s7n[D1t];}var R1t=this.interpretPAC(Y1t,C1t);var U1t=this.channels[w1t-1];U1t.setPAC(R1t);this.lastCmdA=D1t;this.lastCmdB=C1t;this.currChNr=w1t;return true;};L0t.prototype.interpretPAC=function q1t(G1t,l1t){var o1t=l1t;var t1t={color:null,italics:false,indent:null,underline:false,row:G1t};if(l1t>0x5F){o1t=l1t-0x60;}else{o1t=l1t-0x40;}t1t.underline=(o1t&1)===1;if(o1t<=0xd){t1t.color=['white','green','blue','cyan','red','yellow','magenta','white'][Math.floor(o1t/2)];}else if(o1t<=0xf){t1t.italics=true;t1t.color='white';}else{t1t.indent=Math.floor((o1t-0x10)/2)*4;}return t1t;};L0t.prototype.parseChars=function m1t(K1t,a1t){var P1t=null,b1t=null,N1t=null;if(K1t>=0x19){P1t=2;N1t=K1t-8;}else{P1t=1;N1t=K1t;}if(N1t>=0x11&&N1t<=0x13){var g1t=a1t;if(N1t===0x11){g1t=a1t+0x50;}else if(N1t===0x12){g1t=a1t+0x70;}else{g1t=a1t+0x90;}w6n.log('INFO','Special char \''+I6n(g1t)+'\' in channel '+P1t);b1t=[g1t];}else if(K1t>=0x20&&K1t<=0x7f){b1t=a1t===0?[K1t]:[K1t,a1t];}if(b1t){var M1t=K6n(b1t);w6n.log('DEBUG','Char codes =  '+M1t.join(','));this.lastCmdA=null;this.lastCmdB=null;}return b1t;};L0t.prototype.parseBackgroundAttributes=function L1t(H1t,O1t){var x1t=void 0,T1t=void 0,d1t=void 0,v1t=void 0;var V1t=(H1t===0x10||H1t===0x18)&&O1t>=0x20&&O1t<=0x2f;var p1t=(H1t===0x17||H1t===0x1f)&&O1t>=0x2d&&O1t<=0x2f;if(!(V1t||p1t)){return false;}x1t={};if(H1t===0x10||H1t===0x18){T1t=Math.floor((O1t-0x20)/2);x1t.background=J7n[T1t];if(O1t%2===1){x1t.background=x1t.background+'_semi';}}else if(O1t===0x2d){x1t.background='transparent';}else{x1t.foreground='black';if(O1t===0x2f){x1t.underline=true;}}d1t=H1t<0x18?1:2;v1t=this.channels[d1t-1];v1t.setBkgData(x1t);this.lastCmdA=null;this.lastCmdB=null;return true;};L0t.prototype.reset=function Z1t(){for(var B1t=0;B1t<this.channels.length;B1t++){if(this.channels[B1t]){this.channels[B1t].reset();}}this.lastCmdA=null;this.lastCmdB=null;};L0t.prototype.cueSplitAtTime=function W1t(S1t){for(var z1t=0;z1t<this.channels.length;z1t++){if(this.channels[z1t]){this.channels[z1t].cueSplitAtTime(S1t);}}};return L0t;}();var r7n=y7n;var u9n=function(){s1t.prototype.dispatchCue=function j1t(){if(this.startTime===null){return;}this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen);this.startTime=null;};s1t.prototype.newCue=function Q1t(k1t,i1t,I1t){if(this.startTime===null||this.startTime>k1t){this.startTime=k1t;}this.endTime=i1t;this.screen=I1t;this.timelineController.createCaptionsTrack(this.trackName);};function s1t(J1t,A1t){N8n(this,s1t);this.timelineController=J1t;this.trackName=A1t;this.startTime=null;this.endTime=null;this.screen=null;}return s1t;}();function w8n(C1a,w1a){var D1a=null;for(var h1a=0;h1a<C1a.length;h1a+=1){var f1a=C1a[h1a];if(f1a&&f1a.cc===w1a){D1a=f1a;break;}}return D1a;}function O8n(V9i,p9i){if(!(V9i instanceof p9i)){throw new TypeError("Cannot call a class as a function");}}var D2n=u9n;function s8n(s8i,n8i){if(!s8i){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return n8i&&(typeof n8i==="object"||typeof n8i==="function")?n8i:s8i;}var B6n=function E1t(r1t,y1t,u4t){return r1t.substr(u4t||0,y1t.length)===y1t;};var f9n=function X4t(h4t){var f4t=parseInt(h4t.substr(-3));var D4t=parseInt(h4t.substr(-6,2));var C4t=parseInt(h4t.substr(-9,2));var w4t=h4t.length>9?parseInt(h4t.substr(0,h4t.indexOf(':'))):0;if(!Object(Y6n["a"])(f4t)||!Object(Y6n["a"])(D4t)||!Object(Y6n["a"])(C4t)||!Object(Y6n["a"])(w4t)){return-1;}f4t+=1000*D4t;f4t+=60*1000*C4t;f4t+=60*60*1000*w4t;return f4t;};var W6n=function Y4t(R4t){var c4t=5381;var F4t=R4t.length;while(F4t){c4t=c4t*33^R4t.charCodeAt(--F4t);}return(c4t>>>0).toString();};function L8n(d4W,T4W){if(typeof T4W!=="function"&&T4W!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof T4W);}d4W.prototype=Object.create(T4W&&T4W.prototype,{constructor:{value:d4W,enumerable:false,writable:true,configurable:true}});if(T4W)Object.setPrototypeOf?Object.setPrototypeOf(d4W,T4W):d4W.__proto__=T4W;}var C9n=function U4t(t4t,l4t,G4t){var q4t=t4t[l4t];var o4t=t4t[q4t.prevCC];if(!o4t||!o4t.new&&q4t.new){t4t.ccOffset=t4t.presentationOffset=q4t.start;q4t.new=false;return;}while(o4t&&o4t.new){t4t.ccOffset+=q4t.start-o4t.start;q4t.new=false;q4t=o4t;o4t=t4t[q4t.prevCC];}t4t.presentationOffset=G4t;};function D8n(){var H1i=Q6n();var O1i=window.SourceBuffer||window.WebKitSourceBuffer;var T1i=H1i&&typeof H1i.isTypeSupported==='function'&&H1i.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');var d1i=!O1i||O1i.prototype&&typeof O1i.prototype.appendBuffer==='function'&&typeof O1i.prototype.remove==='function';return!!T1i&&!!d1i;}var w9n={parse:function m4t(V4t,g4t,N4t,d4t,p4t,H4t){var T4t=/\r\n|\n\r|\n|\r/g;var v4t=Object(p6n["b"])(new Uint8Array(V4t)).trim().replace(T4t,'\n').split('\n');var x4t='00:00.000';var L4t=0;var b4t=0;var P4t=0;var O4t=[];var a4t=void 0;var M4t=true;var K4t=new V7n();K4t.oncue=function(Z4t){var W4t=N4t[d4t];var B4t=N4t.ccOffset;if(W4t&&W4t.new){if(b4t!==undefined){B4t=N4t.ccOffset=W4t.start;}else{C9n(N4t,d4t,P4t);}}if(P4t){B4t=P4t+N4t.ccOffset-N4t.presentationOffset;}Z4t.startTime+=B4t-b4t;Z4t.endTime+=B4t-b4t;Z4t.id=W6n(Z4t.startTime.toString())+W6n(Z4t.endTime.toString())+W6n(Z4t.text);Z4t.text=decodeURIComponent(encodeURIComponent(Z4t.text));if(Z4t.endTime>0){O4t.push(Z4t);}};K4t.onparsingerror=function(z4t){a4t=z4t;};K4t.onflush=function(){if(a4t&&H4t){H4t(a4t);return;}p4t(O4t);};v4t.forEach(function(S4t){if(M4t){if(B6n(S4t,'X-TIMESTAMP-MAP=')){M4t=false;S4t.substr(16).split(',').forEach(function(e4t){if(B6n(e4t,'LOCAL:')){x4t=e4t.substr(6);}else if(B6n(e4t,'MPEGTS:')){L4t=parseInt(e4t.substr(7));}});try{g4t=g4t<0?g4t+8589934592:g4t;L4t-=g4t;b4t=f9n(x4t)/1000;P4t=L4t/90000;if(b4t===-1){a4t=new Error('Malformed X-TIMESTAMP-MAP: '+S4t);}}catch(n4t){a4t=new Error('Malformed X-TIMESTAMP-MAP: '+S4t);}return;}else if(S4t===''){M4t=false;}}K4t.parse(S4t+'\n');});K4t.flush();}};var Y9n=w9n;function I9n(k77,I77,E77){var y77=k77;i77();I77.startTime=r77();i77();if(k77.substr(0,3)!=='-->'){throw new Error('Malformed time stamp (time stamps must be separated by \'-->\'): '+y77);}k77=k77.substr(3);i77();function u97(w97,f97){var h97=new O7n();H7n(w97,function(Y97,F97){switch(Y97){case'region':for(var R97=E77.length-1;R97>=0;R97--){if(E77[R97].id===F97){h97.set(Y97,E77[R97].region);break;}}break;case'vertical':h97.alt(Y97,F97,['rl','lr']);break;case'line':var c97=F97.split(','),U97=c97[0];h97.integer(Y97,U97);if(h97.percent(Y97,U97)){h97.set('snapToLines',false);}h97.alt(Y97,U97,['auto']);if(c97.length===2){h97.alt('lineAlign',c97[1],['start',H6n,'end']);}break;case'position':c97=F97.split(',');h97.percent(Y97,c97[0]);if(c97.length===2){h97.alt('positionAlign',c97[1],['start',H6n,'end','line-left','line-right','auto']);}break;case'size':h97.percent(Y97,F97);break;case'align':h97.alt(Y97,F97,['start',H6n,'end','left','right']);break;}},/:/,/\s/);f97.region=h97.get('region',null);f97.vertical=h97.get('vertical','');var D97=h97.get('line','auto');if(D97==='auto'&&V6n.line===-1){D97=-1;}f97.line=D97;f97.lineAlign=h97.get('lineAlign','start');f97.snapToLines=h97.get('snapToLines',true);f97.size=h97.get('size',100);f97.align=h97.get('align',H6n);var C97=h97.get('position','auto');if(C97==='auto'&&V6n.position===50){C97=f97.align==='start'||f97.align==='left'?0:f97.align==='end'||f97.align==='right'?100:50;}f97.position=C97;}I77.endTime=r77();i77();u97(k77,I77);function r77(){var X97=A9n(k77);if(X97===null){throw new Error('Malformed timestamp: '+y77);}k77=k77.replace(/^[^\sa-zA-Z-]+/,'');return X97;}function i77(){k77=k77.replace(/^\s+/,'');}}var c9n=function(h6t){d8n(X6t,h6t);X6t.prototype.addCues=function Y6t(l6t,F6t,R6t,G6t){var U6t=this.cueRanges;var q6t=false;for(var o6t=U6t.length;o6t--;){var c6t=U6t[o6t];var t6t=V8n(c6t[0],c6t[1],F6t,R6t);if(t6t>=0){c6t[0]=Math.min(c6t[0],F6t);c6t[1]=Math.max(c6t[1],R6t);q6t=true;if(t6t/(R6t-F6t)>0.5){return;}}}if(!q6t){U6t.push([F6t,R6t]);}this.Cues.newCue(this.captionsTracks[l6t],F6t,R6t,G6t);};X6t.prototype.onInitPtsFound=function m6t(N6t){var K6t=this;if(typeof this.initPTS==='undefined'){this.initPTS=N6t.initPTS;}if(this.unparsedVttFrags.length){this.unparsedVttFrags.forEach(function(a6t){K6t.onFragLoaded(a6t);});this.unparsedVttFrags=[];}};X6t.prototype.getExistingTrack=function b6t(L6t){var g6t=this.media;if(g6t){for(var P6t=0;P6t<g6t.textTracks.length;P6t++){var M6t=g6t.textTracks[P6t];if(M6t[L6t]){return M6t;}}}return null;};X6t.prototype.createCaptionsTrack=function x6t(O6t){var d6t=this.captionsProperties[O6t],V6t=d6t.label,p6t=d6t.languageCode;var H6t=this.captionsTracks;if(!H6t[O6t]){var v6t=this.getExistingTrack(O6t);if(!v6t){var T6t=this.createTextTrack('captions',V6t,p6t);if(T6t){T6t[O6t]=true;H6t[O6t]=T6t;}}else{H6t[O6t]=v6t;S6n(H6t[O6t]);e2n(H6t[O6t],this.media);}}};X6t.prototype.createTextTrack=function Z6t(W6t,z6t,S6t){var B6t=this.media;if(B6t){return B6t.addTextTrack(W6t,z6t,S6t);}};X6t.prototype.destroy=function e6t(){c6n.prototype.destroy.call(this);};X6t.prototype.onMediaAttaching=function n6t(s6t){this.media=s6t.media;this._cleanTracks();};function X6t(D6t){H8n(this,X6t);var f6t=T8n(this,h6t.call(this,D6t,h6n["a"].MEDIA_ATTACHING,h6n["a"].MEDIA_DETACHING,h6n["a"].FRAG_PARSING_USERDATA,h6n["a"].FRAG_DECRYPTED,h6n["a"].MANIFEST_LOADING,h6n["a"].MANIFEST_LOADED,h6n["a"].FRAG_LOADED,h6n["a"].LEVEL_SWITCHING,h6n["a"].INIT_PTS_FOUND));f6t.hls=D6t;f6t.config=D6t.config;f6t.enabled=true;f6t.Cues=D6t.config.cueHandler;f6t.textTracks=[];f6t.tracks=[];f6t.unparsedVttFrags=[];f6t.initPTS=undefined;f6t.cueRanges=[];f6t.captionsTracks={};f6t.captionsProperties={textTrack1:{label:f6t.config.captionsTextTrack1Label,languageCode:f6t.config.captionsTextTrack1LanguageCode},textTrack2:{label:f6t.config.captionsTextTrack2Label,languageCode:f6t.config.captionsTextTrack2LanguageCode}};if(f6t.config.enableCEA708Captions){var C6t=new D2n(f6t,'textTrack1');var w6t=new D2n(f6t,'textTrack2');f6t.cea608Parser=new r7n(0,C6t,w6t);}return f6t;}X6t.prototype.onMediaDetaching=function J6t(){var A6t=this.captionsTracks;Object.keys(A6t).forEach(function(j6t){S6n(A6t[j6t]);delete A6t[j6t];});};X6t.prototype.onManifestLoading=function Q6t(){this.lastSn=-1;this.prevCC=-1;this.vttCCs={ccOffset:0,presentationOffset:0};this._cleanTracks();};X6t.prototype._cleanTracks=function k6t(){var E6t=this.media;if(E6t){var i6t=E6t.textTracks;if(i6t){for(var I6t=0;I6t<i6t.length;I6t++){S6n(i6t[I6t]);}}}};X6t.prototype.onManifestLoaded=function y6t(X2t){var r6t=this;this.textTracks=[];this.unparsedVttFrags=this.unparsedVttFrags||[];this.initPTS=undefined;this.cueRanges=[];if(this.config.enableWebVTT){this.tracks=X2t.subtitles||[];var u2t=this.media?this.media.textTracks:[];this.tracks.forEach(function(f2t,C2t){var h2t=void 0;if(C2t<u2t.length){var D2t=u2t[C2t];if(v8n(D2t,f2t)){h2t=D2t;}}if(!h2t){h2t=r6t.createTextTrack('subtitles',f2t.name,f2t.lang);}if(f2t.default){h2t.mode=r6t.hls.subtitleDisplay?'showing':'hidden';}else{h2t.mode='disabled';}r6t.textTracks.push(h2t);});}};X6t.prototype.onLevelSwitching=function w2t(){this.enabled=this.hls.currentLevel.closedCaptions!=='NONE';};X6t.prototype.onFragLoaded=function Y2t(R2t){var c2t=R2t.frag,U2t=R2t.payload;if(c2t.type==='main'){var q2t=c2t.sn;if(q2t!==this.lastSn+1){var o2t=this.cea608Parser;if(o2t){o2t.reset();}}this.lastSn=q2t;}else if(c2t.type==='subtitle'){if(U2t.byteLength){if(typeof this.initPTS==='undefined'){this.unparsedVttFrags.push(R2t);return;}var F2t=c2t.decryptdata;if(F2t==null||F2t.key==null||F2t.method!=='AES-128'){this._parseVTTs(c2t,U2t);}}else{this.hls.trigger(h6n["a"].SUBTITLE_FRAG_PROCESSED,{success:false,frag:c2t});}}};X6t.prototype._parseVTTs=function t2t(l2t,N2t){var G2t=this.vttCCs;if(!G2t[l2t.cc]){G2t[l2t.cc]={start:l2t.start,prevCC:this.prevCC,new:true};this.prevCC=l2t.cc;}var K2t=this.textTracks,m2t=this.hls;Y9n.parse(N2t,this.initPTS,G2t,l2t.cc,function(b2t){var a2t=K2t[l2t.trackId];if(a2t.mode==='disabled'){m2t.trigger(h6n[(89.11,754.72)==28.05?942.92:"a"].SUBTITLE_FRAG_PROCESSED,{success:false,frag:l2t});return;}b2t.forEach(function(g2t){if(!a2t.cues.getCueById(g2t.id)){try{a2t.addCue(g2t);}catch(M2t){var P2t=new window.TextTrackCue(g2t.startTime,g2t.endTime,g2t.text);P2t.id=g2t.id;a2t.addCue(P2t);}}});m2t.trigger(h6n["a"].SUBTITLE_FRAG_PROCESSED,{success:true,frag:l2t});},function(L2t){X6n["b"].log('Failed to parse VTT cue: '+L2t);m2t.trigger(h6n["a"].SUBTITLE_FRAG_PROCESSED,{success:false,frag:l2t});});};X6t.prototype.onFragDecrypted=function x2t(O2t){var T2t=O2t.payload,H2t=O2t.frag;if(H2t.type==='subtitle'){if(typeof this.initPTS==='undefined'){this.unparsedVttFrags.push(O2t);return;}this._parseVTTs(H2t,T2t);}};X6t.prototype.onFragParsingUserdata=function d2t(V2t){if(this.enabled&&this.config.enableCEA708Captions){for(var v2t=0;v2t<V2t.samples.length;v2t++){var p2t=this.extractCea608Data(V2t.samples[v2t].bytes);this.cea608Parser.addData(V2t.samples[v2t].pts,p2t);}}};X6t.prototype.extractCea608Data=function Z2t(e2t){var j2t=e2t[0]&31;var z2t=2;var S2t=void 0,B2t=void 0,n2t=void 0,J2t=void 0,A2t=void 0;var W2t=[];for(var s2t=0;s2t<j2t;s2t++){S2t=e2t[z2t++];B2t=0x7F&e2t[z2t++];n2t=0x7F&e2t[z2t++];J2t=(4&S2t)!==0;A2t=3&S2t;if(B2t===0&&n2t===0){continue;}if(J2t){if(A2t===0){W2t.push(B2t);W2t.push(n2t);}}}return W2t;};return X6t;}(c6n);function u8n(u1i,r0i){if(!u1i){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return r0i&&(typeof r0i==="object"||typeof r0i==="function")?r0i:u1i;}var F9n=c9n;var R9n=function(){function Q2t(E2t,I2t){for(var i2t=0;i2t<I2t.length;i2t++){var k2t=I2t[i2t];k2t.enumerable=k2t.enumerable||false;k2t.configurable=true;if("value"in k2t)k2t.writable=true;Object.defineProperty(E2t,k2t.key,k2t);}}return function(y2t,r2t,u7t){if(r2t)Q2t(y2t.prototype,r2t);if(u7t)Q2t(y2t,u7t);return y2t;};}();var q9n=function(U7t){S8n(R7t,U7t);R7t.prototype._onTextTracksChanged=function t7t(){if(!this.media){return;}var G7t=-1;var m7t=U9n(this.media.textTracks);for(var l7t=0;l7t<m7t.length;l7t++){if(m7t[l7t].mode==='hidden'){G7t=l7t;}else if(m7t[l7t].mode==='showing'){G7t=l7t;break;}}this.subtitleTrack=G7t;};R7t.prototype.destroy=function K7t(){c6n.prototype.destroy.call(this);};function R7t(o7t){W8n(this,R7t);var q7t=z8n(this,U7t.call(this,o7t,h6n["a"].MEDIA_ATTACHED,h6n["a"].MEDIA_DETACHING,h6n["a"].MANIFEST_LOADING,h6n["a"].MANIFEST_LOADED,h6n["a"].SUBTITLE_TRACK_LOADED));q7t.tracks=[];q7t.trackId=-1;q7t.media=null;q7t.subtitleDisplay=true;return q7t;}R7t.prototype.onMediaAttached=function N7t(b7t){var a7t=this;this.media=b7t.media;if(!this.media){return;}if(this.queuedDefaultTrack){this.subtitleTrack=this.queuedDefaultTrack;delete this.queuedDefaultTrack;}this.trackChangeListener=this._onTextTracksChanged.bind(this);this.useTextTrackPolling=!(this.media.textTracks&&'onchange'in this.media.textTracks);if(this.useTextTrackPolling){this.subtitlePollingInterval=setInterval(function(){a7t.trackChangeListener();},500);}else{this.media.textTracks.addEventListener('change',this.trackChangeListener);}};R7t.prototype.onMediaDetaching=function g7t(){if(!this.media){return;}if(this.useTextTrackPolling){clearInterval(this.subtitlePollingInterval);}else{this.media.textTracks.removeEventListener('change',this.trackChangeListener);}this.media=null;};R7t.prototype.onManifestLoading=function P7t(){this.tracks=[];this.trackId=-1;};R7t.prototype.onManifestLoaded=function M7t(O7t){var L7t=this;var x7t=O7t.subtitles||[];this.tracks=x7t;this.trackId=-1;this.hls.trigger(h6n["a"].SUBTITLE_TRACKS_UPDATED,{subtitleTracks:x7t});x7t.forEach(function(H7t){if(H7t.default){if(L7t.media){L7t.subtitleTrack=H7t.id;}else{L7t.queuedDefaultTrack=H7t.id;}}});};R7t.prototype.onTick=function T7t(){var d7t=this.trackId;var v7t=this.tracks[d7t];if(!v7t){return;}var V7t=v7t.details;if(!V7t||V7t.live){X6n["b"].log('(re)loading playlist for subtitle track '+d7t);this.hls.trigger(h6n["a"].SUBTITLE_TRACK_LOADING,{url:v7t.url,id:d7t});}};R7t.prototype.onSubtitleTrackLoaded=function p7t(Z7t){var B7t=this;if(Z7t.id<this.tracks.length){X6n["b"].log('subtitle track '+Z7t.id+' loaded');this.tracks[Z7t.id].details=Z7t.details;if(Z7t.details.live&&!this.timer){this.timer=setInterval(function(){B7t.onTick();},1000*Z7t.details.targetduration,this);}if(!Z7t.details.live&&this.timer){this._stopTimer();}}};R7t.prototype.setSubtitleTrackInternal=function W7t(z7t){var S7t=this.hls,e7t=this.tracks;if(typeof z7t!=='number'||z7t<-1||z7t>=e7t.length){return;}this._stopTimer();this.trackId=z7t;X6n["b"].log('switching to subtitle track '+z7t);S7t.trigger(h6n["a"].SUBTITLE_TRACK_SWITCH,{id:z7t});if(z7t===-1){return;}var n7t=e7t[z7t];var s7t=n7t.details;if(!s7t||s7t.live){X6n["b"].log('(re)loading playlist for subtitle track '+z7t);S7t.trigger(h6n["a"].SUBTITLE_TRACK_LOADING,{url:n7t.url,id:z7t});}};R7t.prototype._stopTimer=function J7t(){if(this.timer){clearInterval(this.timer);this.timer=null;}};R7t.prototype._toggleTrackModes=function A7t(I7t){var Q7t=this.media,E7t=this.subtitleDisplay,y7t=this.trackId;if(!Q7t){return;}var j7t=U9n(Q7t.textTracks);if(I7t===-1){[].slice.call(j7t).forEach(function(r7t){r7t.mode='disabled';});}else{var k7t=j7t[y7t];if(k7t){k7t.mode='disabled';}}var i7t=j7t[I7t];if(i7t){i7t.mode=E7t?'showing':'hidden';}};R9n(R7t,[{key:'subtitleTracks',get:function u9t(){return this.tracks;}},{key:'subtitleTrack',get:function X9t(){return this.trackId;},set:function h9t(f9t){if(this.trackId!==f9t){this._toggleTrackModes(f9t);this.setSubtitleTrackInternal(f9t);}}}]);return R7t;}(c6n);var o9n=q9n;var t9n=R6n(8);var l9n=window,Y2n=l9n.performance;var t6n={STOPPED:'STOPPED',IDLE:'IDLE',KEY_LOADING:'KEY_LOADING',FRAG_LOADING:'FRAG_LOADING'};function A9n(U77){var F77=U77.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);if(!F77){return null;}if(F77[3]){return R77(F77[1],F77[2],F77[3].replace(':',''),F77[4]);}else if(F77[1]>59){return R77(F77[1],F77[2],0,F77[4]);}else{return R77(0,F77[1],F77[2],F77[4]);}function R77(q77,o77,t77,l77){return(q77|0)*3600+(o77|0)*60+(t77|0)+(l77|0)/1000;}}var K9n=function(U9t){Q8n(R9t,U9t);R9t.prototype.onHandlerDestroyed=function t9t(){this.state=t6n.STOPPED;};R9t.prototype.clearVttFragQueues=function l9t(){var G9t=this;this.vttFragQueues={};this.tracks.forEach(function(m9t){G9t.vttFragQueues[m9t.id]=[];});};R9t.prototype.nextFrag=function K9t(){if(this.currentlyProcessing===null&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var N9t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=N9t;this.hls.trigger(h6n["a"].FRAG_LOADING,{frag:N9t});this.state=t6n.FRAG_LOADING;}};R9t.prototype.onSubtitleFragProcessed=function a9t(b9t){if(b9t.success){this.vttFragSNsProcessed[b9t.frag.trackId].push(b9t.frag.sn);}this.currentlyProcessing=null;this.state=t6n.IDLE;this.nextFrag();};R9t.prototype.onMediaAttached=function g9t(){this.state=t6n.IDLE;};R9t.prototype.onError=function P9t(L9t){var M9t=L9t.frag;if(M9t&&M9t.type!=='subtitle'){return;}if(this.currentlyProcessing){this.currentlyProcessing=null;this.nextFrag();}};R9t.prototype.doTick=function x9t(){var H9t=this;switch(this.state){case t6n.IDLE:var T9t=this.tracks;var O9t=this.currentTrackId;var V9t=this.vttFragSNsProcessed[O9t],d9t=this.vttFragQueues[O9t],p9t=this.currentlyProcessing?this.currentlyProcessing.sn:-1;var Z9t=function W9t(z9t){return V9t.indexOf(z9t.sn)>-1;};var B9t=function S9t(e9t){return d9t.some(function(n9t){return n9t.sn===e9t.sn;});};if(!T9t){break;}var v9t;if(O9t<T9t.length){v9t=T9t[O9t].details;}if(typeof v9t==='undefined'){break;}v9t.fragments.forEach(function(s9t){if(!(Z9t(s9t)||s9t.sn===p9t||B9t(s9t))){if(s9t.encrypted){X6n["b"].log('Loading key for '+s9t.sn);H9t.state=t6n.KEY_LOADING;H9t.hls.trigger(h6n["a"].KEY_LOADING,{frag:s9t});}else{s9t.trackId=O9t;d9t.push(s9t);H9t.nextFrag();}}});}};R9t.prototype.onSubtitleTracksUpdated=function J9t(j9t){var A9t=this;X6n["b"].log('subtitle tracks updated');this.tracks=j9t.subtitleTracks;this.clearVttFragQueues();this.vttFragSNsProcessed={};this.tracks.forEach(function(Q9t){A9t.vttFragSNsProcessed[Q9t.id]=[];});};R9t.prototype.onSubtitleTrackSwitch=function k9t(I9t){this.currentTrackId=I9t.id;if(!this.tracks||this.currentTrackId===-1){return;}var i9t=this.tracks[this.currentTrackId];if(i9t&&i9t.details){this.tick();}};R9t.prototype.onSubtitleTrackLoaded=function E9t(){this.tick();};function R9t(o9t){A8n(this,R9t);var q9t=j8n(this,U9t.call(this,o9t,h6n["a"].MEDIA_ATTACHED,h6n["a"].ERROR,h6n["a"].KEY_LOADED,h6n["a"].FRAG_LOADED,h6n["a"].SUBTITLE_TRACKS_UPDATED,h6n["a"].SUBTITLE_TRACK_SWITCH,h6n["a"].SUBTITLE_TRACK_LOADED,h6n["a"].SUBTITLE_FRAG_PROCESSED));q9t.config=o9t.config;q9t.vttFragSNsProcessed={};q9t.vttFragQueues=undefined;q9t.currentlyProcessing=null;q9t.state=t6n.STOPPED;q9t.currentTrackId=-1;q9t.decrypter=new t9n["a"](o9t.observer,o9t.config);return q9t;}R9t.prototype.onKeyLoaded=function y9t(){if(this.state===t6n.KEY_LOADING){this.state=t6n.IDLE;this.tick();}};R9t.prototype.onFragLoaded=function r9t(u8t){var f8t=this.fragCurrent,X8t=u8t.frag.decryptdata;var D8t=u8t.frag,C8t=this.hls;if(this.state===t6n.FRAG_LOADING&&f8t&&u8t.frag.type==='subtitle'&&f8t.sn===u8t.frag.sn){if(u8t.payload.byteLength>0&&X8t!=null&&X8t.key!=null&&X8t.method==='AES-128'){var h8t=void 0;try{h8t=Y2n.now();}catch(w8t){h8t=Date.now();}this.decrypter.decrypt(u8t.payload,X8t.key.buffer,X8t.iv.buffer,function(c8t){var Y8t=void 0;try{Y8t=Y2n.now();}catch(F8t){Y8t=Date.now();}C8t.trigger(h6n["a"].FRAG_DECRYPTED,{frag:D8t,payload:c8t,stats:{tstart:h8t,tdecrypt:Y8t}});});}}};return R9t;}(M6n);function S9n(J3a,A3a){if(!(J3a instanceof A3a)){throw new TypeError("Cannot call a class as a function");}}var N9n=K9n;var a9n=function(){function R8t(t8t,o8t){for(var q8t=0;q8t<o8t.length;q8t++){var U8t=o8t[q8t];U8t.enumerable=U8t.enumerable||false;U8t.configurable=true;if("value"in U8t)U8t.writable=true;Object.defineProperty(t8t,U8t.key,U8t);}}return function(l8t,G8t,m8t){if(G8t)R8t(l8t.prototype,G8t);if(m8t)R8t(l8t,m8t);return l8t;};}();var b9n=window,g9n=b9n.XMLHttpRequest;var F2n=3;var a6n={WIDEVINE:'com.widevine.alpha',PLAYREADY:'com.microsoft.playready'};var L9n=function M8t(O8t,x8t,H8t){var L8t={videoCapabilities:[]};x8t.forEach(function(T8t){L8t.videoCapabilities.push({contentType:'video/mp4; codecs="'+T8t+'"'});});return[L8t];};function k9n(l4W,G4W){if(l4W.rawProgramDateTime){l4W.programDateTime=Date.parse(l4W.rawProgramDateTime);}else if(G4W&&G4W.programDateTime){l4W.programDateTime=G4W.endProgramDateTime;}if(!Object(Y6n["a"])(l4W.programDateTime)){l4W.programDateTime=null;l4W.rawProgramDateTime=null;}}var x9n=function d8t(v8t,V8t,p8t){switch(v8t){case a6n.WIDEVINE:return L9n(V8t,p8t);default:throw Error('Unknown key-system: '+v8t);}};var O9n=function(B8t){h3n(Z8t,B8t);Z8t.prototype.getLicenseServerUrl=function S8t(n8t){var e8t=void 0;switch(n8t){case a6n.WIDEVINE:e8t=this._widevineLicenseUrl;break;default:e8t=null;break;}if(!e8t){X6n["b"].error('No license server URL configured for key-system "'+n8t+'"');this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].KEY_SYSTEM_ERROR,details:f6n[235.74!=(5951,650.14)?"a":387].KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:true});}return e8t;};Z8t.prototype._attemptKeySystemAccess=function s8t(J8t,Q8t,k8t){var j8t=this;var A8t=x9n(J8t,Q8t,k8t);if(!A8t){X6n["b"].warn('Can not create config for key-system (maybe because platform is not supported):',J8t);return;}X6n["b"].log('Requesting encrypted media key-system access');this.requestMediaKeySystemAccess(J8t,A8t).then(function(i8t){j8t._onMediaKeySystemAccessObtained(J8t,i8t);}).catch(function(I8t){X6n["b"].error('Failed to obtain key-system "'+J8t+'" access:',I8t);});};Z8t.prototype._onMediaKeySystemAccessObtained=function E8t(y8t,u3t){var X3t=this;X6n["b"].log('Access for key-system "'+y8t+'" obtained');var r8t={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:false,mediaKeySystemAccess:u3t,mediaKeySystemDomain:y8t};this._mediaKeysList.push(r8t);u3t.createMediaKeys().then(function(h3t){r8t.mediaKeys=h3t;X6n["b"].log('Media-keys created for key-system "'+y8t+'"');X3t._onMediaKeysCreated();}).catch(function(f3t){X6n["b"].error('Failed to create media-keys:',f3t);});};Z8t.prototype._onMediaKeysCreated=function D3t(){var C3t=this;this._mediaKeysList.forEach(function(w3t){if(!w3t.mediaKeysSession){w3t.mediaKeysSession=w3t.mediaKeys.createSession();C3t._onNewMediaKeySession(w3t.mediaKeysSession);}});};Z8t.prototype._onNewMediaKeySession=function Y3t(c3t){var F3t=this;X6n["b"].log('New key-system session '+c3t.sessionId);c3t.addEventListener('message',function(R3t){F3t._onKeySessionMessage(c3t,R3t.message);},false);};Z8t.prototype._onKeySessionMessage=function U3t(q3t,o3t){X6n["b"].log('Got EME message event, creating license request');this._requestLicense(o3t,function(t3t){X6n["b"].log('Received license data, updating key-session');q3t.update(t3t);});};Z8t.prototype._onMediaEncrypted=function l3t(G3t,m3t){X6n["b"].log('Media is encrypted using "'+G3t+'" init data type');this._isMediaEncrypted=true;this._mediaEncryptionInitDataType=G3t;this._mediaEncryptionInitData=m3t;this._attemptSetMediaKeys();this._generateRequestWithPreferredKeySession();};Z8t.prototype._attemptSetMediaKeys=function K3t(){if(!this._hasSetMediaKeys){var N3t=this._mediaKeysList[0];if(!N3t||!N3t.mediaKeys){X6n["b"].error('Fatal: Media is encrypted but no CDM access or no keys have been obtained yet');this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].KEY_SYSTEM_ERROR,details:f6n["a"].KEY_SYSTEM_NO_KEYS,fatal:true});return;}X6n["b"].log('Setting keys for encrypted media');this._media.setMediaKeys(N3t.mediaKeys);this._hasSetMediaKeys=true;}};Z8t.prototype._generateRequestWithPreferredKeySession=function a3t(){var M3t=this;var b3t=this._mediaKeysList[0];if(!b3t){X6n["b"].error('Fatal: Media is encrypted but not any key-system access has been obtained yet');this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].KEY_SYSTEM_ERROR,details:f6n["a"].KEY_SYSTEM_NO_ACCESS,fatal:true});return;}if(b3t.mediaKeysSessionInitialized){X6n["b"].warn('Key-Session already initialized but requested again');return;}var g3t=b3t.mediaKeysSession;if(!g3t){X6n["b"].error('Fatal: Media is encrypted but no key-session existing');this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].KEY_SYSTEM_ERROR,details:f6n["a"].KEY_SYSTEM_NO_SESSION,fatal:true});}var P3t=this._mediaEncryptionInitDataType;var L3t=this._mediaEncryptionInitData;X6n["b"].log('Generating key-session request for "'+P3t+'" init data type');b3t.mediaKeysSessionInitialized=true;g3t.generateRequest(P3t,L3t).then(function(){X6n["b"].debug('Key-session generation succeeded');}).catch(function(x3t){X6n["b"].error('Error generating key-session request:',x3t);M3t.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].KEY_SYSTEM_ERROR,details:f6n["a"].KEY_SYSTEM_NO_SESSION,fatal:false});});};Z8t.prototype._createLicenseXhr=function O3t(T3t,v3t,V3t){var H3t=new g9n();var d3t=this._licenseXhrSetup;try{if(d3t){try{d3t(H3t,T3t);}catch(p3t){H3t.open('POST',T3t,true);d3t(H3t,T3t);}}if(!H3t.readyState){H3t.open('POST',T3t,true);}}catch(Z3t){X6n["b"].error('Error setting up key-system license XHR',Z3t);this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].KEY_SYSTEM_ERROR,details:f6n["a"].KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:true});return;}H3t.responseType='arraybuffer';H3t.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,H3t,T3t,v3t,V3t);return H3t;};Z8t.prototype._onLicenseRequestReadyStageChange=function B3t(W3t,e3t,n3t,z3t){switch(W3t.readyState){case 4:if(W3t.status===200){this._requestLicenseFailureCount=0;X6n["b"].log('License request succeeded');z3t(W3t.response);}else{X6n["b"].error('License Request XHR failed ('+e3t+'). Status: '+W3t.status+' ('+W3t.statusText+((549,433.97)>(1550,523.25)?("M",5.32e+3):')'));this._requestLicenseFailureCount++;if(this._requestLicenseFailureCount<=F2n){var S3t=F2n-this._requestLicenseFailureCount+1;X6n["b"].warn('Retrying license request, '+S3t+' attempts left');this._requestLicense(n3t,z3t);return;}this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].KEY_SYSTEM_ERROR,details:f6n["a"].KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:true});}break;}};Z8t.prototype._generateLicenseRequestChallenge=function s3t(J3t,j3t){var A3t=void 0;if(J3t.mediaKeySystemDomain===a6n.PLAYREADY){X6n["b"].error('PlayReady is not supported (yet)');}else if(J3t.mediaKeySystemDomain===a6n.WIDEVINE){A3t=j3t;}else{X6n["b"].error('Unsupported key-system:',J3t.mediaKeySystemDomain);}return A3t;};Z8t.prototype._requestLicense=function Q3t(I3t,y3t){X6n["b"].log('Requesting content license for key-system');var k3t=this._mediaKeysList[0];if(!k3t){X6n["b"].error('Fatal error: Media is encrypted but no key-system access has been obtained yet');this.hls.trigger(h6n["a"].ERROR,{type:f6n["b"].KEY_SYSTEM_ERROR,details:f6n["a"].KEY_SYSTEM_NO_ACCESS,fatal:true});return;}var i3t=this.getLicenseServerUrl(k3t.mediaKeySystemDomain);var E3t=this._createLicenseXhr(i3t,I3t,y3t);X6n["b"].log('Sending license request to URL: '+i3t);E3t.send(this._generateLicenseRequestChallenge(k3t,I3t));};function Z8t(z8t){u3n(this,Z8t);var W8t=X3n(this,B8t.call(this,z8t,h6n["a"].MEDIA_ATTACHED,h6n["a"].MANIFEST_PARSED));W8t._widevineLicenseUrl=z8t.config.widevineLicenseUrl;W8t._licenseXhrSetup=z8t.config.licenseXhrSetup;W8t._emeEnabled=z8t.config.emeEnabled;W8t._requestMediaKeySystemAccess=z8t.config.requestMediaKeySystemAccessFunc;W8t._mediaKeysList=[];W8t._media=null;W8t._hasSetMediaKeys=false;W8t._isMediaEncrypted=false;W8t._requestLicenseFailureCount=0;return W8t;}Z8t.prototype.onMediaAttached=function r3t(h5t){var X5t=this;if(!this._emeEnabled){return;}var u5t=h5t.media;this._media=u5t;u5t.addEventListener('encrypted',function(f5t){X5t._onMediaEncrypted(f5t.initDataType,f5t.initData);});};Z8t.prototype.onManifestParsed=function D5t(C5t){if(!this._emeEnabled){return;}var w5t=C5t.levels.map(function(c5t){return c5t.audioCodec;});var Y5t=C5t.levels.map(function(F5t){return F5t.videoCodec;});this._attemptKeySystemAccess(a6n.WIDEVINE,w5t,Y5t);};a9n(Z8t,[{key:'requestMediaKeySystemAccess',get:function R5t(){if(!this._requestMediaKeySystemAccess){throw new Error('No requestMediaKeySystemAccess function configured');}return this._requestMediaKeySystemAccess;}}]);return Z8t;}(c6n);var H9n=O9n;var T9n=function(){if(typeof window!=='undefined'&&window.navigator&&window.navigator.requestMediaKeySystemAccess){return window.navigator.requestMediaKeySystemAccess.bind(window.navigator);}else{return null;}}();var q6n={autoStartLoad:true,startPosition:-1,defaultAudioCodec:undefined,debug:false,capLevelOnFPSDrop:false,capLevelToPlayerSize:false,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:60*1000*1000,maxBufferHole:0.5,lowBufferWatchdogPeriod:0.5,highBufferWatchdogPeriod:3,nudgeOffset:0.1,nudgeMaxRetry:3,maxFragLookUpTolerance:0.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:Infinity,liveSyncDuration:undefined,liveMaxLatencyDuration:undefined,liveDurationInfinity:false,maxMaxBufferLength:600,enableWorker:true,enableSoftwareAES:true,manifestLoadingTimeOut:10000,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1000,manifestLoadingMaxRetryTimeout:64000,startLevel:undefined,levelLoadingTimeOut:10000,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1000,levelLoadingMaxRetryTimeout:64000,fragLoadingTimeOut:20000,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1000,fragLoadingMaxRetryTimeout:64000,startFragPrefetch:false,fpsDroppedMonitoringPeriod:5000,fpsDroppedMonitoringThreshold:0.2,appendErrorMaxRetry:3,loader:t7n,fLoader:undefined,pLoader:undefined,xhrSetup:undefined,licenseXhrSetup:undefined,abrController:r2n,bufferController:h7n,capLevelController:C7n,fpsController:F7n,stretchShortVideoTrack:false,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:true,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:0.95,abrBandWidthUpFactor:0.7,abrMaxWithRealBitrate:false,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:false,widevineLicenseUrl:undefined,requestMediaKeySystemAccessFunc:T9n};if(true){q6n.subtitleStreamController=N9n;q6n.subtitleTrackController=o9n;q6n.timelineController=F9n;q6n.cueHandler=y6n;q6n.enableCEA708Captions=true;q6n.enableWebVTT=true;q6n.captionsTextTrack1Label='English';q6n.captionsTextTrack1LanguageCode='en';q6n.captionsTextTrack2Label='Spanish';q6n.captionsTextTrack2LanguageCode='es';}function q3n(u7W,X7W){if(!(u7W instanceof X7W)){throw new TypeError("Cannot call a class as a function");}}if(true){q6n.audioStreamController=P7n;q6n.audioTrackController=m7n;}if(true){q6n.emeController=H9n;}var C2n=function(){function U5t(l5t,t5t){for(var o5t=0;o5t<t5t.length;o5t++){var q5t=t5t[o5t];q5t.enumerable=q5t.enumerable||false;q5t.configurable=true;if("value"in q5t)q5t.writable=true;Object.defineProperty(l5t,q5t.key,q5t);}}return function(G5t,m5t,K5t){if(m5t)U5t(G5t.prototype,m5t);if(K5t)U5t(G5t,K5t);return G5t;};}();R6n(14);function E8n(X5n,h5n){if(!(X5n instanceof h5n)){throw new TypeError("Cannot call a class as a function");}}var s2n=function(){function b5t(){var s5t=this;var d5t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};t3n(this,b5t);var z5t=b5t.DefaultConfig;if((d5t.liveSyncDurationCount||d5t.liveMaxLatencyDurationCount)&&(d5t.liveSyncDuration||d5t.liveMaxLatencyDuration)){throw new Error('Illegal hls.js config: don\'t mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration');}for(var B5t in z5t){if(B5t in d5t)continue;d5t[B5t]=z5t[B5t];}if(d5t.liveMaxLatencyDurationCount!==undefined&&d5t.liveMaxLatencyDurationCount<=d5t.liveSyncDurationCount){throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');}if(d5t.liveMaxLatencyDuration!==undefined&&(d5t.liveMaxLatencyDuration<=d5t.liveSyncDuration||d5t.liveSyncDuration===undefined)){throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');}Object(X6n["a"])(d5t.debug);this.config=d5t;this._autoLevelCapping=-1;var v5t=this.observer=new J6n.a();v5t.trigger=function u0b(D0b){for(var h0b=arguments.length,f0b=Array(h0b>1?h0b-1:0),X0b=1;X0b<h0b;X0b++){f0b[X0b-1]=arguments[X0b];}v5t.emit.apply(v5t,[D0b,D0b].concat(f0b));};v5t.off=function C0b(F0b){for(var Y0b=arguments.length,c0b=Array(Y0b>1?Y0b-1:0),w0b=1;w0b<Y0b;w0b++){c0b[w0b-1]=arguments[w0b];}v5t.removeListener.apply(v5t,[F0b].concat(c0b));};this.on=v5t.on.bind(v5t);this.off=v5t.off.bind(v5t);this.once=v5t.once.bind(v5t);this.trigger=v5t.trigger.bind(v5t);var k5t=this.abrController=new d5t.abrController(this);var i5t=new d5t.bufferController(this);var I5t=new d5t.capLevelController(this);var E5t=new d5t.fpsController(this);var y5t=new w2n(this);var r5t=new p7n(this);var J5t=new B7n(this);var A5t=new v9n(this);var j5t=this.levelController=new z2n(this);var Z5t=new z7n(this);var Q5t=this.streamController=new v2n(this,Z5t);var W5t=[j5t,Q5t];var V5t=d5t.audioStreamController;if(V5t){W5t.push(new V5t(this,Z5t));}this.networkControllers=W5t;var p5t=[y5t,r5t,J5t,k5t,i5t,I5t,E5t,A5t,Z5t];V5t=d5t.audioTrackController;if(V5t){var e5t=new V5t(this);this.audioTrackController=e5t;p5t.push(e5t);}V5t=d5t.subtitleTrackController;if(V5t){var n5t=new V5t(this);this.subtitleTrackController=n5t;p5t.push(n5t);}V5t=d5t.emeController;if(V5t){var S5t=new V5t(this);this.emeController=S5t;p5t.push(S5t);}[d5t.subtitleStreamController,d5t.timelineController].forEach(function(R0b){if(R0b){p5t.push(new R0b(s5t));}});this.coreComponents=p5t;}b5t.isSupported=function g5t(){return D8n();};C2n(b5t,null,[{key:'version',get:function P5t(){return"0.11.0";}},{key:'Events',get:function M5t(){return h6n["a"];}},{key:'ErrorTypes',get:function L5t(){return f6n["b"];}},{key:'ErrorDetails',get:function x5t(){return f6n["a"];}},{key:'DefaultConfig',get:function O5t(){if(!b5t.defaultConfig){return q6n;}return b5t.defaultConfig;},set:function H5t(T5t){b5t.defaultConfig=T5t;}}]);b5t.prototype.destroy=function U0b(){X6n["b"].log('destroy');this.trigger(h6n["a"].DESTROYING);this.detachMedia();this.coreComponents.concat(this.networkControllers).forEach(function(q0b){q0b.destroy();});this.url=null;this.observer.removeAllListeners();this._autoLevelCapping=-1;};b5t.prototype.attachMedia=function o0b(t0b){X6n["b"].log('attachMedia');this.media=t0b;this.trigger(h6n["a"].MEDIA_ATTACHING,{media:t0b});};b5t.prototype.detachMedia=function l0b(){X6n["b"].log('detachMedia');this.trigger(h6n["a"].MEDIA_DETACHING);this.media=null;};b5t.prototype.loadSource=function G0b(m0b){m0b=x6n.a.buildAbsoluteURL(window.location.href,m0b,{alwaysNormalize:true});X6n["b"].log('loadSource:'+m0b);this.url=m0b;this.trigger(h6n["a"].MANIFEST_LOADING,{url:m0b});};b5t.prototype.startLoad=function K0b(){var N0b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;X6n["b"].log('startLoad('+N0b+')');this.networkControllers.forEach(function(a0b){a0b.startLoad(N0b);});};b5t.prototype.stopLoad=function b0b(){X6n["b"].log('stopLoad');this.networkControllers.forEach(function(g0b){g0b.stopLoad();});};b5t.prototype.swapAudioCodec=function P0b(){X6n["b"].log('swapAudioCodec');this.streamController.swapAudioCodec();};b5t.prototype.recoverMediaError=function M0b(){X6n["b"].log('recoverMediaError');var L0b=this.media;this.detachMedia();this.attachMedia(L0b);};C2n(b5t,[{key:'levels',get:function x0b(){return this.levelController.levels;}},{key:'currentLevel',get:function O0b(){return this.streamController.currentLevel;},set:function H0b(T0b){X6n["b"].log('set currentLevel:'+T0b);this.loadLevel=T0b;this.streamController.immediateLevelSwitch();}},{key:'nextLevel',get:function d0b(){return this.streamController.nextLevel;},set:function v0b(V0b){X6n["b"].log('set nextLevel:'+V0b);this.levelController.manualLevel=V0b;this.streamController.nextLevelSwitch();}},{key:'loadLevel',get:function p0b(){return this.levelController.level;},set:function Z0b(B0b){X6n["b"].log('set loadLevel:'+B0b);this.levelController.manualLevel=B0b;}},{key:'nextLoadLevel',get:function W0b(){return this.levelController.nextLoadLevel;},set:function z0b(S0b){this.levelController.nextLoadLevel=S0b;}},{key:'firstLevel',get:function e0b(){return Math.max(this.levelController.firstLevel,this.minAutoLevel);},set:function n0b(s0b){X6n["b"].log('set firstLevel:'+s0b);this.levelController.firstLevel=s0b;}},{key:'startLevel',get:function J0b(){return this.levelController.startLevel;},set:function A0b(j0b){X6n["b"].log('set startLevel:'+j0b);var Q0b=this;if(j0b!==-1){j0b=Math.max(j0b,Q0b.minAutoLevel);}Q0b.levelController.startLevel=j0b;}},{key:'autoLevelCapping',get:function k0b(){return this._autoLevelCapping;},set:function i0b(I0b){X6n["b"].log('set autoLevelCapping:'+I0b);this._autoLevelCapping=I0b;}},{key:'autoLevelEnabled',get:function E0b(){return this.levelController.manualLevel===-1;}},{key:'manualLevel',get:function y0b(){return this.levelController.manualLevel;}},{key:'minAutoLevel',get:function r0b(){var h1b=this,X1b=h1b.levels,f1b=h1b.config.minAutoBitrate,D1b=X1b?X1b.length:0;for(var u1b=0;u1b<D1b;u1b++){var C1b=X1b[u1b].realBitrate?Math.max(X1b[u1b].realBitrate,X1b[u1b].bitrate):X1b[u1b].bitrate;if(C1b>f1b){return u1b;}}return 0;}},{key:'maxAutoLevel',get:function w1b(){var F1b=this;var Y1b=F1b.levels;var R1b=F1b.autoLevelCapping;var c1b=void 0;if(R1b===-1&&Y1b&&Y1b.length){c1b=Y1b.length-1;}else{c1b=R1b;}return c1b;}},{key:'nextAutoLevel',get:function U1b(){var q1b=this;return Math.min(Math.max(q1b.abrController.nextAutoLevel,q1b.minAutoLevel),q1b.maxAutoLevel);},set:function o1b(l1b){var t1b=this;t1b.abrController.nextAutoLevel=Math.max(t1b.minAutoLevel,l1b);}},{key:'audioTracks',get:function G1b(){var m1b=this.audioTrackController;return m1b?m1b.audioTracks:[];}},{key:'audioTrack',get:function K1b(){var N1b=this.audioTrackController;return N1b?N1b.audioTrack:-1;},set:function a1b(g1b){var b1b=this.audioTrackController;if(b1b){b1b.audioTrack=g1b;}}},{key:'liveSyncPosition',get:function P1b(){return this.streamController.liveSyncPosition;}},{key:'subtitleTracks',get:function M1b(){var L1b=this.subtitleTrackController;return L1b?L1b.subtitleTracks:[];}},{key:'subtitleTrack',get:function x1b(){var O1b=this.subtitleTrackController;return O1b?O1b.subtitleTrack:-1;},set:function H1b(d1b){var T1b=this.subtitleTrackController;if(T1b){T1b.subtitleTrack=d1b;}}},{key:'subtitleDisplay',get:function v1b(){var V1b=this.subtitleTrackController;return V1b?V1b.subtitleDisplay:false;},set:function p1b(B1b){var Z1b=this.subtitleTrackController;if(Z1b){Z1b.subtitleDisplay=B1b;}}}]);return b5t;}();var x8n=J2n["default"]=s2n;function v8n(i4t,I4t){return i4t&&i4t.label===I4t.name&&!(i4t.textTrack1||i4t.textTrack2);}},function(s1b,Q1b,S1b){var W1b='[\\.|\\-|\\+|\\w|\/|@]+';function j1b(N4b,a4b,G4b){var o4b={};o4b[G4b]=[];var t4b=a4b.toString();var m4b=t4b.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!m4b)return o4b;var K4b=m4b[1];var l4b=new RegExp('(\\\\n|\\W)'+n1b(K4b)+z1b,'g');var q4b;while(q4b=l4b.exec(t4b)){if(q4b[3]==='dll-reference')continue;o4b[G4b].push(q4b[3]);}l4b=new RegExp('\\('+n1b(K4b)+'\\("(dll-reference\\s('+W1b+'))"\\)\\)'+z1b,'g');while(q4b=l4b.exec(t4b)){if(!N4b[q4b[2]]){o4b[G4b].push(q4b[1]);N4b[q4b[2]]=S1b(q4b[1]).m;}o4b[q4b[2]]=o4b[q4b[2]]||[];o4b[q4b[2]].push(q4b[4]);}return o4b;}function n1b(U4b){return(U4b+'').replace(/[.?*+^$[\]\\(){}|-]/g,'\\$&');}function J1b(p4b,z4b){var O4b={main:[z4b]};var d4b={main:[]};var v4b={main:{}};while(A1b(O4b)){var Z4b=Object.keys(O4b);for(var V4b=0;V4b<Z4b.length;V4b++){var L4b=Z4b[V4b];var W4b=O4b[L4b];var T4b=W4b.pop();v4b[L4b]=v4b[L4b]||{};if(v4b[L4b][T4b]||!p4b[L4b][T4b])continue;v4b[L4b][T4b]=true;d4b[L4b]=d4b[L4b]||[];d4b[L4b].push(T4b);var B4b=j1b(p4b,p4b[L4b][T4b],L4b);var H4b=Object.keys(B4b);for(var x4b=0;x4b<H4b.length;x4b++){O4b[H4b[x4b]]=O4b[H4b[x4b]]||[];O4b[H4b[x4b]]=O4b[H4b[x4b]].concat(B4b[H4b[x4b]]);}}}return d4b;}function A1b(b4b){var g4b=Object.keys(b4b);return g4b.reduce(function(P4b,M4b){return P4b||b4b[M4b].length>0;},false);}var z1b='\\((\/\\*.*?\\*\/)?\s?.*?('+W1b+').*?\\)';function e1b(E1b){var i1b={};k1b.m=E1b;function k1b(r1b){if(i1b[r1b])return i1b[r1b].exports;var y1b=i1b[r1b]={i:r1b,l:false,exports:{}};E1b[r1b].call(y1b.exports,y1b,y1b.exports,k1b);y1b.l=true;return y1b.exports;}k1b.c=i1b;k1b.i=function(u4b){return u4b;};k1b.d=function(X4b,h4b,f4b){if(!k1b.o(X4b,h4b)){Object.defineProperty(X4b,h4b,{configurable:false,enumerable:true,get:f4b});}};k1b.n=function(D4b){var C4b=D4b&&D4b.__esModule?function w4b(){return D4b['default'];}:function Y4b(){return D4b;};k1b.d(C4b,'a',C4b);return C4b;};k1b.o=function(c4b,F4b){return Object.prototype.hasOwnProperty.call(c4b,F4b);};k1b.p="/";k1b.oe=function(R4b){console.error(R4b);throw R4b;};var I1b=k1b(k1b.s=ENTRY_MODULE);return I1b.default||I1b;}s1b.exports=function(Q4b,s4b){s4b=s4b||{};var S4b={main:S1b.m};var e4b=s4b.all?{main:Object.keys(S4b)}:J1b(S4b,Q4b);var n4b='';Object.keys(e4b).filter(function(i4b){return i4b!=='main';}).forEach(function(I4b){var E4b=0;while(e4b[I4b][E4b]){E4b++;}e4b[I4b].push(E4b);S4b[I4b][E4b]='(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })';n4b=n4b+'var '+I4b+' = ('+e1b.toString().replace('ENTRY_MODULE',JSON.stringify(E4b))+')({'+e4b[I4b].map(function(y4b){return''+JSON.stringify(y4b)+': '+S4b[I4b][y4b].toString();}).join(',')+'});\n';});n4b=n4b+'('+e1b.toString().replace('ENTRY_MODULE',JSON.stringify(Q4b))+')({'+e4b.main.map(function(r4b){return''+JSON.stringify(r4b)+': '+S4b.main[r4b].toString();}).join(',')+'})(self);';var J4b=new window.Blob([n4b],{type:'text/javascript'});if(s4b.bare){return J4b;}var k4b=window.URL||window.webkitURL||window.mozURL||window.msURL;var A4b=k4b.createObjectURL(J4b);var j4b=new window.Worker(A4b);j4b.objectURL=A4b;return j4b;};},function(c6b,h6b,X6b){"use strict";Object.defineProperty(h6b,"__esModule",{value:true});var f6b=X6b(10);var u6b=X6b(1);var D6b=X6b(0);var C6b=X6b(7);var w6b=X6b.n(C6b);var Y6b=function F6b(q6b){var R6b=new w6b.a();R6b.trigger=function o6b(m6b){for(var l6b=arguments.length,G6b=Array(l6b>1?l6b-1:0),t6b=1;t6b<l6b;t6b++){G6b[t6b-1]=arguments[t6b];}R6b.emit.apply(R6b,[m6b,m6b].concat(G6b));};R6b.off=function K6b(g6b){for(var a6b=arguments.length,b6b=Array(a6b>1?a6b-1:0),N6b=1;N6b<a6b;N6b++){b6b[N6b-1]=arguments[N6b];}R6b.removeListener.apply(R6b,[g6b].concat(b6b));};var U6b=function P6b(M6b,L6b){q6b.postMessage({event:M6b,data:L6b});};q6b.addEventListener('message',function(H6b){var x6b=H6b.data;switch(x6b.cmd){case'init':var O6b=JSON.parse(x6b.config);q6b.demuxer=new f6b["a"](R6b,x6b.typeSupported,O6b,x6b.vendor);try{Object(D6b["a"])(O6b.debug===true);}catch(T6b){console.warn('demuxerWorker: unable to enable logs');}U6b('init',null);break;case'demux':q6b.demuxer.push(x6b.data,x6b.decryptdata,x6b.initSegment,x6b.audioCodec,x6b.videoCodec,x6b.timeOffset,x6b.discontinuity,x6b.trackSwitch,x6b.contiguous,x6b.duration,x6b.accurateTimeOffset,x6b.defaultInitPTS);break;default:break;}});R6b.on(u6b["a"].FRAG_DECRYPTED,U6b);R6b.on(u6b["a"].FRAG_PARSING_INIT_SEGMENT,U6b);R6b.on(u6b["a"].FRAG_PARSED,U6b);R6b.on(u6b["a"].ERROR,U6b);R6b.on(u6b["a"].FRAG_PARSING_METADATA,U6b);R6b.on(u6b["a"].FRAG_PARSING_USERDATA,U6b);R6b.on(u6b["a"].INIT_PTS_FOUND,U6b);R6b.on(u6b["a"].FRAG_PARSING_DATA,function(p6b,d6b){var v6b=[];var V6b={event:p6b,data:d6b};if(d6b.data1){V6b.data1=d6b.data1.buffer;v6b.push(d6b.data1.buffer);delete d6b.data1;}if(d6b.data2){V6b.data2=d6b.data2.buffer;v6b.push(d6b.data2.buffer);delete d6b.data2;}q6b.postMessage(V6b,v6b);});};h6b["default"]=Y6b;},function(Z6b,B6b){if(!String.prototype.endsWith){(function(){'use strict';var W6b=function(){try{var e6b={};var n6b=Object.defineProperty;var s6b=n6b(e6b,e6b,e6b)&&n6b;}catch(J6b){}return s6b;}();var S6b={}.toString;var z6b=function(I6b){if(this==null){throw TypeError();}var y6b=String(this);if(I6b&&S6b.call(I6b)=='[object RegExp]'){throw TypeError();}var k6b=y6b.length;var i6b=String(I6b);var E6b=i6b.length;var A6b=k6b;if(arguments.length>1){var Q6b=arguments[1];if(Q6b!==undefined){A6b=Q6b?Number(Q6b):0;if(A6b!=A6b){A6b=0;}}}var u2b=Math.min(Math.max(A6b,0),k6b);var r6b=u2b-E6b;if(r6b<0){return false;}var j6b=-1;while(++j6b<E6b){if(y6b.charCodeAt(r6b+j6b)!=i6b.charCodeAt(j6b)){return false;}}return true;};if(W6b){W6b(String.prototype,'endsWith',{'value':z6b,'configurable':true,'writable':true});}else{String.prototype.endsWith=z6b;}}());}}])["default"];});},function(h2b,X2b,f2b){(function(D2b){var C2b;;(function(Y2b,w2b){if(true){!(C2b=function(){return Y2b.is=w2b();}.call(X2b,f2b,X2b,h2b),C2b!==undefined&&(h2b.exports=C2b));}else if(typeof X2b==='object'){h2b.exports=w2b();}else{Y2b.is=w2b();}}(this,function(){var c2b={};c2b.VERSION='0.8.0';c2b.not={};c2b.all={};c2b.any={};var R2b=Object.prototype.toString;var b2b=Array.prototype.slice;var m2b=Object.prototype.hasOwnProperty;var l2b={'<':function(A2b,j2b){return A2b<j2b;},'<=':function(Q2b,k2b){return Q2b<=k2b;},'>':function(i2b,I2b){return i2b>I2b;},'>=':function(E2b,y2b){return E2b>=y2b;}};c2b.arguments=function(Y7b){return R2b.call(Y7b)==='[object Arguments]'||Y7b!=null&&typeof Y7b==='object'&&'callee'in Y7b;};c2b.array=Array.isArray||function(c7b){return R2b.call(c7b)==='[object Array]';};c2b.boolean=function(F7b){return F7b===true||F7b===false||R2b.call(F7b)==='[object Boolean]';};c2b.char=function(R7b){return c2b.string(R7b)&&R7b.length===1;};c2b.date=function(U7b){return R2b.call(U7b)==='[object Date]';};c2b.domNode=function(q7b){return c2b.object(q7b)&&q7b.nodeType>0;};c2b.error=function(o7b){return R2b.call(o7b)==='[object Error]';};c2b['function']=function(t7b){return R2b.call(t7b)==='[object Function]'||typeof t7b==='function';};c2b.json=function(l7b){return R2b.call(l7b)==='[object Object]';};c2b.nan=function(G7b){return G7b!==G7b;};c2b['null']=function(m7b){return m7b===null;};c2b.number=function(K7b){return c2b.not.nan(K7b)&&R2b.call(K7b)==='[object Number]';};c2b.object=function(N7b){return Object(N7b)===N7b;};c2b.regexp=function(a7b){return R2b.call(a7b)==='[object RegExp]';};c2b.sameType=function(b7b,g7b){var P7b=R2b.call(b7b);if(P7b!==R2b.call(g7b)){return false;}if(P7b==='[object Number]'){return!c2b.any.nan(b7b,g7b)||c2b.all.nan(b7b,g7b);}return true;};c2b.sameType.api=['not'];c2b.string=function(M7b){return R2b.call(M7b)==='[object String]';};c2b.undefined=function(L7b){return L7b===void 0;};c2b.windowObject=function(x7b){return x7b!=null&&typeof x7b==='object'&&'setInterval'in x7b;};c2b.empty=function(O7b){if(c2b.object(O7b)){var H7b=Object.getOwnPropertyNames(O7b).length;if(H7b===0||H7b===1&&c2b.array(O7b)||H7b===2&&c2b.arguments(O7b)){return true;}return false;}return O7b==='';};c2b.existy=function(T7b){return T7b!=null;};c2b.falsy=function(d7b){return!d7b;};c2b.truthy=G2b(c2b.falsy);c2b.above=function(v7b,V7b){return c2b.all.number(v7b,V7b)&&v7b>V7b;};c2b.above.api=['not'];c2b.decimal=function(p7b){return c2b.number(p7b)&&p7b%1!==0;};c2b.equal=function(Z7b,B7b){if(c2b.all.number(Z7b,B7b)){return Z7b===B7b&&1/Z7b===1/B7b;}if(c2b.all.string(Z7b,B7b)||c2b.all.regexp(Z7b,B7b)){return''+Z7b===''+B7b;}if(c2b.all.boolean(Z7b,B7b)){return Z7b===B7b;}return false;};c2b.equal.api=['not'];c2b.even=function(W7b){return c2b.number(W7b)&&W7b%2===0;};c2b.finite=isFinite||function(z7b){return c2b.not.infinite(z7b)&&c2b.not.nan(z7b);};c2b.infinite=function(S7b){return S7b===Infinity||S7b===-Infinity;};function G2b(Z2b){return function(){return!Z2b.apply(null,b2b.call(arguments));};}c2b.integer=function(e7b){return c2b.number(e7b)&&e7b%1===0;};c2b.negative=function(n7b){return c2b.number(n7b)&&n7b<0;};c2b.odd=function(s7b){return c2b.number(s7b)&&s7b%2===1;};c2b.positive=function(J7b){return c2b.number(J7b)&&J7b>0;};c2b.under=function(A7b,j7b){return c2b.all.number(A7b,j7b)&&A7b<j7b;};c2b.under.api=['not'];c2b.within=function(Q7b,k7b,i7b){return c2b.all.number(Q7b,k7b,i7b)&&Q7b>k7b&&Q7b<i7b;};c2b.within.api=['not'];var t2b={affirmative:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/,alphaNumeric:/^[A-Za-z0-9]+$/,caPostalCode:/^(?!.*[DFIOQU])[A-VXY][0-9][A-Z]\s?[0-9][A-Z][0-9]$/,creditCard:/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/,dateString:/^(1[0-2]|0?[1-9])([\/-])(3[01]|[12][0-9]|0?[1-9])(?:\2)(?:[0-9]{2})?[0-9]{2}$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,eppPhone:/^\+[0-9]{1,3}\.[0-9]{4,14}(?:x.+)?$/,hexadecimal:/^(?:0x)?[0-9a-fA-F]+$/,hexColor:/^#?([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/,ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv6:/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,nanpPhone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,socialSecurityNumber:/^(?!000|666)[0-8][0-9]{2}-?(?!00)[0-9]{2}-?(?!0000)[0-9]{4}$/,timeString:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,ukPostCode:/^[A-Z]{1,2}[0-9RCHNQ][0-9A-Z]?\s?[0-9][ABD-HJLNP-UW-Z]{2}$|^[A-Z]{2}-?[0-9]{4}$/,url:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,usZipCode:/^[0-9]{5}(?:-[0-9]{4})?$/};for(var g2b in t2b){if(t2b.hasOwnProperty(g2b)){V2b(g2b,t2b);}}c2b.ip=function(r7b){return c2b.ipv4(r7b)||c2b.ipv6(r7b);};c2b.capitalized=function(D9b){if(c2b.not.string(D9b)){return false;}var X9b=D9b.split(' ');for(var u9b=0;u9b<X9b.length;u9b++){var h9b=X9b[u9b];if(h9b.length){var f9b=h9b.charAt(0);if(f9b!==f9b.toUpperCase()){return false;}}}return true;};c2b.endWith=function(w9b,Y9b){if(c2b.not.string(w9b)){return false;}Y9b+='';var C9b=w9b.length-Y9b.length;return C9b>=0&&w9b.indexOf(Y9b,C9b)===C9b;};c2b.endWith.api=['not'];c2b.include=function(c9b,F9b){return c9b.indexOf(F9b)>-1;};c2b.include.api=['not'];c2b.lowerCase=function(R9b){return c2b.string(R9b)&&R9b===R9b.toLowerCase();};c2b.palindrome=function(U9b){if(c2b.not.string(U9b)){return false;}U9b=U9b.replace(/[^a-zA-Z0-9]+/g,'').toLowerCase();var o9b=U9b.length-1;for(var q9b=0,t9b=Math.floor(o9b/2);q9b<=t9b;q9b++){if(U9b.charAt(q9b)!==U9b.charAt(o9b-q9b)){return false;}}return true;};c2b.space=function(G9b){if(c2b.not.char(G9b)){return false;}var l9b=G9b.charCodeAt(0);return l9b>8&&l9b<14||l9b===32;};c2b.startWith=function(m9b,K9b){return c2b.string(m9b)&&m9b.indexOf(K9b)===0;};c2b.startWith.api=['not'];c2b.upperCase=function(N9b){return c2b.string(N9b)&&N9b===N9b.toUpperCase();};var P2b=['sunday','monday','tuesday','wednesday','thursday','friday','saturday'];function O2b(w7b){var D7b=b2b.call(w7b);var C7b=D7b.length;if(C7b===1&&c2b.array(D7b[0])){D7b=D7b[0];}return D7b;}var T2b=['january','february','march','april','may','june','july','august','september','october','november','december'];c2b.day=function(a9b,b9b){return c2b.date(a9b)&&b9b.toLowerCase()===P2b[a9b.getDay()];};c2b.day.api=['not'];function v2b(){var n8b=c2b;for(var S8b in n8b){if(m2b.call(n8b,S8b)&&c2b['function'](n8b[S8b])){var s8b=n8b[S8b].api||['not','all','any'];for(var e8b=0;e8b<s8b.length;e8b++){if(s8b[e8b]==='not'){c2b.not[S8b]=G2b(c2b[S8b]);}if(s8b[e8b]==='all'){c2b.all[S8b]=p2b(c2b[S8b]);}if(s8b[e8b]==='any'){c2b.any[S8b]=d2b(c2b[S8b]);}}}}}c2b.dayLightSavingTime=function(g9b){var P9b=new Date(g9b.getFullYear(),0,1);var M9b=new Date(g9b.getFullYear(),6,1);var L9b=Math.max(P9b.getTimezoneOffset(),M9b.getTimezoneOffset());return g9b.getTimezoneOffset()<L9b;};c2b.future=function(x9b){var O9b=new Date();return c2b.date(x9b)&&x9b.getTime()>O9b.getTime();};c2b.inDateRange=function(T9b,d9b,v9b){if(c2b.not.date(T9b)||c2b.not.date(d9b)||c2b.not.date(v9b)){return false;}var H9b=T9b.getTime();return H9b>d9b.getTime()&&H9b<v9b.getTime();};c2b.inDateRange.api=['not'];c2b.inLastMonth=function(V9b){return c2b.inDateRange(V9b,new Date(new Date().setMonth(new Date().getMonth()-1)),new Date());};c2b.inLastWeek=function(p9b){return c2b.inDateRange(p9b,new Date(new Date().setDate(new Date().getDate()-7)),new Date());};c2b.inLastYear=function(Z9b){return c2b.inDateRange(Z9b,new Date(new Date().setFullYear(new Date().getFullYear()-1)),new Date());};c2b.inNextMonth=function(B9b){return c2b.inDateRange(B9b,new Date(),new Date(new Date().setMonth(new Date().getMonth()+1)));};function U2b(h7b,f7b){var u7b=f7b+'';var r2b=+(u7b.match(/\d+/)||NaN);var X7b=u7b.match(/^[<>]=?|/)[0];return l2b[X7b]?l2b[X7b](h7b,r2b):h7b==r2b||r2b!==r2b;}c2b.inNextWeek=function(W9b){return c2b.inDateRange(W9b,new Date(),new Date(new Date().setDate(new Date().getDate()+7)));};c2b.inNextYear=function(z9b){return c2b.inDateRange(z9b,new Date(),new Date(new Date().setFullYear(new Date().getFullYear()+1)));};c2b.leapYear=function(S9b){return c2b.number(S9b)&&(S9b%4===0&&S9b%100!==0||S9b%400===0);};c2b.month=function(e9b,n9b){return c2b.date(e9b)&&n9b.toLowerCase()===T2b[e9b.getMonth()];};c2b.month.api=['not'];c2b.past=function(s9b){var J9b=new Date();return c2b.date(s9b)&&s9b.getTime()<J9b.getTime();};c2b.quarterOfYear=function(A9b,j9b){return c2b.date(A9b)&&c2b.number(j9b)&&j9b===Math.floor((A9b.getMonth()+3)/3);};c2b.quarterOfYear.api=['not'];c2b.today=function(Q9b){var k9b=new Date();var i9b=k9b.toDateString();return c2b.date(Q9b)&&Q9b.toDateString()===i9b;};c2b.tomorrow=function(E9b){var I9b=new Date();var y9b=new Date(I9b.setDate(I9b.getDate()+1)).toDateString();return c2b.date(E9b)&&E9b.toDateString()===y9b;};c2b.weekend=function(r9b){return c2b.date(r9b)&&(r9b.getDay()===6||r9b.getDay()===0);};c2b.weekday=G2b(c2b.weekend);c2b.year=function(u8b,X8b){return c2b.date(u8b)&&c2b.number(X8b)&&X8b===u8b.getFullYear();};c2b.year.api=['not'];function V2b(I7b,E7b){c2b[I7b]=function(y7b){return E7b[I7b].test(y7b);};}c2b.yesterday=function(f8b){var h8b=new Date();var D8b=new Date(h8b.setDate(h8b.getDate()-1)).toDateString();return c2b.date(f8b)&&f8b.toDateString()===D8b;};var x2b=c2b.windowObject(typeof D2b=='object'&&D2b)&&D2b;var o2b=c2b.windowObject(typeof self=='object'&&self)&&self;var H2b=c2b.windowObject(typeof this=='object'&&this)&&this;var a2b=x2b||o2b||H2b||Function("return this;")();var N2b=o2b&&o2b.document;function p2b(B2b){return function(){var z2b=O2b(arguments);var S2b=z2b.length;for(var W2b=0;W2b<S2b;W2b++){if(!B2b.call(null,z2b[W2b])){return false;}}return true;};}var L2b=a2b.is;var q2b=o2b&&o2b.navigator;var K2b=(q2b&&q2b.appVersion||'').toLowerCase();var F2b=(q2b&&q2b.userAgent||'').toLowerCase();var M2b=(q2b&&q2b.vendor||'').toLowerCase();c2b.android=function(){return/android/.test(F2b);};c2b.android.api=['not'];c2b.androidPhone=function(){return/android/.test(F2b)&&/mobile/.test(F2b);};c2b.androidPhone.api=['not'];c2b.androidTablet=function(){return/android/.test(F2b)&&!/mobile/.test(F2b);};c2b.androidTablet.api=['not'];c2b.blackberry=function(){return/blackberry/.test(F2b)||/bb10/.test(F2b);};c2b.blackberry.api=['not'];c2b.chrome=function(w8b){var C8b=/google inc/.test(M2b)?F2b.match(/(?:chrome|crios)\/(\d+)/):null;return C8b!==null&&U2b(C8b[1],w8b);};c2b.chrome.api=['not'];c2b.desktop=function(){return c2b.not.mobile()&&c2b.not.tablet();};c2b.desktop.api=['not'];c2b.edge=function(c8b){var Y8b=F2b.match(/edge\/(\d+)/);return Y8b!==null&&U2b(Y8b[1],c8b);};c2b.edge.api=['not'];c2b.firefox=function(R8b){var F8b=F2b.match(/(?:firefox|fxios)\/(\d+)/);return F8b!==null&&U2b(F8b[1],R8b);};c2b.firefox.api=['not'];c2b.ie=function(q8b){var U8b=F2b.match(/(?:msie |trident.+?; rv:)(\d+)/);return U8b!==null&&U2b(U8b[1],q8b);};c2b.ie.api=['not'];c2b.ios=function(){return c2b.iphone()||c2b.ipad()||c2b.ipod();};c2b.ios.api=['not'];c2b.ipad=function(t8b){var o8b=F2b.match(/ipad.+?os (\d+)/);return o8b!==null&&U2b(o8b[1],t8b);};c2b.ipad.api=['not'];c2b.iphone=function(G8b){var l8b=F2b.match(/iphone(?:.+?os (\d+))?/);return l8b!==null&&U2b(l8b[1]||1,G8b);};c2b.iphone.api=['not'];c2b.ipod=function(K8b){var m8b=F2b.match(/ipod.+?os (\d+)/);return m8b!==null&&U2b(m8b[1],K8b);};c2b.ipod.api=['not'];c2b.linux=function(){return/linux/.test(K2b);};c2b.linux.api=['not'];c2b.mac=function(){return/mac/.test(K2b);};c2b.mac.api=['not'];c2b.mobile=function(){return c2b.iphone()||c2b.ipod()||c2b.androidPhone()||c2b.blackberry()||c2b.windowsPhone();};c2b.mobile.api=['not'];c2b.offline=G2b(c2b.online);c2b.offline.api=['not'];c2b.online=function(){return!q2b||q2b.onLine===true;};c2b.online.api=['not'];c2b.opera=function(a8b){var N8b=F2b.match(/(?:^opera.+?version|opr)\/(\d+)/);return N8b!==null&&U2b(N8b[1],a8b);};c2b.opera.api=['not'];c2b.phantom=function(g8b){var b8b=F2b.match(/phantomjs\/(\d+)/);return b8b!==null&&U2b(b8b[1],g8b);};c2b.phantom.api=['not'];c2b.safari=function(M8b){var P8b=F2b.match(/version\/(\d+).+?safari/);return P8b!==null&&U2b(P8b[1],M8b);};c2b.safari.api=['not'];c2b.tablet=function(){return c2b.ipad()||c2b.androidTablet()||c2b.windowsTablet();};c2b.tablet.api=['not'];c2b.touchDevice=function(){return!!N2b&&('ontouchstart'in o2b||'DocumentTouch'in o2b&&N2b instanceof DocumentTouch);};c2b.touchDevice.api=['not'];c2b.windows=function(){return/win/.test(K2b);};c2b.windows.api=['not'];c2b.windowsPhone=function(){return c2b.windows()&&/phone/.test(F2b);};c2b.windowsPhone.api=['not'];c2b.windowsTablet=function(){return c2b.windows()&&c2b.not.windowsPhone()&&/touch/.test(F2b);};c2b.windowsTablet.api=['not'];c2b.propertyCount=function(L8b,x8b){if(c2b.not.object(L8b)||c2b.not.number(x8b)){return false;}var O8b=0;for(var H8b in L8b){if(m2b.call(L8b,H8b)&&++O8b>x8b){return false;}}return O8b===x8b;};c2b.propertyCount.api=['not'];c2b.propertyDefined=function(T8b,d8b){return c2b.object(T8b)&&c2b.string(d8b)&&d8b in T8b;};c2b.propertyDefined.api=['not'];c2b.inArray=function(p8b,V8b){if(c2b.not.array(V8b)){return false;}for(var v8b=0;v8b<V8b.length;v8b++){if(V8b[v8b]===p8b){return true;}}return false;};c2b.inArray.api=['not'];c2b.sorted=function(B8b,z8b){if(c2b.not.array(B8b)){return false;}var W8b=l2b[z8b]||l2b['>='];for(var Z8b=1;Z8b<B8b.length;Z8b++){if(!W8b(B8b[Z8b],B8b[Z8b-1])){return false;}}return true;};function d2b(e2b){return function(){var s2b=O2b(arguments);var J2b=s2b.length;for(var n2b=0;n2b<J2b;n2b++){if(e2b.call(null,s2b[n2b])){return true;}}return false;};}v2b();c2b.setNamespace=function(){a2b.is=L2b;return this;};c2b.setRegexp=function(A8b,j8b){for(var J8b in t2b){if(m2b.call(t2b,J8b)&&j8b===J8b){t2b[J8b]=A8b;}}};return c2b;}));}.call(X2b,f2b(0)));},function(k8b,Q8b,i8b){!function(E8b,I8b){true?k8b.exports=I8b():"function"==typeof define&&define.amd?define([],I8b):"object"==typeof Q8b?Q8b.TopUi=I8b():E8b.TopUi=I8b();}(window,function(){return function(u3b){function y8b(h3b){if(r8b[h3b])return r8b[h3b].exports;var X3b=r8b[h3b]={i:h3b,l:!1,exports:{}};return u3b[h3b].call(X3b.exports,X3b,X3b.exports,y8b),X3b.l=!0,X3b.exports;}var r8b={};return y8b.m=u3b,y8b.c=r8b,y8b.d=function(f3b,D3b,C3b){y8b.o(f3b,D3b)||Object.defineProperty(f3b,D3b,{enumerable:!0,get:C3b});},y8b.r=function(w3b){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w3b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w3b,"__esModule",{value:!0});},y8b.t=function(Y3b,F3b){if(1&F3b&&(Y3b=y8b(Y3b)),8&F3b)return Y3b;if(4&F3b&&"object"==typeof Y3b&&Y3b&&Y3b.__esModule)return Y3b;var c3b=Object.create(null);if(y8b.r(c3b),Object.defineProperty(c3b,"default",{enumerable:!0,value:Y3b}),2&F3b&&"string"!=typeof Y3b)for(var R3b in Y3b)y8b.d(c3b,R3b,function(U3b){return Y3b[U3b];}.bind(null,R3b));return c3b;},y8b.n=function(q3b){var o3b=q3b&&q3b.__esModule?function(){return q3b.default;}:function(){return q3b;};return y8b.d(o3b,"a",o3b),o3b;},y8b.o=function(t3b,l3b){return Object.prototype.hasOwnProperty.call(t3b,l3b);},y8b.p="",y8b(y8b.s=242);}([function(u5b,m3b,a3b){"use strict";a3b.r(m3b),a3b.d(m3b,"h",function(){return P3b;}),a3b.d(m3b,"createElement",function(){return P3b;}),a3b.d(m3b,"cloneElement",function(){return i3b;}),a3b.d(m3b,"Component",function(){return L3b;}),a3b.d(m3b,"render",function(){return E3b;}),a3b.d(m3b,"rerender",function(){return p3b;}),a3b.d(m3b,"options",function(){return G3b;});function W3b(z5b){return this._listeners[z5b.type](G3b.event&&G3b.event(z5b)||z5b);}var G3b={},b3b=[],Z3b=[];function J3b(k5b,I5b,Y0R,w0R,c0R){var i5b=k5b,C0R=K3b;if(null!=I5b&&"boolean"!=typeof I5b||(I5b=""),"string"==typeof I5b||"number"==typeof I5b)return k5b&&void 0!==k5b.splitText&&k5b.parentNode&&(!k5b._component||c0R)?k5b.nodeValue!=I5b&&(k5b.nodeValue=I5b):(i5b=document.createTextNode(I5b),k5b&&(k5b.parentNode&&k5b.parentNode.replaceChild(i5b,k5b),g3b(k5b,!0))),i5b.__preactattr_=!0,i5b;var X0R,D0R,y5b=I5b.nodeName;if("function"==typeof y5b)return function(R0R,t0R,K0R,G0R){var F0R=R0R&&R0R._component,l0R=F0R,U0R=R0R,m0R=F0R&&R0R._componentConstructor===t0R.nodeName,q0R=m0R,o0R=Q3b(t0R);for(;F0R&&!q0R&&(F0R=F0R._parentComponent);)q0R=F0R.constructor===t0R.nodeName;F0R&&q0R&&(!G0R||F0R._component)?(d3b(F0R,o0R,3,K0R,G0R),R0R=F0R.base):(l0R&&!m0R&&(O3b(l0R),R0R=U0R=null),F0R=k3b(t0R.nodeName,o0R,K0R),R0R&&!F0R.nextBase&&(F0R.nextBase=R0R,U0R=null),d3b(F0R,o0R,1,K0R,G0R),R0R=F0R.base,U0R&&R0R!==U0R&&(U0R._component=null,g3b(U0R,!1)));return R0R;}(k5b,I5b,Y0R,w0R);if(K3b="svg"===y5b||"foreignObject"!==y5b&&K3b,y5b=String(y5b),(!k5b||!A3b(k5b,y5b))&&(X0R=y5b,(D0R=K3b?document.createElementNS("http://www.w3.org/2000/svg",X0R):document.createElement(X0R)).normalizedNodeName=X0R,i5b=D0R,k5b)){for(;k5b.firstChild;)i5b.appendChild(k5b.firstChild);k5b.parentNode&&k5b.parentNode.replaceChild(i5b,k5b),g3b(k5b,!0);}var r5b=i5b.firstChild,u0R=i5b.__preactattr_,E5b=I5b.children;if(null==u0R){u0R=i5b.__preactattr_={};for(var f0R=i5b.attributes,h0R=f0R.length;h0R--;)u0R[f0R[h0R].name]=f0R[h0R].value;}return!M3b&&E5b&&1===E5b.length&&"string"==typeof E5b[0]&&null!=r5b&&void 0!==r5b.splitText&&null==r5b.nextSibling?r5b.nodeValue!=E5b[0]&&(r5b.nodeValue=E5b[0]):(E5b&&E5b.length||null!=r5b)&&function(Z0R,S0R,A0R,J0R,z0R){var M0R,n0R,H0R,W0R,a0R,V0R=Z0R.childNodes,x0R=[],g0R={},T0R=0,O0R=0,e0R=V0R.length,P0R=0,B0R=S0R?S0R.length:0;if(0!==e0R)for(var N0R=0;N0R<e0R;N0R++){var L0R=V0R[N0R],p0R=L0R.__preactattr_,b0R=B0R&&p0R?L0R._component?L0R._component.__key:p0R.key:null;null!=b0R?(T0R++,g0R[b0R]=L0R):(p0R||(void 0!==L0R.splitText?!z0R||L0R.nodeValue.trim():z0R))&&(x0R[P0R++]=L0R);}if(0!==B0R)for(var N0R=0;N0R<B0R;N0R++){W0R=S0R[N0R],a0R=null;var b0R=W0R.key;if(null!=b0R)T0R&&void 0!==g0R[b0R]&&(a0R=g0R[b0R],g0R[b0R]=void 0,T0R--);else if(!a0R&&O0R<P0R)for(M0R=O0R;M0R<P0R;M0R++)if(void 0!==x0R[M0R]&&(v0R=n0R=x0R[M0R],s0R=z0R,"string"==typeof(d0R=W0R)||"number"==typeof d0R?void 0!==v0R.splitText:"string"==typeof d0R.nodeName?!v0R._componentConstructor&&A3b(v0R,d0R.nodeName):s0R||v0R._componentConstructor===d0R.nodeName)){a0R=n0R,x0R[M0R]=void 0,M0R===P0R-1&&P0R--,M0R===O0R&&O0R++;break;}a0R=J3b(a0R,W0R,A0R,J0R),H0R=V0R[N0R],a0R&&a0R!==Z0R&&a0R!==H0R&&(null==H0R?Z0R.appendChild(a0R):a0R===H0R.nextSibling?V3b(H0R):Z0R.insertBefore(a0R,H0R));}var v0R,d0R,s0R;if(T0R)for(var N0R in g0R)void 0!==g0R[N0R]&&g3b(g0R[N0R],!1);for(;O0R<=P0R;)void 0!==(a0R=x0R[P0R--])&&g3b(a0R,!1);}(i5b,E5b,Y0R,w0R,M3b||null!=u0R.dangerouslySetInnerHTML),function(i0R,k0R,Q0R){var j0R;for(j0R in Q0R)k0R&&null!=k0R[j0R]||null==Q0R[j0R]||I3b(i0R,j0R,Q0R[j0R],Q0R[j0R]=void 0,K3b);for(j0R in k0R)"children"===j0R||"innerHTML"===j0R||j0R in Q0R&&k0R[j0R]===("value"===j0R||"checked"===j0R?i0R[j0R]:Q0R[j0R])||I3b(i0R,j0R,Q0R[j0R],Q0R[j0R]=k0R[j0R],K3b);}(i5b,I5b.attributes,u0R),K3b=C0R,i5b;}function L3b(Q1R,k1R){this._dirty=!0,this.context=k1R,this.props=Q1R,this.state=this.state||{};}function p3b(){var l5b,G5b=T3b;for(T3b=[];l5b=G5b.pop();)l5b._dirty&&v3b(l5b);}var e3b="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var y3b=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,T3b=[];function A3b(m5b,K5b){return m5b.normalizedNodeName===K5b||m5b.nodeName.toLowerCase()===K5b.toLowerCase();}var B3b=[],x3b=0,K3b=!1,M3b=!1;function k3b(X1R,C1R,w1R){var h1R,f1R=H3b[X1R.name];if(X1R.prototype&&X1R.prototype.render?(h1R=new X1R(C1R,w1R),L3b.call(h1R,C1R,w1R)):((h1R=new L3b(C1R,w1R)).constructor=X1R,h1R.render=r3b),f1R)for(var D1R=f1R.length;D1R--;)if(f1R[D1R].constructor===X1R){h1R.nextBase=f1R[D1R].nextBase,f1R.splice(D1R,1);break;}return h1R;}function S3b(t5b){!t5b._dirty&&(t5b._dirty=!0)&&1==T3b.push(t5b)&&(G3b.debounceRendering||e3b)(p3b);}function E3b(i1R,I1R,E1R){return s3b(E1R,i1R,{},!1,I1R,!1);}var H3b={};function N3b(R5b,U5b){for(var F5b in U5b)R5b[F5b]=U5b[F5b];return R5b;}function I3b(O5b,L5b,T5b,x5b,d5b){if("className"===L5b&&(L5b="class"),"key"===L5b);else if("ref"===L5b)T5b&&T5b(null),x5b&&x5b(O5b);else if("class"!==L5b||d5b)if("style"===L5b){if(x5b&&"string"!=typeof x5b&&"string"!=typeof T5b||(O5b.style.cssText=x5b||""),x5b&&"object"==typeof x5b){if("string"!=typeof T5b)for(var H5b in T5b)H5b in x5b||(O5b.style[H5b]="");for(var H5b in x5b)O5b.style[H5b]="number"==typeof x5b[H5b]&&!1===y3b.test(H5b)?x5b[H5b]+"px":x5b[H5b];}}else if("dangerouslySetInnerHTML"===L5b)x5b&&(O5b.innerHTML=x5b.__html||"");else if("o"==L5b[0]&&"n"==L5b[1]){var v5b=L5b!==(L5b=L5b.replace(/Capture$/,""));L5b=L5b.toLowerCase().substring(2),x5b?T5b||O5b.addEventListener(L5b,W3b,v5b):O5b.removeEventListener(L5b,W3b,v5b),(O5b._listeners||(O5b._listeners={}))[L5b]=x5b;}else if("list"!==L5b&&"type"!==L5b&&!d5b&&L5b in O5b)!function(p5b,Z5b,B5b){try{p5b[Z5b]=B5b;}catch(W5b){}}(O5b,L5b,null==x5b?"":x5b),null!=x5b&&!1!==x5b||O5b.removeAttribute(L5b);else{var V5b=d5b&&L5b!==(L5b=L5b.replace(/^xlink:?/,""));null==x5b||!1===x5b?V5b?O5b.removeAttributeNS("http://www.w3.org/1999/xlink",L5b.toLowerCase()):O5b.removeAttribute(L5b):"function"!=typeof x5b&&(V5b?O5b.setAttributeNS("http://www.w3.org/1999/xlink",L5b.toLowerCase(),x5b):O5b.setAttribute(L5b,x5b));}else O5b.className=x5b||"";}function V3b(M5b){var P5b=M5b.parentNode;P5b&&P5b.removeChild(M5b);}function s3b(s5b,A5b,j5b,Q5b,e5b,J5b){x3b++||(K3b=null!=e5b&&void 0!==e5b.ownerSVGElement,M3b=null!=s5b&&!("__preactattr_"in s5b));var n5b=J3b(s5b,A5b,j5b,Q5b,J5b);return e5b&&n5b.parentNode!==e5b&&e5b.appendChild(n5b),--x3b||(M3b=!1,J5b||n3b()),n5b;}function n3b(){for(var S5b;S5b=B3b.pop();)G3b.afterMount&&G3b.afterMount(S5b),S5b.componentDidMount&&S5b.componentDidMount();}function v3b(l1R,e1R,p1R,S1R){if(!l1R._disable){var x1R,G1R,P1R,a1R=l1R.props,b1R=l1R.state,m1R=l1R.context,W1R=l1R.prevProps||a1R,z1R=l1R.prevState||b1R,Z1R=l1R.prevContext||m1R,L1R=l1R.base,B1R=l1R.nextBase,K1R=L1R||B1R,O1R=l1R._component,H1R=!1;if(L1R&&(l1R.props=W1R,l1R.state=z1R,l1R.context=Z1R,2!==e1R&&l1R.shouldComponentUpdate&&!1===l1R.shouldComponentUpdate(a1R,b1R,m1R)?H1R=!0:l1R.componentWillUpdate&&l1R.componentWillUpdate(a1R,b1R,m1R),l1R.props=a1R,l1R.state=b1R,l1R.context=m1R),l1R.prevProps=l1R.prevState=l1R.prevContext=l1R.nextBase=null,l1R._dirty=!1,!H1R){x1R=l1R.render(a1R,b1R,m1R),l1R.getChildContext&&(m1R=N3b(N3b({},m1R),l1R.getChildContext()));var M1R,N1R,v1R=x1R&&x1R.nodeName;if("function"==typeof v1R){var g1R=Q3b(x1R);(G1R=O1R)&&G1R.constructor===v1R&&g1R.key==G1R.__key?d3b(G1R,g1R,1,m1R,!1):(M1R=G1R,l1R._component=G1R=k3b(v1R,g1R,m1R),G1R.nextBase=G1R.nextBase||B1R,G1R._parentComponent=l1R,d3b(G1R,g1R,0,m1R,!1),v3b(G1R,1,p1R,!0)),N1R=G1R.base;}else P1R=K1R,(M1R=O1R)&&(P1R=l1R._component=null),(K1R||1===e1R)&&(P1R&&(P1R._component=null),N1R=s3b(P1R,x1R,m1R,p1R||!L1R,K1R&&K1R.parentNode,!0));if(K1R&&N1R!==K1R&&G1R!==O1R){var d1R=K1R.parentNode;d1R&&N1R!==d1R&&(d1R.replaceChild(N1R,K1R),M1R||(K1R._component=null,g3b(K1R,!1)));}if(M1R&&O3b(M1R),l1R.base=N1R,N1R&&!S1R){for(var T1R=l1R,V1R=l1R;V1R=V1R._parentComponent;)(T1R=V1R).base=N1R;N1R._component=T1R,N1R._componentConstructor=T1R.constructor;}}if(!L1R||p1R?B3b.unshift(l1R):H1R||(l1R.componentDidUpdate&&l1R.componentDidUpdate(W1R,z1R,Z1R),G3b.afterUpdate&&G3b.afterUpdate(l1R)),null!=l1R._renderCallbacks)for(;l1R._renderCallbacks.length;)l1R._renderCallbacks.pop().call(l1R);x3b||S1R||n3b();}}function P3b(Y5b,h5b){var c5b,X5b,w5b,C5b,f5b=Z3b;for(C5b=arguments.length;C5b-->2;)b3b.push(arguments[C5b]);for(h5b&&null!=h5b.children&&(b3b.length||b3b.push(h5b.children),delete h5b.children);b3b.length;)if((X5b=b3b.pop())&&void 0!==X5b.pop)for(C5b=X5b.length;C5b--;)b3b.push(X5b[C5b]);else"boolean"==typeof X5b&&(X5b=null),(w5b="function"!=typeof Y5b)&&(null==X5b?X5b="":"number"==typeof X5b?X5b=String(X5b):"string"!=typeof X5b&&(w5b=!1)),w5b&&c5b?f5b[f5b.length-1]+=X5b:f5b===Z3b?f5b=[X5b]:f5b.push(X5b),c5b=w5b;var D5b=new function(){}();return D5b.nodeName=Y5b,D5b.children=f5b,D5b.attributes=null==h5b?void 0:h5b,D5b.key=null==h5b?void 0:h5b.key,void 0!==G3b.vnode&&G3b.vnode(D5b),D5b;}function g3b(I0R,y0R){var E0R=I0R._component;E0R?O3b(E0R):(null!=I0R.__preactattr_&&I0R.__preactattr_.ref&&I0R.__preactattr_.ref(null),!1!==y0R&&null!=I0R.__preactattr_||V3b(I0R),j3b(I0R));}function Q3b(g5b){var N5b=N3b({},g5b.attributes);N5b.children=g5b.children;var a5b=g5b.nodeName.defaultProps;if(void 0!==a5b)for(var b5b in a5b)void 0===N5b[b5b]&&(N5b[b5b]=a5b[b5b]);return N5b;}N3b(L3b.prototype,{setState:function(r1R,u4R){var y1R=this.state;this.prevState||(this.prevState=N3b({},y1R)),N3b(y1R,"function"==typeof r1R?r1R(y1R,this.props):r1R),u4R&&(this._renderCallbacks=this._renderCallbacks||[]).push(u4R),S3b(this);},forceUpdate:function(X4R){X4R&&(this._renderCallbacks=this._renderCallbacks||[]).push(X4R),v3b(this,2);},render:function(){}});function j3b(r0R){for(r0R=r0R.lastChild;r0R;){var u1R=r0R.previousSibling;g3b(r0R,!0),r0R=u1R;}}function d3b(R1R,U1R,o1R,q1R,t1R){R1R._disable||(R1R._disable=!0,(R1R.__ref=U1R.ref)&&delete U1R.ref,(R1R.__key=U1R.key)&&delete U1R.key,!R1R.base||t1R?R1R.componentWillMount&&R1R.componentWillMount():R1R.componentWillReceiveProps&&R1R.componentWillReceiveProps(U1R,q1R),q1R&&q1R!==R1R.context&&(R1R.prevContext||(R1R.prevContext=R1R.context),R1R.context=q1R),R1R.prevProps||(R1R.prevProps=R1R.props),R1R.props=U1R,R1R._disable=!1,0!==o1R&&(1!==o1R&&!1===G3b.syncComponentUpdates&&R1R.base?S3b(R1R):v3b(R1R,1,t1R)),R1R.__ref&&R1R.__ref(R1R));}var z3b={h:P3b,createElement:P3b,cloneElement:i3b,Component:L3b,render:E3b,rerender:p3b,options:G3b};function r3b(Y1R,F1R,c1R){return this.constructor(Y1R,c1R);}function O3b(n1R){G3b.beforeUnmount&&G3b.beforeUnmount(n1R);var s1R=n1R.base;n1R._disable=!0,n1R.componentWillUnmount&&n1R.componentWillUnmount(),n1R.base=null;var J1R=n1R._component;J1R?O3b(J1R):s1R&&(s1R.__preactattr_&&s1R.__preactattr_.ref&&s1R.__preactattr_.ref(null),n1R.nextBase=s1R,V3b(s1R),function(j1R){var A1R=j1R.constructor.name;(H3b[A1R]||(H3b[A1R]=[])).push(j1R);}(n1R),j3b(s1R)),n1R.__ref&&n1R.__ref(null);}m3b.default=z3b;function i3b(q5b,o5b){return P3b(q5b.nodeName,N3b(N3b({},q5b.attributes),o5b),arguments.length>2?[].slice.call(arguments,2):q5b.children);}},function(o4R,h4R,D4R){"use strict";Object.defineProperty(h4R,"__esModule",{value:!0});var f4R=D4R(203);Object.defineProperty(h4R,"ContentState",{enumerable:!0,get:function(){return f4R.ContentState;}}),Object.defineProperty(h4R,"PlayerMediaState",{enumerable:!0,get:function(){return f4R.PlayerMediaState;}}),Object.defineProperty(h4R,"PlayerAdState",{enumerable:!0,get:function(){return f4R.PlayerAdState;}}),Object.defineProperty(h4R,"PlayerEvent",{enumerable:!0,get:function(){return f4R.PlayerEvent;}}),Object.defineProperty(h4R,"PlayerApiEvent",{enumerable:!0,get:function(){return f4R.PlayerApiEvent;}}),Object.defineProperty(h4R,"MarkerType",{enumerable:!0,get:function(){return f4R.MarkerType;}}),Object.defineProperty(h4R,"PlayerViewState",{enumerable:!0,get:function(){return f4R.PlayerViewState;}}),Object.defineProperty(h4R,"FullscreenHelper",{enumerable:!0,get:function(){return f4R.FullscreenHelper;}}),Object.defineProperty(h4R,"Browser",{enumerable:!0,get:function(){return f4R.Browser;}}),Object.defineProperty(h4R,"CaptionsState",{enumerable:!0,get:function(){return f4R.CaptionsState;}}),Object.defineProperty(h4R,"CaptionsSettingsState",{enumerable:!0,get:function(){return f4R.CaptionsSettingsState;}}),Object.defineProperty(h4R,"LogLevelType",{enumerable:!0,get:function(){return f4R.LogLevelType;}});var Y4R=D4R(202);Object.defineProperty(h4R,"ActionType",{enumerable:!0,get:function(){return C4R(Y4R).default;}});var w4R=D4R(62);Object.defineProperty(h4R,"ComponentType",{enumerable:!0,get:function(){return C4R(w4R).default;}});function C4R(t4R){return t4R&&t4R.__esModule?t4R:{default:t4R};}var F4R=D4R(201);Object.defineProperty(h4R,"ComponentName",{enumerable:!0,get:function(){return C4R(F4R).default;}});var R4R=D4R(200);Object.defineProperty(h4R,"DeliveryType",{enumerable:!0,get:function(){return C4R(R4R).default;}});var U4R=D4R(199);Object.defineProperty(h4R,"LocationName",{enumerable:!0,get:function(){return C4R(U4R).default;}});var q4R=D4R(198);Object.defineProperty(h4R,"ThemeName",{enumerable:!0,get:function(){return C4R(q4R).default;}});var c4R=D4R(197);Object.defineProperty(h4R,"LogFilterType",{enumerable:!0,get:function(){return C4R(c4R).default;}});},function(b4R,g4R,l4R){function G4R(M4R,P4R){!0!==M4R&&(m4R(P4R)?P4R=P4R():K4R(P4R)&&(P4R='Assert failed (turn on "Pause on exceptions" in your Source panel)'),G4R.fail(P4R));}var m4R=l4R(6),K4R=l4R(9),N4R=l4R(186),a4R=l4R(59);G4R.fail=N4R,G4R.stringify=a4R,b4R.exports=G4R;},function(H4R,T4R,L4R){var x4R=L4R(5),O4R=L4R(20);H4R.exports=function(d4R){return x4R(d4R)?d4R.displayName:O4R(d4R);};},function(z4R,v4R,V4R){"use strict";Object.defineProperty(v4R,"__esModule",{value:!0});var Z4R=V4R(160);Object.defineProperty(v4R,"Icon",{enumerable:!0,get:function(){return p4R(Z4R).default;}});var B4R=V4R(46);Object.defineProperty(v4R,"IconType",{enumerable:!0,get:function(){return p4R(B4R).default;}});var W4R=V4R(157);Object.defineProperty(v4R,"Button",{enumerable:!0,get:function(){return p4R(W4R).default;}});function p4R(S4R){return S4R&&S4R.__esModule?S4R:{default:S4R};}},function(J4R,A4R,e4R){var n4R=e4R(6),s4R=e4R(15);J4R.exports=function(j4R){return n4R(j4R)&&s4R(j4R.meta);};},function(Q4R,k4R){Q4R.exports=function(i4R){return"function"==typeof i4R;};},function(E4R,y4R,I4R){I4R(2),I4R(27),I4R(6),I4R(19);E4R.exports=function(u6R,X6R){function r4R(h6R,f6R){return h6R;}return r4R.meta={kind:"irreducible",name:u6R,predicate:X6R,identity:!0},r4R.displayName=u6R,r4R.is=X6R,r4R;};},function(Y6R,c6R,D6R){var C6R=D6R(9),w6R=D6R(27);Y6R.exports=function(F6R){return C6R(F6R)||w6R(F6R);};},function(R6R,U6R){R6R.exports=function(q6R){return null===q6R||void 0===q6R;};},function(l6R,o6R,G6R){"use strict";Object.defineProperty(o6R,"__esModule",{value:!0}),o6R.isTouchEvent=function(m6R){return["touchstart","touchend","touchcancel","touchmove"].includes(m6R);},o6R.clamp=function(K6R,N6R,a6R){return Math.min(Math.max(K6R,N6R),a6R);},o6R.getStandardSlateButtonSize=function(b6R){return.05*b6R+60;},o6R.getNewId=function(){return t6R+=1;},o6R.formatTime=function(g6R){var O6R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:":";if("number"!=typeof g6R||g6R<0||!isFinite(g6R))return"00"+O6R+"00";var L6R=Math.floor(g6R%60),x6R=Math.floor(g6R%3600/60),P6R=Math.floor(g6R/3600),M6R=[];P6R>=1&&M6R.push(P6R<10?"0"+P6R:P6R);return M6R.push(x6R<10?"0"+x6R:x6R),M6R.push(L6R<10?"0"+L6R:L6R),M6R.join(O6R);};o6R.touchIsSupported=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch);var t6R=0;},function(T6R,v6R,d6R){var H6R=d6R(5);T6R.exports=function(p6R,V6R){return H6R(V6R)?V6R.is(p6R):p6R instanceof V6R;};},function(W6R,z6R,Z6R){var B6R=Z6R(5);Z6R(20),Z6R(2),Z6R(59);W6R.exports=function(e6R,S6R,n6R){return B6R(e6R)?e6R.meta.identity||"object"!=typeof S6R||null===S6R?e6R(S6R,n6R):new e6R(S6R,n6R):S6R;};},function(A6R,j6R,s6R){s6R(2),s6R(58);var J6R=s6R(5);s6R(3);A6R.exports=function(Q6R){return!J6R(Q6R)||Q6R.meta.identity;};},function(k6R,i6R){k6R.exports=function(I6R){return Array.isArray?Array.isArray(I6R):I6R instanceof Array;};},function(u2R,X2R,E6R){var y6R=E6R(9),r6R=E6R(14);u2R.exports=function(h2R){return!y6R(h2R)&&"object"==typeof h2R&&!r6R(h2R);};},function(w2R,f2R,C2R){"use strict";Object.defineProperty(f2R,"__esModule",{value:!0}),f2R.updateConfig=function(Y2R){return{type:D2R.ActionType.CONFIG_UPDATE,payload:Y2R};},f2R.updatePlayerController=function(c2R){return{type:D2R.ActionType.PLAYER_CONTROLLER_UPDATE,payload:c2R};},f2R.updateContainerElement=function(F2R){return{type:D2R.ActionType.CONTAINER_ELEMENT_UPDATE,payload:F2R};},f2R.controlBarVisibilityChange=function(R2R){return{type:D2R.ActionType.UI_CONTROL_BAR_VISIBILITY_CHANGE,payload:R2R};},f2R.pendingSeekTimeChange=function(U2R){return{type:D2R.ActionType.UI_PENDING_SEEK_TIME_CHANGE,payload:U2R};},f2R.activeMenuChange=function(q2R){return{type:D2R.ActionType.UI_ACTIVE_MENU_CHANGE,payload:q2R};},f2R.activateSlate=function(o2R,t2R,l2R){return{type:D2R.ActionType.UI_ACTIVATE_SLATE,payload:{slateId:o2R,layer:t2R,priority:l2R}};},f2R.deactivateSlate=function(G2R){return{type:D2R.ActionType.UI_DEACTIVATE_SLATE,payload:G2R};},f2R.viewportSizeChange=function(m2R,K2R){return{type:D2R.ActionType.UI_VIEWPORT_SIZE_CHANGE,payload:{width:m2R,height:K2R}};},f2R.componentListChange=function(N2R,a2R){return{type:D2R.ActionType.COMPONENT_LIST_CHANGE,payload:{type:N2R,components:a2R}};},f2R.pointerStateChange=function(b2R,g2R){return{type:D2R.ActionType.UI_POINTER_STATE_CHANGE,payload:{stateName:b2R,state:g2R}};},f2R.focusChange=function(P2R){return{type:D2R.ActionType.UI_FOCUS_CHANGE,payload:P2R};};var D2R=C2R(1);},function(x2R,L2R,M2R){"use strict";M2R.r(L2R),function(V2R){function c7R(){}function j7R(R5R,U5R,q5R,o5R){return function(l5R,t5R){return q5R(R5R(l5R,t5R),U5R(o5R,t5R),t5R);};}function Q2R(r7R){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(r7R);try{throw new Error(r7R);}catch(u9R){}}M2R.d(L2R,"Provider",function(){return s2R;}),M2R.d(L2R,"connect",function(){return f7R;}),M2R.d(L2R,"connectAdvanced",function(){return I2R;});var B2R=M2R(0),q7R=M2R(30),l7R={only:function(y7R){return y7R&&y7R[0]||null;}};d2R.isRequired=d2R;var O2R={element:d2R,func:d2R,shape:function(){return d2R;},instanceOf:function(){return d2R;}},e2R=O2R.shape({trySubscribe:O2R.func.isRequired,tryUnsubscribe:O2R.func.isRequired,notifyNestedSubs:O2R.func.isRequired,isSubscribed:O2R.func.isRequired}),A2R=O2R.shape({subscribe:O2R.func.isRequired,dispatch:O2R.func.isRequired,getState:O2R.func.isRequired});var H2R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X9R){return typeof X9R;}:function(h9R){return h9R&&"function"==typeof Symbol&&h9R.constructor===Symbol&&h9R!==Symbol.prototype?"symbol":typeof h9R;},S2R=function(f9R,D9R){if(!(f9R instanceof D9R))throw new TypeError("Cannot call a class as a function");},v2R=Object.assign||function(c9R){for(var C9R=1;C9R<arguments.length;C9R++){var w9R=arguments[C9R];for(var Y9R in w9R)Object.prototype.hasOwnProperty.call(w9R,Y9R)&&(c9R[Y9R]=w9R[Y9R]);}return c9R;},k2R=function(R9R,F9R){if("function"!=typeof F9R&&null!==F9R)throw new TypeError("Super expression must either be null or a function, not "+typeof F9R);R9R.prototype=Object.create(F9R&&F9R.prototype,{constructor:{value:R9R,enumerable:!1,writable:!0,configurable:!0}}),F9R&&(Object.setPrototypeOf?Object.setPrototypeOf(R9R,F9R):R9R.__proto__=F9R);},n2R=function(q9R,t9R){var o9R={};for(var U9R in q9R)t9R.indexOf(U9R)>=0||Object.prototype.hasOwnProperty.call(q9R,U9R)&&(o9R[U9R]=q9R[U9R]);return o9R;},r2R=function(G9R,l9R){if(!G9R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l9R||"object"!=typeof l9R&&"function"!=typeof l9R?G9R:l9R;},X7R=!1;function y2R(c5R,Y5R,F5R){if(!c5R)throw new Error("Unexpected value for "+Y5R+" in "+F5R+".");"mapStateToProps"!==Y5R&&"mapDispatchToProps"!==Y5R||c5R.hasOwnProperty("dependsOnOwnProps")||Q2R("The selector for "+Y5R+" of "+F5R+" did not specify a value for dependsOnOwnProps.");}function w7R(K3R){return function(b3R,g3R){function a3R(){return N3R;}var N3R=K3R(b3R,g3R);return a3R.dependsOnOwnProps=!1,a3R;};}function z7R(P3R){return null!==P3R.dependsOnOwnProps&&void 0!==P3R.dependsOnOwnProps?Boolean(P3R.dependsOnOwnProps):1!==P3R.length;}var s2R=function(){var N9R,m9R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",a9R=arguments[1]||m9R+"Subscription",K9R=function(g9R){function b9R(M9R,L9R){S2R(this,b9R);var P9R=r2R(this,g9R.call(this,M9R,L9R));return P9R[m9R]=M9R.store,P9R;}return k2R(b9R,g9R),b9R.prototype.getChildContext=function(){var x9R;return(x9R={})[m9R]=this[m9R],x9R[a9R]=null,x9R;},b9R.prototype.render=function(){return l7R.only(this.props.children);},b9R;}(B2R.Component);return K9R.prototype.componentWillReceiveProps=function(O9R){this[m9R]!==O9R.store&&(X7R||(X7R=!0,Q2R("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions.")));},K9R.childContextTypes=((N9R={})[m9R]=A2R.isRequired,N9R[a9R]=e2R,N9R),K9R;}(),P7R={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},M7R={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},v7R=Object.defineProperty,F7R=Object.getOwnPropertyNames,J2R=Object.getOwnPropertySymbols,o7R=Object.getOwnPropertyDescriptor,Z2R=Object.getPrototypeOf,j2R=Z2R&&Z2R(Object),N7R=function H9R(V9R,d9R,B9R){if("string"!=typeof d9R){if(j2R){var p9R=Z2R(d9R);p9R&&p9R!==j2R&&H9R(V9R,p9R,B9R);}var v9R=F7R(d9R);J2R&&(v9R=v9R.concat(J2R(d9R)));for(var Z9R=0;Z9R<v9R.length;++Z9R){var T9R=v9R[Z9R];if(!(P7R[T9R]||M7R[T9R]||B9R&&B9R[T9R])){var W9R=o7R(d9R,T9R);try{v7R(V9R,T9R,W9R);}catch(z9R){}}}return V9R;}return V9R;},W2R=function(){},z2R=null,i2R={notify:function(){}};function Q7R(b5R,g5R,P5R,x5R,L5R){function d5R(Z5R,B5R){var v5R,W5R,V5R=!O5R(B5R,G5R),p5R=!H5R(Z5R,a5R);return a5R=Z5R,G5R=B5R,V5R&&p5R?(m5R=b5R(a5R,G5R),g5R.dependsOnOwnProps&&(N5R=g5R(x5R,G5R)),K5R=P5R(m5R,N5R,G5R)):V5R?(b5R.dependsOnOwnProps&&(m5R=b5R(a5R,G5R)),g5R.dependsOnOwnProps&&(N5R=g5R(x5R,G5R)),K5R=P5R(m5R,N5R,G5R)):p5R?(v5R=b5R(a5R,G5R),W5R=!T5R(v5R,m5R),m5R=v5R,W5R&&(K5R=P5R(m5R,N5R,G5R)),K5R):K5R;}var H5R=L5R.areStatesEqual,O5R=L5R.areOwnPropsEqual,T5R=L5R.areStatePropsEqual,M5R=!1,a5R=void 0,G5R=void 0,m5R=void 0,N5R=void 0,K5R=void 0;return function(z5R,S5R){return M5R?d5R(z5R,S5R):(m5R=b5R(a5R=z5R,G5R=S5R),N5R=g5R(x5R,G5R),K5R=P5R(m5R,N5R,G5R),M5R=!0,K5R);};}var Z7R=function(){function S9R(e9R,n9R,s9R){S2R(this,S9R),this.store=e9R,this.parentSub=n9R,this.onStateChange=s9R,this.unsubscribe=null,this.listeners=i2R;}return S9R.prototype.addNestedSub=function(J9R){return this.trySubscribe(),this.listeners.subscribe(J9R);},S9R.prototype.notifyNestedSubs=function(){this.listeners.notify();},S9R.prototype.isSubscribed=function(){return Boolean(this.unsubscribe);},S9R.prototype.trySubscribe=function(){var j9R,A9R;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(j9R=[],A9R=[],{clear:function(){A9R=z2R,j9R=z2R;},notify:function(){for(var k9R=j9R=A9R,Q9R=0;Q9R<k9R.length;Q9R++)k9R[Q9R]();},get:function(){return A9R;},subscribe:function(I9R){var i9R=!0;return A9R===j9R&&(A9R=j9R.slice()),A9R.push(I9R),function(){i9R&&j9R!==z2R&&(i9R=!1,A9R===j9R&&(A9R=j9R.slice()),A9R.splice(A9R.indexOf(I9R),1));};}}));},S9R.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=i2R);},S9R;}(),W7R=0,s7R={};function d2R(){}function i7R(o3R){if(!function(t3R){return null!=t3R&&"object"==(void 0===t3R?"undefined":H2R(t3R));}(o3R)||E7R(o3R)!=H7R)return!1;var q3R=O7R(o3R);if(null===q3R)return!0;var U3R=V7R.call(q3R,"constructor")&&q3R.constructor;return"function"==typeof U3R&&U3R instanceof U3R&&D7R.call(U3R)==p7R;}function E2R(y8R,E8R){if(U7R(y8R,E8R))return!0;if("object"!==(void 0===y8R?"undefined":H2R(y8R))||null===y8R||"object"!==(void 0===E8R?"undefined":H2R(E8R))||null===E8R)return!1;var r8R=Object.keys(y8R),X3R=Object.keys(E8R);if(r8R.length!==X3R.length)return!1;for(var u3R=0;u3R<r8R.length;u3R++)if(!R7R.call(E8R,r8R[u3R])||!U7R(y8R[r8R[u3R]],E8R[r8R[u3R]]))return!1;return!0;}function k7R(n5R,s5R){var Q5R=s5R.initMapStateToProps,k5R=s5R.initMapDispatchToProps,i5R=s5R.initMergeProps,e5R=n2R(s5R,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),J5R=Q5R(n5R,e5R),A5R=k5R(n5R,e5R),j5R=i5R(n5R,e5R);return function(E5R,y5R,r5R,I5R){y2R(E5R,"mapStateToProps",I5R),y2R(y5R,"mapDispatchToProps",I5R),y2R(r5R,"mergeProps",I5R);}(J5R,A5R,j5R,e5R.displayName),(e5R.pure?Q7R:j7R)(J5R,A5R,j5R,n5R,e5R);}function C7R(X05,f05,D05){for(var u05=f05.length-1;u05>=0;u05--){var h05=f05[u05](X05);if(h05)return h05;}return function(w05,C05){throw new Error("Invalid value of type "+(void 0===X05?"undefined":H2R(X05))+" for "+D05+" argument when connecting component "+C05.wrappedComponentName+".");};}var R7R=Object.prototype.hasOwnProperty;var Y7R="object"==(void 0===V2R?"undefined":H2R(V2R))&&V2R&&V2R.Object===Object&&V2R,t7R="object"==("undefined"==typeof self?"undefined":H2R(self))&&self&&self.Object===Object&&self,p2R=(Y7R||t7R||Function("return this;")()).Symbol,u7R=Object.prototype,m7R=u7R.hasOwnProperty,K7R=u7R.toString,T2R=p2R?p2R.toStringTag:void 0;function A7R(J3R,A3R,j3R){return v2R({},j3R,J3R,A3R);}var a7R=Object.prototype.toString;var b7R="[object Null]",g7R="[object Undefined]",h7R=p2R?p2R.toStringTag:void 0;var L7R,x7R,O7R=(L7R=Object.getPrototypeOf,x7R=Object,function(R3R){return L7R(x7R(R3R));});var H7R="[object Object]",T7R=Function.prototype,d7R=Object.prototype,D7R=T7R.toString,V7R=d7R.hasOwnProperty,p7R=D7R.call(Object);var e7R=[function(B3R){return"function"==typeof B3R?S7R(B3R,"mapDispatchToProps"):void 0;},function(W3R){return W3R?void 0:w7R(function(z3R){return{dispatch:z3R};});},function(S3R){return S3R&&"object"===(void 0===S3R?"undefined":H2R(S3R))?w7R(function(e3R){return Object(q7R.bindActionCreators)(S3R,e3R);}):void 0;}];function S7R(M3R,L3R){return function(T3R,H3R){var O3R=H3R.displayName,x3R=function(d3R,v3R){return x3R.dependsOnOwnProps?x3R.mapToProps(d3R,v3R):x3R.mapToProps(d3R);};return x3R.dependsOnOwnProps=!0,x3R.mapToProps=function(p3R,Z3R){x3R.mapToProps=M3R,x3R.dependsOnOwnProps=z7R(M3R);var V3R=x3R(p3R,Z3R);return"function"==typeof V3R&&(x3R.mapToProps=V3R,x3R.dependsOnOwnProps=z7R(V3R),V3R=x3R(p3R,Z3R)),B7R(V3R,O3R,L3R),V3R;},x3R;};}function U7R(i8R,I8R){return i8R===I8R?0!==i8R||0!==I8R||1/ i8R==1/I8R:i8R!=i8R&&I8R!=I8R;}var n7R=[function(n3R){return"function"==typeof n3R?S7R(n3R,"mapStateToProps"):void 0;},function(s3R){return s3R?void 0:w7R(function(){return{};});}];function I7R(Y05,c05){return Y05===c05;}function I2R(m8R){var C8R,l8R,y9R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U8R=y9R.getDisplayName,R8R=void 0===U8R?function(K8R){return"ConnectAdvanced("+K8R+((6390,8900)!=303.8?")":(4.71e+3,"t"));}:U8R,c8R=y9R.methodName,w8R=void 0===c8R?"connectAdvanced":c8R,D8R=y9R.renderCountProp,u8R=void 0===D8R?void 0:D8R,q8R=y9R.shouldHandleStateChanges,h8R=void 0===q8R||q8R,Y8R=y9R.storeKey,E9R=void 0===Y8R?"store":Y8R,F8R=y9R.withRef,X8R=void 0!==F8R&&F8R,o8R=n2R(y9R,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),r9R=E9R+"Subscription",f8R=W7R++,t8R=((C8R={})[E9R]=A2R,C8R[r9R]=e2R,C8R),G8R=((l8R={})[r9R]=e2R,l8R);return function(N8R){W2R("function"==typeof N8R,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(N8R));var g8R=N8R.displayName||N8R.name||"Component",b8R=R8R(g8R),P8R=v2R({},o8R,{getDisplayName:R8R,methodName:w8R,renderCountProp:u8R,shouldHandleStateChanges:h8R,storeKey:E9R,withRef:X8R,displayName:b8R,wrappedComponentName:g8R,WrappedComponent:N8R}),a8R=function(L8R){function M8R(O8R,H8R){S2R(this,M8R);var x8R=r2R(this,L8R.call(this,O8R,H8R));return x8R.version=f8R,x8R.state={},x8R.renderCount=0,x8R.store=O8R[E9R]||H8R[E9R],x8R.propsMode=Boolean(O8R[E9R]),x8R.setWrappedInstance=x8R.setWrappedInstance.bind(x8R),W2R(x8R.store,'Could not find "'+E9R+'" in either the context or props of "'+b8R+'". Either wrap the root component in a <Provider>, or explicitly pass "'+E9R+'" as a prop to "'+b8R+'".'),x8R.initSelector(),x8R.initSubscription(),x8R;}return k2R(M8R,L8R),M8R.prototype.getChildContext=function(){var T8R,d8R=this.propsMode?null:this.subscription;return(T8R={})[r9R]=d8R||this.context[r9R],T8R;},M8R.prototype.componentDidMount=function(){h8R&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate());},M8R.prototype.componentWillReceiveProps=function(v8R){this.selector.run(v8R);},M8R.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate;},M8R.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=c7R,this.store=null,this.selector.run=c7R,this.selector.shouldComponentUpdate=!1;},M8R.prototype.getWrappedInstance=function(){return W2R(X8R,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+w8R+"() call."),this.wrappedInstance;},M8R.prototype.setWrappedInstance=function(V8R){this.wrappedInstance=V8R;},M8R.prototype.initSelector=function(){var p8R=m8R(this.store.dispatch,P8R);this.selector=function(B8R,W8R){var Z8R={run:function(S8R){try{var z8R=B8R(W8R.getState(),S8R);(z8R!==Z8R.props||Z8R.error)&&(Z8R.shouldComponentUpdate=!0,Z8R.props=z8R,Z8R.error=null);}catch(e8R){Z8R.shouldComponentUpdate=!0,Z8R.error=e8R;}}};return Z8R;}(p8R,this.store),this.selector.run(this.props);},M8R.prototype.initSubscription=function(){if(h8R){var n8R=(this.propsMode?this.props:this.context)[r9R];this.subscription=new Z7R(this.store,n8R,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription);}},M8R.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(s7R)):this.notifyNestedSubs();},M8R.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs();},M8R.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed();},M8R.prototype.addExtraProps=function(J8R){if(!(X8R||u8R||this.propsMode&&this.subscription))return J8R;var s8R=v2R({},J8R);return X8R&&(s8R.ref=this.setWrappedInstance),u8R&&(s8R[u8R]=this.renderCount++),this.propsMode&&this.subscription&&(s8R[r9R]=this.subscription),s8R;},M8R.prototype.render=function(){var A8R=this.selector;if(A8R.shouldComponentUpdate=!1,A8R.error)throw A8R.error;return Object(B2R.h)(N8R,this.addExtraProps(A8R.props));},M8R;}(B2R.Component);return a8R.WrappedComponent=N8R,a8R.displayName=b8R,a8R.childContextTypes=G8R,a8R.contextTypes=t8R,a8R.prototype.componentWillUpdate=function(){var Q8R=this;if(this.version!==f8R){this.version=f8R,this.initSelector();var j8R=[];this.subscription&&(j8R=this.subscription.listeners.get(),this.subscription.tryUnsubscribe()),this.initSubscription(),h8R&&(this.subscription.trySubscribe(),j8R.forEach(function(k8R){return Q8R.subscription.listeners.subscribe(k8R);}));}},N7R(a8R,N8R);};}var J7R=[function(Q3R){return"function"==typeof Q3R?function(k3R){return function(X5R,I3R){var y3R=I3R.displayName,r3R=I3R.pure,u5R=I3R.areMergedPropsEqual,E3R=!1,i3R=void 0;return function(f5R,D5R,C5R){var h5R=k3R(f5R,D5R,C5R);return E3R?r3R&&u5R(h5R,i3R)||(i3R=h5R):(E3R=!0,B7R(i3R=h5R,y3R,"mergeProps")),i3R;};};}(Q3R):void 0;},function(w5R){return w5R?void 0:function(){return A7R;};}];var f7R=function(){var F05=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},U05=F05.connectHOC,l05=void 0===U05?I2R:U05,q05=F05.mapStateToPropsFactories,K05=void 0===q05?n7R:q05,R05=F05.mapDispatchToPropsFactories,G05=void 0===R05?e7R:R05,o05=F05.mergePropsFactories,m05=void 0===o05?J7R:o05,t05=F05.selectorFactory,N05=void 0===t05?k7R:t05;return function(T05,z05,W05){var a05=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g05=a05.pure,x05=void 0===g05||g05,P05=a05.areStatesEqual,H05=void 0===P05?I7R:P05,b05=a05.areOwnPropsEqual,d05=void 0===b05?E2R:b05,M05=a05.areStatePropsEqual,v05=void 0===M05?E2R:M05,L05=a05.areMergedPropsEqual,p05=void 0===L05?E2R:L05,Z05=n2R(a05,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),O05=C7R(T05,K05,"mapStateToProps"),V05=C7R(z05,G05,"mapDispatchToProps"),B05=C7R(W05,m05,"mergeProps");return l05(N05,v2R({methodName:"connect",getDisplayName:function(S05){return"Connect("+S05+")";},shouldHandleStateChanges:Boolean(T05),initMapStateToProps:O05,initMapDispatchToProps:V05,initMergeProps:B05,pure:x05,areStatesEqual:H05,areOwnPropsEqual:d05,areStatePropsEqual:v05,areMergedPropsEqual:p05},Z05));};}(),G7R={Provider:s2R,connect:f7R,connectAdvanced:I2R};function B7R(l3R,G3R,m3R){i7R(l3R)||Q2R(m3R+"() in "+G3R+" must return a plain object. Instead received "+l3R+".");}L2R.default=G7R;function E7R(h3R){return null==h3R?void 0===h3R?g7R:b7R:h7R&&h7R in Object(h3R)?function(f3R){var D3R=m7R.call(f3R,T2R),C3R=f3R[T2R];try{f3R[T2R]=void 0;var w3R=!0;}catch(c3R){}var Y3R=K7R.call(f3R);return w3R&&(D3R?f3R[T2R]=C3R:delete f3R[T2R]),Y3R;}(h3R):function(F3R){return a7R.call(F3R);}(h3R);}}.call(this,M2R(29));},function(i05,e05,n05){"use strict";function s05(I05){return I05&&I05.__esModule?I05:{default:I05};}Object.defineProperty(e05,"__esModule",{value:!0});var J05=n05(92);Object.defineProperty(e05,"CCTracks",{enumerable:!0,get:function(){return s05(J05).default;}});var A05=n05(89);Object.defineProperty(e05,"CCSettings",{enumerable:!0,get:function(){return s05(A05).default;}});var j05=n05(86);Object.defineProperty(e05,"CCSettingsItem",{enumerable:!0,get:function(){return s05(j05).default;}});var Q05=n05(83);Object.defineProperty(e05,"CCMenuRoutes",{enumerable:!0,get:function(){return s05(Q05).default;}});var k05=n05(82);Object.defineProperty(e05,"CCMenuButton",{enumerable:!0,get:function(){return s05(k05).default;}});},function(u15,X15,E05){var y05=E05(2),r05=E05(3);u15.exports=function(f15,h15){y05(!(f15 instanceof h15),function(){return"Cannot use the new operator to instantiate the type "+r05(h15);});};},function(D15,C15){D15.exports=function(w15){return w15.displayName||w15.name||"<function"+w15.length+">";};},function(c15,F15){var Y15=c15.exports={version:"2.5.1"};"number"==typeof __e&&(__e=Y15);},function(U15,q15){var R15=U15.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this;")();"number"==typeof __g&&(__g=R15);},function(o15,l15,G15){var t15;!function(){"use strict";var K15={}.hasOwnProperty;void 0!==o15&&o15.exports?o15.exports=m15:void 0===(t15=function(){return m15;}.apply(l15,[]))||(o15.exports=t15);function m15(){for(var a15=[],b15=0;b15<arguments.length;b15++){var N15=arguments[b15];if(N15){var g15=typeof N15;if("string"===g15||"number"===g15)a15.push(N15);else if(Array.isArray(N15))a15.push(m15.apply(null,N15));else if("object"===g15)for(var P15 in N15)K15.call(N15,P15)&&N15[P15]&&a15.push(P15);}}return a15.join(" ");}}();},function(V15,M15,v15){"use strict";Object.defineProperty(M15,"__esModule",{value:!0}),M15.configLogger=M15.apiLogger=M15.menuLogger=M15.slatesLogger=M15.mediaLogger=M15.adsLogger=M15.captionsLogger=M15.uiLogger=void 0;var O15=function(){function p15(z15,W15){for(var B15=0;B15<W15.length;B15++){var Z15=W15[B15];Z15.enumerable=Z15.enumerable||!1,Z15.configurable=!0,"value"in Z15&&(Z15.writable=!0),Object.defineProperty(z15,Z15.key,Z15);}}return function(S15,e15,n15){return e15&&p15(S15.prototype,e15),n15&&p15(S15,n15),S15;};}(),L15=v15(1);var H15=com.turner.top.lib.logging.Log,T15=function(){function A15(j15){d15(this,A15),this._logger=j15;}return O15(A15,null,[{key:"logData",value:function(Q15,k15,i15){var I15,E15=Q15._levels[k15],y15=Q15&&Q15._enabled,r15=i15.length>0;y15&&E15&&r15&&(I15=console)[k15].apply(I15,function(u45){if(Array.isArray(u45)){for(var X45=0,h45=Array(u45.length);X45<u45.length;X45++)h45[X45]=u45[X45];return h45;}return Array.from(u45);}(i15));}}]),O15(A15,[{key:"log",value:function(w45){this._logger.verbose(w45);for(var D45=arguments.length,C45=Array(D45>1?D45-1:0),f45=1;f45<D45;f45++)C45[f45-1]=arguments[f45];A15.logData(this._logger,L15.LogLevelType.LOG,C45);}},{key:"debug",value:function(R45){this._logger.debug(R45);for(var c45=arguments.length,F45=Array(c45>1?c45-1:0),Y45=1;Y45<c45;Y45++)F45[Y45-1]=arguments[Y45];A15.logData(this._logger,L15.LogLevelType.DEBUG,F45);}},{key:"info",value:function(t45){this._logger.info(t45);for(var q45=arguments.length,o45=Array(q45>1?q45-1:0),U45=1;U45<q45;U45++)o45[U45-1]=arguments[U45];A15.logData(this._logger,L15.LogLevelType.INFO,o45);}},{key:"warn",value:function(K45){this._logger.warn(K45);for(var G45=arguments.length,m45=Array(G45>1?G45-1:0),l45=1;l45<G45;l45++)m45[l45-1]=arguments[l45];A15.logData(this._logger,L15.LogLevelType.WARN,m45);}},{key:"error",value:function(g45){this._logger.error(g45);for(var a45=arguments.length,b45=Array(a45>1?a45-1:0),N45=1;N45<a45;N45++)b45[N45-1]=arguments[N45];A15.logData(this._logger,L15.LogLevelType.ERROR,b45);}},{key:"filter",value:function(P45){return new A15(this._logger.filter(P45));}},{key:"child",value:function(M45){return new A15(this._logger.child(M45));}}]),A15;}(),x15=function(){function L45(){d15(this,L45);}return O15(L45,null,[{key:"getLogger",value:function(){var x45=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TOP UI",O45=arguments[1];if(O45){var H45=H15.getLogger(x45).filter(O45);return new T15(H45);}return new T15(H15.getLogger(x45));}}]),L45;}();M15.default=x15;M15.uiLogger=x15.getLogger("UI",L15.LogFilterType.PUBLIC),M15.captionsLogger=x15.getLogger("UI Closed Captions",L15.LogFilterType.CC),M15.adsLogger=x15.getLogger("UI Ads",L15.LogFilterType.ADS),M15.mediaLogger=x15.getLogger("UI Media",L15.LogFilterType.MEDIA),M15.slatesLogger=x15.getLogger("UI Slates",L15.LogFilterType.SLATES),M15.menuLogger=x15.getLogger("UI Menus",L15.LogFilterType.MENUS),M15.apiLogger=x15.getLogger("UI API",L15.LogFilterType.API),M15.configLogger=x15.getLogger("UI Config",L15.LogFilterType.CONFIG);function d15(s15,J15){if(!(s15 instanceof J15))throw new TypeError("Cannot call a class as a function");}},function(V45,p45,T45){var d45=T45(7),v45=T45(6);V45.exports=d45("Function",v45);},function(Z45,B45){Z45.exports=function(W45){return!0===W45||!1===W45;};},function(z45,S45){z45.exports=function(e45){return"string"==typeof e45;};},function(n45,J45,s45){n45.exports=!s45(41)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7;}}).a;});},function(j45,Q45){var A45;A45=function(){return this;}();try{A45=A45||Function("return this;")()||(0,eval)("this");}catch(k45){"object"==typeof window&&(A45=window);}j45.exports=A45;},function(v65,E45,i45){"use strict";function d65(b25,a25){var N25=a25&&a25.type;return"Given action "+(N25&&'"'+N25.toString()+'"'||"an action")+', reducer "'+b25+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.';}i45.r(E45);function M65(h25,E65,y65){function Y25(c25){if("function"!=typeof c25)throw new Error("Expected listener to be a function.");var F25=!0;return C25(),i65.push(c25),function(){if(F25){F25=!1,C25();var R25=i65.indexOf(c25);i65.splice(R25,1);}};}var D25;function X25(U25){if(!a65(U25))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===U25.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(r65)throw new Error("Reducers may not dispatch actions.");try{r65=!0,u25=f25(u25,U25);}finally{r65=!1;}for(var o25=I65=i65,q25=0;q25<o25.length;q25++){(0,o25[q25])();}return U25;}function w25(){return u25;}function C25(){i65===I65&&(i65=I65.slice());}if("function"==typeof E65&&void 0===y65&&(y65=E65,E65=void 0),void 0!==y65){if("function"!=typeof y65)throw new Error("Expected the enhancer to be a function.");return y65(M65)(h25,E65);}if("function"!=typeof h25)throw new Error("Expected the reducer to be a function.");var f25=h25,u25=E65,I65=[],i65=I65,r65=!1;return X25({type:r45.INIT}),(D25={dispatch:X25,subscribe:Y25,getState:w25,replaceReducer:function(t25){if("function"!=typeof t25)throw new Error("Expected the nextReducer to be a function.");f25=t25,X25({type:r45.INIT});}})[f65.a]=function(){var l25,G25=Y25;return(l25={subscribe:function(m25){function K25(){m25.next&&m25.next(w25());}if("object"!=typeof m25)throw new TypeError("Expected the observer to be an object.");return K25(),{unsubscribe:G25(K25)};}})[f65.a]=function(){return this;},l25;},D25;}var U65=i45(73),P65="object"==typeof self&&self&&self.Object===Object&&self,y45=(U65.a||P65||Function("return this;")()).Symbol,u65=Object.prototype,m65=u65.hasOwnProperty,g65=u65.toString,I45=y45?y45.toStringTag:void 0;var C65=function(V65){var p65=m65.call(V65,I45),Z65=V65[I45];try{V65[I45]=void 0;var B65=!0;}catch(z65){}var W65=g65.call(V65);return B65&&(p65?V65[I45]=Z65:delete V65[I45]),W65;},w65=Object.prototype.toString;var Y65=function(S65){return w65.call(S65);},c65="[object Null]",F65="[object Undefined]",X65=y45?y45.toStringTag:void 0;function H65(){for(var U75=arguments.length,q75=Array(U75),R75=0;R75<U75;R75++)q75[R75]=arguments[R75];return function(o75){return function(K75,N75,a75){var G75,t75=o75(K75,N75,a75),l75=t75.dispatch,m75={getState:t75.getState,dispatch:function(b75){return l75(b75);}};return G75=q75.map(function(g75){return g75(m75);}),l75=x65.apply(void 0,G75)(t75.dispatch),o65({},t75,{dispatch:l75});};};}var D65=function(e65){return null==e65?void 0===e65?F65:c65:X65&&X65 in Object(e65)?C65(e65):Y65(e65);};function O65(x25){for(var O25=Object.keys(x25),g25={},P25=0;P25<O25.length;P25++){var M25=O25[P25];0,"function"==typeof x25[M25]&&(g25[M25]=x25[M25]);}var H25=Object.keys(g25);var L25=void 0;try{!function(T25){Object.keys(T25).forEach(function(d25){var v25=T25[d25];if(void 0===v25(void 0,{type:r45.INIT}))throw new Error('Reducer "'+d25+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===v25(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+d25+"\" returned undefined when probed with a random type. Don't try to handle "+r45.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.');});}(g25);}catch(V25){L25=V25;}return function(){var S25=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e25=arguments[1];if(L25)throw L25;for(var B25=!1,z25={},Z25=0;Z25<H25.length;Z25++){var p25=H25[Z25],s25=g25[p25],n25=S25[p25],W25=s25(n25,e25);if(void 0===W25){var J25=d65(p25,e25);throw new Error(J25);}z25[p25]=W25,B25=B25||W25!==n25;}return B25?z25:S25;};}function T65(Q25,r25){if("function"==typeof Q25)return L65(Q25,r25);if("object"!=typeof Q25||null===Q25)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===Q25?"null":typeof Q25)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var i25=Object.keys(Q25),I25={},k25=0;k25<i25.length;k25++){var E25=i25[k25],y25=Q25[E25];"function"==typeof y25&&(I25[E25]=L65(y25,r25));}return I25;}var q65=function(n65,s65){return function(J65){return n65(s65(J65));};}(Object.getPrototypeOf,Object);var R65=function(A65){return null!=A65&&"object"==typeof A65;},t65="[object Object]",l65=Function.prototype,G65=Object.prototype,h65=l65.toString,K65=G65.hasOwnProperty,N65=h65.call(Object);var a65=function(k65){if(!R65(k65)||D65(k65)!=t65)return!1;var Q65=q65(k65);if(null===Q65)return!0;var j65=K65.call(Q65,"constructor")&&Q65.constructor;return"function"==typeof j65&&j65 instanceof j65&&h65.call(j65)==N65;},b65=i45(44),f65=i45.n(b65),r45={INIT:"@@redux/INIT"};var o65=Object.assign||function(F75){for(var w75=1;w75<arguments.length;w75++){var Y75=arguments[w75];for(var c75 in Y75)Object.prototype.hasOwnProperty.call(Y75,c75)&&(F75[c75]=Y75[c75]);}return F75;};i45.d(E45,"createStore",function(){return M65;}),i45.d(E45,"combineReducers",function(){return O65;}),i45.d(E45,"bindActionCreators",function(){return T65;}),i45.d(E45,"applyMiddleware",function(){return H65;}),i45.d(E45,"compose",function(){return x65;});function L65(A25,j25){return function(){return j25(A25.apply(void 0,arguments));};}function x65(){for(var h75=arguments.length,u75=Array(h75),X75=0;X75<h75;X75++)u75[X75]=arguments[X75];return 0===u75.length?function(f75){return f75;}:1===u75.length?u75[0]:u75.reduce(function(D75,C75){return function(){return D75(C75.apply(void 0,arguments));};});}},function(V75,P75,L75){"use strict";Object.defineProperty(P75,"__esModule",{value:!0});var O75=L75(114);Object.defineProperty(P75,"withControlHooks",{enumerable:!0,get:function(){return M75(O75).default;}});var x75=L75(113);Object.defineProperty(P75,"MenuComponent",{enumerable:!0,get:function(){return M75(x75).default;}});var T75=L75(112);Object.defineProperty(P75,"PlayerControlSurface",{enumerable:!0,get:function(){return M75(T75).default;}});var d75=L75(111);Object.defineProperty(P75,"MenuController",{enumerable:!0,get:function(){return M75(d75).default;}});var v75=L75(108);function M75(p75){return p75&&p75.__esModule?p75:{default:p75};}Object.defineProperty(P75,"SlateController",{enumerable:!0,get:function(){return M75(v75).default;}});var H75=L75(105);Object.defineProperty(P75,"withSlateHooks",{enumerable:!0,get:function(){return M75(H75).default;}});},function(W75,z75,Z75){var B75=Z75(9);Z75(2);W75.exports=function(n75,S75,s75){if(B75(S75))return n75;for(var e75 in S75)S75.hasOwnProperty(e75)&&(n75[e75]=S75[e75]);return n75;};},function(r75,u95,J75){function I75(f95,D95,Y95){function C95(F95,l95){if(w95)return F95;var U95=!0,q95={};for(var R95 in F95)if(F95.hasOwnProperty(R95)){var o95=F95[R95=k75(f95,R95,null)],t95=k75(D95,o95,null);U95=U95&&o95===t95,q95[R95]=t95;}return U95&&(q95=F95),q95;}var c95=Y95||i75(f95,D95),w95=(A75(f95),A75(D95),j75(f95)&&j75(D95));return C95.meta={kind:"dict",domain:f95,codomain:D95,name:Y95,identity:w95},C95.displayName=c95,C95.is=function(G95){if(!E75(G95))return!1;for(var m95 in G95)if(G95.hasOwnProperty(m95)&&(!Q75(m95,f95)||!Q75(G95[m95],D95)))return!1;return!0;},C95.update=function(K95,N95){return C95(y75.update(K95,N95));},C95;}var y75=J75(2),A75=(J75(8),J75(6),J75(3)),j75=J75(13),E75=J75(15),k75=J75(12),Q75=J75(11);I75.getDefaultName=i75,r75.exports=I75;function i75(X95,h95){return"{[key: "+A75(X95)+"]: "+A75(h95)+(7250>=308.85?"}":("x","s"));}},function(P95,M95,a95){var b95=a95(7),g95=a95(27);P95.exports=b95("String",g95);},function(Z95,B95,L95){var T95=L95(2),d95=(L95(8),L95(6),L95(19),L95(13)),x95=L95(12),V95=L95(11),p95=L95(3),v95=L95(20);H95.getDefaultName=O95,Z95.exports=H95;function O95(W95,z95){return"{"+p95(W95)+" | "+v95(z95)+"}";}function H95(e95,n95,s95){function S95(j95,Q95){return x95(e95,j95,Q95);}var J95=s95||O95(e95,n95),A95=d95(e95);return S95.meta={kind:"subtype",type:e95,predicate:n95,name:s95,identity:A95},S95.displayName=J95,S95.is=function(k95){return V95(k95,e95)&&n95(k95);},S95.update=function(i95,I95){return S95(T95.update(i95,I95));},S95;}},function(y95,u85,r95){var E95=r95(7);y95.exports=E95("Any",function(){return!0;});},function(D85,C85,X85){var h85=X85(68),f85=X85(67);D85.exports=function(w85){return h85(f85(w85));};},function(F85,R85){var Y85=0,c85=Math.random();F85.exports=function(U85){return"Symbol(".concat(void 0===U85?"":U85,")_",(++Y85+c85).toString(36));};},function(l85,G85,q85){var o85=q85(71),t85=q85(223);l85.exports=q85(28)?function(m85,K85,N85){return o85.f(m85,K85,t85(1,N85));}:function(a85,b85,g85){return a85[b85]=g85,a85;};},function(d85,v85,L85){var M85=L85(22),x85=L85(21),H85=L85(39),T85=L85(222),O85=L85(221),P85=function(B85,Z85,n85){var p85,Q85,V85,A85,k85=B85&P85.F,S85=B85&P85.G,J85=B85&P85.S,s85=B85&P85.P,j85=B85&P85.B,W85=S85?M85:J85?M85[Z85]||(M85[Z85]={}):(M85[Z85]||{}).prototype,z85=S85?x85:x85[Z85]||(x85[Z85]={}),e85=z85.prototype||(z85.prototype={});for(p85 in S85&&(n85=Z85),n85)V85=((Q85=!k85&&W85&&void 0!==W85[p85])?W85:n85)[p85],A85=j85&&Q85?O85(V85,M85):s85&&"function"==typeof V85?O85(Function.call,V85):V85,W85&&T85(W85,p85,V85,B85&P85.U),z85[p85]!=V85&&H85(z85,p85,A85),s85&&e85[p85]!=V85&&(e85[p85]=V85);};M85.core=x85,P85.F=1,P85.G=2,P85.S=4,P85.P=8,P85.B=16,P85.W=32,P85.U=64,P85.R=128,d85.exports=P85;},function(i85,I85){i85.exports=function(E85){try{return!!E85();}catch(y85){return!0;}};},function(r85,u35){r85.exports=function(X35){return"object"==typeof X35?null!==X35:"function"==typeof X35;};},function(U35,o35,q35){"use strict";var f35=q35(238),Y35=Object.prototype.hasOwnProperty,F35=Object.propertyIsEnumerable,c35={concatArrays:!1},D35=function(l35){var G35=[];for(var K35 in l35)Y35.call(l35,K35)&&G35.push(K35);if(Object.getOwnPropertySymbols)for(var m35=Object.getOwnPropertySymbols(l35),t35=0;t35<m35.length;t35++)F35.call(l35,m35[t35])&&G35.push(m35[t35]);return G35;};var w35=function(x35,O35,H35,T35){return H35.forEach(function(d35){x35[d35]=d35 in x35?C35(x35[d35],O35[d35],T35):h35(O35[d35]);}),x35;},R35=function(V35,Z35,B35){var v35=V35.slice(0,0),p35=0;return[V35,Z35].forEach(function(W35){for(var S35=[],z35=0;z35<W35.length;z35++)Y35.call(W35,z35)&&(S35.push(String(z35)),v35[p35++]=W35===V35?W35[z35]:h35(W35[z35]));v35=w35(v35,W35,D35(W35).filter(function(e35){return-1===S35.indexOf(e35);}),B35);}),v35;};function h35(N35){return Array.isArray(N35)?(b35=(a35=N35).slice(0,0),D35(a35).forEach(function(g35){b35[g35]=h35(a35[g35]);}),b35):f35(N35)?function(P35){var M35=null===Object.getPrototypeOf(P35)?Object.create(null):{};return D35(P35).forEach(function(L35){M35[L35]=h35(P35[L35]);}),M35;}(N35):N35;var a35,b35;}U35.exports=function(){for(var k35=C35(h35(c35),void 0!==this&&this||{},c35),j35={},Q35=0;Q35<arguments.length;Q35++){var A35=arguments[Q35];if(void 0!==A35){if(!f35(A35))throw new TypeError("`"+A35+"` is not an Option Object");j35=C35(j35,A35,k35);}}return j35;};function C35(s35,n35,J35){return J35.concatArrays&&Array.isArray(s35)&&Array.isArray(n35)?R35(s35,n35,J35):f35(n35)&&f35(s35)?w35(s35,n35,D35(n35),J35):h35(n35);}},function(i35,E35,I35){i35.exports=I35(241);},function(C55,X55,D55){"use strict";function f55(w55,Y55,c55){return Y55 in w55?Object.defineProperty(w55,Y55,{value:c55,enumerable:!0,configurable:!0,writable:!0}):w55[Y55]=c55,w55;}var h55;Object.defineProperty(X55,"__esModule",{value:!0}),X55.CCSettingsList=X55.CCSettingsOptions=X55.CCSettingsOptionsKeys=void 0;var r35=D55(1);var y35=X55.CCSettingsOptionsKeys={COLORS:"colors",OPACITIES:"opacities",SIZES:"sizes",EDGES:"edges",FONT_TYPES:"fontTypes"},u55=X55.CCSettingsOptions=(f55(h55={},y35.COLORS,[{id:"Red",label:"Red"},{id:"Blue",label:"Blue"},{id:"Yellow",label:"Yellow"},{id:"White",label:"White"},{id:"Black",label:"Black"},{id:"Green",label:"Green"},{id:"Cyan",label:"Cyan"},{id:"Magenta",label:"Magenta"},{id:"Default",label:"Default"}]),f55(h55,y35.OPACITIES,[{id:"Opacity_0",label:"0"},{id:"Opacity_25",label:"25"},{id:"Opacity_50",label:"50"},{id:"Opacity_75",label:"75"},{id:"Opacity_100",label:"100"},{id:"Default",label:"Default"}]),f55(h55,y35.SIZES,[{id:"Large",label:"Large"},{id:"Medium",label:"Medium"},{id:"Small",label:"Small"},{id:"Default",label:"Default"}]),f55(h55,y35.EDGES,[{id:"Depressed",label:"Depressed"},{id:"Drop_Shadow_Left",label:"Drop Shadow Left"},{id:"Drop_Shadow_Right",label:"Drop Shadow Right"},{id:"None",label:"None"},{id:"Raised",label:"Raised"},{id:"Uniform",label:"Uniform"},{id:"Default",label:"Default"}]),f55(h55,y35.FONT_TYPES,[{id:"Casual",label:"Casual"},{id:"Cursive",label:"Cursive"},{id:"Monospaced_With_Serifs",label:"Serif Monospace"},{id:"Monospaced_Without_Serifs",label:"Sans-Serif Monospace"},{id:"Proportional_With_Serifs",label:"Serif"},{id:"Proportional_Without_Serifs",label:"Sans-Serif"},{id:"Small_Capitals",label:"Small Capitals"},{id:"Default",label:"Default"}]),h55);X55.CCSettingsList=[{id:"backgroundColor",label:"BG Color",type:r35.CaptionsSettingsState.Color,options:u55[y35.COLORS]},{id:"backgroundOpacity",label:"BG Opacity",type:r35.CaptionsSettingsState.Opacity,options:u55[y35.OPACITIES]},{id:"fontColor",label:"Font Color",type:r35.CaptionsSettingsState.Color,options:u55[y35.COLORS]},{id:"fontEdge",label:"Font Edge",type:r35.CaptionsSettingsState.Edge,options:u55[y35.EDGES]},{id:"fontOpacity",label:"Font Opacity",type:r35.CaptionsSettingsState.Opacity,options:u55[y35.OPACITIES]},{id:"fontType",label:"Font Type",type:r35.CaptionsSettingsState.FontType,options:u55[y35.FONT_TYPES]},{id:"size",label:"Font Size",type:r35.CaptionsSettingsState.Size,options:u55[y35.SIZES]}];},function(R55,F55,U55){"use strict";Object.defineProperty(F55,"__esModule",{value:!0});F55.default={PLAY:"play",PLAY_CIRCLE:"play-circle",PAUSE:"pause",VOLUME_MUTE:"volume-mute",VOLUME_LOW:"volume-low",VOLUME_MID:"volume-mid",VOLUME_HIGH:"volume-high",FULLSCREEN_ENTER:"fullscreen-enter",FULLSCREEN_EXIT:"fullscreen-exit",SQUARE:"square",SPINNER:"spinner",SUBTITLES:"subtitles",CAPTIONS:"captions",CHAPTERS:"chapters",SHARE:"share",COG:"cog",CIRCLE:"circle",CIRCLE_OUTLINE:"circle-outline",CIRCLE_INNER_CIRCLE:"circle-inner-circle",HD:"hd",CANCEL:"cancel",REPLAY:"replay",FACEBOOK:"facebook",GPLUS:"gplus",LINKEDIN:"linkedin",TWITTER:"twitter",TUMBLR:"tumblr",PINTEREST:"pinterest",AUDIO_DESCRIPTION:"audio-description",AUDIO:"audio",PAUSE_CIRCLE:"pause-circle",STOP:"stop",FAST_FORWARD:"fast-forward",FAST_REWIND:"fast-rewind",SKIP_NEXT:"skip-next",SKIP_PREVIOUS:"skip-previous",ALERT:"alert",COPYRIGHT:"copyright",FAVORITE:"favorite",FAVORITE_FILLED:"favorite-filled",EXIT:"exit",HELP_FILLED:"help-filled",HELP:"help",INFO_FILLED:"info-filled",INFO:"info",ARROW_DROP_DOWN:"arrow-drop-down",ARROW_DROP_UP:"arrow-drop-up",CHEVRON_RIGHT:"chevron-right",CHEVRON_LEFT:"chevron-left",CHECK:"check",CLOSE:"close"};},function(M55,b55,P55){"use strict";var G55,m55,K55;Object.defineProperty(b55,"__esModule",{value:!0});function t55(L55,x55,O55){return x55 in L55?Object.defineProperty(L55,x55,{value:O55,enumerable:!0,configurable:!0,writable:!0}):L55[x55]=O55,L55;}var o55=P55(1);var q55=o55.ComponentName.controls,g55=o55.ComponentName.slates,N55=Object.values(q55),l55=Object.values(g55),a55={autoAttachToDom:!0,dvr:!0,inactivityThreshold:4e3,liveThreshold:15,elements:{controlBar:{components:t55({},q55.PROGRESS_BAR,{markerColor:"#ffffff"}),sets:(G55={},t55(G55,o55.DeliveryType.VOD,[q55.PLAY,q55.VOLUME,q55.CLOSED_CAPTIONS,q55.FULLSCREEN,q55.TIME_DURATION,q55.PROGRESS_BAR]),t55(G55,o55.DeliveryType.LIVE,[q55.PLAY,q55.VOLUME,q55.CLOSED_CAPTIONS,q55.FULLSCREEN,q55.LIVE]),t55(G55,o55.DeliveryType.DVR,[q55.PLAY,q55.VOLUME,q55.CLOSED_CAPTIONS,q55.FULLSCREEN,q55.LIVE,q55.PROGRESS_BAR]),G55),order:(m55={},t55(m55,o55.LocationName.LEFT,[q55.PLAY,q55.VOLUME,q55.TIME_DURATION,q55.LIVE]),t55(m55,o55.LocationName.RIGHT,[q55.CLOSED_CAPTIONS,q55.FULLSCREEN]),t55(m55,o55.LocationName.PROGRESS_BAR,[q55.PROGRESS_BAR]),m55),active:N55},slates:{components:{},sets:(K55={},t55(K55,o55.DeliveryType.VOD,l55),t55(K55,o55.DeliveryType.LIVE,l55),t55(K55,o55.DeliveryType.DVR,l55),K55),active:l55}},theme:o55.ThemeName.DEFAULT,metadata:{},debug:{}};b55.default=a55;},function(Q55,T55,d55){"use strict";Object.defineProperty(T55,"__esModule",{value:!0}),T55.PreactComponent=void 0;var j55="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k55){return typeof k55;}:function(i55){return i55&&"function"==typeof Symbol&&i55.constructor===Symbol&&i55!==Symbol.prototype?"symbol":typeof i55;},e55=W55(d55(0)),H55=W55(d55(60)),v55=d55(1);d55(47);var V55=H55.default.enums.of(Object.values(v55.DeliveryType)),S55=H55.default.enums.of(Object.values(v55.LocationName)),p55=H55.default.enums.of(Object.values(v55.ThemeName)),n55=(T55.PreactComponent=H55.default.irreducible("PreactComponent",function(E55){return E55.prototype instanceof e55.default.Component;}),H55.default.struct({order:H55.default.maybe(H55.default.dict(S55,H55.default.list(H55.default.String))),components:H55.default.maybe(H55.default.dict(H55.default.String,H55.default.Object)),sets:H55.default.maybe(H55.default.dict(V55,H55.default.list(H55.default.String))),active:H55.default.maybe(H55.default.list(H55.default.String))},{name:"ControlBar",strict:!0})),s55=H55.default.struct({components:H55.default.maybe(H55.default.dict(H55.default.String,H55.default.Object)),sets:H55.default.maybe(H55.default.dict(V55,H55.default.list(H55.default.String))),active:H55.default.maybe(H55.default.list(H55.default.String))},{name:"Slates",strict:!0}),J55=H55.default.struct({controlBar:H55.default.maybe(n55),slates:H55.default.maybe(s55)},{name:"Elements",strict:!0}),Z55=H55.default.struct({accentColor:H55.default.maybe(H55.default.String)},{strict:!1}),B55=H55.default.union([Z55,p55],"Theme");B55.dispatch=function(y55){return"object"===(void 0===y55?"undefined":j55(y55))?Z55:p55;};var z55=H55.default.struct({posterImage:H55.default.maybe(H55.default.String)},{name:"Metadata",strict:!1}),A55=H55.default.struct({autoAttachToDom:H55.default.maybe(H55.default.Boolean),dvr:H55.default.maybe(H55.default.Boolean),inactivityThreshold:H55.default.maybe(H55.default.Number),liveThreshold:H55.default.maybe(H55.default.Number),elements:H55.default.maybe(J55),theme:H55.default.maybe(B55),metadata:H55.default.maybe(z55),debug:H55.default.maybe(H55.default.Object)},{name:"Config",strict:!0});T55.default=A55;function W55(I55){return I55&&I55.__esModule?I55:{default:I55};}},function(r55,u0N){r55.exports=function(f0N,h0N){for(var X0N in h0N)h0N.hasOwnProperty(X0N)&&(f0N[X0N]=h0N[X0N]);return f0N;};},function(o0N,t0N,D0N){function Y0N(G0N,N0N){function m0N(M0N,T0N){if(K0N)return M0N;for(var g0N=!0,P0N=[],b0N=0,O0N=G0N.length;b0N<O0N;b0N++){var H0N=G0N[b0N],L0N=M0N[b0N],x0N=q0N(H0N,L0N,null);g0N=g0N&&L0N===x0N,P0N.push(x0N);}return g0N&&(P0N=M0N),P0N;}var a0N=N0N||w0N(G0N),K0N=G0N.every(C0N);return m0N.meta={kind:"tuple",types:G0N,name:N0N,identity:K0N},m0N.displayName=a0N,m0N.is=function(d0N){return U0N(d0N)&&d0N.length===G0N.length&&G0N.every(function(v0N,V0N){return R0N(d0N[V0N],v0N);});},m0N.update=function(p0N,Z0N){return m0N(c0N.update(p0N,Z0N));},m0N;}var c0N=D0N(2),F0N=(D0N(8),D0N(6),D0N(3)),C0N=D0N(13),U0N=D0N(14),q0N=D0N(12),R0N=D0N(11);Y0N.getDefaultName=w0N,o0N.exports=Y0N;function w0N(l0N){return"["+l0N.map(F0N).join(", ")+(8920==(8930,8706)?false:"]");}},function(n0N,s0N,B0N){B0N(2),B0N(6),B0N(14);var W0N=B0N(32),z0N=(B0N(173),B0N(172),B0N(15)),S0N=B0N(35),e0N=B0N(171);n0N.exports=function(I0N,E0N,J0N){var A0N={},j0N={},Q0N=[],k0N={};E0N.forEach(function(f1N,D1N){var X1N,h1N,r0N,u1N=e0N(f1N),y0N=u1N.unrefinedType;X1N=Q0N,h1N=u1N.predicates,Array.prototype.push.apply(X1N,h1N),W0N(A0N,z0N(r0N=y0N)?r0N:r0N.meta.props),W0N(j0N,y0N.prototype),W0N(k0N,function(C1N){return z0N(C1N)?null:C1N.meta.defaultProps;}(y0N),!0);}),(J0N=I0N.getOptions(J0N)).defaultProps=W0N(k0N,J0N.defaultProps,!0);var i0N=function(c1N,F1N,Y1N){var w1N=c1N.reduce(function(R1N,U1N){return S0N(R1N,U1N);},F1N);return Y1N&&(w1N.displayName=Y1N,w1N.meta.name=Y1N),w1N;}(Q0N,I0N(A0N,{strict:J0N.strict,defaultProps:J0N.defaultProps}),J0N.name);return W0N(i0N.prototype,j0N),i0N;};},function(o1N,l1N,t1N){var q1N=t1N(3);o1N.exports=function(G1N){return"{"+Object.keys(G1N).map(function(m1N){return m1N+": "+q1N(G1N[m1N]);}).join(", ")+"}";};},function(O1N,H1N,K1N){var g1N=K1N(2),N1N=(K1N(8),K1N(6),K1N(3)),a1N=K1N(13),L1N=K1N(12),x1N=K1N(11),M1N=K1N(14);b1N.getDefaultName=P1N,O1N.exports=b1N;function P1N(T1N){return"Array<"+N1N(T1N)+">";}function b1N(d1N,p1N){function v1N(B1N,J1N){if(V1N)return B1N;for(var W1N=!0,z1N=[],S1N=0,s1N=B1N.length;S1N<s1N;S1N++){var e1N=B1N[S1N],n1N=L1N(d1N,e1N,null);W1N=W1N&&e1N===n1N,z1N.push(n1N);}return W1N&&(z1N=B1N),z1N;}var Z1N=p1N||P1N(d1N),V1N=(N1N(d1N),a1N(d1N));return v1N.meta={kind:"list",type:d1N,name:p1N,identity:V1N},v1N.displayName=Z1N,v1N.is=function(A1N){return M1N(A1N)&&A1N.every(function(j1N){return x1N(j1N,d1N);});},v1N.update=function(Q1N,k1N){return v1N(g1N.update(Q1N,k1N));},v1N;}},function(I1N,y1N,E1N){var i1N=E1N(5);I1N.exports=function(r1N){return i1N(r1N)&&"union"===r1N.meta.kind;};},function(u4N,X4N){u4N.exports=function(h4N){return"number"==typeof h4N&&isFinite(h4N)&&!isNaN(h4N);};},function(w4N,Y4N,f4N){var D4N=f4N(7),C4N=f4N(55);w4N.exports=D4N("Number",C4N);},function(U4N,q4N,c4N){var F4N=c4N(7),R4N=c4N(9);U4N.exports=F4N("Nil",R4N);},function(G4N,m4N,o4N){var t4N=o4N(7),l4N=o4N(26);G4N.exports=t4N("Boolean",l4N);},function(N4N,g4N,a4N){var K4N=a4N(20);N4N.exports=function(L4N){try{return JSON.stringify(L4N,b4N,2);}catch(x4N){return String(L4N);}};function b4N(M4N,P4N){return"function"==typeof P4N?K4N(P4N):P4N;}},function(W4N,S4N,z4N){"use strict";var O4N=z4N(187),V4N=O4N.stringify,p4N={},H4N=O4N.struct({message:O4N.Any,actual:O4N.Any,expected:O4N.Any,path:O4N.list(O4N.union([O4N.String,O4N.Number]))},"ValidationError");function d4N(C6N,D6N,w6N,Y6N){return O4N.isType(D6N)?T4N[D6N.meta.kind](C6N,D6N,w6N,Y6N):T4N.es6classes(C6N,D6N,w6N,Y6N);}H4N.of=function(I4N,E4N,y4N,r4N){return new H4N({message:B4N(I4N,E4N,y4N,r4N),actual:I4N,expected:E4N,path:y4N});};var v4N=O4N.struct({errors:O4N.list(H4N),value:O4N.Any},"ValidationResult");v4N.prototype.isValid=function(){return!this.errors.length;},v4N.prototype.firstError=function(){return this.isValid()?null:this.errors[0];},v4N.prototype.toString=function(){return this.isValid()?"[ValidationResult, true, "+V4N(this.value)+"]":"[ValidationResult, false, ("+this.errors.map(function(c6N){return V4N(c6N.message);}).join(", ")+")]";};var T4N=Z4N.validators={};function B4N(n4N,e4N,s4N,J4N){return O4N.Function.is(e4N.getValidationErrorMessage)?e4N.getValidationErrorMessage(n4N,s4N,J4N):function(k4N,i4N,j4N){var A4N=O4N.getTypeName(i4N),Q4N=j4N.length?"/"+j4N.join("/")+": "+A4N:A4N;return"Invalid value "+V4N(k4N)+" supplied to "+Q4N;}(n4N,e4N,s4N);}T4N.es6classes=function(F6N,R6N,U6N,q6N){return{value:F6N,errors:F6N instanceof R6N?[]:[H4N.of(F6N,R6N,U6N,q6N.context)]};},T4N.irreducible=T4N.enums=function(o6N,t6N,l6N,G6N){return{value:o6N,errors:t6N.is(o6N)?[]:[H4N.of(o6N,t6N,l6N,G6N.context)]};},T4N.list=function(K6N,b6N,g6N,P6N){if(!O4N.Array.is(K6N))return{value:K6N,errors:[H4N.of(K6N,b6N,g6N,P6N.context)]};for(var N6N={value:[],errors:[]},m6N=0,M6N=K6N.length;m6N<M6N;m6N++){var a6N=d4N(K6N[m6N],b6N.meta.type,g6N.concat(m6N),P6N);N6N.value[m6N]=a6N.value,N6N.errors=N6N.errors.concat(a6N.errors);}return N6N;},T4N.subtype=function(O6N,x6N,H6N,T6N){var L6N=d4N(O6N,x6N.meta.type,H6N,T6N);return L6N.errors.length?L6N:(x6N.meta.predicate(L6N.value)||(L6N.errors=[H4N.of(O6N,x6N,H6N,T6N.context)]),L6N);},T4N.maybe=function(d6N,v6N,V6N,p6N){return O4N.Nil.is(d6N)?{value:d6N,errors:[]}:d4N(d6N,v6N.meta.type,V6N,p6N);},T4N.struct=function(B6N,z6N,J6N,n6N){if(!O4N.Object.is(B6N))return{value:B6N,errors:[H4N.of(B6N,z6N,J6N,n6N.context)]};if(z6N.is(B6N))return{value:B6N,errors:[]};var Z6N={value:{},errors:[]},S6N=z6N.meta.props,j6N=z6N.meta.defaultProps||p4N;for(var W6N in S6N)if(S6N.hasOwnProperty(W6N)){var s6N=B6N[W6N];void 0===s6N&&(s6N=j6N[W6N]);var A6N=d4N(s6N,S6N[W6N],J6N.concat(W6N),n6N);Z6N.value[W6N]=A6N.value,Z6N.errors=Z6N.errors.concat(A6N.errors);}if(n6N.hasOwnProperty("strict")?n6N.strict:z6N.meta.strict)for(var e6N in B6N)B6N.hasOwnProperty(e6N)&&!S6N.hasOwnProperty(e6N)&&Z6N.errors.push(H4N.of(B6N[e6N],O4N.Nil,J6N.concat(e6N),n6N.context));return Z6N.errors.length||(Z6N.value=new z6N(Z6N.value)),Z6N;},T4N.tuple=function(k6N,r6N,u2N,X2N){var I6N=r6N.meta.types,E6N=I6N.length;if(!O4N.Array.is(k6N)||k6N.length>E6N)return{value:k6N,errors:[H4N.of(k6N,r6N,u2N,X2N.context)]};for(var i6N={value:[],errors:[]},Q6N=0;Q6N<E6N;Q6N++){var y6N=d4N(k6N[Q6N],I6N[Q6N],u2N.concat(Q6N),X2N);i6N.value[Q6N]=y6N.value,i6N.errors=i6N.errors.concat(y6N.errors);}return i6N;},T4N.dict=function(h2N,C2N,F2N,w2N){if(!O4N.Object.is(h2N))return{value:h2N,errors:[H4N.of(h2N,C2N,F2N,w2N.context)]};var D2N={value:{},errors:[]};for(var f2N in h2N)if(h2N.hasOwnProperty(f2N)){var Y2N=F2N.concat(f2N),R2N=d4N(f2N,C2N.meta.domain,Y2N,w2N),c2N=d4N(h2N[f2N],C2N.meta.codomain,Y2N,w2N);D2N.value[f2N]=c2N.value,D2N.errors=D2N.errors.concat(R2N.errors,c2N.errors);}return D2N;},T4N.union=function(U2N,o2N,t2N,l2N){var q2N=o2N.dispatch(U2N);return O4N.Function.is(q2N)?d4N(U2N,q2N,t2N.concat(o2N.meta.types.indexOf(q2N)),l2N):{value:U2N,errors:[H4N.of(U2N,o2N,t2N,l2N.context)]};},T4N.intersection=function(N2N,P2N,M2N,L2N){for(var K2N=P2N.meta.types,g2N=K2N.length,G2N={value:N2N,errors:[]},a2N=0,m2N=0;m2N<g2N;m2N++){"struct"===K2N[m2N].meta.kind&&a2N++;var b2N=d4N(N2N,K2N[m2N],M2N,L2N);G2N.errors=G2N.errors.concat(b2N.errors);}return a2N>1&&G2N.errors.push(H4N.of(N2N,P2N,M2N,L2N.context)),G2N;},T4N.interface=function(x2N,V2N,p2N,H2N){if(!O4N.Object.is(x2N))return{value:x2N,errors:[H4N.of(x2N,V2N,p2N,H2N.context)]};var O2N={value:{},errors:[]},v2N=V2N.meta.props;for(var T2N in v2N){var Z2N=d4N(x2N[T2N],v2N[T2N],p2N.concat(T2N),H2N);O2N.value[T2N]=Z2N.value,O2N.errors=O2N.errors.concat(Z2N.errors);}if(H2N.hasOwnProperty("strict")?H2N.strict:V2N.meta.strict)for(var d2N in x2N)v2N.hasOwnProperty(d2N)||O4N.Nil.is(x2N[d2N])||O2N.errors.push(H4N.of(x2N[d2N],O4N.Nil,p2N.concat(d2N),H2N.context));return O2N;},O4N.mixin(O4N,{ValidationError:H4N,ValidationResult:v4N,validate:Z4N}),W4N.exports=O4N;function Z4N(h6N,f6N,u6N){u6N=u6N||{};var X6N=O4N.Array.is(u6N)?u6N:u6N.path||[];return new v4N(d4N(h6N,f6N,X6N,u6N));}},function(E2N,Q2N,B2N){"use strict";function A2N(U7N,q7N,o7N){return q7N in U7N?Object.defineProperty(U7N,q7N,{value:o7N,enumerable:!0,configurable:!0,writable:!0}):U7N[q7N]=o7N,U7N;}Object.defineProperty(Q2N,"__esModule",{value:!0});var S2N=Object.assign||function(X7N){for(var y2N=1;y2N<arguments.length;y2N++){var r2N=arguments[y2N];for(var u7N in r2N)Object.prototype.hasOwnProperty.call(r2N,u7N)&&(X7N[u7N]=r2N[u7N]);}return X7N;},I2N=function(){function h7N(w7N,C7N){for(var D7N=0;D7N<C7N.length;D7N++){var f7N=C7N[D7N];f7N.enumerable=f7N.enumerable||!1,f7N.configurable=!0,"value"in f7N&&(f7N.writable=!0),Object.defineProperty(w7N,f7N.key,f7N);}}return function(Y7N,c7N,F7N){return c7N&&h7N(Y7N.prototype,c7N),F7N&&h7N(Y7N,F7N),Y7N;};}(),s2N=(W2N(B2N(0)),W2N(B2N(43))),J2N=B2N(60),j2N=B2N(1),e2N=B2N(24),n2N=W2N(B2N(48)),k2N=W2N(B2N(47)),i2N=W2N(B2N(164));var z2N=function(){function t7N(){!function(l7N,G7N){if(!(l7N instanceof G7N))throw new TypeError("Cannot call a class as a function");}(this,t7N);}return I2N(t7N,null,[{key:"mergeConfig",value:function(){var K7N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b7N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k2N.default,m7N=Object.assign({},b7N),a7N=(0,J2N.validate)(K7N,n2N.default,{path:["ui-config"]});if(a7N.isValid())m7N=(0,s2N.default)(m7N,K7N),Object.keys(K7N).length&&e2N.uiLogger.info("UI configuration updated. Configuration:",m7N);else{var N7N="The provided UI configuration is invalid:\n";N7N+=a7N.errors.map(function(g7N){return g7N.message;}).join("\n"),N7N+="\n\nThe default UI configuration will be used.",e2N.uiLogger.error(N7N);}return"string"==typeof m7N.theme&&(m7N.theme=Object.assign({},i2N.default[m7N.theme])),m7N;}},{key:"getActiveComponents",value:function(P7N,M7N){var L7N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j2N.DeliveryType.VOD,x7N=P7N.sets[L7N];return P7N.active.filter(function(O7N){return x7N.includes(O7N);}).reduce(function(T7N,H7N){return M7N[H7N]?S2N({},T7N,A2N({},H7N,M7N[H7N])):T7N;},{});}},{key:"getOrderedControlComponents",value:function(d7N,v7N){var V7N=Object.keys(d7N);return Object.keys(v7N).reduce(function(B7N,p7N){var Z7N=v7N[p7N].filter(function(W7N){return V7N.includes(W7N);}).map(function(z7N){return d7N[z7N];});return S2N({},B7N,A2N({},p7N,Z7N));},{});}}]),t7N;}();z2N.propertyList=Object.keys(n2N.default.meta.props),Q2N.default=z2N;function W2N(R7N){return R7N&&R7N.__esModule?R7N:{default:R7N};}},function(e7N,S7N,n7N){"use strict";Object.defineProperty(S7N,"__esModule",{value:!0});S7N.default={CONTROLS:"controls",SLATES:"slates",MENUS:"menus"};},function(J7N,s7N){s7N.f={}.propertyIsEnumerable;},function(Q7N,i7N,k7N){var A7N=k7N(22),j7N=A7N["__core-js_shared__"]||(A7N["__core-js_shared__"]={});Q7N.exports=function(I7N){return j7N[I7N]||(j7N[I7N]={});};},function(r7N,u9N){var E7N=Math.ceil,y7N=Math.floor;r7N.exports=function(X9N){return isNaN(X9N=+X9N)?0:(X9N>0?y7N:E7N)(X9N);};},function(w9N,Y9N,h9N){var f9N=h9N(37),D9N=h9N(216),C9N=h9N(215);w9N.exports=function(c9N){return function(t9N,q9N,l9N){var o9N,R9N=f9N(t9N),U9N=D9N(R9N.length),F9N=C9N(l9N,U9N);if(c9N&&q9N!=q9N){for(;U9N>F9N;)if((o9N=R9N[F9N++])!=o9N)return!0;}else for(;U9N>F9N;F9N++)if((c9N||F9N in R9N)&&R9N[F9N]===q9N)return c9N||F9N||0;return!c9N&&-1;};};},function(G9N,m9N){G9N.exports=function(K9N){if(void 0==K9N)throw TypeError("Can't call method on  "+K9N);return K9N;};},function(a9N,g9N,b9N){var N9N=b9N(217);a9N.exports=Object("z").propertyIsEnumerable(0)?Object:function(P9N){return"String"==N9N(P9N)?P9N.split(""):Object(P9N);};},function(O9N,H9N,M9N){var L9N=M9N(218),x9N=M9N(213);O9N.exports=Object.keys||function(T9N){return L9N(T9N,x9N);};},function(v9N,V9N){var d9N={}.hasOwnProperty;v9N.exports=function(p9N,Z9N){return d9N.call(p9N,Z9N);};},function(s9N,n9N,B9N){var W9N=B9N(229),z9N=B9N(228),S9N=B9N(226),e9N=Object.defineProperty;n9N.f=B9N(28)?Object.defineProperty:function(A9N,j9N,J9N){if(W9N(A9N),j9N=S9N(j9N,!0),W9N(J9N),z9N)try{return e9N(A9N,j9N,J9N);}catch(Q9N){}if("get"in J9N||"set"in J9N)throw TypeError("Accessors not supported!");return"value"in J9N&&(A9N[j9N]=J9N.value),A9N;};},function(k9N,I9N,i9N){k9N.exports=i9N(237)();},function(r9N,E9N,y9N){"use strict";(function(u8N){var X8N="object"==typeof u8N&&u8N&&u8N.Object===Object&&u8N;E9N.a=X8N;}.call(this,y9N(29)));},,function(h8N,f8N,D8N){},,function(C8N,w8N,Y8N){},,function(c8N,F8N,R8N){},,function(U8N,q8N,o8N){},function(g8N,K8N,G8N){"use strict";Object.defineProperty(K8N,"__esModule",{value:!0});var l8N,N8N=function(){function P8N(O8N,x8N){for(var L8N=0;L8N<x8N.length;L8N++){var M8N=x8N[L8N];M8N.enumerable=M8N.enumerable||!1,M8N.configurable=!0,"value"in M8N&&(M8N.writable=!0),Object.defineProperty(O8N,M8N.key,M8N);}}return function(H8N,T8N,d8N){return T8N&&P8N(H8N.prototype,T8N),d8N&&P8N(H8N,d8N),H8N;};}(),a8N=G8N(0),t8N=(l8N=a8N)&&l8N.__esModule?l8N:{default:l8N},m8N=G8N(4);G8N(81);var b8N=function(V8N){function v8N(){return function(p8N,Z8N){if(!(p8N instanceof Z8N))throw new TypeError("Cannot call a class as a function");}(this,v8N),function(W8N,B8N){if(!W8N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!B8N||"object"!=typeof B8N&&"function"!=typeof B8N?W8N:B8N;}(this,(v8N.__proto__||Object.getPrototypeOf(v8N)).apply(this,arguments));}return function(S8N,z8N){if("function"!=typeof z8N&&null!==z8N)throw new TypeError("Super expression must either be null or a function, not "+typeof z8N);S8N.prototype=Object.create(z8N&&z8N.prototype,{constructor:{value:S8N,enumerable:!1,writable:!0,configurable:!0}}),z8N&&(Object.setPrototypeOf?Object.setPrototypeOf(S8N,z8N):S8N.__proto__=z8N);}(v8N,t8N.default.Component),N8N(v8N,[{key:"renderIcon",value:function(){return this.props.isActive?t8N.default.h(m8N.Icon,{type:m8N.IconType.STOP,className:"tui-cc-menu__active-icon"}):null;}},{key:"render",value:function(e8N){var n8N=e8N.className+" tui-cc-menu__button";return t8N.default.h("div",{onClick:e8N.onPress,className:n8N,style:e8N.style,role:"button",tabIndex:"-1"},t8N.default.h("span",{className:"tui-cc-menu__content",role:"button",tabIndex:"0"},this.renderIcon(),e8N.children));}}]),v8N;}();K8N.default=b8N;},function(Q8N,J8N,j8N){"use strict";Object.defineProperty(J8N,"__esModule",{value:!0});var s8N=j8N(18),A8N={CC_TRACKS:{id:"ccTrack",label:"Closed Captions",component:s8N.CCTracks},CC_SETTINGS:{id:"ccSettings",label:"Settings",component:s8N.CCSettings},CC_SETTINGS_ITEM:{id:"ccSettingsList",label:"Settings List",component:s8N.CCSettingsItem}};J8N.default=A8N;},,function(k8N,i8N,I8N){},function(c3N,C3N,y8N){"use strict";Object.defineProperty(C3N,"__esModule",{value:!0});var u3N,w3N=function(){function F3N(o3N,q3N){for(var U3N=0;U3N<q3N.length;U3N++){var R3N=q3N[U3N];R3N.enumerable=R3N.enumerable||!1,R3N.configurable=!0,"value"in R3N&&(R3N.writable=!0),Object.defineProperty(o3N,R3N.key,R3N);}}return function(t3N,l3N,G3N){return l3N&&F3N(t3N.prototype,l3N),G3N&&F3N(t3N,G3N),t3N;};}(),h3N=y8N(0),E8N=(u3N=h3N)&&u3N.__esModule?u3N:{default:u3N},X3N=y8N(4),r8N=y8N(18),Y3N=y8N(45);y8N(85);function f3N(K3N,m3N){if(!K3N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m3N||"object"!=typeof m3N&&"function"!=typeof m3N?K3N:m3N;}var D3N=function(a3N){function N3N(){var L3N,x3N,b3N;!function(O3N,H3N){if(!(O3N instanceof H3N))throw new TypeError("Cannot call a class as a function");}(this,N3N);for(var P3N=arguments.length,M3N=Array(P3N),g3N=0;g3N<P3N;g3N++)M3N[g3N]=arguments[g3N];return x3N=b3N=f3N(this,(L3N=N3N.__proto__||Object.getPrototypeOf(N3N)).call.apply(L3N,[this].concat(M3N))),b3N.onUpdateSetting=function(T3N,d3N){b3N.props.updateCCSetting(T3N,d3N),b3N.props.routeTo(r8N.CCMenuRoutes.CC_SETTINGS);},f3N(b3N,x3N);}return function(V3N,v3N){if("function"!=typeof v3N&&null!==v3N)throw new TypeError("Super expression must either be null or a function, not "+typeof v3N);V3N.prototype=Object.create(v3N&&v3N.prototype,{constructor:{value:V3N,enumerable:!1,writable:!0,configurable:!0}}),v3N&&(Object.setPrototypeOf?Object.setPrototypeOf(V3N,v3N):V3N.__proto__=v3N);}(N3N,E8N.default.Component),w3N(N3N,[{key:"renderOptionsList",value:function(){var B3N=this,Z3N=this.props,W3N=Z3N.ccSettings,p3N=Z3N.currentSetting;return Y3N.CCSettingsList.filter(function(z3N){return z3N.id===p3N.id;})[0].options.map(function(e3N){var S3N=p3N.type[e3N.id],n3N=W3N[p3N.id],s3N=S3N===n3N;return E8N.default.h(r8N.CCMenuButton,{className:"tui-cc-settings-item__option cc-menu__button",onPress:function(){return B3N.onUpdateSetting(p3N.id,S3N);},isActive:s3N},e3N.label);});}},{key:"render",value:function(J3N){return E8N.default.h("div",{className:"tui-cc-settings-item"},E8N.default.h(r8N.CCMenuButton,{className:"tui-cc-settings-item__navigation",onPress:function(){return J3N.routeTo(r8N.CCMenuRoutes.CC_SETTINGS);}},E8N.default.h(X3N.Icon,{type:X3N.IconType.CHEVRON_LEFT}),"Settings"),E8N.default.h("span",{className:"tui-cc-menu__divider"}),E8N.default.h("span",{className:"tui-cc-settings-item__options-title"},J3N.currentSetting.label),this.renderOptionsList());}}]),N3N;}();C3N.default=D3N;},,function(A3N,j3N,Q3N){},function(C5N,r3N,I3N){"use strict";Object.defineProperty(r3N,"__esModule",{value:!0});var h5N=function(){function w5N(R5N,F5N){for(var c5N=0;c5N<F5N.length;c5N++){var Y5N=F5N[c5N];Y5N.enumerable=Y5N.enumerable||!1,Y5N.configurable=!0,"value"in Y5N&&(Y5N.writable=!0),Object.defineProperty(R5N,Y5N.key,Y5N);}}return function(U5N,q5N,o5N){return q5N&&w5N(U5N.prototype,q5N),o5N&&w5N(U5N,o5N),U5N;};}(),k3N=D5N(I3N(0)),y3N=D5N(I3N(23)),E3N=I3N(4),i3N=I3N(18),f5N=I3N(45);I3N(88);function D5N(t5N){return t5N&&t5N.__esModule?t5N:{default:t5N};}var X5N=function(K5N){function m5N(){var P5N,M5N,N5N;!function(L5N,x5N){if(!(L5N instanceof x5N))throw new TypeError("Cannot call a class as a function");}(this,m5N);for(var b5N=arguments.length,g5N=Array(b5N),a5N=0;a5N<b5N;a5N++)g5N[a5N]=arguments[a5N];return M5N=N5N=u5N(this,(P5N=m5N.__proto__||Object.getPrototypeOf(m5N)).call.apply(P5N,[this].concat(g5N))),N5N.showOptions=function(O5N,H5N){N5N.props.updateCurrentSetting(H5N),N5N.props.routeTo(O5N);},u5N(N5N,M5N);}return function(d5N,T5N){if("function"!=typeof T5N&&null!==T5N)throw new TypeError("Super expression must either be null or a function, not "+typeof T5N);d5N.prototype=Object.create(T5N&&T5N.prototype,{constructor:{value:d5N,enumerable:!1,writable:!0,configurable:!0}}),T5N&&(Object.setPrototypeOf?Object.setPrototypeOf(d5N,T5N):d5N.__proto__=T5N);}(m5N,k3N.default.Component),h5N(m5N,[{key:"renderSettingsList",value:function(){var V5N=this,v5N=this.props,p5N=v5N.ccSettings,Z5N=v5N.ccStagedSettings;return f5N.CCSettingsList.map(function(B5N){var W5N=p5N[B5N.id],z5N=Z5N[B5N.id];if(!W5N)return null;var S5N=B5N.options.filter(function(n5N){return n5N.id===W5N.toString();})[0].label,e5N=(0,y3N.default)("tui-cc-settings__item-value",{"tui-cc-settings__item-value--staged":z5N});return k3N.default.h(i3N.CCMenuButton,{className:"tui-cc-settings__item",onPress:function(){return V5N.showOptions(i3N.CCMenuRoutes.CC_SETTINGS_ITEM,B5N);}},k3N.default.h("span",{className:"tui-cc-settings__item-label"},B5N.label),k3N.default.h("div",{className:"tui-cc-settings__active-wrapper"},k3N.default.h("span",{className:e5N},S5N),k3N.default.h(E3N.Icon,{type:E3N.IconType.CHEVRON_RIGHT})));});}},{key:"render",value:function(s5N){var J5N=Object.keys(s5N.ccStagedSettings).length>0,A5N={border:"2px solid "+s5N.theme.accentColor,color:"#fff"},j5N=J5N?A5N:{},Q5N=(0,y3N.default)("tui-cc-settings__apply",{"tui-cc-settings__apply--staged":J5N});return k3N.default.h("div",{className:"tui-cc-settings"},k3N.default.h(i3N.CCMenuButton,{className:"tui-cc-settings__navigation",onPress:function(){return s5N.routeTo(i3N.CCMenuRoutes.CC_TRACKS);}},k3N.default.h(E3N.Icon,{type:E3N.IconType.CHEVRON_LEFT}),"Closed Captions"),k3N.default.h("span",{className:"cc-menu__divider"}),this.renderSettingsList(),k3N.default.h("div",{className:"tui-cc-settings__controls"},k3N.default.h(i3N.CCMenuButton,{className:"tui-cc-settings__reset",onPress:s5N.resetCCSettings},"Reset"),k3N.default.h(i3N.CCMenuButton,{className:Q5N,style:j5N,onPress:s5N.applyCCSettings},"Apply")));}}]),m5N;}();function u5N(G5N,l5N){if(!G5N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l5N||"object"!=typeof l5N&&"function"!=typeof l5N?G5N:l5N;}r3N.default=X5N;},,function(k5N,i5N,I5N){},function(w0w,D0w,r5N){"use strict";Object.defineProperty(D0w,"__esModule",{value:!0});var u0w,h0w=function(){function Y0w(U0w,R0w){for(var F0w=0;F0w<R0w.length;F0w++){var c0w=R0w[F0w];c0w.enumerable=c0w.enumerable||!1,c0w.configurable=!0,"value"in c0w&&(c0w.writable=!0),Object.defineProperty(U0w,c0w.key,c0w);}}return function(q0w,o0w,t0w){return o0w&&Y0w(q0w.prototype,o0w),t0w&&Y0w(q0w,t0w),q0w;};}(),f0w=r5N(0),E5N=(u0w=f0w)&&u0w.__esModule?u0w:{default:u0w},X0w=r5N(4),y5N=r5N(18);r5N(91);var C0w=function(G0w){function l0w(){return function(m0w,K0w){if(!(m0w instanceof K0w))throw new TypeError("Cannot call a class as a function");}(this,l0w),function(a0w,N0w){if(!a0w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N0w||"object"!=typeof N0w&&"function"!=typeof N0w?a0w:N0w;}(this,(l0w.__proto__||Object.getPrototypeOf(l0w)).apply(this,arguments));}return function(g0w,b0w){if("function"!=typeof b0w&&null!==b0w)throw new TypeError("Super expression must either be null or a function, not "+typeof b0w);g0w.prototype=Object.create(b0w&&b0w.prototype,{constructor:{value:g0w,enumerable:!1,writable:!0,configurable:!0}}),b0w&&(Object.setPrototypeOf?Object.setPrototypeOf(g0w,b0w):g0w.__proto__=b0w);}(l0w,E5N.default.Component),h0w(l0w,[{key:"renderTracks",value:function(){var P0w=this.props,L0w=P0w.tracks,x0w=P0w.selectTrack,M0w=P0w.currentTrack,O0w=P0w.isEnabled;return L0w.map(function(H0w){var T0w=!1;return O0w&&M0w&&M0w===H0w&&(T0w=!0),E5N.default.h(y5N.CCMenuButton,{onPress:function(){return x0w(H0w);},isActive:T0w},H0w.label||"Unknown");});}},{key:"render",value:function(d0w){return E5N.default.h("div",{className:"tui-cc-tracks"},E5N.default.h(y5N.CCMenuButton,{className:"tui-cc-tracks__settings",onPress:function(){return d0w.routeTo(y5N.CCMenuRoutes.CC_SETTINGS);}},"Settings",E5N.default.h(X0w.Icon,{type:X0w.IconType.CHEVRON_RIGHT})),E5N.default.h("span",{className:"tui-cc-menu__divider"}),E5N.default.h(y5N.CCMenuButton,{onPress:d0w.disableCC,isActive:!d0w.isEnabled},"Off"),this.renderTracks());}}]),l0w;}();D0w.default=C0w;},function(J0w,n0w,Z0w){"use strict";Object.defineProperty(n0w,"__esModule",{value:!0});var B0w,W0w=Object.assign||function(k0w){for(var A0w=1;A0w<arguments.length;A0w++){var j0w=arguments[A0w];for(var Q0w in j0w)Object.prototype.hasOwnProperty.call(j0w,Q0w)&&(k0w[Q0w]=j0w[Q0w]);}return k0w;},S0w=function(){function i0w(r0w,y0w){for(var E0w=0;E0w<y0w.length;E0w++){var I0w=y0w[E0w];I0w.enumerable=I0w.enumerable||!1,I0w.configurable=!0,"value"in I0w&&(I0w.writable=!0),Object.defineProperty(r0w,I0w.key,I0w);}}return function(u1w,X1w,h1w){return X1w&&i0w(u1w.prototype,X1w),h1w&&i0w(u1w,h1w),u1w;};}(),s0w=Z0w(0),z0w=(B0w=s0w)&&B0w.__esModule?B0w:{default:B0w},V0w=Z0w(1),p0w=Z0w(18);Z0w(79);function v0w(f1w,D1w,C1w){return D1w in f1w?Object.defineProperty(f1w,D1w,{value:C1w,enumerable:!0,configurable:!0,writable:!0}):f1w[D1w]=C1w,f1w;}var e0w=function(Y1w){function w1w(R1w){var F1w;!function(U1w,q1w){if(!(U1w instanceof q1w))throw new TypeError("Cannot call a class as a function");}(this,w1w);var c1w=function(t1w,o1w){if(!t1w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o1w||"object"!=typeof o1w&&"function"!=typeof o1w?t1w:o1w;}(this,(w1w.__proto__||Object.getPrototypeOf(w1w)).call(this,R1w));return c1w.updateCaptionAvailability=function(){c1w.setState({ccTracks:c1w.props.playerController.getCaptionTracks()});},c1w.updateCaptionsTrackSelected=function(){c1w.setState({currentTrack:c1w.props.playerController.getCurrentCaptionsTrack()});},c1w.updateCaptionStateChanged=function(){c1w.setState({isEnabled:c1w.props.playerController.isCaptionsEnabled()});},c1w.updateCaptionSettings=function(){c1w.setState({ccSettings:c1w.props.playerController.getCurrentCaptionSettings(),ccStagedSettings:{}});},c1w.closeMenu=function(){c1w.props.activeMenuChange(null);},c1w.disableCC=function(){c1w.props.playerController.setCaptionsEnabled(!1),c1w.closeMenu();},c1w.selectTrack=function(G1w){var l1w=c1w.props.playerController;c1w.state.isEnabled||l1w.setCaptionsEnabled(!0),l1w.selectCaptionTrack(G1w),c1w.closeMenu();},c1w.applyCCSettings=function(){c1w.props.playerController.updateCaptionSettings(c1w.state.ccSettings),c1w.closeMenu();},c1w.resetCCSettings=function(){c1w.props.playerController.resetCaptionSettings(),c1w.closeMenu();},c1w.updateCCSetting=function(m1w,K1w){c1w.setState({ccSettings:W0w({},c1w.state.ccSettings,v0w({},m1w,K1w)),ccStagedSettings:W0w({},c1w.state.ccStagedSettings,v0w({},m1w,!0))});},c1w.updateCurrentSetting=function(N1w){c1w.setState({currentSetting:N1w});},c1w.routeTo=function(a1w){c1w.setState({currentRoute:a1w});},c1w.state={ccTracks:[],ccSettings:{},ccStagedSettings:{},isEnabled:!1,currentSetting:null,currentTrack:null,currentRoute:p0w.CCMenuRoutes.CC_TRACKS},c1w.eventListenerMap=(v0w(F1w={},V0w.PlayerApiEvent.captionsTrackAvailabilityChanged,c1w.updateCaptionAvailability),v0w(F1w,V0w.PlayerApiEvent.captionsTrackSelected,c1w.updateCaptionsTrackSelected),v0w(F1w,V0w.PlayerApiEvent.captionsStateChanged,c1w.updateCaptionStateChanged),v0w(F1w,V0w.PlayerApiEvent.captionSettingsUpdated,c1w.updateCaptionSettings),F1w),c1w;}return function(g1w,b1w){if("function"!=typeof b1w&&null!==b1w)throw new TypeError("Super expression must either be null or a function, not "+typeof b1w);g1w.prototype=Object.create(b1w&&b1w.prototype,{constructor:{value:g1w,enumerable:!1,writable:!0,configurable:!0}}),b1w&&(Object.setPrototypeOf?Object.setPrototypeOf(g1w,b1w):g1w.__proto__=b1w);}(w1w,z0w.default.Component),S0w(w1w,[{key:"componentDidMount",value:function(){this.initializePlayer(this.props.playerController);}},{key:"componentWillUnmount",value:function(){this.destroyPlayer(this.props.playerController);}},{key:"componentWillReceiveProps",value:function(M1w){var P1w=this.props.playerController;P1w!==M1w.playerController&&(this.destroyPlayer(P1w),this.initializePlayer(M1w.playerController));}},{key:"initializePlayer",value:function(L1w){L1w&&(L1w.events().listen(this.eventListenerMap),this.setState({ccSettings:L1w.getCurrentCaptionSettings(),ccStagedSettings:{},ccTracks:L1w.getCaptionTracks(),isEnabled:L1w.isCaptionsEnabled(),currentTrack:L1w.getCurrentCaptionsTrack()}));}},{key:"destroyPlayer",value:function(x1w){x1w&&x1w.events().unlisten(this.eventListenerMap);}},{key:"render",value:function(V1w){var O1w,H1w=this.state.currentRoute,T1w=H1w.component;if(!H1w)return null;var d1w=(v0w(O1w={},p0w.CCMenuRoutes.CC_TRACKS.id,{tracks:this.state.ccTracks,currentTrack:this.state.currentTrack,isEnabled:this.state.isEnabled,disableCC:this.disableCC,selectTrack:this.selectTrack}),v0w(O1w,p0w.CCMenuRoutes.CC_SETTINGS.id,{ccSettings:this.state.ccSettings,ccStagedSettings:this.state.ccStagedSettings,applyCCSettings:this.applyCCSettings,resetCCSettings:this.resetCCSettings,updateCurrentSetting:this.updateCurrentSetting}),v0w(O1w,p0w.CCMenuRoutes.CC_SETTINGS_ITEM.id,{updateCCSetting:this.updateCCSetting,currentSetting:this.state.currentSetting,ccSettings:this.state.ccSettings}),O1w),v1w=W0w({},d1w[H1w.id],{routeTo:this.routeTo,theme:V1w.theme});return z0w.default.h("div",{className:"tui-cc-menu"},z0w.default.h(T1w,v1w));}}]),w1w;}();n0w.default=e0w;},function(W1w,p1w,B1w){"use strict";Object.defineProperty(p1w,"__esModule",{value:!0});var Z1w=B1w(93);Object.defineProperty(p1w,"ClosedCaptionsMenu",{enumerable:!0,get:function(){return(z1w=Z1w,z1w&&z1w.__esModule?z1w:{default:z1w}).default;var z1w;}});},,function(S1w,e1w,n1w){},function(u4w,k1w,A1w){"use strict";Object.defineProperty(k1w,"__esModule",{value:!0});var r1w=function(){function X4w(C4w,D4w){for(var f4w=0;f4w<D4w.length;f4w++){var h4w=D4w[f4w];h4w.enumerable=h4w.enumerable||!1,h4w.configurable=!0,"value"in h4w&&(h4w.writable=!0),Object.defineProperty(C4w,h4w.key,h4w);}}return function(w4w,Y4w,c4w){return Y4w&&X4w(w4w.prototype,Y4w),c4w&&X4w(w4w,c4w),w4w;};}(),s1w=i1w(A1w(0)),Q1w=A1w(17),I1w=i1w(A1w(23)),E1w=A1w(16),J1w=A1w(1),j1w=A1w(10);A1w(96);function i1w(F4w){return F4w&&F4w.__esModule?F4w:{default:F4w};}var y1w=function(U4w){function R4w(o4w){!function(t4w,l4w){if(!(t4w instanceof l4w))throw new TypeError("Cannot call a class as a function");}(this,R4w);var q4w=function(m4w,G4w){if(!m4w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G4w||"object"!=typeof G4w&&"function"!=typeof G4w?m4w:G4w;}(this,(R4w.__proto__||Object.getPrototypeOf(R4w)).call(this,o4w));return q4w.onPlayerPause=function(){var K4w=q4w.props.player.model().mediaState(),N4w=q4w.props.player.model().adState();(K4w===J1w.PlayerMediaState.Paused&&N4w!==J1w.PlayerAdState.Playing||N4w===J1w.PlayerAdState.Paused&&K4w!==J1w.PlayerMediaState.Playing)&&q4w.showControls();},q4w.onPlayerContentEnded=function(){q4w.showControls();},q4w.onPlayerStateChange=function(){q4w.shouldControlsBeHidden()&&q4w.startHideTimeout(),q4w.props.player.model().adState()===J1w.PlayerAdState.Playing&&j1w.touchIsSupported&&q4w.showControls();},q4w.showControls=function(){q4w.props.isVisible||(q4w.clearHideTimeout(),q4w.props.controlBarVisibilityChange(!0));},q4w.hideControls=function(){q4w.props.isVisible&&q4w.shouldControlsBeHidden()&&(q4w.clearHideTimeout(),q4w.props.controlBarVisibilityChange(!1));},q4w.startHideTimeout=function(){var a4w=q4w.props.config.inactivityThreshold;q4w.clearHideTimeout(),q4w.hideTimeout=setTimeout(q4w.hideControls,a4w);},q4w.clearHideTimeout=function(){q4w.hideTimeout&&(clearTimeout(q4w.hideTimeout),q4w.hideTimeout=void 0);},q4w.shouldControlsBeHidden=function(){var b4w=q4w.props,g4w=b4w.player,L4w=b4w.activeMenuId,P4w=b4w.pointer,x4w=b4w.isFocused;if(b4w.config.debug.disableControlBarHiding)return!1;if(!g4w)return!0;var O4w=g4w.model().mediaState(),H4w=g4w.model().adState(),T4w=O4w===J1w.PlayerMediaState.Playing||H4w===J1w.PlayerAdState.Playing&&!j1w.touchIsSupported,M4w=!P4w.down&&T4w&&!q4w.isMouseOverControls&&(!P4w.active||!P4w.over);if(L4w){if(x4w)return!1;if(M4w)return!0;}return!!M4w;},q4w.handleTransitionEnd=function(){q4w.setState({interactionEnabled:q4w.props.isVisible});},q4w.handleTouchEnd=function(){q4w.ignoreNextMouseEvent=!0;},q4w.handleMouseEnter=function(){q4w.ignoreNextMouseEvent||(q4w.isMouseOverControls=!0);},q4w.handleMouseLeave=function(){q4w.ignoreNextMouseEvent||(q4w.isMouseOverControls=!1);},q4w.handleClick=function(){q4w.ignoreNextMouseEvent=!1;},q4w.ignoreNextMouseEvent=!1,q4w.hideTimeout=null,q4w.isMouseOverControls=!1,q4w.state={interactionEnabled:o4w.isVisible},q4w.playerEventListeners={mediaStateChanged:q4w.onPlayerStateChange,adStateChanged:q4w.onPlayerStateChange,mediaPaused:q4w.onPlayerPause,adPaused:q4w.onPlayerPause,contentCompleted:q4w.onPlayerContentEnded,contentError:q4w.onPlayerContentEnded},q4w;}return function(v4w,d4w){if("function"!=typeof d4w&&null!==d4w)throw new TypeError("Super expression must either be null or a function, not "+typeof d4w);v4w.prototype=Object.create(d4w&&d4w.prototype,{constructor:{value:v4w,enumerable:!1,writable:!0,configurable:!0}}),d4w&&(Object.setPrototypeOf?Object.setPrototypeOf(v4w,d4w):v4w.__proto__=d4w);}(R4w,s1w.default.Component),r1w(R4w,[{key:"componentDidMount",value:function(){this.playerSetup(this.props.player);}},{key:"componentWillUnmount",value:function(){this.playerTeardown(this.props.player),this.clearHideTimeout();}},{key:"componentWillReceiveProps",value:function(p4w){var V4w=this.props.player;V4w!==p4w.player&&(this.playerTeardown(V4w),this.playerSetup(p4w.player));}},{key:"componentDidUpdate",value:function(e4w){var z4w=this.props,B4w=z4w.pointer,S4w=z4w.isFocused,W4w=e4w.pointer,Z4w={};B4w.over!==W4w.over&&(Z4w.over=B4w.over),B4w.down!==W4w.down&&(Z4w.down=B4w.down),B4w.active!==W4w.active&&(Z4w.active=B4w.active),S4w!==e4w.isFocused&&(Z4w.focused=S4w),Z4w.over&&Z4w.down&&Z4w.active&&Z4w.focused||this.hideControls(),(Z4w.over||Z4w.active)&&this.showControls();}},{key:"playerSetup",value:function(n4w){n4w&&n4w.events().listen(this.playerEventListeners);}},{key:"playerTeardown",value:function(s4w){s4w&&s4w.events().unlisten(this.playerEventListeners);}},{key:"render",value:function(J4w,Q4w){var A4w=(0,I1w.default)("tui-control-bar",{"tui-control-bar--visible":J4w.isVisible}),j4w={pointerEvents:Q4w.interactionEnabled?"auto":"none"};return s1w.default.h("div",{className:A4w,onTransitionEnd:this.handleTransitionEnd,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTouchEnd:this.handleTouchEnd,onClick:this.handleClick,role:"none"},s1w.default.h("div",{className:"tui-control-bar__background"}),s1w.default.h("div",{className:"tui-control-bar__controls",style:j4w},s1w.default.h("div",{className:"tui-controls__progress-bar"},J4w.controls[J1w.LocationName.PROGRESS_BAR].map(function(k4w){return s1w.default.h(k4w,null);})),s1w.default.h("div",{className:"tui-controls__bottom-bar"},s1w.default.h("div",{className:"tui-controls__left"},J4w.controls[J1w.LocationName.LEFT].map(function(i4w){return s1w.default.h(i4w,null);})),s1w.default.h("div",{className:"tui-controls__right"},J4w.controls[J1w.LocationName.RIGHT].map(function(I4w){return s1w.default.h(I4w,null);})))));}}]),R4w;}();k1w.default=(0,Q1w.connect)(function(E4w){return{isVisible:E4w.ui.isControlBarVisible,pointer:E4w.ui.pointer,isFocused:E4w.ui.isFocused,activeMenuId:E4w.ui.activeMenuId,platform:E4w.platform,player:E4w.playerController,config:E4w.config};},{controlBarVisibilityChange:E1w.controlBarVisibilityChange})(y1w);},function(X6w,y4w,u6w){"use strict";Object.defineProperty(y4w,"__esModule",{value:!0});var r4w=u6w(97);Object.defineProperty(y4w,"ControlBar",{enumerable:!0,get:function(){return(h6w=r4w,h6w&&h6w.__esModule?h6w:{default:h6w}).default;var h6w;}});},function(C6w,f6w,D6w){"use strict";D6w.r(f6w),function(N6w){var m6w=function(){function d6w(V6w,p6w){var v6w=-1;return V6w.some(function(Z6w,B6w){return Z6w[0]===p6w&&(v6w=B6w,!0);}),v6w;}if("undefined"!=typeof Map)return Map;return function(){var z6w={size:{configurable:!0}};function W6w(){this.__entries__=[];}return z6w.size.get=function(){return this.__entries__.length;},W6w.prototype.get=function(n6w){var e6w=d6w(this.__entries__,n6w),S6w=this.__entries__[e6w];return S6w&&S6w[1];},W6w.prototype.set=function(J6w,A6w){var s6w=d6w(this.__entries__,J6w);~s6w?this.__entries__[s6w][1]=A6w:this.__entries__.push([J6w,A6w]);},W6w.prototype.delete=function(k6w){var j6w=this.__entries__,Q6w=d6w(j6w,k6w);~Q6w&&j6w.splice(Q6w,1);},W6w.prototype.has=function(i6w){return!!~d6w(this.__entries__,i6w);},W6w.prototype.clear=function(){this.__entries__.splice(0);},W6w.prototype.forEach=function(u2w,E6w){void 0===E6w&&(E6w=null);for(var I6w=0,y6w=this.__entries__;I6w<y6w.length;I6w+=1){var r6w=y6w[I6w];u2w.call(E6w,r6w[1],r6w[0]);}},Object.defineProperties(W6w.prototype,z6w),W6w;}();}(),R6w="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,F6w=void 0!==N6w&&N6w.Math===Math?N6w:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this;")(),P6w="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(F6w):function(X2w){return setTimeout(function(){return X2w(Date.now());},1e3/60);},M6w=2,L6w=["top","right","bottom","left","width","height","size","weight"],O6w="undefined"!=typeof MutationObserver,w6w=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(w2w,Y2w){function c2w(){h2w&&(h2w=!1,w2w()),f2w&&C2w();}function C2w(){var R2w=Date.now();if(h2w){if(R2w-D2w<M6w)return;f2w=!0;}else h2w=!0,f2w=!1,setTimeout(F2w,Y2w);D2w=R2w;}function F2w(){P6w(c2w);}var h2w=!1,f2w=!1,D2w=0;return C2w;}(this.refresh.bind(this),20);};w6w.prototype.addObserver=function(U2w){~this.observers_.indexOf(U2w)||this.observers_.push(U2w),this.connected_||this.connect_();},w6w.prototype.removeObserver=function(t2w){var q2w=this.observers_,o2w=q2w.indexOf(t2w);~o2w&&q2w.splice(o2w,1),!q2w.length&&this.connected_&&this.disconnect_();},w6w.prototype.refresh=function(){this.updateObservers_()&&this.refresh();},w6w.prototype.updateObservers_=function(){var l2w=this.observers_.filter(function(G2w){return G2w.gatherActive(),G2w.hasActive();});return l2w.forEach(function(m2w){return m2w.broadcastActive();}),l2w.length>0;},w6w.prototype.connect_=function(){R6w&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),O6w?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0);},w6w.prototype.disconnect_=function(){R6w&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1);},w6w.prototype.onTransitionEnd_=function(N2w){var K2w=N2w.propertyName;void 0===K2w&&(K2w=""),L6w.some(function(a2w){return!!~K2w.indexOf(a2w);})&&this.refresh();},w6w.getInstance=function(){return this.instance_||(this.instance_=new w6w()),this.instance_;},w6w.instance_=null;var K6w=function(M2w,L2w){for(var b2w=0,g2w=Object.keys(L2w);b2w<g2w.length;b2w+=1){var P2w=g2w[b2w];Object.defineProperty(M2w,P2w,{value:L2w[P2w],enumerable:!1,writable:!1,configurable:!0});}return M2w;},c6w=function(x2w){return x2w&&x2w.ownerDocument&&x2w.ownerDocument.defaultView||F6w;},l6w=o6w(0,0,0,0);function o6w(D7w,C7w,w7w,Y7w){return{x:D7w,y:C7w,width:w7w,height:Y7w};}var g6w="undefined"!=typeof SVGGraphicsElement?function(r2w){return r2w instanceof c6w(r2w).SVGGraphicsElement;}:function(u7w){return u7w instanceof c6w(u7w).SVGElement&&"function"==typeof u7w.getBBox;};var t6w=function(c7w){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=o6w(0,0,0,0),this.target=c7w;};t6w.prototype.isActive=function(){var F7w=H6w(this.target);return this.contentRect_=F7w,F7w.width!==this.broadcastWidth||F7w.height!==this.broadcastHeight;},t6w.prototype.broadcastRect=function(){var R7w=this.contentRect_;return this.broadcastWidth=R7w.width,this.broadcastHeight=R7w.height,R7w;};function H6w(X7w){return R6w?g6w(X7w)?function(f7w){var h7w=f7w.getBBox();return o6w(0,0,h7w.width,h7w.height);}(X7w):T6w(X7w):l6w;}function a6w(d2w){for(var T2w=[],H2w=arguments.length-1;H2w-->0;)T2w[H2w]=arguments[H2w+1];return T2w.reduce(function(v2w,V2w){return v2w+U6w(d2w["border-"+V2w+"-width"]);},0);}var x6w=function(N7w,a7w){var q7w,o7w,U7w,l7w,G7w,K7w,t7w,m7w=(o7w=(q7w=a7w).x,U7w=q7w.y,l7w=q7w.width,G7w=q7w.height,K7w="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,t7w=Object.create(K7w.prototype),K6w(t7w,{x:o7w,y:U7w,width:l7w,height:G7w,top:U7w,right:o7w+l7w,bottom:G7w+U7w,left:o7w}),t7w);K6w(this,{target:N7w,contentRect:m7w});},Y6w=function(b7w,g7w,P7w){if(this.activeObservations_=[],this.observations_=new m6w(),"function"!=typeof b7w)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=b7w,this.controller_=g7w,this.callbackCtx_=P7w;};function U6w(O2w){return parseFloat(O2w)||0;}Y6w.prototype.observe=function(M7w){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(M7w instanceof c6w(M7w).Element))throw new TypeError('parameter 1 is not of type "Element".');var L7w=this.observations_;L7w.has(M7w)||(L7w.set(M7w,new t6w(M7w)),this.controller_.addObserver(this),this.controller_.refresh());}},Y6w.prototype.unobserve=function(x7w){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(x7w instanceof c6w(x7w).Element))throw new TypeError('parameter 1 is not of type "Element".');var O7w=this.observations_;O7w.has(x7w)&&(O7w.delete(x7w),O7w.size||this.controller_.removeObserver(this));}},Y6w.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this);},Y6w.prototype.gatherActive=function(){var H7w=this;this.clearActive(),this.observations_.forEach(function(T7w){T7w.isActive()&&H7w.activeObservations_.push(T7w);});},Y6w.prototype.broadcastActive=function(){if(this.hasActive()){var d7w=this.callbackCtx_,v7w=this.activeObservations_.map(function(V7w){return new x6w(V7w.target,V7w.broadcastRect());});this.callback_.call(d7w,v7w,d7w),this.clearActive();}},Y6w.prototype.clearActive=function(){this.activeObservations_.splice(0);},Y6w.prototype.hasActive=function(){return this.activeObservations_.length>0;};var G6w="undefined"!=typeof WeakMap?new WeakMap():new m6w(),q6w=function(B7w){if(!(this instanceof q6w))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var p7w=w6w.getInstance(),Z7w=new Y6w(B7w,p7w,this);G6w.set(this,Z7w);};function T6w(z2w){var e2w=z2w.clientWidth,n2w=z2w.clientHeight;if(!e2w&&!n2w)return l6w;var p2w=c6w(z2w).getComputedStyle(z2w),Z2w=function(E2w){for(var Q2w={},j2w=0,k2w=["top","right","bottom","left"];j2w<k2w.length;j2w+=1){var i2w=k2w[j2w],I2w=E2w["padding-"+i2w];Q2w[i2w]=U6w(I2w);}return Q2w;}(p2w),S2w=Z2w.left+Z2w.right,s2w=Z2w.top+Z2w.bottom,B2w=U6w(p2w.width),W2w=U6w(p2w.height);if("border-box"===p2w.boxSizing&&(Math.round(B2w+S2w)!==e2w&&(B2w-=a6w(p2w,"left","right")+S2w),Math.round(W2w+s2w)!==n2w&&(W2w-=a6w(p2w,"top","bottom")+s2w)),!function(y2w){return y2w===c6w(y2w).document.documentElement;}(z2w)){var A2w=Math.round(B2w+S2w)-e2w,J2w=Math.round(W2w+s2w)-n2w;1!==Math.abs(A2w)&&(B2w-=A2w),1!==Math.abs(J2w)&&(W2w-=J2w);}return o6w(Z2w.left,Z2w.top,B2w,W2w);}["observe","unobserve","disconnect"].forEach(function(W7w){q6w.prototype[W7w]=function(){return(z7w=G6w.get(this))[W7w].apply(z7w,arguments);var z7w;};});var b6w=void 0!==F6w.ResizeObserver?F6w.ResizeObserver:q6w;f6w.default=b6w;}.call(this,D6w(29));},function(I7w,j7w,e7w){"use strict";var J7w,A7w=this&&this.__extends||(J7w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E7w,y7w){E7w.__proto__=y7w;}||function(X9w,u9w){for(var r7w in u9w)u9w.hasOwnProperty(r7w)&&(X9w[r7w]=u9w[r7w]);},function(f9w,h9w){J7w(f9w,h9w),f9w.prototype=null===h9w?Object.create(h9w):(D9w.prototype=h9w.prototype,new D9w());function D9w(){this.constructor=f9w;}}),s7w=this&&this.__importDefault||function(C9w){return C9w&&C9w.__esModule?C9w:{default:C9w};},Q7w=this&&this.__importStar||function(w9w){if(w9w&&w9w.__esModule)return w9w;var Y9w={};if(null!=w9w)for(var c9w in w9w)Object.hasOwnProperty.call(w9w,c9w)&&(Y9w[c9w]=w9w[c9w]);return Y9w.default=w9w,Y9w;};Object.defineProperty(j7w,"__esModule",{value:!0});var n7w=e7w(0),i7w=s7w(e7w(99)),S7w=Q7w(e7w(72)),k7w=function(R9w){function F9w(q9w){var U9w=R9w.call(this,q9w)||this;return U9w.suppressResizeEvent=!1,U9w.suppressReRender=!1,U9w.style={position:"absolute",width:0,height:0,display:"none"},U9w.onResize=function(t9w){var o9w=U9w.props.onResize;U9w.suppressResizeEvent?U9w.suppressResizeEvent=!1:"function"==typeof o9w&&t9w.forEach(function(N9w){var K9w=N9w.contentRect,l9w=K9w.width,G9w=K9w.height,m9w=!1;U9w.props.width&&U9w.currentWidth!==l9w&&(m9w=!0,U9w.currentWidth=l9w),U9w.props.height&&U9w.currentHeight!==G9w&&(m9w=!0,U9w.currentHeight=G9w),m9w&&o9w(l9w,G9w);});},U9w.handleRef=function(a9w){U9w.element=a9w;},U9w.observer=new i7w.default(U9w.onResize),U9w;}return A7w(F9w,R9w),F9w.prototype.componentDidMount=function(){var b9w;this.props.target?b9w=this.props.target:this.element&&this.element.parentElement&&(b9w=this.element.parentElement),b9w&&this.observeElement(b9w),this.suppressReRender=!0;},F9w.prototype.componentWillReceiveProps=function(g9w){g9w.target&&g9w.target!==this.props.target&&this.observeElement(g9w.target);},F9w.prototype.shouldComponentUpdate=function(){return!this.suppressReRender;},F9w.prototype.observeElement=function(P9w){this.suppressResizeEvent=this.props.noInitial,this.observer.disconnect(),this.observer.observe(P9w);},F9w.prototype.render=function(){return n7w.h("div",{ref:this.handleRef,style:this.style});},F9w.propTypes={onResize:S7w.func.isRequired,width:S7w.bool,height:S7w.bool,noInitial:S7w.bool,target:S7w.element},F9w.defaultProps={noInitial:!1,width:!0,height:!0},F9w;}(n7w.Component);j7w.default=k7w;},function(H9w,M9w,O9w){"use strict";var L9w=this&&this.__importDefault||function(T9w){return T9w&&T9w.__esModule?T9w:{default:T9w};};Object.defineProperty(M9w,"__esModule",{value:!0});var x9w=L9w(O9w(100));M9w.default=x9w.default;},function(Q9w,s9w,d9w){"use strict";Object.defineProperty(s9w,"__esModule",{value:!0});var e9w=function(){function k9w(y9w,E9w){for(var I9w=0;I9w<E9w.length;I9w++){var i9w=E9w[I9w];i9w.enumerable=i9w.enumerable||!1,i9w.configurable=!0,"value"in i9w&&(i9w.writable=!0),Object.defineProperty(y9w,i9w.key,i9w);}}return function(r9w,u8w,X8w){return u8w&&k9w(r9w.prototype,u8w),X8w&&k9w(r9w,X8w),r9w;};}(),v9w=B9w(d9w(0)),J9w=d9w(17),z9w=B9w(d9w(101)),p9w=d9w(1),V9w=B9w(d9w(61)),n9w=d9w(24),W9w=d9w(16),Z9w=d9w(31),A9w=d9w(98),j9w=d9w(94);d9w(77),d9w(75);var S9w=function(D8w){function f8w(w8w){!function(Y8w,c8w){if(!(Y8w instanceof c8w))throw new TypeError("Cannot call a class as a function");}(this,f8w);var C8w=function(R8w,F8w){if(!R8w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F8w||"object"!=typeof F8w&&"function"!=typeof F8w?R8w:F8w;}(this,(f8w.__proto__||Object.getPrototypeOf(f8w)).call(this,w8w));return C8w.onModelChanged=function(){C8w.forceUpdate();},C8w.onContentSetup=function(){var q8w=V9w.default.propertyList,U8w=C8w.props.playerController.model().config();if(U8w.ui&&U8w.ui.enabled){var o8w=Object.keys(U8w.ui).reduce(function(G8w,l8w){return q8w.includes(l8w)&&(G8w[l8w]=U8w.ui[l8w]),G8w;},{}),t8w=V9w.default.mergeConfig(o8w,C8w.props.config);C8w.props.updateConfig(t8w);}},C8w.augmentEvent=function(m8w){return m8w.TopUiId=C8w.props.instanceId,m8w;},C8w.defaultComponents={menus:{ClosedCaptionsMenu:j9w.ClosedCaptionsMenu}},C8w.state={menus:C8w.defaultComponents.menus},C8w.eventListenerMap={contentSetup:C8w.onContentSetup,contentBeginning:C8w.onModelChanged,mediaLoaded:C8w.onModelChanged},C8w;}return function(N8w,K8w){if("function"!=typeof K8w&&null!==K8w)throw new TypeError("Super expression must either be null or a function, not "+typeof K8w);N8w.prototype=Object.create(K8w&&K8w.prototype,{constructor:{value:N8w,enumerable:!1,writable:!0,configurable:!0}}),K8w&&(Object.setPrototypeOf?Object.setPrototypeOf(N8w,K8w):N8w.__proto__=K8w);}(f8w,v9w.default.Component),e9w(f8w,[{key:"componentDidMount",value:function(){this.initializePlayer(this.props.playerController);}},{key:"componentWillUnmount",value:function(){this.destroyPlayer(this.props.playerController);}},{key:"componentWillReceiveProps",value:function(b8w){var a8w=this.props.playerController;a8w!==b8w.playerController&&(this.destroyPlayer(a8w),this.initializePlayer(b8w.playerController));}},{key:"initializePlayer",value:function(g8w){g8w&&g8w.events().listen(this.eventListenerMap);}},{key:"destroyPlayer",value:function(P8w){P8w&&P8w.events().unlisten(this.eventListenerMap);}},{key:"getDeliveryType",value:function(L8w){var M8w=p9w.DeliveryType.VOD;return this.props.playerController&&this.props.playerController.model().mediaIsLive()&&(M8w=L8w.dvr?p9w.DeliveryType.DVR:p9w.DeliveryType.LIVE),M8w;}},{key:"render",value:function(x8w,V8w){var O8w=this.props.config,H8w=this.getDeliveryType(O8w),T8w=V9w.default.getActiveComponents(O8w.elements.controlBar,x8w.controlComponents,H8w),d8w=V9w.default.getActiveComponents(O8w.elements.slates,x8w.slateComponents,H8w);if(!Object.keys(T8w).length&&!Object.keys(d8w).length)return n9w.uiLogger.warn("UI has been configured with no active control components or slates"),null;var v8w=V9w.default.getOrderedControlComponents(T8w,x8w.config.elements.controlBar.order);return v9w.default.h("div",{className:"tui",onClick:this.augmentEvent,onTouchEnd:this.augmentEvent,role:"none"},v9w.default.h(Z9w.PlayerControlSurface,null,v9w.default.h(z9w.default,{onResize:x8w.viewportSizeChange}),v9w.default.h(Z9w.SlateController,{slates:d8w}),v9w.default.h(A9w.ControlBar,{controls:v8w}),v9w.default.h(Z9w.MenuController,{menus:V8w.menus})));}}]),f8w;}();function B9w(h8w){return h8w&&h8w.__esModule?h8w:{default:h8w};}s9w.default=(0,J9w.connect)(function(p8w){return{config:p8w.config,playerController:p8w.playerController,instanceId:p8w.id,controlComponents:p8w.components.controls,slateComponents:p8w.components.slates};},{viewportSizeChange:W9w.viewportSizeChange,updateConfig:W9w.updateConfig})(S9w);},,function(Z8w,B8w,W8w){},function(k8w,j8w,n8w){"use strict";Object.defineProperty(j8w,"__esModule",{value:!0});var S8w=Object.assign||function(y8w){for(var i8w=1;i8w<arguments.length;i8w++){var I8w=arguments[i8w];for(var E8w in I8w)Object.prototype.hasOwnProperty.call(I8w,E8w)&&(y8w[E8w]=I8w[E8w]);}return y8w;},J8w=function(){function r8w(f3w,h3w){for(var X3w=0;X3w<h3w.length;X3w++){var u3w=h3w[X3w];u3w.enumerable=u3w.enumerable||!1,u3w.configurable=!0,"value"in u3w&&(u3w.writable=!0),Object.defineProperty(f3w,u3w.key,u3w);}}return function(D3w,C3w,w3w){return C3w&&r8w(D3w.prototype,C3w),w3w&&r8w(D3w,w3w),D3w;};}();j8w.default=function(Y3w,c3w){var F3w=function(U3w){function R3w(o3w){!function(t3w,l3w){if(!(t3w instanceof l3w))throw new TypeError("Cannot call a class as a function");}(this,R3w);var q3w=function(m3w,G3w){if(!m3w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G3w||"object"!=typeof G3w&&"function"!=typeof G3w?m3w:G3w;}(this,(R3w.__proto__||Object.getPrototypeOf(R3w)).call(this,o3w));return q3w.onPlayerStateChange=function(){q3w.checkIsActive(q3w.props.player);},q3w.hideMenus=function(){q3w.props.activeMenuChange(null);},q3w.activate=function(a3w,b3w){var K3w=R3w.getConfigNumber(a3w,q3w.priority,q3w.defaultPriority),N3w=R3w.getConfigNumber(b3w,q3w.layer,q3w.defaultLayer);q3w.props.activateSlate(q3w.slateId,N3w,K3w);},q3w.deactivate=function(){q3w.props.deactivateSlate(q3w.slateId);},q3w.refHandler=function(g3w){q3w.instance=g3w;},q3w.defaultLayer=3,q3w.defaultPriority=20,q3w.slateId=c3w,q3w.priority=Y3w.priority,q3w.layer=Y3w.layer,q3w.eventListenerMap={contentStateChanged:q3w.onPlayerStateChange,mediaStateChanged:q3w.onPlayerStateChange,adStateChanged:q3w.onPlayerStateChange},q3w;}return function(M3w,P3w){if("function"!=typeof P3w&&null!==P3w)throw new TypeError("Super expression must either be null or a function, not "+typeof P3w);M3w.prototype=Object.create(P3w&&P3w.prototype,{constructor:{value:M3w,enumerable:!1,writable:!0,configurable:!0}}),P3w&&(Object.setPrototypeOf?Object.setPrototypeOf(M3w,P3w):M3w.__proto__=P3w);}(R3w,U3w),J8w(R3w,null,[{key:"getConfigNumber",value:function(L3w,x3w){var O3w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"number"==typeof L3w?L3w:"number"==typeof x3w?x3w:O3w;}}]),J8w(R3w,[{key:"componentDidMount",value:function(){this.playerSetup(this.props.player);}},{key:"componentWillUnmount",value:function(){this.playerTeardown(this.props.player);}},{key:"componentWillReceiveProps",value:function(T3w){var H3w=this.props.player;H3w&&H3w!==T3w.player&&this.playerTeardown(H3w);}},{key:"componentDidUpdate",value:function(v3w){var d3w=this.props.player;d3w!==v3w.player&&this.playerSetup(d3w);}},{key:"playerSetup",value:function(V3w){var p3w=this;V3w&&(V3w.events().listen(this.eventListenerMap),this.instance&&(this.instance.playerEventListeners&&V3w.events().listen(this.instance.playerEventListeners),"function"==typeof this.instance.playerDidAttach&&this.instance.playerDidAttach()),setTimeout(function(){p3w.checkIsActive(V3w);}));}},{key:"playerTeardown",value:function(Z3w){Z3w&&(Z3w.events().unlisten(this.eventListenerMap),this.instance&&(this.instance.playerEventListeners&&Z3w.events().unlisten(this.instance.playerEventListeners),"function"==typeof this.instance.playerWillDetach&&this.instance.playerWillDetach()));}},{key:"checkIsActive",value:function(W3w){if(W3w&&this.instance&&"function"==typeof this.instance.shouldSlateBeActive){var B3w=this.instance.shouldSlateBeActive();!0!==B3w||this.props.isActive?!1===B3w&&this.props.activeSlates[this.slateId]&&this.deactivate():this.activate();}}},{key:"render",value:function(S3w){var e3w={display:S3w.isActive?"block":"none"},z3w=S8w({},S3w);return delete z3w.activateSlate,delete z3w.deactivateSlate,delete z3w.children,z3w.activate=this.activate,z3w.deactivate=this.deactivate,e8w.default.h("div",{className:"tui-slate__container",style:e3w,role:"none",onClick:this.hideMenus},e8w.default.h(Y3w,S8w({},z3w,{ref:this.refHandler})));}}]),R3w;}(e8w.default.Component);return(0,Q8w.connect)(function(n3w){var s3w={metadata:n3w.config.metadata,theme:n3w.config.theme,settings:n3w.config.elements.slates.components[c3w]||{},player:n3w.playerController,activeSlates:n3w.ui.activeSlates,viewport:n3w.ui.viewport};"function"==typeof Y3w.mapStateToProps&&(s3w=S8w({},s3w,Y3w.mapStateToProps(n3w)));return s3w;},function(){var J3w={activateSlate:z8w.activateSlate,deactivateSlate:z8w.deactivateSlate,activeMenuChange:z8w.activeMenuChange};"function"==typeof Y3w.mapDispatchToProps&&(J3w=S8w({},J3w,Y3w.mapDispatchToProps(z8w)));return J3w;}())(F3w);};var s8w,A8w=n8w(0),e8w=(s8w=A8w)&&s8w.__esModule?s8w:{default:s8w},Q8w=n8w(17),z8w=function(A3w){if(A3w&&A3w.__esModule)return A3w;var j3w={};if(null!=A3w)for(var Q3w in A3w)Object.prototype.hasOwnProperty.call(A3w,Q3w)&&(j3w[Q3w]=A3w[Q3w]);return j3w.default=A3w,j3w;}(n8w(16));n8w(104);},,function(k3w,i3w,I3w){},function(C5w,X5w,r3w){"use strict";Object.defineProperty(X5w,"__esModule",{value:!0});var E3w,u5w=function(){function w5w(R5w,F5w){for(var c5w=0;c5w<F5w.length;c5w++){var Y5w=F5w[c5w];Y5w.enumerable=Y5w.enumerable||!1,Y5w.configurable=!0,"value"in Y5w&&(Y5w.writable=!0),Object.defineProperty(R5w,Y5w.key,Y5w);}}return function(U5w,q5w,o5w){return q5w&&w5w(U5w.prototype,q5w),o5w&&w5w(U5w,o5w),U5w;};}(),h5w=r3w(0),y3w=(E3w=h5w)&&E3w.__esModule?E3w:{default:E3w},f5w=r3w(17);r3w(107);var D5w=function(l5w){function t5w(m5w){!function(K5w,N5w){if(!(K5w instanceof N5w))throw new TypeError("Cannot call a class as a function");}(this,t5w);var G5w=function(b5w,a5w){if(!b5w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a5w||"object"!=typeof a5w&&"function"!=typeof a5w?b5w:a5w;}(this,(t5w.__proto__||Object.getPrototypeOf(t5w)).call(this,m5w));return G5w.state.activeSlateData={},G5w;}return function(P5w,g5w){if("function"!=typeof g5w&&null!==g5w)throw new TypeError("Super expression must either be null or a function, not "+typeof g5w);P5w.prototype=Object.create(g5w&&g5w.prototype,{constructor:{value:P5w,enumerable:!1,writable:!0,configurable:!0}}),g5w&&(Object.setPrototypeOf?Object.setPrototypeOf(P5w,g5w):P5w.__proto__=g5w);}(t5w,y3w.default.Component),u5w(t5w,null,[{key:"getActiveSlateData",value:function(L5w){var M5w=-1/0;return Object.keys(L5w).reduce(function(O5w,H5w){var x5w=L5w[H5w];return x5w.priority>=M5w?(M5w=x5w.priority,x5w):O5w;},{});}},{key:"getSlates",value:function(T5w){var d5w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(T5w).map(function(V5w){var v5w=T5w[V5w];return v5w?y3w.default.h(v5w,{isActive:V5w===d5w.slateId}):null;});}}]),u5w(t5w,[{key:"componentWillReceiveProps",value:function(p5w){if(p5w.activeSlates){var Z5w=t5w.getActiveSlateData(p5w.activeSlates);this.setState({activeSlateData:Z5w});}}},{key:"render",value:function(e5w,B5w){var W5w=0;B5w.activeSlateData&&"number"==typeof B5w.activeSlateData.layer&&(W5w=B5w.activeSlateData.layer);var z5w={zIndex:W5w},S5w=t5w.getSlates(e5w.slates,B5w.activeSlateData);return y3w.default.h("div",{className:"tui__slate",style:z5w},S5w);}}]),t5w;}();X5w.default=(0,f5w.connect)(function(n5w){return{activeSlates:n5w.ui.activeSlates};})(D5w);},,function(s5w,J5w,A5w){},function(f0u,I5w,j5w){"use strict";Object.defineProperty(I5w,"__esModule",{value:!0});var Q5w,E5w=function(){function D0u(c0u,Y0u){for(var w0u=0;w0u<Y0u.length;w0u++){var C0u=Y0u[w0u];C0u.enumerable=C0u.enumerable||!1,C0u.configurable=!0,"value"in C0u&&(C0u.writable=!0),Object.defineProperty(c0u,C0u.key,C0u);}}return function(F0u,R0u,U0u){return R0u&&D0u(F0u.prototype,R0u),U0u&&D0u(F0u,U0u),F0u;};}(),i5w=j5w(0),k5w=(Q5w=i5w)&&Q5w.__esModule?Q5w:{default:Q5w},u0u=j5w(17),X0u=j5w(16),h0u=j5w(31),y5w=j5w(1);j5w(110);var r5w=function(o0u){function q0u(){!function(K0u,N0u){if(!(K0u instanceof N0u))throw new TypeError("Cannot call a class as a function");}(this,q0u);var l0u,G0u,m0u,t0u=function(b0u,a0u){if(!b0u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a0u||"object"!=typeof a0u&&"function"!=typeof a0u?b0u:a0u;}(this,(q0u.__proto__||Object.getPrototypeOf(q0u)).call(this));return t0u.onMediaLoaded=function(){t0u.hideMenus();},t0u.eventListenerMap=(l0u={},G0u=y5w.PlayerApiEvent.mediaLoaded,m0u=t0u.onMediaLoaded,G0u in l0u?Object.defineProperty(l0u,G0u,{value:m0u,enumerable:!0,configurable:!0,writable:!0}):l0u[G0u]=m0u,l0u),t0u;}return function(P0u,g0u){if("function"!=typeof g0u&&null!==g0u)throw new TypeError("Super expression must either be null or a function, not "+typeof g0u);P0u.prototype=Object.create(g0u&&g0u.prototype,{constructor:{value:P0u,enumerable:!1,writable:!0,configurable:!0}}),g0u&&(Object.setPrototypeOf?Object.setPrototypeOf(P0u,g0u):P0u.__proto__=g0u);}(q0u,k5w.default.Component),E5w(q0u,[{key:"componentDidMount",value:function(){this.initializePlayer(this.props.playerController);}},{key:"componentWillUnmount",value:function(){this.destroyPlayer(this.props.playerController);}},{key:"componentWillReceiveProps",value:function(M0u){var L0u=this.props,O0u=L0u.isControlBarVisible,x0u=L0u.playerController;O0u&&!M0u.isControlBarVisible&&this.hideMenus(),x0u!==M0u.playerController&&(this.destroyPlayer(x0u),this.initializePlayer(M0u.playerController));}},{key:"initializePlayer",value:function(H0u){H0u&&H0u.events().listen(this.eventListenerMap);}},{key:"destroyPlayer",value:function(T0u){T0u&&T0u.events().unlisten(this.eventListenerMap);}},{key:"hideMenus",value:function(){this.props.activeMenuChange(null);}},{key:"getActiveMenu",value:function(){var d0u=this.props.menus[this.props.activeMenuId];return d0u||null;}},{key:"render",value:function(){var v0u=this.getActiveMenu();return v0u?k5w.default.h("div",{className:"tui__menu"},k5w.default.h(h0u.MenuComponent,{tag:v0u})):null;}}]),q0u;}();I5w.default=(0,u0u.connect)(function(V0u){return{playerController:V0u.playerController,activeMenuId:V0u.ui.activeMenuId,isControlBarVisible:V0u.ui.isControlBarVisible};},{activeMenuChange:X0u.activeMenuChange})(r5w);},function(j0u,J0u,p0u){"use strict";Object.defineProperty(J0u,"__esModule",{value:!0});var Z0u,A0u=function(){function Q0u(E0u,I0u){for(var i0u=0;i0u<I0u.length;i0u++){var k0u=I0u[i0u];k0u.enumerable=k0u.enumerable||!1,k0u.configurable=!0,"value"in k0u&&(k0u.writable=!0),Object.defineProperty(E0u,k0u.key,k0u);}}return function(y0u,r0u,u1u){return r0u&&Q0u(y0u.prototype,r0u),u1u&&Q0u(y0u,u1u),y0u;};}(),S0u=p0u(0),W0u=(Z0u=S0u)&&Z0u.__esModule?Z0u:{default:Z0u},s0u=p0u(17),B0u=p0u(16),z0u=p0u(10),e0u=p0u(1);var n0u=function(h1u){function X1u(D1u){!function(C1u,w1u){if(!(C1u instanceof w1u))throw new TypeError("Cannot call a class as a function");}(this,X1u);var f1u=function(c1u,Y1u){if(!c1u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Y1u||"object"!=typeof Y1u&&"function"!=typeof Y1u?c1u:Y1u;}(this,(X1u.__proto__||Object.getPrototypeOf(X1u)).call(this,D1u));return f1u.hideMenus=function(){f1u.props.activeMenuChange(null);},f1u.setPointerActiveState=function(F1u){F1u?f1u.startInactivityTimeout():f1u.clearInactivityTimeout(),f1u.props.pointer.active!==F1u&&f1u.props.pointerStateChange("active",F1u);},f1u.setPointerOverState=function(R1u){f1u.props.pointer.over!==R1u&&f1u.props.pointerStateChange("over",R1u);},f1u.setPointerDownState=function(U1u){f1u.props.pointer.down!==U1u&&f1u.props.pointerStateChange("down",U1u);},f1u.touchToggle=function(){f1u.setPointerOverState(!f1u.props.isControlBarVisible),f1u.setPointerActiveState(!f1u.props.isControlBarVisible);},f1u.onPlayerStateChange=function(){f1u.setState({isAdActive:f1u.props.player.isAdActive()});},f1u.onClick=function(o1u){var t1u=f1u.props,q1u=t1u.player,l1u=t1u.activeMenuId;q1u&&!f1u.ignoreNextMouseEvent&&o1u.target===o1u.currentTarget&&o1u.currentTarget===f1u.originalPointerTarget?l1u?f1u.hideMenus():q1u.model().mediaState()===e0u.PlayerMediaState.Playing?q1u.pause():q1u.resume():f1u.ignoreNextMouseEvent=!1;},f1u.onWindowClick=function(G1u){G1u.TopUiId===f1u.props.instanceId?f1u.props.focusChange(!0):(f1u.props.focusChange(!1),f1u.hideMenus());},f1u.onMouseEnter=function(m1u){f1u.ignoreNextMouseEvent||m1u.target===f1u.props.containerElement&&(f1u.setPointerOverState(!0),f1u.setPointerActiveState(!0));},f1u.onMouseLeave=function(K1u){f1u.ignoreNextMouseEvent||K1u.target===f1u.props.containerElement&&(f1u.setPointerOverState(!1),f1u.setPointerActiveState(!1));},f1u.onMouseMove=function(){f1u.ignoreNextMouseEvent||(f1u.setPointerOverState(!0),f1u.setPointerActiveState(!0));},f1u.onPointerDown=function(N1u){f1u.ignoreNextMouseEvent&&!(0,z0u.isTouchEvent)(N1u.type)||(document.addEventListener("mouseup",f1u.onPointerUp),document.addEventListener("touchend",f1u.onPointerUp),document.addEventListener("touchcancel",f1u.onPointerUp),f1u.originalPointerTarget=N1u.target,f1u.setPointerDownState(!0));},f1u.onPointerUp=function(g1u){var P1u=f1u.props.activeMenuId,a1u=(0,z0u.isTouchEvent)(g1u.type),b1u=g1u.target===f1u.controlSurfaceEl;f1u.ignoreNextMouseEvent&&!a1u||(a1u&&(f1u.ignoreNextMouseEvent=!0),document.removeEventListener("mouseup",f1u.onPointerUp),document.removeEventListener("touchend",f1u.onPointerUp),document.removeEventListener("touchcancel",f1u.onPointerUp),f1u.setPointerDownState(!1),a1u&&(P1u&&b1u&&f1u.hideMenus(),b1u?f1u.touchToggle():f1u.setPointerActiveState(!0)));},f1u.handleRef=function(M1u){f1u.controlSurfaceEl=M1u;},f1u.ignoreNextMouseEvent=!1,f1u.inactivityTimeout=null,f1u.originalPointerTarget=null,f1u.state={isAdActive:!1},f1u.playerEventListeners={mediaStateChanged:f1u.onPlayerStateChange,adStateChanged:f1u.onPlayerStateChange},f1u;}return function(x1u,L1u){if("function"!=typeof L1u&&null!==L1u)throw new TypeError("Super expression must either be null or a function, not "+typeof L1u);x1u.prototype=Object.create(L1u&&L1u.prototype,{constructor:{value:x1u,enumerable:!1,writable:!0,configurable:!0}}),L1u&&(Object.setPrototypeOf?Object.setPrototypeOf(x1u,L1u):x1u.__proto__=L1u);}(X1u,W0u.default.Component),A0u(X1u,[{key:"componentDidMount",value:function(){this.playerSetup(this.props.player),this.containerSetup(this.props.containerElement),window.addEventListener("click",this.onWindowClick);}},{key:"componentWillUnmount",value:function(){this.playerTeardown(this.props.player),this.containerTeardown(this.props.containerElement),this.clearInactivityTimeout(),window.removeEventListener("click",this.onWindowClick);}},{key:"componentWillReceiveProps",value:function(O1u){var H1u=this.props,T1u=H1u.containerElement,d1u=H1u.player;T1u!==O1u.containerElement&&(this.containerTeardown(T1u),this.containerSetup(O1u.containerElement)),d1u!==O1u.player&&(this.playerTeardown(d1u),this.playerSetup(O1u.player));}},{key:"playerSetup",value:function(v1u){v1u&&v1u.events().listen(this.playerEventListeners);}},{key:"containerSetup",value:function(V1u){V1u&&(V1u.addEventListener("mouseenter",this.onMouseEnter),V1u.addEventListener("mouseleave",this.onMouseLeave),V1u.addEventListener("mousemove",this.onMouseMove));}},{key:"playerTeardown",value:function(p1u){p1u&&p1u.events().unlisten(this.playerEventListeners);}},{key:"containerTeardown",value:function(Z1u){Z1u&&(Z1u.removeEventListener("mouseenter",this.onMouseEnter),Z1u.removeEventListener("mouseleave",this.onMouseLeave),Z1u.removeEventListener("mousemove",this.onMouseMove));}},{key:"startInactivityTimeout",value:function(){var W1u=this,B1u=this.props.config.inactivityThreshold;B1u>0&&(this.clearInactivityTimeout(),this.inactivityTimeout=setTimeout(function(){W1u.setPointerActiveState(!1);},B1u));}},{key:"clearInactivityTimeout",value:function(){this.inactivityTimeout&&(clearTimeout(this.inactivityTimeout),this.inactivityTimeout=null);}},{key:"shouldComponentUpdate",value:function(S1u,A1u){var z1u=this.props,e1u=z1u.isControlBarVisible,n1u=z1u.pointer,s1u=z1u.children,J1u=this.state.isAdActive;return e1u!==S1u.isControlBarVisible||n1u.active!==S1u.pointer.active||s1u!==S1u.children||J1u!==A1u.isAdActive;}},{key:"render",value:function(j1u,k1u){var Q1u={width:"100%",height:"100%",cursor:j1u.isControlBarVisible||j1u.pointer.active?"default":"none",pointerEvents:k1u.isAdActive?"none":"auto"};return W0u.default.h("div",{ref:this.handleRef,className:"tui__control-surface",style:Q1u,role:"none",onClick:this.onClick,onMouseDown:this.onPointerDown,onTouchStart:this.onPointerDown},j1u.children);}}]),X1u;}();J0u.default=(0,s0u.connect)(function(i1u){return{isControlBarVisible:i1u.ui.isControlBarVisible,activeMenuId:i1u.ui.activeMenuId,pointer:i1u.ui.pointer,containerElement:i1u.containerElement,player:i1u.playerController,config:i1u.config,instanceId:i1u.id};},{activeMenuChange:B0u.activeMenuChange,pointerStateChange:B0u.pointerStateChange,focusChange:B0u.focusChange})(n0u);},function(w4u,u4u,E1u){"use strict";Object.defineProperty(u4u,"__esModule",{value:!0});var I1u,X4u=function(){function Y4u(U4u,R4u){for(var F4u=0;F4u<R4u.length;F4u++){var c4u=R4u[F4u];c4u.enumerable=c4u.enumerable||!1,c4u.configurable=!0,"value"in c4u&&(c4u.writable=!0),Object.defineProperty(U4u,c4u.key,c4u);}}return function(q4u,o4u,t4u){return o4u&&Y4u(q4u.prototype,o4u),t4u&&Y4u(q4u,t4u),q4u;};}(),r1u=E1u(0),y1u=(I1u=r1u)&&I1u.__esModule?I1u:{default:I1u},D4u=E1u(17),C4u=E1u(16);var h4u=function(G4u){function l4u(){return function(m4u,K4u){if(!(m4u instanceof K4u))throw new TypeError("Cannot call a class as a function");}(this,l4u),function(a4u,N4u){if(!a4u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N4u||"object"!=typeof N4u&&"function"!=typeof N4u?a4u:N4u;}(this,(l4u.__proto__||Object.getPrototypeOf(l4u)).apply(this,arguments));}return function(g4u,b4u){if("function"!=typeof b4u&&null!==b4u)throw new TypeError("Super expression must either be null or a function, not "+typeof b4u);g4u.prototype=Object.create(b4u&&b4u.prototype,{constructor:{value:g4u,enumerable:!1,writable:!0,configurable:!0}}),b4u&&(Object.setPrototypeOf?Object.setPrototypeOf(g4u,b4u):g4u.__proto__=b4u);}(l4u,y1u.default.Component),X4u(l4u,[{key:"render",value:function(P4u){var M4u=P4u.tag;return y1u.default.h(M4u,P4u);}}]),l4u;}();var f4u={activeMenuChange:C4u.activeMenuChange};u4u.default=(0,D4u.connect)(function(L4u){return{metadata:L4u.config.metadata,theme:L4u.config.theme,playerController:L4u.playerController,platform:L4u.platform};},f4u)(h4u);},function(W4u,d4u,O4u){"use strict";Object.defineProperty(d4u,"__esModule",{value:!0});var H4u=Object.assign||function(n4u){for(var z4u=1;z4u<arguments.length;z4u++){var S4u=arguments[z4u];for(var e4u in S4u)Object.prototype.hasOwnProperty.call(S4u,e4u)&&(n4u[e4u]=S4u[e4u]);}return n4u;},v4u=function(){function s4u(Q4u,j4u){for(var A4u=0;A4u<j4u.length;A4u++){var J4u=j4u[A4u];J4u.enumerable=J4u.enumerable||!1,J4u.configurable=!0,"value"in J4u&&(J4u.writable=!0),Object.defineProperty(Q4u,J4u.key,J4u);}}return function(k4u,i4u,I4u){return i4u&&s4u(k4u.prototype,i4u),I4u&&s4u(k4u,I4u),k4u;};}();function Z4u(O6u,x6u){if(!O6u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x6u||"object"!=typeof x6u&&"function"!=typeof x6u?O6u:x6u;}d4u.default=function(E4u,y4u){var r4u=function(X6u){function u6u(){var w6u,Y6u,h6u;!function(c6u,F6u){if(!(c6u instanceof F6u))throw new TypeError("Cannot call a class as a function");}(this,u6u);for(var D6u=arguments.length,C6u=Array(D6u),f6u=0;f6u<D6u;f6u++)C6u[f6u]=arguments[f6u];return h6u=Z4u(this,(w6u=u6u.__proto__||Object.getPrototypeOf(u6u)).call.apply(w6u,[this].concat(C6u))),Y6u=h6u,h6u.controlId=y4u,h6u.refHandler=function(R6u){h6u.instance=R6u;},Z4u(h6u,Y6u);}return function(q6u,U6u){if("function"!=typeof U6u&&null!==U6u)throw new TypeError("Super expression must either be null or a function, not "+typeof U6u);q6u.prototype=Object.create(U6u&&U6u.prototype,{constructor:{value:q6u,enumerable:!1,writable:!0,configurable:!0}}),U6u&&(Object.setPrototypeOf?Object.setPrototypeOf(q6u,U6u):q6u.__proto__=U6u);}(u6u,X6u),v4u(u6u,[{key:"componentDidMount",value:function(){this.playerSetup(this.props.player);}},{key:"componentWillUnmount",value:function(){this.playerTeardown(this.props.player);}},{key:"componentWillReceiveProps",value:function(t6u){var o6u=this.props.player;o6u&&o6u!==t6u.player&&this.playerTeardown(o6u);}},{key:"componentDidUpdate",value:function(G6u){var l6u=this.props.player;l6u!==G6u.player&&this.playerSetup(l6u);}},{key:"playerSetup",value:function(m6u){m6u&&this.instance&&(this.instance.playerEventListeners&&m6u.events().listen(this.instance.playerEventListeners),"function"==typeof this.instance.playerDidAttach&&this.instance.playerDidAttach());}},{key:"playerTeardown",value:function(K6u){K6u&&this.instance&&(this.instance.playerEventListeners&&K6u.events().unlisten(this.instance.playerEventListeners),"function"==typeof this.instance.playerWillDetach&&this.instance.playerWillDetach());}},{key:"render",value:function(N6u){return T4u.default.h(E4u,H4u({},N6u,{ref:this.refHandler}));}}]),u6u;}(T4u.default.Component);return(0,B4u.connect)(function(a6u){var b6u={metadata:a6u.config.metadata,theme:a6u.config.theme,settings:a6u.config.elements.controlBar.components[y4u]||{},player:a6u.playerController};"function"==typeof E4u.mapStateToProps&&(b6u=H4u({},b6u,E4u.mapStateToProps(a6u)));return b6u;},function(){var g6u={};"function"==typeof E4u.mapDispatchToProps&&(g6u=E4u.mapDispatchToProps(V4u));return g6u;}())(r4u);};var x4u,p4u=O4u(0),T4u=(x4u=p4u)&&x4u.__esModule?x4u:{default:x4u},B4u=O4u(17),V4u=function(P6u){if(P6u&&P6u.__esModule)return P6u;var M6u={};if(null!=P6u)for(var L6u in P6u)Object.prototype.hasOwnProperty.call(P6u,L6u)&&(M6u[L6u]=P6u[L6u]);return M6u.default=P6u,M6u;}(O4u(16));},,function(H6u,T6u,d6u){},function(e6u,B6u,p6u){"use strict";Object.defineProperty(B6u,"__esModule",{value:!0});var v6u,W6u=function(){function n6u(j6u,A6u){for(var J6u=0;J6u<A6u.length;J6u++){var s6u=A6u[J6u];s6u.enumerable=s6u.enumerable||!1,s6u.configurable=!0,"value"in s6u&&(s6u.writable=!0),Object.defineProperty(j6u,s6u.key,s6u);}}return function(Q6u,k6u,i6u){return k6u&&n6u(Q6u.prototype,k6u),i6u&&n6u(Q6u,i6u),Q6u;};}(),z6u=p6u(0),V6u=(v6u=z6u)&&v6u.__esModule?v6u:{default:v6u},Z6u=p6u(1);p6u(116);var S6u=function(E6u){function I6u(h2u){!function(f2u,D2u){if(!(f2u instanceof D2u))throw new TypeError("Cannot call a class as a function");}(this,I6u);var r6u,u2u,X2u,y6u=function(w2u,C2u){if(!w2u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C2u||"object"!=typeof C2u&&"function"!=typeof C2u?w2u:C2u;}(this,(I6u.__proto__||Object.getPrototypeOf(I6u)).call(this,h2u));return y6u.updateAdCountdownText=function(Y2u){y6u.setState({adTimeRemaining:Math.round(Y2u.duration-Y2u.time)});},y6u.state={adTimeRemaining:0},y6u.playerEventListeners=(r6u={},u2u=Z6u.PlayerApiEvent.adTimeChanged,X2u=y6u.updateAdCountdownText,u2u in r6u?Object.defineProperty(r6u,u2u,{value:X2u,enumerable:!0,configurable:!0,writable:!0}):r6u[u2u]=X2u,r6u),y6u;}return function(F2u,c2u){if("function"!=typeof c2u&&null!==c2u)throw new TypeError("Super expression must either be null or a function, not "+typeof c2u);F2u.prototype=Object.create(c2u&&c2u.prototype,{constructor:{value:F2u,enumerable:!1,writable:!0,configurable:!0}}),c2u&&(Object.setPrototypeOf?Object.setPrototypeOf(F2u,c2u):F2u.__proto__=c2u);}(I6u,V6u.default.Component),W6u(I6u,[{key:"shouldSlateBeActive",value:function(){return this.props.player.model().contentState()===Z6u.ContentState.Ads_Playback;}},{key:"render",value:function(U2u,R2u){return V6u.default.h("div",{className:"tui-ad-slate"},V6u.default.h("div",{className:"tui-ad-slate__countdown"},"Ad: ",R2u.adTimeRemaining));}}]),I6u;}();B6u.default=S6u;},,function(q2u,o2u,t2u){},function(x2u,P2u,l2u){"use strict";function b2u(W2u,B2u){if(!W2u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!B2u||"object"!=typeof B2u&&"function"!=typeof B2u?W2u:B2u;}Object.defineProperty(P2u,"__esModule",{value:!0});var m2u,M2u=function(){function O2u(v2u,d2u){for(var T2u=0;T2u<d2u.length;T2u++){var H2u=d2u[T2u];H2u.enumerable=H2u.enumerable||!1,H2u.configurable=!0,"value"in H2u&&(H2u.writable=!0),Object.defineProperty(v2u,H2u.key,H2u);}}return function(V2u,p2u,Z2u){return p2u&&O2u(V2u.prototype,p2u),Z2u&&O2u(V2u,Z2u),V2u;};}(),a2u=l2u(0),K2u=(m2u=a2u)&&m2u.__esModule?m2u:{default:m2u},G2u=l2u(1),N2u=l2u(4),L2u=l2u(10);l2u(119);var g2u=function(S2u){function z2u(){var A2u,j2u,n2u;!function(Q2u,k2u){if(!(Q2u instanceof k2u))throw new TypeError("Cannot call a class as a function");}(this,z2u);for(var s2u=arguments.length,J2u=Array(s2u),e2u=0;e2u<s2u;e2u++)J2u[e2u]=arguments[e2u];return j2u=n2u=b2u(this,(A2u=z2u.__proto__||Object.getPrototypeOf(z2u)).call.apply(A2u,[this].concat(J2u))),n2u.onPress=function(){n2u.props.player.replay();},b2u(n2u,j2u);}return function(I2u,i2u){if("function"!=typeof i2u&&null!==i2u)throw new TypeError("Super expression must either be null or a function, not "+typeof i2u);I2u.prototype=Object.create(i2u&&i2u.prototype,{constructor:{value:I2u,enumerable:!1,writable:!0,configurable:!0}}),i2u&&(Object.setPrototypeOf?Object.setPrototypeOf(I2u,i2u):I2u.__proto__=i2u);}(z2u,K2u.default.Component),M2u(z2u,[{key:"shouldSlateBeActive",value:function(){var E2u=this.props.player.model().contentState();return E2u===G2u.ContentState.Finished||E2u===G2u.ContentState.Error||E2u!==G2u.ContentState.Ads_Beginning&&E2u!==G2u.ContentState.Media_Beginning&&null;}},{key:"render",value:function(u7u){var y2u=(0,L2u.getStandardSlateButtonSize)(u7u.viewport.width),r2u={fontSize:y2u+"px",textShadow:"0 0 "+y2u/2+"px #000"};return K2u.default.h("div",{className:"tui-end-slate",onClick:this.onPress,role:"button",tabIndex:"-1"},K2u.default.h(N2u.Icon,{className:"tui-end-slate__icon",type:N2u.IconType.REPLAY,style:r2u}));}}]),z2u;}();P2u.default=g2u;},,function(X7u,h7u,f7u){},function(t7u,q7u,C7u){"use strict";function R7u(M7u,P7u){if(!M7u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P7u||"object"!=typeof P7u&&"function"!=typeof P7u?M7u:P7u;}Object.defineProperty(q7u,"__esModule",{value:!0});var w7u,F7u=function(){function l7u(N7u,K7u){for(var m7u=0;m7u<K7u.length;m7u++){var G7u=K7u[m7u];G7u.enumerable=G7u.enumerable||!1,G7u.configurable=!0,"value"in G7u&&(G7u.writable=!0),Object.defineProperty(N7u,G7u.key,G7u);}}return function(a7u,b7u,g7u){return b7u&&l7u(a7u.prototype,b7u),g7u&&l7u(a7u,g7u),a7u;};}(),c7u=C7u(0),D7u=(w7u=c7u)&&w7u.__esModule?w7u:{default:w7u},Y7u=C7u(1),o7u=C7u(10);C7u(122);var U7u=function(x7u){function L7u(){var v7u,V7u,H7u;!function(p7u,Z7u){if(!(p7u instanceof Z7u))throw new TypeError("Cannot call a class as a function");}(this,L7u);for(var T7u=arguments.length,d7u=Array(T7u),O7u=0;O7u<T7u;O7u++)d7u[O7u]=arguments[O7u];return V7u=H7u=R7u(this,(v7u=L7u.__proto__||Object.getPrototypeOf(L7u)).call.apply(v7u,[this].concat(d7u))),H7u.requiresSvg=TOP.utils.Browser.edge()||TOP.utils.Browser.ie(),R7u(H7u,V7u);}return function(W7u,B7u){if("function"!=typeof B7u&&null!==B7u)throw new TypeError("Super expression must either be null or a function, not "+typeof B7u);W7u.prototype=Object.create(B7u&&B7u.prototype,{constructor:{value:W7u,enumerable:!1,writable:!0,configurable:!0}}),B7u&&(Object.setPrototypeOf?Object.setPrototypeOf(W7u,B7u):W7u.__proto__=B7u);}(L7u,D7u.default.Component),F7u(L7u,[{key:"shouldSlateBeActive",value:function(){var z7u=this.props.player.model().mediaState();return z7u===Y7u.PlayerMediaState.Buffering||z7u===Y7u.PlayerMediaState.Seeking;}},{key:"render",value:function(J7u){var S7u=Math.floor(.5*(0,o7u.getStandardSlateButtonSize)(J7u.viewport.width));S7u%2==1&&(S7u+=1);var e7u=S7u/2,n7u=.08*S7u,s7u={container:{width:S7u+"px",height:S7u+"px"},shadow:{borderWidth:n7u+"px",boxShadow:"0 0 "+S7u+"px rgba(0,0,0,0.4), 0 0 "+e7u+"px rgba(0,0,0,0.2) inset"},spinner:{width:S7u+"px",height:S7u+"px",borderWidth:n7u+"px"}};return D7u.default.h("div",{className:"tui-buffering-slate"},D7u.default.h("div",{className:"tui-buffering-slate__spin-container",style:s7u.container},D7u.default.h("div",{className:"tui-buffering-slate__shadow",style:s7u.shadow}),this.requiresSvg?D7u.default.h("svg",{viewBox:"0 0 "+S7u+" "+S7u,width:""+S7u,height:""+S7u,className:"tui-buffering-slate__spinner"},D7u.default.h("defs",null,D7u.default.h("circle",{id:"circle",r:""+e7u,cx:""+e7u,cy:""+e7u}),D7u.default.h("clipPath",{id:"clip"},D7u.default.h("use",{xlinkHref:"#circle"}))),D7u.default.h("g",null,D7u.default.h("use",{xlinkHref:"#circle",stroke:"#fff","stroke-width":""+2*n7u,"stroke-opacity":"0.1",fill:"transparent","clip-path":"url(#clip)"}),D7u.default.h("path",{d:"\n                                    M 0 "+e7u+"\n                                    A "+e7u+" "+e7u+" 0 0 1 "+e7u+" 0\n                                ",stroke:"#ccc","stroke-width":""+2*n7u,fill:"transparent","clip-path":"url(#clip)"}))):D7u.default.h("div",{className:"tui-buffering-slate__spinner tui-buffering-slate__spinner--styled",style:s7u.spinner})));}}]),L7u;}();q7u.default=U7u;},,function(A7u,j7u,Q7u){},function(C9u,f9u,k7u){"use strict";Object.defineProperty(f9u,"__esModule",{value:!0});var I7u,r7u=function(){function w9u(R9u,F9u){for(var c9u=0;c9u<F9u.length;c9u++){var Y9u=F9u[c9u];Y9u.enumerable=Y9u.enumerable||!1,Y9u.configurable=!0,"value"in Y9u&&(Y9u.writable=!0),Object.defineProperty(R9u,Y9u.key,Y9u);}}return function(U9u,q9u,o9u){return q9u&&w9u(U9u.prototype,q9u),o9u&&w9u(U9u,o9u),U9u;};}(),X9u=k7u(0),E7u=(I7u=X9u)&&I7u.__esModule?I7u:{default:I7u},h9u=k7u(1),y7u=k7u(4),D9u=k7u(10);k7u(125);var i7u=function(m9u){function G9u(){var g9u,P9u,N9u;!function(M9u,L9u){if(!(M9u instanceof L9u))throw new TypeError("Cannot call a class as a function");}(this,G9u);for(var a9u=arguments.length,b9u=Array(a9u),K9u=0;K9u<a9u;K9u++)b9u[K9u]=arguments[K9u];return P9u=N9u=u9u(this,(g9u=G9u.__proto__||Object.getPrototypeOf(G9u)).call.apply(g9u,[this].concat(b9u))),N9u.onPress=function(){N9u.props.player.resume();},u9u(N9u,P9u);}return function(O9u,x9u){if("function"!=typeof x9u&&null!==x9u)throw new TypeError("Super expression must either be null or a function, not "+typeof x9u);O9u.prototype=Object.create(x9u&&x9u.prototype,{constructor:{value:O9u,enumerable:!1,writable:!0,configurable:!0}}),x9u&&(Object.setPrototypeOf?Object.setPrototypeOf(O9u,x9u):O9u.__proto__=x9u);}(G9u,E7u.default.Component),r7u(G9u,[{key:"shouldSlateBeActive",value:function(){return!(!this.props.metadata||!this.props.metadata.posterImage)&&this.props.player.model().contentState()===h9u.ContentState.Waiting;}},{key:"render",value:function(H9u){if(!H9u.metadata||!H9u.metadata.posterImage)return null;var T9u=(0,D9u.getStandardSlateButtonSize)(H9u.viewport.width),d9u={container:{backgroundImage:"url("+H9u.metadata.posterImage+")"},icon:{fontSize:T9u+"px",textShadow:"0 0 "+T9u/2+"px #000"}};return E7u.default.h("div",{className:"tui-start-slate",style:d9u.container,onClick:this.onPress,role:"button",tabIndex:"-1"},E7u.default.h(y7u.Icon,{className:"tui-start-slate__icon",type:y7u.IconType.PLAY_CIRCLE,style:d9u.icon}));}}]),G9u;}();i7u.priority=40,i7u.layer=3,f9u.default=i7u;function u9u(l9u,t9u){if(!l9u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t9u||"object"!=typeof t9u&&"function"!=typeof t9u?l9u:t9u;}},,function(v9u,V9u,p9u){},function(Q9u,J9u,Z9u){"use strict";Object.defineProperty(J9u,"__esModule",{value:!0});var W9u,A9u=function(){function k9u(y9u,E9u){for(var I9u=0;I9u<E9u.length;I9u++){var i9u=E9u[I9u];i9u.enumerable=i9u.enumerable||!1,i9u.configurable=!0,"value"in i9u&&(i9u.writable=!0),Object.defineProperty(y9u,i9u.key,i9u);}}return function(r9u,u8u,X8u){return u8u&&k9u(r9u.prototype,u8u),X8u&&k9u(r9u,X8u),r9u;};}(),e9u=Z9u(0),z9u=(W9u=e9u)&&W9u.__esModule?W9u:{default:W9u},B9u=Z9u(1),S9u=Z9u(4),j9u=Z9u(10);Z9u(128);var s9u=function(C8u){function D8u(){var R8u,U8u,Y8u;!function(q8u,o8u){if(!(q8u instanceof o8u))throw new TypeError("Cannot call a class as a function");}(this,D8u);for(var c8u=arguments.length,F8u=Array(c8u),w8u=0;w8u<c8u;w8u++)F8u[w8u]=arguments[w8u];return U8u=Y8u=n9u(this,(R8u=D8u.__proto__||Object.getPrototypeOf(D8u)).call.apply(R8u,[this].concat(F8u))),Y8u.onPress=function(){Y8u.props.player.resume();},n9u(Y8u,U8u);}return function(l8u,t8u){if("function"!=typeof t8u&&null!==t8u)throw new TypeError("Super expression must either be null or a function, not "+typeof t8u);l8u.prototype=Object.create(t8u&&t8u.prototype,{constructor:{value:l8u,enumerable:!1,writable:!0,configurable:!0}}),t8u&&(Object.setPrototypeOf?Object.setPrototypeOf(l8u,t8u):l8u.__proto__=t8u);}(D8u,z9u.default.Component),A9u(D8u,[{key:"shouldSlateBeActive",value:function(){var G8u=this.props.player.model().contentState(),m8u=this.props.player.model().mediaState(),K8u=this.props.player.model().adState();return G8u===B9u.ContentState.Waiting||G8u===B9u.ContentState.Media_Playback&&m8u===B9u.PlayerMediaState.Paused||K8u===B9u.PlayerAdState.Paused;}},{key:"render",value:function(b8u){var N8u=(0,j9u.getStandardSlateButtonSize)(b8u.viewport.width),a8u={fontSize:N8u+"px",textShadow:"0 0 "+N8u/2+"px #000"};return z9u.default.h("div",{className:"tui-play-slate",onClick:this.onPress,role:"button",tabIndex:"-1"},z9u.default.h(S9u.Icon,{className:"tui-play-slate__icon",type:S9u.IconType.PLAY_CIRCLE,style:a8u}));}}]),D8u;}();J9u.default=s9u;function n9u(f8u,h8u){if(!f8u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h8u||"object"!=typeof h8u&&"function"!=typeof h8u?f8u:h8u;}},function(d8u,g8u,P8u){"use strict";Object.defineProperty(g8u,"__esModule",{value:!0});var L8u=P8u(129);Object.defineProperty(g8u,"GiantPlay",{enumerable:!0,get:function(){return M8u(L8u).default;}});function M8u(v8u){return v8u&&v8u.__esModule?v8u:{default:v8u};}var x8u=P8u(126);Object.defineProperty(g8u,"Start",{enumerable:!0,get:function(){return M8u(x8u).default;}});var O8u=P8u(123);Object.defineProperty(g8u,"Buffering",{enumerable:!0,get:function(){return M8u(O8u).default;}});var H8u=P8u(120);Object.defineProperty(g8u,"End",{enumerable:!0,get:function(){return M8u(H8u).default;}});var T8u=P8u(117);Object.defineProperty(g8u,"Ad",{enumerable:!0,get:function(){return M8u(T8u).default;}});},,function(V8u,p8u,Z8u){},function(J8u,S8u,e8u){"use strict";Object.defineProperty(S8u,"__esModule",{value:!0});var B8u,z8u=function(){function A8u(i8u,k8u){for(var Q8u=0;Q8u<k8u.length;Q8u++){var j8u=k8u[Q8u];j8u.enumerable=j8u.enumerable||!1,j8u.configurable=!0,"value"in j8u&&(j8u.writable=!0),Object.defineProperty(i8u,j8u.key,j8u);}}return function(I8u,E8u,y8u){return E8u&&A8u(I8u.prototype,E8u),y8u&&A8u(I8u,y8u),I8u;};}(),n8u=e8u(0),W8u=(B8u=n8u)&&B8u.__esModule?B8u:{default:B8u};e8u(132);var s8u=function(u3u){function r8u(h3u){!function(f3u,D3u){if(!(f3u instanceof D3u))throw new TypeError("Cannot call a class as a function");}(this,r8u);var X3u=function(w3u,C3u){if(!w3u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C3u||"object"!=typeof C3u&&"function"!=typeof C3u?w3u:C3u;}(this,(r8u.__proto__||Object.getPrototypeOf(r8u)).call(this,h3u));return X3u.updateIsLive=function(){var Y3u=X3u.props.player.model().mediaTime(),c3u=X3u.props.player.model().mediaSeekableRange();X3u.setState({isLive:Y3u>c3u.end-X3u.props.liveThreshold});},X3u.seekToLive=function(){X3u.props.player&&X3u.props.player.seekToLive();},X3u.state={isLive:!0},X3u.playerEventListeners={mediaTimeChanged:X3u.updateIsLive},X3u;}return function(R3u,F3u){if("function"!=typeof F3u&&null!==F3u)throw new TypeError("Super expression must either be null or a function, not "+typeof F3u);R3u.prototype=Object.create(F3u&&F3u.prototype,{constructor:{value:R3u,enumerable:!1,writable:!0,configurable:!0}}),F3u&&(Object.setPrototypeOf?Object.setPrototypeOf(R3u,F3u):R3u.__proto__=F3u);}(r8u,W8u.default.Component),z8u(r8u,null,[{key:"mapStateToProps",value:function(U3u){return{liveThreshold:U3u.config.liveThreshold};}}]),z8u(r8u,[{key:"render",value:function(o3u,t3u){var q3u={backgroundColor:t3u.isLive?o3u.theme.accentColor:"#666"};return W8u.default.h("div",{className:"tui-live",onClick:this.seekToLive,role:"button",tabIndex:"-1"},W8u.default.h("div",{className:"tui-live__badge",style:q3u},"Live"));}}]),r8u;}();S8u.default=s8u;},,function(l3u,G3u,m3u){},function(H3u,x3u,a3u){"use strict";Object.defineProperty(x3u,"__esModule",{value:!0});var b3u,g3u=function(){function T3u(p3u,V3u){for(var v3u=0;v3u<V3u.length;v3u++){var d3u=V3u[v3u];d3u.enumerable=d3u.enumerable||!1,d3u.configurable=!0,"value"in d3u&&(d3u.writable=!0),Object.defineProperty(p3u,d3u.key,d3u);}}return function(Z3u,B3u,W3u){return B3u&&T3u(Z3u.prototype,B3u),W3u&&T3u(Z3u,W3u),Z3u;};}(),M3u=a3u(0),N3u=(b3u=M3u)&&b3u.__esModule?b3u:{default:b3u},P3u=a3u(10),O3u=a3u(1),K3u=a3u(4);a3u(135);var L3u=function(S3u){function z3u(n3u){!function(s3u,J3u){if(!(s3u instanceof J3u))throw new TypeError("Cannot call a class as a function");}(this,z3u);var e3u=function(j3u,A3u){if(!j3u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A3u||"object"!=typeof A3u&&"function"!=typeof A3u?j3u:A3u;}(this,(z3u.__proto__||Object.getPrototypeOf(z3u)).call(this,n3u));return e3u.updateMediaVolume=function(){e3u.setState({volume:e3u.props.player.model().mediaVolume()});},e3u.updateMediaMute=function(){e3u.setState({muted:e3u.props.player.model().mediaMuted()});},e3u.updateAdVolume=function(){var Q3u=e3u.props.player.model().adVolume();0!==Q3u&&e3u.setState({volume:Q3u});},e3u.updateAdMute=function(){e3u.setState({muted:e3u.props.player.model().adMuted()});},e3u.onMuteToggle=function(){var k3u=e3u.props.player;k3u&&(e3u.state.muted?k3u.unmute():k3u.mute());},e3u.onPointerEnterContainer=function(){e3u.setState({isPointerOverContainer:!0});},e3u.onPointerLeaveContainer=function(){e3u.setState({isPointerOverContainer:!1});},e3u.onPointerEnterBar=function(){e3u.setState({isPointerOverBar:!0});},e3u.onPointerLeaveBar=function(){e3u.setState({isPointerOverBar:!1});},e3u.onPointerDown=function(i3u){document.addEventListener("mousemove",e3u.onPointerMove),document.addEventListener("touchmove",e3u.onPointerMove),document.addEventListener("mouseup",e3u.onPointerUp),document.addEventListener("touchend",e3u.onPointerUp),document.addEventListener("touchcancel",e3u.onPointerUp),e3u.setPointerPosition(i3u);var I3u=e3u.getDraggedPercent(z3u.getEventPageX(i3u));e3u.setVolume(I3u),e3u.setState({isPointerDown:!0});},e3u.onPointerUp=function(y3u){document.removeEventListener("mousemove",e3u.onPointerMove),document.removeEventListener("touchmove",e3u.onPointerMove),document.removeEventListener("mouseup",e3u.onPointerUp),document.removeEventListener("touchend",e3u.onPointerUp),document.removeEventListener("touchcancel",e3u.onPointerUp);var E3u=e3u.getDraggedPercent(z3u.getEventPageX(y3u));e3u.setVolume(E3u),e3u.setState({isPointerDown:!1});},e3u.onPointerMove=function(r3u){e3u.setPointerPosition(r3u);var u5u=e3u.getDraggedPercent(z3u.getEventPageX(r3u));e3u.setVolume(u5u);},e3u.state={volume:void 0,muted:void 0,isPointerOverContainer:!1,isPointerOverBar:!1,isPointerDown:!1,pointerPageX:void 0},e3u.playerEventListeners={mediaVolumeChanged:e3u.updateMediaVolume,mediaMuteChanged:e3u.updateMediaMute,adVolumeChanged:e3u.updateAdVolume,adMuteChanged:e3u.updateAdMute},e3u;}return function(h5u,X5u){if("function"!=typeof X5u&&null!==X5u)throw new TypeError("Super expression must either be null or a function, not "+typeof X5u);h5u.prototype=Object.create(X5u&&X5u.prototype,{constructor:{value:h5u,enumerable:!1,writable:!0,configurable:!0}}),X5u&&(Object.setPrototypeOf?Object.setPrototypeOf(h5u,X5u):h5u.__proto__=X5u);}(z3u,N3u.default.Component),g3u(z3u,null,[{key:"mapStateToProps",value:function(f5u){return{viewport:f5u.ui.viewport,platform:f5u.platform};}}]),g3u(z3u,[{key:"playerDidAttach",value:function(){this.updateMediaMute(),this.updateMediaVolume();}},{key:"setVolume",value:function(C5u){var D5u=this.props.player;D5u&&D5u.setVolume(C5u);}},{key:"setPointerPosition",value:function(Y5u){var w5u=z3u.getEventPageX(Y5u);"number"==typeof w5u&&isFinite(w5u)&&this.setState({pointerPageX:w5u});}},{key:"getDraggedPercent",value:function(R5u){var c5u=this.volumeBarEl.getBoundingClientRect(),F5u=(R5u-c5u.left)/c5u.width;return(0,P3u.clamp)(F5u,0,1);}},{key:"isContainerActive",value:function(){return this.state.isPointerOverContainer||this.state.isPointerDown;}},{key:"isBarActive",value:function(){return this.state.isPointerOverBar||this.state.isPointerDown;}},{key:"isBarVisible",value:function(){return!(O3u.Browser.ios()||this.props.viewport.width<400)&&(P3u.touchIsSupported||this.isContainerActive());}},{key:"render",value:function(a5u,U5u){var K5u=this,l5u=this.isBarVisible(),q5u=U5u.muted?"#bbbbbb":a5u.theme.accentColor,G5u=z3u.getIconType(U5u.volume,U5u.muted),m5u=this.isBarActive()?"18px":"0px",t5u=void 0;t5u=U5u.isPointerDown?this.getDraggedPercent(U5u.pointerPageX):U5u.volume;var N5u={width:l5u?"70px":"0",marginRight:l5u?"10px":"0"},o5u={activeBar:{background:q5u,width:100*t5u+"%"},controlHandle:{color:q5u,fontSize:m5u,transition:"font-size 200ms"}};return N3u.default.h("div",{className:"tui-volume",onMouseEnter:this.onPointerEnterContainer,onMouseLeave:this.onPointerLeaveContainer},N3u.default.h(K3u.Button,{className:"tui-volume__button",iconType:G5u,onPress:this.onMuteToggle}),N3u.default.h("div",{className:"tui-volume__bar-container",role:"none",style:N5u,onMouseEnter:this.onPointerEnterBar,onMouseLeave:this.onPointerLeaveBar,onMouseDown:this.onPointerDown,onTouchStart:this.onPointerDown,ref:function(b5u){K5u.volumeBarEl=b5u;}},N3u.default.h("div",{className:"tui-volume__bar"},N3u.default.h("div",{className:"tui-volume__active-bar",style:o5u.activeBar},N3u.default.h(K3u.Icon,{className:"tui-volume__control-head",type:K3u.IconType.CIRCLE,style:o5u.controlHandle})))));}}],[{key:"getIconType",value:function(g5u,P5u){return P5u?K3u.IconType.VOLUME_MUTE:g5u<=1/3?K3u.IconType.VOLUME_LOW:g5u<=2/3?K3u.IconType.VOLUME_MID:K3u.IconType.VOLUME_HIGH;}},{key:"getEventPageX",value:function(M5u){var L5u=void 0;return void 0!==M5u.pageX?L5u=M5u.pageX:M5u.touches&&M5u.touches.length?L5u=M5u.touches[0].pageX:M5u.changedTouches&&M5u.changedTouches.length&&(L5u=M5u.changedTouches[0].pageX),L5u;}}]),z3u;}();x3u.default=L3u;},,function(x5u,O5u,H5u){},function(S5u,W5u,T5u){"use strict";Object.defineProperty(W5u,"__esModule",{value:!0});var d5u,Z5u=function(){function e5u(A5u,J5u){for(var s5u=0;s5u<J5u.length;s5u++){var n5u=J5u[s5u];n5u.enumerable=n5u.enumerable||!1,n5u.configurable=!0,"value"in n5u&&(n5u.writable=!0),Object.defineProperty(A5u,n5u.key,n5u);}}return function(j5u,Q5u,k5u){return Q5u&&e5u(j5u.prototype,Q5u),k5u&&e5u(j5u,k5u),j5u;};}(),B5u=T5u(0),p5u=(d5u=B5u)&&d5u.__esModule?d5u:{default:d5u},V5u=T5u(4),v5u=T5u(1);T5u(138);var z5u=function(I5u){function i5u(X0D){!function(h0D,f0D){if(!(h0D instanceof f0D))throw new TypeError("Cannot call a class as a function");}(this,i5u);var y5u,r5u,u0D,E5u=function(C0D,D0D){if(!C0D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D0D||"object"!=typeof D0D&&"function"!=typeof D0D?C0D:D0D;}(this,(i5u.__proto__||Object.getPrototypeOf(i5u)).call(this,X0D));return E5u.onViewStateChanged=function(){var w0D=E5u.props.player.model().viewState();w0D===v5u.PlayerViewState.Fullscreen?E5u.setState({isFullscreen:!0}):w0D===v5u.PlayerViewState.Windowed&&E5u.setState({isFullscreen:!1});},E5u.onPress=function(){E5u.props.player&&(E5u.state.isFullscreen?E5u.props.player.exitFullscreen():E5u.props.player.enterFullscreen());},E5u.state={isFullscreen:!1},E5u.playerEventListeners=(y5u={},r5u=v5u.PlayerApiEvent.viewStateChanged,u0D=E5u.onViewStateChanged,r5u in y5u?Object.defineProperty(y5u,r5u,{value:u0D,enumerable:!0,configurable:!0,writable:!0}):y5u[r5u]=u0D,y5u),E5u;}return function(c0D,Y0D){if("function"!=typeof Y0D&&null!==Y0D)throw new TypeError("Super expression must either be null or a function, not "+typeof Y0D);c0D.prototype=Object.create(Y0D&&Y0D.prototype,{constructor:{value:c0D,enumerable:!1,writable:!0,configurable:!0}}),Y0D&&(Object.setPrototypeOf?Object.setPrototypeOf(c0D,Y0D):c0D.__proto__=Y0D);}(i5u,p5u.default.Component),Z5u(i5u,[{key:"render",value:function(U0D,F0D){var R0D=F0D.isFullscreen?V5u.IconType.FULLSCREEN_EXIT:V5u.IconType.FULLSCREEN_ENTER;return p5u.default.h(V5u.Button,{className:"tui-fullscreen",iconType:R0D,onPress:this.onPress,isOn:F0D.isFullscreen});}}]),i5u;}();W5u.default=z5u;},,function(q0D,o0D,t0D){},function(P0D,a0D,m0D){"use strict";Object.defineProperty(a0D,"__esModule",{value:!0});var G0D,K0D=function(){function M0D(H0D,O0D){for(var x0D=0;x0D<O0D.length;x0D++){var L0D=O0D[x0D];L0D.enumerable=L0D.enumerable||!1,L0D.configurable=!0,"value"in L0D&&(L0D.writable=!0),Object.defineProperty(H0D,L0D.key,L0D);}}return function(T0D,d0D,v0D){return d0D&&M0D(T0D.prototype,d0D),v0D&&M0D(T0D,v0D),T0D;};}(),b0D=m0D(0),l0D=(G0D=b0D)&&G0D.__esModule?G0D:{default:G0D},N0D=m0D(10);m0D(141);var g0D=function(p0D){function V0D(B0D){!function(W0D,z0D){if(!(W0D instanceof z0D))throw new TypeError("Cannot call a class as a function");}(this,V0D);var Z0D=function(e0D,S0D){if(!e0D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S0D||"object"!=typeof S0D&&"function"!=typeof S0D?e0D:S0D;}(this,(V0D.__proto__||Object.getPrototypeOf(V0D)).call(this,B0D));return Z0D.onContentCompleted=function(){Z0D.setState({mediaTime:Z0D.state.mediaDuration});},Z0D.updateCurrentTime=function(){var n0D=Z0D.props.player.model().mediaSeekableRange().duration,s0D=Math.min(n0D,Z0D.props.player.model().mediaTime());Z0D.setState({mediaDuration:n0D,mediaTime:s0D});},Z0D.state={mediaTime:0,mediaDuration:0},Z0D.playerEventListeners={mediaLoaded:Z0D.updateCurrentTime,mediaTimeChanged:Z0D.updateCurrentTime,contentBeginning:Z0D.updateCurrentTime,contentCompleted:Z0D.onContentCompleted},Z0D;}return function(A0D,J0D){if("function"!=typeof J0D&&null!==J0D)throw new TypeError("Super expression must either be null or a function, not "+typeof J0D);A0D.prototype=Object.create(J0D&&J0D.prototype,{constructor:{value:A0D,enumerable:!1,writable:!0,configurable:!0}}),J0D&&(Object.setPrototypeOf?Object.setPrototypeOf(A0D,J0D):A0D.__proto__=J0D);}(V0D,l0D.default.Component),K0D(V0D,null,[{key:"mapStateToProps",value:function(j0D){return{pendingSeekTime:j0D.ui.pendingSeekTime};}}]),K0D(V0D,[{key:"playerDidAttach",value:function(){this.updateCurrentTime();}},{key:"render",value:function(I0D,i0D){var Q0D=i0D.mediaTime,k0D=i0D.mediaDuration;return V0D.isTimeValid(Q0D)&&V0D.isTimeValid(k0D)&&0!==k0D?(V0D.isTimeValid(this.props.pendingSeekTime)&&(Q0D=this.props.pendingSeekTime),l0D.default.h("div",{className:"tui-time"},l0D.default.h("span",{className:"tui-time__current"},(0,N0D.formatTime)(Q0D)),l0D.default.h("span",{className:"divider"},"/"),l0D.default.h("span",{className:"tui-time__duration"},(0,N0D.formatTime)(k0D)))):null;}}],[{key:"isTimeValid",value:function(E0D){return!("number"!=typeof E0D||!isFinite(E0D));}}]),V0D;}();a0D.default=g0D;},,function(y0D,r0D,u1D){},,function(X1D,h1D,f1D){},function(F1D,C1D,w1D){"use strict";Object.defineProperty(C1D,"__esModule",{value:!0});var D1D,Y1D=w1D(0),c1D=(D1D=Y1D)&&D1D.__esModule?D1D:{default:D1D};w1D(146);C1D.default=function(R1D){var U1D={width:100*R1D.widthPercent+"%",left:100*R1D.positionPercent+"%",backgroundColor:R1D.color||"#eeeeee"};return c1D.default.h("div",{className:"tui-marker",style:U1D});};},function(g1D,N1D,o1D){"use strict";Object.defineProperty(N1D,"__esModule",{value:!0});function K1D(v1D){return v1D&&v1D.__esModule?v1D:{default:v1D};}var G1D=function(){function P1D(O1D,x1D){for(var L1D=0;L1D<x1D.length;L1D++){var M1D=x1D[L1D];M1D.enumerable=M1D.enumerable||!1,M1D.configurable=!0,"value"in M1D&&(M1D.writable=!0),Object.defineProperty(O1D,M1D.key,M1D);}}return function(H1D,T1D,d1D){return T1D&&P1D(H1D.prototype,T1D),d1D&&P1D(H1D,d1D),H1D;};}(),q1D=K1D(o1D(0)),l1D=o1D(10),t1D=o1D(1),m1D=o1D(4),b1D=K1D(o1D(147));o1D(144);var a1D=function(p1D){function V1D(B1D){!function(W1D,z1D){if(!(W1D instanceof z1D))throw new TypeError("Cannot call a class as a function");}(this,V1D);var Z1D=function(e1D,S1D){if(!e1D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S1D||"object"!=typeof S1D&&"function"!=typeof S1D?e1D:S1D;}(this,(V1D.__proto__||Object.getPrototypeOf(V1D)).call(this,B1D));return Z1D.updateCurrentTime=function(){Z1D.setState({currentTime:Z1D.props.player.model().mediaTime()}),Z1D.updateRange();},Z1D.updateRange=function(){var n1D=Z1D.props.player.model().mediaSeekableRange();Z1D.props.player.model().mediaIsLive()&&(n1D.end-=Z1D.props.liveThreshold,n1D.end=Math.max(n1D.end,n1D.begin),n1D.duration=n1D.end-n1D.begin),n1D.end!==Z1D.state.endTime&&Z1D.setState({startTime:n1D.begin,endTime:n1D.end,duration:n1D.duration},Z1D.updateMarkers);},Z1D.updateMarkers=function(){var s1D=Z1D.props.player,J1D=s1D.model().timeline().markersForType(t1D.MarkerType.Ad_Midroll);if(J1D.length&&!s1D.model().mediaIsLive()){var A1D=Z1D.getMarkerPresentationData(J1D,Z1D.state.duration);Z1D.setState({markers:A1D});}else Z1D.setState({markers:[]});},Z1D.onMediaStarted=function(){Z1D.props.pendingSeekTime&&Z1D.props.player.seek(Z1D.props.pendingSeekTime);},Z1D.onSeekingFinished=function(){Z1D.props.pendingSeekTimeChange(null),Z1D.updateCurrentTime();},Z1D.onAdStarted=function(){Z1D.cancelSeek(),Z1D.props.pendingSeekTimeChange(null);},Z1D.onContentCompleted=function(){Z1D.setState({currentTime:Z1D.state.startTime+Z1D.state.duration});},Z1D.onTouchStart=function(j1D){j1D.preventDefault(),Z1D.addDocumentListeners(["touchmove","touchend","touchcancel"]),Z1D.onPointerDown(j1D);},Z1D.onTouchEnd=function(Q1D){Z1D.removeDocumentListeners(["touchmove","touchend","touchcancel"]),Z1D.onPointerUp(Q1D);},Z1D.onMouseDown=function(k1D){Z1D.addDocumentListeners(["mousemove","mouseup"]),Z1D.onPointerDown(k1D);},Z1D.onMouseUp=function(i1D){Z1D.removeDocumentListeners(["mousemove","mouseup"]),Z1D.onPointerUp(i1D);},Z1D.onMouseEnter=function(){Z1D.setState({isPointerOver:!0});},Z1D.onMouseLeave=function(){Z1D.setState({isPointerOver:!1});},Z1D.onPointerDown=function(I1D){Z1D.setState({isPointerDown:!0}),Z1D.setPointerPosition(I1D);var E1D=Z1D.getPointerPercent(Z1D.getEventPageX(I1D));Z1D.setPendingSeekTime(E1D);},Z1D.onPointerUp=function(r1D){Z1D.setState({isPointerDown:!1});var y1D=Z1D.getPointerPercent(Z1D.getEventPageX(r1D));Z1D.requestSeek(y1D);},Z1D.onPointerMove=function(u4D){Z1D.setPointerPosition(u4D);var X4D=Z1D.getPointerPercent(Z1D.getEventPageX(u4D));Z1D.setPendingSeekTime(X4D);},Z1D.getEventPageX=function(h4D){var f4D=void 0;return void 0!==h4D.pageX?f4D=h4D.pageX:h4D.touches&&h4D.touches.length?f4D=h4D.touches[0].pageX:h4D.changedTouches&&h4D.changedTouches.length&&(f4D=h4D.changedTouches[0].pageX),f4D;},Z1D.setPointerPosition=function(C4D){var D4D=Z1D.getEventPageX(C4D);"number"==typeof D4D&&isFinite(D4D)&&Z1D.setState({pointerPageX:D4D});},Z1D.getProgressPercent=function(){var w4D=0;if(Z1D.props.player){var c4D=Z1D.state,F4D=c4D.currentTime,Y4D=c4D.duration,R4D=c4D.startTime,U4D=Z1D.props.pendingSeekTime;"number"==typeof Y4D&&(0===Y4D?w4D=1:"number"==typeof U4D?w4D=(U4D-R4D)/Y4D:"number"==typeof F4D&&(w4D=(F4D-R4D)/Y4D),w4D=(0,l1D.clamp)(w4D,0,1));}return w4D;},Z1D.getPointerPercent=function(t4D){var q4D=Z1D.progressBarEl.getBoundingClientRect(),o4D=(t4D-q4D.left)/q4D.width;return(0,l1D.clamp)(o4D,0,1);},Z1D.defaultMarkerWidthPx=5,Z1D.state={currentTime:void 0,startTime:void 0,endTime:void 0,duration:void 0,isPointerOver:!1,isPointerDown:!1,pointerPageX:void 0,markers:[]},Z1D.playerEventListeners={mediaStarted:Z1D.onMediaStarted,mediaLoaded:Z1D.updateRange,mediaSeekingFinished:Z1D.onSeekingFinished,mediaTimeChanged:Z1D.updateCurrentTime,adStarted:Z1D.onAdStarted,contentCompleted:Z1D.onContentCompleted,contentBeginning:Z1D.updateCurrentTime},Z1D.documentEventListeners={touchmove:Z1D.onPointerMove,touchend:Z1D.onTouchEnd,touchcancel:Z1D.onTouchEnd,mousemove:Z1D.onPointerMove,mouseup:Z1D.onMouseUp},Z1D;}return function(G4D,l4D){if("function"!=typeof l4D&&null!==l4D)throw new TypeError("Super expression must either be null or a function, not "+typeof l4D);G4D.prototype=Object.create(l4D&&l4D.prototype,{constructor:{value:G4D,enumerable:!1,writable:!0,configurable:!0}}),l4D&&(Object.setPrototypeOf?Object.setPrototypeOf(G4D,l4D):G4D.__proto__=l4D);}(V1D,q1D.default.Component),G1D(V1D,null,[{key:"mapStateToProps",value:function(m4D){return{pendingSeekTime:m4D.ui.pendingSeekTime,liveThreshold:m4D.config.liveThreshold,platform:m4D.platform};}},{key:"mapDispatchToProps",value:function(K4D){return{pendingSeekTimeChange:K4D.pendingSeekTimeChange};}}]),G1D(V1D,[{key:"playerDidAttach",value:function(){this.updateCurrentTime();}},{key:"addDocumentListeners",value:function(a4D){var N4D=this;a4D.forEach(function(b4D){document.addEventListener(b4D,N4D.documentEventListeners[b4D]);});}},{key:"removeDocumentListeners",value:function(P4D){var g4D=this;P4D.forEach(function(M4D){document.removeEventListener(M4D,g4D.documentEventListeners[M4D]);});}},{key:"getMarkerPresentationData",value:function(H4D,x4D){var L4D=this;if(!x4D||!this.progressBarEl)return[];var O4D=this.progressBarEl.getBoundingClientRect().width;return H4D.map(function(v4D){var d4D=v4D.range().begin/x4D,T4D=L4D.defaultMarkerWidthPx/O4D;return{widthPercent:T4D,positionPercent:d4D-=T4D/2,color:L4D.props.settings.markerColor};});}},{key:"requestSeek",value:function(B4D){var V4D=this.props.player,p4D=V4D.model().mediaIsLive(),W4D=V4D.model().mediaState()===t1D.PlayerMediaState.Error,Z4D=B4D*this.state.duration+this.state.startTime;this.props.pendingSeekTimeChange(Z4D),V4D.isMediaCompleted()?p4D||W4D||V4D.replay():p4D&&1===B4D?V4D.seekToLive():V4D.seek(Z4D);}},{key:"cancelSeek",value:function(){this.removeDocumentListeners(["touchmove","touchend","touchcancel","mousemove","mouseup"]),this.setState({isPointerDown:!1});}},{key:"setPendingSeekTime",value:function(S4D){var z4D=S4D*this.state.duration+this.state.startTime;this.props.pendingSeekTimeChange(z4D);}},{key:"canSeek",value:function(){var e4D=this.props.player;if(!e4D)return!1;var s4D=e4D.model().mediaState(),J4D=e4D.model().mediaIsLive();if(s4D===t1D.PlayerMediaState.Error||s4D===t1D.PlayerMediaState.Pending||e4D.isMediaCompleted()&&J4D||e4D.isAdActive())return!1;var n4D=this.state.duration;return"number"!=typeof n4D||isFinite(n4D)&&n4D>0;}},{key:"isActive",value:function(){return this.state.isPointerOver||this.state.isPointerDown;}},{key:"render",value:function(k4D,Q4D){var i4D=this,A4D=this.canSeek(),I4D=A4D&&this.isActive()?"5px":"3px",E4D=A4D&&this.isActive()?"18px":"0px",y4D=Q4D.isPointerDown?this.getPointerPercent(Q4D.pointerPageX):this.getProgressPercent(),j4D={container:{cursor:A4D?"pointer":"default"},bar:{height:I4D},activeProgress:{background:k4D.theme.accentColor,width:100*y4D+"%"},playhead:{color:k4D.theme.accentColor,fontSize:E4D,transition:"font-size 200ms"}};return q1D.default.h("div",{className:"tui-progress-bar",role:"none",style:j4D.container,onMouseEnter:A4D&&this.onMouseEnter,onMouseLeave:A4D&&this.onMouseLeave,onMouseDown:A4D&&this.onMouseDown,onTouchStart:A4D&&this.onTouchStart,ref:function(r4D){i4D.progressBarEl=r4D;}},q1D.default.h("div",{className:"tui-progress-bar__bar",style:j4D.bar},q1D.default.h("div",{className:"tui-bar__active-progress",style:j4D.activeProgress},q1D.default.h(m1D.Icon,{className:"tui-bar__control-head",type:m1D.IconType.CIRCLE,style:j4D.playhead})),Q4D.markers.map(function(u6D){return q1D.default.h(b1D.default,u6D);})));}}]),V1D;}();N1D.default=a1D;},,function(X6D,h6D,f6D){},function(t6D,q6D,C6D){"use strict";function Y6D(P6D,M6D,L6D){return M6D in P6D?Object.defineProperty(P6D,M6D,{value:L6D,enumerable:!0,configurable:!0,writable:!0}):P6D[M6D]=L6D,P6D;}Object.defineProperty(q6D,"__esModule",{value:!0});var w6D,c6D=function(){function l6D(N6D,K6D){for(var m6D=0;m6D<K6D.length;m6D++){var G6D=K6D[m6D];G6D.enumerable=G6D.enumerable||!1,G6D.configurable=!0,"value"in G6D&&(G6D.writable=!0),Object.defineProperty(N6D,G6D.key,G6D);}}return function(a6D,b6D,g6D){return b6D&&l6D(a6D.prototype,b6D),g6D&&l6D(a6D,g6D),a6D;};}(),U6D=C6D(0),F6D=(w6D=U6D)&&w6D.__esModule?w6D:{default:w6D},R6D=C6D(4),D6D=C6D(1);C6D(150);var o6D=function(O6D){function x6D(d6D){var T6D;!function(v6D,V6D){if(!(v6D instanceof V6D))throw new TypeError("Cannot call a class as a function");}(this,x6D);var H6D=function(Z6D,p6D){if(!Z6D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p6D||"object"!=typeof p6D&&"function"!=typeof p6D?Z6D:p6D;}(this,(x6D.__proto__||Object.getPrototypeOf(x6D)).call(this,d6D));return H6D.updateCaptionsAvailability=function(){H6D.setState({captionsAvailable:H6D.props.player.isCaptionsAvailable()});},H6D.updateCaptionsEnabled=function(){H6D.setState({captionsEnabled:H6D.props.player.isCaptionsEnabled()});},H6D.toggleMenu=function(){var B6D=H6D.props.activeMenuId===D6D.ComponentName.menus.CLOSED_CAPTIONS;H6D.props.activeMenuChange(B6D?null:D6D.ComponentName.menus.CLOSED_CAPTIONS);},H6D.state={captionsAvailable:!1,captionsEnabled:!1},H6D.playerEventListeners=(Y6D(T6D={},D6D.PlayerApiEvent.contentBeginning,H6D.updateCaptionsAvailability),Y6D(T6D,D6D.PlayerApiEvent.mediaLoaded,H6D.updateCaptionsAvailability),Y6D(T6D,D6D.PlayerApiEvent.captionsTrackAvailabilityChanged,H6D.updateCaptionsAvailability),Y6D(T6D,D6D.PlayerApiEvent.captionsStateChanged,H6D.updateCaptionsEnabled),T6D),H6D;}return function(z6D,W6D){if("function"!=typeof W6D&&null!==W6D)throw new TypeError("Super expression must either be null or a function, not "+typeof W6D);z6D.prototype=Object.create(W6D&&W6D.prototype,{constructor:{value:z6D,enumerable:!1,writable:!0,configurable:!0}}),W6D&&(Object.setPrototypeOf?Object.setPrototypeOf(z6D,W6D):z6D.__proto__=W6D);}(x6D,F6D.default.Component),c6D(x6D,null,[{key:"mapStateToProps",value:function(S6D){return{activeMenuId:S6D.ui.activeMenuId};}},{key:"mapDispatchToProps",value:function(e6D){return{activeMenuChange:e6D.activeMenuChange};}}]),c6D(x6D,[{key:"playerDidAttach",value:function(){this.updateCaptionsAvailability(),this.updateCaptionsEnabled();}},{key:"render",value:function(A6D,n6D){if(!n6D.captionsAvailable)return null;var s6D={borderBottom:"4px solid "+A6D.theme.accentColor,borderTop:"4px solid transparent"},J6D=n6D.captionsEnabled?s6D:{};return F6D.default.h(R6D.Button,{className:"tui-cc",style:J6D,iconType:R6D.IconType.CAPTIONS,onPress:this.toggleMenu,isOn:n6D.captionsEnabled});}}]),x6D;}();q6D.default=o6D;},,function(j6D,Q6D,k6D){},,function(i6D,I6D,E6D){},function(D2D,u2D){var r6D=(u2D=D2D.exports=function(C2D){if(C2D&&"object"==typeof C2D){var Y2D=C2D.which||C2D.keyCode||C2D.charCode;Y2D&&(C2D=Y2D);}if("number"==typeof C2D)return h2D[C2D];var c2D,w2D=String(C2D);return(c2D=r6D[w2D.toLowerCase()])?c2D:(c2D=X2D[w2D.toLowerCase()])||(1===w2D.length?w2D.charCodeAt(0):void 0);}).code=u2D.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},X2D=u2D.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(y6D=97;y6D<123;y6D++)r6D[String.fromCharCode(y6D)]=y6D-32;for(var y6D=48;y6D<58;y6D++)r6D[y6D-48]=y6D;for(y6D=1;y6D<13;y6D++)r6D["f"+y6D]=y6D+111;for(y6D=0;y6D<10;y6D++)r6D["numpad "+y6D]=y6D+96;var h2D=u2D.names=u2D.title={};for(y6D in r6D)h2D[r6D[y6D]]=y6D;for(var f2D in X2D)r6D[f2D]=X2D[f2D];},function(K2D,t2D,R2D){"use strict";Object.defineProperty(t2D,"__esModule",{value:!0});var o2D=function(){function N2D(P2D,g2D){for(var b2D=0;b2D<g2D.length;b2D++){var a2D=g2D[b2D];a2D.enumerable=a2D.enumerable||!1,a2D.configurable=!0,"value"in a2D&&(a2D.writable=!0),Object.defineProperty(P2D,a2D.key,a2D);}}return function(M2D,L2D,x2D){return L2D&&N2D(M2D.prototype,L2D),x2D&&N2D(M2D,x2D),M2D;};}(),F2D=U2D(R2D(0)),l2D=U2D(R2D(23)),G2D=U2D(R2D(156)),m2D=R2D(4);R2D(155);var q2D=function(T2D){function H2D(v2D){!function(V2D,p2D){if(!(V2D instanceof p2D))throw new TypeError("Cannot call a class as a function");}(this,H2D);var d2D=function(B2D,Z2D){if(!B2D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Z2D||"object"!=typeof Z2D&&"function"!=typeof Z2D?B2D:Z2D;}(this,(H2D.__proto__||Object.getPrototypeOf(H2D)).call(this,v2D));return d2D.onMouseEnter=function(){d2D.setState({isOver:!0});},d2D.onMouseLeave=function(){d2D.setState({isOver:!1});},d2D.onKeyUp=function(W2D){var z2D=(0,G2D.default)(W2D);"enter"!==z2D&&"space"!==z2D||(W2D.stopPropagation(),d2D.onPress(W2D));},d2D.onPress=function(S2D){d2D.props.onPress(S2D),d2D.setState({isPressed:!0});},d2D.state={isOver:!1},d2D;}return function(n2D,e2D){if("function"!=typeof e2D&&null!==e2D)throw new TypeError("Super expression must either be null or a function, not "+typeof e2D);n2D.prototype=Object.create(e2D&&e2D.prototype,{constructor:{value:n2D,enumerable:!1,writable:!0,configurable:!0}}),e2D&&(Object.setPrototypeOf?Object.setPrototypeOf(n2D,e2D):n2D.__proto__=e2D);}(H2D,F2D.default.Component),o2D(H2D,[{key:"buildClasses",value:function(){var s2D=this.props,J2D=s2D.className,A2D=s2D.isOn,j2D=this.state.isOver;return{base:(0,l2D.default)(J2D,"tui-btn",{"tui-btn--over":j2D,"tui-btn--on":A2D}),content:"tui-btn__content"};}},{key:"render",value:function(Q2D){var k2D=this.buildClasses();return F2D.default.h("span",{tabIndex:"-1",role:"button",className:k2D.base,style:Q2D.style,onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter,onKeyUp:this.onKeyUp,onClick:this.onPress},F2D.default.h("span",{className:k2D.content,role:"button",tabIndex:"0"},Q2D.iconType&&F2D.default.h(m2D.Icon,{type:Q2D.iconType}),Q2D.children));}}]),H2D;}();t2D.default=q2D;function U2D(O2D){return O2D&&O2D.__esModule?O2D:{default:O2D};}},,function(i2D,I2D,E2D){},function(c7D,Y7D,y2D){"use strict";Object.defineProperty(Y7D,"__esModule",{value:!0});function D7D(P7D,g7D){if(!P7D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g7D||"object"!=typeof g7D&&"function"!=typeof g7D?P7D:g7D;}function u7D(b7D){return b7D&&b7D.__esModule?b7D:{default:b7D};}var h7D=Object.assign||function(q7D){for(var F7D=1;F7D<arguments.length;F7D++){var R7D=arguments[F7D];for(var U7D in R7D)Object.prototype.hasOwnProperty.call(R7D,U7D)&&(q7D[U7D]=R7D[U7D]);}return q7D;},f7D=function(){function o7D(m7D,G7D){for(var l7D=0;l7D<G7D.length;l7D++){var t7D=G7D[l7D];t7D.enumerable=t7D.enumerable||!1,t7D.configurable=!0,"value"in t7D&&(t7D.writable=!0),Object.defineProperty(m7D,t7D.key,t7D);}}return function(K7D,N7D,a7D){return N7D&&o7D(K7D.prototype,N7D),a7D&&o7D(K7D,a7D),K7D;};}(),r2D=u7D(y2D(0)),C7D=u7D(y2D(23)),w7D=u7D(y2D(46));y2D(159);var X7D=function(L7D){function M7D(){var d7D,v7D,O7D;!function(V7D,p7D){if(!(V7D instanceof p7D))throw new TypeError("Cannot call a class as a function");}(this,M7D);for(var H7D=arguments.length,T7D=Array(H7D),x7D=0;x7D<H7D;x7D++)T7D[x7D]=arguments[x7D];return v7D=O7D=D7D(this,(d7D=M7D.__proto__||Object.getPrototypeOf(M7D)).call.apply(d7D,[this].concat(T7D))),O7D.defaultIconType=w7D.default.CIRCLE,D7D(O7D,v7D);}return function(B7D,Z7D){if("function"!=typeof Z7D&&null!==Z7D)throw new TypeError("Super expression must either be null or a function, not "+typeof Z7D);B7D.prototype=Object.create(Z7D&&Z7D.prototype,{constructor:{value:B7D,enumerable:!1,writable:!0,configurable:!0}}),Z7D&&(Object.setPrototypeOf?Object.setPrototypeOf(B7D,Z7D):B7D.__proto__=Z7D);}(M7D,r2D.default.Component),f7D(M7D,[{key:"buildClasses",value:function(){var W7D,S7D,e7D,z7D=this.props,s7D=z7D.className,J7D=z7D.type,n7D=z7D.customIconClass,A7D=J7D||this.defaultIconType;return(0,C7D.default)(s7D,n7D,"tui-icon",(e7D=!n7D,(S7D="tui-icon-"+A7D)in(W7D={})?Object.defineProperty(W7D,S7D,{value:e7D,enumerable:!0,configurable:!0,writable:!0}):W7D[S7D]=e7D,W7D));}},{key:"buildStyles",value:function(){var j7D=this.props,Q7D=j7D.style,k7D=j7D.size;return h7D({fontSize:k7D||null},Q7D);}},{key:"render",value:function(){return r2D.default.h("i",{className:this.buildClasses(),style:this.buildStyles()});}}]),M7D;}();Y7D.default=X7D;},function(D9D,h9D,I7D){"use strict";Object.defineProperty(h9D,"__esModule",{value:!0});var E7D,u9D=function(){function C9D(F9D,c9D){for(var Y9D=0;Y9D<c9D.length;Y9D++){var w9D=c9D[Y9D];w9D.enumerable=w9D.enumerable||!1,w9D.configurable=!0,"value"in w9D&&(w9D.writable=!0),Object.defineProperty(F9D,w9D.key,w9D);}}return function(R9D,U9D,q9D){return U9D&&C9D(R9D.prototype,U9D),q9D&&C9D(R9D,q9D),R9D;};}(),X9D=I7D(0),r7D=(E7D=X9D)&&E7D.__esModule?E7D:{default:E7D},y7D=I7D(4),i7D=I7D(1);I7D(153);var f9D=function(t9D){function o9D(G9D){!function(m9D,K9D){if(!(m9D instanceof K9D))throw new TypeError("Cannot call a class as a function");}(this,o9D);var l9D=function(a9D,N9D){if(!a9D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N9D||"object"!=typeof N9D&&"function"!=typeof N9D?a9D:N9D;}(this,(o9D.__proto__||Object.getPrototypeOf(o9D)).call(this,G9D));return l9D.updatePlayingState=function(){var b9D=o9D.isPlaying(l9D.props.player.model().mediaState(),l9D.props.player.model().adState());void 0!==b9D&&l9D.setState({isPlaying:b9D});},l9D.onPause=function(){l9D.props.player&&l9D.props.player.pause();},l9D.onPlay=function(){l9D.props.player&&(l9D.props.player.model().mediaState()===i7D.PlayerMediaState.Finished?l9D.props.player.replay():l9D.props.player.resume());},l9D.state={isPlaying:!1},l9D.playerEventListeners={mediaStateChanged:l9D.updatePlayingState,adStateChanged:l9D.updatePlayingState},l9D;}return function(P9D,g9D){if("function"!=typeof g9D&&null!==g9D)throw new TypeError("Super expression must either be null or a function, not "+typeof g9D);P9D.prototype=Object.create(g9D&&g9D.prototype,{constructor:{value:P9D,enumerable:!1,writable:!0,configurable:!0}}),g9D&&(Object.setPrototypeOf?Object.setPrototypeOf(P9D,g9D):P9D.__proto__=g9D);}(o9D,r7D.default.Component),u9D(o9D,[{key:"playerDidAttach",value:function(){this.updatePlayingState();}},{key:"render",value:function(H9D,O9D){var M9D=O9D.isPlaying,L9D=M9D?y7D.IconType.PAUSE:y7D.IconType.PLAY,x9D=M9D?this.onPause:this.onPlay;return r7D.default.h(y7D.Button,{className:"tui-play",iconType:L9D,onPress:x9D});}}],[{key:"isPlaying",value:function(T9D,d9D){return T9D===i7D.PlayerMediaState.Playing||d9D===i7D.PlayerAdState.Playing||(T9D===i7D.PlayerMediaState.Buffering||T9D===i7D.PlayerMediaState.Seeking)&&void 0;}}]),o9D;}();h9D.default=f9D;},function(s9D,v9D,p9D){"use strict";Object.defineProperty(v9D,"__esModule",{value:!0});var B9D=p9D(161);Object.defineProperty(v9D,"Play",{enumerable:!0,get:function(){return V9D(B9D).default;}});var W9D=p9D(151);Object.defineProperty(v9D,"ClosedCaptions",{enumerable:!0,get:function(){return V9D(W9D).default;}});var Z9D=p9D(148);Object.defineProperty(v9D,"ProgressBar",{enumerable:!0,get:function(){return V9D(Z9D).default;}});var S9D=p9D(142);Object.defineProperty(v9D,"TimeDuration",{enumerable:!0,get:function(){return V9D(S9D).default;}});var e9D=p9D(139);function V9D(J9D){return J9D&&J9D.__esModule?J9D:{default:J9D};}Object.defineProperty(v9D,"Fullscreen",{enumerable:!0,get:function(){return V9D(e9D).default;}});var n9D=p9D(136);Object.defineProperty(v9D,"Volume",{enumerable:!0,get:function(){return V9D(n9D).default;}});var z9D=p9D(133);Object.defineProperty(v9D,"Live",{enumerable:!0,get:function(){return V9D(z9D).default;}});},function(R8D,y9D,i9D){"use strict";Object.defineProperty(y9D,"__esModule",{value:!0}),y9D.defaultComponents=void 0;var h8D,r9D,f8D=function(){function U8D(l8D,t8D){for(var o8D=0;o8D<t8D.length;o8D++){var q8D=t8D[o8D];q8D.enumerable=q8D.enumerable||!1,q8D.configurable=!0,"value"in q8D&&(q8D.writable=!0),Object.defineProperty(l8D,q8D.key,q8D);}}return function(G8D,m8D,K8D){return m8D&&U8D(G8D.prototype,m8D),K8D&&U8D(G8D,K8D),G8D;};}(),C8D=i9D(43),X8D=(r9D=C8D)&&r9D.__esModule?r9D:{default:r9D},A9D=i9D(1),k9D=i9D(162),E9D=i9D(130),j9D=i9D(31),D8D=i9D(16),Q9D=i9D(24),w8D=i9D(48);var c8D={Play:(0,j9D.withControlHooks)(k9D.Play,"Play"),ClosedCaptions:(0,j9D.withControlHooks)(k9D.ClosedCaptions,"ClosedCaptions"),TimeDuration:(0,j9D.withControlHooks)(k9D.TimeDuration,"TimeDuration"),Fullscreen:(0,j9D.withControlHooks)(k9D.Fullscreen,"Fullscreen"),Volume:(0,j9D.withControlHooks)(k9D.Volume,"Volume"),ProgressBar:(0,j9D.withControlHooks)(k9D.ProgressBar,"ProgressBar"),Live:(0,j9D.withControlHooks)(k9D.Live,"Live")},F8D={GiantPlay:(0,j9D.withSlateHooks)(E9D.GiantPlay,"GiantPlay"),Start:(0,j9D.withSlateHooks)(E9D.Start,"Start"),Buffering:(0,j9D.withSlateHooks)(E9D.Buffering,"Buffering"),End:(0,j9D.withSlateHooks)(E9D.End,"End"),Ad:(0,j9D.withSlateHooks)(E9D.Ad,"Ad")},I9D=y9D.defaultComponents=(u8D(h8D={},A9D.ComponentType.CONTROLS,c8D),u8D(h8D,A9D.ComponentType.SLATES,F8D),h8D),Y8D=function(){function g8D(L8D){var M8D,P8D=this;!function(x8D,O8D){if(!(x8D instanceof O8D))throw new TypeError("Cannot call a class as a function");}(this,g8D),this.customComponents=(u8D(M8D={},A9D.ComponentType.CONTROLS,{}),u8D(M8D,A9D.ComponentType.SLATES,{}),M8D),this.getRegisteredComponents=function(H8D){if(!P8D._isValidType(H8D))return!1;var T8D=Object.assign({},I9D[H8D],P8D.customComponents[H8D]);return Q9D.uiLogger.log("[ComponentManager] Registered "+H8D+" components: "+Object.keys(T8D)),T8D;},this.registerComponent=function(V8D,d8D,v8D){if(Q9D.uiLogger.info("[ComponentManager] Registering "+d8D+" component '"+V8D+"'"),!P8D._isValidType(d8D))return!1;if(!v8D||!w8D.PreactComponent.is(v8D))return Q9D.uiLogger.warn("[ComponentManager] Component provided does not extend Preact.Component. Aborting component registration."),!1;var p8D=v8D;return p8D=d8D===A9D.ComponentType.CONTROLS?(0,j9D.withControlHooks)(v8D,V8D):(0,j9D.withSlateHooks)(v8D,V8D),P8D.customComponents[d8D][V8D]=p8D,P8D._updateStore(d8D,P8D.getRegisteredComponents(d8D)),!0;},this.deregisterComponent=function(B8D,Z8D){return Q9D.uiLogger.info("[ComponentManager] De-Registering "+Z8D+" component '"+B8D+"'"),!!P8D._isValidType(Z8D)&&(delete P8D.customComponents[Z8D][B8D],P8D._updateStore(Z8D,P8D.getRegisteredComponents(Z8D)),!0);},this.addComponentToConfig=function(k8D,W8D,S8D){var n8D=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ALL",j8D=arguments.length>4&&void 0!==arguments[4]?arguments[4]:A9D.LocationName.RIGHT,A8D=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(!P8D._isValidType(S8D))return!1;if(Object.keys(I9D[S8D]).includes(W8D))return Q9D.uiLogger.warn("[ComponentManager] Cannot add component. '"+W8D+"' is a built-in component ID."),!1;Q9D.uiLogger.info("[ComponentManager] Adding "+S8D+" component '"+W8D+"'");var Q8D=(0,X8D.default)({},k8D),z8D=P8D._getElementsConfig(Q8D,S8D);z8D.active.push(W8D);var s8D=n8D;"ALL"===n8D&&(s8D=Object.values(A9D.DeliveryType));var J8D=[];if(Array.isArray(s8D)&&(J8D=s8D.filter(function(i8D){return!!z8D.sets[i8D];})),!J8D.length)return Q9D.uiLogger.warn("[ComponentManager] No control sets selected. Aborting component addition. Provided sets: "+n8D),!1;if(J8D.forEach(function(I8D){z8D.sets[I8D].includes(W8D)||z8D.sets[I8D].push(W8D);}),S8D===A9D.ComponentType.CONTROLS){var e8D=z8D.order[j8D];if(!Array.isArray(e8D))return Q9D.uiLogger.warn("[ComponentManager] Invalid location. Aborting component addition. Provided location: "+j8D),!1;A8D>=0&&A8D<=e8D.length?e8D.splice(A8D,0,W8D):e8D.push(W8D);}return Q8D;},this._store=L8D,this._updateStore(A9D.ComponentType.CONTROLS,I9D[A9D.ComponentType.CONTROLS]),this._updateStore(A9D.ComponentType.SLATES,I9D[A9D.ComponentType.SLATES]);}return f8D(g8D,[{key:"removeComponentFromConfig",value:function(X3D,E8D,r8D){if(!this._isValidType(r8D))return!1;if(Object.keys(I9D[r8D]).includes(E8D))return Q9D.uiLogger.warn("[ComponentManager] Cannot remove component. '"+E8D+"' is a built-in component ID."),!1;Q9D.uiLogger.info("[ComponentManager] Removing "+r8D+" component '"+E8D+"'");var u3D=(0,X8D.default)({},X3D),y8D=this._getElementsConfig(u3D,r8D);return y8D.active.includes(E8D)&&y8D.active.splice(y8D.active.indexOf(E8D),1),Object.values(A9D.DeliveryType).forEach(function(f3D){var h3D=y8D.sets[f3D];h3D.includes(E8D)&&h3D.splice(h3D.indexOf(E8D),1);}),r8D===A9D.ComponentType.CONTROLS&&Object.values(y8D.order).forEach(function(D3D){D3D.includes(E8D)&&D3D.splice(D3D.indexOf(E8D),1);}),u3D;}},{key:"_updateStore",value:function(C3D,w3D){this._store.dispatch((0,D8D.componentListChange)(C3D,w3D));}},{key:"_isValidType",value:function(c3D){var Y3D=Object.values(A9D.ComponentType).includes(c3D);return Y3D||Q9D.uiLogger.warn("[ComponentManager] Invalid component type '"+c3D+"' provided"),Y3D;}},{key:"_getElementsConfig",value:function(F3D,R3D){return F3D.elements[{slates:"slates",controls:"controlBar"}[R3D]];}},{key:"_isBuiltinId",value:function(U3D,q3D){return Object.keys(I9D[q3D]).includes(U3D);}}]),g8D;}();function u8D(N8D,a8D,b8D){return a8D in N8D?Object.defineProperty(N8D,a8D,{value:b8D,enumerable:!0,configurable:!0,writable:!0}):N8D[a8D]=b8D,N8D;}y9D.default=Y8D;},function(a3D,G3D,N3D){"use strict";Object.defineProperty(G3D,"__esModule",{value:!0});var m3D=N3D(1);var o3D,t3D,l3D,K3D=(o3D={},t3D=m3D.ThemeName.DEFAULT,l3D={accentColor:"#0052E7"},t3D in o3D?Object.defineProperty(o3D,t3D,{value:l3D,enumerable:!0,configurable:!0,writable:!0}):o3D[t3D]=l3D,o3D);G3D.default=K3D;},function(x3D,O3D,b3D){var g3D=b3D(2),P3D=b3D(6),M3D=b3D(5),L3D=b3D(36);x3D.exports=function(v3D){for(var V3D,d3D,T3D,H3D=1,p3D=arguments.length;H3D<p3D;)if(V3D=arguments[H3D],d3D=arguments[H3D+1],T3D=arguments[H3D+2],P3D(T3D)&&!M3D(T3D)?H3D+=3:(T3D=d3D,d3D=L3D.is,H3D+=2),V3D.is(v3D)&&d3D(v3D))return T3D(v3D);g3D.fail("Match error");};},function(n3D,A3D,Z3D){function s3D(Q3D){return B3D.commands.hasOwnProperty(Q3D);}Z3D(2);function W3D(j3D){return S3D(j3D)?j3D instanceof Date||j3D instanceof RegExp?j3D:e3D({},j3D):z3D(j3D)?j3D.concat():j3D;}function B3D(E3D,u5D){var y3D,i3D=E3D,r3D=!1;for(var I3D in u5D)u5D.hasOwnProperty(I3D)&&(s3D(I3D)?(y3D=J3D(I3D)(u5D[I3D],i3D))!==E3D?(r3D=!0,i3D=y3D):i3D=E3D:(i3D===E3D&&(i3D=W3D(E3D)),y3D=B3D(i3D[I3D],u5D[I3D]),r3D=r3D||y3D!==i3D[I3D],i3D[I3D]=y3D));return r3D?i3D:E3D;}var S3D=Z3D(15),z3D=(Z3D(6),Z3D(14)),e3D=(Z3D(55),Z3D(49));B3D.commands={$apply:function(X5D,h5D){return X5D(h5D);},$push:function(f5D,D5D){return f5D.length>0?D5D.concat(f5D):D5D;},$remove:function(Y5D,C5D){if(Y5D.length>0){C5D=W3D(C5D);for(var w5D=0,c5D=Y5D.length;w5D<c5D;w5D++)delete C5D[Y5D[w5D]];}return C5D;},$set:function(F5D){return F5D;},$splice:function(U5D,R5D){return U5D.length>0?(R5D=W3D(R5D),U5D.reduce(function(q5D,o5D){return q5D.splice.apply(q5D,o5D),q5D;},R5D)):R5D;},$swap:function(t5D,l5D){if(t5D.from!==t5D.to){var G5D=(l5D=W3D(l5D))[t5D.to];l5D[t5D.to]=l5D[t5D.from],l5D[t5D.from]=G5D;}return l5D;},$unshift:function(m5D,K5D){return m5D.length>0?m5D.concat(K5D):K5D;},$merge:function(g5D,P5D){var a5D=!1,b5D=W3D(P5D);for(var N5D in g5D)g5D.hasOwnProperty(N5D)&&(b5D[N5D]=g5D[N5D],a5D=a5D||b5D[N5D]!==P5D[N5D]);return a5D?b5D:P5D;}},n3D.exports=B3D;function J3D(k3D){return B3D.commands[k3D];}},function(z5D,S5D,M5D){function L5D(J5D,Q5D){var k5D=(Q5D=d5D(Q5D)).name,i5D=Q5D.strict;function A5D(y5D,C01){if(j5D)return y5D;var r5D=!0,u01=j5D?{}:W5D({},y5D);for(var X01 in J5D){var D01=J5D[X01],h01=y5D[X01],f01=v5D(D01,h01,null);r5D=r5D&&h01===f01,u01[X01]=f01;}return r5D&&(u01=y5D),u01;}var I5D=k5D||O5D(J5D),j5D=Object.keys(J5D).map(function(E5D){return J5D[E5D];}).every(p5D);return A5D.meta={kind:"interface",props:J5D,name:k5D,identity:j5D,strict:i5D},A5D.displayName=I5D,A5D.is=function(w01){if(x5D(w01))return!1;if(i5D)for(var c01 in w01)if(!J5D.hasOwnProperty(c01))return!1;for(var Y01 in J5D)if(!H5D(w01[Y01],J5D[Y01]))return!1;return!0;},A5D.update=function(F01,R01){return A5D(T5D.update(F01,R01));},A5D.extend=function(U01,q01){return V5D([A5D].concat(U01),q01);},A5D;}function V5D(e5D,n5D){return B5D(L5D,e5D,n5D);}var T5D=M5D(2),Z5D=(M5D(8),M5D(34),M5D(25),M5D(26),M5D(15)),x5D=M5D(9),v5D=M5D(12),O5D=(M5D(3),M5D(33),M5D(52)),p5D=M5D(13),H5D=M5D(11),B5D=M5D(51),W5D=M5D(49);L5D.strict=!1,L5D.getOptions=d5D,L5D.getDefaultName=O5D,L5D.extend=V5D,z5D.exports=L5D;function d5D(s5D){return Z5D(s5D)||(s5D=x5D(s5D)?{}:{name:s5D}),s5D.hasOwnProperty("strict")||(s5D.strict=L5D.strict),s5D;}},function(a01,b01,o01){var t01=o01(2),l01=(o01(8),o01(6),o01(14),o01(13),o01(11)),G01=o01(3),m01=o01(13);N01.getDefaultName=K01,a01.exports=N01;function K01(g01){return g01.map(G01).join(" & ");}function N01(M01,L01){function P01(H01,T01){return H01;}var x01=L01||K01(M01),O01=M01.every(m01);return P01.meta={kind:"intersection",types:M01,name:L01,identity:O01},P01.displayName=x01,P01.is=function(d01){return M01.every(function(v01){return l01(d01,v01);});},P01.update=function(V01,p01){return P01(t01.update(V01,p01));},P01;}},function(k01,i01,Z01){function s01(y01){return S01.is(y01)&&n01(y01.instrumentation);}Z01(2),Z01(8);function B01(C11,Y11,R11){C11=e01(C11)?C11:[C11];function w11(q11,o11){return s01(q11)?q11:w11.of(q11);}var U11=R11||Q01(C11,Y11),F11=C11.length;A01(C11);return w11.meta={kind:"func",domain:C11,codomain:Y11,name:R11,identity:!0},w11.displayName=U11,w11.is=function(t11){return s01(t11)&&t11.instrumentation.domain.length===F11&&t11.instrumentation.domain.every(function(l11,G11){return l11===C11[G11];})&&t11.instrumentation.codomain===Y11;},w11.of=function(m11,N11){function K11(){var a11=Array.prototype.slice.call(arguments),g11=a11.length;if(N11&&g11<F11){0;var P11=Function.prototype.bind.apply(m11,[this].concat(a11));return B01(C11.slice(g11),Y11).of(P11,!0);}return z01(Y11,m11.apply(this,a11));}if(w11.is(m11))return m11;return K11.instrumentation={domain:C11,codomain:Y11,f:m11},K11.displayName=J01(m11),K11;},w11;}function Q01(I01,E01){return"("+I01.map(W01).join(", ")+") => "+W01(E01);}function A01(D11){for(var u11=D11.length,X11=!1,r01=u11-1;r01>=0;r01--){var h11=D11[r01];if(!j01(h11)||"maybe"!==h11.meta.kind)return r01+1;X11=!0;}return X11?0:u11;}var S01=Z01(25),e01=Z01(14),n01=(Z01(53),Z01(15)),z01=Z01(12),J01=(Z01(9),Z01(26),Z01(50),Z01(20)),W01=Z01(3),j01=Z01(5);B01.getDefaultName=Q01,B01.getOptionalArgumentsIndex=A01,k01.exports=B01;},function(Z11,B11,M11){function O11(S11,n11){function z11(J11,j11){if(e11)return J11;var A11=z11.dispatch(J11);return!A11&&z11.is(J11)?J11:v11(A11,J11,j11);}var s11=n11||V11(S11),e11=S11.every(x11);return z11.meta={kind:"union",types:S11,name:n11,identity:e11},z11.displayName=s11,z11.is=function(Q11){return S11.some(function(k11){return L11(Q11,k11);});},z11.dispatch=function(y11){for(var I11=0,r11=S11.length;I11<r11;I11++){var i11=S11[I11];if(p11(i11)){var E11=i11.dispatch(y11);if(!d11(E11))return E11;}else if(L11(y11,i11))return i11;}},z11.update=function(u41,X41){return z11(H11.update(u41,X41));},z11;}var H11=M11(2),T11=(M11(8),M11(6),M11(3)),x11=M11(13),v11=(M11(14),M11(12)),L11=M11(11),p11=(M11(19),M11(54)),d11=M11(9);O11.getDefaultName=V11,Z11.exports=O11;function V11(W11){return W11.map(T11).join(" | ");}},function(D41,w41,C41){var h41=C41(5);D41.exports=function(c41){return{predicates:function F41(R41){return f41(R41)?[R41.meta.predicate].concat(F41(R41.meta.type)):[];}(c41),unrefinedType:function U41(q41){return f41(q41)?U41(q41.meta.type):q41;}(c41)};};function f41(Y41){return h41(Y41)&&"subtype"===Y41.meta.kind;}},function(t41,G41,l41){var o41=l41(5);t41.exports=function(m41){return o41(m41)&&"interface"===m41.meta.kind;};},function(N41,b41,a41){var K41=a41(5);N41.exports=function(g41){return K41(g41)&&"struct"===g41.meta.kind;};},function(Z41,B41,P41){var O41=P41(2),H41=(P41(8),P41(34),P41(25),P41(26),P41(15)),T41=P41(9),x41=P41(12),v41=(P41(3),P41(33),P41(52)),V41=P41(51);function L41(e41){return H41(e41)||(e41=T41(e41)?{}:{name:e41}),e41.hasOwnProperty("strict")||(e41.strict=M41.strict),e41.hasOwnProperty("defaultProps")||(e41.defaultProps={}),e41;}M41.strict=!1,M41.getOptions=L41,M41.getDefaultName=p41,M41.extend=d41,Z41.exports=M41;function p41(W41){return"Struct"+v41(W41);}function d41(z41,S41){return V41(M41,z41,S41);}function M41(s41,J41){var A41=(J41=L41(J41)).name,Q41=J41.strict,j41=J41.defaultProps;function n41(I41,r41){if(n41.is(I41))return I41;if(!(this instanceof n41))return new n41(I41,r41);for(var i41 in s41)if(s41.hasOwnProperty(i41)){var y41=s41[i41],E41=I41[i41];void 0===E41&&(E41=j41[i41]),this[i41]=x41(y41,E41,null);}}var k41=A41||p41(s41);return n41.meta={kind:"struct",props:s41,name:A41,identity:!1,strict:Q41,defaultProps:j41},n41.displayName=k41,n41.is=function(u61){return u61 instanceof n41;},n41.update=function(X61,h61){return new n41(O41.update(X61,h61));},n41.extend=function(f61,D61){return d41([n41].concat(f61),D61);},n41;}},function(w61,c61,Y61){var C61=Y61(5);w61.exports=function(F61){return C61(F61)&&"maybe"===F61.meta.kind;};},function(a61,b61,R61){R61(2),R61(8),R61(6);function o61(P61,L61){function M61(H61,T61){return U61.is(H61)?H61:m61(P61,H61,T61);}if(t61(P61)||P61===q61||P61===U61)return P61;var x61=L61||K61(P61),O61=l61(P61);return M61.meta={kind:"maybe",type:P61,name:L61,identity:O61},M61.displayName=x61,M61.is=function(d61){return U61.is(d61)||N61(d61,P61);},M61;}var t61=R61(175),l61=R61(13),q61=R61(36),m61=R61(12),U61=R61(57),N61=(R61(19),R61(11)),G61=R61(3);o61.getDefaultName=K61,a61.exports=o61;function K61(g61){return"?"+G61(g61);}},function(W61,z61,v61){function V61(s61,J61){function n61(j61,Q61){return j61;}var A61=J61||B61(s61);return n61.meta={kind:"enums",map:s61,name:J61,identity:!0},n61.displayName=A61,n61.is=function(k61){return s61.hasOwnProperty(k61);},n61;}var p61=v61(2),Z61=(v61(8),v61(19),v61(27));function B61(S61){return Object.keys(S61).map(function(e61){return p61.stringify(e61);}).join(" | ");}v61(15);V61.of=function(i61,E61){var I61={};return(i61=Z61(i61)?i61.split(" "):i61).forEach(function(y61){I61[y61]=y61;}),V61(I61,E61);},V61.getDefaultName=B61,W61.exports=V61;},function(D21,C21,r61){r61(2),r61(8),r61(5),r61(9);var u21=r61(32),X21=r61(3),h21=r61(54),f21=1;D21.exports=function(F21){function w21(R21,U21){return Y21(R21,U21);}var Y21;return w21.define=function(q21){return h21(q21)&&w21.hasOwnProperty("dispatch")&&(q21.dispatch=w21.dispatch),u21(w21,Y21=q21,!0),F21&&(Y21.displayName=w21.displayName=F21,w21.meta.name=F21),w21.meta.identity=Y21.meta.identity,w21.prototype=Y21.prototype,w21;},w21.displayName=F21||X21(w21)+"$"+f21++,w21.meta={identity:!1},w21.prototype=null,w21;};},function(G21,m21,o21){var t21=o21(7),l21=o21(5);G21.exports=t21("Type",l21);},function(N21,g21,a21){var K21=a21(7);N21.exports=K21("RegExp",function(P21){return P21 instanceof RegExp;});},function(O21,H21,M21){var L21=M21(7),x21=M21(15);O21.exports=L21("Object",x21);},function(V21,p21,T21){var d21=T21(35),v21=T21(56);V21.exports=d21(v21,function(Z21){return Z21%1==0;},"Integer");},function(W21,S21,z21){var B21=z21(7);W21.exports=B21("Error",function(e21){return e21 instanceof Error;});},function(s21,A21,J21){var n21=J21(7);s21.exports=n21("Date",function(j21){return j21 instanceof Date;});},function(I21,E21,Q21){var k21=Q21(7),i21=Q21(14);I21.exports=k21("Array",i21);},function(y21,r21){y21.exports=function(u71){throw new TypeError("[tcomb] "+u71);};},function(f71,D71,h71){var X71=h71(2);X71.Any=h71(36),X71.Array=h71(185),X71.Boolean=h71(58),X71.Date=h71(184),X71.Error=h71(183),X71.Function=h71(25),X71.Nil=h71(57),X71.Number=h71(56),X71.Integer=h71(182),X71.IntegerT=X71.Integer,X71.Object=h71(181),X71.RegExp=h71(180),X71.String=h71(34),X71.Type=h71(179),X71.TypeT=X71.Type,X71.Arr=X71.Array,X71.Bool=X71.Boolean,X71.Dat=X71.Date,X71.Err=X71.Error,X71.Func=X71.Function,X71.Num=X71.Number,X71.Obj=X71.Object,X71.Re=X71.RegExp,X71.Str=X71.String,X71.dict=h71(33),X71.declare=h71(178),X71.enums=h71(177),X71.irreducible=h71(7),X71.list=h71(53),X71.maybe=h71(176),X71.refinement=h71(35),X71.struct=h71(174),X71.tuple=h71(50),X71.union=h71(170),X71.func=h71(169),X71.intersection=h71(168),X71.subtype=X71.refinement,X71.inter=h71(167),X71.interface=X71.inter,X71.assert=X71,X71.update=h71(166),X71.mixin=h71(32),X71.isType=h71(5),X71.is=h71(11),X71.getTypeName=h71(3),X71.match=h71(165),f71.exports=X71;},function(q71,c71,U71){"use strict";Object.defineProperty(c71,"__esModule",{value:!0});var F71=Object.assign||function(G71){for(var o71=1;o71<arguments.length;o71++){var t71=arguments[o71];for(var l71 in t71)Object.prototype.hasOwnProperty.call(t71,l71)&&(G71[l71]=t71[l71]);}return G71;},R71=function(){function m71(b71,a71){for(var N71=0;N71<a71.length;N71++){var K71=a71[N71];K71.enumerable=K71.enumerable||!1,K71.configurable=!0,"value"in K71&&(K71.writable=!0),Object.defineProperty(b71,K71.key,K71);}}return function(g71,P71,M71){return P71&&m71(g71.prototype,P71),M71&&m71(g71,M71),g71;};}(),C71=U71(1);var Y71=function(){function H71(d71){var T71=this;!function(v71,V71){if(!(v71 instanceof V71))throw new TypeError("Cannot call a class as a function");}(this,H71),this._captionsSettingsUpdated=function(p71){T71.ccSettings=p71.settings;},this._captionsTrackSelected=function(Z71){T71.ccTracks.forEach(function(B71){B71&&Z71.track&&B71===Z71.track&&(T71.currentCCTrack=B71);});},this._captionsTrackAvailabilityChanged=function(W71){W71.added&&T71._addCaptionTrack(W71.track);},this._captionsStateChanged=function(z71){T71.captionsEnabled=z71.currentState===C71.CaptionsState.Showing_Track;},this._onContentBeginning=function(){T71._resetCaptionTracks();},this.player=d71,this.ccTracks=[],this.ccSettings=F71({},H71.defaultCaptionsSettings),this.currentCCTrack=null,this.captionsEnabled=!1,this._addEventListeners();}return R71(H71,[{key:"isCaptionsAvailable",value:function(){return this.ccTracks.length>0;}},{key:"isCaptionsEnabled",value:function(){return this.captionsEnabled;}},{key:"getCurrentCaptionsTrack",value:function(){return this.currentCCTrack;}},{key:"getCaptionTracks",value:function(){return this.ccTracks;}},{key:"getCurrentCaptionSettings",value:function(){return this.ccSettings;}},{key:"_addEventListeners",value:function(){var S71;this.player.events().listen((w71(S71={},C71.PlayerApiEvent.contentBeginning,this._onContentBeginning),w71(S71,C71.PlayerApiEvent.captionsTrackSelected,this._captionsTrackSelected),w71(S71,C71.PlayerApiEvent.captionsTrackAvailabilityChanged,this._captionsTrackAvailabilityChanged),w71(S71,C71.PlayerApiEvent.captionsStateChanged,this._captionsStateChanged),w71(S71,C71.PlayerApiEvent.captionSettingsUpdated,this._captionsSettingsUpdated),S71));}},{key:"_addCaptionTrack",value:function(e71){this.ccTracks.push(e71);}},{key:"_resetCaptionTracks",value:function(){this.ccTracks=[],this.currentCCTrack=null;}}]),H71;}();Y71.defaultCaptionsSettings={backgroundColor:C71.CaptionsSettingsState.Color.Default,backgroundOpacity:C71.CaptionsSettingsState.Opacity.Default,fontColor:C71.CaptionsSettingsState.Color.White,fontEdge:C71.CaptionsSettingsState.Edge.Default,fontOpacity:C71.CaptionsSettingsState.Opacity.Default,fontType:C71.CaptionsSettingsState.FontType.Default,size:C71.CaptionsSettingsState.Size.Default},c71.default=Y71;function w71(L71,x71,O71){return x71 in L71?Object.defineProperty(L71,x71,{value:O71,enumerable:!0,configurable:!0,writable:!0}):L71[x71]=O71,L71;}},function(I71,A71,j71){"use strict";Object.defineProperty(A71,"__esModule",{value:!0});var s71,Q71=function(){function E71(X91,u91){for(var r71=0;r71<u91.length;r71++){var y71=u91[r71];y71.enumerable=y71.enumerable||!1,y71.configurable=!0,"value"in y71&&(y71.writable=!0),Object.defineProperty(X91,y71.key,y71);}}return function(h91,f91,D91){return f91&&E71(h91.prototype,f91),D91&&E71(h91,D91),h91;};}(),n71=j71(1),k71=j71(188),J71=(s71=k71)&&s71.__esModule?s71:{default:s71};var i71=function(){function C91(w91){!function(Y91,c91){if(!(Y91 instanceof c91))throw new TypeError("Cannot call a class as a function");}(this,C91),this.player=w91,this.captionsManager=new J71.default(w91);}return Q71(C91,[{key:"enterFullscreen",value:function(){this.player.enterFullscreen();}},{key:"exitFullscreen",value:function(){this.player.exitFullscreen();}},{key:"events",value:function(){return this.player.events().after();}},{key:"model",value:function(){return this.player.model();}},{key:"mute",value:function(){this.player.mute();}},{key:"pause",value:function(){this.player.pause();}},{key:"proceed",value:function(){this.player.proceed();}},{key:"replay",value:function(){this.player.replay();}},{key:"resume",value:function(){this.player.model().contentState()===n71.ContentState.Waiting?this.player.proceed():this.player.resume();}},{key:"resize",value:function(F91,R91){this.player.resize(F91,R91);}},{key:"seek",value:function(U91){this.player.seek(U91);}},{key:"seekToLive",value:function(){n71.Browser.ios()?this.player.seek(this.player.model().mediaPlayableRange().end):this.player.seekToLive();}},{key:"selectCaptionTrack",value:function(q91){this.player.selectCaptionTrack(q91);}},{key:"selectCaptionTrackByLang",value:function(o91){this.player.selectCaptionTrackByLang(o91);}},{key:"setCaptionsEnabled",value:function(t91){this.player.setCaptionsEnabled(t91);}},{key:"setVolume",value:function(l91){this.player.setVolume(l91);}},{key:"stop",value:function(){this.player.stop();}},{key:"unmute",value:function(){this.player.unmute();}},{key:"updateCaptionSettings",value:function(G91){this.player.updateCaptionSettings(G91);}},{key:"getPlayer",value:function(){return this.player;}},{key:"getRootElement",value:function(){return this.player._player._initConfigData.element;}},{key:"isAdActive",value:function(){var m91=this.player.model().adState();return m91===n71.PlayerAdState.Playing||m91===n71.PlayerAdState.Paused;}},{key:"isMediaCompleted",value:function(){var K91=[n71.PlayerMediaState.Finished,n71.PlayerMediaState.Stopped,n71.PlayerMediaState.Error],N91=this.player.model().mediaState();return K91.includes(N91);}},{key:"isCaptionsAvailable",value:function(){return this.captionsManager.isCaptionsAvailable();}},{key:"isCaptionsEnabled",value:function(){return this.captionsManager.isCaptionsEnabled();}},{key:"getCurrentCaptionsTrack",value:function(){return this.captionsManager.getCurrentCaptionsTrack();}},{key:"getCaptionTracks",value:function(){return this.captionsManager.getCaptionTracks();}},{key:"getCurrentCaptionSettings",value:function(){return this.captionsManager.getCurrentCaptionSettings();}},{key:"resetCaptionSettings",value:function(){this.updateCaptionSettings(J71.default.defaultCaptionsSettings);}}]),C91;}();A71.default=i71;},function(x91,b91,L91){"use strict";Object.defineProperty(b91,"__esModule",{value:!0});var g91=Object.assign||function(d91){for(var O91=1;O91<arguments.length;O91++){var H91=arguments[O91];for(var T91 in H91)Object.prototype.hasOwnProperty.call(H91,T91)&&(d91[T91]=H91[T91]);}return d91;};b91.default=function(){var V91=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M91,v91=arguments[1];switch(v91.type){case P91.ActionType.COMPONENT_LIST_CHANGE:return g91({},V91,function(p91,Z91,B91){Z91 in p91?Object.defineProperty(p91,Z91,{value:B91,enumerable:!0,configurable:!0,writable:!0}):p91[Z91]=B91;return p91;}({},v91.payload.type,v91.payload.components));default:return V91;}};var P91=L91(1);var M91={controls:[],slates:[]};},function(J91,S91,s91){"use strict";function e91(u81,X81,h81){return X81 in u81?Object.defineProperty(u81,X81,{value:h81,enumerable:!0,configurable:!0,writable:!0}):u81[X81]=h81,u81;}Object.defineProperty(S91,"__esModule",{value:!0});var W91=Object.assign||function(k91){for(var A91=1;A91<arguments.length;A91++){var j91=arguments[A91];for(var Q91 in j91)Object.prototype.hasOwnProperty.call(j91,Q91)&&(k91[Q91]=j91[Q91]);}return k91;};S91.default=function(){var i91=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n91,I91=arguments[1];switch(I91.type){case z91.ActionType.UI_CONTROL_BAR_VISIBILITY_CHANGE:return W91({},i91,{isControlBarVisible:I91.payload});case z91.ActionType.UI_PENDING_SEEK_TIME_CHANGE:return W91({},i91,{pendingSeekTime:I91.payload});case z91.ActionType.UI_ACTIVE_MENU_CHANGE:return W91({},i91,{activeMenuId:I91.payload});case z91.ActionType.UI_ACTIVATE_SLATE:return W91({},i91,{activeSlates:W91({},i91.activeSlates,e91({},I91.payload.slateId,I91.payload))});case z91.ActionType.UI_DEACTIVATE_SLATE:var E91=Object.keys(i91.activeSlates).reduce(function(r91,y91){return y91!==I91.payload&&(r91[y91]=W91({},i91.activeSlates[y91])),r91;},{});return W91({},i91,{activeSlates:E91});case z91.ActionType.UI_VIEWPORT_SIZE_CHANGE:return W91({},i91,{viewport:I91.payload});case z91.ActionType.UI_POINTER_STATE_CHANGE:return W91({},i91,{pointer:W91({},i91.pointer,e91({},I91.payload.stateName,I91.payload.state))});case z91.ActionType.UI_FOCUS_CHANGE:return W91({},i91,{isFocused:I91.payload});default:return i91;}};var z91=s91(1);var n91={isFocused:!1,isControlBarVisible:!0,pendingSeekTime:null,activeMenuId:null,activeSlates:{},viewport:{width:0,height:0},pointer:{over:!1,down:!1,active:!1}};},function(Y81,f81,w81){"use strict";Object.defineProperty(f81,"__esModule",{value:!0});var D81=Object.assign||function(U81){for(var c81=1;c81<arguments.length;c81++){var F81=arguments[c81];for(var R81 in F81)Object.prototype.hasOwnProperty.call(F81,R81)&&(U81[R81]=F81[R81]);}return U81;};f81.default=function(){var o81=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},q81=arguments[1];switch(q81.type){case C81.ActionType.CONFIG_UPDATE:return D81({},q81.payload);default:return o81;}};var C81=w81(1);},function(m81,t81,G81){"use strict";Object.defineProperty(t81,"__esModule",{value:!0}),t81.default=function(){var N81=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},K81=arguments[1];switch(K81.type){case l81.ActionType.CONTAINER_ELEMENT_UPDATE:return K81.payload;default:return N81;}};var l81=G81(1);},function(P81,a81,g81){"use strict";Object.defineProperty(a81,"__esModule",{value:!0}),a81.default=function(){var L81=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,M81=arguments[1];switch(M81.type){case b81.ActionType.PLAYER_CONTROLLER_UPDATE:return M81.payload;default:return L81;}};var b81=g81(1);},function(W81,V81,x81){"use strict";Object.defineProperty(V81,"__esModule",{value:!0});function O81(z81){return z81&&z81.__esModule?z81:{default:z81};}var d81=x81(30),v81=O81(x81(194)),H81=O81(x81(193)),p81=O81(x81(192)),Z81=O81(x81(191)),B81=O81(x81(190));var T81=(0,d81.combineReducers)({config:p81.default,playerController:v81.default,containerElement:H81.default,ui:Z81.default,components:B81.default,id:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};}});V81.default=T81;},function(j81,e81,n81){"use strict";Object.defineProperty(e81,"__esModule",{value:!0}),e81.default=function(k81){var Q81={id:k81};return(0,s81.createStore)(A81.default,Q81,window.devToolsExtension&&window.devToolsExtension());};var S81,s81=n81(30),J81=n81(195),A81=(S81=J81)&&S81.__esModule?S81:{default:S81};},function(I81,i81,E81){"use strict";Object.defineProperty(i81,"__esModule",{value:!0});i81.default={PUBLIC:"ui",CC:"ui.cc",ADS:"ui.ads",MEDIA:"ui.media",SLATES:"ui.slates",MENUS:"ui.menus",API:"ui.api",CONFIG:"ui.config"};},function(r81,y81,u31){"use strict";Object.defineProperty(y81,"__esModule",{value:!0});y81.default={DEFAULT:"default"};},function(h31,X31,f31){"use strict";Object.defineProperty(X31,"__esModule",{value:!0});X31.default={LEFT:"left",RIGHT:"right",PROGRESS_BAR:"progressBar"};},function(C31,D31,w31){"use strict";Object.defineProperty(D31,"__esModule",{value:!0});D31.default={LIVE:"LIVE",VOD:"VOD",DVR:"DVR"};},function(G31,q31,l31){"use strict";var Y31;Object.defineProperty(q31,"__esModule",{value:!0});var F31,o31=l31(62),R31=(F31=o31)&&F31.__esModule?F31:{default:F31};var t31=(U31(Y31={},R31.default.CONTROLS,{PLAY:"Play",VOLUME:"Volume",CLOSED_CAPTIONS:"ClosedCaptions",TIME_DURATION:"TimeDuration",FULLSCREEN:"Fullscreen",PROGRESS_BAR:"ProgressBar",LIVE:"Live"}),U31(Y31,R31.default.SLATES,{GIANT_PLAY:"GiantPlay",START:"Start",BUFFERING:"Buffering",END:"End",AD:"Ad"}),U31(Y31,R31.default.MENUS,{CLOSED_CAPTIONS:"ClosedCaptionsMenu"}),Y31);q31.default=t31;function U31(m31,K31,N31){return K31 in m31?Object.defineProperty(m31,K31,{value:N31,enumerable:!0,configurable:!0,writable:!0}):m31[K31]=N31,m31;}},function(b31,a31,g31){"use strict";Object.defineProperty(a31,"__esModule",{value:!0});a31.default={CONFIG_UPDATE:"CONFIG_UPDATE",PLAYER_CONTROLLER_UPDATE:"PLAYER_CONTROLLER_UPDATE",CONTAINER_ELEMENT_UPDATE:"CONTAINER_ELEMENT_UPDATE",COMPONENT_LIST_CHANGE:"COMPONENT_LIST_CHANGE",UI_CONTROL_BAR_VISIBILITY_CHANGE:"UI_CONTROL_BAR_VISIBILITY_CHANGE",UI_PENDING_SEEK_TIME_CHANGE:"UI_PENDING_SEEK_TIME_CHANGE",UI_ACTIVE_MENU_CHANGE:"UI_ACTIVE_MENU_CHANGE",UI_ACTIVATE_SLATE:"UI_ACTIVATE_SLATE",UI_DEACTIVATE_SLATE:"UI_DEACTIVATE_SLATE",UI_VIEWPORT_SIZE_CHANGE:"UI_VIEWPORT_SIZE_CHANGE",UI_POINTER_STATE_CHANGE:"UI_POINTER_STATE_CHANGE",UI_FOCUS_CHANGE:"UI_FOCUS_CHANGE"};},function(e31,L31,n31){"use strict";Object.defineProperty(L31,"__esModule",{value:!0});var O31=TOP.view.ViewState,x31=TOP.media.MediaState,H31=TOP.ads.AdConsumerState,M31=com.turner.top.sdk.core.player.ContentState,P31=com.turner.top.sdk.core.api.events.PlayerEventType,T31=TOP.captions.CCDecoderState,v31=com.turner.top.sdk.common.player.timeline.ContentMarkerType,d31=TOP.captions.settings,B31=d31.Color,W31=d31.Opacity,z31=d31.Size,S31=d31.Edge,V31=d31.FontType,p31=(L31.PlayerMediaState={Pending:x31.Pending,Ready:x31.Ready,Starting:x31.Starting,Loaded:x31.Loaded,Playing:x31.Playing,Paused:x31.Paused,Buffering:x31.Buffering,Seeking:x31.Seeking,Stopped:x31.Stopped,Finished:x31.Finished,Error:x31.Error},L31.PlayerAdState={Pending:H31.Pending,Ready:H31.Ready,Starting:H31.Starting,Loaded:H31.Loaded,Playing:H31.Playing,Paused:H31.Paused,Stopped:H31.Stopped,Finished:H31.Finished,Error:H31.Error},L31.CaptionsState={Changing_Track:T31.Changing_Track,Disabled:T31.Disabled,Pending:T31.Pending,Ready:T31.Ready,Showing_Track:T31.Showing_Track},L31.CaptionsSettingsState={Color:B31,Opacity:W31,Size:z31,Edge:S31,FontType:V31},L31.ContentState={Pending:M31.Pending,Initializing:M31.Initializing,Preparing:M31.Preparing,Configuring:M31.Configuring,Initialized:M31.Initialized,Waiting:M31.Waiting,Validating:M31.Validating,Validated:M31.Validated,Ads_Beginning:M31.Ads_Beginning,Ads_Playback:M31.Ads_Playback,Ads_Completed:M31.Ads_Completed,Authorizing:M31.Authorizing,Authorized:M31.Authorized,Media_Beginning:M31.Media_Beginning,Media_Playback:M31.Media_Playback,Media_Completed:M31.Media_Completed,Interrupting:M31.Interrupting,Interrupted:M31.Interrupted,Finished:M31.Finished,Error:M31.Error},L31.MarkerType={Ad_Midroll:v31.Ad_Midroll,Media:v31.Media},L31.PlayerEvent={Player_State_Changed:P31.Player_State_Changed,Player_Initialized:P31.Player_Initialized,Player_Ready:P31.Player_Ready,Player_Listening:P31.Player_Listening,Content_Beginning:P31.Content_Beginning,Content_Setup:P31.Content_Setup,Ad_Request_State_Changed:P31.Ad_Request_State_Changed,Ad_Requesting:P31.Ad_Requesting,Ad_Request_Completed:P31.Ad_Request_Completed,Ad_Request_Canceled:P31.Ad_Request_Canceled,Ad_Request_Error:P31.Ad_Request_Error,Ad_State_Changed:P31.Ad_State_Changed,Ad_Starting:P31.Ad_Starting,Ad_Loaded:P31.Ad_Loaded,Ad_Slot_Started:P31.Ad_Slot_Started,Ad_Creative_Started:P31.Ad_Creative_Started,Ad_Started:P31.Ad_Started,Ad_Time_Changed:P31.Ad_Time_Changed,Ad_Paused:P31.Ad_Paused,Ad_Resumed:P31.Ad_Resumed,Ad_Stopped:P31.Ad_Stopped,Ad_Creative_Ended:P31.Ad_Creative_Ended,Ad_Slot_Ended:P31.Ad_Slot_Ended,Ad_Finished:P31.Ad_Finished,Ad_Error:P31.Ad_Error,Media_Command_Received:P31.Media_Command_Received,Media_State_Changed:P31.Media_State_Changed,Media_Starting:P31.Media_Starting,Media_Loaded:P31.Media_Loaded,Media_Started:P31.Media_Started,Media_Buffering_Started:P31.Media_Buffering_Started,Media_Buffering_Finished:P31.Media_Buffering_Finished,Media_Seeking_Started:P31.Media_Seeking_Started,Media_Seeking_Finished:P31.Media_Seeking_Finished,Media_Profile_Changed:P31.Media_Profile_Changed,Media_Time_Changed:P31.Media_Time_Changed,Media_Paused:P31.Media_Paused,Media_Resumed:P31.Media_Resumed,Media_Volume_Changed:P31.Media_Volume_Changed,Media_Mute_Changed:P31.Media_Mute_Changed,Media_Resized:P31.Media_Resized,Media_Timed_Metadata_Received:P31.Media_Timed_Metadata_Received,Media_Stopped:P31.Media_Stopped,Media_Finished:P31.Media_Finished,Media_Error:P31.Media_Error,Cue_State_Changed:P31.Cue_State_Changed,Cue_Processed:P31.Cue_Processed,Cue_Activated:P31.Cue_Activated,CC_Track_Availability_Changed:P31.CC_Track_Availability_Changed,CC_State_Changed:P31.CC_State_Changed,CC_Track_Selected:P31.CC_Track_Selected,CC_Settings_Updated:P31.CC_Settings_Updated,CC_Error:P31.CC_Error,Content_Completed:P31.Content_Completed,Content_Error:P31.Content_Error},L31.PlayerApiEvent={playerStateChanged:"playerStateChanged",playerInitialized:"playerInitialized",playerReady:"playerReady",playerListening:"playerListening",contentBeginning:"contentBeginning",contentSetup:"contentSetup",adRequestStateChanged:"adRequestStateChanged",adRequesting:"adRequesting",adRequestCompleted:"adRequestCompleted",adRequestCanceled:"adRequestCanceled",adRequestError:"adRequestError",adStateChanged:"adStateChanged",adStarting:"adStarting",adLoaded:"adLoaded",adSlotStarted:"adSlotStarted",adCreativeStarted:"adCreativeStarted",adStarted:"adStarted",adTimeChanged:"adTimeChanged",adPaused:"adPaused",adResumed:"adResumed",adStopped:"adStopped",adCreativeEnded:"adCreativeEnded",adSlotEnded:"adSlotEnded",adFinished:"adFinished",adError:"adError",mediaCommandReceived:"mediaCommandReceived",mediaStateChanged:"mediaStateChanged",mediaStarting:"mediaStarting",mediaLoaded:"mediaLoaded",mediaStarted:"mediaStarted",mediaBufferingStarted:"mediaBufferingStarted",mediaBufferingFinished:"mediaBufferingFinished",mediaSeekingStarted:"mediaSeekingStarted",mediaSeekingFinished:"mediaSeekingFinished",mediaProfileChanged:"mediaProfileChanged",mediaTimeChanged:"mediaTimeChanged",mediaPaused:"mediaPaused",mediaResumed:"mediaResumed",mediaVolumeChanged:"mediaVolumeChanged",mediaMuteChanged:"mediaMuteChanged",mediaResized:"mediaResized",mediaTimedMetadataReceived:"mediaTimedMetadataReceived",mediaStopped:"mediaStopped",mediaFinished:"mediaFinished",mediaError:"mediaError",cueStateChanged:"cueStateChanged",cueProcessed:"cueProcessed",cueActivated:"cueActivated",captionsTrackAvailabilityChanged:"captionsTrackAvailabilityChanged",captionsStateChanged:"captionsStateChanged",captionsTrackSelected:"captionsTrackSelected",captionSettingsUpdated:"captionSettingsUpdated",captionsError:"ccError",contentCompleted:"contentCompleted",contentError:"contentError",contentStateChanged:"contentStateChanged",viewStateChanged:"viewStateChanged",viewFullscreenEntered:"viewFullscreenEntered",viewFullscreenExited:"viewFullscreenExited"},L31.PlayerViewState={Pending:O31.Pending,Attaching:O31.Attaching,Attached:O31.Attached,Windowed:O31.Windowed,Entering_Fullscreen:O31.Entering_Fullscreen,Fullscreen:O31.Fullscreen,Exiting_Fullscreen:O31.Exiting_Fullscreen,Detaching:O31.Detaching,Detached:O31.Detached,Error:O31.Error},L31.LogLevelType={LOG:"log",DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"},com.turner.top.lib.platform.fullscreen.FullscreenHelper);L31.FullscreenHelper=p31;var Z31=com.turner.top.lib.platform.browser.Browser;L31.Browser=Z31;},function(Q31,k31,s31){var J31=s31(69),A31=s31(37),j31=s31(63).f;Q31.exports=function(i31){return function(h51){for(var E31,I31=A31(h51),y31=J31(I31),X51=y31.length,r31=0,u51=[];X51>r31;)j31.call(I31,E31=y31[r31++])&&u51.push(i31?[E31,I31[E31]]:I31[E31]);return u51;};};},function(w51,Y51,D51){var f51=D51(40),C51=D51(204)(!1);f51(f51.S,"Object",{values:function(c51){return C51(c51);}});},function(R51,U51,F51){F51(205),R51.exports=F51(21).Object.values;},function(m51,K51,t51){var q51=t51(64)("wks"),G51=t51(38),o51=t51(22).Symbol,l51="function"==typeof o51;(m51.exports=function(N51){return q51[N51]||(q51[N51]=l51&&o51[N51]||(l51?o51:G51)("Symbol."+N51));}).store=q51;},function(P51,M51,g51){var a51=g51(207)("unscopables"),b51=Array.prototype;void 0==b51[a51]&&g51(39)(b51,a51,{}),P51.exports=function(L51){b51[a51][L51]=!0;};},function(T51,d51,x51){"use strict";var O51=x51(40),H51=x51(66)(!0);O51(O51.P,"Array",{includes:function(v51){return H51(this,v51,arguments.length>1?arguments[1]:void 0);}}),x51(208)("includes");},function(p51,Z51,V51){V51(209),p51.exports=V51(21).Array.includes;},function(W51,S51,z51){var B51=z51(67);W51.exports=function(e51){return Object(B51(e51));};},function(s51,n51){n51.f=Object.getOwnPropertySymbols;},function(J51,A51){J51.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");},function(i51,I51,Q51){var j51=Q51(64)("keys"),k51=Q51(38);i51.exports=function(E51){return j51[E51]||(j51[E51]=k51(E51));};},function(X0r,f0r,h0r){var y51=h0r(65),r51=Math.max,u0r=Math.min;X0r.exports=function(D0r,C0r){return(D0r=y51(D0r))<0?r51(D0r+C0r,0):u0r(D0r,C0r);};},function(c0r,R0r,F0r){var w0r=F0r(65),Y0r=Math.min;c0r.exports=function(U0r){return U0r>0?Y0r(w0r(U0r),9007199254740991):0;};},function(o0r,t0r){var q0r={}.toString;o0r.exports=function(l0r){return q0r.call(l0r).slice(8,-1);};},function(b0r,g0r,G0r){var m0r=G0r(70),K0r=G0r(37),N0r=G0r(66)(!1),a0r=G0r(214)("IE_PROTO");b0r.exports=function(H0r,O0r){var P0r,L0r=K0r(H0r),x0r=0,M0r=[];for(P0r in L0r)P0r!=a0r&&m0r(L0r,P0r)&&M0r.push(P0r);for(;O0r.length>x0r;)m0r(L0r,P0r=O0r[x0r++])&&(~N0r(M0r,P0r)||M0r.push(P0r));return M0r;};},function(W0r,z0r,T0r){"use strict";var v0r=T0r(69),V0r=T0r(212),p0r=T0r(63),Z0r=T0r(211),B0r=T0r(68),d0r=Object.assign;W0r.exports=!d0r||T0r(41)(function(){var S0r={},e0r={},n0r=Symbol(),s0r="abcdefghijklmnopqrst";return S0r[n0r]=7,s0r.split("").forEach(function(J0r){e0r[J0r]=J0r;}),7!=d0r({},S0r)[n0r]||Object.keys(d0r({},e0r)).join("")!=s0r;})?function(X1r,h1r){for(var k0r=Z0r(X1r),r0r=arguments.length,I0r=1,j0r=V0r.f,y0r=p0r.f;r0r>I0r;)for(var E0r,A0r=B0r(arguments[I0r++]),Q0r=j0r?v0r(A0r).concat(j0r(A0r)):v0r(A0r),u1r=Q0r.length,i0r=0;u1r>i0r;)y0r.call(A0r,E0r=Q0r[i0r++])&&(k0r[E0r]=A0r[E0r]);return k0r;}:d0r;},function(f1r,D1r){f1r.exports=function(C1r){if("function"!=typeof C1r)throw TypeError(C1r+" is not a function!");return C1r;};},function(Y1r,F1r,c1r){var w1r=c1r(220);Y1r.exports=function(R1r,U1r,q1r){if(w1r(R1r),void 0===U1r)return R1r;switch(q1r){case 1:return function(o1r){return R1r.call(U1r,o1r);};case 2:return function(t1r,l1r){return R1r.call(U1r,t1r,l1r);};case 3:return function(G1r,m1r,K1r){return R1r.call(U1r,G1r,m1r,K1r);};}return function(){return R1r.apply(U1r,arguments);};};},function(x1r,O1r,N1r){var M1r=N1r(22),a1r=N1r(39),P1r=N1r(70),b1r=N1r(38)("src"),g1r=Function.toString,L1r=(""+g1r).split("toString");N1r(21).inspectSource=function(H1r){return g1r.call(H1r);},(x1r.exports=function(d1r,T1r,v1r,p1r){var V1r="function"==typeof v1r;V1r&&(P1r(v1r,"name")||a1r(v1r,"name",T1r)),d1r[T1r]!==v1r&&(V1r&&(P1r(v1r,b1r)||a1r(v1r,b1r,d1r[T1r]?""+d1r[T1r]:L1r.join(String(T1r)))),d1r===M1r?d1r[T1r]=v1r:p1r?d1r[T1r]?d1r[T1r]=v1r:a1r(d1r,T1r,v1r):(delete d1r[T1r],a1r(d1r,T1r,v1r)));})(Function.prototype,"toString",function(){return"function"==typeof this&&this[b1r]||g1r.call(this);});},function(Z1r,B1r){Z1r.exports=function(W1r,z1r){return{enumerable:!(1&W1r),configurable:!(2&W1r),writable:!(4&W1r),value:z1r};};},function(n1r,s1r,e1r){var S1r=e1r(40);S1r(S1r.S+S1r.F,"Object",{assign:e1r(219)});},function(A1r,j1r,J1r){J1r(224),A1r.exports=J1r(21).Object.assign;},function(k1r,I1r,i1r){var Q1r=i1r(42);k1r.exports=function(E1r,u4r){if(!Q1r(E1r))return E1r;var y1r,r1r;if(u4r&&"function"==typeof(y1r=E1r.toString)&&!Q1r(r1r=y1r.call(E1r)))return r1r;if("function"==typeof(y1r=E1r.valueOf)&&!Q1r(r1r=y1r.call(E1r)))return r1r;if(!u4r&&"function"==typeof(y1r=E1r.toString)&&!Q1r(r1r=y1r.call(E1r)))return r1r;throw TypeError("Can't convert object to primitive value");};},function(C4r,w4r,f4r){var h4r=f4r(42),X4r=f4r(22).document,D4r=h4r(X4r)&&h4r(X4r.createElement);C4r.exports=function(Y4r){return D4r?X4r.createElement(Y4r):{};};},function(F4r,R4r,c4r){F4r.exports=!c4r(28)&&!c4r(41)(function(){return 7!=Object.defineProperty(c4r(227)("div"),"a",{get:function(){return 7;}}).a;});},function(q4r,t4r,o4r){var U4r=o4r(42);q4r.exports=function(l4r){if(!U4r(l4r))throw TypeError(l4r+" is not an object!");return l4r;};},function(a4r,b4r,m4r){var K4r=m4r(71).f,G4r=Function.prototype,N4r=/^\s*function ([^ (]*)/;"name"in G4r||m4r(28)&&K4r(G4r,"name",{configurable:!0,get:function(){try{return(""+this).match(N4r)[1];}catch(g4r){return"";}}});},function(M4r,L4r,P4r){P4r(230);},function(O4r,H4r,x4r){"use strict";x4r(231),x4r(225),x4r(210),x4r(206);},function(T4r,d4r,v4r){"use strict";},function(V4r,p4r,Z4r){"use strict";V4r.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";},function(W4r,z4r,S4r){"use strict";var B4r=function(e4r){};W4r.exports=function(k4r,s4r,y4r,j4r,Q4r,E4r,i4r,I4r){if(B4r(s4r),!k4r){var n4r;if(void 0===s4r)n4r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var A4r=[y4r,j4r,Q4r,E4r,i4r,I4r],J4r=0;(n4r=new Error(s4r.replace(/%s/g,function(){return A4r[J4r++];}))).name="Invariant Violation";}throw n4r.framesToPop=1,n4r;}};},function(X6r,h6r,f6r){"use strict";var r4r=function(){};r4r.thatReturns=u6r,r4r.thatReturnsFalse=u6r(!1),r4r.thatReturnsTrue=u6r(!0),r4r.thatReturnsNull=u6r(null),r4r.thatReturnsThis=function(){return this;},r4r.thatReturnsArgument=function(C6r){return C6r;},X6r.exports=r4r;function u6r(D6r){return function(){return D6r;};}},function(R6r,U6r,w6r){"use strict";var Y6r=w6r(236),c6r=w6r(235),F6r=w6r(234);R6r.exports=function(){q6r.isRequired=q6r;var t6r={array:q6r,bool:q6r,func:q6r,number:q6r,object:q6r,string:q6r,symbol:q6r,any:q6r,arrayOf:o6r,element:q6r,instanceOf:o6r,node:q6r,objectOf:o6r,oneOf:o6r,oneOfType:o6r,shape:o6r,exact:o6r};function q6r(G6r,m6r,K6r,N6r,a6r,l6r){l6r!==F6r&&c6r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");}function o6r(){return q6r;}return t6r.checkPropTypes=Y6r,t6r.PropTypes=t6r,t6r;};},function(g6r,P6r,M6r){"use strict";var b6r=Object.prototype.toString;g6r.exports=function(L6r){var x6r;return"[object Object]"===b6r.call(L6r)&&(null===(x6r=Object.getPrototypeOf(L6r))||x6r===Object.getPrototypeOf({}));};},function(H6r,O6r,T6r){"use strict";Object.defineProperty(O6r,"__esModule",{value:!0}),O6r.default=function(V6r){var v6r,d6r=V6r.Symbol;"function"==typeof d6r?d6r.observable?v6r=d6r.observable:(v6r=d6r("observable"),d6r.observable=v6r):v6r="@@observable";return v6r;};},function(p6r,Z6r){p6r.exports=function(B6r){return B6r.webpackPolyfill||(B6r.deprecate=function(){},B6r.paths=[],B6r.children||(B6r.children=[]),Object.defineProperty(B6r,"loaded",{enumerable:!0,get:function(){return B6r.l;}}),Object.defineProperty(B6r,"id",{enumerable:!0,get:function(){return B6r.i;}}),B6r.webpackPolyfill=1),B6r;};},function(S6r,z6r,W6r){"use strict";(function(n6r,Q6r){Object.defineProperty(z6r,"__esModule",{value:!0});var e6r,s6r,J6r=W6r(239),A6r=(e6r=J6r)&&e6r.__esModule?e6r:{default:e6r};s6r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n6r?n6r:Q6r;var j6r=(0,A6r.default)(s6r);z6r.default=j6r;}.call(this,W6r(29),W6r(240)(S6r)));},function(U2r,q2r,k6r){"use strict";var R2r=function(){function o2r(m2r,G2r){for(var l2r=0;l2r<G2r.length;l2r++){var t2r=G2r[l2r];t2r.enumerable=t2r.enumerable||!1,t2r.configurable=!0,"value"in t2r&&(t2r.writable=!0),Object.defineProperty(m2r,t2r.key,t2r);}}return function(K2r,N2r,a2r){return N2r&&o2r(K2r.prototype,N2r),a2r&&o2r(K2r,a2r),K2r;};}(),y6r=I6r(k6r(0)),Y2r=k6r(17),h2r=I6r(k6r(43));k6r(72);k6r(233),k6r(232);var F2r=k6r(10),i6r=k6r(1),r6r=k6r(16),C2r=I6r(k6r(196)),w2r=I6r(k6r(189)),X2r=I6r(k6r(61)),c2r=I6r(k6r(163)),u2r=k6r(4),f2r=k6r(24),D2r=I6r(k6r(102));var E6r=function(){function g2r(){!function(P2r,M2r){if(!(P2r instanceof M2r))throw new TypeError("Cannot call a class as a function");}(this,g2r),this._id=(0,F2r.getNewId)(),this._store=(0,C2r.default)(this._id),this._componentManager=new c2r.default(this._store),this._hasAttachedPlayer=!1,this._hasAttachedToDom=!1;}return R2r(g2r,[{key:"init",value:function(x2r){var L2r=X2r.default.mergeConfig(x2r);return this._store.dispatch((0,r6r.updateConfig)(L2r)),L2r;}},{key:"getState",value:function(){return(0,h2r.default)({},this._store.getState());}},{key:"getConfig",value:function(){return(0,h2r.default)({},this._store.getState().config);}},{key:"updateConfig",value:function(H2r){var O2r=X2r.default.mergeConfig(H2r,this.getConfig());return this._store.dispatch((0,r6r.updateConfig)(O2r)),O2r;}},{key:"attachPlayer",value:function(T2r){if(this.initialized&&T2r&&T2r!==this._player){var V2r=this.getConfig();this._player=T2r;var d2r=new w2r.default(this._player);if(this._store.dispatch((0,r6r.updatePlayerController)(d2r)),this._hasAttachedPlayer=!0,V2r.autoAttachToDom){var v2r=d2r.getRootElement(),p2r=v2r.querySelector(".top-ui-container");this.attachToDom(p2r,v2r);}}}},{key:"attachToDom",value:function(Z2r,W2r){if(this.initialized&&Z2r){this._containerEl&&this._topUiRootEl&&y6r.default.render("",this._containerEl,this._topUiRootEl),this._containerEl=Z2r,this._store.dispatch((0,r6r.updateContainerElement)(W2r||Z2r)),this._hasAttachedToDom=!0;var B2r=y6r.default.h(Y2r.Provider,{store:this._store},y6r.default.h(D2r.default,null));this._topUiRootEl=y6r.default.render(B2r,Z2r);}}},{key:"registerComponent",value:function(z2r,S2r,e2r){return this._componentManager.registerComponent(z2r,S2r,e2r);}},{key:"deregisterComponent",value:function(n2r,s2r){return this._componentManager.deregisterComponent(n2r,s2r);}},{key:"addComponent",value:function(j2r,Q2r,k2r,i2r,I2r){this.initialized||f2r.uiLogger.warn("[addComponent] UI must be initialized before adding components");var A2r=this.getConfig(),J2r=this._componentManager.addComponentToConfig(A2r,j2r,Q2r,k2r,i2r,I2r);return J2r?this.updateConfig(J2r):J2r;}},{key:"removeComponent",value:function(y2r,r2r){this.initialized||f2r.uiLogger.warn("[addComponent] UI must be initialized before removing components");var E2r=this._componentManager.removeComponentFromConfig(this.getConfig(),y2r,r2r);return E2r?this.updateConfig(E2r):E2r;}},{key:"initialized",get:function(){return Object.keys(this._store.getState().config).length>0;}}]),g2r;}();function I6r(b2r){return b2r&&b2r.__esModule?b2r:{default:b2r};}E6r.preact=y6r.default,E6r.log={filterType:Object.assign({},i6r.LogFilterType)},E6r.names={components:{controls:Object.assign({},i6r.ComponentName[i6r.ComponentType.CONTROLS]),slates:Object.assign({},i6r.ComponentName[i6r.ComponentType.SLATES]),menus:Object.assign({},i6r.ComponentName[i6r.ComponentType.MENUS])},componentTypes:Object.assign({},i6r.ComponentType),deliveryTypes:Object.assign({},i6r.DeliveryType),locations:Object.assign({},i6r.LocationName),themes:Object.assign({},i6r.ThemeName),icons:Object.assign({},u2r.IconType)},E6r.components={Icon:u2r.Icon,Button:u2r.Button},U2r.exports=E6r;}]);});}]);}));function akamaiHandleAdCompleted(){if(akaMediaAnalytics){akaMediaAnalytics.handleAdCompleted();}}function akamaiFragmentDownloadStarted(D1s){var f1s=akaMediaAnalytics.getStream();if(!f1s||!D1s){return;}f1s.streamFragmentDownloadStarted(D1s);}function akamaiUpdateAdObject(S0s){if(akaMediaAnalytics){akaMediaAnalytics.updateAdObject(S0s);}}function akamaiHandleAdFirstQuartile(){if(akaMediaAnalytics){akaMediaAnalytics.handleAdFirstQuartile();}}function akamaiHandleAdError(){if(akaMediaAnalytics){akaMediaAnalytics.handleAdError();}}function akamaiHandleBitRateSwitch(Q0s){if(akaMediaAnalytics){akaMediaAnalytics.handleBitRateSwitch(Q0s);}}function akamaiDisableServerIpLookup(){try{if(akaMediaAnalytics){akaMediaAnalytics.disableServerIpLookUp();}}catch(E0s){}}